(function(){'use strict';function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function g(a){return function(){return this[a]}}function l(a){return function(){return a}}var m,n=this;function q(a){return void 0!==a}function ca(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function fa(a){return null===a}function ga(a){return null!=a}function ha(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ja(a){return"string"==typeof a}function ka(a){return"function"==da(a)}function la(a){return a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;function oa(a,b,c){return a.call.apply(a.bind,arguments)}
function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function qa(a,b,c){qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return qa.apply(null,arguments)}
function ra(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function r(a,b){var c=a.split("."),d=n;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&q(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function t(a,b){function c(){}c.prototype=b.prototype;a.Bb=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.sg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function sa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,sa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}t(sa,Error);sa.prototype.name="CustomError";function ta(a,b,c){this.Tf=c;this.yf=a;this.jg=b;this.kd=0;this.fd=null}ta.prototype.get=function(){var a;0<this.kd?(this.kd--,a=this.fd,this.fd=a.next,a.next=null):a=this.yf();return a};ta.prototype.put=function(a){this.jg(a);this.kd<this.Tf&&(this.kd++,a.next=this.fd,this.fd=a)};var ua=Array.prototype,va=ua.indexOf?function(a,b,c){return ua.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ja(a))return ja(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},wa=ua.forEach?function(a,b,c){ua.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ja(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},xa=ua.map?function(a,b,c){return ua.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),
f=ja(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},ya=ua.reduce?function(a,b,c,d){d&&(b=qa(b,d));return ua.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;wa(a,function(c,h){e=b.call(d,e,c,h,a)});return e},za=ua.some?function(a,b,c){return ua.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ja(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function Aa(a,b,c){return 2>=arguments.length?ua.slice.call(a,b):ua.slice.call(a,b,c)}
function Ba(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b}function Ca(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if("array"==da(d))for(var e=0;e<d.length;e+=8192)for(var f=Ca.apply(null,Aa(d,e,e+8192)),h=0;h<f.length;h++)b.push(f[h]);else b.push(d)}return b};var Da;a:{var Ea=n.navigator;if(Ea){var Fa=Ea.userAgent;if(Fa){Da=Fa;break a}}Da=""}function u(a){return-1!=Da.indexOf(a)};function Ga(){return u("Opera")||u("OPR")}function Ha(){return(u("Chrome")||u("CriOS"))&&!Ga()&&!u("Edge")};function Ia(a){n.setTimeout(function(){throw a;},0)}var Ja;
function Ka(){var a=n.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!u("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=qa(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!u("Trident")&&!u("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(q(c.next)){c=c.next;var a=c.qe;c.qe=null;a()}};return function(a){d.next={qe:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}};function La(){this.sd=this.fc=null}var Na=new ta(function(){return new Ma},function(a){a.reset()},100);La.prototype.add=function(a,b){var c=Na.get();c.set(a,b);this.sd?this.sd.next=c:this.fc=c;this.sd=c};La.prototype.remove=function(){var a=null;this.fc&&(a=this.fc,this.fc=this.fc.next,this.fc||(this.sd=null),a.next=null);return a};function Ma(){this.next=this.scope=this.Fd=null}Ma.prototype.set=function(a,b){this.Fd=a;this.scope=b;this.next=null};
Ma.prototype.reset=function(){this.next=this.scope=this.Fd=null};function Pa(a,b){Qa||Ra();Sa||(Qa(),Sa=!0);Ta.add(a,b)}var Qa;function Ra(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve(void 0);Qa=function(){a.then(Ua)}}else Qa=function(){var a=Ua;!ka(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ja||(Ja=Ka()),Ja(a)):n.setImmediate(a)}}var Sa=!1,Ta=new La;function Ua(){for(var a=null;a=Ta.remove();){try{a.Fd.call(a.scope)}catch(b){Ia(b)}Na.put(a)}Sa=!1};function v(a,b){this.Oa=0;this.Xe=void 0;this.Vc=this.Yb=this.B=null;this.ed=this.Ed=!1;if(a!=ca)try{var c=this;a.call(b,function(a){Va(c,2,a)},function(a){Va(c,3,a)})}catch(d){Va(this,3,d)}}function Wa(){this.next=this.context=this.dc=this.Ec=this.child=null;this.vd=!1}Wa.prototype.reset=function(){this.context=this.dc=this.Ec=this.child=null;this.vd=!1};var Xa=new ta(function(){return new Wa},function(a){a.reset()},100);function Ya(a,b,c){var d=Xa.get();d.Ec=a;d.dc=b;d.context=c;return d}
function w(a){if(a instanceof v)return a;var b=new v(ca);Va(b,2,a);return b}function Za(a){return new v(function(b,c){c(a)})}function $a(a,b,c){ab(a,b,c,null)||Pa(ra(b,a))}function bb(a){return new v(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},h=function(a){c(a)},k=0,p;k<a.length;k++)p=a[k],$a(p,ra(f,k),h);else b(e)})}function cb(){var a,b,c=new v(function(c,e){a=c;b=e});return new db(c,a,b)}
v.prototype.then=function(a,b,c){return eb(this,ka(a)?a:null,ka(b)?b:null,c)};v.prototype.then=v.prototype.then;v.prototype.$goog_Thenable=!0;function fb(a,b,c){eb(a,null,b,c)}function gb(a,b){a.Yb||2!=a.Oa&&3!=a.Oa||hb(a);a.Vc?a.Vc.next=b:a.Yb=b;a.Vc=b}
function eb(a,b,c,d){var e=Ya(null,null,null);e.child=new v(function(a,h){e.Ec=b?function(c){try{var e=b.call(d,c);a(e)}catch(D){h(D)}}:a;e.dc=c?function(b){try{var e=c.call(d,b);!q(e)&&b instanceof ib?h(b):a(e)}catch(D){h(D)}}:h});e.child.B=a;gb(a,e);return e.child}v.prototype.og=function(a){this.Oa=0;Va(this,2,a)};v.prototype.pg=function(a){this.Oa=0;Va(this,3,a)};
function Va(a,b,c){0==a.Oa&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.Oa=1,ab(c,a.og,a.pg,a)||(a.Xe=c,a.Oa=b,a.B=null,hb(a),3!=b||c instanceof ib||jb(a,c)))}function ab(a,b,c,d){if(a instanceof v)return gb(a,Ya(b||ca,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(f){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;e=typeof a;if("object"==e&&null!=a||"function"==e)try{var h=a.then;if(ka(h))return kb(a,h,b,c,d),!0}catch(k){return c.call(d,k),!0}return!1}
function kb(a,b,c,d,e){function f(a){k||(k=!0,d.call(e,a))}function h(a){k||(k=!0,c.call(e,a))}var k=!1;try{b.call(a,h,f)}catch(p){f(p)}}function hb(a){a.Ed||(a.Ed=!0,Pa(a.Df,a))}function lb(a){var b=null;a.Yb&&(b=a.Yb,a.Yb=b.next,b.next=null);a.Yb||(a.Vc=null);return b}
v.prototype.Df=function(){for(var a=null;a=lb(this);){var b=this.Oa,c=this.Xe;if(3==b&&a.dc&&!a.vd)for(var d=void 0,d=this;d&&d.ed;d=d.B)d.ed=!1;if(a.child)a.child.B=null,mb(a,b,c);else try{a.vd?a.Ec.call(a.context):mb(a,b,c)}catch(e){nb.call(null,e)}Xa.put(a)}this.Ed=!1};function mb(a,b,c){2==b?a.Ec.call(a.context,c):a.dc&&a.dc.call(a.context,c)}function jb(a,b){a.ed=!0;Pa(function(){a.ed&&nb.call(null,b)})}var nb=Ia;function ib(a){sa.call(this,a)}t(ib,sa);ib.prototype.name="cancel";
function db(a,b,c){this.ha=a;this.resolve=b;this.reject=c};/*

 Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function x(a,b){this.ma=a;this.m=b||this.ve()}var ob=0;m=x.prototype;m.id=g("ma");m.ve=function(){return{}};m.ef=g("m");m.Ea=function(){return{id:this.ma,value:this.ef()}};m.Kb=function(a){return"#"==a.substr(-1)?this.ma:null};function pb(a){return new x(a.id,a.value)}function qb(a){return new x(ob++,a||{})}function rb(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a.length;++c)var d=a[c].toString(16),b=b+(2>d.length?"0"+d:d);return b};function sb(a){this.type=a}function tb(a){x.call(this,-1,a)}t(tb,x);function ub(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var e=a.length,f=b.length,h=[],k=0;k<e+1;k++)h[k]=[],h[k][0]=0;for(var p=0;p<f+1;p++)h[0][p]=0;for(k=1;k<=e;k++)for(p=1;p<=f;p++)c(a[k-1],b[p-1])?h[k][p]=h[k-1][p-1]+1:h[k][p]=Math.max(h[k-1][p],h[k][p-1]);for(var D=[],k=e,p=f;0<k&&0<p;)c(a[k-1],b[p-1])?(D.unshift(d(k-1,p-1)),k--,p--):h[k-1][p]>h[k][p-1]?k--:p--;return D}function vb(a){return ya(arguments,function(a,c){return a+c},0)}
function wb(a){return vb.apply(null,arguments)/arguments.length}function xb(a){var b=arguments.length;if(2>b)return 0;var c=wb.apply(null,arguments);return vb.apply(null,xa(arguments,function(a){return Math.pow(a-c,2)}))/(b-1)}function yb(a){return Math.sqrt(xb.apply(null,arguments))};var zb="StopIteration"in n?n.StopIteration:{message:"StopIteration",stack:""};function Ab(){}Ab.prototype.next=function(){throw zb;};Ab.prototype.ke=function(){return this};function Bb(a){if(a instanceof Ab)return a;if("function"==typeof a.ke)return a.ke(!1);if(ha(a)){var b=0,c=new Ab;c.next=function(){for(;;){if(b>=a.length)throw zb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function Cb(a,b){if(ha(a))try{wa(a,b,void 0)}catch(c){if(c!==zb)throw c;}else{a=Bb(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(d){if(d!==zb)throw d;}}}function Db(a){if(za(arguments,function(a){return!a.length})||!arguments.length)return new Ab;var b=new Ab,c=arguments,d=Ba(c.length);b.next=function(){if(d){for(var a=xa(d,function(a,b){return c[b][a]}),b=d.length-1;0<=b;b--){if(d[b]<c[b].length-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw zb;};return b};function Eb(a){Fb(a);return a.c.concat()}function Fb(a){if(a.uf!=a.c.length){for(var b=0,c=0;b<a.c.length;){var d=a.c[b];Gb(a.U,d)&&(a.c[c++]=d);b++}a.c.length=c}if(a.uf!=a.c.length){for(var e={},c=b=0;b<a.c.length;)d=a.c[b],Gb(e,d)||(a.c[c++]=d,e[d]=1),b++;a.c.length=c}}function Gb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};/*

 Copyright 2015 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function y(){return new window.Map}function Hb(a){var b=0,c=Array(a.size);a.forEach(function(a,e){c[b++]=e});return c}function z(a){var b=0,c=Array(a.size);a.forEach(function(a){c[b++]=a});return c};var Ib={};r("lf.TransactionType",Ib);Ib.READ_ONLY=0;Ib.READ_WRITE=1;function Jb(a,b){this.La=a;this.ff=b;this.Z=cb()}Jb.prototype.la=function(){try{Kb(this.La)}catch(a){return Za(a)}return(0==this.ff?this.ic():Lb(this)).then(function(a){this.La.la();return a}.bind(this))};function Lb(a){Mb(a);Nb(a);return a.ic()}
function Mb(a){a.La.kb.forEach(function(a,c){var d=this.La.ba().get(c),d=this.I(d.getName(),d.Zb.bind(d)),e=z(a.ya).map(function(a){return a.id()});0<e.length&&fb(d.remove(e),this.Hd,this);e=z(a.na).map(function(a){return a[1]}).concat(z(a.xa));fb(d.put(e),this.Hd,this)},a)}function Nb(a){Ob(a.La).forEach(function(a){var c=this.I(a.getName(),pb),d;c.get([-1]).then(function(a){d=a;return c.remove([])}).then(function(){c.put(d);c.put(a.Ea())},this.Hd.bind(this))},a)}Jb.prototype.Hd=function(a){this.Z.reject(a)};function Pb(a){this.kg=a}Pb.prototype.toString=g("kg");var Rb=new Pb("backstore"),Sb=new Pb("cache"),Tb=new Pb("indexstore"),Ub=new Pb("engine"),Vb=new Pb("runner"),Wb=new Pb("observerregistry"),Xb=new Pb("schema");var Yb=Ga(),Zb=u("Trident")||u("MSIE"),$b=u("Edge"),ac=u("Gecko")&&!(-1!=Da.toLowerCase().indexOf("webkit")&&!u("Edge"))&&!(u("Trident")||u("MSIE"))&&!u("Edge"),bc=-1!=Da.toLowerCase().indexOf("webkit")&&!u("Edge");function cc(){var a=Da;if(ac)return/rv\:([^\);]+)(\)|;)/.exec(a);if($b)return/Edge\/([\d\.]+)/.exec(a);if(Zb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(bc)return/WebKit\/(\S+)/.exec(a)}
(function(){if(Yb&&n.opera){var a=n.opera.version;return ka(a)?a():a}var a="",b=cc();b&&(a=b?b[1]:"");return Zb&&(b=(b=n.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();!u("Android")||Ha()||u("Firefox")||Ga();Ha();function A(a){return q(a)?new window.Set(a):new window.Set}function dc(a){var b=0,c=Array(a.size);a.forEach(function(a){c[b++]=a});return c}function ec(a,b){if(b.size>a.size)return!1;var c=!0;b.forEach(function(b){c=c&&a.has(b)});return c};function fc(a,b){this.ma=a;this.m=b||{}}function gc(a){var b=A();a.forEach(function(a){b.add(a>>9)});return dc(b)}fc.prototype.Y=g("ma");function hc(a,b){b.forEach(function(a){this.m[a.id()]=a.Ea()},a)}function ic(a,b){b.forEach(function(a){delete this.m[a]},a)}fc.prototype.Ea=function(){return{id:this.ma,value:JSON.stringify(this.m)}};function jc(a){return new fc(a.id,JSON.parse(a.value))};function kc(a,b,c){this.X=a;this.Gb=b;this.Ye=c}m=kc.prototype;m.get=function(a){if(0==a.length)return this.rc();var b=this.Gb;return lc(this,a).then(function(c){return a.map(function(a){var e=c.get(a>>9);return b(e.m[a])})})};function lc(a,b){var c=y(),d=cb(),e=gc(b).map(function(a){return new v(function(b,d){var e;try{e=this.X.get(a)}catch(D){d(D);return}e.onerror=d;e.onsuccess=function(a){a=jc(a.target.result);c.set(a.Y(),a);b()}},this)},a);bb(e).then(function(){d.resolve(c)});return d.ha}
m.rc=function(){return new v(function(a,b){var c=[],d;try{d=this.X.openCursor()}catch(e){b(e);return}d.onerror=b;d.onsuccess=function(){var b=d.result;if(b){var e;e=jc(b.value).m;for(var k in e)c.push(this.Gb(e[k]));b.continue()}else a(c)}.bind(this)},this)};m.Nb=function(a){return new v(function(b,c){var d;try{d=a()}catch(e){c(e);return}d.onsuccess=b;d.onerror=c},this)};
m.put=function(a){if(0==a.length)return w();var b=y();a.forEach(function(a){var d;d=a.id()>>9;var e=b.get(d)||null;null===e&&(e=this.Ye(this.X.name,d));hc(e,[a]);b.set(d,e)},this);a=z(b).map(function(a){return this.Nb(function(){return this.X.put(a.Ea())}.bind(this))},this);return bb(a)};
m.remove=function(a){if(0==a.length)return this.Nb(function(){return this.X.clear()}.bind(this));var b=y();a.forEach(function(a){var d=a>>9,e=b.get(d)||null;null===e&&(e=this.Ye(this.X.name,d));ic(e,[a]);b.set(d,e)},this);a=z(b).map(function(a){return this.Nb(function(){return 0==Object.keys(a.m).length?this.X.delete(a.Y()):this.X.put(a.Ea())}.bind(this))},this);return bb(a)};function mc(a,b,c){a=a.l(Sb);var d=[c<<9,(c+1<<9)-1];b=a.$a(b,d[0],d[1]);c=new fc(c);hc(c,b);return c}
function nc(a,b){return new fc(b)};function oc(){};function pc(a){this.ja=a.l(Sb);this.F=a.l(Tb);this.o=a.l(Xb)}pc.prototype.update=function(a){a.forEach(function(a){qc(this,a);rc(this,a)},this)};function rc(a,b){var c=b.getName();b.ya.forEach(function(a,b){this.ja.remove(c,b)},a);b.xa.forEach(function(a){this.ja.set(c,a)},a);b.na.forEach(function(a){this.ja.set(c,a[1])},a)}function qc(a,b){var c=a.o.table(b.getName());sc(b).forEach(function(a){tc(this,c,a)},a)}
function tc(a,b,c){var d=[];(a.F.Kc.get(b.getName())||[]).forEach(function(a){try{uc(a,c),d.push(a)}catch(b){throw d.forEach(function(a){uc(a,[c[1],c[0]])},this),b;}},a)}function uc(a,b){var c=null===b[1]?void 0:b[1].Kb(a.getName()),d=null===b[0]?void 0:b[0].Kb(a.getName());if(!q(d)&&q(c))a.add(c,b[1].id());else if(q(d)&&q(c)){if(null===c||null===d){if(c==d)return}else if(0==a.jc().compare(d,c))return;a.add(c,b[1].id());a.remove(d,b[0].id())}else q(d)&&!q(c)&&a.remove(d,b[0].id())};var vc={};r("lf.ConstraintAction",vc);vc.RESTRICT=0;vc.CASCADE=1;var wc={};r("lf.ConstraintTiming",wc);wc.IMMEDIATE=0;wc.DEFERRABLE=1;var xc={};r("lf.Order",xc);xc.DESC=0;xc.ASC=1;var yc={};r("lf.Type",yc);yc.ARRAY_BUFFER=0;yc.BOOLEAN=1;yc.DATE_TIME=2;yc.INTEGER=3;yc.NUMBER=4;yc.STRING=5;yc.OBJECT=6;var zc={0:null,1:!1,2:Object.freeze(new Date(0)),3:0,4:0,5:"",6:null};r("lf.type.DEFAULT_VALUES",zc);function B(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments.length)for(var c=1;c<=Math.min(4,arguments.length-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(String(arguments[c].toString().slice(0,64)))}t(B,Error);function Ac(a){this.F=a.l(Tb);this.o=a.l(Xb);this.Zc=null}function Bc(a,b,c){var d=b.wb().Yf;c.forEach(function(a){d.forEach(function(b){if(null==a.m[b.getName()])throw new B(202,b.j());},this)},a)}function Cc(a,b,c,d){b.wb().Gd().forEach(function(a){a.timing==d&&Dc(this,a,c)},a)}function Dc(a,b,c){var d=Ec(a,b);c.forEach(function(a){if(Gc(a[0],a[1],b.name)&&(a=a[1].m[b.Db],null!==a&&!d.Ya(a)))throw new B(203,b.name);},a)}
function Ec(a,b){null===a.Zc&&(a.Zc=y());var c=a.Zc.get(b.name)||null;null===c&&(c=a.o.table(b.rb)[b.Fc].sa(),c=a.F.get(c.j()),a.Zc.set(b.name,c));return c}function Gc(a,b,c){return(null===a?null!==b:null===b)||a.Kb(c)!=b.Kb(c)}function Hc(a,b,c,d){b=Ic(a.o.info(),b.getName());null!=b&&b.forEach(function(a){if(a.timing==d){var b=this.F.get(a.name),h=Ec(this,a);c.forEach(function(c){if(Gc(c[0],c[1],h.getName())&&b.Ya(c[0].m[a.Fc]))throw new B(203,a.name);},this)}},a)}
function Jc(a,b,c,d){0!=c.length&&(c=c.map(function(a){return[null,a]}),Cc(a,b,c,d))}function Kc(a,b,c,d){0!=c.length&&(Cc(a,b,c,d),Hc(a,b,c,d))}function Lc(a,b,c,d){0!=c.length&&(c=c.map(function(a){return[a,null]}),Hc(a,b,c,d))};function Mc(a){this.xa=y();this.na=y();this.ya=y();this.s=a}m=Mc.prototype;m.getName=g("s");m.add=function(a){if(this.ya.has(a.id())){var b=[this.ya.get(a.id()),a];this.na.set(a.id(),b);this.ya.delete(a.id())}else this.xa.set(a.id(),a)};m.modify=function(a){var b=a[1],c=a[0].id();this.xa.has(c)?this.xa.set(c,b):(this.na.has(c)&&(a=[this.na.get(a[0].id())[0],b]),this.na.set(c,a))};
m.delete=function(a){if(this.xa.has(a.id()))this.xa.delete(a.id());else if(this.na.has(a.id())){var b=this.na.get(a.id())[0];this.na.delete(a.id());this.ya.set(a.id(),b)}else this.ya.set(a.id(),a)};function sc(a){var b=[];a.xa.forEach(function(a){b.push([null,a])});a.na.forEach(function(a){b.push(a)});a.ya.forEach(function(a){b.push([a,null])});return b}m.toString=function(){return"["+Hb(this.xa).toString()+"], ["+Hb(this.na).toString()+"], ["+Hb(this.ya).toString()+"]"};
function Nc(a){var b=new Mc(a.s);a.xa.forEach(function(a){b.delete(a)});a.ya.forEach(function(a){b.add(a)});a.na.forEach(function(a){b.modify([a[1],a[0]])});return b}m.Of=function(){return 0==this.xa.size&&0==this.ya.size&&0==this.na.size};function Oc(a,b){this.pa=y();b.forEach(function(a){this.pa.set(a.getName(),a)},this);this.ja=a.l(Sb);this.F=a.l(Tb);this.Ja=new Ac(a);this.gd=new pc(a);this.kb=y()}function Ob(a){var b=[];Hb(a.kb).map(function(a){return this.pa.get(a)},a).forEach(function(a){a.zb()&&(a.za().forEach(function(a){b.push(this.F.get(a.j()))},this),b.push(this.F.get(a.getName()+".#")))},a);return b}m=Oc.prototype;m.ba=g("pa");
function Pc(a){var b=[];a.pa.forEach(function(a){a.zb()&&(a.za().forEach(function(a){b.push(a.j())}),b.push(a.getName()+".#"))});return b}m.pb=function(a,b){Qc(this,a);Bc(this.Ja,a,b);Jc(this.Ja,a,b,0);for(var c=0;c<b.length;c++)Rc(this,a,[null,b[c]])};
function Rc(a,b,c){var d=b.getName(),e=a.kb.get(d)||new Mc(d);a.kb.set(d,e);try{tc(a.gd,b,c)}catch(f){throw f;}b=c[0];var h=c[1];null===b&&null!==h?(a.ja.set(d,h),e.add(h)):null!==b&&null!==h?(a.ja.set(d,h),e.modify(c)):null!==b&&null===h&&(a.ja.remove(d,b.id()),e.delete(b))}m.update=function(a,b){Qc(this,a);Bc(this.Ja,a,b);for(var c=0;c<b.length;c++){var d=b[c],d=[this.ja.get(d.id()),d];Kc(this.Ja,a,[d],0);Rc(this,a,d)}};
m.Jd=function(a,b){Qc(this,a);Bc(this.Ja,a,b);for(var c=0;c<b.length;c++){var d=b[c],e=null,f,h=a.wb().bd();if(null===h)f=null;else{f=this.Ja;var h=h.j(),k=d.Kb(h);f=f.F.get(h).get(k);f=0==f.length?null:f[0]}null!=f?(e=this.ja.get(f),d.ma=f,Kc(this.Ja,a,[[e,d]],0)):Jc(this.Ja,a,[d],0);Rc(this,a,[e,d])}};m.remove=function(a,b){Qc(this,a);Lc(this.Ja,a,b,0);for(var c=0;c<b.length;c++)Rc(this,a,[b[c],null])};
function Kb(a){a.kb.forEach(function(a){var c=this.pa.get(a.getName());Jc(this.Ja,c,z(a.xa),1);Lc(this.Ja,c,z(a.ya),1);Kc(this.Ja,c,z(a.na),1)},a)}m.la=aa();m.Ab=function(){var a=z(this.kb).map(function(a){return Nc(a)});this.gd.update(a)};function Qc(a,b){if(!a.pa.has(b.getName()))throw new B(106,b.getName());};function Sc(a,b,c,d){this.b=a;this.u=b;this.$=null===this.b?!1:c;this.ka=null===this.u?!1:d}Sc.prototype.toString=function(){return(this.$?"(":"[")+(null===this.b?"unbound":this.b)+", "+(null===this.u?"unbound":this.u)+(this.ka?")":"]")};function Tc(a){if(null===a.b&&null===a.u)return[];var b=null,c=null;null===a.b||(b=new Sc(null,a.b,!1,!a.$));null===a.u||(c=new Sc(a.u,null,!a.ka,!1));return[b,c].filter(function(a){return null!==a})}
Sc.prototype.reverse=function(){return new Sc(this.u,this.b,this.ka,this.$)};function Uc(a,b){var c=Vc(a.b,b.b,!0,a.$,b.$);if(0==c)return!0;var d=-1==c?a:b,c=1==c?a:b;return null===d.u||d.u>c.b||d.u==c.b&&!d.ka&&!c.$}function Wc(){return new Sc(null,null,!1,!1)}function Xc(a){return null===a.b&&null===a.u}function Yc(a){return null!=a.b&&a.b==a.u&&!a.$&&!a.ka}Sc.prototype.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.ka;return(null===this.b||a>this.b||a==this.b&&!this.$)&&b};
function Vc(a,b,c,d,e){function f(a){return c?a:1==a?-1:1}d=d||!1;e=e||!1;return null===a?null===b?(d?!e:e)?d?f(1):f(-1):0:f(-1):null===b?f(1):a<b?-1:a==b?(d?!e:e)?d?f(1):f(-1):0:1}function Zc(a,b){var c=Vc(a.b,b.b,!0,a.$,b.$);0==c&&(c=Vc(a.u,b.u,!1,a.ka,b.ka));return c};function C(a,b){this.entries=a;this.J=A(b);this.Sa=null}function E(a){return dc(a.J)}function $c(a){return a.entries.map(function(a){return a.ra.m})}function ad(a){return a.entries.map(function(a){return a.ra.id()})}function bd(a,b){return a.Sa.get(b.j())}var cd=null;function dd(){null===cd&&(cd=new C([],[]));return cd}
function ed(a){if(0==a.length)return dd();for(var b=a.reduce(function(a,b){return a+b.entries.length},0),c=Array(b),d=0,b=a.map(function(a){var b=y();a.entries.forEach(function(a){c[d++]=a;b.set(a.id,a)});return b}),e=y(),f=0;f<c.length;f++)b.every(function(a){return a.has(c[f].id)})&&e.set(c[f].id,c[f]);return new C(z(e),dc(a[0].J))}function fd(a){if(0==a.length)return dd();var b=y();a.forEach(function(a){a.entries.forEach(function(a){b.set(a.id,a)})});return new C(z(b),dc(a[0].J))}
function gd(a,b){var c=1<b.length,d=a.map(function(a){return new hd(a,c)});return new C(d,b)}function hd(a,b){this.ra=a;this.id=id++;this.Md=b}var id=0;function F(a,b){var c=b.Ta();return null!==c&&a.ra.m.hasOwnProperty(c)?a.ra.m[c]:a.Md?a.ra.m[G(b.I())][b.getName()]:a.ra.m[b.getName()]}function jd(a,b,c){var d=b.Ta();if(null!=d)a.ra.m[d]=c;else if(a.Md){var d=G(b.I()),e=a.ra.m[d];null==e&&(e={},a.ra.m[d]=e);e[b.getName()]=c}else a.ra.m[b.getName()]=c}
function kd(a,b,c,d){function e(a,b){if(a.Md){var c=a.ra.m,d;for(d in c)f[d]=c[d]}else f[b[0]]=a.ra.m}var f={};e(a,b);e(c,d);a=new x(-1,f);return new hd(a,!0)};r("lf.bind",function(a){return new H(a)});function H(a){this.ca=a}r("lf.Binder",H);H.prototype.sa=g("ca");function ld(){this.He=md();var a=nd();this.bc=y();this.bc.set(1,od());this.bc.set(2,pd());this.bc.set(4,a);this.bc.set(3,a);this.bc.set(5,qd())}ld.sc=function(){return ld.De?ld.De:ld.De=new ld};function rd(a,b,c){return(a.bc.get(b)||null).get(c)||null}function md(){function a(a){return a}var b=y();b.set(1,function(a){return null===a?null:a?1:0});b.set(2,function(a){return null===a?null:a.getTime()});b.set(3,a);b.set(4,a);b.set(5,a);return b}
function od(){var a=y();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function nd(){var a=od();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return null===a||null===c?!1:a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c.indexOf(a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}
function qd(){var a=nd();a.set("match",function(a,c){return null===a||null===c?!1:(new RegExp(c)).test(a)});return a}
function pd(){var a=y();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a.getTime()>=c[0].getTime()&&a.getTime()<=c[1].getTime()});a.set("eq",function(a,c){return(null===a?-1:a.getTime())==(null===c?-1:c.getTime())});a.set("gte",function(a,c){return null===a||null===c?!1:a.getTime()>=c.getTime()});a.set("gt",function(a,c){return null===a||null===c?!1:a.getTime()>c.getTime()});a.set("in",function(a,c){return c.some(function(c){return c.getTime()==a.getTime()})});a.set("lte",
function(a,c){return null===a||null===c?!1:a.getTime()<=c.getTime()});a.set("lt",function(a,c){return null===a||null===c?!1:a.getTime()<c.getTime()});a.set("neq",function(a,c){return(null===a?-1:a.getTime())!=(null===c?-1:c.getTime())});return a};function I(){this.g=this.B=null}var sd=[];I.prototype.getParent=g("B");I.prototype.ab=function(){for(var a=this;!fa(a.getParent());)a=a.getParent();return a};function td(a){for(var b=0;!fa(a.getParent());)b++,a=a.getParent();return b}function J(a){return a.g||sd}function ud(a,b){return J(a)[b]||null}function vd(a,b,c){b.B=a;null===a.g?a.g=[b]:a.g.splice(c,0,b)}function K(a,b){b.B=a;null===a.g?a.g=[b]:a.g.push(b)}
function wd(a,b){var c=a.g&&a.g[b];return c?(c.B=null,a.g.splice(b,1),0==a.g.length&&(a.g=null),c):null}I.prototype.removeChild=function(a){return wd(this,J(this).indexOf(a))};function xd(a,b,c){ud(a,c).B=null;b.B=a;a.g[c]=b}function yd(a,b,c){!1!==b.call(c,a)&&J(a).forEach(function(a){yd(a,b,c)})};function zd(){I.call(this);this.ma=Ad++}t(zd,I);var Ad=0;zd.prototype.Y=g("ma");function Bd(a,b,c){zd.call(this);this.K=a;this.value=b;this.D=c;this.nc=rd(ld.sc(),this.K.L(),this.D);this.Ua=!1;this.Xb=b}t(Bd,zd);m=Bd.prototype;m.Eb=function(){var a=new Bd(this.K,this.value,this.D);a.Xb=this.Xb;a.qd(this.Ua);var b=this.Y();a.ma=b;return a};m.Za=function(a){return null!=a?(a.push(this.K),a):[this.K]};m.qd=ba("Ua");function Cd(a){var b=!1;a.value instanceof H||(b="array"==da(a.value)?!a.value.some(function(a){return a instanceof H}):!0);if(!b)throw new B(501);}
m.eval=function(a){Cd(this);if("in"==this.D)return Dd(this,a);var b=a.entries.filter(function(a){return this.nc(F(a,this.K),this.value)!=this.Ua},this);return new C(b,E(a))};m.bind=function(a){if(this.Xb instanceof H){var b=this.Xb.sa();if(a.length<=b)throw new B(510);this.value=a[b]}else"array"==da(this.Xb)&&(this.value=this.Xb.map(function(b){if(b instanceof H){var d=b.sa();if(a.length<=d)throw new B(510);return a[b.sa()]}return b}))};
function Dd(a,b){var c=A(a.value),d=function(a){return null===a?!1:c.has(a)!=this.Ua}.bind(a),e=b.entries.filter(function(a){return d(F(a,this.K))},a);return new C(e,E(b))}m.toString=function(){return"value_pred("+this.K.j()+" "+this.D+(this.Ua?"(complement)":"")+" "+this.value+")"};function Ed(a){this.ea=a;this.Wc=this.va=null}function Fd(a,b){null===a.va&&null!=a.A&&(a.va=Gd(a.A));return a.va.get(b)||null}function Gd(a){var b=y();yd(a,function(a){b.set(a.Y(),a)});return b}function Hd(a,b){b.A&&(a.A=b.A.Eb());a.Wc=b}Ed.prototype.bind=function(){return this};function Id(a,b){var c=a.A;null!=c&&yd(c,function(a){a instanceof Bd&&a.bind(b)})};function Jd(a){Ed.call(this,a)}t(Jd,Ed);function Kd(a){var b="";a.forEach(function(c,d){b+=c.K.j()+" ";b+=1==c.eb?"ASC":"DESC";d<a.length-1&&(b+=", ")});return b}Jd.prototype.ba=function(){return A(this.b)};Jd.prototype.clone=function(){var a=new Jd(this.ea);Hd(a,this);this.f&&(a.f=this.f.slice());this.b&&(a.b=this.b.slice());a.W=this.W;a.N=this.N;this.M&&(a.M=this.M.slice());this.fa&&(a.fa=this.fa.slice());this.Lb&&(a.Lb=this.Lb);this.Sb&&(a.Sb=this.Sb);a.qb=this.qb;return a};
Jd.prototype.bind=function(a){Jd.Bb.bind.call(this,a);null!=this.Lb&&(this.W=a[this.Lb.sa()]);null!=this.Sb&&(this.N=a[this.Sb.sa()]);Id(this,a);return this};function Ld(a,b){this.wa=a;this.pa=b}Ld.prototype.ab=g("wa");Ld.prototype.ba=g("pa");function Md(a){var b=A();a.forEach(function(a){a.ba().forEach(b.add.bind(b))});return b};function Nd(a,b){this.global=a;this.tb=a.l(Rb);this.nd=b.map(function(a){return a.context});this.Re=b.map(function(a){return a.Xd});this.te=Md(this.Re);this.gf=Od(this);this.Pb=cb()}function Od(a){return a.nd.some(function(a){return!(a instanceof Jd)})?1:0}m=Nd.prototype;
m.exec=function(){function a(){var f=d.shift();if(f){var h=e[c.length];return f.ab().exec(b,h).then(function(b){c.push(b[0]);return a()})}return w()}var b=new Oc(this.global,this.te),c=[],d=this.Re.slice(),e=this.nd;return a().then(function(){return this.tb.Fb(this.gf,b).la()}.bind(this)).then(function(){this.Ud(c);return c}.bind(this),function(a){b.Ab();throw a;})};m.L=g("gf");m.ba=g("te");m.tc=g("Pb");m.Y=function(){return la(this)};m.Ud=aa();function Pd(a,b){Nd.call(this,a,b);this.yb=a.l(Wb)}t(Pd,Nd);Pd.prototype.getPriority=l(0);Pd.prototype.Ud=function(a){this.nd.forEach(function(b,c){Qd(this.yb,b,a[c])},this)};function Rd(a,b){this.i=a;this.yb=a.l(Wb);this.Na=a.l(Vb);this.gd=new pc(a);this.kb=b;var c=a.l(Xb),d=this.kb.map(function(a){return c.table(a.getName())});this.pa=A(d);this.Pb=cb()}m=Rd.prototype;m.exec=function(){this.gd.update(this.kb);this.Ic();return w()};m.L=l(1);m.ba=g("pa");m.tc=g("Pb");m.Y=function(){return la(this)};m.getPriority=l(1);m.Ic=function(){var a=Sd(this.yb,this.pa);0!=a.length&&(a=new Pd(this.i,a),Td(this.Na,a))};function Ud(a){this.i=a;this.tb=a.l(Rb);this.Na=a.l(Vb)}Ud.prototype.Sd=function(a){a=new Rd(this.i,a);Td(this.Na,a)};function L(a,b){this.Ub=a;this.h=b;this.Qa=y()}r("lf.backstore.FirebaseRawBackStore",L);L.prototype.cd=g("h");L.prototype.dd=function(){throw new B(351);};function Vd(a,b){var c=cb(),d=a;b.length&&(d=a.child(b));d.once("value",function(a){c.resolve(a.val())},function(a){c.reject(a)});return c.ha}function Wd(a,b,c){function d(a){a?e.reject(a):e.resolve()}c=c||!1;var e=cb();c?a.set(b,d):a.update(b,d);return e.ha}
L.prototype.Aa=function(a){return Vd(this.h,"@rev/R").then(function(a){this.Ga=a;return Vd(this.h,"@table")}.bind(this)).then(function(b){var c=0,d;for(d in b)this.Qa.set(d,b[d]),b[d]>c&&(c=b[d]);a.Ha().forEach(function(a){this.Qa.has(a.getName())||(b[a.getName()]=++c)},this);d=this.h.child("@table");return Wd(d,b)}.bind(this))};
function Xd(a,b,c){var d=a.Qa.get(b);return null!=d?function(){var a={},b=cb();this.h.orderByChild("T").equalTo(d).once("value",function(d){d.forEach(function(b){var d=c(b.val());a[parseInt(b.key(),10)]=d});b.resolve(a)});return b.ha}.call(a).then(function(a){a["@rev"]={R:++this.Ga};return Wd(this.h,a)}.bind(a)):w()}L.prototype.lc=function(a){return Xd(this,a,l(null)).then(function(){this.Qa.delete(a);return Wd(this.h.child("@table/"+a),null,!0)}.bind(this))};L.prototype.dropTable=L.prototype.lc;
L.prototype.gc=function(a,b,c){return Xd(this,a,function(a){var e=a.P;e[b]=c;return{R:this.Ga+1,T:a.T,P:e}}.bind(this))};L.prototype.addTableColumn=L.prototype.gc;L.prototype.mc=function(a,b){return Xd(this,a,function(a){var d=a.P;delete d[b];return{R:this.Ga+1,T:a.T,P:d}}.bind(this))};L.prototype.dropTableColumn=L.prototype.mc;L.prototype.Hc=function(a,b,c){return Xd(this,a,function(a){var e=a.P;e[c]=e[b];delete e[b];return{R:this.Ga+1,T:a.T,P:e}}.bind(this))};L.prototype.renameTableColumn=L.prototype.Hc;
L.prototype.ub=function(){throw new B(351);};L.prototype.createRow=L.prototype.ub;L.prototype.wc=g("Ub");L.prototype.getVersion=L.prototype.wc;L.prototype.$b=function(a){var b=cb();a=this.Qa.get(a);this.h.orderByChild("T").equalTo(a).once("value",function(a){var d=[];a.forEach(function(a){d.push(a.val().P)});b.resolve(d)});return b.ha};L.prototype.dump=function(){var a={},b=Hb(this.Qa).map(function(b){return this.$b(b).then(function(d){a[b]=d})}.bind(this));return bb(b).then(function(){return a})};
L.prototype.dump=L.prototype.dump;function Yd(a,b,c){Jb.call(this,c,b);this.h=a}t(Yd,Jb);Yd.prototype.I=function(a){return this.h.uc(a)};
Yd.prototype.ic=function(){var a=this.La.kb;if(0==a.size)this.Z.resolve();else{var b=this.h.Ga+1;this.h.Ga=b;var c={"@rev":{R:b}};a.forEach(function(a,e){var f=this.h.Qa.get(e);a.xa.forEach(function(a,d){c[d]={R:b,T:f,P:a.m}});a.na.forEach(function(a,d){c[d]={R:b,T:f,P:a[1].m}});a.ya.forEach(function(a,b){c[b]=null})},this);this.h.h.update(c,function(c){null===c?this.Z.resolve():(this.h.Ga=b-1,c=z(a).map(function(a){return Zd(this.h,a.getName())},this),bb(c).then(this.Z.reject.bind(this.Z),this.Z.reject.bind(this.Z)))}.bind(this))}return this.Z.ha};function $d(){this.mb=y()}function ae(a,b){if(0==b.length)return z(a.mb);var c=[];b.forEach(function(a){a=this.mb.get(a)||null;null===a||c.push(a)},a);return c}$d.prototype.getData=g("mb");$d.prototype.get=function(a){return w(ae(this,a))};function be(a,b){b.forEach(function(a){this.mb.set(a.id(),a)},a)}$d.prototype.put=function(a){be(this,a);return w()};function ce(a,b){0==b.length||b.length==a.mb.size?a.mb.clear():b.forEach(function(a){this.mb.delete(a)},a)}
$d.prototype.remove=function(a){ce(this,a);return w()};function de(a){return 0==a.mb.size?0:Hb(a.mb).reduce(function(a,c){return a>c?a:c},0)};function ee(a,b){this.o=a;this.nf=b;this.Gc=y();this.Ga=-1;this.J=y();this.Qa=y();this.yd=null}m=ee.prototype;
m.Aa=function(a){this.h=this.nf.child(this.o.name());var b=a||function(){return w()};return Vd(this.h,"@db/version").then(function(a){return null===a?Wd(this.h,fe(this),!0).then(function(){var a=new L(0,this.h);return b(a)}.bind(this)):a==this.o.version()?Vd(this.h,"@rev/R").then(function(a){this.Ga=a;return Vd(this.h,"@table")}.bind(this)).then(function(a){for(var b in a)this.Qa.set(b,a[b]);a=this.o.Ha().map(function(a){return Zd(this,a.getName())},this);return bb(a)}.bind(this)).then(function(){ge(this);
he(this);return w()}.bind(this)):this.Vd(a,b).then(function(){return this.Aa()}.bind(this))}.bind(this))};m.Vd=function(a,b){var c=new L(a,this.h);return c.Aa(this.o).then(function(){return w()}.bind(this)).then(function(){return b(c)}).then(function(){var a=this.h.child("@db");return Wd(a,{version:this.o.version()},!0)}.bind(this))};
function he(a){a.h.off();a.h.on("child_removed",a.$f.bind(a));a.zd&&(a.zd.off(),a.Gc.clear());a.zd=a.h.orderByChild("R").startAt(a.Ga+1);a.zd.on("value",a.Sd.bind(a))}function ge(a){ob=z(a.J).map(function(a){return de(a)}).reduce(function(a,c){return a>c?a:c},0)+1}m.$f=function(a){var b=a.val(),c=this.Gc.get(b.T)||null;null===c&&(c=A(),this.Gc.set(b.T,c));c.add(parseInt(a.key(),10))};
m.Sd=function(a){var b=a.child("@rev/R").val();null!=b&&b!=this.Ga&&(this.Ga=b,a=ie(this,a),a.forEach(function(a){var b=this.J.get(a.getName()),e=Hb(a.ya);0<e.length&&ce(b,e);var f=z(a.xa);a.na.forEach(function(a){f.push(a[1])});be(b,f)},this),0<a.length&&this.Bc(a),he(this))};
function ie(a,b){var c=A(),d=y();a.Qa.forEach(function(a,b){var h=this.J.get(b),k=new Mc(b);if(this.Gc.has(a)){var p=dc(this.Gc.get(a));p.forEach(function(a){c.add(a)});ae(h,p).forEach(function(a){k.delete(a)})}d.set(a,k)}.bind(a));b.forEach(function(a){if("@rev"!=a.key()){var b=parseInt(a.key(),10);if(!c.has(b)){a=a.val();var h=d.get(a.T),k=this.J.get(h.getName());k.getData().has(b)?h.modify([ae(k,[b])[0],new x(b,a.P)]):h.add(new x(b,a.P))}}}.bind(a));return z(d).filter(function(a){return!a.Of()})}
function Zd(a,b){var c=cb(),d=a.Qa.get(b);a.h.orderByChild("T").equalTo(d).once("value",function(a){var d=new $d,h=[];a.forEach(function(a){h.push(new x(parseInt(a.key(),10),a.val().P))});be(d,h);this.J.set(b,d);c.resolve()}.bind(a));return c.ha}function fe(a){var b={};b["@db"]={version:a.o.version()};b["@rev"]={R:1};a.Ga=1;b["@table"]={};a.o.Ha().forEach(function(a,d){var e=a.getName();b["@table"][e]=d;this.J.set(e,new $d);this.Qa.set(e,d)},a);return b}m.Fb=function(a,b){return new Yd(this,a,b)};
m.uc=function(a){var b=this.J.get(a)||null;if(null!==b)return b;throw new B(101,a);};m.close=aa();m.subscribe=ba("yd");m.Bc=function(a){null!=this.yd&&this.yd(a)};function M(a,b,c,d){this.h=b;this.Ia=c;this.Ub=a;this.Tc=d}r("lf.backstore.IndexedDBRawBackStore",M);M.prototype.cd=g("h");M.prototype.getRawDBInstance=M.prototype.cd;M.prototype.dd=g("Ia");M.prototype.getRawTransaction=M.prototype.dd;M.prototype.lc=function(a){return new v(function(b,c){try{this.h.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};M.prototype.dropTable=M.prototype.lc;
function je(a,b,c,d){return new v(function(a,f){var h;try{var k=this.Ia.objectStore(b);h=k.openCursor()}catch(p){f(p);return}h.onsuccess=function(){var b=h.result;b?(c(b),b.continue()):(d(k),a())};h.onerror=f},a)}function ke(a){var b=null;return b=a instanceof ArrayBuffer?rb(a):a instanceof Date?a.getTime():a}
function le(a,b,c){function d(a){var b=jc(a.value),d=b.m,e;for(e in d){var D=pb(d[e]);c(D);d[e]=D.Ea()}a.update(b.Ea())}function e(a){var b=pb(a.value);c(b);a.update(b.Ea())}return je(a,b,a.Tc?d:e,aa())}M.prototype.gc=function(a,b,c){var d=ke(c);return le(this,a,function(a){a.m[b]=d})};M.prototype.addTableColumn=M.prototype.gc;M.prototype.mc=function(a,b){return le(this,a,function(a){delete a.m[b]})};M.prototype.dropTableColumn=M.prototype.mc;
M.prototype.Hc=function(a,b,c){return le(this,a,function(a){a.m[c]=a.m[b];delete a.m[b]})};M.prototype.renameTableColumn=M.prototype.Hc;function me(a,b){var c=[];return new v(function(a,e){var f;try{f=this.Ia.objectStore(b).openCursor()}catch(h){e(h);return}f.onsuccess=function(){var b=f.result;if(b){if(this.Tc){var e;e=jc(b.value).m;for(var h in e)c.push(e[h])}else c.push(b.value);b.continue()}else a(c)}.bind(this);f.onerror=e},a)}M.prototype.ub=function(a){var b={},c;for(c in a)b[c]=ke(a[c]);return qb(b)};
M.prototype.createRow=M.prototype.ub;M.prototype.wc=g("Ub");M.prototype.getVersion=M.prototype.wc;M.prototype.dump=function(){for(var a=this.h.objectStoreNames,b=[],c=0;c<a.length;++c){var d=a.item(c);b.push(this.$b(d))}return bb(b).then(function(b){var c={};b.forEach(function(b,d){c[a.item(d)]=b});return c})};M.prototype.dump=M.prototype.dump;M.prototype.$b=function(a){return me(this,a).then(function(a){return a.map(function(a){return a.value})})};function ne(a,b){this.X=a;this.Gb=b}m=ne.prototype;m.get=function(a){if(0==a.length)return this.rc();a=a.map(function(a){return new v(function(c,d){var e;try{e=this.X.get(a)}catch(f){d(f);return}e.onerror=d;e.onsuccess=function(a){c(this.Gb(a.target.result))}.bind(this)},this)},this);return bb(a)};
m.rc=function(){return new v(function(a,b){var c=[],d;try{d=this.X.openCursor()}catch(e){b(e);return}d.onerror=b;d.onsuccess=function(){var b=d.result;b?(c.push(this.Gb(b.value)),b.continue()):a(c)}.bind(this)},this)};m.Nb=function(a){return new v(function(b,c){var d;try{d=a()}catch(e){c(e);return}d.onsuccess=b;d.onerror=c},this)};m.put=function(a){if(0==a.length)return w();a=a.map(function(a){return this.Nb(function(){return this.X.put(a.Ea())}.bind(this))},this);return bb(a)};
m.remove=function(a){return new v(function(b,c){var d=this.X.count();d.onsuccess=function(d){if(0==a.length||d.target.result==a.length)return this.Nb(function(){return this.X.clear()}.bind(this)).then(b,c);d=a.map(function(a){return this.Nb(function(){return this.X.delete(a)}.bind(this))},this);bb(d).then(b,c)}.bind(this);d.onerror=c},this)};function oe(a,b,c,d,e){Jb.call(this,c,d);this.i=a;this.Ia=b;this.Tc=e;this.Ia.oncomplete=this.Z.resolve.bind(this.Z);this.Ia.onabort=this.Z.reject.bind(this.Z)}t(oe,Jb);oe.prototype.I=function(a,b,c){return this.Tc?(c=null!=c?c:0,a=this.Ia.objectStore(a),new kc(a,b,0==c?ra(mc,this.i):nc)):new ne(this.Ia.objectStore(a),b)};oe.prototype.ic=function(){return this.Z.ha};function pe(a,b){this.i=a;this.o=b;this.Uc=b.Se().Af||!1}m=pe.prototype;
m.Aa=function(a){var b=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(null==b)throw new B(352);var c=a||function(){return w()};return new v(function(a,e){var f;try{f=b.open(this.o.name(),this.o.version())}catch(h){e(h);return}f.onerror=e;f.onupgradeneeded=function(a){qe(this,c,a).then(aa(),e)}.bind(this);f.onsuccess=function(b){this.h=b.target.result;this.be().then(function(b){ob=b+1;a(this.h)}.bind(this))}.bind(this)},this)};
function qe(a,b,c){var d=c.target.result,e=c.target.transaction;c=new M(c.oldVersion,d,e,a.Uc);re(d);a.o.Ha().forEach(ra(a.vf,d,e),a);return b(c)}function re(a){for(var b=[],c=0;c<a.objectStoreNames.length;++c){var d=a.objectStoreNames.item(c);-1!=d.indexOf(".")&&b.push(d)}b.forEach(function(b){try{a.deleteObjectStore(b)}catch(c){}})}
m.vf=function(a,b,c){a.objectStoreNames.contains(c.getName())||a.createObjectStore(c.getName(),{keyPath:"id"});c.zb()&&(c.za().forEach(function(c){this.kc(a,b,c.j(),"btree")},this),this.kc(a,b,c.s+".#","rowid"))};m.kc=function(a,b,c,d){a.objectStoreNames.contains(c)||(a.createObjectStore(c,{keyPath:"id"}),a=b.objectStore(c),(this.Uc?new kc(a,pb,nc):new ne(a,pb)).put([new tb(new sb(d))]))};
m.Fb=function(a,b){var c=Hb(b.ba());Pc(b).forEach(function(a){c.push(a)});var d=this.h.transaction(c,0==a?"readonly":"readwrite");return new oe(this.i,d,b,a,this.Uc)};
m.be=function(a){function b(){if(0==d.length)return w();var a=d.shift();return c(a).then(b)}function c(b){return new v(function(c,d){var ea;try{ea=(a||e.transaction([b])).objectStore(b).openCursor(null,"prev")}catch(ia){d(ia);return}ea.onsuccess=function(a){(a=a.target.result)&&(f=Math.max(f,h(a)));c(f)};ea.onerror=function(){c(f)}})}var d=this.o.Ha().map(function(a){return a.getName()}),e=this.h,f=0,h=function(a){return this.Uc?(a=jc(a.value),Object.keys(a.m).reduce(function(a,b){return Math.max(a,
b)},0)):a.key}.bind(this);return new v(function(a){b().then(function(){a(f)})})};m.close=function(){this.h.close()};m.uc=function(){throw new B(511);};m.subscribe=aa();m.Bc=aa();function se(a,b,c){Jb.call(this,c,b);this.X=a;0==b&&this.Z.resolve()}t(se,Jb);se.prototype.I=function(a){return this.X.uc(a)};se.prototype.ic=function(){this.Z.resolve();return this.Z.ha};function te(a){this.o=a;this.J=y()}m=te.prototype;m.Aa=function(){this.o.Ha().forEach(this.Lf,this);return w()};m.uc=function(a){var b=this.J.get(a)||null;if(null===b)throw new B(101,a);return b};m.Fb=function(a,b){return new se(this,a,b)};function ue(a,b){if(!a.J.has(b)){var c=new $d;a.J.set(b,c);return c}return null}m.Lf=function(a){ue(this,a.getName());a.zb()&&(a.za().forEach(function(a){this.kc(a.j(),"btree")},this),this.kc(a.s+".#","rowid"))};m.kc=function(a,b){var c=ue(this,a);null===c||c.put([new tb(new sb(b))])};
m.close=aa();m.subscribe=aa();m.Bc=aa();function ve(a){te.call(this,a);this.jd=null}t(ve,te);ve.prototype.subscribe=function(a){null===this.jd&&(this.jd=a)};ve.prototype.Bc=function(a){null===this.jd||this.jd(a)};function we(a,b,c){this.Ia=a;this.s=b;this.Gb=c}we.prototype.get=function(a){var b=this.Gb;xe(this.Ia,"SELECT id, value FROM "+this.s+" "+(0==a.length?"":"WHERE id IN ("+a.join(",")+")"),[],function(a){for(var d=a.rows.length,e=Array(d),f=0;f<d;++f)e[f]=b({id:a.rows.item(f).id,value:JSON.parse(a.rows.item(f).value)});return e});return this.Ia.la()};
we.prototype.put=function(a){if(0==a.length)return w();var b="INSERT OR REPLACE INTO "+this.s+"(id, value) VALUES (?, ?)";a.forEach(function(a){xe(this.Ia,b,[a.id(),JSON.stringify(a.m)])},this);return w()};we.prototype.remove=function(a){xe(this.Ia,"DELETE FROM "+this.s+" "+(0==a.length?"":"WHERE id IN ("+a.join(",")+")"),[]);return w()};function ye(a,b,c){Jb.call(this,b,c);this.h=a;this.J=y();this.Bd=[]}t(ye,Jb);ye.prototype.I=function(a,b){var c=this.J.get(a)||null;null===c&&(c=new we(this,a,b),this.J.set(a,c));return c};function xe(a,b,c,d){a.Bd.push({mg:b,cg:c,transform:d})}
ye.prototype.ic=function(){var a,b,c=this.Z.reject.bind(this.Z),d=function(a,b){this.Z.reject(b)}.bind(this),e=function(c,h){a=h;if(this.Bd.length){var k=this.Bd.shift();b=k.transform;c.executeSql(k.mg,k.cg,e,d)}else k=a,null!=b&&null!=a&&(k=b(a)),this.Z.resolve(k)}.bind(this);0==this.ff?this.h.readTransaction(e,c):this.h.transaction(e,c);return this.Z.ha};function N(a,b,c){this.h=c;this.i=a;this.Ub=b}r("lf.backstore.WebSqlRawBackStore",N);N.prototype.cd=g("h");N.prototype.getRawDBInstance=N.prototype.cd;N.prototype.dd=function(){throw new B(356);};N.prototype.getRawTransaction=N.prototype.dd;function ze(a){return new ye(a.h,new Oc(a.i,A()),1)}N.prototype.lc=function(a){var b=ze(this);xe(b,"DROP TABLE "+a,[]);return b.la()};N.prototype.dropTable=N.prototype.lc;
N.prototype.$b=function(a){var b=ze(this);xe(b,"SELECT id, value FROM "+a,[]);return b.la().then(function(a){for(var b=a.rows.length,e=Array(b),f=0;f<b;++f)e[f]={id:a.rows.item(f).id,value:JSON.parse(a.rows.item(f).value)};return w(e)})};function Ae(a,b,c){var d=ze(a),e="UPDATE "+b+" SET value=? WHERE id=?";return a.$b(b).then(function(a){a.forEach(function(a){a=c(a);xe(d,e,[JSON.stringify(a.value),a.id])});return d.la()})}
N.prototype.gc=function(a,b,c){var d=ke(c);return Ae(this,a,function(a){a.value[b]=d;return a})};N.prototype.addTableColumn=N.prototype.gc;N.prototype.mc=function(a,b){return Ae(this,a,function(a){delete a.value[b];return a})};N.prototype.dropTableColumn=N.prototype.mc;N.prototype.Hc=function(a,b,c){return Ae(this,a,function(a){a.value[c]=a.value[b];delete a.value[b];return a})};N.prototype.renameTableColumn=N.prototype.Hc;N.prototype.ub=function(a){var b={},c;for(c in a)b[c]=ke(a[c]);return qb(b)};
N.prototype.createRow=N.prototype.ub;N.prototype.wc=g("Ub");N.prototype.getVersion=N.prototype.wc;function Be(a){xe(a,'SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=Array(a.rows.length),d=0;d<c.length;++d)c[d]=a.rows.item(d).tbl_name;return c})}
N.prototype.dump=function(){var a=cb(),b=ze(this);Be(b);var c={};b.la().then(function(b){b=b.filter(function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.$b(a).then(function(b){c[a]=b})},this);bb(b).then(function(){a.resolve(c)})}.bind(this));return a.ha};N.prototype.dump=N.prototype.dump;function Ce(a,b,c){this.i=a;this.o=b;this.lg=c||4194304}function De(a){return new Oc(a.i,A())}m=Ce.prototype;m.Aa=function(a){if(null==window.openDatabase)throw new B(353);var b=a||function(){return w()};return new v(function(a,d){try{var e=window.openDatabase(this.o.name(),"",this.o.name(),this.lg);if(null!=e)this.h=e,Ee(this,b).then(a,d);else throw new B(354);}catch(f){d(f)}},this)};
function Ee(a,b){var c=cb(),d=new ye(a.h,De(a),1);xe(d,"CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);xe(d,"SELECT v FROM __lf_ver WHERE id = 0",[]);d.la().then(function(a){var d=0;a.rows.length&&(d=a.rows.item(0).v);d<this.o.version()?this.Vd(b,d).then(c.resolve.bind(c)):d>this.o.version()?c.reject(new B(108)):c.resolve()}.bind(a));return c.ha}m.Fb=function(a,b){if(null!=this.h)return new ye(this.h,b,a);throw new B(2);};m.close=aa();
m.uc=function(){throw new B(512);};m.subscribe=function(){throw new B(355);};m.Bc=function(){throw new B(355);};m.Vd=function(a,b){var c=cb();Fe(this).then(function(){a(new N(this.i,b,this.h)).then(function(){return this.be()}.bind(this)).then(c.resolve.bind(c))}.bind(this),c.reject.bind(c));return c.ha};
function Fe(a){var b=a.o.Ha(),c=new ye(a.h,De(a),1),d=new ye(a.h,De(a),1);xe(c,"INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[a.o.version()]);Be(c);return c.la().then(function(a){a.filter(function(a){return-1!=a.indexOf(".")}).forEach(function(a){xe(d,"DROP TABLE "+a,[])});var c=a.filter(function(a){return-1==a.indexOf(".")});b.map(function(a){return a.getName()}).filter(function(a){return-1==c.indexOf(a)}).forEach(function(a){xe(d,"CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});
return d.la()})}m.be=function(){var a=0,b=cb(),c=function(b){var c=new ye(this.h,De(this),0);xe(c,"SELECT MAX(id) FROM "+b,[]);return c.la().then(function(b){b=b.rows.item(0)[0];a=Math.max(b,a)})}.bind(this),d=this.o.Ha().map(function(a){return c(a.getName())});bb(d).then(function(){b.resolve(a)},function(a){b.reject(a)});return b.ha};function Ge(a){this.U=y();this.Tb=y();a.Ha().forEach(function(a){this.Tb.set(a.getName(),A())},this)}m=Ge.prototype;m.set=function(a,b){this.U.set(b.id(),b);this.Tb.get(a).add(b.id())};m.de=function(a,b){var c=this.Tb.get(a);b.forEach(function(a){this.U.set(a.id(),a);c.add(a.id())},this)};m.get=function(a){return this.U.get(a)||null};function He(a,b){return b.map(function(a){return this.get(a)},a)}
m.$a=function(a,b,c){var d=[],e=Math.min(b,c),f=Math.max(b,c);a=this.Tb.get(a);if(a.size<f-e)a.forEach(function(a){a>=e&&a<=f&&(a=this.U.get(a),d.push(a))},this);else for(b=e;b<=f;++b)a.has(b)&&(c=this.U.get(b),d.push(c));return d};m.remove=function(a,b){this.U.delete(b);this.Tb.get(a).delete(b)};m.tg=function(a){return null!=a?this.Tb.get(a).size:this.U.size};m.clear=function(){this.U.clear();this.Tb.clear()};function Ie(a,b,c){var d=0,e=a.length;for(c=c||Je;d<e;){var f=d+e>>1;0>c(a[f],b)?d=f+1:e=f}return d==e&&a[d]==b?d:~d}function Je(a,b){return a-b}function Ke(a,b,c){c=Ie(a,b,c);return 0>c?(a.splice(-(c+1),0,b),!0):!1};function Le(a,b,c,d){a=b?a.reverse():a;if(null==c&&null==d)return a;c=Math.min(q(c)?c:a.length,a.length);if(0==c)return[];d=Math.min(d||0,a.length);return a.slice(d,d+c)};function Me(){this.qa=0}Me.prototype.add=function(a,b){this.qa+=b};Me.prototype.remove=function(a,b){this.qa-=b};Me.prototype.clear=function(){this.qa=0};function Ne(a,b){a.clear();b.forEach(function(a){this.qa+=a.qa},a)};function Oe(a,b,c,d){this.s=a;this.S=b;this.he=c;this.ib=new Me;if(d){a=511;a*=a*a;if(d.length>=a)throw new B(6,a);d=Pe(this,d);this.oa=d=Qe(d)}else this.clear()}var Re=[];m=Oe.prototype;m.getName=g("s");m.toString=function(){return this.oa.toString()};m.add=function(a,b){this.oa=this.oa.pb(a,b)};m.set=function(a,b){this.oa=this.oa.pb(a,b,!0)};m.remove=function(a,b){this.oa=this.oa.remove(a,b)};m.get=function(a){return this.oa.get(a)};
m.Yc=function(a){if(null==a)return this.Pa().qa;if(a instanceof Sc){if(Xc(a))return this.Pa().qa;if(Yc(a))return this.get(a.b).length}return this.$a([a]).length};m.Pa=g("ib");m.rc=function(a,b,c,d){c=Array(a);this.oa.fill({offset:b?this.ib.qa-a-d:d,count:a,fe:0},c);return b?c.reverse():c};
m.$a=function(a,b,c,d){var e=Se(this.oa).c[0];if(!q(e)||0==c)return Re;b=b||!1;c=null!=c?Math.min(c,this.ib.qa):this.ib.qa;d=d||0;var f=Math.min(Math.max(this.ib.qa-d,0),c);if(0==f)return Re;if(!q(a)||1==a.length&&a[0]instanceof Sc&&Xc(a[0]))return this.rc(f,b,c,d);a=this.S.bf(a);var h=Array(b?this.ib.qa:f),k={count:0,W:h.length,reverse:b,N:d};a.forEach(function(a){for(var b=this.S.od(a),b=this.S.Ld(a)?e:b[0],b=Te(this.oa,b),c=k.count,d=0;null!=b&&k.count<k.W;)b.$a(a,k,h),k.count!=c?(d=0,c=k.count):
d++,b=2==d?null:b.next()},this);h.splice(k.count,f-k.count);return b?Le(h,b,c,d):h};m.clear=function(){this.oa=Ue(this);this.ib.clear()};m.Ya=function(a){return this.oa.Ya(a)};m.min=function(){return this.Ac(this.S.min.bind(this.S))};m.max=function(){return this.Ac(this.S.max.bind(this.S))};m.Ac=function(a){var b=Se(this.oa),c=Ve(this.oa);if(0==b.c.length&&0==c.c.length)return null;var d=b.c[0],b=b.w[0],e=c.c[c.c.length-1],c=c.w[c.c.length-1];return 1==a(d,e)?[d,this.he?[b]:b]:[e,this.he?[c]:c]};
m.Ca=g("he");m.jc=g("S");m.Pd=function(a,b){return null!=a?-1==this.S.compare(a,b):!1};m.Ka=function(a,b){return null!=a?0==this.S.compare(a,b):!1};m.Ea=function(){for(var a=[],b=Se(this.oa);b;)a.push(new x(b.ma,[b.c,b.w])),b=b.ta;return a};function We(a,b,c,d){a=new Oe(b,a,c);d=Xe(d,a);a.oa=d;return a}function Ye(a,b){this.ma=a;this.C=b;this.bb=0;this.ta=this.sb=this.B=null;this.c=[];this.w=[];this.g=[]}function Ue(a){return new Ye(ob++,a)}function O(a){return 0==a.bb}m=Ye.prototype;m.next=g("ta");
function Ze(a){function b(a){return null!=a?a.ma.toString():"_"}var c=a.ma+"["+a.c.join("|")+"]",d=a.g.map(function(a){return a.ma}).join("|"),e=a.w.join("/"),f=b(a.sb)+"{",f=O(a)?f+e:f+d,f=f+"}"+b(a.B);a.ta&&(a=Ze(a.ta),c=c+"  "+a[0],f=f+"  "+a[1]);return[c,f]}m.toString=function(){var a="",b=Ze(this),a=a+(b[0]+"\n"+b[1]+"\n");this.g.length&&(a+=this.g[0].toString());return a};function Se(a){return O(a)?a:Se(a.g[0])}function Ve(a){return O(a)?a:Ve(a.g[a.g.length-1])}
function $e(a,b){b&&(b.sb=a);a&&(a.ta=b)}function Pe(a,b){for(var c=b.length,d=0,e=Ue(a),f=e;0<c;){var h=768<=c?511:257<=c&&511>=c?c:257,k=b.slice(d,d+h);e.c=k.map(function(a){return a.key});e.w=k.map(function(a){return a.value});d+=h;c-=h;0<c&&(h=Ue(e.C),$e(e,h),e=h)}return f}function af(a){var b=a[0],c=Ue(b.C);c.bb=b.bb+1;c.g=a;for(b=0;b<a.length;++b)a[b].B=c,0<b&&c.c.push(a[b].c[0]);return c}
function Qe(a){var b=a,c=[];do c.push(b),b=b.ta;while(b);if(512>=c.length)b=af(c);else{var d=c.length,e=0,b=Ue(a.C);for(b.bb=a.bb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var f=c.slice(e,e+a),h=af(f);h.B=b;b.g.length&&(b.c.push(f[0].c[0]),$e(b.g[b.g.length-1],h));b.g.push(h);e+=a;d-=a}}return b}m.get=function(a){var b=bf(this,a);if(O(this)){var c=Re;this.C.Ka(this.c[b],a)&&(c=c.concat(this.w[b]));return c}b=this.C.Ka(this.c[b],a)?b+1:b;return this.g[b].get(a)};
m.Ya=function(a){var b=bf(this,a);return this.C.Ka(this.c[b],a)?!0:O(this)?!1:this.g[b].Ya(a)};m.remove=function(a,b){cf(this,a,-1,b);if(null==this.B){var c=this;1==this.g.length&&(c=this.g[0],c.B=null);return c}return this};function df(a){return O(a)?a.c[0]:df(a.g[0])}function ef(a){a.c=[];for(var b=1;b<a.g.length;++b)a.c.push(df(a.g[b]))}
function cf(a,b,c,d){var e=bf(a,b),f=O(a);if(!f){var h=a.C.Ka(a.c[e],b)?e+1:e;if(cf(a.g[h],b,h,d))ef(a);else return!1}else if(!a.C.Ka(a.c[e],b))return!1;if(a.c.length>e&&a.C.Ka(a.c[e],b)){if(q(d)&&!a.C.Ca()&&f&&(h=a.w[e],d=Ie(h,d,void 0),0>d?d=!1:(h.splice(d,1),d=!0),d&&a.C.Pa().remove(b,1),a.w[e].length))return!1;a.c.splice(e,1);f&&(f=a.C.Ca()?1:a.w[e].length,a.w.splice(e,1),a.C.Pa().remove(b,f))}if(256>a.c.length&&null!=a.B){a:{b=null;if(a.ta&&256<a.ta.c.length)b=a.ta,e=d=0,f=a.c.length+1;else if(a.sb&&
256<a.sb.c.length)b=a.sb,d=a.sb.c.length-1,e=O(a)?d:d+1,f=0;else{b=!1;break a}a.c.splice(f,0,b.c[d]);b.c.splice(d,1);d=O(a)?a.w:a.g;h=null;O(a)?h=b.w:(h=b.g,h[e].B=a);d.splice(f,0,h[e]);h.splice(e,1);O(b)||(ef(b),ef(a));b=!0}b||ff(a,c)}return!0}
function ff(a,b){var c,d,e;a.ta&&511>a.ta.c.length?(c=a.ta,e=d=0):a.sb&&(c=a.sb,d=c.c.length,e=O(c)?c.w.length:c.g.length);d=[d,0].concat(a.c);Array.prototype.splice.apply(c.c,d);d=null;O(a)?d=a.w:(d=a.g,d.forEach(function(a){a.B=c}));d=[e,0].concat(d);Array.prototype.splice.apply(O(c)?c.w:c.g,d);$e(a.sb,a.ta);O(c)||ef(c);-1!=b&&(a.B.c.splice(b,1),a.B.g.splice(b,1))}
m.pb=function(a,b,c){var d=bf(this,a);if(O(this)){if(this.C.Ka(this.c[d],a)){if(c)this.C.Pa().remove(a,this.C.Ca()?1:this.w[d].length),this.w[d]=this.C.Ca()?b:[b];else{if(this.C.Ca())throw new B(201);if(!Ke(this.w[d],b))throw new B(109);}this.C.Pa().add(a,1);return this}this.c.splice(d,0,a);this.w.splice(d,0,this.C.Ca()?b:[b]);this.C.Pa().add(a,1);512==this.c.length?(d=Ue(this.C),a=Ue(this.C),a.bb=1,a.c=[this.c[256]],a.g=[this,d],a.B=this.B,this.B=a,d.c=this.c.splice(256),d.w=this.w.splice(256),d.B=
a,$e(d,this.ta),$e(this,d),d=a):d=this;return d}d=this.C.Ka(this.c[d],a)?d+1:d;a=this.g[d].pb(a,b,c);O(a)||1!=a.c.length||(this.c.splice(d,0,a.c[0]),a.g[1].B=this,a.g[0].B=this,this.g.splice(d,1,a.g[1]),this.g.splice(d,0,a.g[0]));return 512==this.c.length?gf(this):this};function gf(a){var b=Ue(a.C),c=Ue(a.C);b.B=a.B;b.bb=a.bb+1;b.c=[a.c[256]];b.g=[a,c];a.c.splice(256,1);c.B=b;c.bb=a.bb;c.c=a.c.splice(256);c.g=a.g.splice(257);c.g.forEach(function(a){a.B=c});a.B=b;$e(c,a.ta);$e(a,c);return b}
function bf(a,b){for(var c=0,d=a.c.length;c<d;){var e=c+d>>1;a.C.Pd(a.c[e],b)?c=e+1:d=e}return c}function Te(a,b){if(!O(a)){var c=bf(a,b);a.C.Ka(a.c[c],b)&&c++;return Te(a.g[c],b)}return a}
m.$a=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var e=this.C.jc(),f=0,h=this.c.length-1,k=this.c,p=d(e.lb(k[f],a)),D=d(e.lb(k[h],a));if(1!=p&&(-1!=p||-1!=D)){var ea=function(a,b){var c=a+b>>1;return c==a?c+1:c},ia=function(b,c,f){if(b>=c)return 0==f?c:-1;var h=d(e.lb(k[b],a));if(0==h)return b;if(1==h)return-1;h=ea(b,c);if(h==c)return 0==f?c:-1;var p=d(e.lb(k[h],a));return 0==p?ia(b,h,p):-1==p?ia(h+1,c,f):ia(b+1,h,p)},Oa=function(b,c){if(b>=c)return b;var f=d(e.lb(k[c],a));if(0==f)return c;
if(-1==f)return b;f=ea(b,c);if(f==c)return b;var h=d(e.lb(k[f],a));return 0==h?Oa(f,c):1==h?Oa(b,f-1):-1};0!=p&&(f=ia(f+1,h,D));-1!=f&&(h=Oa(f,h),-1!=h&&h>=f&&hf(this,b,c,f,h+1))}};function hf(a,b,c,d,e){for(;d<e&&(b.reverse||!(b.count>=b.W));++d)if(a.C.Ca())!b.reverse&&b.N?b.N--:c[b.count++]=a.w[d];else for(var f=0;f<a.w[d].length&&b.count<c.length;++f)!b.reverse&&b.N?b.N--:c[b.count++]=a.w[d][f]}
m.fill=function(a,b){if(O(this))for(var c=0;c<this.w.length&&0<a.count;++c)if(0<a.offset){if(a.offset-=this.C.Ca()?1:this.w[c].length,0>a.offset)for(var d=this.w[c].length+a.offset;d<this.w[c].length&&0<a.count;++d)b[a.fe++]=this.w[c][d],a.count--}else if(this.C.Ca())b[a.fe++]=this.w[c],a.count--;else for(d=0;d<this.w[c].length&&0<a.count;++d)b[a.fe++]=this.w[c][d],a.count--;else for(c=0;c<this.g.length&&0<a.count;++c)this.g[c].fill(a,b)};
function Xe(a,b){for(var c=b.Pa(),d=a.map(function(a){var d=new Ye(a.id(),b);d.c=a.m[0];d.w=a.m[1];d.c.forEach(function(a,e){c.add(a,b.Ca()?1:d.w[e].length)});return d}),e=0;e<d.length-1;++e)$e(d[e],d[e+1]);return 1<d.length?Qe(d[0]):d[0]};function jf(a){if(1==a.f.length)return new kf(a.f[0].eb);a=a.f.map(function(a){return a.eb});return new mf(a)}function kf(a){this.Xc=0==a?nf:of;this.Qd=0==a?function(a){return null!=a?a.reverse():null}:function(a){return a||null};this.Wd=0==a?pf:qf}t(kf,oc);function of(a,b){return a>b?1:a<b?-1:0}function nf(a,b){return of(b,a)}function qf(a,b){return Zc(a,b)}function pf(a,b){return Zc(b,a)}m=kf.prototype;
m.lb=function(a,b){var c=this.Qd(b),d=[null===c.b,null===c.u];if(!d[0]){var e=this.Xc(a,c.b);d[0]=c.$?1==e:-1!=e}d[1]||(e=this.Xc(a,c.u),d[1]=c.ka?-1==e:1!=e);return d};m.compare=function(a,b){return this.Xc(a,b)};m.min=function(a,b){return a<b?1:a==b?0:-1};m.max=function(a,b){return a>b?1:a==b?0:-1};m.Kd=function(a,b){var c=this.lb(a,b);return c[0]&&c[1]};m.bf=function(a){return a.filter(function(a){return null!==a}).sort(function(a,c){return this.Wd(a,c)}.bind(this))};m.Ld=function(a){return fa(this.Qd(a).b)};
m.od=function(a){a=this.Qd(a);return[a.b,a.u]};m.toString=function(){return this.Xc==nf?"SimpleComparator_DESC":"SimpleComparator_ASC"};function mf(a){this.Fa=a.map(function(a){return new kf(a)})}t(mf,oc);function rf(a,b,c,d){for(var e=0,f=0;f<a.Fa.length&&0==e;++f)e=d(a.Fa[f],b[f],c[f]);return e}m=mf.prototype;m.compare=function(a,b){return rf(this,a,b,function(a,b,e){return a.compare(b,e)})};m.min=function(a,b){return rf(this,a,b,function(a,b,e){return a.min(b,e)})};
m.max=function(a,b){return rf(this,a,b,function(a,b,e){return a.max(b,e)})};m.lb=function(a,b){for(var c=[!0,!0],d=0;d<this.Fa.length&&(c[0]||c[1]);++d){var e=this.Fa[d].lb(a[d],b[d]);c[0]=c[0]&&e[0];c[1]=c[1]&&e[1]}return c};m.Kd=function(a,b){for(var c=!0,d=0;d<this.Fa.length&&c;++d)c=this.Fa[d].Kd(a[d],b[d]);return c};
m.bf=function(a){var b=a.filter(function(a){return a.every(ga)});a=Array(this.Fa.length);for(var c=0;c<a.length;c++)a[c]=b.map(function(a){return a[c]});a.forEach(function(a,b){a.sort(function(a,c){return this.Fa[b].Wd(a,c)}.bind(this))},this);b=Array(b.length);for(c=0;c<b.length;c++)b[c]=a.map(function(a){return a[c]});return b.sort(function(a,b){for(var c=0,h=0;h<this.Fa.length&&0==c;++h)c=this.Fa[h].Wd(a[h],b[h]);return c}.bind(this))};m.Ld=function(a){return this.Fa[0].Ld(a[0])};
m.od=function(a){var b=a.map(function(a,b){return this.Fa[b].od(a)[0]},this);a=a.map(function(a,b){return this.Fa[b].od(a)[1]},this);return[b,a]};function sf(a){this.ca=a;this.cb=A();this.Jc=new Me;this.ib=new Me}m=sf.prototype;m.getName=function(){return this.ca.getName()};m.add=function(a,b){null===a?(this.cb.add(b),this.Jc.add(a,1)):this.ca.add(a,b)};m.set=function(a,b){null===a?(this.cb.clear(),this.Jc.clear(),this.add(a,b)):this.ca.set(a,b)};m.remove=function(a,b){null===a?b?(this.cb.delete(b),this.Jc.remove(a,1)):(this.cb.clear(),this.Jc.clear()):this.ca.remove(a,b)};m.get=function(a){return null===a?dc(this.cb):this.ca.get(a)};
m.Yc=function(a){return this.ca.Yc(a)};m.Pa=function(){Ne(this.ib,[this.ca.Pa(),this.Jc]);return this.ib};m.$a=function(a,b,c,d){b=this.ca.$a(a,b,c,d);return null!=a?b:b.concat(dc(this.cb))};m.clear=function(){this.cb.clear();this.ca.clear()};m.Ya=function(a){return null===a?0!=this.cb.size:this.ca.Ya(a)};m.min=function(){return this.ca.min()};m.max=function(){return this.ca.max()};m.Ea=function(){return[new x(-2,dc(this.cb))].concat(this.ca.Ea())};m.jc=function(){return this.ca.jc()};
function tf(a,b){for(var c=-1,d=0;d<b.length;++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new B(102);var d=b[c].m,e=b.slice(0);e.splice(c,1);var c=a(e),f=new sf(c);d.forEach(function(a){f.cb.add(a)});return f}m.Ca=function(){return this.ca.Ca()};function uf(a){this.s=a;this.hb=A();this.S=new kf(1)}m=uf.prototype;m.getName=g("s");m.add=function(a){if("number"!=typeof a)throw new B(103);this.hb.add(a)};m.set=function(a,b){this.add(a,b)};m.remove=function(a){this.hb.delete(a)};m.get=function(a){return this.Ya(a)?[a]:[]};m.min=function(){return this.Ac(this.S.min.bind(this.S))};m.max=function(){return this.Ac(this.S.max.bind(this.S))};
m.Ac=function(a){if(0==this.hb.size)return null;var b=dc(this.hb).reduce(function(b,d){return null===b||1==a(d,b)?d:b},null);return[b,[b]]};m.Yc=function(){return this.hb.size};m.$a=function(a,b,c,d){var e=a||[Wc()];a=dc(this.hb).filter(function(a){return e.some(function(b){return this.S.Kd(a,b)},this)},this);return Le(a,b,c,d)};m.clear=function(){this.hb.clear()};m.Ya=function(a){return this.hb.has(a)};m.Ea=function(){return[new x(0,dc(this.hb))]};m.jc=g("S");
function vf(a,b){var c=new uf(a);b[0].m.forEach(function(a){c.add(a,a)});return c}m.Ca=l(!0);m.Pa=function(){var a=new Me;a.qa=this.hb.size;return a};function wf(a){this.i=a;this.tb=a.l(Rb);this.F=a.l(Tb);this.ja=a.l(Sb)}wf.prototype.Aa=function(a){var b=a.Ha(),c=function(){if(0==b.length)return w();var a=b.shift();return(a.zb()?xf(this,a):yf(this,a)).then(c)}.bind(this);return c()};function yf(a,b){var c=new Oc(a.i,A([b]));return a.tb.Fb(0,c).I(b.getName(),b.Zb.bind(b)).get([]).then(function(a){this.ja.de(b.getName(),a);zf(this,b,a)}.bind(a))}
function zf(a,b,c){var d=a.F.Kc.get(b.getName())||[];c.forEach(function(a){d.forEach(function(b){var c=a.Kb(b.getName());b.add(c,a.id())})})}function xf(a,b){var c=new Oc(a.i,A([b])),d=a.tb.Fb(0,c),c=d.I(b.getName(),b.Zb).get([]).then(function(a){this.ja.de(b.getName(),a)}.bind(a)),e=b.za().map(function(a){return Af(this,a,d)},a).concat(Bf(a,b,d));return bb(e.concat(c))}
function Af(a,b,c){c=c.I(b.j(),pb,1);var d=jf(b);return c.get([]).then(function(a){if(1<a.length){if(Cf(b)){var c=We.bind(void 0,d,b.j(),b.yc);a=tf(c,a.slice(1))}else a=We(d,b.j(),b.yc,a.slice(1));this.F.set(b.Lc,a)}}.bind(a))}function Bf(a,b,c){return c.I(b.s+".#",pb,1).get([]).then(function(a){1<a.length&&(a=vf(b.s+".#",a.slice(1)),this.F.set(b.getName(),a))}.bind(a))};function Df(){this.X=y();this.Kc=y()}Df.prototype.Aa=function(a){a.Ha().forEach(function(a){var c=[];this.Kc.set(a.getName(),c);var d=a.s+".#";if(null===this.get(d)){var e=new uf(d);c.push(e);this.X.set(d,e)}a.za().forEach(function(a){var b;b=jf(a);b=new Oe(a.j(),b,a.yc);b=Cf(a)?new sf(b):b;c.push(b);this.X.set(a.j(),b)},this)},this);return w()};Df.prototype.get=function(a){return this.X.get(a)||null};
Df.prototype.set=function(a,b){var c=this.Kc.get(a)||null;null===c&&(c=[],this.Kc.set(a,c));for(var d=null,e=0;e<c.length;e++)if(c[e].getName()==b.getName()){d=e;break}null!==d&&0<c.length?c.splice(d,1,b):c.push(b);this.X.set(b.getName(),b)};function Ef(a){this.ec=[];q(a)&&this.add(a)}Ef.prototype.toString=function(){return this.ec.map(function(a){return a.toString()}).join(",")};Ef.prototype.Ya=function(a){return this.ec.some(function(b){return b.contains(a)})};Ef.prototype.xb=g("ec");
Ef.prototype.add=function(a){if(0!=a.length)if(a=this.ec.concat(a),1==a.length)this.ec=a;else{a.sort(Zc);for(var b=[],c=a[0],d=1;d<a.length;++d)if(Uc(c,a[d])){var e=a[d],f=Wc();if(null!==c.b&&null!==e.b){var h=Vc(c.b,e.b,!0);1!=h?(f.b=c.b,f.$=0!=h?c.$:c.$&&e.$):(f.b=e.b,f.$=e.$)}null!==c.u&&null!==e.u&&(h=Vc(c.u,e.u,!1),-1!=h?(f.u=c.u,f.ka=0!=h?c.ka:c.ka&&e.ka):(f.u=e.u,f.ka=e.ka));c=f}else b.push(c),c=a[d];b.push(c);this.ec=b}};
function Hf(a,b){var c=[];a.xb().map(function(a){return b.xb().map(function(b){var c;if(Uc(a,b)){c=Wc();var h=Vc(a.b,b.b,!0),h=0==h?a.$?a:b:-1!=h?a:b;c.b=h.b;c.$=h.$;null===a.u||null===b.u?b=null===a.u?b:a:(h=Vc(a.u,b.u,!1),b=0==h?a.ka?a:b:-1==h?a:b);c.u=b.u;c.ka=b.ka}else c=null;return c})}).forEach(function(a){c=c.concat(a)});return new Ef(c.filter(function(a){return null!==a}))};function If(a,b){var c=[],d=null,e=null;yd(a,function(a){var h=b(a);null==a.getParent()?e=h:K(d,h);var k=a.getParent();null!==k&&J(k).length==J(d).length&&(k=c.indexOf(d),-1!=k&&c.splice(k,1));1<J(a).length&&c.push(h);d=null===a.g?c[c.length-1]:h});return e}function Jf(a){return Kf(a,function(a){return null===a.g})}
function Lf(a){var b=a.getParent(),c=0;null!==b&&(c=J(b).indexOf(a),b.removeChild(a));var d=J(a).slice();d.forEach(function(d,f){a.removeChild(d);null===b||vd(b,d,c+f)});return{parent:b,children:d}}function Mf(a,b){J(a).slice().forEach(function(c){a.removeChild(c);K(b,c)});K(a,b)}function Nf(a){var b=ud(a,0);Lf(a);Mf(b,a);return b}
function Of(a,b,c){var d=ud(a,0),e=J(d).slice();if(!e.some(function(a){return b(a)}))return a;Lf(a);e.forEach(function(e,h){if(b(e)){var k=c(a);wd(d,h);K(k,e);vd(d,k,h)}});return d}function Pf(a,b,c,d){var e=a.getParent();null!==e&&(a=J(e).indexOf(a),wd(e,a),vd(e,c,a));J(b).slice().forEach(function(a){b.removeChild(a);K(d,a)});return c}function Kf(a,b,c){function d(a){b(a)&&e.push(a);null!=c&&c(a)||J(a).forEach(d)}var e=[];d(a);return e}
function Qf(a,b){var c=b||function(a){return a.toString()+"\n"},d="";yd(a,function(a){for(var b=0;b<td(a);b++)d+="-";d+=c(a)});return d};function Rf(a){zd.call(this);this.Mb=a;this.Ua=!1}t(Rf,zd);m=Rf.prototype;m.Eb=function(){return If(this,function(a){if(a instanceof Rf){var b=new Rf(a.Mb);b.Ua=a.Ua;a=a.Y();b.ma=a;return b}return a.Eb()})};m.Za=function(a){var b=a||[];yd(this,function(a){a!=this&&a.Za(b)}.bind(this));a=A(b);return dc(a)};m.qd=function(a){this.Ua!=a&&(this.Ua=a,this.Mb="and"==this.Mb?"or":"and",J(this).forEach(function(b){return b.qd(a)}))};
m.eval=function(a){var b=J(this).map(function(b){return b.eval(a)});return Sf(this,b)};function Sf(a,b){return"and"==a.Mb?ed(b):fd(b)}m.toString=function(){return"combined_pred_"+this.Mb.toString()};function Tf(){this.U=y();this.size=0}m=Tf.prototype;m.has=function(a){return this.U.has(a)};m.set=function(a,b){var c=this.U.get(a)||null;null===c&&(c=A(),this.U.set(a,c));c.has(b)||(c.add(b),this.size++);return this};m.de=function(a,b){var c=this.U.get(a)||null;null===c&&(c=A(),this.U.set(a,c));b.forEach(function(a){c.has(a)||(c.add(a),this.size++)},this);return this};
m.delete=function(a,b){var c=this.U.get(a,null);if(null===c)return!1;var d=c.delete(b);d&&(--this.size,0==c.size&&this.U.delete(a));return d};m.get=function(a){a=this.U.get(a)||null;return null===a?null:dc(a)};m.clear=function(){this.U.clear();this.size=0};m.keys=function(){return Hb(this.U)};m.values=function(){var a=[];this.U.forEach(function(b){a.push.apply(a,dc(b))});return a};function Uf(a,b,c){zd.call(this);this.da=a;this.ia=b;this.D=c;this.Rd=null;a=ld.sc();this.nc=rd(a,this.da.L(),this.D);this.Rf=a.He.get(this.da.L())||null}t(Uf,zd);m=Uf.prototype;m.Eb=function(){var a=new Uf(this.da,this.ia,this.D),b=this.Y();a.ma=b;return a};m.Za=function(a){return null!=a?(a.push(this.da),a.push(this.ia),a):[this.da,this.ia]};
m.reverse=function(){var a=this.D;switch(this.D){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new Uf(this.ia,this.da,a)};m.eval=function(a){var b=a.entries.filter(function(a){var b=F(a,this.da);a=F(a,this.ia);return this.nc(b,a)},this);return new C(b,E(a))};m.toString=function(){return"join_pred("+this.da.j()+" "+this.D+" "+this.ia.j()+")"};
function Vf(a,b,c){var d=null,e=null;-1!=E(b).indexOf(G(a.da.I()))?(d=b,e=c):(d=c,e=b);if(d.entries.length>e.entries.length){a:{b=a.da;a.da=a.ia;a.ia=b;b=a.D;switch(a.D){case "gt":b="lt";break;case "lt":b="gt";break;case "gte":b="lte";break;case "lte":b="gte";break;default:break a}a.D=b;a.nc=rd(ld.sc(),a.da.L(),a.D)}return[e,d]}return[d,e]}function Wf(a){var b={};a.Za().forEach(function(a){b[a.getName()]=null});return b}
function Xf(a,b,c){null===a.Rd&&(a.Rd=Wf(a.ia.I()));var d=new hd(new x(-1,a.Rd),!1);return kd(b,c,d,[G(a.ia.I())])}
function Yf(a,b,c,d){var e=[b,c];d||(e=Vf(a,b,c));b=e[0];c=e[1];var e=b,f=c,h=a.da,k=a.ia;d&&(e=c,f=b,h=a.ia,k=a.da);var p=new Tf,D=[];e.entries.forEach(function(a){var b=String(F(a,h));p.set(b,a)});var ea=E(e),ia=E(f);f.entries.forEach(function(a){var b=F(a,k),c=String(b);null!==b&&p.has(c)?p.get(c).forEach(function(b){b=kd(a,ia,b,ea);D.push(b)}):d&&D.push(Xf(this,a,ia))}.bind(a));a=E(b).concat(E(c));return new C(D,a)}
function Zf(a,b,c,d,e){function f(a,b){var c=new hd(b,1<ea.length),c=kd(a,ia,c,ea);D.push(c)}var h=d.Jf.I(),k=b,p=c;-1!=E(b).indexOf(G(h))&&(k=c,p=b);var D=[],ea=E(p),ia=E(k);k.entries.forEach(function(a){var b=this.Rf(F(a,d.Xf)),b=d.index.get(b);0!=b.length&&(d.index.Ca()?f(a,e.get(b[0])):He(e,b).forEach(f.bind(null,a)))},a);a=E(k).concat(E(p));return new C(D,a)};function $f(a,b,c){return null===b?new Bd(a,b,c):q(b.j)?new Uf(a,b,c):new Bd(a,b,c)};var ag={};r("lf.schema.DataStoreType",ag);ag.INDEXED_DB=0;ag.MEMORY=1;ag.LOCAL_STORAGE=2;ag.FIREBASE=3;ag.WEB_SQL=4;ag.OBSERVABLE_STORE=5;function bg(a,b,c,d){this.Lc=a;this.name=b;this.yc=c;this.f=d}bg.prototype.j=function(){return this.Lc+"."+this.name};function Cf(a){return a.f.some(function(a){return a.ea.xc()})}function P(a,b,c,d){this.s=a;this.ga=c;this.H=b;this.ld=d;this.Wa=null}r("lf.schema.Table",P);P.prototype.getName=g("s");P.prototype.getName=P.prototype.getName;P.prototype.Ta=g("Wa");
function G(a){return a.Wa||a.s}P.prototype.hc=function(a){var b=new this.constructor(this.s);b.Wa=a;b.hg=this.hg;return b};P.prototype.as=P.prototype.hc;P.prototype.createRow=P.prototype.ub;P.prototype.deserializeRow=P.prototype.Zb;P.prototype.za=g("ga");P.prototype.getIndices=P.prototype.za;P.prototype.Za=g("H");P.prototype.getColumns=P.prototype.Za;P.prototype.getConstraint=P.prototype.wb;P.prototype.zb=g("ld");P.prototype.persistentIndex=P.prototype.zb;function Q(a,b){this.child=a;this.Cb=b;this.Wa=null}m=Q.prototype;m.getName=function(){return this.Cb+"("+this.child.getName()+")"};m.j=function(){return this.Cb+"("+this.child.j()+")"};m.I=function(){return this.child.I()};m.toString=function(){return this.j()};m.L=function(){return this.child.L()};m.Ta=g("Wa");m.za=function(){return[]};m.sa=l(null);m.xc=l(!1);m.hc=function(a){this.Wa=a;return this};Q.prototype.as=Q.prototype.hc;
function cg(a){for(var b=[a];a instanceof Q;)b.push(a.child),a=a.child;return b}function dg(a){this.Wa=a||null;this.O=new P("#UnknownTable",[],[],!1)}m=dg.prototype;m.getName=l("*");m.j=function(){return this.getName()};m.toString=function(){return this.j()};m.I=g("O");m.L=l(4);m.Ta=g("Wa");m.za=function(){return[]};m.sa=l(null);m.xc=l(!1);r("lf.fn.avg",function(a){return new Q(a,"AVG")});function eg(a){return new Q(a||new dg,"COUNT")}r("lf.fn.count",eg);function fg(a){return new Q(a,"DISTINCT")}r("lf.fn.distinct",fg);r("lf.fn.max",function(a){return new Q(a,"MAX")});r("lf.fn.min",function(a){return new Q(a,"MIN")});r("lf.fn.stddev",function(a){return new Q(a,"STDDEV")});r("lf.fn.sum",function(a){return new Q(a,"SUM")});r("lf.fn.geomean",function(a){return new Q(a,"GEOMEAN")});function R(a,b){I.call(this);this.Cf=b}t(R,I);R.prototype.exec=function(a,b){switch(this.Cf){case 1:return gg(this,a,b);case 0:return hg(this,a,b);default:return ig(this,a,b)}};R.prototype.toString=l("dummy_node");R.prototype.Mc=function(){return this.toString()};function ig(a,b,c){return new v(function(a){a(this.aa(b,[],c))}.bind(a))}function gg(a,b,c){return ud(a,0).exec(b,c).then(function(a){return this.aa(b,a,c)}.bind(a))}
function hg(a,b,c){var d=J(a).map(function(a){return a.exec(b,c)});return bb(d).then(function(a){var d=[];a.forEach(function(a){for(var b=0;b<a.length;++b)d.push(a[b])});return this.aa(b,d,c)}.bind(a))};function jg(a){R.call(this,0,1);this.oe=a}t(jg,R);jg.prototype.toString=function(){return"aggregation("+this.oe.map(function(a){return a.j()}).toString()+")"};jg.prototype.aa=function(a,b){b.forEach(function(a){kg(new lg(a,this.oe))},this);return b};function lg(a,b){this.Da=a;this.H=b}
function kg(a){a.H.forEach(function(a){a=cg(a).reverse();for(var c=1;c<a.length;c++){var d=a[c],e=cg(d).slice(-1)[0],f=d.child instanceof Q?bd(this.Da,d.child):this.Da;if(null!==f.Sa&&f.Sa.has(d.j()))break;f=mg(d.Cb,f,e);e=this.Da;null===e.Sa&&(e.Sa=y());e.Sa.set(d.j(),f)}},a)}
function mg(a,b,c){var d=null;switch(a){case "MIN":d=ng(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=ng(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=og(b,c);break;case "COUNT":d=pg(b,c);break;case "SUM":d=qg(b,c);break;case "AVG":a=pg(b,c);0<a&&(d=qg(b,c)/a);break;case "GEOMEAN":d=rg(b,c);break;default:d=sg(b,c)}return d}function ng(a,b,c){return a.entries.reduce(function(a,e){var f=F(e,b);return null===f?a:null===a?f:c(a,f)},null)}
function pg(a,b){return b instanceof dg?a.entries.length:a.entries.reduce(function(a,d){return a+(fa(F(d,b))?0:1)},0)}function qg(a,b){return ng(a,b,function(a,b){return b+a})}function sg(a,b){var c=[];a.entries.forEach(function(a){a=F(a,b);null===a||c.push(a)});return 0==c.length?null:yb.apply(null,c)}function rg(a,b){var c=0,d=a.entries.reduce(function(a,d){var h=F(d,b);if(0==h||null===h)return a;c++;return a+Math.log(h)},0);return 0==c?null:Math.pow(Math.E,d/c)}
function og(a,b){var c=y();a.entries.forEach(function(a){var e=F(a,b);c.set(e,a)});return new C(z(c),E(a))};function tg(a,b){this.wa=a;this.pa=b}tg.prototype.ab=g("wa");tg.prototype.ba=g("pa");function ug(){I.call(this)}t(ug,I);function vg(a,b){I.call(this);this.table=a;this.values=b}t(vg,ug);function wg(a,b){vg.call(this,a,b)}t(wg,vg);function xg(a){I.call(this);this.table=a}t(xg,ug);xg.prototype.toString=function(){return"delete("+this.table.getName()+")"};function yg(a,b){I.call(this);this.table=a;this.ie=b}t(yg,ug);
yg.prototype.toString=function(){var a=[];this.ie&&(a=this.ie.map(function(a){return a.K.getName()},this));return"update("+this.table.getName()+", ["+a.join(",")+"])"};function zg(a){I.call(this);this.G=a}t(zg,ug);zg.prototype.toString=function(){return"select("+this.G.toString()+")"};function Ag(a){I.call(this);this.table=a}t(Ag,ug);Ag.prototype.toString=function(){var a="table_access("+this.table.getName();null===this.table.Ta()||(a+=" as "+this.table.Ta());return a+")"};
function Bg(){I.call(this)}t(Bg,ug);Bg.prototype.toString=l("cross_product");function Cg(a,b){I.call(this);this.f=a;this.Hb=b}t(Cg,ug);Cg.prototype.toString=function(){var a="project("+this.f.toString();if(null!==this.Hb)var b=this.Hb.map(function(a){return a.j()}).join(", "),a=a+(", groupBy("+b+")");return a+")"};function Dg(a){I.call(this);this.M=a}t(Dg,ug);Dg.prototype.toString=function(){return"order_by("+Kd(this.M)+")"};function Eg(a){I.call(this);this.f=a}t(Eg,ug);
Eg.prototype.toString=function(){return"aggregation("+this.f.toString()+")"};function Fg(a){I.call(this);this.f=a}t(Fg,ug);Fg.prototype.toString=function(){return"group_by("+this.f.toString()+")"};function Gg(a){I.call(this);this.W=a}t(Gg,ug);Gg.prototype.toString=function(){return"limit("+this.W+")"};function Hg(a){I.call(this);this.N=a}t(Hg,ug);Hg.prototype.toString=function(){return"skip("+this.N+")"};function Ig(a,b){I.call(this);this.G=a;this.Jb=b}t(Ig,ug);
Ig.prototype.toString=function(){return"join(type: "+(this.Jb?"outer":"inner")+", "+this.G.toString()+")"};function Jg(){};function Kg(){}t(Kg,Jg);Kg.prototype.gb=function(a){this.V=a;this.Ra(this.V);return this.V};Kg.prototype.Ra=function(a){if(a instanceof zg){var b=Lg(this,a.G),b=Mg(this,b);Pf(a,a,b[0],b[1]);a==this.V&&(this.V=b[0]);a=b[0]}J(a).forEach(function(a){this.Ra(a)},this)};function Lg(a,b){if(0==J(b).length||"and"!=b.Mb)return[b];var c=J(b).slice().map(function(a){b.removeChild(a);return Lg(this,a)},a);return Ca(c)}
function Mg(a,b){var c=null,d=null;b.map(function(a,b){var h=new zg(a);0==b?c=h:K(d,h);d=h},a);return[c,d]};function Ng(){}t(Ng,Jg);Ng.prototype.gb=function(a){this.V=a;this.Ra(this.V);return this.V};Ng.prototype.Ra=function(a){if(a instanceof Bg)for(;2<J(a).length;){for(var b=new Bg,c=0;2>c;c++){var d=wd(a,0);K(b,d)}vd(a,b,0)}J(a).forEach(function(a){this.Ra(a)},this)};function Og(){R.call(this,0,0)}t(Og,R);Og.prototype.toString=l("cross_product");Og.prototype.aa=function(a,b){for(var c=b[0],d=b[1],e=[],f=E(c),h=E(d),k=0;k<c.entries.length;k++)for(var p=0;p<d.entries.length;p++){var D=kd(c.entries[k],f,d.entries[p],h);e.push(D)}c=E(c).concat(E(d));return[new C(e,c)]};function Pg(a,b){Nd.call(this,a,b);this.Na=a.l(Vb);this.yb=a.l(Wb)}t(Pg,Nd);Pg.prototype.getPriority=l(2);Pg.prototype.Ud=function(a){0==this.L()?Qg(this,a):this.Ic()};function Qg(a,b){a.nd.forEach(function(a,d){a instanceof Jd&&Qd(this.yb,a,b[d])},a)}Pg.prototype.Ic=function(){var a=Sd(this.yb,this.ba());0!=a.length&&(a=new Pd(this.global,a),Td(this.Na,a))};function Rg(a){Ed.call(this,a)}t(Rg,Ed);Rg.prototype.ba=function(){var a=A();a.add(this.b);var b=this.ea.info();Sg(this.b.getName(),b.g).forEach(a.add.bind(a));return a};Rg.prototype.clone=function(){var a=new Rg(this.ea);Hd(a,this);a.b=this.b;return a};Rg.prototype.bind=function(a){Rg.Bb.bind.call(this,a);Id(this,a);return this};function Tg(a){Ed.call(this,a)}t(Tg,Ed);Tg.prototype.ba=function(){var a=A();a.add(this.Ba);var b=this.ea.info();Sg(this.Ba.getName(),b.Pe).forEach(a.add.bind(a));this.Vb&&Sg(this.Ba.getName(),b.g).forEach(a.add.bind(a));return a};Tg.prototype.clone=function(){var a=new Tg(this.ea);Hd(a,this);a.Ba=this.Ba;this.values&&(a.values=this.values instanceof H?this.values:this.values.slice());a.Vb=this.Vb;a.Wb=this.Wb;return a};
Tg.prototype.bind=function(a){Tg.Bb.bind.call(this,a);this.Wb&&(this.values=this.Wb instanceof H?a[this.Wb.sa()]:this.Wb.map(function(b){return b instanceof H?a[b.sa()]:b}));return this};function Ug(a){Ed.call(this,a)}t(Ug,Ed);Ug.prototype.ba=function(){var a=A();a.add(this.table);var b=this.set.map(function(a){return a.K.j()}),c=this.ea.info();Vg(c,b).forEach(a.add.bind(a));Wg(c,b).forEach(a.add.bind(a));return a};Ug.prototype.clone=function(){var a=new Ug(this.ea);Hd(a,this);a.table=this.table;a.set=this.set?this.set.slice():this.set;return a};Ug.prototype.bind=function(a){Ug.Bb.bind.call(this,a);this.set.forEach(function(b){-1!=b.Sc&&(b.value=a[b.Sc])});Id(this,a);return this};function Xg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+rb(b)+"'";default:return"'"+b.toString()+"'"}}function Yg(a,b){var c=a.Vb?"INSERT OR REPLACE":"INSERT",d=a.Ba.Za(),c=c+(" INTO "+a.Ba.getName()+"("),c=c+d.map(function(a){return a.getName()}).join(", "),c=c+") VALUES (";return a.values.map(function(a){var f=d.map(function(c){var d=a.m[c.getName()];return b?null!=d?"#":"NULL":Xg(c.L(),d)});return c+f.join(", ")+");"}).join("\n")}
function Zg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function $g(a,b,c,d){return a instanceof H?"?"+a.sa().toString():d?null!=a?"#":"NULL":"match"==b?"'"+a.toString()+"'":"in"==b?"("+a.map(function(a){return Xg(c,a)}).join(", ")+")":"between"==b?Xg(c,a[0])+" AND "+Xg(c,a[1]):Xg(c,a).toString()}
function ah(a,b){return J(a).map(function(a){return"("+bh(a,b)+")"}).join("and"==a.Mb?" AND ":" OR ")}function ch(a){return[a.da.j(),Zg(a.D),a.ia.j()].join(" ")}function bh(a,b){if(a instanceof Bd){var c=a.K.j(),d=Zg(a.D),e=$g(a.value,a.D,a.K.L(),b);return"="==d&&"NULL"==e?[c,"IS NULL"].join(" "):"<>"==d&&"NULL"==e?[c,"IS NOT NULL"].join(" "):[c,d,e].join(" ")}if(a instanceof Rf)return ah(a,b);if(a instanceof Uf)return ch(a);throw new B(357,typeof a);}
function dh(a,b){var c=bh(a,b);return c?" WHERE "+c:""}function eh(a,b){var c="UPDATE "+a.table.getName()+" SET ",c=c+a.set.map(function(a){var b=a.K.j()+" = ";return-1!=a.Sc?b+"?"+a.Sc.toString():b+Xg(a.K.L(),a.value).toString()}).join(", ");a.A&&(c+=dh(a.A,b));return c+";"}
function fh(a,b){var c="*";a.f.length&&(c=a.f.map(function(a){return a.Ta()?a.j()+" AS "+a.Ta():a.j()}).join(", "));c="SELECT "+c+" FROM ";null!=a.qb&&0!=a.qb.size?c+=gh(a,b):(c+=a.b.map(hh).join(", "),a.A&&(c+=dh(a.A,b)));if(a.M)var d=a.M.map(function(a){return a.K.j()+(0==a.eb?" DESC":" ASC")}).join(", "),c=c+(" ORDER BY "+d);a.fa&&(d=a.fa.map(function(a){return a.j()}).join(", "),c+=" GROUP BY "+d);a.W&&(c+=" LIMIT "+a.W.toString());a.N&&(c+=" SKIP "+a.N.toString());return c+";"}
function hh(a){return G(a)!=a.getName()?a.getName()+" AS "+G(a):a.getName()}function gh(a,b){for(var c=Kf(a.A,function(a){return a instanceof Uf}),d=c.map(ch),e=hh(a.b[0]),f=1;f<a.b.length;f++)var h=hh(a.b[f]),e=a.qb.has(c[d.length-f].Y())?e+(" LEFT OUTER JOIN "+h):e+(" INNER JOIN "+h),e=e+(" ON ("+d[d.length-f]+")");c=ud(a.A,0);c instanceof Uf||(e+=" WHERE "+bh(c,b));return e}
function ih(a,b){var c=b||!1,d=a.a.clone();if(d instanceof Tg)return Yg(d,c);if(d instanceof Rg){var e="DELETE FROM "+d.b.getName();d.A&&(e+=dh(d.A,c));return e+";"}if(d instanceof Ug)return eh(d,c);if(d instanceof Jd)return fh(d,c);throw new B(358,typeof d);};function S(a,b){this.global=a;this.gg=a.l(Ub);this.Na=a.l(Vb);this.a=b}r("lf.query.BaseBuilder",S);S.prototype.exec=function(){try{this.Xa()}catch(a){return Za(a)}return new v(function(a,c){var d=new Pg(this.global,[this.vc()]);Td(this.Na,d).then(function(c){a($c(c[0]))},c)},this)};S.prototype.exec=S.prototype.exec;S.prototype.Ef=function(){var a=function(a){return a.Mc(this.a)+"\n"}.bind(this);return Qf(jh(this).ab(),a)};S.prototype.explain=S.prototype.Ef;
S.prototype.bind=function(a){this.a.bind(a);return this};S.prototype.bind=S.prototype.bind;S.prototype.ng=function(a){return ih(this,a)};S.prototype.toSql=S.prototype.ng;S.prototype.Xa=aa();function jh(a){if(null==a.Qe){var b;b=a.gg;var c=a.a,d=b.Uf.create(c);b=b.dg.create(d,c);a.Qe=b}return a.Qe}S.prototype.vc=function(){return{context:this.a.clone(),Xd:jh(this)}};function kh(a){S.call(this,a,new Rg(a.l(Xb)))}t(kh,S);r("lf.query.DeleteBuilder",kh);kh.prototype.b=function(a){if(null!=this.a.b)throw new B(515);this.a.b=a;return this};kh.prototype.from=kh.prototype.b;kh.prototype.A=function(a){this.wd();this.a.A=a;return this};kh.prototype.where=kh.prototype.A;kh.prototype.wd=function(){if(null==this.a.b)throw new B(548);if(null!=this.a.A)throw new B(516);};kh.prototype.Xa=function(){kh.Bb.Xa.call(this);if(null==this.a.b)throw new B(517);};function lh(a,b){S.call(this,a,new Tg(a.l(Xb)));this.a.Vb=b||!1}t(lh,S);r("lf.query.InsertBuilder",lh);lh.prototype.Xa=function(){lh.Bb.Xa.call(this);var a=this.a;if(null==a.Ba||null==a.values)throw new B(518);if(a.Vb&&null===a.Ba.wb().bd())throw new B(519);};lh.prototype.Ba=function(a){if(null!=this.a.Ba)throw new B(520);this.a.Ba=a;return this};lh.prototype.into=lh.prototype.Ba;
lh.prototype.values=function(a){if(null!=this.a.values)throw new B(521);a instanceof H||a.some(function(a){return a instanceof H})?this.a.Wb=a:this.a.values=a;return this};lh.prototype.values=lh.prototype.values;function mh(a){return nh("and",Array.prototype.slice.call(arguments))}r("lf.op.and",mh);r("lf.op.or",function(a){return nh("or",Array.prototype.slice.call(arguments))});function nh(a,b){var c=new Rf(a);b.forEach(function(a){K(c,a)});return c}r("lf.op.not",function(a){a.qd(!0);return a});function T(a,b){S.call(this,a,new Jd(a.l(Xb)));this.xe=this.rd=!1;this.a.f=b;oh(this);ph(this)}t(T,S);r("lf.query.SelectBuilder",T);T.prototype.Xa=function(){T.Bb.Xa.call(this);var a=this.a;if(null==a.b)throw new B(522);if(q(a.Lb)&&!q(a.W)||q(a.Sb)&&!q(a.N))throw new B(523);null!=this.a.fa?qh(this):rh(this)};function oh(a){var b=a.a.f.filter(function(a){return a instanceof Q&&"DISTINCT"==a.Cb},a);if(0!=b.length&&(1!=b.length||1!=a.a.f.length))throw new B(524);}
function qh(a){var b=a.a.f.filter(function(a){return!(a instanceof Q)}).map(function(a){return a.j()}),c=!1;if(0==a.a.fa.length||0==a.a.f.length)c=!0;else{var d=a.a.fa.map(function(a){return a.j()});(c=b.some(function(a){return-1==d.indexOf(a)}))||(c=a.a.fa.some(function(a){a=a.L();return 6==a||0==a}))}if(c)throw new B(525);}function rh(a){var b=a.a.f.some(function(a){return a instanceof Q},a);a=a.a.f.some(function(a){return!(a instanceof Q)},a)||0==a.a.f.length;if(b&&a)throw new B(526);}
function ph(a){a.a.f.forEach(function(a){if(a instanceof Q&&!sh(a.Cb,a.L()))throw new B(527,a.j());},a)}function th(a,b){if(null==a.a.b)throw new B(b);}T.prototype.b=function(a){if(this.xe)throw new B(515);this.xe=!0;null==this.a.b&&(this.a.b=[]);this.a.b.push.apply(this.a.b,Array.prototype.slice.call(arguments));return this};T.prototype.from=T.prototype.b;T.prototype.A=function(a){th(this,548);if(this.rd)throw new B(516);this.rd=!0;uh(this,a);return this};T.prototype.where=T.prototype.A;
function uh(a,b){if(null!=a.a.A){var c=mh(b,a.a.A);a.a.A=c}else a.a.A=b}T.prototype.Mf=function(a,b){th(this,542);if(this.rd)throw new B(547);this.a.b.push(a);uh(this,b);return this};T.prototype.innerJoin=T.prototype.Mf;T.prototype.Sf=function(a,b){th(this,542);if(!(b instanceof Uf))throw new B(541);if(this.rd)throw new B(547);this.a.b.push(a);null==this.a.qb&&(this.a.qb=A());var c=b;G(a)!=G(b.ia.I())&&(c=b.reverse());this.a.qb.add(c.Y());uh(this,c);return this};T.prototype.leftOuterJoin=T.prototype.Sf;
T.prototype.W=function(a){if(null!=(this.a.W||this.a.Lb))throw new B(528);if(a instanceof H)this.a.Lb=a;else{if(0>a)throw new B(531);this.a.W=a}return this};T.prototype.limit=T.prototype.W;T.prototype.N=function(a){if(null!=(this.a.N||this.a.Sb))throw new B(529);if(a instanceof H)this.a.Sb=a;else{if(0>a)throw new B(531);this.a.N=a}return this};T.prototype.skip=T.prototype.N;T.prototype.M=function(a,b){th(this,549);null==this.a.M&&(this.a.M=[]);this.a.M.push({K:a,eb:null!=b?b:1});return this};
T.prototype.orderBy=T.prototype.M;T.prototype.fa=function(a){th(this,549);if(null!=this.a.fa)throw new B(530);null==this.a.fa&&(this.a.fa=[]);this.a.fa.push.apply(this.a.fa,Array.prototype.slice.call(arguments));return this};T.prototype.groupBy=T.prototype.fa;function sh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}
T.prototype.clone=function(){var a=new T(this.global,this.a.f);a.a=this.a.clone();a.a.Wc=null;return a};T.prototype.clone=T.prototype.clone;function vh(a,b){S.call(this,a,new Ug(a.l(Xb)));this.a.table=b}t(vh,S);r("lf.query.UpdateBuilder",vh);vh.prototype.set=function(a,b){var c={Sc:b instanceof H?b.sa():-1,K:a,value:b};null!=this.a.set?this.a.set.push(c):this.a.set=[c];return this};vh.prototype.set=vh.prototype.set;vh.prototype.A=function(a){this.wd();this.a.A=a;return this};vh.prototype.where=vh.prototype.A;vh.prototype.wd=function(){if(null!=this.a.A)throw new B(516);};
vh.prototype.Xa=function(){vh.Bb.Xa.call(this);if(null==this.a.set)throw new B(532);if(this.a.set.some(function(a){return a.value instanceof H}))throw new B(501);};function wh(a){this.a=a;this.wa=null}wh.prototype.cc=function(){null===this.wa&&(this.wa=this.$c());return this.wa};function xh(a){wh.call(this,a)}t(xh,wh);xh.prototype.$c=function(){return this.a.Vb?new wg(this.a.Ba,this.a.values):new vg(this.a.Ba,this.a.values)};function yh(a){wh.call(this,a)}t(yh,wh);yh.prototype.$c=function(){var a=new yg(this.a.table,this.a.set),b=null!=this.a.A?new zg(this.a.A.Eb()):null,c=new Ag(this.a.table);null===b?K(a,c):(K(b,c),K(a,b));return a};function zh(a,b,c){this.wa=a;this.Yd=b;this.Qb=c}zh.prototype.cc=function(){this.Qb.forEach(function(a){this.wa=a.gb(this.wa,this.Yd)},this);return this.wa};function Ah(a,b){wh.call(this,a);this.Qb=b}t(Ah,wh);Ah.prototype.$c=function(){var a=new xg(this.a.b),b=null!=this.a.A?new zg(this.a.A.Eb()):null,c=new Ag(this.a.b);null===b?K(a,c):(K(b,c),K(a,b));return(new zh(a,this.a,this.Qb)).cc()};function Bh(){}t(Bh,Jg);Bh.prototype.gb=function(a,b){this.V=a;this.Ra(this.V,b);return this.V};Bh.prototype.Ra=function(a,b){if(a instanceof zg&&a.G instanceof Uf){var c=a.G.Y(),d=ud(a,0);d instanceof Bg&&(c=q(b)&&null!=b.qb&&b.qb.has(c),c=new Ig(a.G,c),Pf(a,d,c,c),a==this.V&&(this.V=c),a=c)}J(a).forEach(function(a){this.Ra(a,b)},this)};function Ch(){this.Rc=A()}t(Ch,Jg);Ch.prototype.gb=function(a){this.Rc.clear();this.V=a;this.Ra(this.V);this.Rc.clear();return this.V};Ch.prototype.Ra=function(a){if(Dh(a)){var b=a.G instanceof Bd?Eh(this,a):Fh(this,a);this.Rc.add(a);b==a&&(b=ud(a,0));null!==b&&(fa(b.getParent())&&(this.V=b),Dh(b)&&!this.Rc.has(b)&&this.Ra(b))}else J(a).forEach(function(a){this.Ra(a)},this)};
function Gh(a,b,c){var d=b;if(ud(b,0)instanceof zg)d=Nf(b),Gh(a,b,c);else if(Hh(b)){var e=[],d=Of(b,c,function(a){a=new zg(a.G);e.push(a);return a});e.forEach(function(a){Gh(this,a,c)},a)}return d}function Eh(a,b){var c=A([G(b.G.K.I())]),d=function(a){return Ih(this,a,c)}.bind(a);return Gh(a,b,d)}function Fh(a,b){var c=A([G(b.G.da.I()),G(b.G.ia.I())]),d=function(a){return Ih(this,a,c)}.bind(a);return Gh(a,b,d)}
function Ih(a,b,c){var d=A();Jf(b).forEach(function(a){d.add(G(a.table))},a);b instanceof Ag&&d.add(G(b.table));return ec(d,c)}function Dh(a){return a instanceof zg&&!(a.G instanceof Rf)}function Hh(a){a=ud(a,0);return a instanceof Bg||a instanceof Ig};function Jh(a,b){wh.call(this,a);this.Qb=b;this.Ue=this.Le=this.af=this.Oe=this.pe=this.Ae=this.$e=this.ue=this.cf=null}t(Jh,wh);
Jh.prototype.$c=function(){Kh(this);2<=this.a.b.length&&(this.ue=new Bg);this.$e=null!=this.a.A?new zg(this.a.A.Eb()):null;this.a.M&&(this.Oe=new Dg(this.a.M));null!=this.a.N&&0<this.a.N&&(this.af=new Hg(this.a.N));null!=this.a.W&&(this.Le=new Gg(this.a.W));null!=this.a.fa&&(this.Ae=new Fg(this.a.fa));Lh(this);this.Ue=new Cg(this.a.f||[],this.a.fa||null);var a=Mh(this);return(new zh(a,this.a,this.Qb)).cc()};
function Mh(a){for(var b=[a.Le,a.af,a.Ue,a.Oe,a.pe,a.Ae,a.$e,a.ue],c=null,d=null,e=0;e<b.length;e++){var f=b[e];null!==f&&(null===d?d=f:K(b[c],f),c=e)}a.cf.forEach(function(a){K(b[c],a)});return d}function Kh(a){a.cf=a.a.b.map(function(a){return new Ag(a)},a)}function Lh(a){var b=a.a.f.filter(function(a){return a instanceof Q});null!=a.a.M&&a.a.M.forEach(function(a){a.K instanceof Q&&b.push(a.K)});0<b.length&&(a.pe=new Eg(b))};function Nh(){this.ce=[new Kg,new Ng,new Ch,new Bh];this.Cd=[new Kg]}Nh.prototype.create=function(a){var b=null;if(a instanceof Tg)b=new xh(a);else if(a instanceof Rg)b=new Ah(a,this.Cd);else if(a instanceof Jd)b=new Jh(a,this.ce);else if(a instanceof Ug)b=new yh(a);else throw new B(513);b=b.cc();return new tg(b,a.ba())};function Oh(a){R.call(this,0,1);this.O=a}t(Oh,R);Oh.prototype.toString=function(){return"delete("+this.O.getName()+")"};Oh.prototype.aa=function(a,b){var c=b[0].entries.map(function(a){return a.ra});a.remove(this.O,c);return[dd()]};function Ph(a,b){R.call(this,0,-1);this.table=b;this.F=a.l(Tb)}t(Ph,R);Ph.prototype.toString=function(){return"get_row_count("+this.table.getName()+")"};Ph.prototype.aa=function(){var a=this.F.get(this.table.s+".#"),b=new C([],[this.table.getName()]),c=eg(),a=a.Pa().qa;null===b.Sa&&(b.Sa=y());b.Sa.set(c.j(),a);return[b]};function Qh(a,b){R.call(this,0,-1);this.ja=a.l(Sb);this.F=a.l(Tb);this.table=b}t(Qh,R);Qh.prototype.toString=function(){var a="table_access("+this.table.getName();null===this.table.Ta()||(a+=" as "+this.table.Ta());return a+")"};Qh.prototype.aa=function(){var a=this.F.get(this.table.s+".#").$a();return[gd(He(this.ja,a),[G(this.table)])]};function Rh(a){this.i=a}t(Rh,Jg);Rh.prototype.gb=function(a,b){this.V=a;if(!this.xd(b))return a;var c=Kf(a,function(a){return a instanceof Qh})[0],d=new Ph(this.i,c.table);Pf(c,c,d,d);return this.V};Rh.prototype.xd=function(a){return 1==a.f.length&&1==a.b.length&&null==a.A&&null==a.W&&null==a.N&&null==a.fa?(a=a.f[0],a instanceof Q&&"COUNT"==a.Cb&&a.child instanceof dg):!1};function Sh(a){R.call(this,0,1);this.ze=a}t(Sh,R);Sh.prototype.toString=function(){return"groupBy("+this.ze.map(function(a){return a.j()}).toString()+")"};Sh.prototype.aa=function(a,b){return Uh(this,b[0])};function Uh(a,b){var c=new Tf,d=function(a){return this.ze.map(function(b){return F(a,b)},this).join(",")}.bind(a);b.entries.forEach(function(a){c.set(d(a),a)},a);return c.keys().map(function(a){return new C(c.get(a),E(b))},a)};function Vh(a,b,c){R.call(this,0,0);this.F=a.l(Tb);this.ja=a.l(Sb);this.G=b;this.Jb=c;this.ud="eq"==this.G.D?0:2;this.Be=null}t(Vh,R);var Wh=["hash","index_nested_loop","nested_loop"];Vh.prototype.toString=function(){return"join(type: "+(this.Jb?"outer":"inner")+", impl: "+Wh[this.ud]+", "+this.G.toString()+")"};
Vh.prototype.aa=function(a,b){switch(this.ud){case 0:return[Yf(this.G,b[0],b[1],this.Jb)];case 1:return[Zf(this.G,b[0],b[1],this.Be,this.ja)];default:var c=this.G,d=b[0],e=b[1],f=this.Jb,h=[d,e];f||(h=Vf(c,d,e));for(var d=h[0],e=h[1],h=[],k=E(d),p=E(e),D=d.entries.length,ea=e.entries.length,ia=ea+256-1>>8,Oa=0;Oa<ia;){for(var Qb=0;Qb<D;Qb++){var Ff=!1,Gf=F(d.entries[Qb],c.da);if(null!==Gf)for(var Th=Math.min(Oa+1<<8,ea),Fc=Oa<<8;Fc<Th;Fc++)if(c.nc(Gf,F(e.entries[Fc],c.ia))){var Ff=!0,Ui=kd(d.entries[Qb],
k,e.entries[Fc],p);h.push(Ui)}f&&!Ff&&h.push(Xf(c,d.entries[Qb],k))}Oa++}c=E(d).concat(E(e));return[new C(h,c)]}};function Xh(a,b){a.ud=1;var c=a.F.get(b.sa().j());a.Be={Jf:b,Xf:b==a.G.da?a.G.ia:a.G.da,index:c}};function Yh(a){R.call(this,0,-1);this.We=a}t(Yh,R);Yh.prototype.toString=function(){return"no_op_step("+E(this.We[0]).join(",")+")"};Yh.prototype.aa=g("We");function Zh(){}t(Zh,Jg);Zh.prototype.gb=function(a,b){this.V=a;if(!this.xd(b))return a;Kf(a,function(a){return a instanceof Vh}).forEach(this.fg,this);return this.V};Zh.prototype.xd=function(a){return 1<a.b.length};
Zh.prototype.fg=function(a){if("eq"==a.G.D&&!a.Jb){var b=function(b){if(!(b instanceof Qh))return null;b=G(b.table)==G(a.G.ia.I())?a.G.ia:a.G.da;return fa(b.sa())?null:b},c=b(ud(a,0)),b=b(ud(a,1));if(null!==c||null!==b){b=null===b?c:b;Xh(a,b);var d=new C([],[G(b.I())]);xd(a,new Yh([d]),b==c?0:1)}}};function $h(a){a=a.map(function(a){return a.xb()});a=Db.apply(null,a);var b=[];Cb(a,function(a){b.push(a)});return b}function ai(a){this.Ib=a}ai.prototype.ad=function(){return 1==this.Ib.f.length?[Wc()]:[this.Ib.f.map(function(){return Wc()})]};function bi(a,b){this.Ib=a;this.va=b;this.Ad=this.Je=null}
function ci(a,b){var c=y();a.va.keys().forEach(function(a){var e=this.va.get(a).map(function(a){return Fd(b,a)},this),f=new Ef([Wc()]);e.forEach(function(a){var b=null;"between"==a.D?b=new Sc(a.value[0],a.value[1],!1,!1):"eq"==a.D?(b=a.value,b=new Sc(b,b,!1,!1)):b="gte"==a.D?new Sc(a.value,null,!1,!1):"gt"==a.D?new Sc(a.value,null,!0,!1):"lte"==a.D?new Sc(null,a.value,!1,!1):new Sc(null,a.value,!1,!0);a=a.Ua?Tc(b):[b];a=new Ef(a);f=Hf(f,a)});c.set(a,f)},a);return c}
bi.prototype.ad=function(a){if(this.Je==a)return this.Ad;for(var b=ci(this,a),c=this.Ib.f.length-1;0<=c;c--){var d=this.Ib.f[c];if(null!==(b.get(d.ea.getName())||null))break;b.set(d.ea.getName(),new Ef([Wc()]))}this.Ad=1==this.Ib.f.length?z(b)[0].xb():$h(di(this,b));this.Je=a;return this.Ad};function di(a,b){var c=y(),d=0;a.Ib.f.forEach(function(a){c.set(a.ea.getName(),d);d++});return Hb(b).sort(function(a,b){return c.get(a)-c.get(b)}).map(function(a){return b.get(a)})};function ei(a,b){this.df=b;this.F=a.l(Tb)}function fi(a,b,c){c=c.filter(a.Nf,a);if(0==c.length)return null;a=gi(a,c);if(0==a.length)return null;if(1==a.length)return a[0];var d=Number.MAX_VALUE;return a.reduce(function(a,c){var h=hi(c,b);return h<d?(d=h,c):a},null)}
function gi(a,b){return a.df.za().map(function(a){a=new ii(this.F,a);ji(a,b);return a},a).filter(function(a){if(null===a.va)a=!1;else{for(var b=!1,e=!0,f=0;f<a.ob.f.length;f++){var h=a.va.has(a.ob.f[f].ea.getName());if(b&&h){e=!1;break}h||(b=!0)}a=e}return a})}ei.prototype.Nf=function(a){var b;if(b=a instanceof Bd)Cd(a),b=null!==a.value&&("between"==a.D||"eq"==a.D||"gt"==a.D||"gte"==a.D||"lt"==a.D||"lte"==a.D);return b?a.K.I()==this.df:!1};
function ii(a,b){this.F=a;this.ob=b;this.Kf=A(this.ob.f.map(function(a){return a.ea.getName()}));this.Od=this.va=null}function ki(a){null===a.Od&&(a.Od=new bi(a.ob,a.va));return a.Od}function ji(a,b){b.forEach(function(a){var b=a.Za()[0].getName();this.Kf.has(b)&&(null===this.va&&(this.va=new Tf),this.va.set(b,a.Y()))},a)}function hi(a,b){var c=ki(a).ad(b),d=a.F.get(a.ob.j());return c.reduce(function(a,b){return a+d.Yc(b)},0)};function li(a,b,c,d){R.call(this,0,-1);this.F=a.l(Tb);this.index=b;this.Ie=c;this.ae=d;this.Qc=this.Pc=!1}t(li,R);li.prototype.toString=function(){return"index_range_scan("+this.index.j()+", ?, "+(this.ae?"reverse":"natural")+(this.Pc?", limit:?":"")+(this.Qc?", skip:?":"")+")"};li.prototype.Mc=function(a){var b=this.toString(),c=this.Ie.ad(a),b=b.replace("?",c.toString());this.Pc&&(b=b.replace("?",a.W.toString()));this.Qc&&(b=b.replace("?",a.N.toString()));return b};
li.prototype.aa=function(a,b,c){a=this.Ie.ad(c);b=this.F.get(this.index.j());c=(1==a.length&&a[0]instanceof Sc&&Yc(a[0])?Le(b.get(a[0].b),!1,this.Pc?c.W:void 0,this.Qc?c.N:void 0):b.$a(a,this.ae,this.Pc?c.W:void 0,this.Qc?c.N:void 0)).map(function(a){return new x(a,{})},this);return[gd(c,[this.index.Lc])]};function mi(a){R.call(this,0,1);this.md=a}t(mi,R);mi.prototype.toString=l("select(?)");mi.prototype.Mc=function(a){a=Fd(a,this.md);return this.toString().replace("?",a.toString())};mi.prototype.aa=function(a,b,c){return[Fd(c,this.md).eval(b[0])]};function ni(a,b){R.call(this,0,1);this.ja=a.l(Sb);this.O=b}t(ni,R);ni.prototype.toString=function(){return"table_access_by_row_id("+this.O.getName()+")"};ni.prototype.aa=function(a,b){return[gd(He(this.ja,ad(b[0])),[G(this.O)])]};function oi(a){this.i=a}t(oi,Jg);oi.prototype.gb=function(a,b){this.V=a;Kf(a,function(a){return a instanceof Qh}).forEach(function(a){var d=pi(a);if(0!=d.length){var e=fi(new ei(this.i,a.table),b,d.map(function(a){return Fd(b,a.md)}));if(null!==e){var f=y();d.forEach(function(a){f.set(a.md,a)},this);this.V=qi(this,e,f,a)}}},this);return this.V};function pi(a){var b=[];for(a=a.getParent();a;)a instanceof mi&&b.push(a),a=a.getParent();return b}
function qi(a,b,c,d){(null===b.va?[]:b.va.values()).map(function(a){return c.get(a)}).forEach(Lf);b=new li(a.i,b.ob,ki(b),!1);a=new ni(a.i,d.table);K(a,b);Pf(d,d,a,b);return b.ab()};function ri(a,b){R.call(this,0,-1);this.F=a.l(Tb);this.O=b}t(ri,R);ri.prototype.toString=function(){return"insert("+this.O.getName()+")"};ri.prototype.aa=function(a,b,c){si(this.O,c.values,this.F);a.pb(this.O,c.values);return[gd(c.values,[this.O.getName()])]};function si(a,b,c){a=a.wb().bd();if(null===a?0:a.f[0].autoIncrement){var d=a.f[0].ea.getName();c=c.get(a.j()).max();var e=null===c?0:c[0];b.forEach(function(a){if(0==a.m[d]||null==a.m[d])e++,a.m[d]=e})}}
function ti(a,b){R.call(this,0,-1);this.F=a.l(Tb);this.O=b}t(ti,R);ti.prototype.toString=function(){return"insert_replace("+this.O.getName()+")"};ti.prototype.aa=function(a,b,c){si(this.O,c.values,this.F);a.Jd(this.O,c.values);return[gd(c.values,[this.O.getName()])]};function ui(){R.call(this,0,1)}t(ui,R);ui.prototype.toString=l("limit(?)");ui.prototype.Mc=function(a){return this.toString().replace("?",a.W.toString())};ui.prototype.aa=function(a,b,c){b[0].entries.splice(c.W);return b};function vi(a){R.call(this,0,1);this.M=a}t(vi,R);m=vi.prototype;m.toString=function(){return"order_by("+Kd(this.M)+")"};m.aa=function(a,b){if(1==b.length){var c;c=b[0];for(var d=null,e=0;e<this.M.length;e++){var f=fg(this.M[e].K);if(null!==c.Sa&&c.Sa.has(f.j())){d=f;break}}c=d;(null===c?b[0]:bd(b[0],c)).entries.sort(this.Bf.bind(this))}else b.sort(this.ig.bind(this));return b};
m.S=function(a,b){var c=null,d=null,e=null,f=-1;do f++,e=this.M[f].K,c=this.M[f].eb,d=a(e),e=b(e);while(d==e&&f+1<this.M.length);d=d<e?-1:d>e?1:0;return 1==c?d:-d};m.ig=function(a,b){return this.S(function(b){return b instanceof Q?bd(a,b):F(a.entries[a.entries.length-1],b)},function(a){return a instanceof Q?bd(b,a):F(b.entries[b.entries.length-1],a)})};m.Bf=function(a,b){return this.S(function(b){return F(a,b)},function(a){return F(b,a)})};function wi(a,b){this.Da=a;this.H=b}function xi(a){return a.H.some(function(a){return a instanceof Q},a)?yi(a):zi(a)}function yi(a){if(1==a.H.length&&"DISTINCT"==a.H[0].Cb)return a=bd(a.Da,a.H[0]).entries.map(function(a){var b=new hd(new x(-1,{}),1<this.Da.J.size);jd(b,this.H[0],F(a,this.H[0].child));return b},a),new C(a,[]);var b=new hd(new x(-1,{}),1<a.Da.J.size);a.H.forEach(function(a){var d=a instanceof Q?bd(this.Da,a):F(this.Da.entries[0],a);jd(b,a,d)},a);return new C([b],E(a.Da))}
function zi(a){var b=Array(a.Da.entries.length),c=1<a.Da.J.size;a.Da.entries.forEach(function(a,e){b[e]=new hd(new x(a.ra.id(),{}),c);this.H.forEach(function(c){jd(b[e],c,F(a,c))},this)},a);return new C(b,E(a.Da))}function Ai(a,b){var c=a.map(function(a){return xi(new wi(a,b)).entries[0]});return new C(c,E(a[0]))};function Bi(a,b){R.call(this,0,1);this.f=a;this.Hb=b}t(Bi,R);Bi.prototype.toString=function(){var a="project("+this.f.toString();if(null!==this.Hb)var b=this.Hb.map(function(a){return a.j()}).join(", "),a=a+(", groupBy("+b+")");return a+")"};Bi.prototype.aa=function(a,b){var c;0==b.length?c=[dd()]:1==b.length?(c=b[0],c=[0==this.f.length?c:xi(new wi(c,this.f))]):c=[Ai(b,this.f)];return c};function Ci(a){return a.f.some(function(a){return a instanceof Q})||null!==a.Hb};function Di(){R.call(this,0,1)}t(Di,R);Di.prototype.toString=l("skip(?)");Di.prototype.Mc=function(a){return this.toString().replace("?",a.N.toString())};Di.prototype.aa=function(a,b,c){return[new C(b[0].entries.slice(c.N),E(b[0]))]};function Ei(){}t(Ei,Jg);Ei.prototype.gb=function(a){var b=Kf(a,function(a){return a instanceof ui||a instanceof Di});if(0==b.length)return a;var c=Fi(a);if(null===c)return a;b.forEach(function(a){a instanceof ui?c.Pc=!0:c.Qc=!0;Lf(a)},this);return c.ab()};function Fi(a){a=Kf(a,function(a){return a instanceof li},function(a){return a instanceof Bi&&Ci(a)||a instanceof vi||1!=J(a).length||a instanceof mi});return 0<a.length?a[0]:null};function Gi(a){this.i=a}t(Gi,Jg);Gi.prototype.gb=function(a){var b=Hi(a);if(null===b)return a;a:{var c=b;a=Ii(ud(b,0));if(null!==a){var d;d=b.M;for(var e=null,f=a.table.za(),h=0;h<f.length&&null===e;h++)e=Ji(f[h],d);d=e;if(null===d){a=c;break a}c=new li(this.i,d.ob,new ai(d.ob),d.Fe);d=new ni(this.i,a.table);K(d,c);Lf(b);c=Pf(a,a,d,c)}a=c}if(a==b)a:if(a=b,c=Ki(ud(b,0)),null!==c){d=Ji(c.index,b.M);if(null===d)break a;c.ae=d.Fe;a=Lf(b).parent}return a.ab()};
function Ki(a){a=Kf(a,function(a){return a instanceof li},function(a){return 1!=J(a).length});return 0<a.length?a[0]:null}function Ii(a){a=Kf(a,function(a){return a instanceof Qh},function(a){return 1!=J(a).length});return 0<a.length?a[0]:null}function Hi(a){a=Kf(a,function(a){return a instanceof vi});return 0<a.length?a[0]:null}
function Ji(a,b){if(a.f.length!=b.length||!b.every(function(b,c){return b.K.getName()==a.f[c].ea.getName()}))return null;var c=Li(b,a);return c[0]||c[1]?{ob:a,Fe:c[1]}:null}function Li(a,b){var c=a.reduce(function(a,b){return a<<1|(0==b.eb?0:1)},0),d=b.f.reduce(function(a,b){return a<<1|(0==b.eb?0:1)},0),d=c^d,c=0==d,d=d==Math.pow(2,Math.max(a.length,b.f.length))-1;return[c,d]};function Mi(a,b,c){this.wa=a;this.Yd=b;this.Qb=c}Mi.prototype.cc=function(){this.Qb.forEach(function(a){this.wa=a.gb(this.wa,this.Yd)},this);return this.wa};function Ni(a,b){R.call(this,0,1);this.O=a;this.qg=b}t(Ni,R);Ni.prototype.toString=function(){return"update("+this.O.getName()+")"};Ni.prototype.aa=function(a,b){var c=b[0].entries.map(function(a){var b=this.O.Zb(a.ra.Ea());this.qg.forEach(function(a){b.m[a.K.getName()]=a.value},this);return b},this);a.update(this.O,c);return[dd()]};function Oi(a){this.i=a;this.ce=[new Zh,new oi(this.i),new Gi(this.i),new Ei,new Rh(this.i)];this.Cd=[new oi(this.i)]}Oi.prototype.create=function(a,b){var c=a.ab();if(c instanceof wg||c instanceof vg)return Pi(this,a,b);if(c instanceof Cg||c instanceof Gg||c instanceof Hg)return Pi(this,a,b,this.ce);if(c instanceof xg||c instanceof yg)return Pi(this,a,b,this.Cd);throw new B(8);};function Pi(a,b,c,d){a=If(b.ab(),a.Wf.bind(a));null!=d&&(a=(new Mi(a,c,d)).cc());return new Ld(a,b.ba())}
Oi.prototype.Wf=function(a){if(a instanceof Cg)return new Bi(a.f,a.Hb);if(a instanceof Fg)return new Sh(a.f);if(a instanceof Eg)return new jg(a.f);if(a instanceof Dg)return new vi(a.M);if(a instanceof Hg)return new Di;if(a instanceof Gg)return new ui;if(a instanceof zg)return new mi(a.G.Y());if(a instanceof Bg)return new Og;if(a instanceof Ig)return new Vh(this.i,a.G,a.Jb);if(a instanceof Ag)return new Qh(this.i,a.table);if(a instanceof xg)return new Oh(a.table);if(a instanceof yg)return new Ni(a.table,
a.ie);if(a instanceof wg)return new ti(this.i,a.table);if(a instanceof vg)return new ri(this.i,a.table);throw new B(514);};function Qi(a){this.Uf=new Nh;this.dg=new Oi(a)};function Ri(){this.Me=y()}function Si(a,b){var c=a.Me.get(b.getName())||null;null===c&&(c=new Ti,a.Me.set(b.getName(),c));return c}function Vi(a,b,c,d){c.forEach(function(a){a=Si(this,a);0==d?(a.Va=null,a.oc=b):3==d?(null===a.Rb&&(a.Rb=A()),a.Rb.add(b),null===a.Ma&&(a.Ma=A()),a.Ma.delete(b)):1==d?(null===a.Ma&&(a.Ma=A()),a.Ma.add(b)):2==d&&(a.Va=b)},a)}
function Wi(a,b,c,d){var e=!0;c.forEach(function(a){if(e){a=Si(this,a);var c=null===a.Ma||0==a.Ma.size;e=0==d?(null===a.Rb||0==a.Rb.size)&&c&&null===a.oc&&null!==a.Va&&a.Va==b:3==d?null===a.oc&&null===a.Va&&null!==a.Ma&&a.Ma.has(b):1==d?null===a.Va:c&&(null===a.Va||a.Va==b)}},a);return e}function Xi(a,b,c,d){var e=Wi(a,b,c,d);e&&Vi(a,b,c,d);return e}Ri.prototype.releaseLock=function(a,b){b.forEach(function(b){Si(this,b).releaseLock(a)},this)};
function Yi(a,b){b.forEach(function(a){Si(this,a).Va=null},a)}function Ti(){this.Rb=this.Ma=this.Va=this.oc=null}Ti.prototype.releaseLock=function(a){this.oc==a&&(this.oc=null);this.Va==a&&(this.Va=null);null===this.Ma||this.Ma.delete(a);null===this.Rb||this.Rb.delete(a)};function Zi(){this.Ob=new $i;this.zc=new Ri}function Td(a,b){(2>b.getPriority()||2>b.getPriority())&&Yi(a.zc,b.ba());a.Ob.pb(b);aj(a);return b.tc().ha}function aj(a){for(var b=a.Ob.xb(),c=0;c<b.length;c++){var d=b[c],e=!1;if(e=0==d.L()?bj(a,d,1,3):bj(a,d,2,0))a.Ob.remove(d),e=a,d.exec().then(e.bg.bind(e,d),e.ag.bind(e,d))}}function bj(a,b,c,d){var e=!1;Xi(a.zc,b.Y(),b.ba(),c)&&(e=Xi(a.zc,b.Y(),b.ba(),d));return e}Zi.prototype.bg=function(a,b){this.zc.releaseLock(a.Y(),a.ba());a.tc().resolve(b);aj(this)};
Zi.prototype.ag=function(a,b){this.zc.releaseLock(a.Y(),a.ba());a.tc().reject(b);aj(this)};function $i(){this.Ob=[]}$i.prototype.pb=function(a){Ke(this.Ob,a,function(a,c){var d=a.getPriority()-c.getPriority();return 0==d?a.Y()-c.Y():d})};$i.prototype.xb=function(){return this.Ob.slice()};$i.prototype.remove=function(a){var b=this.Ob;a=va(b,a);var c;(c=0<=a)&&ua.splice.call(b,a,1);return c};function cj(a,b){this.Dd=ld.sc();this.Zd=a;this.hd=b;this.H=dj(this)}function dj(a){if(0<a.Zd.f.length)return a.Zd.f;var b=[];a.Zd.b.forEach(function(a){a.Za().forEach(function(a){b.push(a)})});return b}cj.prototype.S=function(a,b){return this.H.every(function(c){return rd(this.Dd,c.L(),"eq")(F(a,c),F(b,c))},this)};
function ej(a,b,c){var d=null===b?[]:b.entries,e=ub(d,c.entries,a.S.bind(a),function(a){return d[a]});b=[];for(var f=0,h=0;h<d.length;h++){var k=d[h];e[f]==k?f++:(k=a.hd.splice(f,1),k=fj(h,k,0,a.hd),b.push(k))}e=ub(d,c.entries,a.S.bind(a),function(a,b){return c.entries[b]});for(h=f=0;h<c.entries.length;h++)k=c.entries[h],e[f]==k?f++:(a.hd.splice(h,0,k.ra.m),k=fj(h,[],1,a.hd),b.push(k));return b}function fj(a,b,c,d){return{rg:c,index:a,object:d,ug:b,type:"splice"}};function gj(){this.ac=y()}gj.prototype.td=function(a,b){var c=la(a.a).toString(),d=this.ac.get(c)||null;null===d&&(d=new hj(a),this.ac.set(c,d));d.td(b)};gj.prototype.$d=function(a,b){var c=la(a.a).toString(),d=this.ac.get(c)||null;d.$d(b);0<d.Dc.size||this.ac.delete(c)};function Sd(a,b){var c=A();b.forEach(function(a){c.add(a.getName())});var d=[];a.ac.forEach(function(a){a=a.vc();a.context.b.some(function(a){return c.has(a.getName())})&&d.push(a)});return d}
function Qd(a,b,c){b=la(null!=b.Wc?b.Wc:b).toString();a=a.ac.get(b)||null;null!==a&&ij(a,c)}function hj(a){this.rf=a;this.Dc=A();this.Zf=[];this.Ke=null;this.zf=new cj(a.a,this.Zf)}hj.prototype.td=function(a){this.Dc.has(a)||this.Dc.add(a)};hj.prototype.$d=function(a){return this.Dc.delete(a)};hj.prototype.vc=function(){var a=this.rf;return{context:a.a,Xd:jh(a)}};function ij(a,b){var c=ej(a.zf,a.Ke,b);a.Ke=b;0<c.length&&a.Dc.forEach(function(a){a(c)})};function jj(a,b){var c=a.l(Xb),d=b||{},e=new Ge(c);a.fb(Sb,e);var e=null,f=!1;switch(d.storeType||0){case 1:e=new te(c);break;case 5:e=new ve(c);break;case 4:e=new Ce(a,c,d.webSqlDbSize);break;case 3:e=new ee(c,d.firebase);f=!0;break;default:e=new pe(a,c)}a.fb(Rb,e);var h=new Df;a.fb(Tb,h);return e.Aa(d.onUpgrade).then(function(){var b=new Qi(a);a.fb(Ub,b);b=new Zi;a.fb(Vb,b);b=new gj;a.fb(Wb,b);return h.Aa(c)}).then(function(){if(f){var b=new Ud(a);b.tb.subscribe(b.Sd.bind(b))}return(new wf(a)).Aa(c)})}
;function kj(a,b){this.i=a;this.tb=a.l(Rb);this.Na=a.l(Vb);this.yb=a.l(Wb);this.pa=A(b);this.La=new Oc(this.i,this.pa);this.Pb=cb();this.pc=cb();this.le=cb()}m=kj.prototype;m.exec=function(){this.le.resolve();return this.pc.ha};m.L=l(1);m.ba=g("pa");m.tc=g("Pb");m.Y=function(){return la(this)};m.getPriority=l(2);function lj(a){Td(a.Na,a);return a.le.ha}
function mj(a,b){var c=b.vc();return c.Xd.ab().exec(a.La,c.context).then(function(a){return $c(a[0])},function(a){this.La.Ab();var b=new ib(a.name);this.pc.reject(b);throw a;}.bind(a))}m.la=function(){this.tb.Fb(this.L(),this.La).la().then(function(){this.Ic();this.pc.resolve()}.bind(this),function(a){this.La.Ab();this.pc.reject(a)}.bind(this));return this.Pb.ha};m.Ab=function(){this.La.Ab();this.pc.resolve();return this.Pb.ha};
m.Ic=function(){var a=Sd(this.yb,this.pa);0!=a.length&&(a=new Pd(this.i,a),Td(this.Na,a))};function U(a){this.i=a;this.Na=a.l(Vb);this.Nc=null;this.Oa=0;0==nj.size&&(nj.set(0,A([1,4])),nj.set(1,A([2])),nj.set(2,A([3,5,6])),nj.set(3,A([2,7])),nj.set(4,A([7])),nj.set(5,A([7])),nj.set(6,A([7])))}r("lf.proc.Transaction",U);var nj=y();function oj(a,b){var c=nj.get(a.Oa)||null;if(null===c||!c.has(b))throw new B(107,a.Oa,b);a.Oa=b}
U.prototype.exec=function(a){oj(this,4);var b=[];try{a.forEach(function(a){a.Xa();b.push(a.vc())},this)}catch(c){return oj(this,7),Za(c)}a=new Pg(this.i,b);return Td(this.Na,a).then(function(a){oj(this,7);return a.map(function(a){return $c(a)})}.bind(this),function(a){oj(this,7);throw a;}.bind(this))};U.prototype.exec=U.prototype.exec;U.prototype.pf=function(a){oj(this,1);this.Nc=new kj(this.i,a);return lj(this.Nc).then(function(){oj(this,2)}.bind(this))};U.prototype.begin=U.prototype.pf;
U.prototype.of=function(a){oj(this,3);return mj(this.Nc,a).then(function(a){oj(this,2);return a}.bind(this),function(a){oj(this,7);throw a;}.bind(this))};U.prototype.attach=U.prototype.of;U.prototype.la=function(){oj(this,5);return this.Nc.la().then(function(){oj(this,7)}.bind(this))};U.prototype.commit=U.prototype.la;U.prototype.Ab=function(){oj(this,6);return this.Nc.Ab().then(function(){oj(this,7)}.bind(this))};U.prototype.rollback=U.prototype.Ab;function V(a){this.i=a;this.o=a.l(Xb);this.Id=!1}r("lf.proc.Database",V);V.prototype.Aa=function(a){this.i.fb(Xb,this.o);return jj(this.i,a).then(function(){this.Id=!0;return this}.bind(this))};V.prototype.init=V.prototype.Aa;V.prototype.nb=g("o");V.prototype.getSchema=V.prototype.nb;function pj(a){if(!a.Id)throw new B(2);}V.prototype.select=function(a){pj(this);return new T(this.i,1!=arguments.length||null!=arguments[0]?Array.prototype.slice.call(arguments):[])};V.prototype.select=V.prototype.select;
V.prototype.pb=function(){pj(this);return new lh(this.i)};V.prototype.insert=V.prototype.pb;V.prototype.Jd=function(){pj(this);return new lh(this.i,!0)};V.prototype.insertOrReplace=V.prototype.Jd;V.prototype.update=function(a){pj(this);return new vh(this.i,a)};V.prototype.update=V.prototype.update;V.prototype.delete=function(){pj(this);return new kh(this.i)};V.prototype["delete"]=V.prototype.delete;V.prototype.observe=function(a,b){this.i.l(Wb).td(a,b)};V.prototype.observe=V.prototype.observe;
V.prototype.unobserve=function(a,b){this.i.l(Wb).$d(a,b)};V.prototype.unobserve=V.prototype.unobserve;V.prototype.xf=function(){pj(this);return new U(this.i)};V.prototype.createTransaction=V.prototype.xf;V.prototype.close=function(){try{this.i.l(Rb).close()}catch(a){}this.i.clear();this.Id=!1};V.prototype.close=V.prototype.close;function W(a,b,c,d,e,f){this.O=a;this.s=b;this.Ge=c;this.Ee=d;this.hf=e;this.Wa=f||null}r("lf.schema.BaseColumn",W);m=W.prototype;m.getName=g("s");m.j=function(){return G(this.O)+"."+this.s};m.toString=function(){return this.j()};m.I=g("O");m.L=g("hf");W.prototype.getType=W.prototype.L;W.prototype.Ta=g("Wa");W.prototype.za=function(){null==this.ga&&(this.ga=[],this.I().za().forEach(function(a){-1!=a.f.map(function(a){return a.ea.getName()}).indexOf(this.s)&&this.ga.push(a)},this));return this.ga};
W.prototype.sa=function(){if(!q(this.ca)){var a=this.za().filter(function(a){return 1!=a.f.length?!1:a.f[0].ea.getName()==this.getName()},this);this.ca=0<a.length?a[0]:null}return this.ca};W.prototype.xc=g("Ee");W.prototype.isNullable=W.prototype.xc;W.prototype.yc=g("Ge");W.prototype.Ka=function(a){return $f(this,a,"eq")};W.prototype.eq=W.prototype.Ka;W.prototype.Ne=function(a){return $f(this,a,"neq")};W.prototype.neq=W.prototype.Ne;W.prototype.Pd=function(a){return $f(this,a,"lt")};
W.prototype.lt=W.prototype.Pd;W.prototype.Vf=function(a){return $f(this,a,"lte")};W.prototype.lte=W.prototype.Vf;W.prototype.Gf=function(a){return $f(this,a,"gt")};W.prototype.gt=W.prototype.Gf;W.prototype.Hf=function(a){return $f(this,a,"gte")};W.prototype.gte=W.prototype.Hf;W.prototype.match=function(a){return $f(this,a,"match")};W.prototype.match=W.prototype.match;W.prototype.qf=function(a,b){return $f(this,[a,b],"between")};W.prototype.between=W.prototype.qf;
W.prototype.If=function(a){return $f(this,a,"in")};W.prototype["in"]=W.prototype.If;W.prototype.Qf=function(){return this.Ka(null)};W.prototype.isNull=W.prototype.Qf;W.prototype.Pf=function(){return this.Ne(null)};W.prototype.isNotNull=W.prototype.Pf;W.prototype.hc=function(a){return new W(this.O,this.s,this.Ge,this.Ee,this.hf,a)};W.prototype.as=W.prototype.hc;function qj(){this.pd=y()}var rj;qj.prototype.clear=function(){this.pd.clear()};qj.prototype.clear=qj.prototype.clear;qj.prototype.fb=function(a,b){this.pd.set(a.toString(),b);return b};qj.prototype.registerService=qj.prototype.fb;qj.prototype.l=function(a){var b=this.pd.get(a.toString())||null;if(null===b)throw new B(7,a.toString());return b};qj.prototype.getService=qj.prototype.l;qj.prototype.Nd=function(a){return this.pd.has(a.toString())};qj.prototype.isRegistered=qj.prototype.Nd;function sj(a){this.o=a;this.Ve=new Tf;this.Pe=new Tf;this.se=y();this.g=new Tf;this.re=new Tf;tj(this)}function tj(a){a.o.Ha().forEach(function(a){var c=a.getName();a.wb().Gd().forEach(function(d){this.Ve.set(d.rb,d);this.Pe.set(c,this.o.table(d.rb));this.g.set(d.rb,a);this.se.set(a.getName()+"."+d.Db,d.rb);this.re.set(d.rb+"."+d.Fc,a.getName())},this)},a)}function Ic(a,b){return a.Ve.get(b)}function Sg(a,b){var c=b.get(a);return null===c?[]:c}
function Vg(a,b){var c=A();b.forEach(function(a){(a=this.se.get(a))&&c.add(a)},a);return dc(c).map(function(a){return this.o.table(a)},a)}function Wg(a,b){var c=A();b.forEach(function(a){(a=this.re.get(a))&&a.forEach(function(a){c.add(a)})},a);return dc(c).map(function(a){return this.o.table(a)},a)};function uj(a,b,c){this.eg=a;this.Yf=b;this.Ff=c}r("lf.schema.Constraint",uj);uj.prototype.bd=g("eg");uj.prototype.getPrimaryKey=uj.prototype.bd;uj.prototype.Gd=g("Ff");uj.prototype.getForeignKeys=uj.prototype.Gd;function vj(a,b){var c=a.ref.split(".");if(2!=c.length)throw new B(540,b);this.Db=a.local;this.rb=c[0];this.Fc=c[1];this.name=b;this.action=a.action;this.timing=a.timing};function X(a){wj(a);this.Dd=ld.sc();this.s=a;this.H=y();this.ge=A();this.Oc=A();this.Cc=A();this.ua=null;this.ga=y();this.ld=!1;this.vb=[]}r("lf.schema.TableBuilder",X);function xj(a){this.name=a.name;this.eb=a.order;this.autoIncrement=a.autoIncrement}var yj=A([0,6]);function wj(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new B(502,a);}function zj(a,b){if(b==a.s)throw new B(546,b);if(a.H.has(b)||a.ga.has(b)||a.Oc.has(b))throw new B(503,a.s+"."+b);}
function Aj(a,b){var c=!1;b.forEach(function(a){var b=this.H.get(a.name);c=c||a.autoIncrement;if(a.autoIncrement&&3!=b)throw new B(504);},a);if(c&&1<b.length)throw new B(505);}function Bj(a){if(null!==a.ua){var b=a.ga.get(a.ua).map(function(a){return a.name}),c=0;if(a.vb.some(function(a,e){c=e;return-1!=b.indexOf(a.Db)},a))throw new B(543,a.vb[c].name);}}
function Cj(a){if(null!==a.ua){var b=function(a){return a.name},c=JSON.stringify(a.ga.get(a.ua).map(b));a.ga.forEach(function(a,e){if(e!=this.ua){var f=a.map(b);if(JSON.stringify(f)==c)throw new B(544,this.s+"."+e);}},a)}}function Dj(a){null===a.ua||a.ga.get(a.ua).forEach(function(a){if(this.Cc.has(a.name))throw new B(545,this.s+"."+a.name);},a)}X.prototype.jf=function(a,b){wj(a);zj(this,a);this.H.set(a,b);yj.has(b)&&this.ne([a]);return this};X.prototype.addColumn=X.prototype.jf;
X.prototype.lf=function(a,b){var c=this.s;this.ua="pk"+(c[0].toUpperCase()+c.substring(1));wj(this.ua);zj(this,this.ua);c=Ej(this,a,!0,void 0,b);Aj(this,c);1==c.length&&this.ge.add(c[0].name);this.Oc.add(this.ua);this.ga.set(this.ua,c);return this};X.prototype.addPrimaryKey=X.prototype.lf;
X.prototype.kf=function(a,b){wj(a);zj(this,a);var c=new vj(b,this.s+"."+a);q(c.action)||(c.action=0);q(c.timing)||(c.timing=0);if(1==c.action&&1==c.timing)throw new B(506);if(!this.H.has(c.Db))throw new B(540,a);this.vb.push(c);this.me(a,[c.Db],!1);return this};X.prototype.addForeignKey=X.prototype.kf;X.prototype.mf=function(a,b){wj(a);zj(this,a);var c=Ej(this,b,!0);Fj(this,a,c);1==c.length&&this.ge.add(c[0].name);this.ga.set(a,c);this.Oc.add(a);return this};X.prototype.addUnique=X.prototype.mf;
X.prototype.ne=function(a){a=Ej(this,a,!1);Gj(this,a);a.forEach(function(a){this.Cc.add(a.name)},this);return this};X.prototype.addNullable=X.prototype.ne;function Gj(a,b){Hb(a.ga).forEach(function(a){var d=A();this.ga.get(a).forEach(function(a){d.add(a.name)});var e=b.filter(function(a){return d.has(a.name)});if(1<d.size&&0<e.length)throw new B(507,a,e.join(","));},a)}X.prototype.me=function(a,b,c,d){wj(a);zj(this,a);b=Ej(this,b,!0,d);Fj(this,a,b);c&&this.Oc.add(a);this.ga.set(a,b);return this};
X.prototype.addIndex=X.prototype.me;function Fj(a,b,c){if(1<c.length&&(a=c.filter(function(a){return this.Cc.has(a.name)},a),0<a.length))throw new B(507,b,a.join(","));}X.prototype.zb=ba("ld");X.prototype.persistentIndex=X.prototype.zb;X.prototype.nb=function(){Bj(this);Cj(this);Dj(this);return new (Hj(this))};X.prototype.getSchema=X.prototype.nb;function Ij(a){return a.vb}
function Ej(a,b,c,d,e){var f=b,f="string"==typeof b[0]?b.map(function(a){return new xj({name:a,order:null!=d?d:1,autoIncrement:e||!1})}):b.map(function(a){return new xj(a)});f.forEach(function(a){if(!this.H.has(a.name))throw new B(508,this.s,a.name);if(c){var b=this.H.get(a.name);if(0==b||6==b)throw new B(509,this.s,a.name);}},a);return f}
function Hj(a){function b(){function b(c){return a.ga.get(c).map(function(a){return{ea:this[a.name],eb:a.eb,autoIncrement:a.autoIncrement}},this)}var d=Hb(a.H).map(function(b){this[b]=new W(this,b,a.ge.has(b),a.Cc.has(b),a.H.get(b));return this[b]},this),e=Hb(a.ga).map(function(d){return new bg(a.s,d,a.Oc.has(d),b.call(this,d))},this);P.call(this,a.s,d,e,a.ld);var f=null===a.ua?null:new bg(a.s,a.ua,!0,b.call(this,a.ua)),h=d.filter(function(b){return!a.Cc.has(b.getName())});this.tf=new uj(f,h,a.vb);
this.Ze=Jj(a,d,e)}t(b,P);b.prototype.ub=function(a){return new this.Ze(ob++,a)};b.prototype.createRow=b.prototype.ub;b.prototype.Zb=function(a){var b={};this.Za().forEach(function(e){var f=e.getName();e=e.L();var h=a.value[f];if(0==e)if(e=h,null!=e&&""!=e){0!=e.length%2&&(e="0"+e);for(var h=new ArrayBuffer(e.length/2),k=new Uint8Array(h),p=0,D=0;p<e.length;p+=2)k[D++]=parseInt(e.substr(p,2),16);e=h}else e=null;else e=2==e?null!=h?new Date(h):null:h;b[f]=e},this);return new this.Ze(a.id,b)};b.prototype.deserializeRow=
b.prototype.Zb;b.prototype.wb=g("tf");b.prototype.getConstraint=b.prototype.wb;return b}
function Jj(a,b,c){function d(a,d){this.H=b;this.ga=c;x.call(this,a,d)}t(d,x);d.prototype.ve=function(){var a={};this.H.forEach(function(b){a[b.getName()]=b.xc()?null:zc[b.L()]});return a};d.prototype.ef=function(){var a={};this.H.forEach(function(b){var c=b.getName();b=b.L();var d=this.m[c];a[c]=0==b?null!=d?rb(d):null:2==b?null!=d?d.getTime():null:6==b?null!=d?d:null:d},this);return a};var e=function(a){var b=this.H.get(a.getName()),c=this.Dd.He.get(b)||null;return function(b){return c(b[a.getName()])}}.bind(a),
f=function(a){var b=a.map(function(a){return e(a.ea)});return function(a){return b.map(function(b){return b(a)})}}.bind(a),h={};c.forEach(function(a){var b=a.j();a=1==a.f.length?e(a.f[0].ea):f(a.f);h[b]=a});d.prototype.Kb=function(a){return-1!=a.indexOf("#")?this.id():h.hasOwnProperty(a)?h[a](this.m):null};return d};function Y(a,b){this.o=new Z(a,b);this.jb=y();this.qc=!1}r("lf.schema.Builder",Y);function Kj(a,b){b.vb.forEach(function(a){var d=a.rb;if(!this.jb.has(d))throw new B(536,a.name);var d=this.jb.get(d).nb(),e=a.Fc;if(!d.hasOwnProperty(e))throw new B(537,a.name);if(b.nb()[a.Db].L()!=d[e].L())throw new B(538,a.name);if(!d[e].yc())throw new B(539,a.name);},a)}Y.prototype.sf=function(a){a.vb.forEach(function(a){Ij(this.jb.get(a.rb)).forEach(function(c){if(c.Db==a.Fc)throw new B(534,a.name);},this)},this)};
function Lj(a){a.qc||(a.jb.forEach(function(a){Kj(this,a);a=a.nb();this.o.J.set(a.getName(),a)},a),z(a.jb).forEach(a.sf,a),Mj(a),a.jb.clear(),a.qc=!0)}function Nj(a,b,c){b.je||(b.je=!0,b.Td=!0,b.we.forEach(function(a){a=c.get(a);if(!a.je)Nj(this,a,c);else if(a.Td&&b!=a)throw new B(533);},a));b.Td=!1}function Mj(a){var b=y();a.o.J.forEach(function(a,d){b.set(d,new Oj(d))},a);a.jb.forEach(function(a,d){a.vb.forEach(function(a){b.get(a.rb).we.add(d)})});z(b).forEach(function(a){Nj(this,a,b)},a)}
function Oj(a){this.Td=this.je=!1;this.we=A();this.Lc=a}Y.prototype.nb=function(){this.qc||Lj(this);return this.o};Y.prototype.getSchema=Y.prototype.nb;Y.prototype.ye=function(){var a=new Pb("ns_"+this.o.name()),b;rj||(rj=new qj);b=rj;var c=null;b.Nd(a)?c=b.l(a):(c=new qj,b.fb(a,c));return c};Y.prototype.getGlobal=Y.prototype.ye;Y.prototype.connect=function(a){var b=this.ye();b.Nd(Xb)||b.fb(Xb,this.nb());return(new V(b)).Aa(a)};Y.prototype.connect=Y.prototype.connect;
Y.prototype.wf=function(a){if(this.jb.has(a))throw new B(503,a);if(this.qc)throw new B(535);this.jb.set(a,new X(a));return this.jb.get(a)};Y.prototype.createTable=Y.prototype.wf;Y.prototype.ee=function(a){if(this.qc)throw new B(535);this.o.ee(a);return this};Y.prototype.setPragma=Y.prototype.ee;function Z(a,b){this.s=a;this.Ub=b;this.J=y();this.Te={Af:!1}}r("lf.schema.DatabaseSchema",Z);Z.prototype.name=g("s");Z.prototype.name=Z.prototype.name;Z.prototype.version=g("Ub");Z.prototype.version=Z.prototype.version;
Z.prototype.Ha=function(){return z(this.J)};Z.prototype.tables=Z.prototype.Ha;Z.prototype.table=function(a){if(!this.J.has(a))throw new B(101,a);return this.J.get(a)};Z.prototype.table=Z.prototype.table;Z.prototype.info=function(){this.Ce||(this.Ce=new sj(this));return this.Ce};Z.prototype.Se=g("Te");Z.prototype.pragma=Z.prototype.Se;Z.prototype.ee=ba("Te");r("lf.schema.create",function(a,b){return new Y(a,b)});}.bind(window))()
//# sourceMappingURL=lovefield.es6.js.map
