(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.onsuccess=b}function sa(a,b){return a.clear=b}
function ta(a,b){return a.values=b}function ua(a,b){return a.remove=b}function va(a,b){return a.child=b}function wa(a,b){return a.next=b}function xa(a,b){return a.onerror=b}function f(a,b){return a.toString=b}function ya(a,b){return a.bind=b}function Aa(a,b){return a.subscribe=b}function Ba(a,b){return a.getPriority=b}
var Ca="openCursor",Da="filter",Ea="once",Fa="objectStoreNames",Ga="split",k="table",Ha="reduce",m="join",Ia="reject",Ja="timing",Ka="item",n="slice",La="target",q="name",r="call",t="prototype",Ma="exec",u="getName",Na="close",Oa="concat",v="value",Pa="setImmediate",Qa="every",Ra="update",Sa="global",Ta="propertyIsEnumerable",Ua="delete",Va="sort",Wa="indexOf",Xa="some",Ya="count",$a="orderByChild",ab="clear",bb="values",cb="replace",db="reverse",eb="continue",fb="removeChild",gb="remove",hb="child",
ib="create",w="push",x="then",jb="transaction",kb="index",lb="context",z="splice",mb="autoIncrement",nb="next",ob="shift",pb="hasOwnProperty",qb="version",rb="objectStore",sb="offset",tb="apply",ub="stringify",A="entries",B="length",vb="info",C="toString",wb="compare",D="bind",xb="getParent",yb="rows",E="forEach",zb="getPriority",Ab="getTime",Bb="resolve",Cb="result",F="size";function Db(){return function(){}}function Eb(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Fb(a){return function(){return a}}var H,Gb=this;function Hb(a){return void 0!==a}function I(a,b,c){a=a[Ga](".");c=c||Gb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[B]&&(d=a[ob]());)!a[B]&&Hb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Ib(){}function Jb(a){a.Gd=function(){return a.zg?a.zg:a.zg=new a}}
function Kb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][C][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[B]&&"undefined"!=typeof a[z]&&"undefined"!=typeof a[Ta]&&!a[Ta]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Ta]&&!a[Ta]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Lb(a){return null===a}function Mb(a){return null!=a}function Nb(a){var b=Kb(a);return"array"==b||"object"==b&&"number"==typeof a[B]}function Ob(a){return"string"==typeof a}function Pb(a){return"function"==Kb(a)}function Qb(a){return a[Rb]||(a[Rb]=++Sb)}var Rb="closure_uid_"+(1E9*ba.random()>>>0),Sb=0;function Tb(a,b,c){return a[r][tb](a[D],arguments)}
function Ub(a,b,c){if(!a)throw fa();if(2<arguments[B]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t].unshift[tb](c,d);return a[tb](b,c)}}return function(){return a[tb](b,arguments)}}function J(a,b,c){J=Function[t][D]&&-1!=Function[t][D][C]()[Wa]("native code")?Tb:Ub;return J[tb](null,arguments)}function Vb(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[w][tb](b,arguments);return a[tb](this,b)}}
function K(a,b){function c(){}c.prototype=b[t];a.Mb=b[t];a.prototype=new c;a[t].constructor=a;a.El=function(a,c,h){for(var l=e(arguments[B]-2),p=2;p<arguments[B];p++)l[p-2]=arguments[p];return b[t][c][tb](a,l)}};function Wb(a){if(fa.captureStackTrace)fa.captureStackTrace(this,Wb);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(Wb,fa);ja(Wb[t],"CustomError");function Xb(a,b){for(var c=a[Ga]("%s"),d="",g=e[t][n][r](arguments,1);g[B]&&1<c[B];)d+=c[ob]()+g[ob]();return d+c[m]("%s")};function Yb(a,b){b.unshift(a);Wb[r](this,Xb[tb](null,b));b[ob]()}K(Yb,Wb);ja(Yb[t],"AssertionError");function Zb(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),h=d;else a&&(g+=": "+a,h=b);throw new Yb(""+g,h||[]);}function L(a,b,c){a||Zb("",null,b,e[t][n][r](arguments,2));return a}function $b(a,b){throw new Yb("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function ac(a,b,c){Pb(a)||Zb("Expected function but got %s: %s.",[Kb(a),a],b,e[t][n][r](arguments,2));return a};function bc(a,b,c){this.xk=c;this.Mi=a;this.fl=b;this.Xd=0;this.Rd=null}bc[t].get=function(){var a;0<this.Xd?(this.Xd--,a=this.Rd,this.Rd=a[nb],wa(a,null)):a=this.Mi();return a};bc[t].put=function(a){this.fl(a);this.Xd<this.xk&&(this.Xd++,wa(a,this.Rd),this.Rd=a)};var cc=e[t],dc=cc[Wa]?function(a,b,c){L(null!=a[B]);return cc[Wa][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[B]+c):c;if(Ob(a))return Ob(b)&&1==b[B]?a[Wa](b,c):-1;for(;c<a[B];c++)if(c in a&&a[c]===b)return c;return-1},ec=cc[E]?function(a,b,c){L(null!=a[B]);cc[E][r](a,b,c)}:function(a,b,c){for(var d=a[B],g=Ob(a)?a[Ga](""):a,h=0;h<d;h++)h in g&&b[r](c,g[h],h,a)},fc=cc.map?function(a,b,c){L(null!=a[B]);return cc.map[r](a,b,c)}:function(a,b,c){for(var d=a[B],g=e(d),h=Ob(a)?a[Ga](""):a,l=0;l<
d;l++)l in h&&(g[l]=b[r](c,h[l],l,a));return g},gc=cc[Ha]?function(a,b,c,d){L(null!=a[B]);d&&(b=J(b,d));return cc[Ha][r](a,b,c)}:function(a,b,c,d){var g=c;ec(a,function(c,l){g=b[r](d,g,c,l,a)});return g},hc=cc[Xa]?function(a,b,c){L(null!=a[B]);return cc[Xa][r](a,b,c)}:function(a,b,c){for(var d=a[B],g=Ob(a)?a[Ga](""):a,h=0;h<d;h++)if(h in g&&b[r](c,g[h],h,a))return!0;return!1};function ic(a,b){L(null!=a[B]);return 1==cc[z][r](a,b,1)[B]}
function jc(a,b,c){a:{for(var d=a[B],g=Ob(a)?a[Ga](""):a,h=0;h<d;h++)if(h in g&&b[r](c,g[h],h,a)){b=h;break a}b=-1}return 0<=b?(ic(a,b),!0):!1}function kc(a){var b=a[B];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function lc(a,b){for(var c=1;c<arguments[B];c++){var d=arguments[c];if(Nb(d)){var g=a[B]||0,h=d[B]||0;a.length=g+h;for(var l=0;l<h;l++)a[g+l]=d[l]}else a[w](d)}}function mc(a,b,c,d){L(null!=a[B]);return cc[z][tb](a,nc(arguments,1))}
function nc(a,b,c){L(null!=a[B]);return 2>=arguments[B]?cc[n][r](a,b):cc[n][r](a,b,c)}function oc(a,b){return a>b?1:a<b?-1:0}function pc(a,b,c){var d;c=c||oc;for(var g=0,h=a[B];g<h;){var l=g+h>>1,p;p=c(b,a[l]);0<p?g=l+1:(h=l,d=!p)}d=d?g:~g;return 0>d?(mc(a,-(d+1),0,b),!0):!1}function qc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}
function rc(a){for(var b=[],c=0;c<arguments[B];c++){var d=arguments[c];if("array"==Kb(d))for(var g=0;g<d[B];g+=8192)for(var h=nc(d,g,g+8192),h=rc[tb](null,h),l=0;l<h[B];l++)b[w](h[l]);else b[w](d)}return b};function sc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function tc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var uc;a:{var vc=Gb.navigator;if(vc){var wc=vc.userAgent;if(wc){uc=wc;break a}}uc=""};function xc(a){Gb.setTimeout(function(){throw a;},0)}var zc;
function Ac(){var a=Gb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==uc[Wa]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Na]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==uc[Wa]("Trident")&&-1==uc[Wa]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Hb(c[nb])){c=c[nb];var a=c.Nf;c.Nf=null;a()}};return function(a){wa(d,{Nf:a});d=d[nb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[fb](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Gb.setTimeout(a,0)}};function Bc(){this.ke=this.ic=null}var Dc=new bc(function(){return new Cc},function(a){a.reset()},100);Bc[t].add=function(a,b){var c=this.Yj();c.set(a,b);this.ke?wa(this.ke,c):(L(!this.ic),this.ic=c);this.ke=c};ua(Bc[t],function(){var a=null;this.ic&&(a=this.ic,this.ic=this.ic[nb],this.ic||(this.ke=null),wa(a,null));return a});Bc[t].gl=function(a){Dc.put(a)};Bc[t].Yj=function(){return Dc.get()};function Cc(){this.scope=this.Ee=null;wa(this,null)}
Cc[t].set=function(a,b){this.Ee=a;this.scope=b;wa(this,null)};Cc[t].reset=function(){this.scope=this.Ee=null;wa(this,null)};function Ec(a,b){Fc||Gc();Hc||(Fc(),Hc=!0);Ic.add(a,b)}var Fc;function Gc(){if(Gb.Promise&&Gb.Promise[Bb]){var a=Gb.Promise[Bb](void 0);Fc=function(){a[x](Jc)}}else Fc=function(){var a=Jc;if(!Pb(Gb[Pa])||Gb.Window&&Gb.Window[t]&&Gb.Window[t][Pa]==Gb[Pa])zc||(zc=Ac()),zc(a);else Gb[Pa](a)}}var Hc=!1,Ic=new Bc;[][w](function(){Hc=!1;Ic=new Bc});function Jc(){for(var a=null;a=Ic[gb]();){try{a.Ee[r](a.scope)}catch(b){xc(b)}Ic.gl(a)}Hc=!1};function M(a,b){this.Ha=0;this.ih=void 0;this.ud=this.mc=this.D=null;this.Pd=this.De=!1;if(a!=Ib)try{var c=this;a[r](b,function(a){c.yc(2,a)},function(a){if(!(a instanceof Kc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.yc(3,a)})}catch(d){this.yc(3,d)}}function Lc(){va(this,null);this.context=this.wc=this.Yb=null;wa(this,null);this.ne=!1}Lc[t].reset=function(){va(this,null);this.context=this.wc=this.Yb=null;this.ne=!1};
var Mc=new bc(function(){return new Lc},function(a){a.reset()},100);function Nc(a,b,c){var d=Mc.get();d.Yb=a;d.wc=b;d.context=c;return d}function Oc(a){if(a instanceof M)return a;var b=new M(Ib);b.yc(2,a);return b}function Pc(a){return new M(function(b,c){c(a)})}function Qc(a,b,c){Rc(a,b,c,null)||Ec(Vb(b,a))}function Sc(a){return new M(function(b,c){var d=a[B],g=[];if(d)for(var h=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;p<a[B];p++)y=a[p],Qc(y,Vb(h,p),l);else b(g)})}
function Tc(){var a,b,c=new M(function(c,g){a=c;b=g});return new Uc(c,a,b)}M[t].then=function(a,b,c){null!=a&&ac(a,"opt_onFulfilled should be a function.");null!=b&&ac(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.Df(Pb(a)?a:null,Pb(b)?b:null,c)};M[t].then=M[t][x];M[t].$goog_Thenable=!0;H=M[t];
H.sl=function(a,b,c){null!=a&&ac(a,"opt_onFulfilled should be a function.");null!=b&&ac(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.Cf(Nc(a||Ib,b||null,c))};H.wh=function(a,b){return this.Df(null,a,b)};H.Cf=function(a){this.gk()||2!=this.Ha&&3!=this.Ha||this.lh();this.Wk(a)};
H.Df=function(a,b,c){var d=Nc(null,null,null);va(d,new M(function(g,h){d.Yb=a?function(b){try{var d=a[r](c,b);g(d)}catch(y){h(y)}}:g;d.wc=b?function(a){try{var d=b[r](c,a);!Hb(d)&&a instanceof Kc?h(a):g(d)}catch(y){h(y)}}:h}));d[hb].D=this;this.Cf(d);return d[hb]};H.vl=function(a){L(1==this.Ha);this.Ha=0;this.yc(2,a)};H.wl=function(a){L(1==this.Ha);this.Ha=0;this.yc(3,a)};
H.yc=function(a,b){0==this.Ha&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ha=1,Rc(b,this.vl,this.wl,this)||(this.ih=b,this.Ha=a,this.D=null,this.lh(),3!=a||b instanceof Kc||Vc(this,b)))};
function Rc(a,b,c,d){if(a instanceof M)return a.sl(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(h){g=!1}else g=!1;if(g)return a[x](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[x];if(Pb(l))return Wc(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function Wc(a,b,c,d,g){function h(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,h)}catch(y){h(y)}}H.lh=function(){this.De||(this.De=!0,Ec(this.cj,this))};H.gk=function(){return!!this.mc};
H.Wk=function(a){L(null!=a.Yb);this.ud?wa(this.ud,a):this.mc=a;this.ud=a};H.Qk=function(){var a=null;this.mc&&(a=this.mc,this.mc=a[nb],wa(a,null));this.mc||(this.ud=null);null!=a&&L(null!=a.Yb);return a};H.cj=function(){for(var a=null;a=this.Qk();)this.bj(a,this.Ha,this.ih);this.De=!1};H.bj=function(a,b,c){3==b&&a.wc&&!a.ne&&this.dl();if(a[hb])a[hb].D=null,Xc(a,b,c);else try{a.ne?a.Yb[r](a[lb]):Xc(a,b,c)}catch(d){Yc[r](null,d)}Mc.put(a)};
function Xc(a,b,c){2==b?a.Yb[r](a[lb],c):a.wc&&a.wc[r](a[lb],c)}H.Mh=Db();H.dl=function(){var a;for(a=this;a&&a.Pd;a=a.D)a.Pd=!1};function Vc(a,b){a.Pd=!0;Ec(function(){a.Pd&&(a.Mh(b),Yc[r](null,b))})}var Yc=xc;function Kc(a){Wb[r](this,a)}K(Kc,Wb);ja(Kc[t],"cancel");function Uc(a,b,c){this.ja=a;this.resolve=b;this.reject=c};/*

 Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function Zc(a,b){this.wa=a;this.$b=b||this.$f()}var $c=0;H=Zc[t];H.id=G("wa");H.Vh=Eb("wa");H.o=G("$b");H.$f=function(){return{}};H.xh=G("$b");H.Ga=function(){return{id:this.wa,value:this.xh()}};H.Wb=function(a){return"#"==a.substr(-1)?this.wa:null};function ad(a){return new Zc(a.id,a[v])}function bd(a){return new Zc($c++,a||{})}function cd(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[B];++c)var d=a[c][C](16),b=b+(2>d[B]?"0"+d:d);return b};function dd(a){this.type=a}function ed(a){Zc[r](this,-1,a)}K(ed,Zc);function fd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[B],h=b[B],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<h+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=h;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var za=[],p=g,y=h;0<p&&0<y;)c(a[p-1],b[y-1])?(za.unshift(d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return za}function gd(a){return gc(arguments,function(a,c){return a+c},0)}
function hd(a){return gd[tb](null,arguments)/arguments[B]}function id(a){var b=arguments[B];if(2>b)return 0;var c=hd[tb](null,arguments);return gd[tb](null,fc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function jd(a){return ba.sqrt(id[tb](null,arguments))};var kd="StopIteration"in Gb?Gb.StopIteration:{message:"StopIteration",stack:""};function ld(){}wa(ld[t],function(){throw kd;});ld[t].Af=function(){return this};function md(a){if(a instanceof ld)return a;if("function"==typeof a.Af)return a.Af(!1);if(Nb(a)){var b=0,c=new ld;wa(c,function(){for(;;){if(b>=a[B])throw kd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function nd(a,b,c){if(Nb(a))try{ec(a,b,c)}catch(d){if(d!==kd)throw d;}else{a=md(a);try{for(;;)b[r](c,a[nb](),void 0,a)}catch(g){if(g!==kd)throw g;}}}function od(a){if(hc(arguments,function(a){return!a[B]})||!arguments[B])return new ld;var b=new ld,c=arguments,d=qc(0,c[B]);wa(b,function(){if(d){for(var a=fc(d,function(a,b){return c[b][a]}),b=d[B]-1;0<=b;b--){L(d);if(d[b]<c[b][B]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw kd;});return b};/*

 Copyright 2015 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function N(){return new ca.Map}function pd(a){var b=0,c=e(a[F]);a[E](function(a,g){c[b++]=g});return c}function qd(a){var b=0,c=e(a[F]);a[E](function(a){c[b++]=a});return c};var rd={};I("lf.TransactionType",rd,void 0);rd.READ_ONLY=0;rd.READ_WRITE=1;function sd(a,b){this.Ta=a;this.yh=b;this.Z=Tc()}H=sd[t];H.Hj=G("Ta");H.ma=function(){try{this.Ta.ii()}catch(a){return Pc(a)}return(0==this.yh?this.Gc():this.Ck())[x](J(function(a){this.Ta.ma();return a},this))};H.Ck=function(){this.Dk();this.Bk();return this.Gc()};
H.Dk=function(){this.Ta.lg()[E](function(a,b){var c=this.Ta.ca().get(b),c=this.K(c[u](),J(c.pc,c)),d=qd(a.Qc()).map(function(a){return a.id()});0<d[B]&&c[gb](d).wh(this.Ne,this);d=qd(a.Sc()).map(function(a){return a[1]})[Oa](qd(a.Oc()));c.put(d).wh(this.Ne,this)},this)};H.Bk=function(){this.Ta.Ej()[E](function(a){var b=this.K(a[u](),ad),c;b.get([-1])[x](function(a){c=a;return b[gb]([])})[x](function(){b.put(c);b.put(a.Ga())},J(this.Ne,this))},this)};H.Ne=function(a){this.Z[Ia](a)};function td(a){this.hl=a}f(td[t],G("hl"));var ud=new td("backstore"),vd=new td("cache"),wd=new td("indexstore"),xd=new td("engine"),yd=new td("runner"),zd=new td("observerregistry"),Ad=new td("schema");function O(a){return Hb(a)?new ca.Set(a):new ca.Set}function Bd(a){var b=0,c=e(a[F]);a[E](function(a){c[b++]=a});return c}function Cd(a,b){if(b[F]>a[F])return!1;var c=!0;b[E](function(b){c=c&&a.has(b)});return c};function Dd(a,b){this.wa=a;this.$b=b||{}}function Ed(a){var b=O();a[E](function(a){b.add(a>>9)});return Bd(b)}H=Dd[t];H.Y=G("wa");H.vc=G("$b");H.qh=function(a){a[E](function(a){this.$b[a.id()]=a.Ga()},this)};H.cl=function(a){a[E](function(a){var c=this.$b;a in c&&delete c[a]},this)};H.Ga=function(){return{id:this.wa,value:ga[ub](this.$b)}};function Fd(a){return new Dd(a.id,ga.parse(a[v]))};function Gd(a,b,c){this.X=a;this.Sb=b;this.jh=c}H=Gd[t];H.get=function(a){return 0==a[B]?this.Pc():this.Mj(a)[x](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Sb(d.vc()[a])},this)},this))};H.Mj=function(a){var b=N(),c=Tc();a=Ed(a).map(function(a){return new M(function(c,h){var l;try{l=this.X.get(a)}catch(p){h(p);return}xa(l,h);ra(l,J(function(a){a=Fd(a[La][Cb]);b.set(a.Y(),a);c()},this))},this)},this);Sc(a)[x](function(){c[Bb](b)});return c.ja};
H.Pc=function(){return new M(function(a,b){var c=[],d;try{d=this.X[Ca]()}catch(g){b(g);return}xa(d,b);ra(d,J(function(){var b=d[Cb];if(b){var g=Fd(b[v]).vc(),p;for(p in g)c[w](this.Sb(g[p]));b[eb]()}else a(c)},this))},this)};H.ac=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}ra(d,b);xa(d,c)},this)};
H.put=function(a){if(0==a[B])return Oc();var b=N();a[E](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.jh(this.X[q],d));g.qh([a]);b.set(d,g)},this);a=qd(b).map(function(a){return this.ac(J(function(){return this.X.put(a.Ga())},this))},this);return Sc(a)};
ua(H,function(a){if(0==a[B])return this.ac(J(function(){return this.X[ab]()},this));var b=N();a[E](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.jh(this.X[q],d));g.cl([a]);b.set(d,g)},this);a=qd(b).map(function(a){return this.ac(J(function(){var b;a:{b=a.vc();for(var g in b){b=!1;break a}b=!0}return b?this.X[Ua](a.Y()):this.X.put(a.Ga())},this))},this);return Sc(a)});function Hd(a,b,c){a=a.l(vd);var d=[c<<9,(c+1<<9)-1];b=a.mb(b,d[0],d[1]);c=new Dd(c);c.qh(b);return c}
function Id(a,b){return new Dd(b)};function Jd(){};function Kd(a){this.ra=a.l(vd);this.G=a.l(wd);this.m=a.l(Ad)}H=Kd[t];qa(H,function(a){a[E](function(a){this.Al(a);this.xl(a)},this)});H.xl=function(a){var b=a[u]();a.Qc()[E](function(a,d){this.ra[gb](b,[d])},this);a.Oc()[E](function(a){this.ra.set(b,[a])},this);a.Sc()[E](function(a){this.ra.set(b,[a[1]])},this)};H.Al=function(a){var b=this.m[k](a[u]());a.Bj()[E](function(a){this.Dh(b,a)},this)};
H.Dh=function(a,b){var c=[];this.G.sg(a[u]())[E](function(a){try{this.Ch(a,b),c[w](a)}catch(g){throw c[E](function(a){this.Ch(a,[b[1],b[0]])},this),g;}},this)};H.Ch=function(a,b){var c=null===b[1]?void 0:b[1].Wb(a[u]()),d=null===b[0]?void 0:b[0].Wb(a[u]());if(!Hb(d)&&Hb(c))a.add(c,b[1].id());else if(Hb(d)&&Hb(c)){if(null===c||null===d){if(c==d)return}else if(0==a.Hc()[wb](d,c))return;a.add(c,b[1].id());a[gb](d,b[0].id())}else Hb(d)&&!Hb(c)&&a[gb](d,b[0].id())};var Ld={};I("lf.ConstraintAction",Ld,void 0);Ld.RESTRICT=0;Ld.CASCADE=1;var Md={};I("lf.ConstraintTiming",Md,void 0);Md.IMMEDIATE=0;Md.DEFERRABLE=1;var Nd={};I("lf.Order",Nd,void 0);Nd.DESC=0;Nd.ASC=1;var Od={};I("lf.Type",Od,void 0);Od.ARRAY_BUFFER=0;Od.BOOLEAN=1;Od.DATE_TIME=2;Od.INTEGER=3;Od.NUMBER=4;Od.STRING=5;Od.OBJECT=6;var Pd={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",Pd,void 0);function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[B])for(var c=1;c<=ba.min(4,arguments[B]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][C]()[n](0,64)))}K(P,fa);function Qd(a){this.G=a.l(wd);this.m=a.l(Ad)}H=Qd[t];H.jj=function(a,b){var c=a.Hb().Ld();return null===c?null:this.ij(c,b)};H.ij=function(a,b){var c=a.j(),d=b.Wb(c),c=this.G.get(c).get(d);return 0==c[B]?null:c[0]};H.ve=function(a,b){var c=a.Hb().Kj();b[E](function(a){c[E](function(b){if(null==a.o()[b[u]()])throw new P(202,b.j());},this)},this)};H.Sf=function(a,b,c){a.Hb().He()[E](function(a){a[Ja]==c&&this.wi(a,b)},this)};
H.wi=function(a,b){var c=this.og(a);b[E](function(b){if(Rd(b[0],b[1],a[q])&&(b=b[1].o()[a.Pb],null!==b&&!c.ua(b)))throw new P(203,a[q]);},this)};H.og=function(a){a=this.m[k](a.cb)[a.dd].Ja();return this.G.get(a.j())};function Rd(a,b,c){return(null===a?null!==b:null===b)||a.Wb(c)!=b.Wb(c)}
H.Tf=function(a,b,c){a=this.m[vb]().Sj(a[u]());null!=a&&a[E](function(a){if(a[Ja]==c){var g=this.G.get(a[q]),h=this.og(a);b[E](function(b){if(Rd(b[0],b[1],h[u]())&&g.ua(b[0].o()[a.dd]))throw new P(203,a[q]);},this)}},this)};H.te=function(a,b,c){0!=b[B]&&(b=b.map(function(a){return[null,a]}),this.Sf(a,b,c))};H.ue=function(a,b,c){0!=b[B]&&(this.Sf(a,b,c),this.Tf(a,b,c))};H.Qf=function(a,b,c){0!=b[B]&&(b=b.map(function(a){return[a,null]}),this.Tf(a,b,c))};function Sd(a){this.gb=N();this.Ma=N();this.jb=N();this.u=a}H=Sd[t];na(H,G("u"));H.Oc=G("gb");H.Sc=G("Ma");H.Qc=G("jb");H.add=function(a){if(this.jb.has(a.id())){var b=[this.jb.get(a.id()),a];this.Ma.set(a.id(),b);this.jb[Ua](a.id())}else this.gb.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.gb.has(b)?this.gb.set(b,c):(this.Ma.has(b)&&(a=[this.Ma.get(a[0].id())[0],c]),this.Ma.set(b,a))};
H.delete=function(a){if(this.gb.has(a.id()))this.gb[Ua](a.id());else if(this.Ma.has(a.id())){var b=this.Ma.get(a.id())[0];this.Ma[Ua](a.id());this.jb.set(a.id(),b)}else this.jb.set(a.id(),a)};H.Bj=function(){var a=[];this.gb[E](function(b){a[w]([null,b])});this.Ma[E](function(b){a[w](b)});this.jb[E](function(b){a[w]([b,null])});return a};f(H,function(){return"["+pd(this.gb)[C]()+"], ["+pd(this.Ma)[C]()+"], ["+pd(this.jb)[C]()+"]"});
H.Tj=function(){var a=new Sd(this.u);this.gb[E](function(b){a[Ua](b)});this.jb[E](function(b){a.add(b)});this.Ma[E](function(b){a.modify([b[1],b[0]])});return a};H.Qe=function(){return 0==this.gb[F]&&0==this.jb[F]&&0==this.Ma[F]};function Td(a,b){this.pa=N();b[E](function(a){this.pa.set(a[u](),a)},this);this.ra=a.l(vd);this.G=a.l(wd);this.Qa=new Qd(a);this.Sd=new Kd(a);this.ef=this.he=!1;this.Eb=N()}H=Td[t];H.lg=G("Eb");H.Ej=function(){var a=[];pd(this.Eb).map(function(a){return this.pa.get(a)},this)[E](function(b){b.Jb()&&(b.Ca()[E](function(b){a[w](this.G.get(b.j()))},this),a[w](this.G.get(b[u]()+".#")))},this);return a};H.ca=G("pa");
H.Fj=function(){var a=[];this.pa[E](function(b){b.Jb()&&(b.Ca()[E](function(b){a[w](b.j())}),a[w](b[u]()+".#"))});return a};H.Ab=function(a,b){this.Dc();this.vd(a);this.Qa.ve(a,b);this.Qa.te(a,b,0);for(var c=0;c<b[B];c++)this.Td(a,[null,b[c]])};
H.Td=function(a,b){var c=a[u](),d=this.Eb.get(c)||new Sd(c);this.Eb.set(c,d);try{this.Sd.Dh(a,b)}catch(g){throw this.ef=!0,g;}var h=b[0],l=b[1];null===h&&null!==l?(this.ra.set(c,[l]),d.add(l)):null!==h&&null!==l?(this.ra.set(c,[l]),d.modify(b)):null!==h&&null===l&&(this.ra[gb](c,[h.id()]),d[Ua](h))};qa(H,function(a,b){this.Dc();this.vd(a);this.Qa.ve(a,b);for(var c=0;c<b[B];c++){var d=b[c],d=[this.ra.get([d.id()])[0],d];this.Qa.ue(a,[d],0);this.Td(a,d)}});
H.Pe=function(a,b){this.Dc();this.vd(a);this.Qa.ve(a,b);for(var c=0;c<b[B];c++){var d=b[c],g=null,h=this.Qa.jj(a,d);null!=h?(g=this.ra.get([h])[0],d.Vh(h),this.Qa.ue(a,[[g,d]],0)):this.Qa.te(a,[d],0);this.Td(a,[g,d])}};ua(H,function(a,b){this.Dc();this.vd(a);this.Qa.Qf(a,b,0);for(var c=0;c<b[B];c++)this.Td(a,[b[c],null])});H.ii=function(){this.Eb[E](function(a){var b=this.pa.get(a[u]());this.Qa.te(b,qd(a.Oc()),1);this.Qa.Qf(b,qd(a.Qc()),1);this.Qa.ue(b,qd(a.Sc()),1)},this)};
H.ma=function(){this.Dc();this.he=!0};H.Dc=function(){L(!this.ef,"Attemptted to use journal that needs to be rolled back.");L(!this.he,"Attemptted to commit a terminated journal.")};H.Kb=function(){L(!this.he,"Attempted to rollback a terminated journal.");var a=qd(this.Eb).map(function(a){return a.Tj()});this.Sd[Ra](a);this.he=!0;this.ef=!1};H.vd=function(a){if(!this.pa.has(a[u]()))throw new P(106,a[u]());};function Ud(a,b,c,d){this.b=a;this.s=b;this.aa=null===this.b?!1:c;this.la=null===this.s?!1:d}H=Ud[t];f(H,function(){return(this.aa?"(":"[")+(null===this.b?"unbound":this.b)+", "+(null===this.s?"unbound":this.s)+(this.la?")":"]")});H.Bi=function(){if(null===this.b&&null===this.s)return[];var a=null,b=null;null===this.b||(a=new Ud(null,this.b,!1,!this.aa));null===this.s||(b=new Ud(this.s,null,!this.la,!1));return[a,b][Da](function(a){return null!==a})};
H.reverse=function(){return new Ud(this.s,this.b,this.la,this.aa)};H.Xg=function(a){var b=Vd(this.b,a.b,!0,this.aa,a.aa);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.s||c.s>a.b||c.s==a.b&&!c.la&&!a.aa};function Wd(){return new Ud(null,null,!1,!1)}H.Ag=function(){return null===this.b&&null===this.s};H.Fg=function(){return null!=this.b&&this.b==this.s&&!this.aa&&!this.la};
H.contains=function(a){var b=null===this.s||a<this.s||a==this.s&&!this.la;return(null===this.b||a>this.b||a==this.b&&!this.aa)&&b};function Vd(a,b,c,d,g){function h(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?h(1):h(-1):0:h(-1):null===b?h(1):a<b?-1:a==b?(d?!g:g)?d?h(1):h(-1):0:1}function Xd(a,b){var c=Vd(a.b,b.b,!0,a.aa,b.aa);0==c&&(c=Vd(a.s,b.s,!1,a.la,b.la));return c};function Yd(a,b){this.entries=a;this.H=O(b);this.Nb=null}H=Yd[t];H.rk=function(a){var b=this.H;a=a.H;return b[F]==a[F]&&Cd(b,a)};function Zd(a,b){L(a.rk(b),"Intersection/union operations only apply to compatible relations.")}H.U=function(){return Bd(this.H)};H.Ue=function(){return 1<this.H[F]};H.Ie=function(){return this[A].map(function(a){return a.ta.o()})};H.Vj=function(){return this[A].map(function(a){return a.ta.id()})};H.nh=function(a,b){null===this.Nb&&(this.Nb=N());this.Nb.set(a.j(),b)};
H.uc=function(a){L(null!==this.Nb,"getAggregationResult called before any results have been calculated.");var b=this.Nb.get(a.j());L(Hb(b),"Could not find result for "+a.j());return b};H.wg=function(a){return null!==this.Nb&&this.Nb.has(a.j())};var $d=null;function ae(){null===$d&&($d=new Yd([],[]));return $d}
function be(a){if(0==a[B])return ae();for(var b=a[Ha](function(b,c){Zd(a[0],c);return b+c[A][B]},0),c=e(b),d=0,b=a.map(function(a){var b=N();a[A][E](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=N(),h=0;h<c[B];h++)b[Qa](function(a){return a.has(c[h].id)})&&g.set(c[h].id,c[h]);return new Yd(qd(g),Bd(a[0].H))}function ce(a){if(0==a[B])return ae();var b=N();a[E](function(c){Zd(a[0],c);c[A][E](function(a){b.set(a.id,a)})});return new Yd(qd(b),Bd(a[0].H))}
function de(a,b){var c=1<b[B],d=a.map(function(a){return new ee(a,c)});return new Yd(d,b)}function ee(a,b){this.ta=a;this.id=fe++;this.Ve=b}var fe=0;ee[t].S=function(a){var b=a.ab();return null!==b&&this.ta.o()[pb](b)?this.ta.o()[b]:this.Ve?this.ta.o()[a.K().na()][a[u]()]:this.ta.o()[a[u]()]};ee[t].qf=function(a,b){var c=a.ab();if(null!=c)this.ta.o()[c]=b;else if(this.Ve){var c=a.K().na(),d=this.ta.o()[c];null==d&&(d={},this.ta.o()[c]=d);d[a[u]()]=b}else this.ta.o()[a[u]()]=b};
function ge(a,b,c,d){function g(a,b){if(a.Ve){var c=a.ta.o(),d;for(d in c)h[d]=c[d]}else L(!h[pb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),h[b[0]]=a.ta.o()}var h={};g(a,b);g(c,d);a=new Zc(-1,h);return new ee(a,!0)};I("lf.bind",function(a){return new he(a)},void 0);function he(a){this.da=a}I("lf.Binder",he,void 0);he[t].Ja=G("da");function ie(){this.vk=je();var a=ke();this.sc=N();this.sc.set(1,le());this.sc.set(2,me());this.sc.set(4,a);this.sc.set(3,a);this.sc.set(5,ne())}Jb(ie);ie[t].Ge=function(a,b){var c=this.sc.get(a)||null;L(null!==c,"Could not find evaluation map for "+a);c=c.get(b)||null;L(null!==c,"Could not find evaluator for "+a+", "+b);return c};ie[t].Ij=function(a){var b=this.vk.get(a)||null;L(null!==b,"Could not find keyOfIndex evaluation function for "+a);return b};
function je(){function a(a){return a}var b=N();b.set(1,function(a){return null===a?null:a?1:0});b.set(2,function(a){return null===a?null:a[Ab]()});b.set(3,a);b.set(4,a);b.set(5,a);return b}function le(){var a=N();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function ke(){var a=le();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return null===a||null===c?!1:a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c[Wa](a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}
function ne(){var a=ke();a.set("match",function(a,c){return null===a||null===c?!1:(new RegExp(c)).test(a)});return a}
function me(){var a=N();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a[Ab]()>=c[0][Ab]()&&a[Ab]()<=c[1][Ab]()});a.set("eq",function(a,c){return(null===a?-1:a[Ab]())==(null===c?-1:c[Ab]())});a.set("gte",function(a,c){return null===a||null===c?!1:a[Ab]()>=c[Ab]()});a.set("gt",function(a,c){return null===a||null===c?!1:a[Ab]()>c[Ab]()});a.set("in",function(a,c){return c[Xa](function(c){return c[Ab]()==a[Ab]()})});a.set("lte",function(a,c){return null===a||null===c?!1:a[Ab]()<=
c[Ab]()});a.set("lt",function(a,c){return null===a||null===c?!1:a[Ab]()<c[Ab]()});a.set("neq",function(a,c){return(null===a?-1:a[Ab]())!=(null===c?-1:c[Ab]())});return a};function oe(a,b){this.Lg=a;this.Eh=b}oe[t].getKey=G("Lg");oe[t].Zj=G("Eh");la(oe[t],function(){return new oe(this.Lg,this.Eh)});function pe(a,b){oe[r](this,a,b);this.g=this.D=null}K(pe,oe);var qe=[];H=pe[t];la(H,function(){return new pe(this.getKey(),this.Zj())});H.getParent=G("D");H.Dg=function(){return!this.va()};H.ba=function(){return this.g||qe};H.kb=function(a){return this.ba()[a]||null};H.va=function(){return this.ba()[B]};H.Dj=function(){for(var a=0,b=this;b[xb]();)a++,b=b[xb]();return a};H.nb=function(){for(var a=this;a[xb]();)a=a[xb]();return a};H.contains=function(a){do a=a[xb]();while(a&&a!=this);return Boolean(a)};
H.zc=function(a,b){if(!1!==a[r](b,this))for(var c=this.ba(),d=0;d<c[B];d++)c[d].zc(a,b)};H.oh=Eb("D");H.ka=function(a){this.Ac(a,this.g?this.g[B]:0)};H.Ac=function(a,b){L(!a[xb]());a.oh(this);this.g=this.g||[];L(0<=b&&b<=this.g[B]);mc(this.g,b,0,a)};H.de=function(a){var b=this.g&&this.g[a];return b?(b.oh(null),ic(this.g,a),0==this.g[B]&&(this.g=null),b):null};H.removeChild=function(a){return this.de(dc(this.ba(),a))};function re(){pe[r](this,"","");this.wa=se++}K(re,pe);var se=0;re[t].Y=G("wa");re[t].rf=Eb("wa");function te(a,b,c){re[r](this);this.I=a;pa(this,b);this.J=c;this.Ad=ie.Gd().Ge(this.I.V(),this.J);this.bb=!1;this.lc=b}K(te,re);H=te[t];H.Qb=function(){var a=new te(this.I,this[v],this.J);a.il(this.lc);a.fe(this.bb);a.rf(this.Y());return a};H.lb=function(a){return null!=a?(a[w](this.I),a):[this.I]};H.fe=Eb("bb");H.il=Eb("lc");H.Of=function(){var a=!1;this[v]instanceof he||(a="array"==Kb(this[v])?!this[v][Xa](function(a){return a instanceof he}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Of();if("in"==this.J)return this.Si(a);var b=a[A][Da](function(a){return this.Ad(a.S(this.I),this[v])!=this.bb},this);return new Yd(b,a.U())};ya(H,function(a){if(this.lc instanceof he){var b=this.lc.Ja();if(a[B]<=b)throw new P(510);pa(this,a[b])}else"array"==Kb(this.lc)&&pa(this,this.lc.map(function(b){if(b instanceof he){var d=b.Ja();if(a[B]<=d)throw new P(510);return a[b.Ja()]}return b}))});
H.Si=function(a){L("in"==this.J,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=O(this[v]),c=J(function(a){return null===a?!1:b.has(a)!=this.bb},this),d=a[A][Da](function(a){return c(a.S(this.I))},this);return new Yd(d,a.U())};f(H,function(){return"value_pred("+this.I.j()+" "+this.J+(this.bb?"(complement)":"")+" "+this[v]+")"});H.Cg=function(){this.Of();return null!==this[v]&&("between"==this.J||"eq"==this.J||"gt"==this.J||"gte"==this.J||"lt"==this.J||"lte"==this.J)};
H.tl=function(){L(this.Cg(),"Could not convert predicate to key range.");var a=null;"between"==this.J?a=new Ud(this[v][0],this[v][1],!1,!1):"eq"==this.J?(a=this[v],a=new Ud(a,a,!1,!1)):a="gte"==this.J?new Ud(this[v],null,!1,!1):"gt"==this.J?new Ud(this[v],null,!0,!1):"lte"==this.J?new Ud(null,this[v],!1,!1):new Ud(null,this[v],!1,!0);return this.bb?a.Bi():[a]};function ue(a){this.ea=a;this.Fc=this.sa=null}ue[t].Kd=function(a){null===this.sa&&null!=this.A&&(this.sa=ve(this.A));a=this.sa.get(a)||null;L(null!==a);return a};function ve(a){var b=N();a.zc(function(a){b.set(a.Y(),a)});return b}ue[t].wd=function(a){a.A&&(this.A=a.A.Qb());this.Fc=a};ya(ue[t],function(){L(null==this.Fc);return this});ue[t].qe=function(a){var b=this.A;null!=b&&b.zc(function(b){b instanceof te&&b[D](a)})};function we(a){ue[r](this,a)}K(we,ue);function xe(a){var b="";a[E](function(c,d){b+=c.I.j()+" ";b+=1==c.qb?"ASC":"DESC";d<a[B]-1&&(b+=", ")});return b}we[t].ca=function(){return O(this.b)};la(we[t],function(){var a=new we(this.ea);a.wd(this);this.f&&(a.f=this.f[n]());this.b&&(a.b=this.b[n]());a.W=this.W;a.M=this.M;this.L&&(a.L=this.L[n]());this.ga&&(a.ga=this.ga[n]());this.Xb&&(a.Xb=this.Xb);this.gc&&(a.gc=this.gc);a.Bb=this.Bb;return a});
ya(we[t],function(a){we.Mb[D][r](this,a);null!=this.Xb&&(this.W=a[this.Xb.Ja()]);null!=this.gc&&(this.M=a[this.gc.Ja()]);this.qe(a);return this});function ye(a,b){this.Ba=a;this.pa=b}ye[t].nb=G("Ba");ye[t].fg=Fb("plan description");ye[t].ca=G("pa");function ze(a){var b=O();a[E](function(a){a.ca()[E](b.add[D](b))});return b};function Ae(a,b){this.global=a;this.Fb=a.l(ud);this.be=b.map(function(a){return a[lb]});this.$g=b.map(function(a){return a.ff});this.Wf=ze(this.$g);this.zh=this.Oi();this.cc=Tc()}H=Ae[t];H.Oi=function(){return this.be[Xa](function(a){return!(a instanceof we)})?1:0};
ma(H,function(){var a=new Td(this[Sa],this.Wf),b=[],c=this.$g[n](),d=J(function(){var g=c[ob]();if(g){var h=this.be[b[B]];return g.nb()[Ma](a,h)[x](function(a){b[w](a[0]);return d()})}return Oc()},this);return d()[x](J(function(){return this.Fb.Rb(this.zh,a).ma()},this))[x](J(function(){this.cf(b);return b},this),J(function(b){a.Kb();throw b;},this))});H.V=G("zh");H.ca=G("Wf");H.Tc=G("cc");H.Y=function(){return Qb(this)};H.cf=Db();function Be(a,b){Ae[r](this,a,b);this.Ib=a.l(zd)}K(Be,Ae);Ba(Be[t],Fb(0));Be[t].cf=function(a){this.be[E](function(b,c){this.Ib.Bh(b,a[c])},this)};function Ce(a,b){this.i=a;this.Ib=a.l(zd);this.Wa=a.l(yd);this.Sd=new Kd(a);this.Eb=b;var c=a.l(Ad),d=this.Eb.map(function(a){return c[k](a[u]())});this.pa=O(d);this.cc=Tc()}H=Ce[t];ma(H,function(){this.Sd[Ra](this.Eb);this.gd();return Oc()});H.V=Fb(1);H.ca=G("pa");H.Tc=G("cc");H.Y=function(){return Qb(this)};Ba(H,Fb(1));H.gd=function(){var a=this.Ib.Me(this.pa);0!=a[B]&&(a=new Be(this.i,a),this.Wa.ec(a))};function De(a){this.i=a;this.Fb=a.l(ud);this.Wa=a.l(yd)}De[t].pl=function(){this.Fb.subscribe(this.af[D](this))};De[t].af=function(a){a=new Ce(this.i,a);this.Wa.ec(a)};function Ee(a,b){this.hc=a;this.h=b;this.fb=N()}I("lf.backstore.FirebaseRawBackStore",Ee,void 0);H=Ee[t];H.Md=G("h");H.Nd=function(){throw new P(351);};function Fe(a,b){var c=Tc(),d=a;b[B]&&(d=a[hb](b));d[Ea]("value",function(a){c[Bb](a.val())},function(a){c[Ia](a)});return c.ja}function Ge(a,b,c){function d(a){a?g[Ia](a):g[Bb]()}c=c||!1;var g=Tc();c?a.set(b,d):a[Ra](b,d);return g.ja}
H.Da=function(a){return Fe(this.h,"@rev/R")[x](function(a){this.Va=a;return Fe(this.h,"@table")}[D](this))[x](function(b){var c=0,d;for(d in b)this.fb.set(d,b[d]),b[d]>c&&(c=b[d]);a.Ya()[E](function(a){this.fb.has(a[u]())||(b[a[u]()]=++c)},this);d=this.h[hb]("@table");return Ge(d,b)}[D](this))};
H.ie=function(a,b){var c=this.fb.get(a);return null!=c?function(){var a={},g=Tc();this.h[$a]("T").equalTo(c)[Ea]("value",function(c){c[E](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Bb](a)});return g.ja}[r](this)[x](function(a){a["@rev"]={R:++this.Va};return Ge(this.h,a)}[D](this)):Oc()};H.Jc=function(a){return this.ie(a,Fb(null))[x](function(){this.fb[Ua](a);return Ge(this.h[hb]("@table/"+a),null,!0)}[D](this))};Ee[t].dropTable=Ee[t].Jc;
Ee[t].Bc=function(a,b,c){return this.ie(a,function(a){var g=a.P;g[b]=c;return{R:this.Va+1,T:a.T,P:g}}[D](this))};Ee[t].addTableColumn=Ee[t].Bc;Ee[t].Kc=function(a,b){return this.ie(a,function(a){var d=a.P;delete d[b];return{R:this.Va+1,T:a.T,P:d}}[D](this))};Ee[t].dropTableColumn=Ee[t].Kc;Ee[t].fd=function(a,b,c){return this.ie(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Va+1,T:a.T,P:g}}[D](this))};Ee[t].renameTableColumn=Ee[t].fd;Ee[t].Gb=function(){throw new P(351);};
Ee[t].createRow=Ee[t].Gb;Ee[t].Wc=G("hc");Ee[t].getVersion=Ee[t].Wc;Ee[t].qc=function(a){var b=Tc();a=this.fb.get(a);this.h[$a]("T").equalTo(a)[Ea]("value",function(a){var d=[];a[E](function(a){d[w](a.val().P)});b[Bb](d)});return b.ja};ka(Ee[t],function(){var a={},b=pd(this.fb).map(function(b){return this.qc(b)[x](function(d){a[b]=d})}[D](this));return Sc(b)[x](function(){return a})});ka(Ee[t],Ee[t].dump);function He(a,b,c){sd[r](this,c,b);this.h=a}K(He,sd);He[t].K=function(a){return this.h.Uc(a)};
He[t].Gc=function(){var a=this.Hj().lg();if(0==a[F])this.Z[Bb]();else{var b=this.h.Uj()+1;this.h.ph(b);var c={"@rev":{R:b}};a[E](function(a,g){var h=this.h.rg(g);a.Oc()[E](function(a,d){c[d]={R:b,T:h,P:a.o()}});a.Sc()[E](function(a,d){c[d]={R:b,T:h,P:a[1].o()}});a.Qc()[E](function(a,b){c[b]=null})},this);this.h.Rj()[Ra](c,function(c){if(null===c)this.Z[Bb]();else this.h.ph(b-1),c=qd(a).map(function(a){return this.h.eh(a[u]())},this),Sc(c)[x](this.Z[Ia][D](this.Z),this.Z[Ia][D](this.Z))}[D](this))}return this.Z.ja};function Ie(){this.wb=N()}H=Ie[t];H.Le=function(a){if(0==a[B])return qd(this.wb);var b=[];a[E](function(a){a=this.wb.get(a)||null;null===a||b[w](a)},this);return b};H.getData=G("wb");H.get=function(a){return Oc(this.Le(a))};H.gf=function(a){a[E](function(a){this.wb.set(a.id(),a)},this)};H.put=function(a){this.gf(a);return Oc()};H.fh=function(a){0==a[B]||a[B]==this.wb[F]?this.wb[ab]():a[E](function(a){this.wb[Ua](a)},this)};ua(H,function(a){this.fh(a);return Oc()});
H.Jj=function(){return 0==this.wb[F]?0:pd(this.wb)[Ha](function(a,b){return a>b?a:b},0)};function Je(a,b){this.m=a;this.Lh=b;this.ed=N();this.Va=-1;this.H=N();this.fb=N();this.re=null}H=Je[t];H.Uj=G("Va");H.ph=Eb("Va");
H.Da=function(a){this.h=this.Lh[hb](this.m[q]());var b=a||function(){return Oc()};return Fe(this.h,"@db/version")[x](function(a){return null===a?Ge(this.h,this.Fi(),!0)[x](function(){var a=new Ee(0,this.h);return b(a)}[D](this)):a==this.m[qb]()?Fe(this.h,"@rev/R")[x](function(a){this.Va=a;return Fe(this.h,"@table")}[D](this))[x](function(a){for(var b in a)this.fb.set(b,a[b]);a=this.m.Ya().map(function(a){return this.eh(a[u]())},this);return Sc(a)}[D](this))[x](function(){this.kk();this.Pg();return Oc()}[D](this)):
this.df(a,b)[x](function(){return this.Da()}[D](this))}[D](this))};H.df=function(a,b){var c=new Ee(a,this.h);return c.Da(this.m)[x](function(){return this.zl()}[D](this))[x](function(){return b(c)})[x](function(){var a=this.h[hb]("@db");return Ge(a,{version:this.m[qb]()},!0)}[D](this))};H.zl=function(){return Oc()};H.Pg=function(){this.h.off();this.h.on("child_removed",this.Jk[D](this));this.se&&(this.se.off(),this.ed[ab]());this.se=this.h[$a]("R").startAt(this.Va+1);this.se.on("value",this.af[D](this))};
H.kk=function(){$c=qd(this.H).map(function(a){return a.Jj()})[Ha](function(a,b){return a>b?a:b},0)+1};H.Jk=function(a){var b=a.val(),c=this.ed.get(b.T)||null;null===c&&(c=O(),this.ed.set(b.T,c));c.add(da(a.key(),10))};H.af=function(a){var b=a[hb]("@rev/R").val();null!=b&&b!=this.Va&&(this.Va=b,a=this.pj(a),a[E](function(a){var b=this.H.get(a[u]()),g=pd(a.Qc());0<g[B]&&b.fh(g);var h=qd(a.Oc());a.Sc()[E](function(a){h[w](a[1])});b.gf(h)},this),0<a[B]&&this.ad(a),this.Pg())};
H.pj=function(a){var b=O(),c=N();this.fb[E](function(a,g){var h=this.H.get(g),l=new Sd(g);if(this.ed.has(a)){var p=Bd(this.ed.get(a));p[E](function(a){b.add(a)});h.Le(p)[E](function(a){l[Ua](a)})}c.set(a,l)}[D](this));a[E](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b.has(g)){a=a.val();var h=c.get(a.T),l=this.H.get(h[u]());l.getData().has(g)?h.modify([l.Le([g])[0],new Zc(g,a.P)]):h.add(new Zc(g,a.P))}}}[D](this));return qd(c)[Da](function(a){return!a.Qe()})};
H.eh=function(a){var b=Tc(),c=this.rg(a);this.h[$a]("T").equalTo(c)[Ea]("value",function(c){var g=new Ie,h=[];c[E](function(a){h[w](new Zc(da(a.key(),10),a.val().P))});g.gf(h);this.H.set(a,g);b[Bb]()}[D](this));return b.ja};H.rg=function(a){return this.fb.get(a)};H.Fi=function(){var a={};a["@db"]={version:this.m[qb]()};a["@rev"]={R:1};this.Va=1;a["@table"]={};this.m.Ya()[E](function(b,c){var d=b[u]();a["@table"][d]=c;this.H.set(d,new Ie);this.fb.set(d,c)},this);return a};
H.Rb=function(a,b){return new He(this,a,b)};H.Uc=function(a){var b=this.H.get(a)||null;if(null!==b)return b;throw new P(101,a);};H.Rj=G("h");oa(H,Db());Aa(H,Eb("re"));H.ad=function(a){null!=this.re&&this.re(a)};function Q(a,b,c,d){this.h=b;this.Pa=c;this.hc=a;this.sd=d}I("lf.backstore.IndexedDBRawBackStore",Q,void 0);Q[t].Md=G("h");Q[t].getRawDBInstance=Q[t].Md;Q[t].Nd=G("Pa");Q[t].getRawTransaction=Q[t].Nd;Q[t].Jc=function(a){return new M(function(b,c){try{this.h.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};Q[t].dropTable=Q[t].Jc;
Q[t].Nk=function(a,b,c){return new M(function(d,g){var h;try{var l=this.Pa[rb](a);h=l[Ca]()}catch(p){g(p);return}ra(h,function(){var a=h[Cb];a?(b(a),a[eb]()):(c(l),d())});xa(h,g)},this)};function Ke(a){var b=null;return b=a instanceof ArrayBuffer?cd(a):a instanceof Date?a[Ab]():a}Q[t].vf=function(a,b){function c(a){var c=Fd(a[v]),d=c.vc(),p;for(p in d){var y=ad(d[p]);b(y);d[p]=y.Ga()}a[Ra](c.Ga())}function d(a){var c=ad(a[v]);b(c);a[Ra](c.Ga())}return this.Nk(a,this.sd?c:d,Db())};
Q[t].Bc=function(a,b,c){var d=Ke(c);return this.vf(a,function(a){a.o()[b]=d})};Q[t].addTableColumn=Q[t].Bc;Q[t].Kc=function(a,b){return this.vf(a,function(a){delete a.o()[b]})};Q[t].dropTableColumn=Q[t].Kc;Q[t].fd=function(a,b,c){return this.vf(a,function(a){a.o()[c]=a.o()[b];delete a.o()[b]})};Q[t].renameTableColumn=Q[t].fd;
Q[t].Xj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Pa[rb](a)[Ca]()}catch(h){d(h);return}ra(g,J(function(){var a=g[Cb];if(a){if(this.sd){var d=Fd(a[v]).vc(),h;for(h in d)b[w](d[h])}else b[w](a[v]);a[eb]()}else c(b)},this));xa(g,d)},this)};Q[t].Gb=function(a){var b={};sc(a,J(function(a,d){b[d]=Ke(a)},this));return bd(b)};Q[t].createRow=Q[t].Gb;Q[t].Wc=G("hc");Q[t].getVersion=Q[t].Wc;
ka(Q[t],function(){for(var a=this.h[Fa],b=[],c=0;c<a[B];++c){var d=a[Ka](c);b[w](this.qc(d))}return Sc(b)[x](function(b){var c={};b[E](function(b,d){c[a[Ka](d)]=b});return c})});ka(Q[t],Q[t].dump);Q[t].qc=function(a){return this.Xj(a)[x](function(a){return a.map(function(a){return a[v]})})};function Le(a,b){this.X=a;this.Sb=b}H=Le[t];H.get=function(a){if(0==a[B])return this.Pc();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.X.get(a)}catch(h){d(h);return}xa(g,d);ra(g,J(function(a){c(this.Sb(a[La][Cb]))},this))},this)},this);return Sc(a)};H.Pc=function(){return new M(function(a,b){var c=[],d;try{d=this.X[Ca]()}catch(g){b(g);return}xa(d,b);ra(d,J(function(){var b=d[Cb];b?(c[w](this.Sb(b[v])),b[eb]()):a(c)},this))},this)};
H.ac=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}ra(d,b);xa(d,c)},this)};H.put=function(a){if(0==a[B])return Oc();a=a.map(function(a){return this.ac(J(function(){return this.X.put(a.Ga())},this))},this);return Sc(a)};
ua(H,function(a){return new M(function(b,c){var d=this.X[Ya]();ra(d,J(function(d){if(0==a[B]||d[La][Cb]==a[B])return this.ac(J(function(){return this.X[ab]()},this))[x](b,c);d=a.map(function(a){return this.ac(J(function(){return this.X[Ua](a)},this))},this);Sc(d)[x](b,c)},this));xa(d,c)},this)});function Me(a,b,c,d,g){sd[r](this,c,d);this.i=a;this.Pa=b;this.sd=g;this.Pa.oncomplete=J(this.Z[Bb],this.Z);this.Pa.onabort=J(this.Z[Ia],this.Z)}K(Me,sd);Me[t].K=function(a,b,c){return this.sd?(c=null!=c?c:0,a=this.Pa[rb](a),new Gd(a,b,0==c?Vb(Hd,this.i):Id)):new Le(this.Pa[rb](a),b)};Me[t].Gc=function(){return this.Z.ja};function Ne(a,b){this.i=a;this.m=b;this.td=b.ah().Qi||!1}H=Ne[t];H.Da=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Oc()};return new M(function(a,g){var h;try{h=b.open(this.m[q](),this.m[qb]())}catch(l){g(l);return}xa(h,g);h.onupgradeneeded=J(function(a){this.Mk(c,a)[x](Db(),g)},this);ra(h,J(function(b){this.h=b[La][Cb];this.nf()[x](J(function(b){$c=b+1;a(this.h)},this))},this))},this)};
H.Mk=function(a,b){var c=b[La][Cb],d=b[La][jb],g=new Q(b.oldVersion,c,d,this.td);this.bl(c,d);this.Ki(c,d);return a(g)};H.bl=function(a){for(var b=[],c=0;c<a[Fa][B];++c){var d=a[Fa][Ka](c);-1!=d[Wa](".")&&b[w](d)}b[E](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.Ki=function(a,b){this.m.Ya()[E](Vb(this.Hi,a,b),this)};H.Hi=function(a,b,c){a[Fa].contains(c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Jb()&&(c.Ca()[E](function(c){this.Ic(a,b,c.j(),"btree")},this),this.Ic(a,b,c.Tb(),"rowid"))};
H.Ic=function(a,b,c,d){a[Fa].contains(c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[rb](c),(this.td?new Gd(a,ad,Id):new Le(a,ad)).put([new ed(new dd(d))]))};H.Rb=function(a,b){var c=pd(b.ca());b.Fj()[E](function(a){c[w](a)});var d=this.h[jb](c,0==a?"readonly":"readwrite");return new Me(this.i,d,b,a,this.td)};
H.nf=function(a){function b(){if(0==c[B])return Oc();var a=c[ob]();return l(a)[x](b)}var c=this.m.Ya().map(function(a){return a[u]()}),d=this.h,g=0,h=J(function(a){return this.td?(a=Fd(a[v]),tc(a.vc())[Ha](function(a,b){return ba.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var Za;try{Za=(a||d[jb]([b]))[rb](b)[Ca](null,"prev")}catch(yc){l(yc);return}ra(Za,function(a){(a=a[La][Cb])&&(g=ba.max(g,h(a)));c(g)});xa(Za,function(){c(g)})},this)},this);return new M(function(a){b()[x](function(){a(g)})})};
oa(H,function(){this.h[Na]()});H.Uc=function(){throw new P(511);};Aa(H,Db());H.ad=Db();function Oe(a,b,c){sd[r](this,c,b);this.X=a;0==b&&this.Z[Bb]()}K(Oe,sd);Oe[t].K=function(a){return this.X.Uc(a)};Oe[t].Gc=function(){this.Z[Bb]();return this.Z.ja};function Pe(a){this.m=a;this.H=N()}H=Pe[t];H.Da=function(){this.m.Ya()[E](this.mk,this);return Oc()};H.Uc=function(a){var b=this.H.get(a)||null;if(null===b)throw new P(101,a);return b};H.Rb=function(a,b){return new Oe(this,a,b)};H.Yf=function(a){if(!this.H.has(a)){var b=new Ie;this.H.set(a,b);return b}return null};H.mk=function(a){this.Yf(a[u]());a.Jb()&&(a.Ca()[E](function(a){this.Ic(a.j(),"btree")},this),this.Ic(a.Tb(),"rowid"))};H.Ic=function(a,b){var c=this.Yf(a);null===c||c.put([new ed(new dd(b))])};
oa(H,Db());Aa(H,Db());H.ad=Db();function Qe(a){Pe[r](this,a);this.Wd=null}K(Qe,Pe);Aa(Qe[t],function(a){null===this.Wd&&(this.Wd=a)});Qe[t].ad=function(a){null===this.Wd||this.Wd(a)};function Re(a,b,c){this.Pa=a;this.u=b;this.Sb=c}Re[t].get=function(a){var b=this.Sb;this.Pa.Na("SELECT id, value FROM "+this.u+" "+(0==a[B]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[yb][B],g=e(d),h=0;h<d;++h)g[h]=b({id:a[yb][Ka](h).id,value:ga.parse(a[yb][Ka](h)[v])});return g});return this.Pa.ma()};Re[t].put=function(a){if(0==a[B])return Oc();var b="INSERT OR REPLACE INTO "+this.u+"(id, value) VALUES (?, ?)";a[E](function(a){this.Pa.Na(b,[a.id(),ga[ub](a.o())])},this);return Oc()};
ua(Re[t],function(a){this.Pa.Na("DELETE FROM "+this.u+" "+(0==a[B]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Oc()});function Se(a,b,c){sd[r](this,b,c);this.h=a;this.H=N();this.ye=[]}K(Se,sd);Se[t].K=function(a,b){var c=this.H.get(a)||null;null===c&&(c=new Re(this,a,b),this.H.set(a,c));return c};Se[t].Na=function(a,b,c){this.ye[w]({ql:a,Ok:b,transform:c})};
Se[t].Gc=function(){var a,b,c=this.Z[Ia][D](this.Z),d=function(a,b){this.Z[Ia](b)}[D](this),g=J(function(c,l){a=l;if(this.ye[B]){var p=this.ye[ob]();b=p.transform;c.executeSql(p.ql,p.Ok,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.Z[Bb](p)},this);0==this.yh?this.h.readTransaction(g,c):this.h[jb](g,c);return this.Z.ja};function R(a,b,c){this.h=c;this.i=a;this.hc=b}I("lf.backstore.WebSqlRawBackStore",R,void 0);R[t].Md=G("h");R[t].getRawDBInstance=R[t].Md;R[t].Nd=function(){throw new P(356);};R[t].getRawTransaction=R[t].Nd;R[t].zd=function(){return new Se(this.h,new Td(this.i,O()),1)};R[t].Jc=function(a){var b=this.zd();b.Na("DROP TABLE "+a,[]);return b.ma()};R[t].dropTable=R[t].Jc;
R[t].qc=function(a){var b=this.zd();b.Na("SELECT id, value FROM "+a,[]);return b.ma()[x](function(a){for(var b=a[yb][B],g=e(b),h=0;h<b;++h)g[h]={id:a[yb][Ka](h).id,value:ga.parse(a[yb][Ka](h)[v])};return Oc(g)})};R[t].uf=function(a,b){var c=this.zd(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.qc(a)[x](function(a){a[E](function(a){a=b(a);c.Na(d,[ga[ub](a[v]),a.id])});return c.ma()})};R[t].Bc=function(a,b,c){var d=Ke(c);return this.uf(a,function(a){a[v][b]=d;return a})};
R[t].addTableColumn=R[t].Bc;R[t].Kc=function(a,b){return this.uf(a,function(a){delete a[v][b];return a})};R[t].dropTableColumn=R[t].Kc;R[t].fd=function(a,b,c){return this.uf(a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};R[t].renameTableColumn=R[t].fd;R[t].Gb=function(a){var b={},c;for(c in a)b[c]=Ke(a[c]);return bd(b)};R[t].createRow=R[t].Gb;R[t].Wc=G("hc");R[t].getVersion=R[t].Wc;
function Te(a){a.Na('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[yb][B]),d=0;d<c[B];++d)c[d]=a[yb][Ka](d).tbl_name;return c})}ka(R[t],function(){var a=Tc(),b=this.zd();Te(b);var c={};b.ma()[x](J(function(b){b=b[Da](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.qc(a)[x](function(b){c[a]=b})},this);Sc(b)[x](function(){a[Bb](c)})},this));return a.ja});ka(R[t],R[t].dump);function Ue(a,b,c){this.i=a;this.m=b;this.ml=c||4194304}H=Ue[t];H.Ed=function(){return new Td(this.i,O())};H.Da=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Oc()};return new M(J(function(a,d){try{var g=ca.openDatabase(this.m[q](),"",this.m[q](),this.ml);if(null!=g)this.h=g,this.xi(b)[x](a,d);else throw new P(354);}catch(h){d(h)}},this))};
H.xi=function(a){var b=Tc(),c=new Se(this.h,this.Ed(),1);c.Na("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Na("SELECT v FROM __lf_ver WHERE id = 0",[]);c.ma()[x](J(function(c){var g=0;c[yb][B]&&(g=c[yb][Ka](0).v);g<this.m[qb]()?this.df(a,g)[x](b[Bb][D](b)):g>this.m[qb]()?b[Ia](new P(108)):b[Bb]()},this));return b.ja};H.Rb=function(a,b){if(null!=this.h)return new Se(this.h,b,a);throw new P(2);};oa(H,Db());H.Uc=function(){throw new P(512);};
H.Sg=function(){throw new P(355);};Aa(H,function(){this.Sg()});H.ad=function(){this.Sg()};H.df=function(a,b){var c=Tc();this.Rk()[x](J(function(){a(new R(this.i,b,this.h))[x](J(function(){return this.nf()},this))[x](c[Bb][D](c))},this),c[Ia][D](c));return c.ja};
H.Rk=function(){var a=this.m.Ya(),b=new Se(this.h,this.Ed(),1),c=new Se(this.h,this.Ed(),1);b.Na("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.m[qb]()]);Te(b);return b.ma()[x](function(b){b[Da](function(a){return-1!=a[Wa](".")})[E](function(a){c.Na("DROP TABLE "+a,[])});var g=b[Da](function(a){return-1==a[Wa](".")});a.map(function(a){return a[u]()})[Da](function(a){return-1==g[Wa](a)})[E](function(a){c.Na("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.ma()})};
H.nf=function(){var a=0,b=Tc(),c=J(function(b){var c=new Se(this.h,this.Ed(),0);c.Na("SELECT MAX(id) FROM "+b,[]);return c.ma()[x](function(b){b=b[yb][Ka](0)[0];a=ba.max(b,a)})},this),d=this.m.Ya().map(function(a){return c(a[u]())});Sc(d)[x](function(){b[Bb](a)},function(a){b[Ia](a)});return b.ja};function Ve(){this.C=N();this.uh=N()}H=Ve[t];H.Od=function(a){var b=this.uh.get(a);Hb(b)||(b=O(),this.uh.set(a,b));return b};H.set=function(a,b){var c=this.Od(a);b[E](J(function(a){this.C.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.C.get(a)||null},this))};
H.mb=function(a,b,c){var d=[],g=ba.min(b,c),h=ba.max(b,c);a=this.Od(a);if(a[F]<h-g)a[E](function(a){a>=g&&a<=h&&(a=this.C.get(a),L(null!=a,"Inconsistent cache"),d[w](a))},this);else for(b=g;b<=h;++b)a.has(b)&&(c=this.C.get(b),L(null!=c,"Inconsistent cache"),d[w](c));return d};ua(H,function(a,b){var c=this.Od(a);b[E](function(a){this.C[Ua](a);c[Ua](a)},this)});H.kg=function(a){return null!=a?this.Od(a)[F]:this.C[F]};function Xe(a,b){for(var c=0,d=a[B];c<d;){var g=c+d>>1;a[g]<b?c=g+1:d=g}return c==d&&a[c]==b?c:~c};function Ye(a,b,c,d){a=b?a[db]():a;if(null==c&&null==d)return a;c=ba.min(Hb(c)?c:a[B],a[B]);if(0==c)return[];d=ba.min(d||0,a[B]);return a[n](d,d+c)};function Ze(){this.qa=0}Ze[t].add=function(a,b){this.qa+=b};ua(Ze[t],function(a,b){this.qa-=b});sa(Ze[t],function(){this.qa=0});Ze[t].yl=function(a){this[ab]();a[E](function(a){this.qa+=a.qa},this)};function $e(a,b,c,d){this.u=a;this.O=b;this.xf=c;this.tb=new Ze;if(d){a=511;a*=a*a;if(d[B]>=a)throw new P(6,a);d=af(this,d);this.oa=d=bf(d)}else this[ab]()}var cf=[];H=$e[t];na(H,G("u"));f(H,function(){return this.oa[C]()});H.add=function(a,b){this.oa=this.oa.Ab(a,b)};H.set=function(a,b){this.oa=this.oa.Ab(a,b,!0)};ua(H,function(a,b){this.oa=this.oa[gb](a,b)});H.get=function(a){return this.oa.get(a)};
H.yd=function(a){if(null==a)return this.Xa().qa;if(a instanceof Ud){if(a.Ag())return this.Xa().qa;if(a.Fg())return this.get(a.b)[B]}return this.mb([a])[B]};H.Xa=G("tb");H.Pc=function(a,b,c,d){c=e(a);this.oa.fill({offset:b?this.tb.qa-a-d:d,count:a,tf:0},c);return b?c[db]():c};
H.mb=function(a,b,c,d){var g=this.oa.Id().c[0];if(!Hb(g)||0==c)return cf;b=b||!1;c=null!=c?ba.min(c,this.tb.qa):this.tb.qa;d=d||0;var h=ba.min(ba.max(this.tb.qa-d,0),c);if(0==h)return cf;if(!Hb(a)||1==a[B]&&a[0]instanceof Ud&&a[0].Ag())return this.Pc(h,b,c,d);a=this.O.sh(a);var l=e(b?this.tb.qa:h),p={count:0,W:l[B],reverse:b,M:d};a[E](function(a){for(var b=this.O.ce(a),b=this.O.Se(a)?g:b[0],b=this.oa.jg(b),c=p[Ya],d=0;null!=b&&p[Ya]<p.W;)b.mb(a,p,l),p[Ya]!=c?(d=0,c=p[Ya]):d++,b=2==d?null:b[nb]()},
this);l[z](p[Ya],h-p[Ya]);return b?Ye(l,b,c,d):l};sa(H,function(){this.oa=df(this);this.tb[ab]()});H.ua=function(a){return this.oa.ua(a)};H.min=function(){return this.$c(J(this.O.min,this.O))};H.max=function(){return this.$c(J(this.O.max,this.O))};H.$c=function(a){var b=this.oa.Id(),c=this.oa.qg();if(0==b.c[B]&&0==c.c[B])return null;var d=b.c[0],b=b.w[0],g=c.c[c.c[B]-1],c=c.w[c.c[B]-1];return 1==a(d,g)?[d,this.xf?[b]:b]:[g,this.xf?[c]:c]};H.Ka=G("xf");H.Hc=G("O");
H.Ye=function(a,b){return null!=a?-1==this.O[wb](a,b):!1};H.Ra=function(a,b){return null!=a?0==this.O[wb](a,b):!1};H.Ga=function(){for(var a=[],b=this.oa.Id();b;)a[w](new Zc(b.wa,[b.c,b.w])),b=b.xa;return a};function ef(a,b,c,d){a=new $e(b,a,c);d=ff(d,a);a.oa=d;return a}function gf(a,b){this.wa=a;this.B=b;this.ob=0;this.xa=this.Cb=this.D=null;this.c=[];this.w=[];this.g=[]}function df(a){return new gf($c++,a)}H=gf[t];H.ia=function(){return 0==this.ob};H.Ig=function(){return null==this.D};wa(H,G("xa"));
function hf(a){function b(a){return null!=a?a.wa[C]():"_"}var c=a.wa+"["+a.c[m]("|")+"]",d=a.g.map(function(a){return a.wa})[m]("|"),g=a.w[m]("/"),h=b(a.Cb)+"{",h=a.ia()?h+g:h+d,h=h+"}"+b(a.D);a.xa&&(a=hf(a.xa),c=c+"  "+a[0],h=h+"  "+a[1]);return[c,h]}f(H,function(){var a="",b=hf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.g[B]&&(a+=this.g[0][C]());return a});H.Id=function(){return this.ia()?this:this.g[0].Id()};H.qg=function(){return this.ia()?this:this.g[this.g[B]-1].qg()};
function jf(a,b){b&&(b.Cb=a);a&&(a.xa=b)}function af(a,b){for(var c=b[B],d=0,g=df(a),h=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.c=p.map(function(a){return a.key});g.w=p.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=df(g.B),jf(g,l),g=l)}return h}function kf(a){var b=a[0],c=df(b.B);c.ob=b.ob+1;c.g=a;for(b=0;b<a[B];++b)a[b].D=c,0<b&&c.c[w](a[b].c[0]);return c}
function bf(a){var b=a,c=[];do c[w](b),b=b.xa;while(b);if(512>=c[B])b=kf(c);else{var d=c[B],g=0,b=df(a.B);for(b.ob=a.ob+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var h=c[n](g,g+a),l=kf(h);l.D=b;b.g[B]&&(b.c[w](h[0].c[0]),jf(b.g[b.g[B]-1],l));b.g[w](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.hd(a);if(this.ia()){var c=cf;this.B.Ra(this.c[b],a)&&(c=c[Oa](this.w[b]));return c}b=this.B.Ra(this.c[b],a)?b+1:b;return this.g[b].get(a)};
H.ua=function(a){var b=this.hd(a);return this.B.Ra(this.c[b],a)?!0:this.ia()?!1:this.g[b].ua(a)};ua(H,function(a,b){this.ag(a,-1,b);if(this.Ig()){var c=this;1==this.g[B]&&(c=this.g[0],c.D=null);return c}return this});function mf(a){return a.ia()?a.c[0]:mf(a.g[0])}H.Bd=function(){this.c=[];for(var a=1;a<this.g[B];++a)this.c[w](mf(this.g[a]))};
H.ag=function(a,b,c){var d=this.hd(a),g=this.ia();if(!g){var h=this.B.Ra(this.c[d],a)?d+1:d;if(this.g[h].ag(a,h,c))this.Bd();else return!1}else if(!this.B.Ra(this.c[d],a))return!1;if(this.c[B]>d&&this.B.Ra(this.c[d],a)){if(Hb(c)&&!this.B.Ka()&&g&&(h=this.w[d],c=Xe(h,c),0>c?c=!1:(h[z](c,1),c=!0),c&&this.B.Xa()[gb](a,1),this.w[d][B]))return!1;this.c[z](d,1);g&&(g=this.B.Ka()?1:this.w[d][B],this.w[z](d,1),this.B.Xa()[gb](a,g))}256>this.c[B]&&!this.Ig()&&(this.rl()||this.Fk(b));return!0};
H.rl=function(){var a=null,b,c,d;if(this.xa&&256<this.xa.c[B])a=this.xa,c=b=0,d=this.c[B]+1;else if(this.Cb&&256<this.Cb.c[B])a=this.Cb,b=this.Cb.c[B]-1,c=this.ia()?b:b+1,d=0;else return!1;this.c[z](d,0,a.c[b]);a.c[z](b,1);b=this.ia()?this.w:this.g;var g=null;this.ia()?g=a.w:(g=a.g,g[c].D=this);b[z](d,0,g[c]);g[z](c,1);a.ia()||(a.Bd(),this.Bd());return!0};
H.Fk=function(a){var b,c,d;this.xa&&511>this.xa.c[B]?(b=this.xa,d=c=0):this.Cb&&(b=this.Cb,c=b.c[B],d=b.ia()?b.w[B]:b.g[B]);c=[c,0][Oa](this.c);e[t][z][tb](b.c,c);c=null;this.ia()?c=this.w:(c=this.g,c[E](function(a){a.D=b}));c=[d,0][Oa](c);e[t][z][tb](b.ia()?b.w:b.g,c);jf(this.Cb,this.xa);b.ia()||b.Bd();-1!=a&&(this.D.c[z](a,1),this.D.g[z](a,1))};
H.Ab=function(a,b,c){var d=this.hd(a);if(this.ia()){if(this.B.Ra(this.c[d],a)){if(c)this.B.Xa()[gb](a,this.B.Ka()?1:this.w[d][B]),this.w[d]=this.B.Ka()?b:[b];else{if(this.B.Ka())throw new P(201);d=this.w[d];c=Xe(d,b);0>c?(d[z](-(c+1),0,b),b=!0):b=!1;if(!b)throw new P(109);}this.B.Xa().add(a,1);return this}this.c[z](d,0,a);this.w[z](d,0,this.B.Ka()?b:[b]);this.B.Xa().add(a,1);return 512==this.c[B]?this.ol():this}d=this.B.Ra(this.c[d],a)?d+1:d;a=this.g[d].Ab(a,b,c);a.ia()||1!=a.c[B]||(this.c[z](d,0,
a.c[0]),a.g[1].D=this,a.g[0].D=this,this.g[z](d,1,a.g[1]),this.g[z](d,0,a.g[0]));return 512==this.c[B]?this.nl():this};H.ol=function(){var a=df(this.B),b=df(this.B);b.ob=1;b.c=[this.c[256]];b.g=[this,a];b.D=this.D;this.D=b;a.c=this.c[z](256);a.w=this.w[z](256);a.D=b;jf(a,this.xa);jf(this,a);return b};
H.nl=function(){var a=df(this.B),b=df(this.B);a.D=this.D;a.ob=this.ob+1;a.c=[this.c[256]];a.g=[this,b];this.c[z](256,1);b.D=a;b.ob=this.ob;b.c=this.c[z](256);b.g=this.g[z](257);b.g[E](function(a){a.D=b});this.D=a;jf(b,this.xa);jf(this,b);return a};H.hd=function(a){for(var b=0,c=this.c[B];b<c;){var d=b+c>>1;this.B.Ye(this.c[d],a)?b=d+1:c=d}return b};H.jg=function(a){if(!this.ia()){var b=this.hd(a);this.B.Ra(this.c[b],a)&&b++;return this.g[b].jg(a)}return this};
H.mb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var g=this.B.Hc(),h=0,l=this.c[B]-1,p=this.c,y=d(g.vb(p[h],a)),za=d(g.vb(p[l],a));if(1!=y&&(-1!=y||-1!=za)){var Za=function(a,b){var c=a+b>>1;return c==a?c+1:c},yc=function(b,c,h){if(b>=c)return 0==h?c:-1;var l=d(g.vb(p[b],a));if(0==l)return b;if(1==l)return-1;l=Za(b,c);if(l==c)return 0==h?c:-1;var y=d(g.vb(p[l],a));return 0==y?yc(b,l,y):-1==y?yc(l+1,c,h):yc(b+1,l,y)},We=function(b,c){if(b>=c)return b;var h=d(g.vb(p[c],a));if(0==h)return c;
if(-1==h)return b;h=Za(b,c);if(h==c)return b;var l=d(g.vb(p[h],a));return 0==l?We(h,c):1==l?We(b,h-1):-1};0!=y&&(h=yc(h+1,l,za));-1!=h&&(l=We(h,l),-1!=l&&l>=h&&this.Nh(b,c,h,l+1))}};H.Nh=function(a,b,c,d){for(;c<d&&(a[db]||!(a[Ya]>=a.W));++c)if(this.B.Ka())!a[db]&&a.M?a.M--:b[a.count++]=this.w[c];else for(var g=0;g<this.w[c][B]&&a[Ya]<b[B];++g)!a[db]&&a.M?a.M--:b[a.count++]=this.w[c][g]};
H.fill=function(a,b){if(this.ia())for(var c=0;c<this.w[B]&&0<a[Ya];++c)if(0<a[sb]){if(a.offset=a[sb]-(this.B.Ka()?1:this.w[c][B]),0>a[sb])for(var d=this.w[c][B]+a[sb];d<this.w[c][B]&&0<a[Ya];++d)b[a.tf++]=this.w[c][d],a.count--}else if(this.B.Ka())b[a.tf++]=this.w[c],a.count--;else for(d=0;d<this.w[c][B]&&0<a[Ya];++d)b[a.tf++]=this.w[c][d],a.count--;else for(c=0;c<this.g[B]&&0<a[Ya];++c)this.g[c].fill(a,b)};
function ff(a,b){for(var c=b.Xa(),d=a.map(function(a){var d=new gf(a.id(),b);d.c=a.o()[0];d.w=a.o()[1];d.c[E](function(a,g){c.add(a,b.Ka()?1:d.w[g][B])});return d}),g=0;g<d[B]-1;++g)jf(d[g],d[g+1]);return 1<d[B]?bf(d[0]):d[0]};function nf(a){if(1==a.f[B])return new of(a.f[0].qb);a=a.f.map(function(a){return a.qb});return new pf(a)}function of(a){this.xd=0==a?qf:rf;this.Ze=0==a?function(a){return null!=a?a[db]():null}:function(a){return a||null};this.Wg=0==a?sf:tf}K(of,Jd);function rf(a,b){return a>b?1:a<b?-1:0}function qf(a,b){return rf(b,a)}function tf(a,b){return Xd(a,b)}function sf(a,b){return Xd(b,a)}H=of[t];
H.vb=function(a,b){var c=this.Ze(b),d=[null===c.b,null===c.s];if(!d[0]){var g=this.xd(a,c.b);d[0]=c.aa?1==g:-1!=g}d[1]||(g=this.xd(a,c.s),d[1]=c.la?-1==g:1!=g);return d};H.compare=function(a,b){return this.xd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Re=function(a,b){var c=this.vb(a,b);return c[0]&&c[1]};H.Vg=function(a,b){return this.Wg(a,b)};
H.sh=function(a){return a[Da](function(a){return null!==a})[Va](J(function(a,c){return this.Wg(a,c)},this))};H.Se=function(a){return Lb(this.Ze(a).b)};H.ce=function(a){a=this.Ze(a);return[a.b,a.s]};f(H,function(){return this.xd==qf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function pf(a){this.Ia=a.map(function(a){return new of(a)})}K(pf,Jd);H=pf[t];H.Fe=function(a,b,c){for(var d=0,g=0;g<this.Ia[B]&&0==d;++g)d=c(this.Ia[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.Fe(a,b,function(a,b,g){return a[wb](b,g)})};H.min=function(a,b){return this.Fe(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.Fe(a,b,function(a,b,g){return a.max(b,g)})};H.vb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ia[B]&&(c[0]||c[1]);++d){var g=this.Ia[d].vb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.Re=function(a,b){for(var c=!0,d=0;d<this.Ia[B]&&c;++d)c=this.Ia[d].Re(a[d],b[d]);return c};
H.sh=function(a){var b=a[Da](function(a){return a[Qa](Mb)});a=e(this.Ia[B]);for(var c=0;c<a[B];c++)a[c]=b.map(function(a){return a[c]});a[E](function(a,b){a[Va](J(function(a,c){return this.Ia[b].Vg(a,c)},this))},this);b=e(b[B]);for(c=0;c<b[B];c++)b[c]=a.map(function(a){return a[c]});return b[Va](J(function(a,b){for(var c=0,l=0;l<this.Ia[B]&&0==c;++l)c=this.Ia[l].Vg(a[l],b[l]);return c},this))};H.Se=function(a){return this.Ia[0].Se(a[0])};
H.ce=function(a){var b=a.map(function(a,b){return this.Ia[b].ce(a)[0]},this);a=a.map(function(a,b){return this.Ia[b].ce(a)[1]},this);return[b,a]};function uf(a){this.da=a;this.pb=O();this.jd=new Ze;this.tb=new Ze}H=uf[t];na(H,function(){return this.da[u]()});H.add=function(a,b){null===a?(this.pb.add(b),this.jd.add(a,1)):this.da.add(a,b)};H.set=function(a,b){null===a?(this.pb[ab](),this.jd[ab](),this.add(a,b)):this.da.set(a,b)};ua(H,function(a,b){if(null===a)b?(this.pb[Ua](b),this.jd[gb](a,1)):(this.pb[ab](),this.jd[ab]());else this.da[gb](a,b)});H.get=function(a){return null===a?Bd(this.pb):this.da.get(a)};H.yd=function(a){return this.da.yd(a)};
H.Xa=function(){this.tb.yl([this.da.Xa(),this.jd]);return this.tb};H.mb=function(a,b,c,d){b=this.da.mb(a,b,c,d);return null!=a?b:b[Oa](Bd(this.pb))};sa(H,function(){this.pb[ab]();this.da[ab]()});H.ua=function(a){return null===a?0!=this.pb[F]:this.da.ua(a)};H.min=function(){return this.da.min()};H.max=function(){return this.da.max()};H.Ga=function(){return[new Zc(-2,Bd(this.pb))][Oa](this.da.Ga())};H.Hc=function(){return this.da.Hc()};
function vf(a,b){for(var c=-1,d=0;d<b[B];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new P(102);var d=b[c].o(),g=b[n](0);g[z](c,1);var c=a(g),h=new uf(c);d[E](function(a){h.pb.add(a)});return h}H.Ka=function(){return this.da.Ka()};function wf(a){this.u=a;this.sb=O();this.O=new of(1)}H=wf[t];na(H,G("u"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.sb.add(a)};H.set=function(a,b){this.add(a,b)};ua(H,function(a){this.sb[Ua](a)});H.get=function(a){return this.ua(a)?[a]:[]};H.min=function(){return this.$c(J(this.O.min,this.O))};H.max=function(){return this.$c(J(this.O.max,this.O))};
H.$c=function(a){if(0==this.sb[F])return null;var b=Bd(this.sb)[Ha](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.yd=function(){return this.sb[F]};H.mb=function(a,b,c,d){var g=a||[Wd()];a=Bd(this.sb)[Da](function(a){return g[Xa](function(b){return this.O.Re(a,b)},this)},this);return Ye(a,b,c,d)};sa(H,function(){this.sb[ab]()});H.ua=function(a){return this.sb.has(a)};H.Ga=function(){return[new Zc(0,Bd(this.sb))]};H.Hc=G("O");
function xf(a,b){var c=new wf(a);b[0].o()[E](function(a){c.add(a,a)});return c}H.Ka=Fb(!0);H.Xa=function(){var a=new Ze;a.qa=this.sb[F];return a};function yf(a){this.i=a;this.Fb=a.l(ud);this.G=a.l(wd);this.ra=a.l(vd)}H=yf[t];H.Da=function(a){var b=a.Ya(),c=J(function(){if(0==b[B])return Oc();var a=b[ob]();return(a.Jb()?this.dj(a):this.ej(a))[x](c)},this);return c()};H.ej=function(a){var b=new Td(this.i,O([a]));return this.Fb.Rb(0,b).K(a[u](),J(a.pc,a)).get([])[x](J(function(b){this.ra.set(a[u](),b);this.Xk(a,b)},this))};H.Xk=function(a,b){var c=this.G.sg(a[u]());b[E](function(a){c[E](function(b){var c=a.Wb(b[u]());b.add(c,a.id())})})};
H.dj=function(a){var b=new Td(this.i,O([a])),c=this.Fb.Rb(0,b),b=c.K(a[u](),a.pc).get([])[x](J(function(b){this.ra.set(a[u](),b)},this)),d=a.Ca().map(function(a){return this.Yk(a,c)},this)[Oa](this.Zk(a,c));return Sc(d[Oa](b))};H.Yk=function(a,b){var c=b.K(a.j(),ad,1),d=nf(a);return c.get([])[x](J(function(b){L("btree"==b[0].o().type);if(1<b[B]){if(a.xg()){var c=ef[D](void 0,d,a.j(),a.Yc);b=vf(c,b[n](1))}else b=ef(d,a.j(),a.Yc,b[n](1));this.G.set(a.kd,b)}},this))};
H.Zk=function(a,b){return b.K(a.Tb(),ad,1).get([])[x](J(function(b){L("rowid"==b[0].o().type);1<b[B]&&(b=xf(a.Tb(),b[n](1)),this.G.set(a[u](),b))},this))};function zf(){this.X=N();this.ge=N()}zf[t].Da=function(a){a.Ya()[E](function(a){var c=[];this.ge.set(a[u](),c);var d=a.Tb();if(null===this.get(d)){var g=new wf(d);c[w](g);this.X.set(d,g)}a.Ca()[E](function(a){var b;b=nf(a);b=new $e(a.j(),b,a.Yc);b=a.xg()?new uf(b):b;c[w](b);this.X.set(a.j(),b)},this)},this);return Oc()};zf[t].get=function(a){return this.X.get(a)||null};
zf[t].set=function(a,b){var c=this.ge.get(a)||null;null===c&&(c=[],this.ge.set(a,c));for(var d=null,g=0;g<c[B];g++)if(c[g][u]()==b[u]()){d=g;break}null!==d&&0<c[B]?c[z](d,1,b):c[w](b);this.X.set(b[u](),b)};zf[t].sg=function(a){return this.ge.get(a)||[]};function Af(a){this.xc=[];Hb(a)&&this.add(a)}f(Af[t],function(){return this.xc.map(function(a){return a[C]()})[m](",")});Af[t].ua=function(a){return this.xc[Xa](function(b){return b.contains(a)})};Af[t].Sa=G("xc");
Af[t].add=function(a){if(0!=a[B])if(a=this.xc[Oa](a),1==a[B])this.xc=a;else{a[Va](Xd);for(var b=[],c=a[0],d=1;d<a[B];++d)if(c.Xg(a[d])){var g=a[d],h=Wd();if(null!==c.b&&null!==g.b){var l=Vd(c.b,g.b,!0);1!=l?(h.b=c.b,h.aa=0!=l?c.aa:c.aa&&g.aa):(h.b=g.b,h.aa=g.aa)}null!==c.s&&null!==g.s&&(l=Vd(c.s,g.s,!1),-1!=l?(h.s=c.s,h.la=0!=l?c.la:c.la&&g.la):(h.s=g.s,h.la=g.la));c=h}else b[w](c),c=a[d];b[w](c);this.xc=b}};
function Bf(a,b){var c=[];a.Sa().map(function(a){return b.Sa().map(function(b){var c;if(a.Xg(b)){c=Wd();var l=Vd(a.b,b.b,!0),l=0==l?a.aa?a:b:-1!=l?a:b;c.b=l.b;c.aa=l.aa;null===a.s||null===b.s?b=null===a.s?b:a:(l=Vd(a.s,b.s,!1),b=0==l?a.la?a:b:-1==l?a:b);c.s=b.s;c.la=b.la}else c=null;return c})})[E](function(a){c=c[Oa](a)});return new Af(c[Da](function(a){return null!==a}))};function Cf(a,b){var c=[],d=null,g=null;a.zc(function(a){var l=b(a);null==a[xb]()?g=l:d.ka(l);var p=a[xb]();null!==p&&p.va()==d.va()&&(p=c[Wa](d),-1!=p&&c[z](p,1));1<a.va()&&c[w](l);d=a.Dg()?c[c[B]-1]:l});return g}function Df(a){return Ef(a,function(a){return a.Dg()})}function Ff(a){var b=a[xb](),c=0;null!==b&&(c=b.ba()[Wa](a),b[fb](a));var d=a.ba()[n]();d[E](function(d,h){a[fb](d);null===b||b.Ac(d,c+h)});return{parent:b,children:d}}
function Gf(a,b){a.ba()[n]()[E](function(c){a[fb](c);b.ka(c)});a.ka(b)}function Hf(a){L(1==a.va());var b=a.kb(0);L(1==b.va());Ff(a);Gf(b,a);return b}function If(a,b,c){L(1==a.va());var d=a.kb(0);L(1<d.va());var g=d.ba()[n]();if(!g[Xa](function(a){return b(a)}))return a;Ff(a);g[E](function(g,l){if(b(g)){var p=c(a);d.de(l);p.ka(g);d.Ac(p,l)}});return d}function Jf(a,b,c,d){var g=a[xb]();null!==g&&(a=g.ba()[Wa](a),g.de(a),g.Ac(c,a));b.ba()[n]()[E](function(a){b[fb](a);d.ka(a)});return c}
function Ef(a,b,c){function d(a){b(a)&&g[w](a);null!=c&&c(a)||a.ba()[E](d)}var g=[];d(a);return g}function Kf(a,b){var c=b||function(a){return a[C]()+"\n"},d="";a.zc(function(a){for(var b=0;b<a.Dj();b++)d+="-";d+=c(a)});return d};function Lf(a){re[r](this);this.Zb=a;this.bb=!1}K(Lf,re);H=Lf[t];H.Qb=function(){return Cf(this,function(a){if(a instanceof Lf){var b=new Lf(a.Zb);b.bb=a.bb;b.rf(a.Y());return b}return a.Qb()}[D](this))};H.lb=function(a){var b=a||[];this.zc(function(a){a!=this&&a.lb(b)}[D](this));a=O(b);return Bd(a)};H.fe=function(a){this.bb!=a&&(this.bb=a,this.Zb="and"==this.Zb?"or":"and",this.ba()[E](function(b){return b.fe(a)}))};H.eval=function(a){var b=this.ba().map(function(b){return b.eval(a)});return this.Ai(b)};
H.Ai=function(a){return"and"==this.Zb?be(a):ce(a)};f(H,function(){return"combined_pred_"+this.Zb[C]()});function Mf(){this[ab]()}var Nf=aa[t][Ta],Of=aa[t][pb];H=Mf[t];H.set=function(a,b){this.qd(a);var c=!this.Qd(a);this.C[a]=b;if("__proto__"==a||!Pf&&!Nf[r](this.C,a)){delete this.C[a];var d=dc(this.Lb,a);if(c=0>d)d=this.Lb[B];this.Lb[d]=a;this.of[d]=b}c&&this.$a++};H.get=function(a,b){this.qd(a);if(this.Qd(a))return this.C[a];var c=dc(this.Lb,a);return 0<=c?this.of[c]:b};
ua(H,function(a){this.qd(a);if(this.Qd(a))return this.$a--,delete this.C[a],!0;a=dc(this.Lb,a);return 0<=a?(this.$a--,ic(this.Lb,a),ic(this.of,a),!0):!1});H.addAll=function(a){ec(a.xb(),function(b){this.set(b,a.get(b))},this)};H.Qe=function(){return!this.$a};H.kg=G("$a");H.ua=function(a){this.qd(a);return this.Qd(a)||0<=dc(this.Lb,a)};H.xb=function(){var a;if(Qf)a=kc(aa.keys(this.C));else{a=[];for(var b in this.C)Of[r](this.C,b)&&a[w](b)}lc(a,this.Lb);return a};
H.Sa=function(){for(var a=[],b=this.xb(),c=0;c<b[B];c++)a[w](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.xb(),c=0;c<b[B];c++){var d=b[c];a[w]([d,this.get(d)])}return a};sa(H,function(){this.C=Pf?aa[ib](null):{};this.Lb=[];this.of=[];this.$a=0});la(H,function(){var a=new Mf;a.addAll(this);return a});H.Qd=function(a){return"__proto__"==a?!1:Pf?a in this.C:Of[r](this.C,a)};H.qd=function(a){L(Ob(a),"key must be a string.")};var Pf=!!aa[ib],Qf=!!aa.keys;function Rf(){this[ab]()}H=Rf[t];H.$a=0;sa(H,function(){this.$a=0;this.C=new Mf});la(H,function(){var a=new Rf;a.Gh(this);return a});H.add=function(a,b){var c=this.C.get(a);c||this.C.set(a,c=[]);c[w](b);this.$a++};H.Gh=function(a){ec(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.C.get(a))?kc(a):[]};
ua(H,function(a,b){var c=this.C.get(a);if(!c)return!1;var d=jc(c,function(a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a});d&&(this.$a--,0==c[B]&&this.C[gb](a));return d});H.Qe=function(){return!this.$a};H.kg=G("$a");H.ua=function(a){return this.C.ua(a)};H.xb=function(){return this.C.xb()};H.Sa=function(){return rc(this.C.Sa())};H.getEntries=function(){for(var a=this.xb(),b=[],c=0;c<a[B];c++)for(var d=a[c],g=this.get(d),h=0;h<g[B];h++)b[w]([d,g[h]]);return b};function Sf(a,b,c){re[r](this);this.La=a;this.Aa=b;this.J=c;this.$e=null;this.Ad=ie.Gd().Ge(this.La.V(),this.J)}K(Sf,re);H=Sf[t];H.Qb=function(){var a=new Sf(this.La,this.Aa,this.J);a.rf(this.Y());return a};H.lb=function(a){return null!=a?(a[w](this.La),a[w](this.Aa),a):[this.La,this.Aa]};H.reverse=function(){var a=this.J;switch(this.J){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new Sf(this.Aa,this.La,a)};
H.eval=function(a){var b=a[A][Da](function(a){var b=a.S(this.La);a=a.S(this.Aa);return this.Ad(b,a)},this);return new Yd(b,a.U())};f(H,function(){return"join_pred("+this.La.j()+", "+this.Aa.j()+")"});H.Jf=function(a){return-1!=a.U()[Wa](this.La.K().na())};H.Oh=function(a){return-1!=a.U()[Wa](this.Aa.K().na())};H.bg=function(a,b){var c=null,d=null;this.Jf(a)?(this.Lf(a,b),c=a,d=b):(this.Lf(b,a),c=b,d=a);return[c,d]};
H.Lf=function(a,b){L(this.Jf(a),"Mismatch between join predicate left operand and right relation.");L(this.Oh(b),"Mismatch between join predicate right operand and right relation.")};H.Gi=function(a){var b={};a.lb()[E](function(a){b[a[u]()]=null});return b};H.Xf=function(a,b){null===this.$e&&(this.$e=this.Gi(this.Aa.K()));var c=new ee(new Zc(-1,this.$e),!1);return ge(a,b,c,[this.Aa.K().na()])};
H.Ui=function(a,b,c){var d=[a,b];c||(d=this.bg(a,b));a=d[0];b=d[1];for(var d=[],g=a.U(),h=b.U(),l=0;l<a[A][B];l++){var p=!1,y=a[A][l].S(this.La);if(null!==y)for(var za=0;za<b[A][B];za++)if(this.Ad(y,b[A][za].S(this.Aa))){var p=!0,Za=ge(a[A][l],g,b[A][za],h);d[w](Za)}c&&!p&&d[w](this.Xf(a[A][l],g))}a=a.U()[Oa](b.U());return new Yd(d,a)};
H.Ti=function(a,b,c){var d=[a,b];c||(d=this.bg(a,b));a=d[0];b=d[1];var d=a,g=b,h=this.La,l=this.Aa;if(c||a[A][B]>b[A][B])d=b,g=a,h=this.Aa,l=this.La;var p=new Rf,y=[];d[A][E](function(a){var b=ha(a.S(h));p.add(b,a)});var za=d.U(),Za=g.U();g[A][E](function(a){var b=a.S(l),d=ha(b);null!==b&&p.ua(d)?p.get(d)[E](function(b){b=ge(a,Za,b,za);y[w](b)}):c&&y[w](this.Xf(a,Za))}[D](this));a=a.U()[Oa](b.U());return new Yd(y,a)};function Tf(a,b,c){return null===b?new te(a,b,c):Hb(b.j)?new Sf(a,b,c):new te(a,b,c)};var Uf={};I("lf.schema.DataStoreType",Uf,void 0);Uf.INDEXED_DB=0;Uf.MEMORY=1;Uf.LOCAL_STORAGE=2;Uf.FIREBASE=3;Uf.WEB_SQL=4;Uf.OBSERVABLE_STORE=5;function Vf(a,b,c,d){this.kd=a;ja(this,b);this.Yc=c;this.f=d}Vf[t].j=function(){return this.kd+"."+this[q]};Vf[t].xg=function(){return this.f[Xa](function(a){return a.ea.Xc()})};function S(a,b,c,d){this.u=a;this.ha=c;this.F=b;this.Yd=d;this.hb=null}I("lf.schema.Table",S,void 0);na(S[t],G("u"));na(S[t],S[t][u]);S[t].ab=G("hb");
S[t].na=function(){return this.hb||this.u};S[t].Cc=function(a){var b=new this.constructor(this.u);b.hb=a;b.$k=this.$k;return b};S[t].as=S[t].Cc;S[t].createRow=S[t].Gb;S[t].deserializeRow=S[t].pc;S[t].Ca=G("ha");S[t].getIndices=S[t].Ca;S[t].lb=G("F");S[t].getColumns=S[t].lb;S[t].getConstraint=S[t].Hb;S[t].Jb=G("Yd");S[t].persistentIndex=S[t].Jb;S[t].Tb=function(){return this.u+".#"};function T(a,b){va(this,a);this.Ob=b;this.hb=null}H=T[t];na(H,function(){return this.Ob+"("+this[hb][u]()+")"});H.j=function(){return this.Ob+"("+this[hb].j()+")"};H.K=function(){return this[hb].K()};f(H,function(){return this.j()});H.V=function(){return this[hb].V()};H.ab=G("hb");H.Ca=function(){return[]};H.Ja=Fb(null);H.Xc=Fb(!1);H.Cc=function(a){this.hb=a;return this};T[t].as=T[t].Cc;T[t].ig=function(){for(var a=[this],b=this;b instanceof T;)a[w](b[hb]),b=b[hb];return a};
function Wf(a){this.hb=a||null;this.N=new S("#UnknownTable",[],[],!1)}H=Wf[t];na(H,Fb("*"));H.j=function(){return this[u]()};f(H,function(){return this.j()});H.K=G("N");H.V=Fb(4);H.ab=G("hb");H.Ca=function(){return[]};H.Ja=Fb(null);H.Xc=Fb(!1);I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);function Xf(a){return new T(a||new Wf,"COUNT")}I("lf.fn.count",Xf,void 0);function Yf(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",Yf,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);function U(a,b){pe[r](this,"","");this.aj=b;this.Tg=a}K(U,pe);H=U[t];ma(H,function(a,b){switch(this.aj){case 1:return this.Wi(a,b);case 0:return this.Vi(a,b);default:return this.Yi(a,b)}});f(H,Fb("dummy_node"));H.ld=function(){return this[C]()};H.Kf=function(a){L(-1==this.Tg||a[B]==this.Tg)};H.Yi=function(a,b){return new M(J(function(c){c(this.fa(a,[],b))},this))};H.Wi=function(a,b){return this.kb(0)[Ma](a,b)[x](J(function(c){this.Kf(c);return this.fa(a,c,b)},this))};
H.Vi=function(a,b){var c=this.ba().map(function(c){return c[Ma](a,b)});return Sc(c)[x](J(function(c){var g=[];c[E](function(a){for(var b=0;b<a[B];++b)g[w](a[b])});this.Kf(g);return this.fa(a,g,b)},this))};function Zf(a){U[r](this,-1,1);this.Gf=a}K(Zf,U);f(Zf[t],function(){return"aggregation("+this.Gf.map(function(a){return a.j()})[C]()+")"});Zf[t].fa=function(a,b){b[E](function(a){(new $f(a,this.Gf)).ai()},this);return b};function $f(a,b){this.Fa=a;this.F=b}$f[t].ai=function(){this.F[E](function(a){a=a.ig()[db]();for(var b=1;b<a[B];b++){var c=a[b],d=c.ig()[n](-1)[0],g=this.Gj(c);if(g.wg(c))break;d=ag(c.Ob,g,d);this.Fa.nh(c,d)}},this)};
$f[t].Gj=function(a){return a[hb]instanceof T?this.Fa.uc(a[hb]):this.Fa};function ag(a,b,c){var d=null;switch(a){case "MIN":d=bg(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=bg(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=cg(b,c);break;case "COUNT":d=dg(b,c);break;case "SUM":d=eg(b,c);break;case "AVG":a=dg(b,c);0<a&&(d=eg(b,c)/a);break;case "GEOMEAN":d=fg(b,c);break;default:d=gg(b,c)}return d}
function bg(a,b,c){return a[A][Ha](function(a,g){var h=g.S(b);return null===h?a:null===a?h:c(a,h)},null)}function dg(a,b){return b instanceof Wf?a[A][B]:a[A][Ha](function(a,d){return a+(Lb(d.S(b))?0:1)},0)}function eg(a,b){return bg(a,b,function(a,b){return b+a})}function gg(a,b){var c=[];a[A][E](function(a){a=a.S(b);null===a||c[w](a)});return 0==c[B]?null:jd[tb](null,c)}
function fg(a,b){var c=0,d=a[A][Ha](function(a,d){var l=d.S(b);if(0==l||null===l)return a;c++;return a+ba.log(l)},0);return 0==c?null:ba.pow(ba.E,d/c)}function cg(a,b){var c=N();a[A][E](function(a){var g=a.S(b);c.set(g,a)});return new Yd(qd(c),a.U())};function hg(a,b){this.Ba=a;this.pa=b}hg[t].nb=G("Ba");hg[t].ca=G("pa");function V(){pe[r](this,"","")}K(V,pe);function ig(a,b){V[r](this);ia(this,a);ta(this,b)}K(ig,V);function jg(a,b){ig[r](this,a,b)}K(jg,ig);function kg(a){V[r](this);ia(this,a)}K(kg,V);f(kg[t],function(){return"delete("+this[k][u]()+")"});function lg(a,b){V[r](this);ia(this,a);this.yf=b}K(lg,V);f(lg[t],function(){var a=[];this.yf&&(a=this.yf.map(function(a){return a.I[u]()},this));return"update("+this[k][u]()+", ["+a[m](",")+"])"});
function mg(a){V[r](this);this.za=a}K(mg,V);f(mg[t],function(){return"select("+this.za[C]()+")"});function ng(a){V[r](this);ia(this,a)}K(ng,V);f(ng[t],function(){var a="table_access("+this[k][u]();null===this[k].ab()||(a+=" as "+this[k].ab());return a+")"});function og(){V[r](this)}K(og,V);f(og[t],Fb("cross_product"));function pg(a,b){V[r](this);this.f=a;this.Ub=b}K(pg,V);
f(pg[t],function(){var a="project("+this.f[C]();if(null!==this.Ub)var b=this.Ub.map(function(a){return a.j()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function qg(a){V[r](this);this.L=a}K(qg,V);f(qg[t],function(){return"order_by("+xe(this.L)+")"});function rg(a){V[r](this);this.f=a}K(rg,V);f(rg[t],function(){return"aggregation("+this.f[C]()+")"});function sg(a){V[r](this);this.f=a}K(sg,V);f(sg[t],function(){return"group_by("+this.f[C]()+")"});function tg(a){V[r](this);this.W=a}K(tg,V);
f(tg[t],function(){return"limit("+this.W+")"});function ug(a){V[r](this);this.M=a}K(ug,V);f(ug[t],function(){return"skip("+this.M+")"});function vg(a,b){V[r](this);this.za=a;this.Gg=b}K(vg,V);f(vg[t],function(){return"join(type: "+(this.Gg?"outer":"inner")+", "+this.za[C]()+")"});function wg(){};function xg(){}K(xg,wg);xg[t].Db=function(a){this.$=a;this.Za(this.$);return this.$};xg[t].Za=function(a){if(a instanceof mg){L(1==a.va(),"SelectNode must have exactly one child.");var b=this.Mf(a.za),b=this.Ii(b);Jf(a,a,b[0],b[1]);a==this.$&&(this.$=b[0]);a=b[0]}a.ba()[E](function(a){this.Za(a)},this)};xg[t].Mf=function(a){if(0==a.va()||"and"!=a.Zb)return[a];var b=a.ba()[n]().map(function(b){a[fb](b);return this.Mf(b)},this);return rc(b)};
xg[t].Ii=function(a){var b=null,c=null;a.map(function(a,g){var h=new mg(a);0==g?b=h:c.ka(h);c=h},this);return[b,c]};function yg(){}K(yg,wg);yg[t].Db=function(a){this.$=a;this.Za(this.$);return this.$};yg[t].Za=function(a){if(a instanceof og)for(;2<a.va();){for(var b=new og,c=0;2>c;c++){var d=a.de(0);b.ka(d)}a.Ac(b,0)}a.ba()[E](function(a){this.Za(a)},this)};function zg(){U[r](this,2,0)}K(zg,U);f(zg[t],Fb("cross_product"));zg[t].fa=function(a,b){for(var c=b[0],d=b[1],g=[],h=c.U(),l=d.U(),p=0;p<c[A][B];p++)for(var y=0;y<d[A][B];y++){var za=ge(c[A][p],h,d[A][y],l);g[w](za)}c=c.U()[Oa](d.U());return[new Yd(g,c)]};function Ag(a,b){Ae[r](this,a,b);this.Wa=a.l(yd);this.Ib=a.l(zd)}K(Ag,Ae);Ba(Ag[t],Fb(2));Ag[t].cf=function(a){0==this.V()?this.Hk(a):this.gd()};Ag[t].Hk=function(a){this.be[E](function(b,c){b instanceof we&&this.Ib.Bh(b,a[c])},this)};Ag[t].gd=function(){var a=this.Ib.Me(this.ca());0!=a[B]&&(a=new Be(this[Sa],a),this.Wa.ec(a))};function Bg(a){ue[r](this,a)}K(Bg,ue);Bg[t].ca=function(){var a=O();a.add(this.b);this.ea[vb]().hg(this.b[u]())[E](a.add[D](a));return a};la(Bg[t],function(){var a=new Bg(this.ea);a.wd(this);a.b=this.b;return a});ya(Bg[t],function(a){Bg.Mb[D][r](this,a);this.qe(a);return this});function Cg(a){ue[r](this,a)}K(Cg,ue);Cg[t].ca=function(){var a=O();a.add(this.Ea);var b=this.ea[vb]();b.Nj(this.Ea[u]())[E](a.add[D](a));this.jc&&b.hg(this.Ea[u]())[E](a.add[D](a));return a};la(Cg[t],function(){var a=new Cg(this.ea);a.wd(this);a.Ea=this.Ea;this[bb]&&ta(a,this[bb]instanceof he?this[bb]:this[bb][n]());a.jc=this.jc;a.kc=this.kc;return a});
ya(Cg[t],function(a){Cg.Mb[D][r](this,a);this.kc&&ta(this,this.kc instanceof he?a[this.kc.Ja()]:this.kc.map(function(b){return b instanceof he?a[b.Ja()]:b}));return this});function Dg(a){ue[r](this,a)}K(Dg,ue);Dg[t].ca=function(){var a=O();a.add(this[k]);var b=this.set.map(function(a){return a.I.j()}),c=this.ea[vb]();c.Oj(b)[E](a.add[D](a));c.Cj(b)[E](a.add[D](a));return a};la(Dg[t],function(){var a=new Dg(this.ea);a.wd(this);ia(a,this[k]);a.set=this.set?this.set[n]():this.set;return a});ya(Dg[t],function(a){Dg.Mb[D][r](this,a);this.set[E](function(b){-1!=b.rd&&pa(b,a[b.rd])});this.qe(a);return this});function Eg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+cd(b)+"'";default:return"'"+b[C]()+"'"}}function Fg(a,b){var c=a.jc?"INSERT OR REPLACE":"INSERT",d=a.Ea.lb(),c=c+(" INTO "+a.Ea[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[bb].map(function(a){var h=d.map(function(c){var d=a.o()[c[u]()];return b?null!=d?"#":"NULL":Eg(c.V(),d)});return c+h[m](", ")+");"})[m]("\n")}
function Gg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Hg(a,b,c,d){return a instanceof he?"?"+a.Ja()[C]():d?null!=a?"#":"NULL":"match"==b?"'"+a[C]()+"'":"in"==b?"("+a.map(function(a){return Eg(c,a)})[m](", ")+")":"between"==b?Eg(c,a[0])+" AND "+Eg(c,a[1]):Eg(c,a)[C]()}
function Ig(a,b){return a.ba().map(function(a){return"("+Jg(a,b)+")"})[m]("and"==a.Zb?" AND ":" OR ")}function Kg(a){return[a.La.j(),Gg(a.J),a.Aa.j()][m](" ")}function Jg(a,b){if(a instanceof te){var c=a.I.j(),d=Gg(a.J),g=Hg(a[v],a.J,a.I.V(),b);return"="==d&&"NULL"==g?[c,"IS NULL"][m](" "):"<>"==d&&"NULL"==g?[c,"IS NOT NULL"][m](" "):[c,d,g][m](" ")}if(a instanceof Lf)return Ig(a,b);if(a instanceof Sf)return Kg(a);throw new P(357,typeof a);}function Lg(a,b){var c=Jg(a,b);return c?" WHERE "+c:""}
function Mg(a,b){var c="UPDATE "+a[k][u]()+" SET ",c=c+a.set.map(function(a){var b=a.I.j()+" = ";return-1!=a.rd?b+"?"+a.rd[C]():b+Eg(a.I.V(),a[v])[C]()})[m](", ");a.A&&(c+=Lg(a.A,b));return c+";"}
function Ng(a,b){var c="*";a.f[B]&&(c=a.f.map(function(a){return a.ab()?a.j()+" AS "+a.ab():a.j()})[m](", "));c="SELECT "+c+" FROM ";null!=a.Bb&&0!=a.Bb[F]?c+=Og(a,b):(c+=a.b.map(Pg)[m](", "),a.A&&(c+=Lg(a.A,b)));if(a.L)var d=a.L.map(function(a){return a.I.j()+(0==a.qb?" DESC":" ASC")})[m](", "),c=c+(" ORDER BY "+d);a.ga&&(d=a.ga.map(function(a){return a.j()})[m](", "),c+=" GROUP BY "+d);a.W&&(c+=" LIMIT "+a.W[C]());a.M&&(c+=" SKIP "+a.M[C]());return c+";"}
function Pg(a){return a.na()!=a[u]()?a[u]()+" AS "+a.na():a[u]()}function Og(a,b){for(var c=Ef(a.A,function(a){return a instanceof Sf}),d=c.map(Kg),g=Pg(a.b[0]),h=1;h<a.b[B];h++)var l=Pg(a.b[h]),g=a.Bb.has(c[d[B]-h].Y())?g+(" LEFT OUTER JOIN "+l):g+(" INNER JOIN "+l),g=g+(" ON ("+d[d[B]-h]+")");c=a.A.kb(0);c instanceof Sf||(g+=" WHERE "+Jg(c,b));return g}
function Qg(a,b){var c=b||!1,d=a.pg();if(d instanceof Cg)return Fg(d,c);if(d instanceof Bg){var g="DELETE FROM "+d.b[u]();d.A&&(g+=Lg(d.A,c));return g+";"}if(d instanceof Dg)return Mg(d,c);if(d instanceof we)return Ng(d,c);throw new P(358,typeof d);};function Rg(a,b){this.global=a;this.Vk=a.l(xd);this.Wa=a.l(yd);this.a=b}I("lf.query.BaseBuilder",Rg,void 0);ma(Rg[t],function(){try{this.ib()}catch(a){return Pc(a)}return new M(function(a,c){var d=new Ag(this[Sa],[this.Vc()]);this.Wa.ec(d)[x](function(c){a(c[0].Ie())},c)},this)});ma(Rg[t],Rg[t][Ma]);Rg[t].fg=function(){var a=J(function(a){return a.ld(this.a)+"\n"},this);return Kf(this.Je().nb(),a)};Rg[t].explain=Rg[t].fg;ya(Rg[t],function(a){this.a[D](a);return this});ya(Rg[t],Rg[t][D]);
Rg[t].ul=function(a){return Qg(this,a)};Rg[t].toSql=Rg[t].ul;H=Rg[t];H.ib=Db();H.pg=function(){return this.a.clone()};H.Jd=G("a");H.Je=function(){null==this.Zg&&(this.Zg=this.Vk.Pj(this.a));return this.Zg};H.Vc=function(){return{context:this.pg(),ff:this.Je()}};H.Lj=function(){return{context:this.Jd(),ff:this.Je()}};function Sg(a){Rg[r](this,a,new Bg(a.l(Ad)))}K(Sg,Rg);I("lf.query.DeleteBuilder",Sg,void 0);Sg[t].b=function(a){this.Sh();this.a.b=a;return this};Sg[t].from=Sg[t].b;Sg[t].A=function(a){this.oe();this.a.A=a;return this};Sg[t].where=Sg[t].A;Sg[t].Sh=function(){if(null!=this.a.b)throw new P(515);};Sg[t].oe=function(){if(null!=this.a.A)throw new P(516);};Sg[t].ib=function(){Sg.Mb.ib[r](this);if(null==this.a.b)throw new P(517);};function Tg(a,b){Rg[r](this,a,new Cg(a.l(Ad)));this.a.jc=b||!1}K(Tg,Rg);I("lf.query.InsertBuilder",Tg,void 0);Tg[t].ib=function(){Tg.Mb.ib[r](this);var a=this.a;if(null==a.Ea||null==a[bb])throw new P(518);if(a.jc&&null===a.Ea.Hb().Ld())throw new P(519);};Tg[t].Ea=function(a){this.Th();this.a.Ea=a;return this};Tg[t].into=Tg[t].Ea;ta(Tg[t],function(a){this.Uh();a instanceof he||a[Xa](function(a){return a instanceof he})?this.a.kc=a:ta(this.a,a);return this});ta(Tg[t],Tg[t][bb]);
Tg[t].Th=function(){if(null!=this.a.Ea)throw new P(520);};Tg[t].Uh=function(){if(null!=this.a[bb])throw new P(521);};function Ug(a){return Vg("and",e[t][n][r](arguments))}I("lf.op.and",Ug,void 0);I("lf.op.or",function(a){return Vg("or",e[t][n][r](arguments))},void 0);function Vg(a,b){var c=new Lf(a);b[E](function(a){c.ka(a)});return c}I("lf.op.not",function(a){a.fe(!0);return a},void 0);function W(a,b){Rg[r](this,a,new we(a.l(Ad)));this.gg=this.je=!1;this.a.f=b;this.ji();this.hi()}K(W,Rg);I("lf.query.SelectBuilder",W,void 0);H=W[t];H.ib=function(){W.Mb.ib[r](this);var a=this.a;if(null==a.b)throw new P(522);if(Hb(a.Xb)&&!Hb(a.W)||Hb(a.gc)&&!Hb(a.M))throw new P(523);this.vi()};H.ji=function(){var a=this.a.f[Da](function(a){return a instanceof T&&"DISTINCT"==a.Ob},this);if(0!=a[B]&&(1!=a[B]||1!=this.a.f[B]))throw new P(524);};H.vi=function(){null!=this.a.ga?this.ni():this.ui()};
H.ni=function(){var a=this.a.f[Da](function(a){return!(a instanceof T)}).map(function(a){return a.j()}),b=!1;if(0==this.a.ga[B]||0==this.a.f[B])b=!0;else{var c=this.a.ga.map(function(a){return a.j()});(b=a[Xa](function(a){return-1==c[Wa](a)}))||(b=this.a.ga[Xa](function(a){a=a.V();return 6==a||0==a}))}if(b)throw new P(525);};
H.ui=function(){var a=this.a.f[Xa](function(a){return a instanceof T},this),b=this.a.f[Xa](function(a){return!(a instanceof T)},this)||0==this.a.f[B];if(a&&b)throw new P(526);};H.hi=function(){this.a.f[E](function(a){if(a instanceof T&&!Wg(a.Ob,a.V()))throw new P(527,a.j());},this)};H.b=function(a){if(this.gg)throw new P(515);this.gg=!0;null==this.a.b&&(this.a.b=[]);this.a.b[w][tb](this.a.b,e[t][n][r](arguments));return this};W[t].from=W[t].b;
W[t].A=function(a){if(this.je)throw new P(516);this.je=!0;this.pe(a);return this};W[t].where=W[t].A;W[t].pe=function(a){null!=this.a.A&&(a=Ug(a,this.a.A));this.a.A=a};W[t].pk=function(a,b){if(null==this.a.b)throw new P(542);if(this.je)throw new P(547);this.a.b[w](a);this.pe(b);return this};W[t].innerJoin=W[t].pk;
W[t].wk=function(a,b){if(!(b instanceof Sf))throw new P(541);if(null==this.a.b)throw new P(542);if(this.je)throw new P(547);this.a.b[w](a);null==this.a.Bb&&(this.a.Bb=O());var c=b;a.na()!=b.Aa.K().na()&&(c=b[db]());this.a.Bb.add(c.Y());this.pe(c);return this};W[t].leftOuterJoin=W[t].wk;W[t].W=function(a){if(null!=(this.a.W||this.a.Xb))throw new P(528);if(a instanceof he)this.a.Xb=a;else{if(0>a)throw new P(531);this.a.W=a}return this};W[t].limit=W[t].W;
W[t].M=function(a){if(null!=(this.a.M||this.a.gc))throw new P(529);if(a instanceof he)this.a.gc=a;else{if(0>a)throw new P(531);this.a.M=a}return this};W[t].skip=W[t].M;W[t].L=function(a,b){null==this.a.L&&(this.a.L=[]);this.a.L[w]({I:a,qb:null!=b?b:1});return this};W[t].orderBy=W[t].L;W[t].ga=function(a){if(null!=this.a.ga)throw new P(530);null==this.a.ga&&(this.a.ga=[]);this.a.ga[w][tb](this.a.ga,e[t][n][r](arguments));return this};W[t].groupBy=W[t].ga;
function Wg(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(W[t],function(){var a=new W(this[Sa],this.a.f);a.a=this.a.clone();a.a.Fc=null;return a});la(W[t],W[t].clone);function Xg(a,b){Rg[r](this,a,new Dg(a.l(Ad)));ia(this.a,b)}K(Xg,Rg);I("lf.query.UpdateBuilder",Xg,void 0);Xg[t].set=function(a,b){var c={rd:b instanceof he?b.Ja():-1,I:a,value:b};null!=this.a.set?this.a.set[w](c):this.a.set=[c];return this};Xg[t].set=Xg[t].set;Xg[t].A=function(a){this.oe();this.a.A=a;return this};Xg[t].where=Xg[t].A;Xg[t].oe=function(){if(null!=this.a.A)throw new P(516);};
Xg[t].ib=function(){Xg.Mb.ib[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[Xa](function(a){return a[v]instanceof he}))throw new P(501);};function Yg(a){this.a=a;this.Ba=null}Yg[t].tc=function(){null===this.Ba&&(this.Ba=this.Dd());return this.Ba};function Zg(a){Yg[r](this,a)}K(Zg,Yg);Zg[t].Dd=function(){return this.a.jc?new jg(this.a.Ea,this.a[bb]):new ig(this.a.Ea,this.a[bb])};function $g(a){Yg[r](this,a)}K($g,Yg);$g[t].Dd=function(){var a=new lg(this.a[k],this.a.set),b=null!=this.a.A?new mg(this.a.A.Qb()):null,c=new ng(this.a[k]);null===b?a.ka(c):(b.ka(c),a.ka(b));return a};function ah(a,b,c){this.Ba=a;this.hf=b;this.dc=c}ah[t].tc=function(){this.dc[E](function(a){this.Ba=a.Db(this.Ba,this.hf)},this);return this.Ba};function bh(a,b){Yg[r](this,a);this.dc=b}K(bh,Yg);bh[t].Dd=function(){var a=new kg(this.a.b),b=null!=this.a.A?new mg(this.a.A.Qb()):null,c=new ng(this.a.b);null===b?a.ka(c):(b.ka(c),a.ka(b));return(new ah(a,this.a,this.dc)).tc()};function ch(){}K(ch,wg);ch[t].Db=function(a,b){this.$=a;this.Za(this.$,b);return this.$};ch[t].Za=function(a,b){if(a instanceof mg&&a.za instanceof Sf){L(1==a.va(),"SelectNode must have exactly one child.");var c=a.za.Y(),d=a.kb(0);d instanceof og&&(c=Hb(b)&&null!=b.Bb&&b.Bb.has(c),c=new vg(a.za,c),Jf(a,d,c,c),a==this.$&&(this.$=c),a=c)}a.ba()[E](function(a){this.Za(a,b)},this)};function dh(){this.me=O()}K(dh,wg);H=dh[t];H.Uf=function(){this.me[ab]()};H.Db=function(a){this.Uf();this.$=a;this.Za(this.$);this.Uf();return this.$};H.Za=function(a){if(this.Bg(a)){var b=a.za instanceof te?this.Uk(a):this.Tk(a);this.me.add(a);b==a&&(b=a.kb(0));null!==b&&(Lb(b[xb]())&&(this.$=b),this.Bg(b)&&!this.me.has(b)&&this.Za(b))}else a.ba()[E](function(a){this.Za(a)},this)};
H.ae=function(a,b){var c=a;if(this.ll(a))c=Hf(a),this.ae(a,b);else if(this.kl(a)){var d=[],c=If(a,b,function(a){a=new mg(a.za);d[w](a);return a});d[E](function(a){this.ae(a,b)},this)}return c};H.Uk=function(a){var b=O([a.za.I.K().na()]),c=function(a){return this.cg(a,b)}[D](this);return this.ae(a,c)};H.Tk=function(a){var b=O([a.za.La.K().na(),a.za.Aa.K().na()]),c=function(a){return this.cg(a,b)}[D](this);return this.ae(a,c)};
H.cg=function(a,b){var c=O();Df(a)[E](function(a){c.add(a[k].na())},this);a instanceof ng&&c.add(a[k].na());return Cd(c,b)};H.Bg=function(a){return a instanceof mg&&!(a.za instanceof Lf)};H.kl=function(a){a=a.kb(0);return a instanceof og||a instanceof vg};H.ll=function(a){return a.kb(0)instanceof mg};function eh(a,b){Yg[r](this,a);this.dc=b;this.dh=this.Og=this.rh=this.Ug=this.Hf=this.vg=this.mh=this.Zf=this.th=null}K(eh,Yg);H=eh[t];H.Dd=function(){this.tj();var a=this.Ci();return(new ah(a,this.a,this.dc)).tc()};H.tj=function(){this.zj();this.oj();this.xj();this.uj();this.yj();this.sj();this.qj();this.nj();this.vj()};
H.Ci=function(){for(var a=[this.Og,this.rh,this.dh,this.Ug,this.Hf,this.vg,this.mh,this.Zf],b=null,c=null,d=0;d<a[B];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ka(g),b=d)}this.th[E](function(c){a[b].ka(c)});return c};H.zj=function(){this.th=this.a.b.map(function(a){return new ng(a)},this)};H.oj=function(){2<=this.a.b[B]&&(this.Zf=new og)};H.xj=function(){this.mh=null!=this.a.A?new mg(this.a.A.Qb()):null};H.uj=function(){this.a.L&&(this.Ug=new qg(this.a.L))};
H.sj=function(){null!=this.a.W&&(this.Og=new tg(this.a.W))};H.yj=function(){null!=this.a.M&&0<this.a.M&&(this.rh=new ug(this.a.M))};H.qj=function(){null!=this.a.ga&&(this.vg=new sg(this.a.ga))};H.nj=function(){var a=this.a.f[Da](function(a){return a instanceof T});null!=this.a.L&&this.a.L[E](function(b){b.I instanceof T&&a[w](b.I)});0<a[B]&&(this.Hf=new rg(a))};H.vj=function(){this.dh=new pg(this.a.f||[],this.a.ga||null)};function fh(){this.pf=[new xg,new yg,new dh,new ch];this.Be=[new xg]}fh[t].create=function(a){var b=null;if(a instanceof Cg)b=new Zg(a);else if(a instanceof Bg)b=new bh(a,this.Be);else if(a instanceof we)b=new eh(a,this.pf);else if(a instanceof Dg)b=new $g(a);else throw new P(513);b=b.tc();return new hg(b,a.ca())};function gh(a){U[r](this,1,1);this.N=a}K(gh,U);f(gh[t],function(){return"delete("+this.N[u]()+")"});gh[t].fa=function(a,b){var c=b[0][A].map(function(a){return a.ta});a[gb](this.N,c);return[ae()]};function hh(a,b){U[r](this,0,-1);ia(this,b);this.G=a.l(wd)}K(hh,U);f(hh[t],function(){return"get_row_count("+this[k][u]()+")"});hh[t].fa=function(){var a=this.G.get(this[k].Tb()),b=new Yd([],[this[k][u]()]);b.nh(Xf(),a.Xa().qa);return[b]};function ih(a,b){U[r](this,0,-1);this.ra=a.l(vd);this.G=a.l(wd);ia(this,b)}K(ih,U);f(ih[t],function(){var a="table_access("+this[k][u]();null===this[k].ab()||(a+=" as "+this[k].ab());return a+")"});ih[t].fa=function(){var a=this.G.get(this[k].Tb()).mb();return[de(this.ra.get(a),[this[k].na()])]};function jh(a){this.i=a}K(jh,wg);jh[t].Db=function(a,b){this.$=a;if(!this.gi(b))return a;var c=Ef(a,function(a){return a instanceof ih})[0],d=new hh(this.i,c[k]);Jf(c,c,d,d);return this.$};jh[t].gi=function(a){return 1==a.f[B]&&1==a.b[B]&&null==a.A&&null==a.W&&null==a.M&&null==a.ga?(a=a.f[0],a instanceof T&&"COUNT"==a.Ob&&a[hb]instanceof Wf):!1};function kh(a){U[r](this,1,1);this.ug=a}K(kh,U);f(kh[t],function(){return"groupBy("+this.ug.map(function(a){return a.j()})[C]()+")"});kh[t].fa=function(a,b){return this.ci(b[0])};kh[t].ci=function(a){var b=new Rf,c=function(a){return this.ug.map(function(b){return a.S(b)},this)[m](",")}[D](this);a[A][E](function(a){b.add(c(a),a)},this);return b.xb().map(function(c){return new Yd(b.get(c),a.U())},this)};function lh(a){L(1<a[B],"Should only be called for cross-column indices.");a=a.map(function(a){return a.Sa()});a=od[tb](null,a);var b=[];nd(a,function(a){b[w](a)});return b}function mh(a){this.Vb=a}mh[t].Hd=function(){return 1==this.Vb.f[B]?[Wd()]:[this.Vb.f.map(function(){return Wd()})]};function nh(a,b){this.Vb=a;this.sa=b;this.xe=this.Mg=null}
nh[t].di=function(a){var b=N();this.sa.xb()[E](function(c){var d=this.sa.get(c).map(function(b){return a.Kd(b)},this),g=new Af([Wd()]);d[E](function(a){a=new Af(a.tl());g=Bf(g,a)});b.set(c,g)},this);return b};nh[t].fj=function(a){for(var b=this.Vb.f[B]-1;0<=b;b--){var c=this.Vb.f[b];if(null!==(a.get(c.ea[u]())||null))break;a.set(c.ea[u](),new Af([Wd()]))}};nh[t].Hd=function(a){if(this.Mg==a)return this.xe;var b=this.di(a);this.fj(b);this.xe=1==this.Vb.f[B]?qd(b)[0].Sa():lh(this.Wj(b));this.Mg=a;return this.xe};
nh[t].Wj=function(a){var b=N(),c=0;this.Vb.f[E](function(a){b.set(a.ea[u](),c);c++});return pd(a)[Va](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};function oh(a,b){this.vh=b;this.G=a.l(wd)}oh[t].yi=function(a,b){var c=b[Da](this.qk,this);if(0==c[B])return null;c=this.rj(c);if(0==c[B])return null;if(1==c[B])return c[0];var d=Number.MAX_VALUE;return c[Ha](function(b,c){var l=c.bi(a);return l<d?(d=l,c):b},null)};oh[t].rj=function(a){return this.vh.Ca().map(function(b){b=new ph(this.G,b);b.Ei(a);return b},this)[Da](function(a){return a.uk()})};oh[t].qk=function(a){return a instanceof te&&a.Cg()?a.I.K()==this.vh:!1};
function ph(a,b){this.G=a;this.zb=b;this.jk=O(this.zb.f.map(function(a){return a.ea[u]()}));this.Xe=this.sa=null}H=ph[t];H.Qj=function(){return null===this.sa?[]:this.sa.Sa()};H.ng=function(){L(this.sa);null===this.Xe&&(this.Xe=new nh(this.zb,this.sa));return this.Xe};H.Ei=function(a){a[E](function(a){var c=a.lb()[0][u]();this.jk.has(c)&&(null===this.sa&&(this.sa=new Rf),this.sa.add(c,a.Y()))},this)};
H.uk=function(){if(null===this.sa)return!1;for(var a=!1,b=!0,c=0;c<this.zb.f[B];c++){var d=this.sa.ua(this.zb.f[c].ea[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.bi=function(a){a=this.ng().Hd(a);var b=this.G.get(this.zb.j());return a[Ha](function(a,d){return a+b.yd(d)},0)};function qh(a,b,c,d){U[r](this,0,-1);this.G=a.l(wd);this.index=b;this.Kg=c;this.mf=d;this.pd=this.od=!1}K(qh,U);f(qh[t],function(){return"index_range_scan("+this[kb].j()+", ?, "+(this.mf?"reverse":"natural")+(this.od?", limit:?":"")+(this.pd?", skip:?":"")+")"});qh[t].ld=function(a){var b=this[C](),c=this.Kg.Hd(a),b=b[cb]("?",c[C]());this.od&&(b=b[cb]("?",a.W[C]()));this.pd&&(b=b[cb]("?",a.M[C]()));return b};
qh[t].fa=function(a,b,c){a=this.Kg.Hd(c);b=this.G.get(this[kb].j());c=(1==a[B]&&a[0]instanceof Ud&&a[0].Fg()?Ye(b.get(a[0].b),!1,this.od?c.W:void 0,this.pd?c.M:void 0):b.mb(a,this.mf,this.od?c.W:void 0,this.pd?c.M:void 0)).map(function(a){return new Zc(a,{})},this);return[de(c,[this[kb].kd])]};function rh(a){U[r](this,1,1);this.Zd=a}K(rh,U);f(rh[t],Fb("select(?)"));rh[t].ld=function(a){a=a.Kd(this.Zd);return this[C]()[cb]("?",a[C]())};rh[t].fa=function(a,b,c){return[c.Kd(this.Zd).eval(b[0])]};function sh(a,b){U[r](this,1,1);this.ra=a.l(vd);this.N=b}K(sh,U);f(sh[t],function(){return"table_access_by_row_id("+this.N[u]()+")"});sh[t].fa=function(a,b){return[de(this.ra.get(b[0].Vj()),[this.N.na()])]};function th(a){this.i=a}K(th,wg);th[t].Db=function(a,b){this.$=a;Ef(a,function(a){return a instanceof ih})[E](function(a){var d=this.lj(a);if(0!=d[B]){var g=(new oh(this.i,a[k])).yi(b,d.map(function(a){return b.Kd(a.Zd)}));if(null!==g){var h=N();d[E](function(a){h.set(a.Zd,a)},this);this.$=this.el(g,h,a,b)}}},this);return this.$};th[t].lj=function(a){var b=[];for(a=a[xb]();a;)a instanceof rh&&b[w](a),a=a[xb]();return b};
th[t].el=function(a,b,c){a.Qj().map(function(a){return b.get(a)})[E](Ff);a=new qh(this.i,a.zb,a.ng(),!1);var d=new sh(this.i,c[k]);d.ka(a);Jf(c,c,d,a);return a.nb()};function uh(a,b){U[r](this,0,-1);this.G=a.l(wd);this.N=b}K(uh,U);f(uh[t],function(){return"insert("+this.N[u]()+")"});uh[t].fa=function(a,b,c){vh(this.N,c[bb],this.G);a.Ab(this.N,c[bb]);return[de(c[bb],[this.N[u]()])]};function vh(a,b,c){a=a.Hb().Ld();if(null===a?0:a.f[0][mb]){var d=a.f[0].ea[u]();c=c.get(a.j()).max();var g=null===c?0:c[0];b[E](function(a){if(0==a.o()[d]||null==a.o()[d])g++,a.o()[d]=g})}}function wh(a,b){U[r](this,0,-1);this.G=a.l(wd);this.N=b}K(wh,U);
f(wh[t],function(){return"insert_replace("+this.N[u]()+")"});wh[t].fa=function(a,b,c){vh(this.N,c[bb],this.G);a.Pe(this.N,c[bb]);return[de(c[bb],[this.N[u]()])]};function xh(a,b){U[r](this,2,0);this.$d=a;this.Te=b;this.If="eq"==this.$d.J?0:2}K(xh,U);var yh=["hash","index_nested_loop","nested_loop"];f(xh[t],function(){return"join(type: "+(this.Te?"outer":"inner")+", impl: "+yh[this.If]+", "+this.$d[C]()+")"});xh[t].fa=function(a,b){switch(this.If){case 0:return[this.$d.Ti(b[0],b[1],this.Te)];default:return[this.$d.Ui(b[0],b[1],this.Te)]}};function zh(){U[r](this,1,1)}K(zh,U);f(zh[t],Fb("limit(?)"));zh[t].ld=function(a){return this[C]()[cb]("?",a.W[C]())};zh[t].fa=function(a,b,c){b[0][A][z](c.W);return b};function Ah(a){U[r](this,-1,1);this.L=a}K(Ah,U);H=Ah[t];f(H,function(){return"order_by("+xe(this.L)+")"});H.fa=function(a,b){if(1==b[B]){var c=this.hj(b[0]);(null===c?b[0]:b[0].uc(c))[A][Va](this.Ri[D](this))}else b[Va](this.al[D](this));return b};H.hj=function(a){for(var b=null,c=0;c<this.L[B];c++){var d=Yf(this.L[c].I);if(a.wg(d)){b=d;break}}return b};
H.O=function(a,b){var c=null,d=null,g=null,h=-1;do h++,g=this.L[h].I,c=this.L[h].qb,d=a(g),g=b(g);while(d==g&&h+1<this.L[B]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.al=function(a,b){return this.O(function(b){return b instanceof T?a.uc(b):a[A][a[A][B]-1].S(b)},function(a){return a instanceof T?b.uc(a):b[A][b[A][B]-1].S(a)})};H.Ri=function(a,b){return this.O(function(b){return a.S(b)},function(a){return b.S(a)})};function Bh(a,b){this.Fa=a;this.F=b}Bh[t].tg=function(){return this.F[Xa](function(a){return a instanceof T},this)?this.dk():this.ek()};
Bh[t].dk=function(){if(1==this.F[B]&&"DISTINCT"==this.F[0].Ob){var a=this.Fa.uc(this.F[0])[A].map(function(a){var b=new ee(new Zc(-1,{}),this.Fa.Ue());b.qf(this.F[0],a.S(this.F[0][hb]));return b},this);return new Yd(a,[])}var b=new ee(new Zc(-1,{}),this.Fa.Ue());this.F[E](function(a){var d=a instanceof T?this.Fa.uc(a):this.Fa[A][0].S(a);b.qf(a,d)},this);return new Yd([b],this.Fa.U())};
Bh[t].ek=function(){var a=e(this.Fa[A][B]),b=this.Fa.Ue();this.Fa[A][E](function(c,d){a[d]=new ee(new Zc(c.ta.id(),{}),b);this.F[E](function(b){a[d].qf(b,c.S(b))},this)},this);return new Yd(a,this.Fa.U())};function Ch(a,b){var c=a.map(function(a){return(new Bh(a,b)).tg()[A][0]});return new Yd(c,a[0].U())};function Dh(a,b){U[r](this,-1,1);this.f=a;this.Ub=b}K(Dh,U);H=Dh[t];f(H,function(){var a="project("+this.f[C]();if(null!==this.Ub)var b=this.Ub.map(function(a){return a.j()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});H.fa=function(a,b){return 0==b[B]?[ae()]:1==b[B]?[this.Zi(b[0])]:[this.Xi(b)]};H.fk=function(){return this.f[Xa](function(a){return a instanceof T})||null!==this.Ub};H.Xi=function(a){return Ch(a,this.f)};H.Zi=function(a){return 0==this.f[B]?a:(new Bh(a,this.f)).tg()};function Eh(){U[r](this,1,1)}K(Eh,U);f(Eh[t],Fb("skip(?)"));Eh[t].ld=function(a){return this[C]()[cb]("?",a.M[C]())};Eh[t].fa=function(a,b,c){return[new Yd(b[0][A][n](c.M),b[0].U())]};function Fh(){}K(Fh,wg);Fh[t].Db=function(a){var b=Ef(a,function(a){return a instanceof zh||a instanceof Eh});if(0==b[B])return a;var c=this.kj(a);if(null===c)return a;b[E](function(a){this.Ek(a,c)},this);return c.nb()};Fh[t].Ek=function(a,b){a instanceof zh?b.od=!0:b.pd=!0;return Ff(a).parent};Fh[t].kj=function(a){a=Ef(a,function(a){return a instanceof qh},function(a){return a instanceof Dh&&a.fk()||a instanceof Ah||1!=a.va()||a instanceof rh});return 0<a[B]?a[0]:null};function Gh(a){this.i=a}K(Gh,wg);Gh[t].Db=function(a){var b=Hh(a);if(null===b)return a;a=this.Rh(b);a==b&&(a=this.Qh(b));return a.nb()};Gh[t].Rh=function(a){var b=a,c=Ih(a.kb(0));if(null!==c){var d;d=a.L;for(var g=null,h=c[k].Ca(),l=0;l<h[B]&&null===g;l++)g=Jh(h[l],d);d=g;if(null===d)return b;b=new qh(this.i,d.zb,new mh(d.zb),d.Hg);d=new sh(this.i,c[k]);d.ka(b);Ff(a);b=Jf(c,c,d,b)}return b};
Gh[t].Qh=function(a){var b=a,c=Kh(a.kb(0));if(null!==c){var d=Jh(c[kb],a.L);if(null===d)return b;c.mf=d.Hg;b=Ff(a).parent}return b};function Kh(a){a=Ef(a,function(a){return a instanceof qh},function(a){return 1!=a.va()});return 0<a[B]?a[0]:null}function Ih(a){a=Ef(a,function(a){return a instanceof ih},function(a){return 1!=a.va()});return 0<a[B]?a[0]:null}function Hh(a){a=Ef(a,function(a){return a instanceof Ah});return 0<a[B]?a[0]:null}
function Jh(a,b){if(a.f[B]!=b[B]||!b[Qa](function(b,c){return b.I[u]()==a.f[c].ea[u]()}))return null;var c=Lh(b,a);return c[0]||c[1]?{zb:a,Hg:c[1]}:null}function Lh(a,b){var c=a[Ha](function(a,b){return a<<1|(0==b.qb?0:1)},0),d=b.f[Ha](function(a,b){return a<<1|(0==b.qb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[B],b.f[B]))-1;return[c,d]};function Mh(a,b,c){this.Ba=a;this.hf=b;this.dc=c}Mh[t].tc=function(){this.dc[E](function(a){this.Ba=a.Db(this.Ba,this.hf)},this);return this.Ba};function Nh(a,b){U[r](this,1,1);this.N=a;this.Cl=b}K(Nh,U);f(Nh[t],function(){return"update("+this.N[u]()+")"});Nh[t].fa=function(a,b){var c=b[0][A].map(function(a){var b=this.N.pc(a.ta.Ga());this.Cl[E](function(a){b.o()[a.I[u]()]=a[v]},this);return b},this);a[Ra](this.N,c);return[ae()]};function Oh(a){this.i=a;this.pf=[new th(this.i),new Gh(this.i),new Fh,new jh(this.i)];this.Be=[new th(this.i)]}Oh[t].create=function(a,b){var c=a.nb();if(c instanceof jg||c instanceof ig)return this.Ae(a,b);if(c instanceof pg||c instanceof tg||c instanceof ug)return this.Ae(a,b,this.pf);if(c instanceof kg||c instanceof lg)return this.Ae(a,b,this.Be);throw new P(8);};Oh[t].Ae=function(a,b,c){var d=Cf(a.nb(),J(this.Ak,this));null!=c&&(d=(new Mh(d,b,c)).tc());return new ye(d,a.ca())};
Oh[t].Ak=function(a){if(a instanceof pg)return new Dh(a.f,a.Ub);if(a instanceof sg)return new kh(a.f);if(a instanceof rg)return new Zf(a.f);if(a instanceof qg)return new Ah(a.L);if(a instanceof ug)return new Eh;if(a instanceof tg)return new zh;if(a instanceof mg)return new rh(a.za.Y());if(a instanceof og)return new zg;if(a instanceof vg)return new xh(a.za,a.Gg);if(a instanceof ng)return new ih(this.i,a[k]);if(a instanceof kg)return new gh(a[k]);if(a instanceof lg)return new Nh(a[k],a.yf);if(a instanceof
jg)return new wh(this.i,a[k]);if(a instanceof ig)return new uh(this.i,a[k]);throw new P(514);};function Ph(a){this.yk=new fh;this.Pk=new Oh(a)}Ph[t].Pj=function(a){var b=this.yk[ib](a);return this.Pk[ib](b,a)};function Qh(){this.Qg=N()}H=Qh[t];H.Fd=function(a){var b=this.Qg.get(a[u]())||null;null===b&&(b=new Rh,this.Qg.set(a[u](),b));return b};H.ak=function(a,b,c){b[E](function(b){this.Fd(b).$j(a,c)},this)};H.fi=function(a,b,c){var d=!0;b[E](function(b){d&&(d=this.Fd(b).ei(a,c))},this);return d};H.gh=function(a,b,c){var d=this.fi(a,b,c);d&&this.ak(a,b,c);return d};H.releaseLock=function(a,b){b[E](function(b){this.Fd(b).releaseLock(a)},this)};H.zi=function(a){a[E](function(a){this.Fd(a).eb=null},this)};
function Rh(){this.fc=this.Ua=this.eb=this.Lc=null}Rh[t].releaseLock=function(a){this.Lc==a&&(this.Lc=null);this.eb==a&&(this.eb=null);null===this.Ua||this.Ua[Ua](a);null===this.fc||this.fc[Ua](a)};Rh[t].ei=function(a,b){var c=null===this.Ua||0==this.Ua[F];return 0==b?(null===this.fc||0==this.fc[F])&&c&&null===this.Lc&&null!==this.eb&&this.eb==a:3==b?null===this.Lc&&null===this.eb&&null!==this.Ua&&this.Ua.has(a):1==b?null===this.eb:c&&(null===this.eb||this.eb==a)};
Rh[t].$j=function(a,b){0==b?(this.eb=null,this.Lc=a):3==b?(null===this.fc&&(this.fc=O()),this.fc.add(a),null===this.Ua&&(this.Ua=O()),this.Ua[Ua](a)):1==b?(null===this.Ua&&(this.Ua=O()),this.Ua.add(a)):2==b&&(this.eb=a)};function Sh(){this.bc=new Th;this.Zc=new Qh}H=Sh[t];H.ec=function(a){(2>a[zb]()||2>a[zb]())&&this.Zc.zi(a.ca());this.bc.Ab(a);this.ze();return a.Tc().ja};H.ze=function(){for(var a=this.bc.Sa(),b=0;b<a[B];b++){var c=a[b],d=!1;if(d=0==c.V()?this.hh(c,1,3):this.hh(c,2,0))this.bc[gb](c),this.$i(c)}};H.hh=function(a,b,c){var d=!1;this.Zc.gh(a.Y(),a.ca(),b)&&(d=this.Zc.gh(a.Y(),a.ca(),c));return d};H.$i=function(a){a[Ma]()[x](J(this.Lk,this,a),J(this.Kk,this,a))};
H.Lk=function(a,b){this.Zc.releaseLock(a.Y(),a.ca());a.Tc()[Bb](b);this.ze()};H.Kk=function(a,b){this.Zc.releaseLock(a.Y(),a.ca());a.Tc()[Ia](b);this.ze()};function Th(){this.bc=[]}Th[t].Ab=function(a){pc(this.bc,a,function(a,c){var d=a[zb]()-c[zb]();return 0==d?a.Y()-c.Y():d})};Th[t].Sa=function(){return this.bc[n]()};ua(Th[t],function(a){var b=this.bc;a=dc(b,a);var c;(c=0<=a)&&ic(b,a);return c});function Uh(a,b){this.Ce=ie.Gd();this.jf=a;this.Vd=b;this.F=this.Ni()}Uh[t].Ni=function(){if(0<this.jf.f[B])return this.jf.f;var a=[];this.jf.b[E](function(b){b.lb()[E](function(b){a[w](b)})});return a};Uh[t].O=function(a,b){return this.F[Qa](function(c){return this.Ce.Ge(c.V(),"eq")(a.S(c),b.S(c))},this)};
Uh[t].Ph=function(a,b){for(var c=null===a?[]:a[A],d=fd(c,b[A],J(this.O,this),function(a){return c[a]}),g=[],h=0,l=0;l<c[B];l++){var p=c[l];d[h]==p?h++:(p=this.Vd[z](h,1),p=Vh(l,p,0,this.Vd),g[w](p))}d=fd(c,b[A],J(this.O,this),function(a,c){return b[A][c]});for(l=h=0;l<b[A][B];l++)p=b[A][l],d[h]==p?h++:(this.Vd[z](l,0,p.ta.o()),p=Vh(l,[],1,this.Vd),g[w](p));return g};function Vh(a,b,c,d){return{Dl:c,index:a,object:d,Fl:b,type:"splice"}};function Wh(){this.rc=N()}H=Wh[t];H.Ke=function(a){return Qb(a)[C]()};H.le=function(a,b){var c=this.Ke(a.Jd()),d=this.rc.get(c)||null;null===d&&(d=new Xh(a),this.rc.set(c,d));d.le(b)};H.lf=function(a,b){var c=this.Ke(a.Jd()),d=this.rc.get(c)||null;L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.lf(b);L(g,"removeObserver: Inconsistent state detected.");d.hk()||this.rc[Ua](c)};
H.Me=function(a){var b=O();a[E](function(a){b.add(a[u]())});var c=[];this.rc[E](function(a){a=a.Vc();a[lb].b[Xa](function(a){return b.has(a[u]())})&&c[w](a)});return c};H.Bh=function(a,b){var c=this.Ke(null!=a.Fc?a.Fc:a),c=this.rc.get(c)||null;return null!==c?(c.Bl(b),!0):!1};function Xh(a){this.$h=a;this.cd=O();this.Ik=[];this.Ng=null;this.Pi=new Uh(a.Jd(),this.Ik)}H=Xh[t];H.le=function(a){this.cd.has(a)?$b("Attempted to register observer twice."):this.cd.add(a)};H.lf=function(a){return this.cd[Ua](a)};
H.Vc=function(){return this.$h.Lj()};H.hk=function(){return 0<this.cd[F]};H.Bl=function(a){var b=this.Pi.Ph(this.Ng,a);this.Ng=a;0<b[B]&&this.cd[E](function(a){a(b)})};function Yh(a,b){var c=a.l(Ad),d=b||{},g=new Ve;a.rb(vd,g);var g=null,h=!1;switch(d.storeType||0){case 1:g=new Pe(c);break;case 5:g=new Qe(c);break;case 4:g=new Ue(a,c,d.webSqlDbSize);break;case 3:g=new Je(c,d.firebase);h=!0;break;default:g=new Ne(a,c)}a.rb(ud,g);var l=new zf;a.rb(wd,l);return g.Da(d.onUpgrade)[x](function(){var b=new Ph(a);a.rb(xd,b);b=new Sh;a.rb(yd,b);b=new Wh;a.rb(zd,b);return l.Da(c)})[x](function(){h&&(new De(a)).pl();return(new yf(a)).Da(c)})};function Zh(a,b){this.i=a;this.Fb=a.l(ud);this.Wa=a.l(yd);this.Ib=a.l(zd);this.pa=O(b);this.Ta=new Td(this.i,this.pa);this.cc=Tc();this.Mc=Tc();this.Bf=Tc()}H=Zh[t];ma(H,function(){this.Bf[Bb]();return this.Mc.ja});H.V=Fb(1);H.ca=G("pa");H.Tc=G("cc");H.Y=function(){return Qb(this)};Ba(H,Fb(2));H.Fh=function(){this.Wa.ec(this);return this.Bf.ja};
H.Xh=function(a){a=a.Vc();return a.ff.nb()[Ma](this.Ta,a[lb])[x](function(a){return a[0].Ie()},J(function(a){this.Ta.Kb();var c=new Kc(a[q]);this.Mc[Ia](c);throw a;},this))};H.ma=function(){this.Fb.Rb(this.V(),this.Ta).ma()[x](J(function(){this.gd();this.Mc[Bb]()},this),J(function(a){this.Ta.Kb();this.Mc[Ia](a)},this));return this.cc.ja};H.Kb=function(){this.Ta.Kb();this.Mc[Bb]();return this.cc.ja};H.gd=function(){var a=this.Ib.Me(this.pa);0!=a[B]&&(a=new Be(this.i,a),this.Wa.ec(a))};function $h(a){this.i=a;this.Wa=a.l(yd);this.md=null;this.Ha=0;0==ai[F]&&this.lk()}I("lf.proc.Transaction",$h,void 0);var ai=N();$h[t].lk=function(){ai.set(0,O([1,4]));ai.set(1,O([2]));ai.set(2,O([3,5,6]));ai.set(3,O([2,7]));ai.set(4,O([7]));ai.set(5,O([7]));ai.set(6,O([7]))};$h[t].Oa=function(a){var b=ai.get(this.Ha)||null;if(null===b||!b.has(a))throw new P(107,this.Ha,a);this.Ha=a};
ma($h[t],function(a){this.Oa(4);var b=[];try{a[E](function(a){a.ib();b[w](a.Vc())},this)}catch(c){return this.Oa(7),Pc(c)}a=new Ag(this.i,b);return this.Wa.ec(a)[x](J(function(a){this.Oa(7);return a.map(function(a){return a.Ie()})},this),J(function(a){this.Oa(7);throw a;},this))});ma($h[t],$h[t][Ma]);$h[t].Yh=function(a){this.Oa(1);this.md=new Zh(this.i,a);return this.md.Fh()[x](J(function(){this.Oa(2)},this))};$h[t].begin=$h[t].Yh;
$h[t].Wh=function(a){this.Oa(3);return this.md.Xh(a)[x](J(function(a){this.Oa(2);return a},this),J(function(a){this.Oa(7);throw a;},this))};$h[t].attach=$h[t].Wh;$h[t].ma=function(){this.Oa(5);return this.md.ma()[x](J(function(){this.Oa(7)},this))};$h[t].commit=$h[t].ma;$h[t].Kb=function(){this.Oa(6);return this.md.Kb()[x](J(function(){this.Oa(7)},this))};$h[t].rollback=$h[t].Kb;function X(a){this.i=a;this.m=a.l(Ad);this.Oe=!1}I("lf.proc.Database",X,void 0);X[t].Da=function(a){this.i.rb(Ad,this.m);return Yh(this.i,a)[x](J(function(){this.Oe=!0;return this},this))};X[t].init=X[t].Da;X[t].yb=G("m");X[t].getSchema=X[t].yb;X[t].nc=function(){if(!this.Oe)throw new P(2);};X[t].select=function(a){this.nc();return new W(this.i,1!=arguments[B]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].Ab=function(){this.nc();return new Tg(this.i)};X[t].insert=X[t].Ab;
X[t].Pe=function(){this.nc();return new Tg(this.i,!0)};X[t].insertOrReplace=X[t].Pe;qa(X[t],function(a){this.nc();return new Xg(this.i,a)});qa(X[t],X[t][Ra]);X[t].delete=function(){this.nc();return new Sg(this.i)};X[t]["delete"]=X[t][Ua];X[t].observe=function(a,b){this.i.l(zd).le(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.i.l(zd).lf(a,b)};X[t].unobserve=X[t].unobserve;X[t].Li=function(){this.nc();return new $h(this.i)};X[t].createTransaction=X[t].Li;
oa(X[t],function(){try{this.i.l(ud)[Na]()}catch(a){}this.i[ab]();this.Oe=!1});oa(X[t],X[t][Na]);function Y(a,b,c,d,g,h){this.N=a;this.u=b;this.Jg=c;this.Eg=d;this.Ah=g;this.hb=h||null}I("lf.schema.BaseColumn",Y,void 0);H=Y[t];na(H,G("u"));H.j=function(){return this.N.na()+"."+this.u};f(H,function(){return this.j()});H.K=G("N");H.V=G("Ah");Y[t].getType=Y[t].V;Y[t].ab=G("hb");Y[t].Ca=function(){null==this.ha&&(this.ha=[],this.K().Ca()[E](function(a){-1!=a.f.map(function(a){return a.ea[u]()})[Wa](this.u)&&this.ha[w](a)},this));return this.ha};
Y[t].Ja=function(){if(!Hb(this.da)){var a=this.Ca()[Da](function(a){return 1!=a.f[B]?!1:a.f[0].ea[u]()==this[u]()},this);this.da=0<a[B]?a[0]:null}return this.da};Y[t].Xc=G("Eg");Y[t].isNullable=Y[t].Xc;Y[t].Yc=G("Jg");Y[t].Ra=function(a){return Tf(this,a,"eq")};Y[t].eq=Y[t].Ra;Y[t].Rg=function(a){return Tf(this,a,"neq")};Y[t].neq=Y[t].Rg;Y[t].Ye=function(a){return Tf(this,a,"lt")};Y[t].lt=Y[t].Ye;Y[t].zk=function(a){return Tf(this,a,"lte")};Y[t].lte=Y[t].zk;Y[t].bk=function(a){return Tf(this,a,"gt")};
Y[t].gt=Y[t].bk;Y[t].ck=function(a){return Tf(this,a,"gte")};Y[t].gte=Y[t].ck;Y[t].match=function(a){return Tf(this,a,"match")};Y[t].match=Y[t].match;Y[t].Zh=function(a,b){return Tf(this,[a,b],"between")};Y[t].between=Y[t].Zh;Y[t].ik=function(a){return Tf(this,a,"in")};Y[t]["in"]=Y[t].ik;Y[t].tk=function(){return this.Ra(null)};Y[t].isNull=Y[t].tk;Y[t].sk=function(){return this.Rg(null)};Y[t].isNotNull=Y[t].sk;Y[t].Cc=function(a){return new Y(this.N,this.u,this.Jg,this.Eg,this.Ah,a)};Y[t].as=Y[t].Cc;function bi(){this.ee=N()}var ci;sa(bi[t],function(){this.ee[ab]()});sa(bi[t],bi[t][ab]);bi[t].rb=function(a,b){this.ee.set(a[C](),b);return b};bi[t].registerService=bi[t].rb;bi[t].l=function(a){var b=this.ee.get(a[C]())||null;if(null===b)throw new P(7,a[C]());return b};bi[t].getService=bi[t].l;bi[t].We=function(a){return this.ee.has(a[C]())};bi[t].isRegistered=bi[t].We;function di(a){this.m=a;this.kf=N();this.Yg=N();this.Vf=N();this.g=N();this.we=N();this.nk()}H=di[t];H.nk=function(){this.m.Ya()[E](function(a){var b=O();a.Hb().He()[E](function(c){var d=this.kf.get(c.cb)||[];d[w](c);this.kf.set(c.cb,d);b.add(this.m[k](c.cb));(d=this.g.get(c.cb))||(d=O());d.add(a);this.g.set(c.cb,d);this.Vf.set(a[u]()+"."+c.Pb,c.cb);c=c.cb+"."+c.dd;d=this.we.get(c)||[];d[w](a[u]());this.we.set(c,d)},this);0!=b[F]&&this.Yg.set(a[u](),b)},this)};
H.Sj=function(a){return this.kf.get(a)||null};H.eg=function(a,b){var c=b.get(a);return c?Bd(c):[]};H.Nj=function(a){return this.eg(a,this.Yg)};H.Oj=function(a){var b=O();a[E](function(a){(a=this.Vf.get(a))&&b.add(a)},this);return Bd(b).map(function(a){return this.m[k](a)},this)};H.hg=function(a){return this.eg(a,this.g)};H.Cj=function(a){var b=O();a[E](function(a){(a=this.we.get(a))&&a[E](function(a){b.add(a)})},this);return Bd(b).map(function(a){return this.m[k](a)},this)};function ei(a,b,c){this.Sk=a;this.Gk=b;this.mj=c}I("lf.schema.Constraint",ei,void 0);ei[t].Ld=G("Sk");ei[t].getPrimaryKey=ei[t].Ld;ei[t].Kj=G("Gk");ei[t].He=G("mj");ei[t].getForeignKeys=ei[t].He;function fi(a,b){var c=a.ref[Ga](".");if(2!=c[B])throw new P(540,b);this.Pb=a.local;this.cb=c[0];this.dd=c[1];ja(this,b);this.action=a.action;this.timing=a[Ja]};function Z(a){this.oc(a);this.Ce=ie.Gd();this.u=a;this.F=N();this.wf=O();this.nd=O();this.bd=O();this.ya=null;this.ha=N();this.Yd=!1;this.Cd=[]}I("lf.schema.TableBuilder",Z,void 0);function gi(a){ja(this,a[q]);this.qb=a.order;this.autoIncrement=a[mb]}var hi=O([0,6]);H=Z[t];H.oc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);};H.Ec=function(a){if(a==this.u)throw new P(546,a);if(this.F.has(a)||this.ha.has(a)||this.nd.has(a))throw new P(503,this.u+"."+a);};
H.ti=function(a){var b=!1;a[E](function(a){var d=this.F.get(a[q]);b=b||a[mb];if(a[mb]&&3!=d)throw new P(504);},this);if(b&&1<a[B])throw new P(505);};H.ri=function(){if(null!==this.ya){var a=this.ha.get(this.ya).map(function(a){return a[q]}),b=0;if(this.Cd[Xa](function(c,d){b=d;return-1!=a[Wa](c.Pb)},this))throw new P(543,this.Cd[b][q]);}};
H.pi=function(){if(null!==this.ya){var a=function(a){return a[q]},b=ga[ub](this.ha.get(this.ya).map(a));this.ha[E](function(c,d){if(d!=this.ya){var g=c.map(a);if(ga[ub](g)==b)throw new P(544,this.u+"."+d);}},this)}};H.si=function(){null===this.ya||this.ha.get(this.ya)[E](function(a){if(this.bd.has(a[q]))throw new P(545,this.u+"."+a[q]);},this)};H.Hh=function(a,b){this.oc(a);this.Ec(a);this.F.set(a,b);hi.has(b)&&this.Ff([a]);return this};Z[t].addColumn=Z[t].Hh;
Z[t].Jh=function(a,b){var c=this.u;this.ya="pk"+(c[0].toUpperCase()+c.substring(1));this.oc(this.ya);this.Ec(this.ya);c=this.Ud(a,!0,void 0,b);this.ti(c);1==c[B]&&this.wf.add(c[0][q]);this.nd.add(this.ya);this.ha.set(this.ya,c);return this};Z[t].addPrimaryKey=Z[t].Jh;
Z[t].Ih=function(a,b){this.oc(a);this.Ec(a);var c=new fi(b,this.u+"."+a);Hb(c.action)||(c.action=0);Hb(c[Ja])||(c.timing=0);if(1==c.action&&1==c[Ja])throw new P(506);if(!this.F.has(c.Pb))throw new P(540,a);this.Cd[w](c);this.Ef(a,[c.Pb],!1);return this};Z[t].addForeignKey=Z[t].Ih;Z[t].Kh=function(a,b){this.oc(a);this.Ec(a);var c=this.Ud(b,!0);this.Rf(a,c);1==c[B]&&this.wf.add(c[0][q]);this.ha.set(a,c);this.nd.add(a);return this};Z[t].addUnique=Z[t].Kh;
Z[t].Ff=function(a){a=this.Ud(a,!1);this.oi(a);a[E](function(a){this.bd.add(a[q])},this);return this};Z[t].addNullable=Z[t].Ff;Z[t].oi=function(a){pd(this.ha)[E](function(b){var c=O();this.ha.get(b)[E](function(a){c.add(a[q])});var d=a[Da](function(a){return c.has(a[q])});if(1<c[F]&&0<d[B])throw new P(507,b,d[m](","));},this)};Z[t].Ef=function(a,b,c,d){this.oc(a);this.Ec(a);b=this.Ud(b,!0,d);this.Rf(a,b);c&&this.nd.add(a);this.ha.set(a,b);return this};Z[t].addIndex=Z[t].Ef;
Z[t].Rf=function(a,b){if(1<b[B]){var c=b[Da](function(a){return this.bd.has(a[q])},this);if(0<c[B])throw new P(507,a,c[m](","));}};Z[t].Jb=Eb("Yd");Z[t].persistentIndex=Z[t].Jb;Z[t].yb=function(){this.ri();this.pi();this.si();return new (this.Aj())};Z[t].getSchema=Z[t].yb;Z[t].Rc=G("Cd");
Z[t].Ud=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new gi({name:a,order:null!=c?c:1,autoIncrement:d||!1})}):a.map(function(a){return new gi(a)});g[E](function(a){if(!this.F.has(a[q]))throw new P(508,this.u,a[q]);if(b){var c=this.F.get(a[q]);if(0==c||6==c)throw new P(509,this.u,a[q]);}},this);return g};
Z[t].Aj=function(){function a(){function a(c){return b.ha.get(c).map(function(a){return{ea:this[a[q]],qb:a.qb,autoIncrement:a[mb]}},this)}var d=pd(b.F).map(function(a){this[a]=new Y(this,a,b.wf.has(a),b.bd.has(a),b.F.get(a));return this[a]},this),g=pd(b.ha).map(function(d){return new Vf(b.u,d,b.nd.has(d),a[r](this,d))},this);S[r](this,b.u,d,g,b.Yd);var h=null===b.ya?null:new Vf(b.u,b.ya,!0,a[r](this,b.ya)),l=d[Da](function(a){return!b.bd.has(a[u]())});this.Di=new ei(h,l,b.Rc());this.kh=b.wj(d,g)}
var b=this;K(a,S);a[t].Gb=function(a){return new this.kh($c++,a)};a[t].createRow=a[t].Gb;a[t].pc=function(a){var b={};this.lb()[E](function(g){var h=g[u]();g=g.V();var l=a[v][h];if(0==g)if(g=l,null!=g&&""!=g){0!=g[B]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[B]/2),p=new Uint8Array(l),y=0,za=0;y<g[B];y+=2)p[za++]=da(g.substr(y,2),16);g=l}else g=null;else g=2==g?null!=l?new Date(l):null:l;b[h]=g},this);return new this.kh(a.id,b)};a[t].deserializeRow=a[t].pc;a[t].Hb=G("Di");a[t].getConstraint=a[t].Hb;
return a};
Z[t].wj=function(a,b){function c(c,d){this.F=a;this.ha=b;Zc[r](this,c,d)}K(c,Zc);c[t].$f=function(){var a={};this.F[E](function(b){a[b[u]()]=b.Xc()?null:Pd[b.V()]});return a};c[t].xh=function(){var a={};this.F[E](function(b){var c=b[u]();b=b.V();var d=this.o()[c];a[c]=0==b?null!=d?cd(d):null:2==b?null!=d?d[Ab]():null:6==b?null!=d?d:null:d},this);return a};var d=J(function(a){var b=this.F.get(a[u]()),c=this.Ce.Ij(b);return function(b){return c(b[a[u]()])}},this),g=J(function(a){var b=a.map(function(a){return d(a.ea)});return function(a){return b.map(function(b){return b(a)})}},
this),h={};b[E](function(a){var b=a.j();a=1==a.f[B]?d(a.f[0].ea):g(a.f);h[b]=a});c[t].Wb=function(a){return-1!=a[Wa]("#")?this.id():h[pb](a)?h[a](this.o()):null};return c};function ii(a,b){this.m=new ji(a,b);this.ub=N();this.Nc=!1}I("lf.schema.Builder",ii,void 0);H=ii[t];H.mi=function(a){a.Rc()[E](function(b){var c=b.cb;if(!this.ub.has(c))throw new P(536,b[q]);var c=this.ub.get(c).yb(),d=b.dd;if(!c[pb](d))throw new P(537,b[q]);if(a.yb()[b.Pb].V()!=c[d].V())throw new P(538,b[q]);if(!c[d].Yc())throw new P(539,b[q]);},this)};H.li=function(a){a.Rc()[E](function(a){this.ub.get(a.cb).Rc()[E](function(c){if(c.Pb==a.dd)throw new P(534,a[q]);},this)},this)};
H.gj=function(){this.Nc||(this.ub[E](function(a){this.mi(a);this.m.jl(a.yb())},this),qd(this.ub)[E](this.li,this),this.ki(),this.ub[ab](),this.Nc=!0)};H.Pf=function(a,b){a.zf||(a.zf=!0,a.bf=!0,a.dg[E](function(c){c=b.get(c);if(!c.zf)this.Pf(c,b);else if(c.bf&&a!=c)throw new P(533);},this));a.bf=!1};H.ki=function(){var a=N();this.m.H[E](function(b,c){a.set(c,new ki(c))},this);this.ub[E](function(b,c){b.Rc()[E](function(b){a.get(b.cb).dg.add(c)})});qd(a)[E](function(b){this.Pf(b,a)},this)};
function ki(a){this.bf=this.zf=!1;this.dg=O();this.kd=a}H.yb=function(){this.Nc||this.gj();return this.m};ii[t].getSchema=ii[t].yb;ii[t].mg=function(){var a=new td("ns_"+this.m[q]()),b;ci||(ci=new bi);b=ci;var c=null;b.We(a)?c=b.l(a):(c=new bi,b.rb(a,c));return c};ii[t].getGlobal=ii[t].mg;ii[t].connect=function(a){var b=this.mg();b.We(Ad)||b.rb(Ad,this.yb());return(new X(b)).Da(a)};ii[t].connect=ii[t].connect;
ii[t].Ji=function(a){if(this.ub.has(a))throw new P(503,a);if(this.Nc)throw new P(535);this.ub.set(a,new Z(a));return this.ub.get(a)};ii[t].createTable=ii[t].Ji;ii[t].sf=function(a){if(this.Nc)throw new P(535);this.m.sf(a);return this};ii[t].setPragma=ii[t].sf;function ji(a,b){this.u=a;this.hc=b;this.H=N();this.bh={Qi:!1}}I("lf.schema.DatabaseSchema",ji,void 0);ja(ji[t],G("u"));ja(ji[t],ji[t][q]);ji[t].version=G("hc");ji[t].version=ji[t][qb];ji[t].Ya=function(){return qd(this.H)};ji[t].tables=ji[t].Ya;
ia(ji[t],function(a){if(!this.H.has(a))throw new P(101,a);return this.H.get(a)});ia(ji[t],ji[t][k]);ji[t].info=function(){this.yg||(this.yg=new di(this));return this.yg};ji[t].jl=function(a){this.H.set(a[u](),a)};ji[t].ah=G("bh");ji[t].pragma=ji[t].ah;ji[t].sf=Eb("bh");I("lf.schema.create",function(a,b){return new ii(a,b)},void 0);}.bind(window))()
//# sourceMappingURL=lovefield.es6.js.map
