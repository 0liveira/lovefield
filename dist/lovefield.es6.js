(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.onsuccess=b}function sa(a,b){return a.clear=b}
function ta(a,b){return a.values=b}function ua(a,b){return a.remove=b}function va(a,b){return a.child=b}function wa(a,b){return a.next=b}function xa(a,b){return a.onerror=b}function g(a,b){return a.toString=b}function ya(a,b){return a.bind=b}function za(a,b){return a.subscribe=b}function Aa(a,b){return a.getPriority=b}
var Ba="openCursor",Ca="filter",Da="once",Ea="objectStoreNames",Fa="split",k="table",Ga="reduce",m="join",Ha="reject",Ia="timing",Ja="item",n="slice",Ka="target",p="name",r="call",t="prototype",La="clone",Ma="exec",u="getName",Na="close",Qa="concat",v="value",Ra="setImmediate",Sa="every",Ta="update",Ua="global",Va="propertyIsEnumerable",Wa="delete",Xa="sort",Ya="indexOf",Za="some",$a="count",ab="orderByChild",bb="clear",cb="values",db="replace",eb="reverse",fb="continue",gb="removeChild",hb="remove",
ib="child",jb="create",w="push",x="then",kb="keys",lb="transaction",mb="index",nb="context",z="splice",ob="autoIncrement",pb="next",qb="shift",rb="hasOwnProperty",sb="version",tb="objectStore",ub="offset",vb="apply",wb="stringify",A="entries",B="length",xb="info",C="toString",yb="compare",D="bind",zb="getParent",Ab="rows",E="forEach",Bb="getPriority",Cb="getTime",Db="resolve",Eb="result",F="size";function Fb(){return function(){}}function Gb(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Hb(a){return function(){return a}}var H,Ib=this;function Jb(a){return void 0!==a}function Kb(){}
function Lb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][C][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[B]&&"undefined"!=typeof a[z]&&"undefined"!=typeof a[Va]&&!a[Va]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Va]&&!a[Va]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Mb(a){return null===a}function Nb(a){return null!=a}function Ob(a){var b=Lb(a);return"array"==b||"object"==b&&"number"==typeof a[B]}function Pb(a){return"string"==typeof a}function Rb(a){return"function"==Lb(a)}function Sb(a){return a[Tb]||(a[Tb]=++Ub)}var Tb="closure_uid_"+(1E9*ba.random()>>>0),Ub=0;function Vb(a,b,c){return a[r][vb](a[D],arguments)}
function Wb(a,b,c){if(!a)throw fa();if(2<arguments[B]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t].unshift[vb](c,d);return a[vb](b,c)}}return function(){return a[vb](b,arguments)}}function Xb(a,b,c){Xb=Function[t][D]&&-1!=Function[t][D][C]()[Ya]("native code")?Vb:Wb;return Xb[vb](null,arguments)}function Yb(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[w][vb](b,arguments);return a[vb](this,b)}}
function I(a,b){var c=a[Fa]("."),d=Ib;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var f;c[B]&&(f=c[qb]());)!c[B]&&Jb(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}function J(a,b){function c(){}c.prototype=b[t];a.Eb=b[t];a.prototype=new c;a[t].constructor=a;a.yg=function(a,c,h){for(var l=e(arguments[B]-2),q=2;q<arguments[B];q++)l[q-2]=arguments[q];return b[t][c][vb](a,l)}};function Zb(a){if(fa.captureStackTrace)fa.captureStackTrace(this,Zb);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}J(Zb,fa);ja(Zb[t],"CustomError");function $b(a,b,c){this.Zf=c;this.Ff=a;this.pg=b;this.md=0;this.hd=null}$b[t].get=function(){var a;0<this.md?(this.md--,a=this.hd,this.hd=a[pb],wa(a,null)):a=this.Ff();return a};$b[t].put=function(a){this.pg(a);this.md<this.Zf&&(this.md++,wa(a,this.hd),this.hd=a)};var ac=e[t],bc=ac[Ya]?function(a,b,c){return ac[Ya][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[B]+c):c;if(Pb(a))return Pb(b)&&1==b[B]?a[Ya](b,c):-1;for(;c<a[B];c++)if(c in a&&a[c]===b)return c;return-1},cc=ac[E]?function(a,b,c){ac[E][r](a,b,c)}:function(a,b,c){for(var d=a[B],f=Pb(a)?a[Fa](""):a,h=0;h<d;h++)h in f&&b[r](c,f[h],h,a)},dc=ac.map?function(a,b,c){return ac.map[r](a,b,c)}:function(a,b,c){for(var d=a[B],f=e(d),h=Pb(a)?a[Fa](""):a,l=0;l<d;l++)l in h&&(f[l]=b[r](c,h[l],l,a));return f},
ec=ac[Ga]?function(a,b,c,d){d&&(b=Xb(b,d));return ac[Ga][r](a,b,c)}:function(a,b,c,d){var f=c;cc(a,function(c,l){f=b[r](d,f,c,l,a)});return f},fc=ac[Za]?function(a,b,c){return ac[Za][r](a,b,c)}:function(a,b,c){for(var d=a[B],f=Pb(a)?a[Fa](""):a,h=0;h<d;h++)if(h in f&&b[r](c,f[h],h,a))return!0;return!1};function gc(a,b){ac[z][r](a,b,1)}function hc(a,b){var c;a:{c=a[B];for(var d=Pb(a)?a[Fa](""):a,f=0;f<c;f++)if(f in d&&b[r](void 0,d[f],f,a)){c=f;break a}c=-1}return 0<=c?(gc(a,c),!0):!1}
function ic(a){var b=a[B];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function jc(a,b){for(var c=1;c<arguments[B];c++){var d=arguments[c];if(Ob(d)){var f=a[B]||0,h=d[B]||0;a.length=f+h;for(var l=0;l<h;l++)a[f+l]=d[l]}else a[w](d)}}function kc(a,b,c,d){ac[z][vb](a,lc(arguments,1))}function lc(a,b,c){return 2>=arguments[B]?ac[n][r](a,b):ac[n][r](a,b,c)}function mc(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b}
function nc(a){for(var b=[],c=0;c<arguments[B];c++){var d=arguments[c];if("array"==Lb(d))for(var f=0;f<d[B];f+=8192)for(var h=nc[vb](null,lc(d,f,f+8192)),l=0;l<h[B];l++)b[w](h[l]);else b[w](d)}return b};var oc;a:{var pc=Ib.navigator;if(pc){var qc=pc.userAgent;if(qc){oc=qc;break a}}oc=""};function rc(a){Ib.setTimeout(function(){throw a;},0)}var sc;
function tc(){var a=Ib.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==oc[Ya]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Na]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=Xb(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==oc[Ya]("Trident")&&-1==oc[Ya]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Jb(c[pb])){c=c[pb];var a=c.ve;c.ve=null;a()}};return function(a){wa(d,{ve:a});d=d[pb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[gb](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Ib.setTimeout(a,0)}};function uc(){this.ud=this.hc=null}var wc=new $b(function(){return new vc},function(a){a.reset()},100);uc[t].add=function(a,b){var c=wc.get();c.set(a,b);this.ud?wa(this.ud,c):this.hc=c;this.ud=c};ua(uc[t],function(){var a=null;this.hc&&(a=this.hc,this.hc=this.hc[pb],this.hc||(this.ud=null),wa(a,null));return a});function vc(){this.scope=this.Hd=null;wa(this,null)}vc[t].set=function(a,b){this.Hd=a;this.scope=b;wa(this,null)};vc[t].reset=function(){this.scope=this.Hd=null;wa(this,null)};function xc(a,b){yc||zc();Ac||(yc(),Ac=!0);Bc.add(a,b)}var yc;function zc(){if(Ib.Promise&&Ib.Promise[Db]){var a=Ib.Promise[Db](void 0);yc=function(){a[x](Cc)}}else yc=function(){var a=Cc;if(!Rb(Ib[Ra])||Ib.Window&&Ib.Window[t]&&Ib.Window[t][Ra]==Ib[Ra])sc||(sc=tc()),sc(a);else Ib[Ra](a)}}var Ac=!1,Bc=new uc;function Cc(){for(var a=null;a=Bc[hb]();){try{a.Hd[r](a.scope)}catch(b){rc(b)}wc.put(a)}Ac=!1};function K(a,b){this.Pa=0;this.df=void 0;this.Vc=this.$b=this.C=null;this.gd=this.Gd=!1;if(a!=Kb)try{var c=this;a[r](b,function(a){Dc(c,2,a)},function(a){Dc(c,3,a)})}catch(d){Dc(this,3,d)}}function Ec(){va(this,null);this.context=this.fc=this.Ec=null;wa(this,null);this.xd=!1}Ec[t].reset=function(){va(this,null);this.context=this.fc=this.Ec=null;this.xd=!1};var Fc=new $b(function(){return new Ec},function(a){a.reset()},100);function Gc(a,b,c){var d=Fc.get();d.Ec=a;d.fc=b;d.context=c;return d}
function Hc(a){if(a instanceof K)return a;var b=new K(Kb);Dc(b,2,a);return b}function Ic(a){return new K(function(b,c){c(a)})}function Jc(a,b,c){Kc(a,b,c,null)||xc(Yb(b,a))}function Lc(a){return new K(function(b,c){var d=a[B],f=[];if(d)for(var h=function(a,c){d--;f[a]=c;0==d&&b(f)},l=function(a){c(a)},q=0,y;q<a[B];q++)y=a[q],Jc(y,Yb(h,q),l);else b(f)})}function Mc(){var a,b,c=new K(function(c,f){a=c;b=f});return new Nc(c,a,b)}K[t].then=function(a,b,c){return Oc(this,Rb(a)?a:null,Rb(b)?b:null,c)};
K[t].then=K[t][x];K[t].$goog_Thenable=!0;function Pc(a,b,c){Oc(a,null,b,c)}function Qc(a,b){a.$b||2!=a.Pa&&3!=a.Pa||Rc(a);a.Vc?wa(a.Vc,b):a.$b=b;a.Vc=b}function Oc(a,b,c,d){var f=Gc(null,null,null);va(f,new K(function(a,l){f.Ec=b?function(c){try{var f=b[r](d,c);a(f)}catch(O){l(O)}}:a;f.fc=c?function(b){try{var f=c[r](d,b);!Jb(f)&&b instanceof Sc?l(b):a(f)}catch(O){l(O)}}:l}));f[ib].C=a;Qc(a,f);return f[ib]}K[t].ug=function(a){this.Pa=0;Dc(this,2,a)};K[t].vg=function(a){this.Pa=0;Dc(this,3,a)};
function Dc(a,b,c){0==a.Pa&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.Pa=1,Kc(c,a.ug,a.vg,a)||(a.df=c,a.Pa=b,a.C=null,Rc(a),3!=b||c instanceof Sc||Tc(a,c)))}function Kc(a,b,c,d){if(a instanceof K)return Qc(a,Gc(b||Kb,c||null,d)),!0;var f;if(a)try{f=!!a.$goog_Thenable}catch(h){f=!1}else f=!1;if(f)return a[x](b,c,d),!0;f=typeof a;if("object"==f&&null!=a||"function"==f)try{var l=a[x];if(Rb(l))return Uc(a,l,b,c,d),!0}catch(q){return c[r](d,q),!0}return!1}
function Uc(a,b,c,d,f){function h(a){q||(q=!0,d[r](f,a))}function l(a){q||(q=!0,c[r](f,a))}var q=!1;try{b[r](a,l,h)}catch(y){h(y)}}function Rc(a){a.Gd||(a.Gd=!0,xc(a.Kf,a))}function Vc(a){var b=null;a.$b&&(b=a.$b,a.$b=b[pb],wa(b,null));a.$b||(a.Vc=null);return b}
K[t].Kf=function(){for(var a=null;a=Vc(this);){var b=this.Pa,c=this.df;if(3==b&&a.fc&&!a.xd)for(var d=void 0,d=this;d&&d.gd;d=d.C)d.gd=!1;if(a[ib])a[ib].C=null,Wc(a,b,c);else try{a.xd?a.Ec[r](a[nb]):Wc(a,b,c)}catch(f){Xc[r](null,f)}Fc.put(a)}this.Gd=!1};function Wc(a,b,c){2==b?a.Ec[r](a[nb],c):a.fc&&a.fc[r](a[nb],c)}function Tc(a,b){a.gd=!0;xc(function(){a.gd&&Xc[r](null,b)})}var Xc=rc;function Sc(a){Zb[r](this,a)}J(Sc,Zb);ja(Sc[t],"cancel");
function Nc(a,b,c){this.ga=a;this.resolve=b;this.reject=c};/*

 Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function Yc(a,b){this.ka=a;this.m=b||this.Ae()}var Zc=0;H=Yc[t];H.id=G("ka");H.Ae=function(){return{}};H.mf=G("m");H.Fa=function(){return{id:this.ka,value:this.mf()}};H.Nb=function(a){return"#"==a.substr(-1)?this.ka:null};function $c(a){return new Yc(a.id,a[v])}function ad(a){return new Yc(Zc++,a||{})}function bd(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[B];++c)var d=a[c][C](16),b=b+(2>d[B]?"0"+d:d);return b};function cd(a){this.type=a}function dd(a){Yc[r](this,-1,a)}J(dd,Yc);function ed(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var f=a[B],h=b[B],l=[],q=0;q<f+1;q++)l[q]=[],l[q][0]=0;for(var y=0;y<h+1;y++)l[0][y]=0;for(q=1;q<=f;q++)for(y=1;y<=h;y++)c(a[q-1],b[y-1])?l[q][y]=l[q-1][y-1]+1:l[q][y]=ba.max(l[q-1][y],l[q][y-1]);for(var O=[],q=f,y=h;0<q&&0<y;)c(a[q-1],b[y-1])?(O.unshift(d(q-1,y-1)),q--,y--):l[q-1][y]>l[q][y-1]?q--:y--;return O}function fd(a){return ec(arguments,function(a,c){return a+c},0)}
function gd(a){return fd[vb](null,arguments)/arguments[B]}function hd(a){var b=arguments[B];if(2>b)return 0;var c=gd[vb](null,arguments);return fd[vb](null,dc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function id(a){return ba.sqrt(hd[vb](null,arguments))};var jd="StopIteration"in Ib?Ib.StopIteration:{message:"StopIteration",stack:""};function kd(){}wa(kd[t],function(){throw jd;});kd[t].pe=function(){return this};function ld(a){if(a instanceof kd)return a;if("function"==typeof a.pe)return a.pe(!1);if(Ob(a)){var b=0,c=new kd;wa(c,function(){for(;;){if(b>=a[B])throw jd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function md(a,b){if(Ob(a))try{cc(a,b,void 0)}catch(c){if(c!==jd)throw c;}else{a=ld(a);try{for(;;)b[r](void 0,a[pb](),void 0,a)}catch(d){if(d!==jd)throw d;}}}function nd(a){if(fc(arguments,function(a){return!a[B]})||!arguments[B])return new kd;var b=new kd,c=arguments,d=mc(c[B]);wa(b,function(){if(d){for(var a=dc(d,function(a,b){return c[b][a]}),b=d[B]-1;0<=b;b--){if(d[b]<c[b][B]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw jd;});return b};/*

 Copyright 2015 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function L(){return new ca.Map}function od(a){var b=0,c=e(a[F]);a[E](function(a,f){c[b++]=f});return c}function pd(a){var b=0,c=e(a[F]);a[E](function(a){c[b++]=a});return c};var qd={};I("lf.TransactionType",qd);qd.READ_ONLY=0;qd.READ_WRITE=1;function rd(a,b){this.Ma=a;this.nf=b;this.Z=Mc()}rd[t].ja=function(){try{sd(this.Ma)}catch(a){return Ic(a)}return(0==this.nf?this.kc():td(this))[x](function(a){this.Ma.ja();return a}[D](this))};function td(a){ud(a);vd(a);return a.kc()}function ud(a){a.Ma.mb[E](function(a,c){var d=this.Ma.ba().get(c),d=this.I(d[u](),d.ac[D](d)),f=pd(a.za).map(function(a){return a.id()});0<f[B]&&Pc(d[hb](f),this.Jd,this);f=pd(a.ma).map(function(a){return a[1]})[Qa](pd(a.ya));Pc(d.put(f),this.Jd,this)},a)}
function vd(a){wd(a.Ma)[E](function(a){var c=this.I(a[u](),$c),d;c.get([-1])[x](function(a){d=a;return c[hb]([])})[x](function(){c.put(d);c.put(a.Fa())},this.Jd[D](this))},a)}rd[t].Jd=function(a){this.Z[Ha](a)};function xd(a){this.qg=a}g(xd[t],G("qg"));var yd=new xd("backstore"),zd=new xd("cache"),Ad=new xd("indexstore"),Bd=new xd("engine"),Cd=new xd("runner"),Dd=new xd("observerregistry"),Ed=new xd("schema");function M(a){return Jb(a)?new ca.Set(a):new ca.Set}function Fd(a){var b=0,c=e(a[F]);a[E](function(a){c[b++]=a});return c}function Gd(a,b){if(b[F]>a[F])return!1;var c=!0;b[E](function(b){c=c&&a.has(b)});return c};function Hd(a,b){this.ka=a;this.m=b||{}}function Id(a){var b=M();a[E](function(a){b.add(a>>9)});return Fd(b)}Hd[t].Y=G("ka");function Jd(a,b){b[E](function(a){this.m[a.id()]=a.Fa()},a)}function Kd(a,b){b[E](function(a){delete this.m[a]},a)}Hd[t].Fa=function(){return{id:this.ka,value:ga[wb](this.m)}};function Ld(a){return new Hd(a.id,ga.parse(a[v]))};function Md(a,b,c){this.X=a;this.Jb=b;this.ef=c}H=Md[t];H.get=function(a){if(0==a[B])return this.sc();var b=this.Jb;return Nd(this,a)[x](function(c){return a.map(function(a){var f=c.get(a>>9);return b(f.m[a])})})};function Nd(a,b){var c=L(),d=Mc(),f=Id(b).map(function(a){return new K(function(b,d){var f;try{f=this.X.get(a)}catch(O){d(O);return}xa(f,d);ra(f,function(a){a=Ld(a[Ka][Eb]);c.set(a.Y(),a);b()})},this)},a);Lc(f)[x](function(){d[Db](c)});return d.ga}
H.sc=function(){return new K(function(a,b){var c=[],d;try{d=this.X[Ba]()}catch(f){b(f);return}xa(d,b);ra(d,function(){var b=d[Eb];if(b){var f;f=Ld(b[v]).m;for(var q in f)c[w](this.Jb(f[q]));b[fb]()}else a(c)}[D](this))},this)};H.Qb=function(a){return new K(function(b,c){var d;try{d=a()}catch(f){c(f);return}ra(d,b);xa(d,c)},this)};
H.put=function(a){if(0==a[B])return Hc();var b=L();a[E](function(a){var d;d=a.id()>>9;var f=b.get(d)||null;null===f&&(f=this.ef(this.X[p],d));Jd(f,[a]);b.set(d,f)},this);a=pd(b).map(function(a){return this.Qb(function(){return this.X.put(a.Fa())}[D](this))},this);return Lc(a)};
ua(H,function(a){if(0==a[B])return this.Qb(function(){return this.X[bb]()}[D](this));var b=L();a[E](function(a){var d=a>>9,f=b.get(d)||null;null===f&&(f=this.ef(this.X[p],d));Kd(f,[a]);b.set(d,f)},this);a=pd(b).map(function(a){return this.Qb(function(){return 0==aa[kb](a.m)[B]?this.X[Wa](a.Y()):this.X.put(a.Fa())}[D](this))},this);return Lc(a)});function Od(a,b,c){a=a.l(zd);var d=[c<<9,(c+1<<9)-1];b=a.bb(b,d[0],d[1]);c=new Hd(c);Jd(c,b);return c}function Pd(a,b){return new Hd(b)};function Qd(){};function Rd(a){this.ha=a.l(zd);this.F=a.l(Ad);this.s=a.l(Ed)}qa(Rd[t],function(a){a[E](function(a){Sd(this,a);Td(this,a)},this)});function Td(a,b){var c=b[u]();b.za[E](function(a,b){this.ha[hb](c,b)},a);b.ya[E](function(a){this.ha.set(c,a)},a);b.ma[E](function(a){this.ha.set(c,a[1])},a)}function Sd(a,b){var c=a.s[k](b[u]());Ud(b)[E](function(a){Vd(this,c,a)},a)}
function Vd(a,b,c){var d=[];(a.F.Kc.get(b[u]())||[])[E](function(a){try{Wd(a,c),d[w](a)}catch(b){throw d[E](function(a){Wd(a,[c[1],c[0]])},this),b;}},a)}function Wd(a,b){var c=null===b[1]?void 0:b[1].Nb(a[u]()),d=null===b[0]?void 0:b[0].Nb(a[u]());if(!Jb(d)&&Jb(c))a.add(c,b[1].id());else if(Jb(d)&&Jb(c)){if(null===c||null===d){if(c==d)return}else if(0==a.lc()[yb](d,c))return;a.add(c,b[1].id());a[hb](d,b[0].id())}else Jb(d)&&!Jb(c)&&a[hb](d,b[0].id())};var Xd={};I("lf.ConstraintAction",Xd);Xd.RESTRICT=0;Xd.CASCADE=1;var Yd={};I("lf.ConstraintTiming",Yd);Yd.IMMEDIATE=0;Yd.DEFERRABLE=1;var Zd={};I("lf.Order",Zd);Zd.DESC=0;Zd.ASC=1;var $d={};I("lf.Type",$d);$d.ARRAY_BUFFER=0;$d.BOOLEAN=1;$d.DATE_TIME=2;$d.INTEGER=3;$d.NUMBER=4;$d.STRING=5;$d.OBJECT=6;var ae={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",ae);function N(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[B])for(var c=1;c<=ba.min(4,arguments[B]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][C]()[n](0,64)))}J(N,fa);function be(a){this.F=a.l(Ad);this.s=a.l(Ed);this.$c=null}function ce(a,b,c){var d=b.zb().dg;c[E](function(a){d[E](function(b){if(null==a.m[b[u]()])throw new N(202,b.j());},this)},a)}function de(a,b,c,d){b.zb().Id()[E](function(a){a[Ia]==d&&ee(this,a,c)},a)}function ee(a,b,c){var d=fe(a,b);c[E](function(a){if(ge(a[0],a[1],b[p])&&(a=a[1].m[b.Gb],null!==a&&!d.sa(a)))throw new N(203,b[p]);},a)}
function fe(a,b){null===a.$c&&(a.$c=L());var c=a.$c.get(b[p])||null;null===c&&(c=a.s[k](b.ub)[b.Fc].ta(),c=a.F.get(c.j()),a.$c.set(b[p],c));return c}function ge(a,b,c){return(null===a?null!==b:null===b)||a.Nb(c)!=b.Nb(c)}function he(a,b,c,d){b=ie(a.s[xb](),b[u]());null!=b&&b[E](function(a){if(a[Ia]==d){var b=this.F.get(a[p]),l=fe(this,a);c[E](function(c){if(ge(c[0],c[1],l[u]())&&b.sa(c[0].m[a.Fc]))throw new N(203,a[p]);},this)}},a)}
function je(a,b,c,d){0!=c[B]&&(c=c.map(function(a){return[null,a]}),de(a,b,c,d))}function ke(a,b,c,d){0!=c[B]&&(de(a,b,c,d),he(a,b,c,d))}function le(a,b,c,d){0!=c[B]&&(c=c.map(function(a){return[a,null]}),he(a,b,c,d))};function me(a){this.ya=L();this.ma=L();this.za=L();this.u=a}H=me[t];na(H,G("u"));H.add=function(a){if(this.za.has(a.id())){var b=[this.za.get(a.id()),a];this.ma.set(a.id(),b);this.za[Wa](a.id())}else this.ya.set(a.id(),a)};H.modify=function(a){var b=a[1],c=a[0].id();this.ya.has(c)?this.ya.set(c,b):(this.ma.has(c)&&(a=[this.ma.get(a[0].id())[0],b]),this.ma.set(c,a))};
H.delete=function(a){if(this.ya.has(a.id()))this.ya[Wa](a.id());else if(this.ma.has(a.id())){var b=this.ma.get(a.id())[0];this.ma[Wa](a.id());this.za.set(a.id(),b)}else this.za.set(a.id(),a)};function Ud(a){var b=[];a.ya[E](function(a){b[w]([null,a])});a.ma[E](function(a){b[w](a)});a.za[E](function(a){b[w]([a,null])});return b}g(H,function(){return"["+od(this.ya)[C]()+"], ["+od(this.ma)[C]()+"], ["+od(this.za)[C]()+"]"});
function ne(a){var b=new me(a.u);a.ya[E](function(a){b[Wa](a)});a.za[E](function(a){b.add(a)});a.ma[E](function(a){b.modify([a[1],a[0]])});return b}H.Md=function(){return 0==this.ya[F]&&0==this.za[F]&&0==this.ma[F]};function oe(a,b){this.pa=L();b[E](function(a){this.pa.set(a[u](),a)},this);this.ha=a.l(zd);this.F=a.l(Ad);this.Ja=new be(a);this.jd=new Rd(a);this.mb=L()}function wd(a){var b=[];od(a.mb).map(function(a){return this.pa.get(a)},a)[E](function(a){a.Bb()&&(a.Aa()[E](function(a){b[w](this.F.get(a.j()))},this),b[w](this.F.get(a[u]()+".#")))},a);return b}H=oe[t];H.ba=G("pa");function pe(a){var b=[];a.pa[E](function(a){a.Bb()&&(a.Aa()[E](function(a){b[w](a.j())}),b[w](a[u]()+".#"))});return b}
H.sb=function(a,b){qe(this,a);ce(this.Ja,a,b);je(this.Ja,a,b,0);for(var c=0;c<b[B];c++)re(this,a,[null,b[c]])};function re(a,b,c){var d=b[u](),f=a.mb.get(d)||new me(d);a.mb.set(d,f);try{Vd(a.jd,b,c)}catch(h){throw h;}b=c[0];var l=c[1];null===b&&null!==l?(a.ha.set(d,l),f.add(l)):null!==b&&null!==l?(a.ha.set(d,l),f.modify(c)):null!==b&&null===l&&(a.ha[hb](d,b.id()),f[Wa](b))}
qa(H,function(a,b){qe(this,a);ce(this.Ja,a,b);for(var c=0;c<b[B];c++){var d=b[c],d=[this.ha.get(d.id()),d];ke(this.Ja,a,[d],0);re(this,a,d)}});H.Ld=function(a,b){qe(this,a);ce(this.Ja,a,b);for(var c=0;c<b[B];c++){var d=b[c],f=null,h,l=a.zb().dd();if(null===l)h=null;else{h=this.Ja;var l=l.j(),q=d.Nb(l);h=h.F.get(l).get(q);h=0==h[B]?null:h[0]}null!=h?(f=this.ha.get(h),d.ka=h,ke(this.Ja,a,[[f,d]],0)):je(this.Ja,a,[d],0);re(this,a,[f,d])}};
ua(H,function(a,b){qe(this,a);le(this.Ja,a,b,0);for(var c=0;c<b[B];c++)re(this,a,[b[c],null])});function sd(a){a.mb[E](function(a){var c=this.pa.get(a[u]());je(this.Ja,c,pd(a.ya),1);le(this.Ja,c,pd(a.za),1);ke(this.Ja,c,pd(a.ma),1)},a)}H.ja=Fb();H.Cb=function(){var a=pd(this.mb).map(function(a){return ne(a)});this.jd[Ta](a)};function qe(a,b){if(!a.pa.has(b[u]()))throw new N(106,b[u]());};function se(a,b,c,d){this.b=a;this.w=b;this.$=null===this.b?!1:c;this.ia=null===this.w?!1:d}g(se[t],function(){return(this.$?"(":"[")+(null===this.b?"unbound":this.b)+", "+(null===this.w?"unbound":this.w)+(this.ia?")":"]")});function te(a){if(null===a.b&&null===a.w)return[];var b=null,c=null;null===a.b||(b=new se(null,a.b,!1,!a.$));null===a.w||(c=new se(a.w,null,!a.ia,!1));return[b,c][Ca](function(a){return null!==a})}se[t].reverse=function(){return new se(this.w,this.b,this.ia,this.$)};
function ue(a,b){var c=ve(a.b,b.b,!0,a.$,b.$);if(0==c)return!0;var d=-1==c?a:b,c=1==c?a:b;return null===d.w||d.w>c.b||d.w==c.b&&!d.ia&&!c.$}function we(){return new se(null,null,!1,!1)}function xe(a){return null===a.b&&null===a.w}function ye(a){return null!=a.b&&a.b==a.w&&!a.$&&!a.ia}se[t].contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.ia;return(null===this.b||a>this.b||a==this.b&&!this.$)&&b};
function ve(a,b,c,d,f){function h(a){return c?a:1==a?-1:1}d=d||!1;f=f||!1;return null===a?null===b?(d?!f:f)?d?h(1):h(-1):0:h(-1):null===b?h(1):a<b?-1:a==b?(d?!f:f)?d?h(1):h(-1):0:1}function ze(a,b){var c=ve(a.b,b.b,!0,a.$,b.$);0==c&&(c=ve(a.w,b.w,!1,a.ia,b.ia));return c};function Ae(a,b){this.entries=a;this.J=M(b);this.Ua=null}function P(a){return Fd(a.J)}function Be(a){return a[A].map(function(a){return a.ra.m})}function Ce(a){return a[A].map(function(a){return a.ra.id()})}function De(a,b){return a.Ua.get(b.j())}var Ee=null;function Fe(){null===Ee&&(Ee=new Ae([],[]));return Ee}
function Ge(a){if(0==a[B])return Fe();for(var b=a[Ga](function(a,b){return a+b[A][B]},0),c=e(b),d=0,b=a.map(function(a){var b=L();a[A][E](function(a){c[d++]=a;b.set(a.id,a)});return b}),f=L(),h=0;h<c[B];h++)b[Sa](function(a){return a.has(c[h].id)})&&f.set(c[h].id,c[h]);return new Ae(pd(f),Fd(a[0].J))}function He(a){if(0==a[B])return Fe();var b=L();a[E](function(a){a[A][E](function(a){b.set(a.id,a)})});return new Ae(pd(b),Fd(a[0].J))}
function Ie(a,b){var c=1<b[B],d=a.map(function(a){return new Je(a,c)});return new Ae(d,b)}function Je(a,b){this.ra=a;this.id=Ke++;this.Pd=b}var Ke=0;function Le(a,b){var c=b.Wa();return null!==c&&a.ra.m[rb](c)?a.ra.m[c]:a.Pd?a.ra.m[Me(b.I())][b[u]()]:a.ra.m[b[u]()]}function Ne(a,b,c){var d=b.Wa();if(null!=d)a.ra.m[d]=c;else if(a.Pd){var d=Me(b.I()),f=a.ra.m[d];null==f&&(f={},a.ra.m[d]=f);f[b[u]()]=c}else a.ra.m[b[u]()]=c}
function Oe(a,b,c,d){function f(a,b){if(a.Pd){var c=a.ra.m,d;for(d in c)h[d]=c[d]}else h[b[0]]=a.ra.m}var h={};f(a,b);f(c,d);a=new Yc(-1,h);return new Je(a,!0)};I("lf.bind",function(a){return new Pe(a)});function Pe(a){this.ca=a}I("lf.Binder",Pe);Pe[t].ta=G("ca");function Qe(){this.Ne=Re();var a=Se();this.dc=L();this.dc.set(1,Te());this.dc.set(2,Ue());this.dc.set(4,a);this.dc.set(3,a);this.dc.set(5,Ve())}Qe.bd=function(){return Qe.Je?Qe.Je:Qe.Je=new Qe};function We(a,b,c){return(a.dc.get(b)||null).get(c)||null}function Re(){function a(a){return a}var b=L();b.set(1,function(a){return null===a?null:a?1:0});b.set(2,function(a){return null===a?null:a[Cb]()});b.set(3,a);b.set(4,a);b.set(5,a);return b}
function Te(){var a=L();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function Se(){var a=Te();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return null===a||null===c?!1:a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c[Ya](a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}
function Ve(){var a=Se();a.set("match",function(a,c){return null===a||null===c?!1:(new RegExp(c)).test(a)});return a}
function Ue(){var a=L();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a[Cb]()>=c[0][Cb]()&&a[Cb]()<=c[1][Cb]()});a.set("eq",function(a,c){return(null===a?-1:a[Cb]())==(null===c?-1:c[Cb]())});a.set("gte",function(a,c){return null===a||null===c?!1:a[Cb]()>=c[Cb]()});a.set("gt",function(a,c){return null===a||null===c?!1:a[Cb]()>c[Cb]()});a.set("in",function(a,c){return c[Za](function(c){return c[Cb]()==a[Cb]()})});a.set("lte",function(a,c){return null===a||null===c?!1:a[Cb]()<=
c[Cb]()});a.set("lt",function(a,c){return null===a||null===c?!1:a[Cb]()<c[Cb]()});a.set("neq",function(a,c){return(null===a?-1:a[Cb]())!=(null===c?-1:c[Cb]())});return a};function Xe(a,b){this.Pe=a;this.qf=b}Xe[t].getKey=G("Pe");la(Xe[t],function(){return new Xe(this.Pe,this.qf)});function Ye(a,b){Xe[r](this,a,b);this.g=this.C=null}J(Ye,Xe);var Ze=[];H=Ye[t];la(H,function(){return new Ye(this.getKey(),this.qf)});H.getParent=G("C");function Q(a){return a.g||Ze}function $e(a,b){return Q(a)[b]||null}function af(a){for(var b=0;a[zb]();)b++,a=a[zb]();return b}H.cb=function(){for(var a=this;a[zb]();)a=a[zb]();return a};H.contains=function(a){do a=a[zb]();while(a&&a!=this);return Boolean(a)};function bf(a,b,c){if(!1!==b[r](c,a)){a=Q(a);for(var d=0;d<a[B];d++)bf(a[d],b,c)}}
function cf(a,b){df(a,b,a.g?a.g[B]:0)}function df(a,b,c){b.C=a;a.g=a.g||[];kc(a.g,c,0,b)}function ef(a,b,c){var d=Q(a);d[c].C=null;d[c]=b;b.C=a}function ff(a,b){var c=a.g&&a.g[b];return c?(c.C=null,gc(a.g,b),0==a.g[B]&&(a.g=null),c):null}H.removeChild=function(a){return ff(this,bc(Q(this),a))};function gf(){Ye[r](this,"","");this.ka=hf++}J(gf,Ye);var hf=0;gf[t].Y=G("ka");function jf(a,b,c){gf[r](this);this.K=a;pa(this,b);this.L=c;this.Zc=We(Qe.bd(),this.K.S(),this.L);this.Xa=!1;this.Zb=b}J(jf,gf);H=jf[t];H.Hb=function(){var a=new jf(this.K,this[v],this.L);a.Zb=this.Zb;a.sd(this.Xa);var b=this.Y();a.ka=b;return a};H.ab=function(a){return null!=a?(a[w](this.K),a):[this.K]};H.sd=Gb("Xa");function kf(a){var b=!1;a[v]instanceof Pe||(b="array"==Lb(a[v])?!a[v][Za](function(a){return a instanceof Pe}):!0);if(!b)throw new N(501);}
H.eval=function(a){kf(this);if("in"==this.L)return mf(this,a);var b=a[A][Ca](function(a){return this.Zc(Le(a,this.K),this[v])!=this.Xa},this);return new Ae(b,P(a))};ya(H,function(a){if(this.Zb instanceof Pe){var b=this.Zb.ta();if(a[B]<=b)throw new N(510);pa(this,a[b])}else"array"==Lb(this.Zb)&&pa(this,this.Zb.map(function(b){if(b instanceof Pe){var d=b.ta();if(a[B]<=d)throw new N(510);return a[b.ta()]}return b}))});
function mf(a,b){var c=M(a[v]),d=function(a){return null===a?!1:c.has(a)!=this.Xa}[D](a),f=b[A][Ca](function(a){return d(Le(a,this.K))},a);return new Ae(f,P(b))}g(H,function(){return"value_pred("+this.K.j()+" "+this.L+(this.Xa?"(complement)":"")+" "+this[v]+")"});function nf(a){this.da=a;this.Wc=this.wa=null}function of(a,b){null===a.wa&&null!=a.B&&(a.wa=pf(a.B));return a.wa.get(b)||null}function pf(a){var b=L();bf(a,function(a){b.set(a.Y(),a)});return b}function qf(a,b){b.B&&(a.B=b.B.Hb());a.Wc=b}ya(nf[t],function(){return this});function rf(a,b){var c=a.B;null!=c&&bf(c,function(a){a instanceof jf&&a[D](b)})};function sf(a){nf[r](this,a)}J(sf,nf);function tf(a){var b="";a[E](function(c,d){b+=c.K.j()+" ";b+=1==c.gb?"ASC":"DESC";d<a[B]-1&&(b+=", ")});return b}sf[t].ba=function(){return M(this.b)};la(sf[t],function(){var a=new sf(this.da);qf(a,this);this.f&&(a.f=this.f[n]());this.b&&(a.b=this.b[n]());a.W=this.W;a.N=this.N;this.M&&(a.M=this.M[n]());this.ea&&(a.ea=this.ea[n]());this.Ob&&(a.Ob=this.Ob);this.Vb&&(a.Vb=this.Vb);a.tb=this.tb;return a});
ya(sf[t],function(a){sf.Eb[D][r](this,a);null!=this.Ob&&(this.W=a[this.Ob.ta()]);null!=this.Vb&&(this.N=a[this.Vb.ta()]);rf(this,a);return this});function uf(a,b){this.xa=a;this.pa=b}uf[t].cb=G("xa");uf[t].ba=G("pa");function vf(a){var b=M();a[E](function(a){a.ba()[E](b.add[D](b))});return b};function wf(a,b){this.global=a;this.wb=a.l(yd);this.pd=b.map(function(a){return a[nb]});this.Ye=b.map(function(a){return a.$d});this.ye=vf(this.Ye);this.of=xf(this);this.Sb=Mc()}function xf(a){return a.pd[Za](function(a){return!(a instanceof sf)})?1:0}H=wf[t];
ma(H,function(){function a(){var h=d[qb]();if(h){var l=f[c[B]];return h.cb()[Ma](b,l)[x](function(b){c[w](b[0]);return a()})}return Hc()}var b=new oe(this[Ua],this.ye),c=[],d=this.Ye[n](),f=this.pd;return a()[x](function(){return this.wb.Ib(this.of,b).ja()}[D](this))[x](function(){this.Xd(c);return c}[D](this),function(a){b.Cb();throw a;})});H.S=G("of");H.ba=G("ye");H.tc=G("Sb");H.Y=function(){return Sb(this)};H.Xd=Fb();function yf(a,b){wf[r](this,a,b);this.Ab=a.l(Dd)}J(yf,wf);Aa(yf[t],Hb(0));yf[t].Xd=function(a){this.pd[E](function(b,c){zf(this.Ab,b,a[c])},this)};function Af(a,b){this.i=a;this.Ab=a.l(Dd);this.Oa=a.l(Cd);this.jd=new Rd(a);this.mb=b;var c=a.l(Ed),d=this.mb.map(function(a){return c[k](a[u]())});this.pa=M(d);this.Sb=Mc()}H=Af[t];ma(H,function(){this.jd[Ta](this.mb);this.Ic();return Hc()});H.S=Hb(1);H.ba=G("pa");H.tc=G("Sb");H.Y=function(){return Sb(this)};Aa(H,Hb(1));H.Ic=function(){var a=Bf(this.Ab,this.pa);0!=a[B]&&(a=new yf(this.i,a),Cf(this.Oa,a))};function Df(a){this.i=a;this.wb=a.l(yd);this.Oa=a.l(Cd)}Df[t].Vd=function(a){a=new Af(this.i,a);Cf(this.Oa,a)};function R(a,b){this.Wb=a;this.h=b;this.Ra=L()}I("lf.backstore.FirebaseRawBackStore",R);R[t].ed=G("h");R[t].fd=function(){throw new N(351);};function Ef(a,b){var c=Mc(),d=a;b[B]&&(d=a[ib](b));d[Da]("value",function(a){c[Db](a.val())},function(a){c[Ha](a)});return c.ga}function Ff(a,b,c){function d(a){a?f[Ha](a):f[Db]()}c=c||!1;var f=Mc();c?a.set(b,d):a[Ta](b,d);return f.ga}
R[t].Ba=function(a){return Ef(this.h,"@rev/R")[x](function(a){this.Ha=a;return Ef(this.h,"@table")}[D](this))[x](function(b){var c=0,d;for(d in b)this.Ra.set(d,b[d]),b[d]>c&&(c=b[d]);a.Sa()[E](function(a){this.Ra.has(a[u]())||(b[a[u]()]=++c)},this);d=this.h[ib]("@table");return Ff(d,b)}[D](this))};
function Gf(a,b,c){var d=a.Ra.get(b);return null!=d?function(){var a={},b=Mc();this.h[ab]("T").equalTo(d)[Da]("value",function(d){d[E](function(b){var d=c(b.val());a[da(b.key(),10)]=d});b[Db](a)});return b.ga}[r](a)[x](function(a){a["@rev"]={R:++this.Ha};return Ff(this.h,a)}[D](a)):Hc()}R[t].nc=function(a){return Gf(this,a,Hb(null))[x](function(){this.Ra[Wa](a);return Ff(this.h[ib]("@table/"+a),null,!0)}[D](this))};R[t].dropTable=R[t].nc;
R[t].ic=function(a,b,c){return Gf(this,a,function(a){var f=a.P;f[b]=c;return{R:this.Ha+1,T:a.T,P:f}}[D](this))};R[t].addTableColumn=R[t].ic;R[t].oc=function(a,b){return Gf(this,a,function(a){var d=a.P;delete d[b];return{R:this.Ha+1,T:a.T,P:d}}[D](this))};R[t].dropTableColumn=R[t].oc;R[t].Hc=function(a,b,c){return Gf(this,a,function(a){var f=a.P;f[c]=f[b];delete f[b];return{R:this.Ha+1,T:a.T,P:f}}[D](this))};R[t].renameTableColumn=R[t].Hc;R[t].xb=function(){throw new N(351);};R[t].createRow=R[t].xb;
R[t].wc=G("Wb");R[t].getVersion=R[t].wc;R[t].bc=function(a){var b=Mc();a=this.Ra.get(a);this.h[ab]("T").equalTo(a)[Da]("value",function(a){var d=[];a[E](function(a){d[w](a.val().P)});b[Db](d)});return b.ga};ka(R[t],function(){var a={},b=od(this.Ra).map(function(b){return this.bc(b)[x](function(d){a[b]=d})}[D](this));return Lc(b)[x](function(){return a})});ka(R[t],R[t].dump);function Hf(a,b,c){rd[r](this,c,b);this.h=a}J(Hf,rd);Hf[t].I=function(a){return this.h.uc(a)};
Hf[t].kc=function(){var a=this.Ma.mb;if(0==a[F])this.Z[Db]();else{var b=this.h.Ha+1;this.h.Ha=b;var c={"@rev":{R:b}};a[E](function(a,f){var h=this.h.Ra.get(f);a.ya[E](function(a,d){c[d]={R:b,T:h,P:a.m}});a.ma[E](function(a,d){c[d]={R:b,T:h,P:a[1].m}});a.za[E](function(a,b){c[b]=null})},this);this.h.h[Ta](c,function(c){if(null===c)this.Z[Db]();else this.h.Ha=b-1,c=pd(a).map(function(a){return If(this.h,a[u]())},this),Lc(c)[x](this.Z[Ha][D](this.Z),this.Z[Ha][D](this.Z))}[D](this))}return this.Z.ga};function Jf(){this.ob=L()}function Kf(a,b){if(0==b[B])return pd(a.ob);var c=[];b[E](function(a){a=this.ob.get(a)||null;null===a||c[w](a)},a);return c}Jf[t].getData=G("ob");Jf[t].get=function(a){return Hc(Kf(this,a))};function Lf(a,b){b[E](function(a){this.ob.set(a.id(),a)},a)}Jf[t].put=function(a){Lf(this,a);return Hc()};function Mf(a,b){0==b[B]||b[B]==a.ob[F]?a.ob[bb]():b[E](function(a){this.ob[Wa](a)},a)}ua(Jf[t],function(a){Mf(this,a);return Hc()});
function Nf(a){return 0==a.ob[F]?0:od(a.ob)[Ga](function(a,c){return a>c?a:c},0)};function Of(a,b){this.s=a;this.vf=b;this.Gc=L();this.Ha=-1;this.J=L();this.Ra=L();this.Ad=null}H=Of[t];
H.Ba=function(a){this.h=this.vf[ib](this.s[p]());var b=a||function(){return Hc()};return Ef(this.h,"@db/version")[x](function(a){return null===a?Ff(this.h,Pf(this),!0)[x](function(){var a=new R(0,this.h);return b(a)}[D](this)):a==this.s[sb]()?Ef(this.h,"@rev/R")[x](function(a){this.Ha=a;return Ef(this.h,"@table")}[D](this))[x](function(a){for(var b in a)this.Ra.set(b,a[b]);a=this.s.Sa().map(function(a){return If(this,a[u]())},this);return Lc(a)}[D](this))[x](function(){Qf(this);Rf(this);return Hc()}[D](this)):
this.Yd(a,b)[x](function(){return this.Ba()}[D](this))}[D](this))};H.Yd=function(a,b){var c=new R(a,this.h);return c.Ba(this.s)[x](function(){return Hc()}[D](this))[x](function(){return b(c)})[x](function(){var a=this.h[ib]("@db");return Ff(a,{version:this.s[sb]()},!0)}[D](this))};function Rf(a){a.h.off();a.h.on("child_removed",a.fg[D](a));a.Bd&&(a.Bd.off(),a.Gc[bb]());a.Bd=a.h[ab]("R").startAt(a.Ha+1);a.Bd.on("value",a.Vd[D](a))}
function Qf(a){Zc=pd(a.J).map(function(a){return Nf(a)})[Ga](function(a,c){return a>c?a:c},0)+1}H.fg=function(a){var b=a.val(),c=this.Gc.get(b.T)||null;null===c&&(c=M(),this.Gc.set(b.T,c));c.add(da(a.key(),10))};H.Vd=function(a){var b=a[ib]("@rev/R").val();null!=b&&b!=this.Ha&&(this.Ha=b,a=Sf(this,a),a[E](function(a){var b=this.J.get(a[u]()),f=od(a.za);0<f[B]&&Mf(b,f);var h=pd(a.ya);a.ma[E](function(a){h[w](a[1])});Lf(b,h)},this),0<a[B]&&this.Bc(a),Rf(this))};
function Sf(a,b){var c=M(),d=L();a.Ra[E](function(a,b){var l=this.J.get(b),q=new me(b);if(this.Gc.has(a)){var y=Fd(this.Gc.get(a));y[E](function(a){c.add(a)});Kf(l,y)[E](function(a){q[Wa](a)})}d.set(a,q)}[D](a));b[E](function(a){if("@rev"!=a.key()){var b=da(a.key(),10);if(!c.has(b)){a=a.val();var l=d.get(a.T),q=this.J.get(l[u]());q.getData().has(b)?l.modify([Kf(q,[b])[0],new Yc(b,a.P)]):l.add(new Yc(b,a.P))}}}[D](a));return pd(d)[Ca](function(a){return!a.Md()})}
function If(a,b){var c=Mc(),d=a.Ra.get(b);a.h[ab]("T").equalTo(d)[Da]("value",function(a){var d=new Jf,l=[];a[E](function(a){l[w](new Yc(da(a.key(),10),a.val().P))});Lf(d,l);this.J.set(b,d);c[Db]()}[D](a));return c.ga}function Pf(a){var b={};b["@db"]={version:a.s[sb]()};b["@rev"]={R:1};a.Ha=1;b["@table"]={};a.s.Sa()[E](function(a,d){var f=a[u]();b["@table"][f]=d;this.J.set(f,new Jf);this.Ra.set(f,d)},a);return b}H.Ib=function(a,b){return new Hf(this,a,b)};
H.uc=function(a){var b=this.J.get(a)||null;if(null!==b)return b;throw new N(101,a);};oa(H,Fb());za(H,Gb("Ad"));H.Bc=function(a){null!=this.Ad&&this.Ad(a)};function S(a,b,c,d){this.h=b;this.Ia=c;this.Wb=a;this.Tc=d}I("lf.backstore.IndexedDBRawBackStore",S);S[t].ed=G("h");S[t].getRawDBInstance=S[t].ed;S[t].fd=G("Ia");S[t].getRawTransaction=S[t].fd;S[t].nc=function(a){return new K(function(b,c){try{this.h.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};S[t].dropTable=S[t].nc;
function Tf(a,b,c,d){return new K(function(a,h){var l;try{var q=this.Ia[tb](b);l=q[Ba]()}catch(y){h(y);return}ra(l,function(){var b=l[Eb];b?(c(b),b[fb]()):(d(q),a())});xa(l,h)},a)}function Uf(a){var b=null;return b=a instanceof ArrayBuffer?bd(a):a instanceof Date?a[Cb]():a}function Vf(a,b,c){function d(a){var b=Ld(a[v]),d=b.m,f;for(f in d){var O=$c(d[f]);c(O);d[f]=O.Fa()}a[Ta](b.Fa())}function f(a){var b=$c(a[v]);c(b);a[Ta](b.Fa())}return Tf(a,b,a.Tc?d:f,Fb())}
S[t].ic=function(a,b,c){var d=Uf(c);return Vf(this,a,function(a){a.m[b]=d})};S[t].addTableColumn=S[t].ic;S[t].oc=function(a,b){return Vf(this,a,function(a){delete a.m[b]})};S[t].dropTableColumn=S[t].oc;S[t].Hc=function(a,b,c){return Vf(this,a,function(a){a.m[c]=a.m[b];delete a.m[b]})};S[t].renameTableColumn=S[t].Hc;
function Wf(a,b){var c=[];return new K(function(a,f){var h;try{h=this.Ia[tb](b)[Ba]()}catch(l){f(l);return}ra(h,function(){var b=h[Eb];if(b){if(this.Tc){var f;f=Ld(b[v]).m;for(var l in f)c[w](f[l])}else c[w](b[v]);b[fb]()}else a(c)}[D](this));xa(h,f)},a)}S[t].xb=function(a){var b={},c;for(c in a)b[c]=Uf(a[c]);return ad(b)};S[t].createRow=S[t].xb;S[t].wc=G("Wb");S[t].getVersion=S[t].wc;
ka(S[t],function(){for(var a=this.h[Ea],b=[],c=0;c<a[B];++c){var d=a[Ja](c);b[w](this.bc(d))}return Lc(b)[x](function(b){var c={};b[E](function(b,d){c[a[Ja](d)]=b});return c})});ka(S[t],S[t].dump);S[t].bc=function(a){return Wf(this,a)[x](function(a){return a.map(function(a){return a[v]})})};function Xf(a,b){this.X=a;this.Jb=b}H=Xf[t];H.get=function(a){if(0==a[B])return this.sc();a=a.map(function(a){return new K(function(c,d){var f;try{f=this.X.get(a)}catch(h){d(h);return}xa(f,d);ra(f,function(a){c(this.Jb(a[Ka][Eb]))}[D](this))},this)},this);return Lc(a)};H.sc=function(){return new K(function(a,b){var c=[],d;try{d=this.X[Ba]()}catch(f){b(f);return}xa(d,b);ra(d,function(){var b=d[Eb];b?(c[w](this.Jb(b[v])),b[fb]()):a(c)}[D](this))},this)};
H.Qb=function(a){return new K(function(b,c){var d;try{d=a()}catch(f){c(f);return}ra(d,b);xa(d,c)},this)};H.put=function(a){if(0==a[B])return Hc();a=a.map(function(a){return this.Qb(function(){return this.X.put(a.Fa())}[D](this))},this);return Lc(a)};
ua(H,function(a){return new K(function(b,c){var d=this.X[$a]();ra(d,function(d){if(0==a[B]||d[Ka][Eb]==a[B])return this.Qb(function(){return this.X[bb]()}[D](this))[x](b,c);d=a.map(function(a){return this.Qb(function(){return this.X[Wa](a)}[D](this))},this);Lc(d)[x](b,c)}[D](this));xa(d,c)},this)});function Yf(a,b,c,d,f){rd[r](this,c,d);this.i=a;this.Ia=b;this.Tc=f;this.Ia.oncomplete=this.Z[Db][D](this.Z);this.Ia.onabort=this.Z[Ha][D](this.Z)}J(Yf,rd);Yf[t].I=function(a,b,c){return this.Tc?(c=null!=c?c:0,a=this.Ia[tb](a),new Md(a,b,0==c?Yb(Od,this.i):Pd)):new Xf(this.Ia[tb](a),b)};Yf[t].kc=function(){return this.Z.ga};function Zf(a,b){this.i=a;this.s=b;this.Uc=b.Ze().Hf||!1}H=Zf[t];H.Ba=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new N(352);var c=a||function(){return Hc()};return new K(function(a,f){var h;try{h=b.open(this.s[p](),this.s[sb]())}catch(l){f(l);return}xa(h,f);h.onupgradeneeded=function(a){$f(this,c,a)[x](Fb(),f)}[D](this);ra(h,function(b){this.h=b[Ka][Eb];this.ee()[x](function(b){Zc=b+1;a(this.h)}[D](this))}[D](this))},this)};
function $f(a,b,c){var d=c[Ka][Eb],f=c[Ka][lb];c=new S(c.oldVersion,d,f,a.Uc);ag(d);a.s.Sa()[E](Yb(a.Cf,d,f),a);return b(c)}function ag(a){for(var b=[],c=0;c<a[Ea][B];++c){var d=a[Ea][Ja](c);-1!=d[Ya](".")&&b[w](d)}b[E](function(b){try{a.deleteObjectStore(b)}catch(c){}})}H.Cf=function(a,b,c){a[Ea].contains(c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Bb()&&(c.Aa()[E](function(c){this.mc(a,b,c.j(),"btree")},this),this.mc(a,b,c.u+".#","rowid"))};
H.mc=function(a,b,c,d){a[Ea].contains(c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[tb](c),(this.Uc?new Md(a,$c,Pd):new Xf(a,$c)).put([new dd(new cd(d))]))};H.Ib=function(a,b){var c=od(b.ba());pe(b)[E](function(a){c[w](a)});var d=this.h[lb](c,0==a?"readonly":"readwrite");return new Yf(this.i,d,b,a,this.Uc)};
H.ee=function(a){function b(){if(0==d[B])return Hc();var a=d[qb]();return c(a)[x](b)}function c(b){return new K(function(c,d){var Oa;try{Oa=(a||f[lb]([b]))[tb](b)[Ba](null,"prev")}catch(Pa){d(Pa);return}ra(Oa,function(a){(a=a[Ka][Eb])&&(h=ba.max(h,l(a)));c(h)});xa(Oa,function(){c(h)})})}var d=this.s.Sa().map(function(a){return a[u]()}),f=this.h,h=0,l=function(a){return this.Uc?(a=Ld(a[v]),aa[kb](a.m)[Ga](function(a,b){return ba.max(a,b)},0)):a.key}[D](this);return new K(function(a){b()[x](function(){a(h)})})};
oa(H,function(){this.h[Na]()});H.uc=function(){throw new N(511);};za(H,Fb());H.Bc=Fb();function bg(a,b,c){rd[r](this,c,b);this.X=a;0==b&&this.Z[Db]()}J(bg,rd);bg[t].I=function(a){return this.X.uc(a)};bg[t].kc=function(){this.Z[Db]();return this.Z.ga};function cg(a){this.s=a;this.J=L()}H=cg[t];H.Ba=function(){this.s.Sa()[E](this.Sf,this);return Hc()};H.uc=function(a){var b=this.J.get(a)||null;if(null===b)throw new N(101,a);return b};H.Ib=function(a,b){return new bg(this,a,b)};function dg(a,b){if(!a.J.has(b)){var c=new Jf;a.J.set(b,c);return c}return null}H.Sf=function(a){dg(this,a[u]());a.Bb()&&(a.Aa()[E](function(a){this.mc(a.j(),"btree")},this),this.mc(a.u+".#","rowid"))};H.mc=function(a,b){var c=dg(this,a);null===c||c.put([new dd(new cd(b))])};
oa(H,Fb());za(H,Fb());H.Bc=Fb();function eg(a){cg[r](this,a);this.ld=null}J(eg,cg);za(eg[t],function(a){null===this.ld&&(this.ld=a)});eg[t].Bc=function(a){null===this.ld||this.ld(a)};function fg(a,b,c){this.Ia=a;this.u=b;this.Jb=c}fg[t].get=function(a){var b=this.Jb;gg(this.Ia,"SELECT id, value FROM "+this.u+" "+(0==a[B]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Ab][B],f=e(d),h=0;h<d;++h)f[h]=b({id:a[Ab][Ja](h).id,value:ga.parse(a[Ab][Ja](h)[v])});return f});return this.Ia.ja()};fg[t].put=function(a){if(0==a[B])return Hc();var b="INSERT OR REPLACE INTO "+this.u+"(id, value) VALUES (?, ?)";a[E](function(a){gg(this.Ia,b,[a.id(),ga[wb](a.m)])},this);return Hc()};
ua(fg[t],function(a){gg(this.Ia,"DELETE FROM "+this.u+" "+(0==a[B]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Hc()});function hg(a,b,c){rd[r](this,b,c);this.h=a;this.J=L();this.Dd=[]}J(hg,rd);hg[t].I=function(a,b){var c=this.J.get(a)||null;null===c&&(c=new fg(this,a,b),this.J.set(a,c));return c};function gg(a,b,c,d){a.Dd[w]({sg:b,ig:c,transform:d})}
hg[t].kc=function(){var a,b,c=this.Z[Ha][D](this.Z),d=function(a,b){this.Z[Ha](b)}[D](this),f=function(c,l){a=l;if(this.Dd[B]){var q=this.Dd[qb]();b=q.transform;c.executeSql(q.sg,q.ig,f,d)}else q=a,null!=b&&null!=a&&(q=b(a)),this.Z[Db](q)}[D](this);0==this.nf?this.h.readTransaction(f,c):this.h[lb](f,c);return this.Z.ga};function T(a,b,c){this.h=c;this.i=a;this.Wb=b}I("lf.backstore.WebSqlRawBackStore",T);T[t].ed=G("h");T[t].getRawDBInstance=T[t].ed;T[t].fd=function(){throw new N(356);};T[t].getRawTransaction=T[t].fd;function ig(a){return new hg(a.h,new oe(a.i,M()),1)}T[t].nc=function(a){var b=ig(this);gg(b,"DROP TABLE "+a,[]);return b.ja()};T[t].dropTable=T[t].nc;
T[t].bc=function(a){var b=ig(this);gg(b,"SELECT id, value FROM "+a,[]);return b.ja()[x](function(a){for(var b=a[Ab][B],f=e(b),h=0;h<b;++h)f[h]={id:a[Ab][Ja](h).id,value:ga.parse(a[Ab][Ja](h)[v])};return Hc(f)})};function jg(a,b,c){var d=ig(a),f="UPDATE "+b+" SET value=? WHERE id=?";return a.bc(b)[x](function(a){a[E](function(a){a=c(a);gg(d,f,[ga[wb](a[v]),a.id])});return d.ja()})}T[t].ic=function(a,b,c){var d=Uf(c);return jg(this,a,function(a){a[v][b]=d;return a})};T[t].addTableColumn=T[t].ic;
T[t].oc=function(a,b){return jg(this,a,function(a){delete a[v][b];return a})};T[t].dropTableColumn=T[t].oc;T[t].Hc=function(a,b,c){return jg(this,a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};T[t].renameTableColumn=T[t].Hc;T[t].xb=function(a){var b={},c;for(c in a)b[c]=Uf(a[c]);return ad(b)};T[t].createRow=T[t].xb;T[t].wc=G("Wb");T[t].getVersion=T[t].wc;
function kg(a){gg(a,'SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Ab][B]),d=0;d<c[B];++d)c[d]=a[Ab][Ja](d).tbl_name;return c})}ka(T[t],function(){var a=Mc(),b=ig(this);kg(b);var c={};b.ja()[x](function(b){b=b[Ca](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.bc(a)[x](function(b){c[a]=b})},this);Lc(b)[x](function(){a[Db](c)})}[D](this));return a.ga});ka(T[t],T[t].dump);function lg(a,b,c){this.i=a;this.s=b;this.rg=c||4194304}function mg(a){return new oe(a.i,M())}H=lg[t];H.Ba=function(a){if(null==ca.openDatabase)throw new N(353);var b=a||function(){return Hc()};return new K(function(a,d){try{var f=ca.openDatabase(this.s[p](),"",this.s[p](),this.rg);if(null!=f)this.h=f,ng(this,b)[x](a,d);else throw new N(354);}catch(h){d(h)}},this)};
function ng(a,b){var c=Mc(),d=new hg(a.h,mg(a),1);gg(d,"CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);gg(d,"SELECT v FROM __lf_ver WHERE id = 0",[]);d.ja()[x](function(a){var d=0;a[Ab][B]&&(d=a[Ab][Ja](0).v);d<this.s[sb]()?this.Yd(b,d)[x](c[Db][D](c)):d>this.s[sb]()?c[Ha](new N(108)):c[Db]()}[D](a));return c.ga}H.Ib=function(a,b){if(null!=this.h)return new hg(this.h,b,a);throw new N(2);};oa(H,Fb());H.uc=function(){throw new N(512);};za(H,function(){throw new N(355);});
H.Bc=function(){throw new N(355);};H.Yd=function(a,b){var c=Mc();og(this)[x](function(){a(new T(this.i,b,this.h))[x](function(){return this.ee()}[D](this))[x](c[Db][D](c))}[D](this),c[Ha][D](c));return c.ga};
function og(a){var b=a.s.Sa(),c=new hg(a.h,mg(a),1),d=new hg(a.h,mg(a),1);gg(c,"INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[a.s[sb]()]);kg(c);return c.ja()[x](function(a){a[Ca](function(a){return-1!=a[Ya](".")})[E](function(a){gg(d,"DROP TABLE "+a,[])});var c=a[Ca](function(a){return-1==a[Ya](".")});b.map(function(a){return a[u]()})[Ca](function(a){return-1==c[Ya](a)})[E](function(a){gg(d,"CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return d.ja()})}
H.ee=function(){var a=0,b=Mc(),c=function(b){var c=new hg(this.h,mg(this),0);gg(c,"SELECT MAX(id) FROM "+b,[]);return c.ja()[x](function(b){b=b[Ab][Ja](0)[0];a=ba.max(b,a)})}[D](this),d=this.s.Sa().map(function(a){return c(a[u]())});Lc(d)[x](function(){b[Db](a)},function(a){b[Ha](a)});return b.ga};function pg(){this.o=L();this.ke=L()}function qg(a,b){var c=a.ke.get(b);Jb(c)||(c=M(),a.ke.set(b,c));return c}H=pg[t];H.set=function(a,b){this.o.set(b.id(),b);qg(this,a).add(b.id())};H.he=function(a,b){var c=qg(this,a);b[E](function(a){this.o.set(a.id(),a);c.add(a.id())},this)};H.get=function(a){return this.o.get(a)||null};function rg(a,b){return b.map(function(a){return this.get(a)},a)}
H.bb=function(a,b,c){var d=[],f=ba.min(b,c),h=ba.max(b,c);a=qg(this,a);if(a[F]<h-f)a[E](function(a){a>=f&&a<=h&&(a=this.o.get(a),d[w](a))},this);else for(b=f;b<=h;++b)a.has(b)&&(c=this.o.get(b),d[w](c));return d};ua(H,function(a,b){this.o[Wa](b);qg(this,a)[Wa](b)});H.De=function(a){return null!=a?qg(this,a)[F]:this.o[F]};sa(H,function(){this.o[bb]();this.ke[bb]()});function sg(a,b,c){var d=0,f=a[B];for(c=c||tg;d<f;){var h=d+f>>1;0>c(a[h],b)?d=h+1:f=h}return d==f&&a[d]==b?d:~d}function tg(a,b){return a-b}function ug(a,b,c){c=sg(a,b,c);return 0>c?(a[z](-(c+1),0,b),!0):!1};function vg(a,b,c,d){a=b?a[eb]():a;if(null==c&&null==d)return a;c=ba.min(Jb(c)?c:a[B],a[B]);if(0==c)return[];d=ba.min(d||0,a[B]);return a[n](d,d+c)};function wg(){this.qa=0}wg[t].add=function(a,b){this.qa+=b};ua(wg[t],function(a,b){this.qa-=b});sa(wg[t],function(){this.qa=0});function xg(a,b){a[bb]();b[E](function(a){this.qa+=a.qa},a)};function yg(a,b,c,d){this.u=a;this.U=b;this.me=c;this.kb=new wg;if(d){a=511;a*=a*a;if(d[B]>=a)throw new N(6,a);d=zg(this,d);this.oa=d=Ag(d)}else this[bb]()}var Bg=[];H=yg[t];na(H,G("u"));g(H,function(){return this.oa[C]()});H.add=function(a,b){this.oa=this.oa.sb(a,b)};H.set=function(a,b){this.oa=this.oa.sb(a,b,!0)};ua(H,function(a,b){this.oa=this.oa[hb](a,b)});H.get=function(a){return this.oa.get(a)};
H.Yc=function(a){if(null==a)return this.Qa().qa;if(a instanceof se){if(xe(a))return this.Qa().qa;if(ye(a))return this.get(a.b)[B]}return this.bb([a])[B]};H.Qa=G("kb");H.sc=function(a,b,c,d){c=e(a);this.oa.fill({offset:b?this.kb.qa-a-d:d,count:a,je:0},c);return b?c[eb]():c};
H.bb=function(a,b,c,d){var f=Cg(this.oa).c[0];if(!Jb(f)||0==c)return Bg;b=b||!1;c=null!=c?ba.min(c,this.kb.qa):this.kb.qa;d=d||0;var h=ba.min(ba.max(this.kb.qa-d,0),c);if(0==h)return Bg;if(!Jb(a)||1==a[B]&&a[0]instanceof se&&xe(a[0]))return this.sc(h,b,c,d);a=this.U.jf(a);var l=e(b?this.kb.qa:h),q={count:0,W:l[B],reverse:b,N:d};a[E](function(a){for(var b=this.U.qd(a),b=this.U.Od(a)?f:b[0],b=Dg(this.oa,b),c=q[$a],d=0;null!=b&&q[$a]<q.W;)b.bb(a,q,l),q[$a]!=c?(d=0,c=q[$a]):d++,b=2==d?null:b[pb]()},this);
l[z](q[$a],h-q[$a]);return b?vg(l,b,c,d):l};sa(H,function(){this.oa=Eg(this);this.kb[bb]()});H.sa=function(a){return this.oa.sa(a)};H.min=function(){return this.Ac(this.U.min[D](this.U))};H.max=function(){return this.Ac(this.U.max[D](this.U))};H.Ac=function(a){var b=Cg(this.oa),c=Fg(this.oa);if(0==b.c[B]&&0==c.c[B])return null;var d=b.c[0],b=b.A[0],f=c.c[c.c[B]-1],c=c.A[c.c[B]-1];return 1==a(d,f)?[d,this.me?[b]:b]:[f,this.me?[c]:c]};H.Da=G("me");H.lc=G("U");
H.Sd=function(a,b){return null!=a?-1==this.U[yb](a,b):!1};H.Ka=function(a,b){return null!=a?0==this.U[yb](a,b):!1};H.Fa=function(){for(var a=[],b=Cg(this.oa);b;)a[w](new Yc(b.ka,[b.c,b.A])),b=b.ua;return a};function Gg(a,b,c,d){a=new yg(b,a,c);d=Hg(d,a);a.oa=d;return a}function Ig(a,b){this.ka=a;this.D=b;this.eb=0;this.ua=this.vb=this.C=null;this.c=[];this.A=[];this.g=[]}function Eg(a){return new Ig(Zc++,a)}function Jg(a){return 0==a.eb}H=Ig[t];wa(H,G("ua"));
function Kg(a){function b(a){return null!=a?a.ka[C]():"_"}var c=a.ka+"["+a.c[m]("|")+"]",d=a.g.map(function(a){return a.ka})[m]("|"),f=a.A[m]("/"),h=b(a.vb)+"{",h=Jg(a)?h+f:h+d,h=h+"}"+b(a.C);a.ua&&(a=Kg(a.ua),c=c+"  "+a[0],h=h+"  "+a[1]);return[c,h]}g(H,function(){var a="",b=Kg(this),a=a+(b[0]+"\n"+b[1]+"\n");this.g[B]&&(a+=this.g[0][C]());return a});function Cg(a){return Jg(a)?a:Cg(a.g[0])}function Fg(a){return Jg(a)?a:Fg(a.g[a.g[B]-1])}function Lg(a,b){b&&(b.vb=a);a&&(a.ua=b)}
function zg(a,b){for(var c=b[B],d=0,f=Eg(a),h=f;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,q=b[n](d,d+l);f.c=q.map(function(a){return a.key});f.A=q.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=Eg(f.D),Lg(f,l),f=l)}return h}function Mg(a){var b=a[0],c=Eg(b.D);c.eb=b.eb+1;c.g=a;for(b=0;b<a[B];++b)a[b].C=c,0<b&&c.c[w](a[b].c[0]);return c}
function Ag(a){var b=a,c=[];do c[w](b),b=b.ua;while(b);if(512>=c[B])b=Mg(c);else{var d=c[B],f=0,b=Eg(a.D);for(b.eb=a.eb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var h=c[n](f,f+a),l=Mg(h);l.C=b;b.g[B]&&(b.c[w](h[0].c[0]),Lg(b.g[b.g[B]-1],l));b.g[w](l);f+=a;d-=a}}return b}H.get=function(a){var b=Ng(this,a);if(Jg(this)){var c=Bg;this.D.Ka(this.c[b],a)&&(c=c[Qa](this.A[b]));return c}b=this.D.Ka(this.c[b],a)?b+1:b;return this.g[b].get(a)};
H.sa=function(a){var b=Ng(this,a);return this.D.Ka(this.c[b],a)?!0:Jg(this)?!1:this.g[b].sa(a)};ua(H,function(a,b){Og(this,a,-1,b);if(null==this.C){var c=this;1==this.g[B]&&(c=this.g[0],c.C=null);return c}return this});function Pg(a){return Jg(a)?a.c[0]:Pg(a.g[0])}function Qg(a){a.c=[];for(var b=1;b<a.g[B];++b)a.c[w](Pg(a.g[b]))}
function Og(a,b,c,d){var f=Ng(a,b),h=Jg(a);if(!h){var l=a.D.Ka(a.c[f],b)?f+1:f;if(Og(a.g[l],b,l,d))Qg(a);else return!1}else if(!a.D.Ka(a.c[f],b))return!1;if(a.c[B]>f&&a.D.Ka(a.c[f],b)){if(Jb(d)&&!a.D.Da()&&h&&(l=a.A[f],d=sg(l,d,void 0),0>d?d=!1:(l[z](d,1),d=!0),d&&a.D.Qa()[hb](b,1),a.A[f][B]))return!1;a.c[z](f,1);h&&(h=a.D.Da()?1:a.A[f][B],a.A[z](f,1),a.D.Qa()[hb](b,h))}if(256>a.c[B]&&null!=a.C){a:{b=null;if(a.ua&&256<a.ua.c[B])b=a.ua,f=d=0,h=a.c[B]+1;else if(a.vb&&256<a.vb.c[B])b=a.vb,d=a.vb.c[B]-
1,f=Jg(a)?d:d+1,h=0;else{b=!1;break a}a.c[z](h,0,b.c[d]);b.c[z](d,1);d=Jg(a)?a.A:a.g;l=null;Jg(a)?l=b.A:(l=b.g,l[f].C=a);d[z](h,0,l[f]);l[z](f,1);Jg(b)||(Qg(b),Qg(a));b=!0}b||Rg(a,c)}return!0}function Rg(a,b){var c,d,f;a.ua&&511>a.ua.c[B]?(c=a.ua,f=d=0):a.vb&&(c=a.vb,d=c.c[B],f=Jg(c)?c.A[B]:c.g[B]);d=[d,0][Qa](a.c);e[t][z][vb](c.c,d);d=null;Jg(a)?d=a.A:(d=a.g,d[E](function(a){a.C=c}));d=[f,0][Qa](d);e[t][z][vb](Jg(c)?c.A:c.g,d);Lg(a.vb,a.ua);Jg(c)||Qg(c);-1!=b&&(a.C.c[z](b,1),a.C.g[z](b,1))}
H.sb=function(a,b,c){var d=Ng(this,a);if(Jg(this)){if(this.D.Ka(this.c[d],a)){if(c)this.D.Qa()[hb](a,this.D.Da()?1:this.A[d][B]),this.A[d]=this.D.Da()?b:[b];else{if(this.D.Da())throw new N(201);if(!ug(this.A[d],b))throw new N(109);}this.D.Qa().add(a,1);return this}this.c[z](d,0,a);this.A[z](d,0,this.D.Da()?b:[b]);this.D.Qa().add(a,1);512==this.c[B]?(d=Eg(this.D),a=Eg(this.D),a.eb=1,a.c=[this.c[256]],a.g=[this,d],a.C=this.C,this.C=a,d.c=this.c[z](256),d.A=this.A[z](256),d.C=a,Lg(d,this.ua),Lg(this,
d),d=a):d=this;return d}d=this.D.Ka(this.c[d],a)?d+1:d;a=this.g[d].sb(a,b,c);Jg(a)||1!=a.c[B]||(this.c[z](d,0,a.c[0]),a.g[1].C=this,a.g[0].C=this,this.g[z](d,1,a.g[1]),this.g[z](d,0,a.g[0]));return 512==this.c[B]?Sg(this):this};function Sg(a){var b=Eg(a.D),c=Eg(a.D);b.C=a.C;b.eb=a.eb+1;b.c=[a.c[256]];b.g=[a,c];a.c[z](256,1);c.C=b;c.eb=a.eb;c.c=a.c[z](256);c.g=a.g[z](257);c.g[E](function(a){a.C=c});a.C=b;Lg(c,a.ua);Lg(a,c);return b}
function Ng(a,b){for(var c=0,d=a.c[B];c<d;){var f=c+d>>1;a.D.Sd(a.c[f],b)?c=f+1:d=f}return c}function Dg(a,b){if(!Jg(a)){var c=Ng(a,b);a.D.Ka(a.c[c],b)&&c++;return Dg(a.g[c],b)}return a}
H.bb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var f=this.D.lc(),h=0,l=this.c[B]-1,q=this.c,y=d(f.nb(q[h],a)),O=d(f.nb(q[l],a));if(1!=y&&(-1!=y||-1!=O)){var Oa=function(a,b){var c=a+b>>1;return c==a?c+1:c},Pa=function(b,c,h){if(b>=c)return 0==h?c:-1;var l=d(f.nb(q[b],a));if(0==l)return b;if(1==l)return-1;l=Oa(b,c);if(l==c)return 0==h?c:-1;var y=d(f.nb(q[l],a));return 0==y?Pa(b,l,y):-1==y?Pa(l+1,c,h):Pa(b+1,l,y)},Qb=function(b,c){if(b>=c)return b;var h=d(f.nb(q[c],a));if(0==h)return c;
if(-1==h)return b;h=Oa(b,c);if(h==c)return b;var l=d(f.nb(q[h],a));return 0==l?Qb(h,c):1==l?Qb(b,h-1):-1};0!=y&&(h=Pa(h+1,l,O));-1!=h&&(l=Qb(h,l),-1!=l&&l>=h&&Tg(this,b,c,h,l+1))}};function Tg(a,b,c,d,f){for(;d<f&&(b[eb]||!(b[$a]>=b.W));++d)if(a.D.Da())!b[eb]&&b.N?b.N--:c[b.count++]=a.A[d];else for(var h=0;h<a.A[d][B]&&b[$a]<c[B];++h)!b[eb]&&b.N?b.N--:c[b.count++]=a.A[d][h]}
H.fill=function(a,b){if(Jg(this))for(var c=0;c<this.A[B]&&0<a[$a];++c)if(0<a[ub]){if(a.offset=a[ub]-(this.D.Da()?1:this.A[c][B]),0>a[ub])for(var d=this.A[c][B]+a[ub];d<this.A[c][B]&&0<a[$a];++d)b[a.je++]=this.A[c][d],a.count--}else if(this.D.Da())b[a.je++]=this.A[c],a.count--;else for(d=0;d<this.A[c][B]&&0<a[$a];++d)b[a.je++]=this.A[c][d],a.count--;else for(c=0;c<this.g[B]&&0<a[$a];++c)this.g[c].fill(a,b)};
function Hg(a,b){for(var c=b.Qa(),d=a.map(function(a){var d=new Ig(a.id(),b);d.c=a.m[0];d.A=a.m[1];d.c[E](function(a,f){c.add(a,b.Da()?1:d.A[f][B])});return d}),f=0;f<d[B]-1;++f)Lg(d[f],d[f+1]);return 1<d[B]?Ag(d[0]):d[0]};function Ug(a){if(1==a.f[B])return new Vg(a.f[0].gb);a=a.f.map(function(a){return a.gb});return new Wg(a)}function Vg(a){this.Xc=0==a?Xg:Yg;this.Td=0==a?function(a){return null!=a?a[eb]():null}:function(a){return a||null};this.Zd=0==a?Zg:$g}J(Vg,Qd);function Yg(a,b){return a>b?1:a<b?-1:0}function Xg(a,b){return Yg(b,a)}function $g(a,b){return ze(a,b)}function Zg(a,b){return ze(b,a)}H=Vg[t];
H.nb=function(a,b){var c=this.Td(b),d=[null===c.b,null===c.w];if(!d[0]){var f=this.Xc(a,c.b);d[0]=c.$?1==f:-1!=f}d[1]||(f=this.Xc(a,c.w),d[1]=c.ia?-1==f:1!=f);return d};H.compare=function(a,b){return this.Xc(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Nd=function(a,b){var c=this.nb(a,b);return c[0]&&c[1]};H.jf=function(a){return a[Ca](function(a){return null!==a})[Xa](function(a,c){return this.Zd(a,c)}[D](this))};H.Od=function(a){return Mb(this.Td(a).b)};
H.qd=function(a){a=this.Td(a);return[a.b,a.w]};g(H,function(){return this.Xc==Xg?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Wg(a){this.Ga=a.map(function(a){return new Vg(a)})}J(Wg,Qd);function ah(a,b,c,d){for(var f=0,h=0;h<a.Ga[B]&&0==f;++h)f=d(a.Ga[h],b[h],c[h]);return f}H=Wg[t];H.compare=function(a,b){return ah(this,a,b,function(a,b,f){return a[yb](b,f)})};H.min=function(a,b){return ah(this,a,b,function(a,b,f){return a.min(b,f)})};
H.max=function(a,b){return ah(this,a,b,function(a,b,f){return a.max(b,f)})};H.nb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ga[B]&&(c[0]||c[1]);++d){var f=this.Ga[d].nb(a[d],b[d]);c[0]=c[0]&&f[0];c[1]=c[1]&&f[1]}return c};H.Nd=function(a,b){for(var c=!0,d=0;d<this.Ga[B]&&c;++d)c=this.Ga[d].Nd(a[d],b[d]);return c};
H.jf=function(a){var b=a[Ca](function(a){return a[Sa](Nb)});a=e(this.Ga[B]);for(var c=0;c<a[B];c++)a[c]=b.map(function(a){return a[c]});a[E](function(a,b){a[Xa](function(a,c){return this.Ga[b].Zd(a,c)}[D](this))},this);b=e(b[B]);for(c=0;c<b[B];c++)b[c]=a.map(function(a){return a[c]});return b[Xa](function(a,b){for(var c=0,l=0;l<this.Ga[B]&&0==c;++l)c=this.Ga[l].Zd(a[l],b[l]);return c}[D](this))};H.Od=function(a){return this.Ga[0].Od(a[0])};
H.qd=function(a){var b=a.map(function(a,b){return this.Ga[b].qd(a)[0]},this);a=a.map(function(a,b){return this.Ga[b].qd(a)[1]},this);return[b,a]};function bh(a){this.ca=a;this.fb=M();this.Jc=new wg;this.kb=new wg}H=bh[t];na(H,function(){return this.ca[u]()});H.add=function(a,b){null===a?(this.fb.add(b),this.Jc.add(a,1)):this.ca.add(a,b)};H.set=function(a,b){null===a?(this.fb[bb](),this.Jc[bb](),this.add(a,b)):this.ca.set(a,b)};ua(H,function(a,b){if(null===a)b?(this.fb[Wa](b),this.Jc[hb](a,1)):(this.fb[bb](),this.Jc[bb]());else this.ca[hb](a,b)});H.get=function(a){return null===a?Fd(this.fb):this.ca.get(a)};H.Yc=function(a){return this.ca.Yc(a)};
H.Qa=function(){xg(this.kb,[this.ca.Qa(),this.Jc]);return this.kb};H.bb=function(a,b,c,d){b=this.ca.bb(a,b,c,d);return null!=a?b:b[Qa](Fd(this.fb))};sa(H,function(){this.fb[bb]();this.ca[bb]()});H.sa=function(a){return null===a?0!=this.fb[F]:this.ca.sa(a)};H.min=function(){return this.ca.min()};H.max=function(){return this.ca.max()};H.Fa=function(){return[new Yc(-2,Fd(this.fb))][Qa](this.ca.Fa())};H.lc=function(){return this.ca.lc()};
function ch(a,b){for(var c=-1,d=0;d<b[B];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new N(102);var d=b[c].m,f=b[n](0);f[z](c,1);var c=a(f),h=new bh(c);d[E](function(a){h.fb.add(a)});return h}H.Da=function(){return this.ca.Da()};function dh(a){this.u=a;this.jb=M();this.U=new Vg(1)}H=dh[t];na(H,G("u"));H.add=function(a){if("number"!=typeof a)throw new N(103);this.jb.add(a)};H.set=function(a,b){this.add(a,b)};ua(H,function(a){this.jb[Wa](a)});H.get=function(a){return this.sa(a)?[a]:[]};H.min=function(){return this.Ac(this.U.min[D](this.U))};H.max=function(){return this.Ac(this.U.max[D](this.U))};
H.Ac=function(a){if(0==this.jb[F])return null;var b=Fd(this.jb)[Ga](function(b,d){return null===b||1==a(d,b)?d:b},null);return[b,[b]]};H.Yc=function(){return this.jb[F]};H.bb=function(a,b,c,d){var f=a||[we()];a=Fd(this.jb)[Ca](function(a){return f[Za](function(b){return this.U.Nd(a,b)},this)},this);return vg(a,b,c,d)};sa(H,function(){this.jb[bb]()});H.sa=function(a){return this.jb.has(a)};H.Fa=function(){return[new Yc(0,Fd(this.jb))]};H.lc=G("U");
function eh(a,b){var c=new dh(a);b[0].m[E](function(a){c.add(a,a)});return c}H.Da=Hb(!0);H.Qa=function(){var a=new wg;a.qa=this.jb[F];return a};function fh(a){this.i=a;this.wb=a.l(yd);this.F=a.l(Ad);this.ha=a.l(zd)}fh[t].Ba=function(a){var b=a.Sa(),c=function(){if(0==b[B])return Hc();var a=b[qb]();return(a.Bb()?gh(this,a):hh(this,a))[x](c)}[D](this);return c()};function hh(a,b){var c=new oe(a.i,M([b]));return a.wb.Ib(0,c).I(b[u](),b.ac[D](b)).get([])[x](function(a){this.ha.he(b[u](),a);ih(this,b,a)}[D](a))}function ih(a,b,c){var d=a.F.Kc.get(b[u]())||[];c[E](function(a){d[E](function(b){var c=a.Nb(b[u]());b.add(c,a.id())})})}
function gh(a,b){var c=new oe(a.i,M([b])),d=a.wb.Ib(0,c),c=d.I(b[u](),b.ac).get([])[x](function(a){this.ha.he(b[u](),a)}[D](a)),f=b.Aa().map(function(a){return jh(this,a,d)},a)[Qa](kh(a,b,d));return Lc(f[Qa](c))}function jh(a,b,c){c=c.I(b.j(),$c,1);var d=Ug(b);return c.get([])[x](function(a){if(1<a[B]){if(lh(b)){var c=Gg[D](void 0,d,b.j(),b.yc);a=ch(c,a[n](1))}else a=Gg(d,b.j(),b.yc,a[n](1));this.F.set(b.Lc,a)}}[D](a))}
function kh(a,b,c){return c.I(b.u+".#",$c,1).get([])[x](function(a){1<a[B]&&(a=eh(b.u+".#",a[n](1)),this.F.set(b[u](),a))}[D](a))};function mh(){this.X=L();this.Kc=L()}mh[t].Ba=function(a){a.Sa()[E](function(a){var c=[];this.Kc.set(a[u](),c);var d=a.u+".#";if(null===this.get(d)){var f=new dh(d);c[w](f);this.X.set(d,f)}a.Aa()[E](function(a){var b;b=Ug(a);b=new yg(a.j(),b,a.yc);b=lh(a)?new bh(b):b;c[w](b);this.X.set(a.j(),b)},this)},this);return Hc()};mh[t].get=function(a){return this.X.get(a)||null};
mh[t].set=function(a,b){var c=this.Kc.get(a)||null;null===c&&(c=[],this.Kc.set(a,c));for(var d=null,f=0;f<c[B];f++)if(c[f][u]()==b[u]()){d=f;break}null!==d&&0<c[B]?c[z](d,1,b):c[w](b);this.X.set(b[u](),b)};function nh(a){this.gc=[];Jb(a)&&this.add(a)}g(nh[t],function(){return this.gc.map(function(a){return a[C]()})[m](",")});nh[t].sa=function(a){return this.gc[Za](function(b){return b.contains(a)})};nh[t].La=G("gc");
nh[t].add=function(a){if(0!=a[B])if(a=this.gc[Qa](a),1==a[B])this.gc=a;else{a[Xa](ze);for(var b=[],c=a[0],d=1;d<a[B];++d)if(ue(c,a[d])){var f=a[d],h=we();if(null!==c.b&&null!==f.b){var l=ve(c.b,f.b,!0);1!=l?(h.b=c.b,h.$=0!=l?c.$:c.$&&f.$):(h.b=f.b,h.$=f.$)}null!==c.w&&null!==f.w&&(l=ve(c.w,f.w,!1),-1!=l?(h.w=c.w,h.ia=0!=l?c.ia:c.ia&&f.ia):(h.w=f.w,h.ia=f.ia));c=h}else b[w](c),c=a[d];b[w](c);this.gc=b}};
function oh(a,b){var c=[];a.La().map(function(a){return b.La().map(function(b){var c;if(ue(a,b)){c=we();var l=ve(a.b,b.b,!0),l=0==l?a.$?a:b:-1!=l?a:b;c.b=l.b;c.$=l.$;null===a.w||null===b.w?b=null===a.w?b:a:(l=ve(a.w,b.w,!1),b=0==l?a.ia?a:b:-1==l?a:b);c.w=b.w;c.ia=b.ia}else c=null;return c})})[E](function(a){c=c[Qa](a)});return new nh(c[Ca](function(a){return null!==a}))};function ph(a,b){var c=[],d=null,f=null;bf(a,function(a){var l=b(a);null==a[zb]()?f=l:cf(d,l);var q=a[zb]();null!==q&&Q(q)[B]==Q(d)[B]&&(q=c[Ya](d),-1!=q&&c[z](q,1));1<Q(a)[B]&&c[w](l);d=Q(a)[B]?l:c[c[B]-1]});return f}function qh(a){return rh(a,function(a){return!Q(a)[B]})}function sh(a){var b=a[zb](),c=0;null!==b&&(c=Q(b)[Ya](a),b[gb](a));var d=Q(a)[n]();d[E](function(d,h){a[gb](d);null===b||df(b,d,c+h)});return{parent:b,children:d}}
function th(a,b){Q(a)[n]()[E](function(c){a[gb](c);cf(b,c)});cf(a,b)}function uh(a){var b=$e(a,0);sh(a);th(b,a);return b}function vh(a,b,c){var d=$e(a,0),f=Q(d)[n]();if(!f[Za](function(a){return b(a)}))return a;sh(a);f[E](function(f,l){if(b(f)){var q=c(a);ff(d,l);cf(q,f);df(d,q,l)}});return d}function wh(a,b,c,d){var f=a[zb]();null!==f&&(a=Q(f)[Ya](a),ff(f,a),df(f,c,a));Q(b)[n]()[E](function(a){b[gb](a);cf(d,a)});return c}
function rh(a,b,c){function d(a){b(a)&&f[w](a);null!=c&&c(a)||Q(a)[E](d)}var f=[];d(a);return f}function xh(a,b){var c=b||function(a){return a[C]()+"\n"},d="";bf(a,function(a){for(var b=0;b<af(a);b++)d+="-";d+=c(a)});return d};function yh(a){gf[r](this);this.Pb=a;this.Xa=!1}J(yh,gf);H=yh[t];H.Hb=function(){return ph(this,function(a){if(a instanceof yh){var b=new yh(a.Pb);b.Xa=a.Xa;a=a.Y();b.ka=a;return b}return a.Hb()}[D](this))};H.ab=function(a){var b=a||[];bf(this,function(a){a!=this&&a.ab(b)}[D](this));a=M(b);return Fd(a)};H.sd=function(a){this.Xa!=a&&(this.Xa=a,this.Pb="and"==this.Pb?"or":"and",Q(this)[E](function(b){return b.sd(a)}))};
H.eval=function(a){var b=Q(this).map(function(b){return b.eval(a)});return zh(this,b)};function zh(a,b){return"and"==a.Pb?Ge(b):He(b)}g(H,function(){return"combined_pred_"+this.Pb[C]()});function Ah(){this[bb]()}var Bh=aa[t][Va],Ch=aa[t][rb];H=Ah[t];H.set=function(a,b){var c=!Dh(this,a);this.o[a]=b;if("__proto__"==a||!Eh&&!Bh[r](this.o,a)){delete this.o[a];var d=bc(this.Db,a);if(c=0>d)d=this.Db[B];this.Db[d]=a;this.fe[d]=b}c&&this.Va++};H.get=function(a,b){if(Dh(this,a))return this.o[a];var c=bc(this.Db,a);return 0<=c?this.fe[c]:b};ua(H,function(a){if(Dh(this,a))return this.Va--,delete this.o[a],!0;a=bc(this.Db,a);return 0<=a?(this.Va--,gc(this.Db,a),gc(this.fe,a),!0):!1});
H.addAll=function(a){cc(a.pb(),function(b){this.set(b,a.get(b))},this)};H.Md=function(){return!this.Va};H.De=G("Va");H.sa=function(a){return Dh(this,a)||0<=bc(this.Db,a)};H.pb=function(){var a;if(Fh)a=ic(aa[kb](this.o));else{a=[];for(var b in this.o)Ch[r](this.o,b)&&a[w](b)}jc(a,this.Db);return a};H.La=function(){for(var a=[],b=this.pb(),c=0;c<b[B];c++)a[w](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.pb(),c=0;c<b[B];c++){var d=b[c];a[w]([d,this.get(d)])}return a};
sa(H,function(){this.o=Eh?aa[jb](null):{};this.Db=[];this.fe=[];this.Va=0});la(H,function(){var a=new Ah;a.addAll(this);return a});function Dh(a,b){return"__proto__"==b?!1:Eh?b in a.o:Ch[r](a.o,b)}var Eh=!!aa[jb],Fh=!!aa[kb];function Gh(){this[bb]()}H=Gh[t];H.Va=0;sa(H,function(){this.Va=0;this.o=new Ah});la(H,function(){var a=new Gh;Hh(a,this);return a});H.add=function(a,b){var c=this.o.get(a);c||this.o.set(a,c=[]);c[w](b);this.Va++};function Hh(a,b){cc(b.getEntries(),function(a){this.add(a[0],a[1])},a)}H.get=function(a){return(a=this.o.get(a))?ic(a):[]};ua(H,function(a,b){var c=this.o.get(a);if(!c)return!1;var d=hc(c,function(a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a});d&&(this.Va--,0==c[B]&&this.o[hb](a));return d});
H.Md=function(){return!this.Va};H.De=G("Va");H.sa=function(a){return this.o.sa(a)};H.pb=function(){return this.o.pb()};H.La=function(){return nc(this.o.La())};H.getEntries=function(){for(var a=this.pb(),b=[],c=0;c<a[B];c++)for(var d=a[c],f=this.get(d),h=0;h<f[B];h++)b[w]([d,f[h]]);return b};function Ih(a,b,c){gf[r](this);this.la=a;this.na=b;this.L=c;this.Ud=null;a=Qe.bd();this.Zc=We(a,this.la.S(),this.L);this.Xf=a.Ne.get(this.la.S())||null}J(Ih,gf);H=Ih[t];H.Hb=function(){var a=new Ih(this.la,this.na,this.L),b=this.Y();a.ka=b;return a};H.ab=function(a){return null!=a?(a[w](this.la),a[w](this.na),a):[this.la,this.na]};
H.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new Ih(this.na,this.la,a)};H.eval=function(a){var b=a[A][Ca](function(a){var b=Le(a,this.la);a=Le(a,this.na);return this.Zc(b,a)},this);return new Ae(b,P(a))};g(H,function(){return"join_pred("+this.la.j()+", "+this.na.j()+")"});function Jh(a,b,c){var d=null,f=null;-1!=P(b)[Ya](Me(a.la.I()))?(d=b,f=c):(d=c,f=b);return[d,f]}
function Kh(a){var b={};a.ab()[E](function(a){b[a[u]()]=null});return b}function Lh(a,b,c){null===a.Ud&&(a.Ud=Kh(a.na.I()));var d=new Je(new Yc(-1,a.Ud),!1);return Oe(b,c,d,[Me(a.na.I())])}
function Mh(a,b,c,d){var f=[b,c];d||(f=Jh(a,b,c));b=f[0];c=f[1];var f=b,h=c,l=a.la,q=a.na;if(d||b[A][B]>c[A][B])f=c,h=b,l=a.na,q=a.la;var y=new Gh,O=[];f[A][E](function(a){var b=ha(Le(a,l));y.add(b,a)});var Oa=P(f),Pa=P(h);h[A][E](function(a){var b=Le(a,q),c=ha(b);null!==b&&y.sa(c)?y.get(c)[E](function(b){b=Oe(a,Pa,b,Oa);O[w](b)}):d&&O[w](Lh(this,a,Pa))}[D](a));a=P(b)[Qa](P(c));return new Ae(O,a)}
function Nh(a,b,c,d,f){function h(a,b){var c=new Je(b,1<Oa[B]),c=Oe(a,Pa,c,Oa);O[w](c)}var l=d.Qf.I(),q=b,y=c;-1!=P(b)[Ya](Me(l))&&(q=c,y=b);var O=[],Oa=P(y),Pa=P(q);q[A][E](function(a){var b=this.Xf(Le(a,d.cg)),b=d[mb].get(b);0!=b[B]&&(d[mb].Da()?h(a,f.get(b[0])):rg(f,b)[E](h[D](null,a)))},a);a=P(q)[Qa](P(y));return new Ae(O,a)};function Oh(a,b,c){return null===b?new jf(a,b,c):Jb(b.j)?new Ih(a,b,c):new jf(a,b,c)};var Ph={};I("lf.schema.DataStoreType",Ph);Ph.INDEXED_DB=0;Ph.MEMORY=1;Ph.LOCAL_STORAGE=2;Ph.FIREBASE=3;Ph.WEB_SQL=4;Ph.OBSERVABLE_STORE=5;function Qh(a,b,c,d){this.Lc=a;ja(this,b);this.yc=c;this.f=d}Qh[t].j=function(){return this.Lc+"."+this[p]};function lh(a){return a.f[Za](function(a){return a.da.xc()})}function U(a,b,c,d){this.u=a;this.fa=c;this.H=b;this.nd=d;this.Za=null}I("lf.schema.Table",U);na(U[t],G("u"));na(U[t],U[t][u]);U[t].Wa=G("Za");function Me(a){return a.Za||a.u}
U[t].jc=function(a){var b=new this.constructor(this.u);b.Za=a;b.ng=this.ng;return b};U[t].as=U[t].jc;U[t].createRow=U[t].xb;U[t].deserializeRow=U[t].ac;U[t].Aa=G("fa");U[t].getIndices=U[t].Aa;U[t].ab=G("H");U[t].getColumns=U[t].ab;U[t].getConstraint=U[t].zb;U[t].Bb=G("nd");U[t].persistentIndex=U[t].Bb;function Rh(a,b){va(this,a);this.Fb=b;this.Za=null}H=Rh[t];na(H,function(){return this.Fb+"("+this[ib][u]()+")"});H.j=function(){return this.Fb+"("+this[ib].j()+")"};H.I=function(){return this[ib].I()};g(H,function(){return this.j()});H.S=function(){return this[ib].S()};H.Wa=G("Za");H.Aa=function(){return[]};H.ta=Hb(null);H.xc=Hb(!1);H.jc=function(a){this.Za=a;return this};Rh[t].as=Rh[t].jc;function Sh(a){for(var b=[a];a instanceof Rh;)b[w](a[ib]),a=a[ib];return b}
function Th(a){this.Za=a||null;this.O=new U("#UnknownTable",[],[],!1)}H=Th[t];na(H,Hb("*"));H.j=function(){return this[u]()};g(H,function(){return this.j()});H.I=G("O");H.S=Hb(4);H.Wa=G("Za");H.Aa=function(){return[]};H.ta=Hb(null);H.xc=Hb(!1);I("lf.fn.avg",function(a){return new Rh(a,"AVG")});function Uh(a){return new Rh(a||new Th,"COUNT")}I("lf.fn.count",Uh);function Vh(a){return new Rh(a,"DISTINCT")}I("lf.fn.distinct",Vh);I("lf.fn.max",function(a){return new Rh(a,"MAX")});I("lf.fn.min",function(a){return new Rh(a,"MIN")});I("lf.fn.stddev",function(a){return new Rh(a,"STDDEV")});I("lf.fn.sum",function(a){return new Rh(a,"SUM")});I("lf.fn.geomean",function(a){return new Rh(a,"GEOMEAN")});function V(a,b){Ye[r](this,"","");this.Jf=b}J(V,Ye);ma(V[t],function(a,b){switch(this.Jf){case 1:return Wh(this,a,b);case 0:return Xh(this,a,b);default:return Yh(this,a,b)}});g(V[t],Hb("dummy_node"));V[t].Mc=function(){return this[C]()};function Yh(a,b,c){return new K(function(a){a(this.aa(b,[],c))}[D](a))}function Wh(a,b,c){return $e(a,0)[Ma](b,c)[x](function(a){return this.aa(b,a,c)}[D](a))}
function Xh(a,b,c){var d=Q(a).map(function(a){return a[Ma](b,c)});return Lc(d)[x](function(a){var d=[];a[E](function(a){for(var b=0;b<a[B];++b)d[w](a[b])});return this.aa(b,d,c)}[D](a))};function Zh(a){V[r](this,0,1);this.te=a}J(Zh,V);g(Zh[t],function(){return"aggregation("+this.te.map(function(a){return a.j()})[C]()+")"});Zh[t].aa=function(a,b){b[E](function(a){$h(new ai(a,this.te))},this);return b};function ai(a,b){this.Ea=a;this.H=b}
function $h(a){a.H[E](function(a){a=Sh(a)[eb]();for(var c=1;c<a[B];c++){var d=a[c],f=Sh(d)[n](-1)[0],h=d[ib]instanceof Rh?De(this.Ea,d[ib]):this.Ea;if(null!==h.Ua&&h.Ua.has(d.j()))break;h=bi(d.Fb,h,f);f=this.Ea;null===f.Ua&&(f.Ua=L());f.Ua.set(d.j(),h)}},a)}
function bi(a,b,c){var d=null;switch(a){case "MIN":d=ci(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=ci(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=di(b,c);break;case "COUNT":d=ei(b,c);break;case "SUM":d=fi(b,c);break;case "AVG":a=ei(b,c);0<a&&(d=fi(b,c)/a);break;case "GEOMEAN":d=gi(b,c);break;default:d=hi(b,c)}return d}function ci(a,b,c){return a[A][Ga](function(a,f){var h=Le(f,b);return null===h?a:null===a?h:c(a,h)},null)}
function ei(a,b){return b instanceof Th?a[A][B]:a[A][Ga](function(a,d){return a+(Mb(Le(d,b))?0:1)},0)}function fi(a,b){return ci(a,b,function(a,b){return b+a})}function hi(a,b){var c=[];a[A][E](function(a){a=Le(a,b);null===a||c[w](a)});return 0==c[B]?null:id[vb](null,c)}function gi(a,b){var c=0,d=a[A][Ga](function(a,d){var l=Le(d,b);if(0==l||null===l)return a;c++;return a+ba.log(l)},0);return 0==c?null:ba.pow(ba.E,d/c)}
function di(a,b){var c=L();a[A][E](function(a){var f=Le(a,b);c.set(f,a)});return new Ae(pd(c),P(a))};function ii(a,b){this.xa=a;this.pa=b}ii[t].cb=G("xa");ii[t].ba=G("pa");function W(){Ye[r](this,"","")}J(W,Ye);function ji(a,b){W[r](this);ia(this,a);ta(this,b)}J(ji,W);function ki(a,b){ji[r](this,a,b)}J(ki,ji);function li(a){W[r](this);ia(this,a)}J(li,W);g(li[t],function(){return"delete("+this[k][u]()+")"});function mi(a,b){W[r](this);ia(this,a);this.ne=b}J(mi,W);g(mi[t],function(){var a=[];this.ne&&(a=this.ne.map(function(a){return a.K[u]()},this));return"update("+this[k][u]()+", ["+a[m](",")+"])"});
function ni(a){W[r](this);this.G=a}J(ni,W);g(ni[t],function(){return"select("+this.G[C]()+")"});function oi(a){W[r](this);ia(this,a)}J(oi,W);g(oi[t],function(){var a="table_access("+this[k][u]();null===this[k].Wa()||(a+=" as "+this[k].Wa());return a+")"});function pi(){W[r](this)}J(pi,W);g(pi[t],Hb("cross_product"));function qi(a,b){W[r](this);this.f=a;this.Kb=b}J(qi,W);
g(qi[t],function(){var a="project("+this.f[C]();if(null!==this.Kb)var b=this.Kb.map(function(a){return a.j()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function ri(a){W[r](this);this.M=a}J(ri,W);g(ri[t],function(){return"order_by("+tf(this.M)+")"});function si(a){W[r](this);this.f=a}J(si,W);g(si[t],function(){return"aggregation("+this.f[C]()+")"});function ti(a){W[r](this);this.f=a}J(ti,W);g(ti[t],function(){return"group_by("+this.f[C]()+")"});function ui(a){W[r](this);this.W=a}J(ui,W);
g(ui[t],function(){return"limit("+this.W+")"});function vi(a){W[r](this);this.N=a}J(vi,W);g(vi[t],function(){return"skip("+this.N+")"});function wi(a,b){W[r](this);this.G=a;this.Mb=b}J(wi,W);g(wi[t],function(){return"join(type: "+(this.Mb?"outer":"inner")+", "+this.G[C]()+")"});function xi(){};function yi(){}J(yi,xi);yi[t].ib=function(a){this.V=a;this.Ta(this.V);return this.V};yi[t].Ta=function(a){if(a instanceof ni){var b=zi(this,a.G),b=Ai(this,b);wh(a,a,b[0],b[1]);a==this.V&&(this.V=b[0]);a=b[0]}Q(a)[E](function(a){this.Ta(a)},this)};function zi(a,b){if(0==Q(b)[B]||"and"!=b.Pb)return[b];var c=Q(b)[n]().map(function(a){b[gb](a);return zi(this,a)},a);return nc(c)}function Ai(a,b){var c=null,d=null;b.map(function(a,b){var l=new ni(a);0==b?c=l:cf(d,l);d=l},a);return[c,d]};function Bi(){}J(Bi,xi);Bi[t].ib=function(a){this.V=a;this.Ta(this.V);return this.V};Bi[t].Ta=function(a){if(a instanceof pi)for(;2<Q(a)[B];){for(var b=new pi,c=0;2>c;c++){var d=ff(a,0);cf(b,d)}df(a,b,0)}Q(a)[E](function(a){this.Ta(a)},this)};function Ci(){V[r](this,0,0)}J(Ci,V);g(Ci[t],Hb("cross_product"));Ci[t].aa=function(a,b){for(var c=b[0],d=b[1],f=[],h=P(c),l=P(d),q=0;q<c[A][B];q++)for(var y=0;y<d[A][B];y++){var O=Oe(c[A][q],h,d[A][y],l);f[w](O)}c=P(c)[Qa](P(d));return[new Ae(f,c)]};function Di(a,b){wf[r](this,a,b);this.Oa=a.l(Cd);this.Ab=a.l(Dd)}J(Di,wf);Aa(Di[t],Hb(2));Di[t].Xd=function(a){0==this.S()?Ei(this,a):this.Ic()};function Ei(a,b){a.pd[E](function(a,d){a instanceof sf&&zf(this.Ab,a,b[d])},a)}Di[t].Ic=function(){var a=Bf(this.Ab,this.ba());0!=a[B]&&(a=new yf(this[Ua],a),Cf(this.Oa,a))};function Fi(a){nf[r](this,a)}J(Fi,nf);Fi[t].ba=function(){var a=M();a.add(this.b);var b=this.da[xb]();Gi(this.b[u](),b.g)[E](a.add[D](a));return a};la(Fi[t],function(){var a=new Fi(this.da);qf(a,this);a.b=this.b;return a});ya(Fi[t],function(a){Fi.Eb[D][r](this,a);rf(this,a);return this});function Hi(a){nf[r](this,a)}J(Hi,nf);Hi[t].ba=function(){var a=M();a.add(this.Ca);var b=this.da[xb]();Gi(this.Ca[u](),b.We)[E](a.add[D](a));this.Xb&&Gi(this.Ca[u](),b.g)[E](a.add[D](a));return a};la(Hi[t],function(){var a=new Hi(this.da);qf(a,this);a.Ca=this.Ca;this[cb]&&ta(a,this[cb]instanceof Pe?this[cb]:this[cb][n]());a.Xb=this.Xb;a.Yb=this.Yb;return a});
ya(Hi[t],function(a){Hi.Eb[D][r](this,a);this.Yb&&ta(this,this.Yb instanceof Pe?a[this.Yb.ta()]:this.Yb.map(function(b){return b instanceof Pe?a[b.ta()]:b}));return this});function Ii(a){nf[r](this,a)}J(Ii,nf);Ii[t].ba=function(){var a=M();a.add(this[k]);var b=this.set.map(function(a){return a.K.j()}),c=this.da[xb]();Ji(c,b)[E](a.add[D](a));Ki(c,b)[E](a.add[D](a));return a};la(Ii[t],function(){var a=new Ii(this.da);qf(a,this);ia(a,this[k]);a.set=this.set?this.set[n]():this.set;return a});ya(Ii[t],function(a){Ii.Eb[D][r](this,a);this.set[E](function(b){-1!=b.Sc&&pa(b,a[b.Sc])});rf(this,a);return this});function Li(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+bd(b)+"'";default:return"'"+b[C]()+"'"}}function Mi(a,b){var c=a.Xb?"INSERT OR REPLACE":"INSERT",d=a.Ca.ab(),c=c+(" INTO "+a.Ca[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[cb].map(function(a){var h=d.map(function(c){var d=a.m[c[u]()];return b?null!=d?"#":"NULL":Li(c.S(),d)});return c+h[m](", ")+");"})[m]("\n")}
function Ni(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Oi(a,b,c,d){return a instanceof Pe?"?"+a.ta()[C]():d?null!=a?"#":"NULL":"match"==b?"'"+a[C]()+"'":"in"==b?"("+a.map(function(a){return Li(c,a)})[m](", ")+")":"between"==b?Li(c,a[0])+" AND "+Li(c,a[1]):Li(c,a)[C]()}
function Pi(a,b){return Q(a).map(function(a){return"("+Qi(a,b)+")"})[m]("and"==a.Pb?" AND ":" OR ")}function Ri(a){return[a.la.j(),Ni(a.L),a.na.j()][m](" ")}function Qi(a,b){if(a instanceof jf){var c=a.K.j(),d=Ni(a.L),f=Oi(a[v],a.L,a.K.S(),b);return"="==d&&"NULL"==f?[c,"IS NULL"][m](" "):"<>"==d&&"NULL"==f?[c,"IS NOT NULL"][m](" "):[c,d,f][m](" ")}if(a instanceof yh)return Pi(a,b);if(a instanceof Ih)return Ri(a);throw new N(357,typeof a);}function Si(a,b){var c=Qi(a,b);return c?" WHERE "+c:""}
function Ti(a,b){var c="UPDATE "+a[k][u]()+" SET ",c=c+a.set.map(function(a){var b=a.K.j()+" = ";return-1!=a.Sc?b+"?"+a.Sc[C]():b+Li(a.K.S(),a[v])[C]()})[m](", ");a.B&&(c+=Si(a.B,b));return c+";"}
function Ui(a,b){var c="*";a.f[B]&&(c=a.f.map(function(a){return a.Wa()?a.j()+" AS "+a.Wa():a.j()})[m](", "));c="SELECT "+c+" FROM ";null!=a.tb&&0!=a.tb[F]?c+=Vi(a,b):(c+=a.b.map(Wi)[m](", "),a.B&&(c+=Si(a.B,b)));if(a.M)var d=a.M.map(function(a){return a.K.j()+(0==a.gb?" DESC":" ASC")})[m](", "),c=c+(" ORDER BY "+d);a.ea&&(d=a.ea.map(function(a){return a.j()})[m](", "),c+=" GROUP BY "+d);a.W&&(c+=" LIMIT "+a.W[C]());a.N&&(c+=" SKIP "+a.N[C]());return c+";"}
function Wi(a){return Me(a)!=a[u]()?a[u]()+" AS "+Me(a):a[u]()}function Vi(a,b){for(var c=rh(a.B,function(a){return a instanceof Ih}),d=c.map(Ri),f=Wi(a.b[0]),h=1;h<a.b[B];h++)var l=Wi(a.b[h]),f=a.tb.has(c[d[B]-h].Y())?f+(" LEFT OUTER JOIN "+l):f+(" INNER JOIN "+l),f=f+(" ON ("+d[d[B]-h]+")");c=$e(a.B,0);c instanceof Ih||(f+=" WHERE "+Qi(c,b));return f}
function Xi(a,b){var c=b||!1,d=a.a[La]();if(d instanceof Hi)return Mi(d,c);if(d instanceof Fi){var f="DELETE FROM "+d.b[u]();d.B&&(f+=Si(d.B,c));return f+";"}if(d instanceof Ii)return Ti(d,c);if(d instanceof sf)return Ui(d,c);throw new N(358,typeof d);};function Yi(a,b){this.global=a;this.mg=a.l(Bd);this.Oa=a.l(Cd);this.a=b}I("lf.query.BaseBuilder",Yi);ma(Yi[t],function(){try{this.$a()}catch(a){return Ic(a)}return new K(function(a,c){var d=new Di(this[Ua],[this.vc()]);Cf(this.Oa,d)[x](function(c){a(Be(c[0]))},c)},this)});ma(Yi[t],Yi[t][Ma]);Yi[t].Lf=function(){var a=function(a){return a.Mc(this.a)+"\n"}[D](this);return xh(Zi(this).cb(),a)};Yi[t].explain=Yi[t].Lf;ya(Yi[t],function(a){this.a[D](a);return this});ya(Yi[t],Yi[t][D]);
Yi[t].tg=function(a){return Xi(this,a)};Yi[t].toSql=Yi[t].tg;Yi[t].$a=Fb();function Zi(a){if(null==a.Xe){var b;b=a.mg;var c=a.a,d=b.$f[jb](c);b=b.jg[jb](d,c);a.Xe=b}return a.Xe}Yi[t].vc=function(){return{context:this.a[La](),$d:Zi(this)}};function $i(a){Yi[r](this,a,new Fi(a.l(Ed)))}J($i,Yi);I("lf.query.DeleteBuilder",$i);$i[t].b=function(a){if(null!=this.a.b)throw new N(515);this.a.b=a;return this};$i[t].from=$i[t].b;$i[t].B=function(a){this.yd();this.a.B=a;return this};$i[t].where=$i[t].B;$i[t].yd=function(){if(null!=this.a.B)throw new N(516);};$i[t].$a=function(){$i.Eb.$a[r](this);if(null==this.a.b)throw new N(517);};function aj(a,b){Yi[r](this,a,new Hi(a.l(Ed)));this.a.Xb=b||!1}J(aj,Yi);I("lf.query.InsertBuilder",aj);aj[t].$a=function(){aj.Eb.$a[r](this);var a=this.a;if(null==a.Ca||null==a[cb])throw new N(518);if(a.Xb&&null===a.Ca.zb().dd())throw new N(519);};aj[t].Ca=function(a){if(null!=this.a.Ca)throw new N(520);this.a.Ca=a;return this};aj[t].into=aj[t].Ca;ta(aj[t],function(a){if(null!=this.a[cb])throw new N(521);a instanceof Pe||a[Za](function(a){return a instanceof Pe})?this.a.Yb=a:ta(this.a,a);return this});
ta(aj[t],aj[t][cb]);function bj(a){return cj("and",e[t][n][r](arguments))}I("lf.op.and",bj);I("lf.op.or",function(a){return cj("or",e[t][n][r](arguments))});function cj(a,b){var c=new yh(a);b[E](function(a){cf(c,a)});return c}I("lf.op.not",function(a){a.sd(!0);return a});function X(a,b){Yi[r](this,a,new sf(a.l(Ed)));this.Ce=this.td=!1;this.a.f=b;dj(this);ej(this)}J(X,Yi);I("lf.query.SelectBuilder",X);X[t].$a=function(){X.Eb.$a[r](this);var a=this.a;if(null==a.b)throw new N(522);if(Jb(a.Ob)&&!Jb(a.W)||Jb(a.Vb)&&!Jb(a.N))throw new N(523);null!=this.a.ea?fj(this):gj(this)};function dj(a){var b=a.a.f[Ca](function(a){return a instanceof Rh&&"DISTINCT"==a.Fb},a);if(0!=b[B]&&(1!=b[B]||1!=a.a.f[B]))throw new N(524);}
function fj(a){var b=a.a.f[Ca](function(a){return!(a instanceof Rh)}).map(function(a){return a.j()}),c=!1;if(0==a.a.ea[B]||0==a.a.f[B])c=!0;else{var d=a.a.ea.map(function(a){return a.j()});(c=b[Za](function(a){return-1==d[Ya](a)}))||(c=a.a.ea[Za](function(a){a=a.S();return 6==a||0==a}))}if(c)throw new N(525);}function gj(a){var b=a.a.f[Za](function(a){return a instanceof Rh},a);a=a.a.f[Za](function(a){return!(a instanceof Rh)},a)||0==a.a.f[B];if(b&&a)throw new N(526);}
function ej(a){a.a.f[E](function(a){if(a instanceof Rh&&!hj(a.Fb,a.S()))throw new N(527,a.j());},a)}X[t].b=function(a){if(this.Ce)throw new N(515);this.Ce=!0;null==this.a.b&&(this.a.b=[]);this.a.b[w][vb](this.a.b,e[t][n][r](arguments));return this};X[t].from=X[t].b;X[t].B=function(a){if(this.td)throw new N(516);this.td=!0;ij(this,a);return this};X[t].where=X[t].B;function ij(a,b){if(null!=a.a.B){var c=bj(b,a.a.B);a.a.B=c}else a.a.B=b}
X[t].Tf=function(a,b){if(null==this.a.b)throw new N(542);if(this.td)throw new N(547);this.a.b[w](a);ij(this,b);return this};X[t].innerJoin=X[t].Tf;X[t].Yf=function(a,b){if(!(b instanceof Ih))throw new N(541);if(null==this.a.b)throw new N(542);if(this.td)throw new N(547);this.a.b[w](a);null==this.a.tb&&(this.a.tb=M());var c=b;Me(a)!=Me(b.na.I())&&(c=b[eb]());this.a.tb.add(c.Y());ij(this,c);return this};X[t].leftOuterJoin=X[t].Yf;
X[t].W=function(a){if(null!=(this.a.W||this.a.Ob))throw new N(528);if(a instanceof Pe)this.a.Ob=a;else{if(0>a)throw new N(531);this.a.W=a}return this};X[t].limit=X[t].W;X[t].N=function(a){if(null!=(this.a.N||this.a.Vb))throw new N(529);if(a instanceof Pe)this.a.Vb=a;else{if(0>a)throw new N(531);this.a.N=a}return this};X[t].skip=X[t].N;X[t].M=function(a,b){null==this.a.M&&(this.a.M=[]);this.a.M[w]({K:a,gb:null!=b?b:1});return this};X[t].orderBy=X[t].M;
X[t].ea=function(a){if(null!=this.a.ea)throw new N(530);null==this.a.ea&&(this.a.ea=[]);this.a.ea[w][vb](this.a.ea,e[t][n][r](arguments));return this};X[t].groupBy=X[t].ea;function hj(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(X[t],function(){var a=new X(this[Ua],this.a.f);a.a=this.a[La]();a.a.Wc=null;return a});la(X[t],X[t][La]);function jj(a,b){Yi[r](this,a,new Ii(a.l(Ed)));ia(this.a,b)}J(jj,Yi);I("lf.query.UpdateBuilder",jj);jj[t].set=function(a,b){var c={Sc:b instanceof Pe?b.ta():-1,K:a,value:b};null!=this.a.set?this.a.set[w](c):this.a.set=[c];return this};jj[t].set=jj[t].set;jj[t].B=function(a){this.yd();this.a.B=a;return this};jj[t].where=jj[t].B;jj[t].yd=function(){if(null!=this.a.B)throw new N(516);};
jj[t].$a=function(){jj.Eb.$a[r](this);if(null==this.a.set)throw new N(532);if(this.a.set[Za](function(a){return a[v]instanceof Pe}))throw new N(501);};function kj(a){this.a=a;this.xa=null}kj[t].ec=function(){null===this.xa&&(this.xa=this.ad());return this.xa};function lj(a){kj[r](this,a)}J(lj,kj);lj[t].ad=function(){return this.a.Xb?new ki(this.a.Ca,this.a[cb]):new ji(this.a.Ca,this.a[cb])};function mj(a){kj[r](this,a)}J(mj,kj);mj[t].ad=function(){var a=new mi(this.a[k],this.a.set),b=null!=this.a.B?new ni(this.a.B.Hb()):null,c=new oi(this.a[k]);null===b?cf(a,c):(cf(b,c),cf(a,b));return a};function nj(a,b,c){this.xa=a;this.ae=b;this.Tb=c}nj[t].ec=function(){this.Tb[E](function(a){this.xa=a.ib(this.xa,this.ae)},this);return this.xa};function oj(a,b){kj[r](this,a);this.Tb=b}J(oj,kj);oj[t].ad=function(){var a=new li(this.a.b),b=null!=this.a.B?new ni(this.a.B.Hb()):null,c=new oi(this.a.b);null===b?cf(a,c):(cf(b,c),cf(a,b));return(new nj(a,this.a,this.Tb)).ec()};function pj(){}J(pj,xi);pj[t].ib=function(a,b){this.V=a;this.Ta(this.V,b);return this.V};pj[t].Ta=function(a,b){if(a instanceof ni&&a.G instanceof Ih){var c=a.G.Y(),d=$e(a,0);d instanceof pi&&(c=Jb(b)&&null!=b.tb&&b.tb.has(c),c=new wi(a.G,c),wh(a,d,c,c),a==this.V&&(this.V=c),a=c)}Q(a)[E](function(a){this.Ta(a,b)},this)};function qj(){this.Rc=M()}J(qj,xi);qj[t].ib=function(a){this.Rc[bb]();this.V=a;this.Ta(this.V);this.Rc[bb]();return this.V};qj[t].Ta=function(a){if(rj(a)){var b=a.G instanceof jf?sj(this,a):tj(this,a);this.Rc.add(a);b==a&&(b=$e(a,0));null!==b&&(Mb(b[zb]())&&(this.V=b),rj(b)&&!this.Rc.has(b)&&this.Ta(b))}else Q(a)[E](function(a){this.Ta(a)},this)};
function uj(a,b,c){var d=b;if($e(b,0)instanceof ni)d=uh(b),uj(a,b,c);else if(vj(b)){var f=[],d=vh(b,c,function(a){a=new ni(a.G);f[w](a);return a});f[E](function(a){uj(this,a,c)},a)}return d}function sj(a,b){var c=M([Me(b.G.K.I())]),d=function(a){return wj(this,a,c)}[D](a);return uj(a,b,d)}function tj(a,b){var c=M([Me(b.G.la.I()),Me(b.G.na.I())]),d=function(a){return wj(this,a,c)}[D](a);return uj(a,b,d)}
function wj(a,b,c){var d=M();qh(b)[E](function(a){d.add(Me(a[k]))},a);b instanceof oi&&d.add(Me(b[k]));return Gd(d,c)}function rj(a){return a instanceof ni&&!(a.G instanceof yh)}function vj(a){a=$e(a,0);return a instanceof pi||a instanceof wi};function xj(a,b){kj[r](this,a);this.Tb=b;this.af=this.Se=this.hf=this.Ve=this.ue=this.Ge=this.gf=this.ze=this.kf=null}J(xj,kj);
xj[t].ad=function(){yj(this);2<=this.a.b[B]&&(this.ze=new pi);this.gf=null!=this.a.B?new ni(this.a.B.Hb()):null;this.a.M&&(this.Ve=new ri(this.a.M));null!=this.a.N&&0<this.a.N&&(this.hf=new vi(this.a.N));null!=this.a.W&&(this.Se=new ui(this.a.W));null!=this.a.ea&&(this.Ge=new ti(this.a.ea));zj(this);this.af=new qi(this.a.f||[],this.a.ea||null);var a=Aj(this);return(new nj(a,this.a,this.Tb)).ec()};
function Aj(a){for(var b=[a.Se,a.hf,a.af,a.Ve,a.ue,a.Ge,a.gf,a.ze],c=null,d=null,f=0;f<b[B];f++){var h=b[f];null!==h&&(null===d?d=h:cf(b[c],h),c=f)}a.kf[E](function(a){cf(b[c],a)});return d}function yj(a){a.kf=a.a.b.map(function(a){return new oi(a)},a)}function zj(a){var b=a.a.f[Ca](function(a){return a instanceof Rh});null!=a.a.M&&a.a.M[E](function(a){a.K instanceof Rh&&b[w](a.K)});0<b[B]&&(a.ue=new si(b))};function Bj(){this.ge=[new yi,new Bi,new qj,new pj];this.Ed=[new yi]}Bj[t].create=function(a){var b=null;if(a instanceof Hi)b=new lj(a);else if(a instanceof Fi)b=new oj(a,this.Ed);else if(a instanceof sf)b=new xj(a,this.ge);else if(a instanceof Ii)b=new mj(a);else throw new N(513);b=b.ec();return new ii(b,a.ba())};function Cj(a){V[r](this,0,1);this.O=a}J(Cj,V);g(Cj[t],function(){return"delete("+this.O[u]()+")"});Cj[t].aa=function(a,b){var c=b[0][A].map(function(a){return a.ra});a[hb](this.O,c);return[Fe()]};function Dj(a,b){V[r](this,0,-1);ia(this,b);this.F=a.l(Ad)}J(Dj,V);g(Dj[t],function(){return"get_row_count("+this[k][u]()+")"});Dj[t].aa=function(){var a=this.F.get(this[k].u+".#"),b=new Ae([],[this[k][u]()]),c=Uh(),a=a.Qa().qa;null===b.Ua&&(b.Ua=L());b.Ua.set(c.j(),a);return[b]};function Ej(a,b){V[r](this,0,-1);this.ha=a.l(zd);this.F=a.l(Ad);ia(this,b)}J(Ej,V);g(Ej[t],function(){var a="table_access("+this[k][u]();null===this[k].Wa()||(a+=" as "+this[k].Wa());return a+")"});Ej[t].aa=function(){var a=this.F.get(this[k].u+".#").bb();return[Ie(rg(this.ha,a),[Me(this[k])])]};function Fj(a){this.i=a}J(Fj,xi);Fj[t].ib=function(a,b){this.V=a;if(!this.zd(b))return a;var c=rh(a,function(a){return a instanceof Ej})[0],d=new Dj(this.i,c[k]);wh(c,c,d,d);return this.V};Fj[t].zd=function(a){return 1==a.f[B]&&1==a.b[B]&&null==a.B&&null==a.W&&null==a.N&&null==a.ea?(a=a.f[0],a instanceof Rh&&"COUNT"==a.Fb&&a[ib]instanceof Th):!1};function Gj(a){V[r](this,0,1);this.Fe=a}J(Gj,V);g(Gj[t],function(){return"groupBy("+this.Fe.map(function(a){return a.j()})[C]()+")"});Gj[t].aa=function(a,b){return Hj(this,b[0])};function Hj(a,b){var c=new Gh,d=function(a){return this.Fe.map(function(b){return Le(a,b)},this)[m](",")}[D](a);b[A][E](function(a){c.add(d(a),a)},a);return c.pb().map(function(a){return new Ae(c.get(a),P(b))},a)};function Ij(a,b,c){V[r](this,0,0);this.F=a.l(Ad);this.ha=a.l(zd);this.G=b;this.Mb=c;this.wd="eq"==this.G.L?0:2;this.He=null}J(Ij,V);var Jj=["hash","index_nested_loop","nested_loop"];g(Ij[t],function(){return"join(type: "+(this.Mb?"outer":"inner")+", impl: "+Jj[this.wd]+", "+this.G[C]()+")"});
Ij[t].aa=function(a,b){switch(this.wd){case 0:return[Mh(this.G,b[0],b[1],this.Mb)];case 1:return[Nh(this.G,b[0],b[1],this.He,this.ha)];default:var c=this.G,d=b[0],f=b[1],h=this.Mb,l=[d,f];h||(l=Jh(c,d,f));for(var d=l[0],f=l[1],l=[],q=P(d),y=P(f),O=0;O<d[A][B];O++){var Oa=!1,Pa=Le(d[A][O],c.la);if(null!==Pa)for(var Qb=0;Qb<f[A][B];Qb++)if(c.Zc(Pa,Le(f[A][Qb],c.na))){var Oa=!0,Kj=Oe(d[A][O],q,f[A][Qb],y);l[w](Kj)}h&&!Oa&&l[w](Lh(c,d[A][O],q))}c=P(d)[Qa](P(f));return[new Ae(l,c)]}};
function Lj(a,b){a.wd=1;var c=a.F.get(b.ta().j());a.He={Qf:b,cg:b==a.G.la?a.G.na:a.G.la,index:c}};function Mj(a){V[r](this,0,-1);this.cf=a}J(Mj,V);g(Mj[t],function(){return"no_op_step("+P(this.cf[0])[m](",")+")"});Mj[t].aa=G("cf");function Nj(){}J(Nj,xi);Nj[t].ib=function(a,b){this.V=a;if(!this.zd(b))return a;rh(a,function(a){return a instanceof Ij})[E](this.lg,this);return this.V};Nj[t].zd=function(a){return 1<a.b[B]};Nj[t].lg=function(a){if("eq"==a.G.L&&!a.Mb){var b=function(b){if(!(b instanceof Ej))return null;b=Me(b[k])==Me(a.G.na.I())?a.G.na:a.G.la;return Mb(b.ta())?null:b},c=b($e(a,0)),b=b($e(a,1));if(null!==c||null!==b){b=null===b?c:b;Lj(a,b);var d=new Ae([],[Me(b.I())]);ef(a,new Mj([d]),b==c?0:1)}}};function Oj(a){a=a.map(function(a){return a.La()});a=nd[vb](null,a);var b=[];md(a,function(a){b[w](a)});return b}function Pj(a){this.Lb=a}Pj[t].cd=function(){return 1==this.Lb.f[B]?[we()]:[this.Lb.f.map(function(){return we()})]};function Qj(a,b){this.Lb=a;this.wa=b;this.Cd=this.Qe=null}
function Rj(a,b){var c=L();a.wa.pb()[E](function(a){var f=this.wa.get(a).map(function(a){return of(b,a)},this),h=new nh([we()]);f[E](function(a){var b=null;"between"==a.L?b=new se(a[v][0],a[v][1],!1,!1):"eq"==a.L?(b=a[v],b=new se(b,b,!1,!1)):b="gte"==a.L?new se(a[v],null,!1,!1):"gt"==a.L?new se(a[v],null,!0,!1):"lte"==a.L?new se(null,a[v],!1,!1):new se(null,a[v],!1,!0);a=a.Xa?te(b):[b];a=new nh(a);h=oh(h,a)});c.set(a,h)},a);return c}
Qj[t].cd=function(a){if(this.Qe==a)return this.Cd;for(var b=Rj(this,a),c=this.Lb.f[B]-1;0<=c;c--){var d=this.Lb.f[c];if(null!==(b.get(d.da[u]())||null))break;b.set(d.da[u](),new nh([we()]))}this.Cd=1==this.Lb.f[B]?pd(b)[0].La():Oj(Sj(this,b));this.Qe=a;return this.Cd};function Sj(a,b){var c=L(),d=0;a.Lb.f[E](function(a){c.set(a.da[u](),d);d++});return od(b)[Xa](function(a,b){return c.get(a)-c.get(b)}).map(function(a){return b.get(a)})};function Tj(a,b){this.lf=b;this.F=a.l(Ad)}function Uj(a,b,c){c=c[Ca](a.Uf,a);if(0==c[B])return null;a=Vj(a,c);if(0==a[B])return null;if(1==a[B])return a[0];var d=Number.MAX_VALUE;return a[Ga](function(a,c){var l=Wj(c,b);return l<d?(d=l,c):a},null)}function Vj(a,b){return a.lf.Aa().map(function(a){a=new Xj(this.F,a);Yj(a,b);return a},a)[Ca](function(a){if(null===a.wa)a=!1;else{for(var b=!1,f=!0,h=0;h<a.rb.f[B];h++){var l=a.wa.sa(a.rb.f[h].da[u]());if(b&&l){f=!1;break}l||(b=!0)}a=f}return a})}
Tj[t].Uf=function(a){var b;if(b=a instanceof jf)kf(a),b=null!==a[v]&&("between"==a.L||"eq"==a.L||"gt"==a.L||"gte"==a.L||"lt"==a.L||"lte"==a.L);return b?a.K.I()==this.lf:!1};function Xj(a,b){this.F=a;this.rb=b;this.Rf=M(this.rb.f.map(function(a){return a.da[u]()}));this.Rd=this.wa=null}function Zj(a){null===a.Rd&&(a.Rd=new Qj(a.rb,a.wa));return a.Rd}function Yj(a,b){b[E](function(a){var b=a.ab()[0][u]();this.Rf.has(b)&&(null===this.wa&&(this.wa=new Gh),this.wa.add(b,a.Y()))},a)}
function Wj(a,b){var c=Zj(a).cd(b),d=a.F.get(a.rb.j());return c[Ga](function(a,b){return a+d.Yc(b)},0)};function ak(a,b,c,d){V[r](this,0,-1);this.F=a.l(Ad);this.index=b;this.Oe=c;this.de=d;this.Qc=this.Pc=!1}J(ak,V);g(ak[t],function(){return"index_range_scan("+this[mb].j()+", ?, "+(this.de?"reverse":"natural")+(this.Pc?", limit:?":"")+(this.Qc?", skip:?":"")+")"});ak[t].Mc=function(a){var b=this[C](),c=this.Oe.cd(a),b=b[db]("?",c[C]());this.Pc&&(b=b[db]("?",a.W[C]()));this.Qc&&(b=b[db]("?",a.N[C]()));return b};
ak[t].aa=function(a,b,c){a=this.Oe.cd(c);b=this.F.get(this[mb].j());c=(1==a[B]&&a[0]instanceof se&&ye(a[0])?vg(b.get(a[0].b),!1,this.Pc?c.W:void 0,this.Qc?c.N:void 0):b.bb(a,this.de,this.Pc?c.W:void 0,this.Qc?c.N:void 0)).map(function(a){return new Yc(a,{})},this);return[Ie(c,[this[mb].Lc])]};function bk(a){V[r](this,0,1);this.od=a}J(bk,V);g(bk[t],Hb("select(?)"));bk[t].Mc=function(a){a=of(a,this.od);return this[C]()[db]("?",a[C]())};bk[t].aa=function(a,b,c){return[of(c,this.od).eval(b[0])]};function ck(a,b){V[r](this,0,1);this.ha=a.l(zd);this.O=b}J(ck,V);g(ck[t],function(){return"table_access_by_row_id("+this.O[u]()+")"});ck[t].aa=function(a,b){return[Ie(rg(this.ha,Ce(b[0])),[Me(this.O)])]};function dk(a){this.i=a}J(dk,xi);dk[t].ib=function(a,b){this.V=a;rh(a,function(a){return a instanceof Ej})[E](function(a){var d=ek(a);if(0!=d[B]){var f=Uj(new Tj(this.i,a[k]),b,d.map(function(a){return of(b,a.od)}));if(null!==f){var h=L();d[E](function(a){h.set(a.od,a)},this);this.V=fk(this,f,h,a)}}},this);return this.V};function ek(a){var b=[];for(a=a[zb]();a;)a instanceof bk&&b[w](a),a=a[zb]();return b}
function fk(a,b,c,d){(null===b.wa?[]:b.wa.La()).map(function(a){return c.get(a)})[E](sh);b=new ak(a.i,b.rb,Zj(b),!1);a=new ck(a.i,d[k]);cf(a,b);wh(d,d,a,b);return b.cb()};function gk(a,b){V[r](this,0,-1);this.F=a.l(Ad);this.O=b}J(gk,V);g(gk[t],function(){return"insert("+this.O[u]()+")"});gk[t].aa=function(a,b,c){hk(this.O,c[cb],this.F);a.sb(this.O,c[cb]);return[Ie(c[cb],[this.O[u]()])]};function hk(a,b,c){a=a.zb().dd();if(null===a?0:a.f[0][ob]){var d=a.f[0].da[u]();c=c.get(a.j()).max();var f=null===c?0:c[0];b[E](function(a){if(0==a.m[d]||null==a.m[d])f++,a.m[d]=f})}}function ik(a,b){V[r](this,0,-1);this.F=a.l(Ad);this.O=b}J(ik,V);
g(ik[t],function(){return"insert_replace("+this.O[u]()+")"});ik[t].aa=function(a,b,c){hk(this.O,c[cb],this.F);a.Ld(this.O,c[cb]);return[Ie(c[cb],[this.O[u]()])]};function jk(){V[r](this,0,1)}J(jk,V);g(jk[t],Hb("limit(?)"));jk[t].Mc=function(a){return this[C]()[db]("?",a.W[C]())};jk[t].aa=function(a,b,c){b[0][A][z](c.W);return b};function kk(a){V[r](this,0,1);this.M=a}J(kk,V);H=kk[t];g(H,function(){return"order_by("+tf(this.M)+")"});H.aa=function(a,b){if(1==b[B]){var c;c=b[0];for(var d=null,f=0;f<this.M[B];f++){var h=Vh(this.M[f].K);if(null!==c.Ua&&c.Ua.has(h.j())){d=h;break}}c=d;(null===c?b[0]:De(b[0],c))[A][Xa](this.If[D](this))}else b[Xa](this.og[D](this));return b};
H.U=function(a,b){var c=null,d=null,f=null,h=-1;do h++,f=this.M[h].K,c=this.M[h].gb,d=a(f),f=b(f);while(d==f&&h+1<this.M[B]);d=d<f?-1:d>f?1:0;return 1==c?d:-d};H.og=function(a,b){return this.U(function(b){return b instanceof Rh?De(a,b):Le(a[A][a[A][B]-1],b)},function(a){return a instanceof Rh?De(b,a):Le(b[A][b[A][B]-1],a)})};H.If=function(a,b){return this.U(function(b){return Le(a,b)},function(a){return Le(b,a)})};function lk(a,b){this.Ea=a;this.H=b}function mk(a){return a.H[Za](function(a){return a instanceof Rh},a)?nk(a):ok(a)}function nk(a){if(1==a.H[B]&&"DISTINCT"==a.H[0].Fb)return a=De(a.Ea,a.H[0])[A].map(function(a){var b=new Je(new Yc(-1,{}),1<this.Ea.J[F]);Ne(b,this.H[0],Le(a,this.H[0][ib]));return b},a),new Ae(a,[]);var b=new Je(new Yc(-1,{}),1<a.Ea.J[F]);a.H[E](function(a){var d=a instanceof Rh?De(this.Ea,a):Le(this.Ea[A][0],a);Ne(b,a,d)},a);return new Ae([b],P(a.Ea))}
function ok(a){var b=e(a.Ea[A][B]),c=1<a.Ea.J[F];a.Ea[A][E](function(a,f){b[f]=new Je(new Yc(a.ra.id(),{}),c);this.H[E](function(c){Ne(b[f],c,Le(a,c))},this)},a);return new Ae(b,P(a.Ea))}function pk(a,b){var c=a.map(function(a){return mk(new lk(a,b))[A][0]});return new Ae(c,P(a[0]))};function qk(a,b){V[r](this,0,1);this.f=a;this.Kb=b}J(qk,V);g(qk[t],function(){var a="project("+this.f[C]();if(null!==this.Kb)var b=this.Kb.map(function(a){return a.j()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});qk[t].aa=function(a,b){var c;0==b[B]?c=[Fe()]:1==b[B]?(c=b[0],c=[0==this.f[B]?c:mk(new lk(c,this.f))]):c=[pk(b,this.f)];return c};function rk(a){return a.f[Za](function(a){return a instanceof Rh})||null!==a.Kb};function sk(){V[r](this,0,1)}J(sk,V);g(sk[t],Hb("skip(?)"));sk[t].Mc=function(a){return this[C]()[db]("?",a.N[C]())};sk[t].aa=function(a,b,c){return[new Ae(b[0][A][n](c.N),P(b[0]))]};function tk(){}J(tk,xi);tk[t].ib=function(a){var b=rh(a,function(a){return a instanceof jk||a instanceof sk});if(0==b[B])return a;var c=uk(a);if(null===c)return a;b[E](function(a){a instanceof jk?c.Pc=!0:c.Qc=!0;sh(a)},this);return c.cb()};function uk(a){a=rh(a,function(a){return a instanceof ak},function(a){return a instanceof qk&&rk(a)||a instanceof kk||1!=Q(a)[B]||a instanceof bk});return 0<a[B]?a[0]:null};function vk(a){this.i=a}J(vk,xi);vk[t].ib=function(a){var b=wk(a);if(null===b)return a;a:{var c=b;a=xk($e(b,0));if(null!==a){var d;d=b.M;for(var f=null,h=a[k].Aa(),l=0;l<h[B]&&null===f;l++)f=yk(h[l],d);d=f;if(null===d){a=c;break a}c=new ak(this.i,d.rb,new Pj(d.rb),d.Le);d=new ck(this.i,a[k]);cf(d,c);sh(b);c=wh(a,a,d,c)}a=c}if(a==b)a:if(a=b,c=zk($e(b,0)),null!==c){d=yk(c[mb],b.M);if(null===d)break a;c.de=d.Le;a=sh(b).parent}return a.cb()};
function zk(a){a=rh(a,function(a){return a instanceof ak},function(a){return 1!=Q(a)[B]});return 0<a[B]?a[0]:null}function xk(a){a=rh(a,function(a){return a instanceof Ej},function(a){return 1!=Q(a)[B]});return 0<a[B]?a[0]:null}function wk(a){a=rh(a,function(a){return a instanceof kk});return 0<a[B]?a[0]:null}function yk(a,b){if(a.f[B]!=b[B]||!b[Sa](function(b,c){return b.K[u]()==a.f[c].da[u]()}))return null;var c=Ak(b,a);return c[0]||c[1]?{rb:a,Le:c[1]}:null}
function Ak(a,b){var c=a[Ga](function(a,b){return a<<1|(0==b.gb?0:1)},0),d=b.f[Ga](function(a,b){return a<<1|(0==b.gb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[B],b.f[B]))-1;return[c,d]};function Bk(a,b,c){this.xa=a;this.ae=b;this.Tb=c}Bk[t].ec=function(){this.Tb[E](function(a){this.xa=a.ib(this.xa,this.ae)},this);return this.xa};function Ck(a,b){V[r](this,0,1);this.O=a;this.wg=b}J(Ck,V);g(Ck[t],function(){return"update("+this.O[u]()+")"});Ck[t].aa=function(a,b){var c=b[0][A].map(function(a){var b=this.O.ac(a.ra.Fa());this.wg[E](function(a){b.m[a.K[u]()]=a[v]},this);return b},this);a[Ta](this.O,c);return[Fe()]};function Dk(a){this.i=a;this.ge=[new Nj,new dk(this.i),new vk(this.i),new tk,new Fj(this.i)];this.Ed=[new dk(this.i)]}Dk[t].create=function(a,b){var c=a.cb();if(c instanceof ki||c instanceof ji)return Ek(this,a,b);if(c instanceof qi||c instanceof ui||c instanceof vi)return Ek(this,a,b,this.ge);if(c instanceof li||c instanceof mi)return Ek(this,a,b,this.Ed);throw new N(8);};function Ek(a,b,c,d){a=ph(b.cb(),a.bg[D](a));null!=d&&(a=(new Bk(a,c,d)).ec());return new uf(a,b.ba())}
Dk[t].bg=function(a){if(a instanceof qi)return new qk(a.f,a.Kb);if(a instanceof ti)return new Gj(a.f);if(a instanceof si)return new Zh(a.f);if(a instanceof ri)return new kk(a.M);if(a instanceof vi)return new sk;if(a instanceof ui)return new jk;if(a instanceof ni)return new bk(a.G.Y());if(a instanceof pi)return new Ci;if(a instanceof wi)return new Ij(this.i,a.G,a.Mb);if(a instanceof oi)return new Ej(this.i,a[k]);if(a instanceof li)return new Cj(a[k]);if(a instanceof mi)return new Ck(a[k],a.ne);if(a instanceof
ki)return new ik(this.i,a[k]);if(a instanceof ji)return new gk(this.i,a[k]);throw new N(514);};function Fk(a){this.$f=new Bj;this.jg=new Dk(a)};function Gk(){this.Te=L()}function Hk(a,b){var c=a.Te.get(b[u]())||null;null===c&&(c=new Ik,a.Te.set(b[u](),c));return c}function Jk(a,b,c,d){c[E](function(a){a=Hk(this,a);0==d?(a.Ya=null,a.pc=b):3==d?(null===a.Ub&&(a.Ub=M()),a.Ub.add(b),null===a.Na&&(a.Na=M()),a.Na[Wa](b)):1==d?(null===a.Na&&(a.Na=M()),a.Na.add(b)):2==d&&(a.Ya=b)},a)}
function Kk(a,b,c,d){var f=!0;c[E](function(a){if(f){a=Hk(this,a);var c=null===a.Na||0==a.Na[F];f=0==d?(null===a.Ub||0==a.Ub[F])&&c&&null===a.pc&&null!==a.Ya&&a.Ya==b:3==d?null===a.pc&&null===a.Ya&&null!==a.Na&&a.Na.has(b):1==d?null===a.Ya:c&&(null===a.Ya||a.Ya==b)}},a);return f}function Lk(a,b,c,d){var f=Kk(a,b,c,d);f&&Jk(a,b,c,d);return f}Gk[t].releaseLock=function(a,b){b[E](function(b){Hk(this,b).releaseLock(a)},this)};function Mk(a,b){b[E](function(a){Hk(this,a).Ya=null},a)}
function Ik(){this.Ub=this.Na=this.Ya=this.pc=null}Ik[t].releaseLock=function(a){this.pc==a&&(this.pc=null);this.Ya==a&&(this.Ya=null);null===this.Na||this.Na[Wa](a);null===this.Ub||this.Ub[Wa](a)};function Nk(){this.Rb=new Ok;this.zc=new Gk}function Cf(a,b){(2>b[Bb]()||2>b[Bb]())&&Mk(a.zc,b.ba());a.Rb.sb(b);Pk(a);return b.tc().ga}function Pk(a){for(var b=a.Rb.La(),c=0;c<b[B];c++){var d=b[c],f=!1;if(f=0==d.S()?Qk(a,d,1,3):Qk(a,d,2,0))a.Rb[hb](d),f=a,d[Ma]()[x](f.hg[D](f,d),f.gg[D](f,d))}}function Qk(a,b,c,d){var f=!1;Lk(a.zc,b.Y(),b.ba(),c)&&(f=Lk(a.zc,b.Y(),b.ba(),d));return f}Nk[t].hg=function(a,b){this.zc.releaseLock(a.Y(),a.ba());a.tc()[Db](b);Pk(this)};
Nk[t].gg=function(a,b){this.zc.releaseLock(a.Y(),a.ba());a.tc()[Ha](b);Pk(this)};function Ok(){this.Rb=[]}Ok[t].sb=function(a){ug(this.Rb,a,function(a,c){var d=a[Bb]()-c[Bb]();return 0==d?a.Y()-c.Y():d})};Ok[t].La=function(){return this.Rb[n]()};ua(Ok[t],function(a){var b=this.Rb;a=bc(b,a);var c;(c=0<=a)&&gc(b,a);return c});function Rk(a,b){this.Fd=Qe.bd();this.be=a;this.kd=b;this.H=Sk(this)}function Sk(a){if(0<a.be.f[B])return a.be.f;var b=[];a.be.b[E](function(a){a.ab()[E](function(a){b[w](a)})});return b}Rk[t].U=function(a,b){return this.H[Sa](function(c){return We(this.Fd,c.S(),"eq")(Le(a,c),Le(b,c))},this)};
function Tk(a,b,c){var d=null===b?[]:b[A],f=ed(d,c[A],a.U[D](a),function(a){return d[a]});b=[];for(var h=0,l=0;l<d[B];l++){var q=d[l];f[h]==q?h++:(q=a.kd[z](h,1),q=Uk(l,q,0,a.kd),b[w](q))}f=ed(d,c[A],a.U[D](a),function(a,b){return c[A][b]});for(l=h=0;l<c[A][B];l++)q=c[A][l],f[h]==q?h++:(a.kd[z](l,0,q.ra.m),q=Uk(l,[],1,a.kd),b[w](q));return b}function Uk(a,b,c,d){return{xg:c,index:a,object:d,zg:b,type:"splice"}};function Vk(){this.cc=L()}Vk[t].vd=function(a,b){var c=Sb(a.a)[C](),d=this.cc.get(c)||null;null===d&&(d=new Wk(a),this.cc.set(c,d));d.vd(b)};Vk[t].ce=function(a,b){var c=Sb(a.a)[C](),d=this.cc.get(c)||null;d.ce(b);0<d.Dc[F]||this.cc[Wa](c)};function Bf(a,b){var c=M();b[E](function(a){c.add(a[u]())});var d=[];a.cc[E](function(a){a=a.vc();a[nb].b[Za](function(a){return c.has(a[u]())})&&d[w](a)});return d}function zf(a,b,c){b=Sb(null!=b.Wc?b.Wc:b)[C]();a=a.cc.get(b)||null;null!==a&&Xk(a,c)}
function Wk(a){this.zf=a;this.Dc=M();this.eg=[];this.Re=null;this.Gf=new Rk(a.a,this.eg)}Wk[t].vd=function(a){this.Dc.has(a)||this.Dc.add(a)};Wk[t].ce=function(a){return this.Dc[Wa](a)};Wk[t].vc=function(){var a=this.zf;return{context:a.a,$d:Zi(a)}};function Xk(a,b){var c=Tk(a.Gf,a.Re,b);a.Re=b;0<c[B]&&a.Dc[E](function(a){a(c)})};function Yk(a,b){var c=a.l(Ed),d=b||{},f=new pg;a.hb(zd,f);var f=null,h=!1;switch(d.storeType||0){case 1:f=new cg(c);break;case 5:f=new eg(c);break;case 4:f=new lg(a,c,d.webSqlDbSize);break;case 3:f=new Of(c,d.firebase);h=!0;break;default:f=new Zf(a,c)}a.hb(yd,f);var l=new mh;a.hb(Ad,l);return f.Ba(d.onUpgrade)[x](function(){var b=new Fk(a);a.hb(Bd,b);b=new Nk;a.hb(Cd,b);b=new Vk;a.hb(Dd,b);return l.Ba(c)})[x](function(){if(h){var b=new Df(a);b.wb.subscribe(b.Vd[D](b))}return(new fh(a)).Ba(c)})};function Zk(a,b){this.i=a;this.wb=a.l(yd);this.Oa=a.l(Cd);this.Ab=a.l(Dd);this.pa=M(b);this.Ma=new oe(this.i,this.pa);this.Sb=Mc();this.qc=Mc();this.qe=Mc()}H=Zk[t];ma(H,function(){this.qe[Db]();return this.qc.ga});H.S=Hb(1);H.ba=G("pa");H.tc=G("Sb");H.Y=function(){return Sb(this)};Aa(H,Hb(2));function $k(a){Cf(a.Oa,a);return a.qe.ga}
function al(a,b){var c=b.vc();return c.$d.cb()[Ma](a.Ma,c[nb])[x](function(a){return Be(a[0])},function(a){this.Ma.Cb();var b=new Sc(a[p]);this.qc[Ha](b);throw a;}[D](a))}H.ja=function(){this.wb.Ib(this.S(),this.Ma).ja()[x](function(){this.Ic();this.qc[Db]()}[D](this),function(a){this.Ma.Cb();this.qc[Ha](a)}[D](this));return this.Sb.ga};H.Cb=function(){this.Ma.Cb();this.qc[Db]();return this.Sb.ga};H.Ic=function(){var a=Bf(this.Ab,this.pa);0!=a[B]&&(a=new yf(this.i,a),Cf(this.Oa,a))};function bl(a){this.i=a;this.Oa=a.l(Cd);this.Nc=null;this.Pa=0;0==cl[F]&&(cl.set(0,M([1,4])),cl.set(1,M([2])),cl.set(2,M([3,5,6])),cl.set(3,M([2,7])),cl.set(4,M([7])),cl.set(5,M([7])),cl.set(6,M([7])))}I("lf.proc.Transaction",bl);var cl=L();function dl(a,b){var c=cl.get(a.Pa)||null;if(null===c||!c.has(b))throw new N(107,a.Pa,b);a.Pa=b}
ma(bl[t],function(a){dl(this,4);var b=[];try{a[E](function(a){a.$a();b[w](a.vc())},this)}catch(c){return dl(this,7),Ic(c)}a=new Di(this.i,b);return Cf(this.Oa,a)[x](function(a){dl(this,7);return a.map(function(a){return Be(a)})}[D](this),function(a){dl(this,7);throw a;}[D](this))});ma(bl[t],bl[t][Ma]);bl[t].xf=function(a){dl(this,1);this.Nc=new Zk(this.i,a);return $k(this.Nc)[x](function(){dl(this,2)}[D](this))};bl[t].begin=bl[t].xf;
bl[t].wf=function(a){dl(this,3);return al(this.Nc,a)[x](function(a){dl(this,2);return a}[D](this),function(a){dl(this,7);throw a;}[D](this))};bl[t].attach=bl[t].wf;bl[t].ja=function(){dl(this,5);return this.Nc.ja()[x](function(){dl(this,7)}[D](this))};bl[t].commit=bl[t].ja;bl[t].Cb=function(){dl(this,6);return this.Nc.Cb()[x](function(){dl(this,7)}[D](this))};bl[t].rollback=bl[t].Cb;function Y(a){this.i=a;this.s=a.l(Ed);this.Kd=!1}I("lf.proc.Database",Y);Y[t].Ba=function(a){this.i.hb(Ed,this.s);return Yk(this.i,a)[x](function(){this.Kd=!0;return this}[D](this))};Y[t].init=Y[t].Ba;Y[t].qb=G("s");Y[t].getSchema=Y[t].qb;function el(a){if(!a.Kd)throw new N(2);}Y[t].select=function(a){el(this);return new X(this.i,1!=arguments[B]||null!=arguments[0]?e[t][n][r](arguments):[])};Y[t].select=Y[t].select;Y[t].sb=function(){el(this);return new aj(this.i)};Y[t].insert=Y[t].sb;
Y[t].Ld=function(){el(this);return new aj(this.i,!0)};Y[t].insertOrReplace=Y[t].Ld;qa(Y[t],function(a){el(this);return new jj(this.i,a)});qa(Y[t],Y[t][Ta]);Y[t].delete=function(){el(this);return new $i(this.i)};Y[t]["delete"]=Y[t][Wa];Y[t].observe=function(a,b){this.i.l(Dd).vd(a,b)};Y[t].observe=Y[t].observe;Y[t].unobserve=function(a,b){this.i.l(Dd).ce(a,b)};Y[t].unobserve=Y[t].unobserve;Y[t].Ef=function(){el(this);return new bl(this.i)};Y[t].createTransaction=Y[t].Ef;
oa(Y[t],function(){try{this.i.l(yd)[Na]()}catch(a){}this.i[bb]();this.Kd=!1});oa(Y[t],Y[t][Na]);function Z(a,b,c,d,f,h){this.O=a;this.u=b;this.Me=c;this.Ke=d;this.pf=f;this.Za=h||null}I("lf.schema.BaseColumn",Z);H=Z[t];na(H,G("u"));H.j=function(){return Me(this.O)+"."+this.u};g(H,function(){return this.j()});H.I=G("O");H.S=G("pf");Z[t].getType=Z[t].S;Z[t].Wa=G("Za");Z[t].Aa=function(){null==this.fa&&(this.fa=[],this.I().Aa()[E](function(a){-1!=a.f.map(function(a){return a.da[u]()})[Ya](this.u)&&this.fa[w](a)},this));return this.fa};
Z[t].ta=function(){if(!Jb(this.ca)){var a=this.Aa()[Ca](function(a){return 1!=a.f[B]?!1:a.f[0].da[u]()==this[u]()},this);this.ca=0<a[B]?a[0]:null}return this.ca};Z[t].xc=G("Ke");Z[t].isNullable=Z[t].xc;Z[t].yc=G("Me");Z[t].Ka=function(a){return Oh(this,a,"eq")};Z[t].eq=Z[t].Ka;Z[t].Ue=function(a){return Oh(this,a,"neq")};Z[t].neq=Z[t].Ue;Z[t].Sd=function(a){return Oh(this,a,"lt")};Z[t].lt=Z[t].Sd;Z[t].ag=function(a){return Oh(this,a,"lte")};Z[t].lte=Z[t].ag;Z[t].Nf=function(a){return Oh(this,a,"gt")};
Z[t].gt=Z[t].Nf;Z[t].Of=function(a){return Oh(this,a,"gte")};Z[t].gte=Z[t].Of;Z[t].match=function(a){return Oh(this,a,"match")};Z[t].match=Z[t].match;Z[t].yf=function(a,b){return Oh(this,[a,b],"between")};Z[t].between=Z[t].yf;Z[t].Pf=function(a){return Oh(this,a,"in")};Z[t]["in"]=Z[t].Pf;Z[t].Wf=function(){return this.Ka(null)};Z[t].isNull=Z[t].Wf;Z[t].Vf=function(){return this.Ue(null)};Z[t].isNotNull=Z[t].Vf;Z[t].jc=function(a){return new Z(this.O,this.u,this.Me,this.Ke,this.pf,a)};Z[t].as=Z[t].jc;function fl(){this.rd=L()}var gl;sa(fl[t],function(){this.rd[bb]()});sa(fl[t],fl[t][bb]);fl[t].hb=function(a,b){this.rd.set(a[C](),b);return b};fl[t].registerService=fl[t].hb;fl[t].l=function(a){var b=this.rd.get(a[C]())||null;if(null===b)throw new N(7,a[C]());return b};fl[t].getService=fl[t].l;fl[t].Qd=function(a){return this.rd.has(a[C]())};fl[t].isRegistered=fl[t].Qd;function hl(){this.o=L();this.size=0}H=hl[t];H.set=function(a,b){var c=this.o.get(a)||null;null===c&&(c=M(),this.o.set(a,c));c.has(b)||(c.add(b),this.size++);return this};H.he=function(a,b){var c=this.o.get(a)||null;null===c&&(c=M(),this.o.set(a,c));b[E](function(a){c.has(a)||(c.add(a),this.size++)},this);return this};H.delete=function(a,b){var c=this.o.get(a,null);if(null===c)return!1;var d=c[Wa](b);d&&(--this.size,0==c[F]&&this.o[Wa](a));return d};
H.get=function(a){a=this.o.get(a)||null;return null===a?null:Fd(a)};sa(H,function(){this.o[bb]();this.size=0});H.keys=function(){return od(this.o)};ta(H,function(){var a=[];this.o[E](function(b){a=a[Qa](Fd(b))});return a});function il(a){this.s=a;this.bf=new hl;this.We=new hl;this.xe=L();this.g=new hl;this.we=new hl;jl(this)}function jl(a){a.s.Sa()[E](function(a){var c=a[u]();a.zb().Id()[E](function(d){this.bf.set(d.ub,d);this.We.set(c,this.s[k](d.ub));this.g.set(d.ub,a);this.xe.set(a[u]()+"."+d.Gb,d.ub);this.we.set(d.ub+"."+d.Fc,a[u]())},this)},a)}function ie(a,b){return a.bf.get(b)}function Gi(a,b){var c=b.get(a);return null===c?[]:c}
function Ji(a,b){var c=M();b[E](function(a){(a=this.xe.get(a))&&c.add(a)},a);return Fd(c).map(function(a){return this.s[k](a)},a)}function Ki(a,b){var c=M();b[E](function(a){(a=this.we.get(a))&&a[E](function(a){c.add(a)})},a);return Fd(c).map(function(a){return this.s[k](a)},a)};function kl(a,b,c){this.kg=a;this.dg=b;this.Mf=c}I("lf.schema.Constraint",kl);kl[t].dd=G("kg");kl[t].getPrimaryKey=kl[t].dd;kl[t].Id=G("Mf");kl[t].getForeignKeys=kl[t].Id;function ll(a,b){var c=a.ref[Fa](".");if(2!=c[B])throw new N(540,b);this.Gb=a.local;this.ub=c[0];this.Fc=c[1];ja(this,b);this.action=a.action;this.timing=a[Ia]};function ml(a){nl(a);this.Fd=Qe.bd();this.u=a;this.H=L();this.le=M();this.Oc=M();this.Cc=M();this.va=null;this.fa=L();this.nd=!1;this.yb=[]}I("lf.schema.TableBuilder",ml);function ol(a){ja(this,a[p]);this.gb=a.order;this.autoIncrement=a[ob]}var pl=M([0,6]);function nl(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new N(502,a);}function ql(a,b){if(b==a.u)throw new N(546,b);if(a.H.has(b)||a.fa.has(b)||a.Oc.has(b))throw new N(503,a.u+"."+b);}
function rl(a,b){var c=!1;b[E](function(a){var b=this.H.get(a[p]);c=c||a[ob];if(a[ob]&&3!=b)throw new N(504);},a);if(c&&1<b[B])throw new N(505);}function sl(a){if(null!==a.va){var b=a.fa.get(a.va).map(function(a){return a[p]}),c=0;if(a.yb[Za](function(a,f){c=f;return-1!=b[Ya](a.Gb)},a))throw new N(543,a.yb[c][p]);}}
function tl(a){if(null!==a.va){var b=function(a){return a[p]},c=ga[wb](a.fa.get(a.va).map(b));a.fa[E](function(a,f){if(f!=this.va){var h=a.map(b);if(ga[wb](h)==c)throw new N(544,this.u+"."+f);}},a)}}function ul(a){null===a.va||a.fa.get(a.va)[E](function(a){if(this.Cc.has(a[p]))throw new N(545,this.u+"."+a[p]);},a)}ml[t].rf=function(a,b){nl(a);ql(this,a);this.H.set(a,b);pl.has(b)&&this.se([a]);return this};ml[t].addColumn=ml[t].rf;
ml[t].tf=function(a,b){var c=this.u;this.va="pk"+(c[0].toUpperCase()+c.substring(1));nl(this.va);ql(this,this.va);c=vl(this,a,!0,void 0,b);rl(this,c);1==c[B]&&this.le.add(c[0][p]);this.Oc.add(this.va);this.fa.set(this.va,c);return this};ml[t].addPrimaryKey=ml[t].tf;
ml[t].sf=function(a,b){nl(a);ql(this,a);var c=new ll(b,this.u+"."+a);Jb(c.action)||(c.action=0);Jb(c[Ia])||(c.timing=0);if(1==c.action&&1==c[Ia])throw new N(506);if(!this.H.has(c.Gb))throw new N(540,a);this.yb[w](c);this.re(a,[c.Gb],!1);return this};ml[t].addForeignKey=ml[t].sf;ml[t].uf=function(a,b){nl(a);ql(this,a);var c=vl(this,b,!0);wl(this,a,c);1==c[B]&&this.le.add(c[0][p]);this.fa.set(a,c);this.Oc.add(a);return this};ml[t].addUnique=ml[t].uf;
ml[t].se=function(a){a=vl(this,a,!1);xl(this,a);a[E](function(a){this.Cc.add(a[p])},this);return this};ml[t].addNullable=ml[t].se;function xl(a,b){od(a.fa)[E](function(a){var d=M();this.fa.get(a)[E](function(a){d.add(a[p])});var f=b[Ca](function(a){return d.has(a[p])});if(1<d[F]&&0<f[B])throw new N(507,a,f[m](","));},a)}ml[t].re=function(a,b,c,d){nl(a);ql(this,a);b=vl(this,b,!0,d);wl(this,a,b);c&&this.Oc.add(a);this.fa.set(a,b);return this};ml[t].addIndex=ml[t].re;
function wl(a,b,c){if(1<c[B]&&(a=c[Ca](function(a){return this.Cc.has(a[p])},a),0<a[B]))throw new N(507,b,a[m](","));}ml[t].Bb=Gb("nd");ml[t].persistentIndex=ml[t].Bb;ml[t].qb=function(){sl(this);tl(this);ul(this);return new (yl(this))};ml[t].getSchema=ml[t].qb;function zl(a){return a.yb}
function vl(a,b,c,d,f){var h=b,h="string"==typeof b[0]?b.map(function(a){return new ol({name:a,order:null!=d?d:1,autoIncrement:f||!1})}):b.map(function(a){return new ol(a)});h[E](function(a){if(!this.H.has(a[p]))throw new N(508,this.u,a[p]);if(c){var b=this.H.get(a[p]);if(0==b||6==b)throw new N(509,this.u,a[p]);}},a);return h}
function yl(a){function b(){function b(c){return a.fa.get(c).map(function(a){return{da:this[a[p]],gb:a.gb,autoIncrement:a[ob]}},this)}var d=od(a.H).map(function(b){this[b]=new Z(this,b,a.le.has(b),a.Cc.has(b),a.H.get(b));return this[b]},this),f=od(a.fa).map(function(d){return new Qh(a.u,d,a.Oc.has(d),b[r](this,d))},this);U[r](this,a.u,d,f,a.nd);var h=null===a.va?null:new Qh(a.u,a.va,!0,b[r](this,a.va)),l=d[Ca](function(b){return!a.Cc.has(b[u]())});this.Bf=new kl(h,l,a.yb);this.ff=Al(a,d,f)}J(b,U);
b[t].xb=function(a){return new this.ff(Zc++,a)};b[t].createRow=b[t].xb;b[t].ac=function(a){var b={};this.ab()[E](function(f){var h=f[u]();f=f.S();var l=a[v][h];if(0==f)if(f=l,null!=f&&""!=f){0!=f[B]%2&&(f="0"+f);for(var l=new ArrayBuffer(f[B]/2),q=new Uint8Array(l),y=0,O=0;y<f[B];y+=2)q[O++]=da(f.substr(y,2),16);f=l}else f=null;else f=2==f?null!=l?new Date(l):null:l;b[h]=f},this);return new this.ff(a.id,b)};b[t].deserializeRow=b[t].ac;b[t].zb=G("Bf");b[t].getConstraint=b[t].zb;return b}
function Al(a,b,c){function d(a,d){this.H=b;this.fa=c;Yc[r](this,a,d)}J(d,Yc);d[t].Ae=function(){var a={};this.H[E](function(b){a[b[u]()]=b.xc()?null:ae[b.S()]});return a};d[t].mf=function(){var a={};this.H[E](function(b){var c=b[u]();b=b.S();var d=this.m[c];a[c]=0==b?null!=d?bd(d):null:2==b?null!=d?d[Cb]():null:6==b?null!=d?d:null:d},this);return a};var f=function(a){var b=this.H.get(a[u]()),c=this.Fd.Ne.get(b)||null;return function(b){return c(b[a[u]()])}}[D](a),h=function(a){var b=a.map(function(a){return f(a.da)});
return function(a){return b.map(function(b){return b(a)})}}[D](a),l={};c[E](function(a){var b=a.j();a=1==a.f[B]?f(a.f[0].da):h(a.f);l[b]=a});d[t].Nb=function(a){return-1!=a[Ya]("#")?this.id():l[rb](a)?l[a](this.m):null};return d};function Bl(a,b){this.s=new Cl(a,b);this.lb=L();this.rc=!1}I("lf.schema.Builder",Bl);function Dl(a,b){b.yb[E](function(a){var d=a.ub;if(!this.lb.has(d))throw new N(536,a[p]);var d=this.lb.get(d).qb(),f=a.Fc;if(!d[rb](f))throw new N(537,a[p]);if(b.qb()[a.Gb].S()!=d[f].S())throw new N(538,a[p]);if(!d[f].yc())throw new N(539,a[p]);},a)}Bl[t].Af=function(a){a.yb[E](function(a){zl(this.lb.get(a.ub))[E](function(c){if(c.Gb==a.Fc)throw new N(534,a[p]);},this)},this)};
function El(a){a.rc||(a.lb[E](function(a){Dl(this,a);a=a.qb();this.s.J.set(a[u](),a)},a),pd(a.lb)[E](a.Af,a),Fl(a),a.lb[bb](),a.rc=!0)}function Gl(a,b,c){b.oe||(b.oe=!0,b.Wd=!0,b.Be[E](function(a){a=c.get(a);if(!a.oe)Gl(this,a,c);else if(a.Wd&&b!=a)throw new N(533);},a));b.Wd=!1}function Fl(a){var b=L();a.s.J[E](function(a,d){b.set(d,new Hl(d))},a);a.lb[E](function(a,d){a.yb[E](function(a){b.get(a.ub).Be.add(d)})});pd(b)[E](function(a){Gl(this,a,b)},a)}
function Hl(a){this.Wd=this.oe=!1;this.Be=M();this.Lc=a}Bl[t].qb=function(){this.rc||El(this);return this.s};Bl[t].getSchema=Bl[t].qb;Bl[t].Ee=function(){var a=new xd("ns_"+this.s[p]()),b;gl||(gl=new fl);b=gl;var c=null;b.Qd(a)?c=b.l(a):(c=new fl,b.hb(a,c));return c};Bl[t].getGlobal=Bl[t].Ee;Bl[t].connect=function(a){var b=this.Ee();b.Qd(Ed)||b.hb(Ed,this.qb());return(new Y(b)).Ba(a)};Bl[t].connect=Bl[t].connect;
Bl[t].Df=function(a){if(this.lb.has(a))throw new N(503,a);if(this.rc)throw new N(535);this.lb.set(a,new ml(a));return this.lb.get(a)};Bl[t].createTable=Bl[t].Df;Bl[t].ie=function(a){if(this.rc)throw new N(535);this.s.ie(a);return this};Bl[t].setPragma=Bl[t].ie;function Cl(a,b){this.u=a;this.Wb=b;this.J=L();this.$e={Hf:!1}}I("lf.schema.DatabaseSchema",Cl);ja(Cl[t],G("u"));ja(Cl[t],Cl[t][p]);Cl[t].version=G("Wb");Cl[t].version=Cl[t][sb];Cl[t].Sa=function(){return pd(this.J)};Cl[t].tables=Cl[t].Sa;
ia(Cl[t],function(a){if(!this.J.has(a))throw new N(101,a);return this.J.get(a)});ia(Cl[t],Cl[t][k]);Cl[t].info=function(){this.Ie||(this.Ie=new il(this));return this.Ie};Cl[t].Ze=G("$e");Cl[t].pragma=Cl[t].Ze;Cl[t].ie=Gb("$e");I("lf.schema.create",function(a,b){return new Bl(a,b)});}.bind(window))()
//# sourceMappingURL=lovefield.es6.js.map
