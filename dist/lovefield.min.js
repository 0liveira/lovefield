/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=Function,ia=String;function ja(a,b){return a.table=b}function ka(a,b){return a.name=b}function la(a,b){return a.dump=b}function ma(a,b){return a.clone=b}function na(a,b){return a.exec=b}function oa(a,b){return a.getName=b}function pa(a,b){return a.close=b}function qa(a,b){return a.value=b}function ra(a,b){return a.update=b}function sa(a,b){return a.delete=b}function ta(a,b){return a.onsuccess=b}
function ua(a,b){return a.clear=b}function va(a,b){return a.values=b}function wa(a,b){return a.remove=b}function xa(a,b){return a.child=b}function ya(a,b){return a.next=b}function za(a,b){return a.onerror=b}function Aa(a,b){return a.length=b}function f(a,b){return a.toString=b}function Ba(a,b){return a.bind=b}function Ca(a,b){return a.subscribe=b}function Da(a,b){return a.forEach=b}function Ea(a,b){return a.getPriority=b}
var Fa="openCursor",Ga="filter",Ha="once",Ia="objectStoreNames",Ja="split",h="table",Ka="reduce",m="join",La="reject",Ma="timing",Na="item",n="slice",Oa="unshift",Pa="target",q="name",r="call",t="prototype",Qa="exec",u="getName",Ra="close",Sa="concat",w="value",Ta="setImmediate",Ua="every",Va="update",Wa="global",Xa="propertyIsEnumerable",Ya="delete",Za="sort",$a="indexOf",ab="some",bb="orderByChild",cb="clear",db="values",eb="replace",fb="reverse",gb="continue",hb="addAll",ib="removeChild",x="remove",
kb="child",lb="create",y="push",z="then",mb="transaction",nb="index",ob="context",A="splice",pb="autoIncrement",qb="next",sb="shift",tb="hasOwnProperty",ub="contains",vb="version",wb="objectStore",xb="apply",B="entries",C="length",yb="info",D="toString",zb="compare",E="bind",Ab="getParent",Bb="rows",F="forEach",Cb="getPriority",Db="getTime",Eb="resolve",Fb="result",Gb="size";function Hb(){return function(){}}function Ib(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Jb(a){return function(){return a}}var H,Kb=this;function Lb(a){return void 0!==a}function I(a,b,c){a=a[Ja](".");c=c||Kb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[C]&&(d=a[sb]());)!a[C]&&Lb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Mb(){}function Nb(a){a.Ee=function(){return a.qg?a.qg:a.qg=new a}}
function Ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][D][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Xa]&&!a[Xa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Xa]&&!a[Xa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Pb(a){return null===a}function Qb(a){return null!=a}function Rb(a){var b=Ob(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Sb(a){return"string"==typeof a}function Tb(a){return"function"==Ob(a)}function Ub(a){return a[Vb]||(a[Vb]=++Wb)}var Vb="closure_uid_"+(1E9*ba.random()>>>0),Wb=0;function Xb(a,b,c){return a[r][xb](a[E],arguments)}
function Yb(a,b,c){if(!a)throw fa();if(2<arguments[C]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t][Oa][xb](c,d);return a[xb](b,c)}}return function(){return a[xb](b,arguments)}}function J(a,b,c){J=ga[t][E]&&-1!=ga[t][E][D]()[$a]("native code")?Xb:Yb;return J[xb](null,arguments)}function Zb(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[y][xb](b,arguments);return a[xb](this,b)}}
function K(a,b){function c(){}c.prototype=b[t];a.Mb=b[t];a.prototype=new c;a[t].constructor=a;a.xl=function(a,c,k){for(var l=e(arguments[C]-2),p=2;p<arguments[C];p++)l[p-2]=arguments[p];return b[t][c][xb](a,l)}}Ba(ga[t],ga[t][E]||function(a,b){if(1<arguments[C]){var c=e[t][n][r](arguments,1);c[Oa](this,a);return J[xb](null,c)}return J(this,a)});function $b(a){if(fa.captureStackTrace)fa.captureStackTrace(this,$b);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ia(a))}K($b,fa);ka($b[t],"CustomError");function ac(a,b){for(var c=a[Ja]("%s"),d="",g=e[t][n][r](arguments,1);g[C]&&1<c[C];)d+=c[sb]()+g[sb]();return d+c[m]("%s")};function bc(a,b){b[Oa](a);$b[r](this,ac[xb](null,b));b[sb]()}K(bc,$b);ka(bc[t],"AssertionError");function cc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new bc(""+g,k||[]);}function L(a,b,c){a||cc("",null,b,e[t][n][r](arguments,2));return a}function dc(a,b){throw new bc("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function ec(a,b,c){Tb(a)||cc("Expected function but got %s: %s.",[Ob(a),a],b,e[t][n][r](arguments,2));return a};function fc(a,b,c){this.pk=c;this.Ai=a;this.Yk=b;this.Vd=0;this.Od=null}fc[t].get=function(){var a;0<this.Vd?(this.Vd--,a=this.Od,this.Od=a[qb],ya(a,null)):a=this.Ai();return a};fc[t].put=function(a){this.Yk(a);this.Vd<this.pk&&(this.Vd++,ya(a,this.Od),this.Od=a)};var gc=e[t],hc=gc[$a]?function(a,b,c){L(null!=a[C]);return gc[$a][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[C]+c):c;if(Sb(a))return Sb(b)&&1==b[C]?a[$a](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},ic=gc[F]?function(a,b,c){L(null!=a[C]);gc[F][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)k in g&&b[r](c,g[k],k,a)},jc=gc.map?function(a,b,c){L(null!=a[C]);return gc.map[r](a,b,c)}:function(a,b,c){for(var d=a[C],g=e(d),k=Sb(a)?a[Ja](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[r](c,k[l],l,a));return g},kc=gc[Ka]?function(a,b,c,d){L(null!=a[C]);d&&(b=J(b,d));return gc[Ka][r](a,b,c)}:function(a,b,c,d){var g=c;ic(a,function(c,l){g=b[r](d,g,c,l,a)});return g},lc=gc[ab]?function(a,b,c){L(null!=a[C]);return gc[ab][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a))return!0;return!1},mc=gc[Ua]?function(a,b,c){L(null!=a[C]);return gc[Ua][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Sb(a)?a[Ja](""):a,k=0;k<
d;k++)if(k in g&&!b[r](c,g[k],k,a))return!1;return!0};function nc(a,b){L(null!=a[C]);return 1==gc[A][r](a,b,1)[C]}function oc(a,b,c){a:{for(var d=a[C],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(nc(a,b),!0):!1}function pc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function qc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Rb(d)){var g=a[C]||0,k=d[C]||0;Aa(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[y](d)}}function rc(a,b,c,d){L(null!=a[C]);return gc[A][xb](a,sc(arguments,1))}function sc(a,b,c){L(null!=a[C]);return 2>=arguments[C]?gc[n][r](a,b):gc[n][r](a,b,c)}function tc(a,b,c,d,g){for(var k=0,l=a[C],p;k<l;){var v=k+l>>1,ha;ha=c?b[r](g,a[v],v,a):b(d,a[v]);0<ha?k=v+1:(l=v,p=!ha)}return p?k:~k}function uc(a,b){return a>b?1:a<b?-1:0}
function vc(a,b,c){c=tc(a,c||uc,!1,b);return 0>c?(rc(a,-(c+1),0,b),!0):!1}function wc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function xc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Ob(d))for(var g=0;g<d[C];g+=8192)for(var k=sc(d,g,g+8192),k=xc[xb](null,k),l=0;l<k[C];l++)b[y](k[l]);else b[y](d)}return b};function yc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function zc(a,b,c){for(var d in a)if(b[r](c,a[d],d,a))return!0;return!1}function Ac(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Bc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Cc;a:{var Dc=Kb.navigator;if(Dc){var Ec=Dc.userAgent;if(Ec){Cc=Ec;break a}}Cc=""};function Fc(a){Kb.setTimeout(function(){throw a;},0)}var Gc;
function Hc(){var a=Kb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==Cc[$a]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Ra]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Cc[$a]("Trident")&&-1==Cc[$a]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Lb(c[qb])){c=c[qb];var a=c.Gf;c.Gf=null;a()}};return function(a){ya(d,{Gf:a});d=d[qb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ib](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Kb.setTimeout(a,0)}};function Ic(){this.he=this.gc=null}var Kc=new fc(function(){return new Jc},function(a){a.reset()},100);Ic[t].add=function(a,b){var c=this.Qj();c.set(a,b);this.he?ya(this.he,c):(L(!this.gc),this.gc=c);this.he=c};wa(Ic[t],function(){var a=null;this.gc&&(a=this.gc,this.gc=this.gc[qb],this.gc||(this.he=null),ya(a,null));return a});Ic[t].Zk=function(a){Kc.put(a)};Ic[t].Qj=function(){return Kc.get()};function Jc(){this.scope=this.ze=null;ya(this,null)}
Jc[t].set=function(a,b){this.ze=a;this.scope=b;ya(this,null)};Jc[t].reset=function(){this.scope=this.ze=null;ya(this,null)};function Lc(a,b){Mc||Nc();Oc||(Mc(),Oc=!0);Pc.add(a,b)}var Mc;function Nc(){if(Kb.Promise&&Kb.Promise[Eb]){var a=Kb.Promise[Eb]();Mc=function(){a[z](Qc)}}else Mc=function(){var a=Qc;if(!Tb(Kb[Ta])||Kb.Window&&Kb.Window[t]&&Kb.Window[t][Ta]==Kb[Ta])Gc||(Gc=Hc()),Gc(a);else Kb[Ta](a)}}var Oc=!1,Pc=new Ic;[][y](function(){Oc=!1;Pc=new Ic});function Qc(){for(var a=null;a=Pc[x]();){try{a.ze[r](a.scope)}catch(b){Fc(b)}Pc.Zk(a)}Oc=!1};function M(a,b){this.Ka=0;this.$g=void 0;this.ud=this.lc=this.D=null;this.Nd=this.ye=!1;if(a!=Mb)try{var c=this;a[r](b,function(a){c.Ac(2,a)},function(a){if(!(a instanceof Rc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.Ac(3,a)})}catch(d){this.Ac(3,d)}}function Sc(){xa(this,null);this.context=this.wc=this.Wb=null;ya(this,null);this.ke=!1}Sc[t].reset=function(){xa(this,null);this.context=this.wc=this.Wb=null;this.ke=!1};
var Tc=new fc(function(){return new Sc},function(a){a.reset()},100);function Uc(a,b,c){var d=Tc.get();d.Wb=a;d.wc=b;d.context=c;return d}function Vc(a){if(a instanceof M)return a;var b=new M(Mb);b.Ac(2,a);return b}function Wc(a){return new M(function(b,c){c(a)})}function Xc(a,b,c){Yc(a,b,c,null)||Lc(Zb(b,a))}function Zc(a){return new M(function(b,c){var d=a[C],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,v;v=a[p];p++)Xc(v,Zb(k,p),l);else b(g)})}
function $c(){var a,b,c=new M(function(c,g){a=c;b=g});return new ad(c,a,b)}M[t].then=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.xf(Tb(a)?a:null,Tb(b)?b:null,c)};M[t].then=M[t][z];M[t].$goog_Thenable=!0;H=M[t];
H.ll=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.wf(Uc(a||Mb,b||null,c))};H.nh=function(a,b){return this.xf(null,a,b)};H.wf=function(a){this.$j()||2!=this.Ka&&3!=this.Ka||this.dh();this.Ok(a)};
H.xf=function(a,b,c){var d=Uc(null,null,null);xa(d,new M(function(g,k){d.Wb=a?function(b){try{var d=a[r](c,b);g(d)}catch(v){k(v)}}:g;d.wc=b?function(a){try{var d=b[r](c,a);!Lb(d)&&a instanceof Rc?k(a):g(d)}catch(v){k(v)}}:k}));d[kb].D=this;this.wf(d);return d[kb]};H.ol=function(a){L(1==this.Ka);this.Ka=0;this.Ac(2,a)};H.pl=function(a){L(1==this.Ka);this.Ka=0;this.Ac(3,a)};
H.Ac=function(a,b){0==this.Ka&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ka=1,Yc(b,this.ol,this.pl,this)||(this.$g=b,this.Ka=a,this.D=null,this.dh(),3!=a||b instanceof Rc||bd(this,b)))};
function Yc(a,b,c,d){if(a instanceof M)return a.ll(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[z](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[z];if(Tb(l))return cd(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function cd(a,b,c,d,g){function k(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,k)}catch(v){k(v)}}H.dh=function(){this.ye||(this.ye=!0,Lc(this.Vi,this))};H.$j=function(){return!!this.lc};
H.Ok=function(a){L(null!=a.Wb);this.ud?ya(this.ud,a):this.lc=a;this.ud=a};H.Ik=function(){var a=null;this.lc&&(a=this.lc,this.lc=a[qb],ya(a,null));this.lc||(this.ud=null);null!=a&&L(null!=a.Wb);return a};H.Vi=function(){for(var a=null;a=this.Ik();)this.Ui(a,this.Ka,this.$g);this.ye=!1};H.Ui=function(a,b,c){3==b&&a.wc&&!a.ke&&this.Wk();if(a[kb])a[kb].D=null,dd(a,b,c);else try{a.ke?a.Wb[r](a[ob]):dd(a,b,c)}catch(d){ed[r](null,d)}Tc.put(a)};
function dd(a,b,c){2==b?a.Wb[r](a[ob],c):a.wc&&a.wc[r](a[ob],c)}H.Dh=Hb();H.Wk=function(){var a;for(a=this;a&&a.Nd;a=a.D)a.Nd=!1};function bd(a,b){a.Nd=!0;Lc(function(){a.Nd&&(a.Dh(b),ed[r](null,b))})}var ed=Fc;function Rc(a){$b[r](this,a)}K(Rc,$b);ka(Rc[t],"cancel");function ad(a,b,c){this.ga=a;this.resolve=b;this.reject=c};
function fd(a,b){this.za=a;this.Yb=b||this.Sf()}var gd=0;H=fd[t];H.id=G("za");H.Mh=Ib("za");H.w=G("Yb");H.Sf=function(){return{}};H.oh=G("Yb");H.Ja=function(){return{id:this.za,value:this.oh()}};H.Ub=function(a){return"#"==a.substr(-1)?this.za:null};function hd(a){return new fd(a.id,a[w])}function id(a){return new fd(gd++,a||{})}function jd(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};
function kd(a){this.type=a}function ld(a){fd[r](this,-1,a)}K(ld,fd);
var md={};I("lf.TransactionType",md,void 0);md.READ_ONLY=0;md.READ_WRITE=1;

function nd(a,b){this.Va=a;this.ph=b;this.aa=$c()}H=nd[t];H.zj=G("Va");H.oa=function(){try{this.Va.Zh()}catch(a){return Wc(a)}return(0==this.ph?this.Lc():this.uk())[z](J(function(a){this.Va.oa();return a},this))};H.uk=function(){this.vk();this.tk();return this.Lc()};
H.vk=function(){var a=this.Va.cg();a.V()[F](function(b){var c=this.Va.fa().get(b),c=this.L(c[u](),J(c.pc,c));b=a.get(b);var d=b.Vc().f().map(function(a){return a.id()});0<d[C]&&c[x](d).nh(this.Le,this);b=b.Xc().f().map(function(a){return a[1]})[Sa](b.Uc().f());c.put(b).nh(this.Le,this)},this)};H.tk=function(){this.Va.wj()[F](function(a){var b=this.L(a[u](),hd),c;b.get([-1])[z](function(a){c=a;return b[x]([])})[z](function(){b.put(c);b.put(a.Ja())},J(this.Le,this))},this)};H.Le=function(a){this.aa[La](a)};function od(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[C],k=b[C],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var v=0;v<k+1;v++)l[0][v]=0;for(p=1;p<=g;p++)for(v=1;v<=k;v++)c(a[p-1],b[v-1])?l[p][v]=l[p-1][v-1]+1:l[p][v]=ba.max(l[p-1][v],l[p][v-1]);for(var ha=[],p=g,v=k;0<p&&0<v;)c(a[p-1],b[v-1])?(ha[Oa](d(p-1,v-1)),p--,v--):l[p-1][v]>l[p][v-1]?p--:v--;return ha}function pd(a){return kc(arguments,function(a,c){return a+c},0)}
function qd(a){return pd[xb](null,arguments)/arguments[C]}function rd(a){var b=arguments[C];if(2>b)return 0;var c=qd[xb](null,arguments);return pd[xb](null,jc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function sd(a){return ba.sqrt(rd[xb](null,arguments))};var td="StopIteration"in Kb?Kb.StopIteration:{message:"StopIteration",stack:""};function ud(){}ya(ud[t],function(){throw td;});ud[t].Ec=function(){return this};function vd(a){if(a instanceof ud)return a;if("function"==typeof a.Ec)return a.Ec(!1);if(Rb(a)){var b=0,c=new ud;ya(c,function(){for(;;){if(b>=a[C])throw td;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function wd(a,b,c){if(Rb(a))try{ic(a,b,c)}catch(d){if(d!==td)throw d;}else{a=vd(a);try{for(;;)b[r](c,a[qb](),void 0,a)}catch(g){if(g!==td)throw g;}}}function xd(a){if(lc(arguments,function(a){return!a[C]})||!arguments[C])return new ud;var b=new ud,c=arguments,d=wc(0,c[C]);ya(b,function(){if(d){for(var a=jc(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){L(d);if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw td;});return b};function N(a,b){this.g={};this.b=[];this.Sa=this.$=0;var c=arguments[C];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[hb](a)}H=N[t];H.ta=G("$");H.f=function(){this.Jc();for(var a=[],b=0;b<this.b[C];b++)a[y](this.g[this.b[b]]);return a};H.V=function(){this.Jc();return this.b[Sa]()};H.A=function(a){return yd(this.g,a)};H.yd=function(a){for(var b=0;b<this.b[C];b++){var c=this.b[b];if(yd(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Qc=function(a,b){if(this===a)return!0;if(this.$!=a.ta())return!1;var c=b||zd;this.Jc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function zd(a,b){return a===b}H.La=function(){return 0==this.$};ua(H,function(){this.g={};Aa(this.b,0);this.Sa=this.$=0});wa(H,function(a){return yd(this.g,a)?(delete this.g[a],this.$--,this.Sa++,this.b[C]>2*this.$&&this.Jc(),!0):!1});
H.Jc=function(){if(this.$!=this.b[C]){for(var a=0,b=0;a<this.b[C];){var c=this.b[a];yd(this.g,c)&&(this.b[b++]=c);a++}Aa(this.b,b)}if(this.$!=this.b[C]){for(var d={},b=a=0;a<this.b[C];)c=this.b[a],yd(d,c)||(this.b[b++]=c,d[c]=1),a++;Aa(this.b,b)}};H.get=function(a,b){return yd(this.g,a)?this.g[a]:b};H.set=function(a,b){yd(this.g,a)||(this.$++,this.b[y](a),this.Sa++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.V(),a=a.f()):(b=Bc(a),a=Ac(a));for(var c=0;c<b[C];c++)this.set(b[c],a[c])};
Da(H,function(a,b){for(var c=this.V(),d=0;d<c[C];d++){var g=c[d],k=this.get(g);a[r](b,k,g,this)}});ma(H,function(){return new N(this)});H.Ec=function(a){this.Jc();var b=0,c=this.Sa,d=this,g=new ud;ya(g,function(){if(c!=d.Sa)throw fa("The map has changed since the iterator was created");if(b>=d.b[C])throw td;var g=d.b[b++];return a?g:d.g[g]});return g};function yd(a,b){return aa[t][tb][r](a,b)};
function Ad(){this.g=new N;aa.defineProperty(this,"size",{get:function(){return this.g.ta()}})}ua(Ad[t],function(){this.g[cb]()});ua(Ad[t],Ad[t][cb]);sa(Ad[t],function(a){return this.g[x](a)});Ad[t]["delete"]=Ad[t][Ya];Da(Ad[t],function(a,b){return this.g[F](a,b)});Da(Ad[t],Ad[t][F]);Ad[t].get=function(a){return this.g.get(a)};Ad[t].get=Ad[t].get;Ad[t].has=function(a){return this.g.A(a)};Ad[t].has=Ad[t].has;Ad[t].set=function(a,b){return this.g.set(a,b)};Ad[t].set=Ad[t].set;
var Bd=ca.Map&&ca.Map[t][db]&&ca.Map[t][F]?ca.Map:Ad;function Cd(a){if(a instanceof Ad)return a.g.V();var b=0,c=e(a[Gb]);a[F](function(a,g){c[b++]=g});return c}function Dd(a){if(a instanceof Ad)return a.g.f();var b=0,c=e(a[Gb]);a[F](function(a){c[b++]=a});return c};
function Ed(a){this.$k=a}f(Ed[t],G("$k"));var Fd=new Ed("backstore"),Gd=new Ed("cache"),Hd=new Ed("indexstore"),Id=new Ed("engine"),Jd=new Ed("runner"),Kd=new Ed("observerregistry"),Ld=new Ed("schema");
function Md(a){if("function"==typeof a.ta)a=a.ta();else if(Rb(a)||Sb(a))a=a[C];else{var b=0,c;for(c in a)b++;a=b}return a}function Nd(a){if("function"==typeof a.f)return a.f();if(Sb(a))return a[Ja]("");if(Rb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[y](a[d]);return b}return Ac(a)}
function Od(a,b,c){if("function"==typeof a[Ua])return a[Ua](b,c);if(Rb(a)||Sb(a))return mc(a,b,c);var d;if("function"==typeof a.V)d=a.V();else if("function"!=typeof a.f)if(Rb(a)||Sb(a)){d=[];for(var g=a[C],k=0;k<g;k++)d[y](k)}else d=Bc(a);else d=void 0;for(var g=Nd(a),k=g[C],l=0;l<k;l++)if(!b[r](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new N;a&&this[hb](a)}function Pd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Ub(a):b.substr(0,1)+a}H=O[t];H.ta=function(){return this.g.ta()};H.add=function(a){this.g.set(Pd(a),a)};H.addAll=function(a){a=Nd(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};wa(H,function(a){return this.g[x](Pd(a))});ua(H,function(){this.g[cb]()});H.La=function(){return this.g.La()};H.contains=function(a){return this.g.A(Pd(a))};H.si=function(a){return Od(a,this[ub],this)};H.f=function(){return this.g.f()};
ma(H,function(){return new O(this)});H.Qc=function(a){return this.ta()==Md(a)&&this.lk(a)};H.lk=function(a){var b=Md(a);if(this.ta()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Od(this,function(b){var d=a;if("function"==typeof d[ub])b=d[ub](b);else if("function"==typeof d.yd)b=d.yd(b);else if(Rb(d)||Sb(d))b=0<=hc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Ec=function(){return this.g.Ec(!1)};
function Qd(a,b){this.za=a;this.Yb=b||{}}function Rd(a){var b=new O;a[F](function(a){b.add(a>>9)});return b.f()}H=Qd[t];H.da=G("za");H.uc=G("Yb");H.hh=function(a){a[F](function(a){this.Yb[a.id()]=a.Ja()},this)};H.Vk=function(a){a[F](function(a){var c=this.Yb;a in c&&delete c[a]},this)};H.Ja=function(){return{id:this.za,value:JSON.stringify(this.Yb)}};function Sd(a){return new Qd(a.id,JSON.parse(a[w]))};

function Td(a,b,c){this.W=a;this.Qb=b;this.ah=c}H=Td[t];H.get=function(a){return 0==a[C]?this.Ce():this.Dj(a)[z](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Qb(d.uc()[a])},this)},this))};H.Dj=function(a){var b=new Bd,c=$c();a=Rd(a).map(function(a){return new M(function(c,k){var l;try{l=this.W.get(a)}catch(p){k(p);return}za(l,k);ta(l,J(function(a){a=Sd(a[Pa][Fb]);b.set(a.da(),a);c()},this))},this)},this);Zc(a)[z](function(){c[Eb](b)});return c.ga};
H.Ce=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Fa]()}catch(g){b(g);return}za(d,b);ta(d,J(function(){var b=d[Fb];if(b){var g=Sd(b[w]).uc(),p;for(p in g)c[y](this.Qb(g[p]));b[gb]()}else a(c)},this))},this)};H.Zb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}ta(d,b);za(d,c)},this)};
H.put=function(a){if(0==a[C])return Vc();var b=new Bd;a[F](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.ah(this.W[q],d));g.hh([a]);b.set(d,g)},this);a=Dd(b).map(function(a){return this.Zb(J(function(){return this.W.put(a.Ja())},this))},this);return Zc(a)};
wa(H,function(a){if(0==a[C])return this.Zb(J(function(){return this.W[cb]()},this));var b=new Bd;a[F](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.ah(this.W[q],d));g.Vk([a]);b.set(d,g)},this);a=Dd(b).map(function(a){return this.Zb(J(function(){var b;a:{b=a.uc();for(var g in b){b=!1;break a}b=!0}return b?this.W[Ya](a.da()):this.W.put(a.Ja())},this))},this);return Zc(a)});function Ud(a,b,c){a=a.o(Gd);var d=[c<<9,(c+1<<9)-1];b=a.mb(b,d[0],d[1]);c=new Qd(c);c.hh(b);return c}
function Vd(a,b){return new Qd(b)};
function Wd(){};
function Xd(a){this.sa=a.o(Gd);this.H=a.o(Hd);this.s=a.o(Ld)}ra(Xd[t],function(a){a[F](function(a){this.tl(a);this.ql(a)},this)});Xd[t].ql=function(a){var b=a[u]();a.Vc().f()[F](function(a){this.sa[x](b,[a.id()])},this);a.Uc()[F](function(a){this.sa.set(b,[a])},this);a.Xc()[F](function(a){this.sa.set(b,[a[1]])},this)};Xd[t].tl=function(a){var b=this.s[h](a[u]());a.tj()[F](function(a){this.th(b,a)},this)};
Xd[t].th=function(a,b){a.Fa().map(function(a){return this.H.get(a.l())},this)[Sa]([this.H.get(a.Rb())])[F](function(a){var d=null===b[1]?null:b[1].Ub(a[u]()),g=null===b[0]?null:b[0].Ub(a[u]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[x](g,b[0].id()):0!=a.Mc()[zb](g,d)&&(a.add(d,b[1].id()),a[x](g,b[0].id()))})};
var Yd={};I("lf.ConstraintAction",Yd,void 0);Yd.RESTRICT=0;Yd.CASCADE=1;var Zd={};I("lf.ConstraintTiming",Zd,void 0);Zd.IMMEDIATE=0;Zd.DEFERRABLE=1;var $d={};I("lf.Order",$d,void 0);$d.DESC=0;$d.ASC=1;var ae={};I("lf.Type",ae,void 0);ae.ARRAY_BUFFER=0;ae.BOOLEAN=1;ae.DATE_TIME=2;ae.INTEGER=3;ae.NUMBER=4;ae.STRING=5;ae.OBJECT=6;var be={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",be,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ba.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ia(arguments[c][D]()[n](0,64)))}K(P,fa);

function ce(a){this.H=a.o(Hd);this.s=a.o(Ld)}H=ce[t];H.bj=function(a,b){var c=a.Gb().He();return null===c?null:this.aj(c,b)};H.aj=function(a,b){var c=a.l(),d=b.Ub(c),c=this.H.get(c).get(d);return 0==c[C]?null:c[0]};H.se=function(a,b){var c=a.Gb().Bj();b[F](function(a){c[F](function(b){if(null==a.w()[b[u]()])throw new P(202,b.l());},this)},this)};H.Lf=function(a,b,c){a.Gb().dg()[F](function(a){a[Ma]==c&&this.ii(a,b)},this)};
H.ii=function(a,b){b[F](function(b){if(de(b[0],b[1],a[q])){b=b[1].w()[a.oc];var d=this.gg(a);if(null!==b&&!d.A(b))throw new P(203,a[q]);}},this)};H.gg=function(a){var b=this.s[h](a.eb)[a.yc].Fa()[Ga](function(b){return 1==b.h[C]&&b.h[0].ea[u]()==a.yc})[0];return this.H.get(b.l())};function de(a,b,c){return(null===a?null!==b:null===b)||a.Ub(c)!=b.Ub(c)}
H.Mf=function(a,b,c){a=this.s[yb]().Jj(a[u]());null!=a&&a[F](function(a){if(a[Ma]==c){var g=this.H.get(a[q]);b[F](function(b){var c=this.gg(a);if(de(b[0],b[1],c[u]())&&g.A(b[0].w()[a.yc]))throw new P(203,a[q]);},this)}},this)};H.qe=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[null,a]}),this.Lf(a,b,c))};H.re=function(a,b,c){0!=b[C]&&(this.Lf(a,b,c),this.Mf(a,b,c))};H.Jf=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[a,null]}),this.Mf(a,b,c))};
function ee(a){this.ib=new N;this.Na=new N;this.lb=new N;this.B=a}H=ee[t];oa(H,G("B"));H.Uc=G("ib");H.Xc=G("Na");H.Vc=G("lb");H.add=function(a){if(this.lb.A(a.id())){var b=[this.lb.get(a.id()),a];this.Na.set(a.id(),b);this.lb[x](a.id())}else this.ib.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.ib.A(b)?this.ib.set(b,c):(this.Na.A(b)&&(a=[this.Na.get(a[0].id())[0],c]),this.Na.set(b,a))};
sa(H,function(a){if(this.ib.A(a.id()))this.ib[x](a.id());else if(this.Na.A(a.id())){var b=this.Na.get(a.id())[0];this.Na[x](a.id());this.lb.set(a.id(),b)}else this.lb.set(a.id(),a)});H.tj=function(){var a=[];this.ib.f()[F](function(b){a[y]([null,b])},this);this.Na.f()[F](function(b){a[y](b)},this);this.lb.f()[F](function(b){a[y]([b,null])},this);return a};f(H,function(){return"["+this.ib.V()[D]()+"], ["+this.Na.V()[D]()+"], ["+this.lb.V()[D]()+"]"});
H.Kj=function(){var a=new ee(this.B);this.ib.f()[F](function(b){a[Ya](b)},this);this.lb.f()[F](function(b){a.add(b)},this);this.Na.f()[F](function(b){a.modify([b[1],b[0]])},this);return a};H.La=function(){return this.ib.La()&&this.lb.La()&&this.Na.La()};
function fe(a,b){this.ra=new N;b[F](function(a){this.ra.set(a[u](),a)},this);this.sa=a.o(Gd);this.H=a.o(Hd);this.Ta=new ce(a);this.Pd=new Xd(a);this.af=this.fe=!1;this.Db=new N}H=fe[t];H.cg=G("Db");H.wj=function(){var a=[];this.Db.V().map(function(a){return this.ra.get(a)},this)[F](function(b){b.$b()&&(b.Fa()[F](function(b){a[y](this.H.get(b.l()))},this),a[y](this.H.get(b[u]()+".#")))},this);return a};H.fa=G("ra");
H.xj=function(){var a=[];this.ra.f()[F](function(b){b.$b()&&(b.Fa()[F](function(b){a[y](b.l())}),a[y](b[u]()+".#"))});return a};H.Ab=function(a,b){this.Ic();this.vd(a);this.Ta.se(a,b);this.Ta.qe(a,b,0);for(var c=0;c<b[C];c++)this.Qd(a,[null,b[c]])};
H.Qd=function(a,b){var c=a[u](),d=this.Db.get(c,null)||new ee(c);this.Db.set(c,d);try{this.Pd.th(a,b)}catch(g){throw this.af=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.sa.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.sa.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.sa[x](c,[k.id()]),d[Ya](k))};ra(H,function(a,b){this.Ic();this.vd(a);this.Ta.se(a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.sa.get([d.id()])[0],d];this.Ta.re(a,[d],0);this.Qd(a,d)}});
H.Ne=function(a,b){this.Ic();this.vd(a);this.Ta.se(a,b);for(var c=0;c<b[C];c++){var d=b[c],g=null,k=this.Ta.bj(a,d);null!=k?(g=this.sa.get([k])[0],d.Mh(k),this.Ta.re(a,[[g,d]],0)):this.Ta.qe(a,[d],0);this.Qd(a,[g,d])}};wa(H,function(a,b){this.Ic();this.vd(a);this.Ta.Jf(a,b,0);for(var c=0;c<b[C];c++)this.Qd(a,[b[c],null])});H.Zh=function(){this.Db.f()[F](function(a){var b=this.ra.get(a[u]());this.Ta.qe(b,a.Uc().f(),1);this.Ta.Jf(b,a.Vc().f(),1);this.Ta.re(b,a.Xc().f(),1)},this)};
H.oa=function(){this.Ic();this.fe=!0};H.Ic=function(){L(!this.af,"Attemptted to use journal that needs to be rolled back.");L(!this.fe,"Attemptted to commit a terminated journal.")};H.Jb=function(){L(!this.fe,"Attempted to rollback a terminated journal.");var a=this.Db.f().map(function(a){return a.Kj()},this);this.Pd[Va](a);this.fe=!0;this.af=!1};H.vd=function(a){if(!this.ra.A(a[u]()))throw new P(106,a[u]());};
function ge(a,b,c,d){this.c=a;this.u=b;this.Y=null===this.c?!1:c;this.ba=null===this.u?!1:d}H=ge[t];f(H,function(){return(this.Y?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.u?"unbound":this.u)+(this.ba?")":"]")});H.ni=function(){if(null===this.c&&null===this.u)return[];var a=null,b=null;null===this.c||(a=new ge(null,this.c,!1,!this.Y));null===this.u||(b=new ge(this.u,null,!this.ba,!1));return[a,b][Ga](function(a){return null!==a})};
H.reverse=function(){return new ge(this.u,this.c,this.ba,this.Y)};H.Og=function(a){var b=he(this.c,a.c,!0,this.Y,a.Y);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.c||c.u==a.c&&!c.ba&&!a.Y};function ie(){return new ge(null,null,!1,!1)}H.gk=function(){return null===this.c&&null===this.u};H.vg=function(){return null!=this.c&&this.c==this.u&&!this.Y&&!this.ba};
H.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.ba;return(null===this.c||a>this.c||a==this.c&&!this.Y)&&b};H.Qc=function(a){return this.c==a.c&&this.Y==a.Y&&this.u==a.u&&this.ba==a.ba};function he(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function je(a,b){var c=he(a.c,b.c,!0,a.Y,b.Y);0==c&&(c=he(a.u,b.u,!1,a.ba,b.ba));return c};
function ke(a,b){this.entries=a;this.G=new O(b);this.Nb=null}H=ke[t];H.ik=function(a){return this.G.Qc(a.G)};function le(a,b){L(a.ik(b),"Intersection/union operations only apply to compatible relations.")}H.X=function(){return this.G.f()};H.Qe=function(){return 1<this.G.ta()};H.Fe=function(){return this[B].map(function(a){return a.xa.w()})};H.Mj=function(){return this[B].map(function(a){return a.xa.id()})};H.al=function(a,b){null===this.Nb&&(this.Nb=new N);this.Nb.set(a.l(),b)};
H.tc=function(a){L(null!==this.Nb,"getAggregationResult called before any results have been calculated.");var b=this.Nb.get(a.l(),void 0);L(Lb(b),"Could not find result for "+a.l());return b};H.Yj=function(a){return null!==this.Nb&&this.Nb.A(a.l())};var me=null;function ne(){null===me&&(me=new ke([],[]));return me}
function oe(a){if(0==a[C])return ne();for(var b=a[Ka](function(b,c){le(a[0],c);return b+c[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,k=0;k<c[C];k++)b[Ua](function(a){return a.A(c[k].id)})&&g.set(c[k].id,c[k]);return new ke(g.f(),a[0].G.f())}function pe(a){if(0==a[C])return ne();var b=new N;a[F](function(c){le(a[0],c);c[B][F](function(a){b.set(a.id,a)})});return new ke(b.f(),a[0].G.f())}
function qe(a,b){var c=1<b[C],d=a.map(function(a){return new re(a,c)});return new ke(d,b)}function re(a,b){this.xa=a;this.id=se++;this.Re=b}var se=0;re[t].U=function(a){var b=a.ab();return null!==b&&this.xa.w()[tb](b)?this.xa.w()[b]:this.Re?this.xa.w()[a.L().pa()][a[u]()]:this.xa.w()[a[u]()]};re[t].lf=function(a,b){var c=a.ab();if(null!=c)this.xa.w()[c]=b;else if(this.Re){var c=a.L().pa(),d=this.xa.w()[c];null==d&&(d={},this.xa.w()[c]=d);d[a[u]()]=b}else this.xa.w()[a[u]()]=b};
function te(a,b,c,d){function g(a,b){if(a.Re){var c=a.xa.w(),d;for(d in c)k[d]=c[d]}else L(!k[tb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.xa.w()}var k={};g(a,b);g(c,d);a=new fd(-1,k);return new re(a,!0)};
I("lf.bind",function(a){return new ue(a)},void 0);function ue(a){this.qa=a}I("lf.Binder",ue,void 0);ue[t].xb=G("qa");
function ve(){var a=we();this.Mi=new N(1,xe(),2,ye(),4,a,3,a,5,ze())}Nb(ve);ve[t].De=function(a,b){var c=this.Mi.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function we(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function ze(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function ye(){return new N("between",function(a,b){return a[Db]()>=b[0][Db]()&&a[Db]()<=b[1][Db]()},"eq",function(a,b){return(null===a?-1:a[Db]())==(null===b?-1:b[Db]())},"gte",function(a,b){return a[Db]()>=b[Db]()},"gt",function(a,b){return a[Db]()>b[Db]()},"in",function(a,b){return b[ab](function(b){return b[Db]()==a[Db]()})},"lte",function(a,b){return a[Db]()<=b[Db]()},"lt",function(a,b){return a[Db]()<b[Db]()},"neq",function(a,b){return(null===a?-1:a[Db]())!=(null===b?-1:b[Db]())})}
function xe(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function Ae(a,b){this.Cg=a;this.uh=b}Ae[t].getKey=G("Cg");Ae[t].Rj=G("uh");ma(Ae[t],function(){return new Ae(this.Cg,this.uh)});function Be(a,b){Ae[r](this,a,b);this.i=this.D=null}K(Be,Ae);var Ce=[];H=Be[t];ma(H,function(){return new Be(this.getKey(),this.Rj())});H.getParent=G("D");H.tg=function(){return!this.ya()};H.ca=function(){return this.i||Ce};H.vb=function(a){return this.ca()[a]||null};H.ya=function(){return this.ca()[C]};H.vj=function(){for(var a=0,b=this;b[Ab]();)a++,b=b[Ab]();return a};H.nb=function(){for(var a=this;a[Ab]();)a=a[Ab]();return a};H.contains=function(a){do a=a[Ab]();while(a&&a!=this);return Boolean(a)};
H.Cc=function(a,b){if(!1!==a[r](b,this))for(var c=this.ca(),d=0;d<c[C];d++)c[d].Cc(a,b)};H.fh=Ib("D");H.ja=function(a){this.Fc(a,this.i?this.i[C]:0)};H.Fc=function(a,b){L(!a[Ab]());a.fh(this);this.i=this.i||[];L(0<=b&&b<=this.i[C]);rc(this.i,b,0,a)};H.ae=function(a){var b=this.i&&this.i[a];return b?(b.fh(null),nc(this.i,a),0==this.i[C]&&(this.i=null),b):null};H.removeChild=function(a){return this.ae(hc(this.ca(),a))};

function De(){Be[r](this,"","");this.za=Ee++}K(De,Be);var Ee=0;De[t].da=G("za");De[t].mf=Ib("za");
function Fe(a,b,c){De[r](this);this.J=a;qa(this,b);this.K=c;this.Bd=ve.Ee().De(this.J.Z(),this.K);this.bb=!1;this.kc=b}K(Fe,De);H=Fe[t];H.Ob=function(){var a=new Fe(this.J,this[w],this.K);a.bl(this.kc);a.de(this.bb);a.mf(this.da());return a};H.wb=function(a){return null!=a?(a[y](this.J),a):[this.J]};H.de=Ib("bb");H.bl=Ib("kc");H.Hf=function(){var a=!1;this[w]instanceof ue||(a="array"==Ob(this[w])?!this[w][ab](function(a){return a instanceof ue}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Hf();if("in"==this.K)return this.Hi(a);var b=a[B][Ga](function(a){return this.Bd(a.U(this.J),this[w])!=this.bb},this);return new ke(b,a.X())};Ba(H,function(a){if(this.kc instanceof ue){var b=this.kc.xb();if(a[C]<=b)throw new P(510);qa(this,a[b])}else"array"==Ob(this.kc)&&qa(this,this.kc.map(function(b){if(b instanceof ue){if(a[C]<=b.xb())throw new P(510);return a[b.xb()]}return b}))});
H.Hi=function(a){L("in"==this.K,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[w]),c=J(function(a){return b[ub](a)!=this.bb},this),d=a[B][Ga](function(a){return c(a.U(this.J))},this);return new ke(d,a.X())};f(H,function(){return"value_pred("+this.J.l()+" "+this.K+(this.bb?"(complement)":"")+" "+this[w]+")"});H.sg=function(){this.Hf();return null!==this[w]&&("between"==this.K||"eq"==this.K||"gt"==this.K||"gte"==this.K||"lt"==this.K||"lte"==this.K)};
H.ml=function(){L(this.sg(),"Could not convert predicate to key range.");var a=null;"between"==this.K?a=new ge(this[w][0],this[w][1],!1,!1):"eq"==this.K?(a=this[w],a=new ge(a,a,!1,!1)):a="gte"==this.K?new ge(this[w],null,!1,!1):"gt"==this.K?new ge(this[w],null,!0,!1):"lte"==this.K?new ge(null,this[w],!1,!1):new ge(null,this[w],!1,!0);return this.bb?a.ni():[a]};
function Ge(a){this.ea=a;this.Kc=this.va=null}Ge[t].Jd=function(a){null===this.va&&null!=this.C&&(this.va=He(this.C));a=this.va.get(a,null);L(null!==a);return a};function He(a){var b=new N;a.Cc(function(a){b.set(a.da(),a)});return b}Ge[t].wd=function(a){a.C&&(this.C=a.C.Ob());this.Kc=a};Ba(Ge[t],function(){L(null==this.Kc);return this});Ge[t].ne=function(a){var b=this.C;null!=b&&b.Cc(function(b){b instanceof Fe&&b[E](a)})};
function Ie(a){Ge[r](this,a)}K(Ie,Ge);function Je(a){var b="";a[F](function(c,d){b+=c.J.l()+" ";b+=1==c.pb?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}Ie[t].fa=function(){return new O(this.c)};ma(Ie[t],function(){var a=new Ie(this.ea);a.wd(this);this.h&&(a.h=this.h[n]());this.c&&(a.c=this.c[n]());a.na=this.na;a.ia=this.ia;this.M&&(a.M=this.M[n]());this.la&&(a.la=this.la[n]());this.Vb&&(a.Vb=this.Vb);this.fc&&(a.fc=this.fc);a.xc=this.xc;return a});
Ba(Ie[t],function(a){Ie.Mb[E][r](this,a);null!=this.Vb&&(this.na=a[this.Vb.xb()]);null!=this.fc&&(this.ia=a[this.fc.xb()]);this.ne(a);return this});
function Ke(a,b){this.Da=a;this.ra=b}Ke[t].nb=G("Da");Ke[t].Xf=Jb("plan description");Ke[t].fa=G("ra");function Le(a){var b=new O;a[F](function(a){b[hb](a.fa())});return b};

function Me(a,b){this.global=a;this.Eb=a.o(Fd);this.Zd=b.map(function(a){return a[ob]});this.Rg=b.map(function(a){return a.bf});this.Of=Le(this.Rg);this.qh=this.Di();this.bc=$c()}H=Me[t];H.Di=function(){return this.Zd[ab](function(a){return!(a instanceof Ie)})?1:0};
na(H,function(){var a=new fe(this[Wa],this.Of.f()),b=[],c=this.Rg[n](),d=J(function(){var g=c[sb]();if(g){var k=this.Zd[b[C]];return g.nb()[Qa](a,k)[z](function(a){b[y](a[0]);return d()})}return Vc()},this);return d()[z](J(function(){return this.Eb.Pb(this.qh,a).oa()},this))[z](J(function(){this.Ze(b);return b},this),J(function(b){a.Jb();throw b;},this))});H.Z=G("qh");H.fa=G("Of");H.Yc=G("bc");H.da=function(){return Ub(this)};H.Ze=Hb();
function Ne(a,b){Me[r](this,a,b);this.Hb=a.o(Kd)}K(Ne,Me);Ea(Ne[t],Jb(0));Ne[t].Ze=function(a){this.Zd[F](function(b,c){this.Hb.sh(b,a[c])},this)};
function Oe(a,b){this.m=a;this.Hb=a.o(Kd);this.Ya=a.o(Jd);this.Pd=new Xd(a);this.Db=b;var c=a.o(Ld),d=this.Db.map(function(a){return c[h](a[u]())});this.ra=new O(d);this.bc=$c()}H=Oe[t];na(H,function(){this.Pd[Va](this.Db);this.kd();return Vc()});H.Z=Jb(1);H.fa=G("ra");H.Yc=G("bc");H.da=function(){return Ub(this)};Ea(H,Jb(1));H.kd=function(){var a=this.Hb.Ke(this.ra.f());0!=a[C]&&(a=new Ne(this.m,a),this.Ya.cc(a))};
function Pe(a){this.m=a;this.Eb=a.o(Fd);this.Ya=a.o(Jd)}Pe[t].il=function(){this.Eb.subscribe(this.Xe[E](this))};Pe[t].Xe=function(a){a=new Oe(this.m,a);this.Ya.cc(a)};


function Q(a,b){this.Sa=a;this.j=b;this.hb=new N}I("lf.backstore.FirebaseRawBackStore",Q,void 0);H=Q[t];H.Kd=G("j");H.Ld=function(){throw new P(351);};function Qe(a,b){var c=$c(),d=a;b[C]&&(d=a[kb](b));d[Ha]("value",function(a){c[Eb](a.val())},function(a){c[La](a)});return c.ga}function Re(a,b,c){function d(a){a?g[La](a):g[Eb]()}c=c||!1;var g=$c();c?a.set(b,d):a[Va](b,d);return g.ga}
H.Ga=function(a){return Qe(this.j,"@rev/R")[z](function(a){this.Xa=a;return Qe(this.j,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.hb.set(d,b[d]),b[d]>c&&(c=b[d]);a.Za()[F](function(a){this.hb.A(a[u]())||(b[a[u]()]=++c)},this);d=this.j[kb]("@table");return Re(d,b)}[E](this))};
H.ge=function(a,b){var c=this.hb.get(a);return null!=c?function(){var a={},g=$c();this.j[bb]("T").equalTo(c)[Ha]("value",function(c){c[F](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Eb](a)});return g.ga}[r](this)[z](function(a){a["@rev"]={R:++this.Xa};return Re(this.j,a)}[E](this)):Vc()};H.Oc=function(a){return this.ge(a,Jb(null))[z](function(){this.hb[x](a);return Re(this.j[kb]("@table/"+a),null,!0)}[E](this))};Q[t].dropTable=Q[t].Oc;
Q[t].Gc=function(a,b,c){return this.ge(a,function(a){var g=a.P;g[b]=c;return{R:this.Xa+1,T:a.T,P:g}}[E](this))};Q[t].addTableColumn=Q[t].Gc;Q[t].Pc=function(a,b){return this.ge(a,function(a){var d=a.P;delete d[b];return{R:this.Xa+1,T:a.T,P:d}}[E](this))};Q[t].dropTableColumn=Q[t].Pc;Q[t].jd=function(a,b,c){return this.ge(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Xa+1,T:a.T,P:g}}[E](this))};Q[t].renameTableColumn=Q[t].jd;Q[t].Fb=function(){throw new P(351);};Q[t].createRow=Q[t].Fb;
Q[t].ad=G("Sa");Q[t].getVersion=Q[t].ad;Q[t].qc=function(a){var b=$c();a=this.hb.get(a);this.j[bb]("T").equalTo(a)[Ha]("value",function(a){var d=[];a[F](function(a){d[y](a.val().P)});b[Eb](d)});return b.ga};la(Q[t],function(){var a={},b=this.hb.V().map(function(b){return this.qc(b)[z](function(d){a[b]=d})}[E](this));return Zc(b)[z](function(){return a})});la(Q[t],Q[t].dump);
function Se(a,b,c){nd[r](this,c,b);this.j=a}K(Se,nd);Se[t].L=function(a){return this.j.Zc(a)};
Se[t].Lc=function(){var a=this.zj().cg();if(0==a.ta())this.aa[Eb]();else{var b=this.j.Lj()+1;this.j.gh(b);var c={"@rev":{R:b}};a[F](function(a){var g=this.j.jg(a[u]());a.Uc()[F](function(a,d){c[d]={R:b,T:g,P:a.w()}});a.Xc()[F](function(a,d){c[d]={R:b,T:g,P:a[1].w()}});a.Vc()[F](function(a,b){c[b]=null})},this);this.j.Ij()[Va](c,function(c){if(null===c)this.aa[Eb]();else this.j.gh(b-1),c=a.f().map(function(a){return this.j.Wg(a[u]())},this),Zc(c)[z](this.aa[La][E](this.aa),this.aa[La][E](this.aa))}[E](this))}return this.aa.ga};
function Te(){this.ub=new Bd}H=Te[t];H.Je=function(a){if(0==a[C])return Dd(this.ub);var b=[];a[F](function(a){a=this.ub.get(a)||null;null===a||b[y](a)},this);return b};H.getData=G("ub");H.get=function(a){return Vc(this.Je(a))};H.cf=function(a){a[F](function(a){this.ub.set(a.id(),a)},this)};H.put=function(a){this.cf(a);return Vc()};H.Xg=function(a){0==a[C]||a[C]==this.ub[Gb]?this.ub[cb]():a[F](function(a){this.ub[Ya](a)},this)};wa(H,function(a){this.Xg(a);return Vc()});
H.Aj=function(){return 0==this.ub[Gb]?0:Cd(this.ub)[Ka](function(a,b){return a>b?a:b},0)};
function Ue(a,b){this.s=a;this.Ch=b;this.hd=new N;this.Xa=-1;this.G=new N;this.hb=new N;this.oe=null}H=Ue[t];H.Lj=G("Xa");H.gh=Ib("Xa");
H.Ga=function(a){this.j=this.Ch[kb](this.s[q]());var b=a||function(){return Vc()};return Qe(this.j,"@db/version")[z](function(a){return null===a?Re(this.j,this.ti(),!0)[z](function(){var a=new Q(0,this.j);return b(a)}[E](this)):a==this.s[vb]()?Qe(this.j,"@rev/R")[z](function(a){this.Xa=a;return Qe(this.j,"@table")}[E](this))[z](function(a){for(var b in a)this.hb.set(b,a[b]);a=this.s.Za().map(function(a){return this.Wg(a[u]())},this);return Zc(a)}[E](this))[z](function(){this.ck();this.Gg();return Vc()}[E](this)):
this.$e(a,b)[z](function(){return this.Ga()}[E](this))}[E](this))};H.$e=function(a,b){var c=new Q(a,this.j);return c.Ga(this.s)[z](function(){return this.sl()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.j[kb]("@db");return Re(a,{version:this.s[vb]()},!0)}[E](this))};H.sl=function(){return Vc()};H.Gg=function(){this.j.off();this.j.on("child_removed",this.Bk[E](this));this.pe&&(this.pe.off(),this.hd[cb]());this.pe=this.j[bb]("R").startAt(this.Xa+1);this.pe.on("value",this.Xe[E](this))};
H.ck=function(){gd=this.G.f().map(function(a){return a.Aj()})[Ka](function(a,b){return a>b?a:b},0)+1};H.Bk=function(a){var b=a.val(),c=this.hd.get(b.T,null);null===c&&(c=new O,this.hd.set(b.T,c));c.add(da(a.key(),10))};H.Xe=function(a){var b=a[kb]("@rev/R").val();null!=b&&b!=this.Xa&&(this.Xa=b,a=this.hj(a),a[F](function(a){var b=this.G.get(a[u]()),g=a.Vc().V();g[C]&&b.Xg(g);var k=a.Uc().f();a.Xc()[F](function(a){k[y](a[1])});b.cf(k)},this),a[C]&&this.fd(a),this.Gg())};
H.hj=function(a){var b=new O,c=new N;this.hb[F](function(a,g){var k=this.G.get(g),l=new ee(g);if(this.hd.A(a)){var p=this.hd.get(a).f();b[hb](p);k.Je(p)[F](function(a){l[Ya](a)})}c.set(a,l)}[E](this));a[F](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b[ub](g)){a=a.val();var k=c.get(a.T),l=this.G.get(k[u]());l.getData().A(g)?k.modify([l.Je([g])[0],new fd(g,a.P)]):k.add(new fd(g,a.P))}}}[E](this));return c.f()[Ga](function(a){return!a.La()})};
H.Wg=function(a){var b=$c(),c=this.jg(a);this.j[bb]("T").equalTo(c)[Ha]("value",function(c){var g=new Te,k=[];c[F](function(a){k[y](new fd(da(a.key(),10),a.val().P))});g.cf(k);this.G.set(a,g);b[Eb]()}[E](this));return b.ga};H.jg=function(a){return this.hb.get(a)};H.ti=function(){var a={};a["@db"]={version:this.s[vb]()};a["@rev"]={R:1};this.Xa=1;a["@table"]={};this.s.Za()[F](function(b,c){var d=b[u]();a["@table"][d]=c;this.G.set(d,new Te);this.hb.set(d,c)},this);return a};
H.Pb=function(a,b){return new Se(this,a,b)};H.Zc=function(a){var b=this.G.get(a,null);if(null!==b)return b;throw new P(101,a);};H.Ij=G("j");pa(H,Hb());Ca(H,Ib("oe"));H.fd=function(a){null!=this.oe&&this.oe(a)};
function R(a,b,c,d){this.j=b;this.Ra=c;this.Sa=a;this.sd=d}I("lf.backstore.IndexedDBRawBackStore",R,void 0);R[t].Kd=G("j");R[t].getRawDBInstance=R[t].Kd;R[t].Ld=G("Ra");R[t].getRawTransaction=R[t].Ld;R[t].Oc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[t].dropTable=R[t].Oc;
R[t].Fk=function(a,b,c){return new M(function(d,g){var k;try{var l=this.Ra[wb](a);k=l[Fa]()}catch(p){g(p);return}ta(k,function(){var a=k[Fb];a?(b(a),a[gb]()):(c(l),d())});za(k,g)},this)};function Ve(a){var b=null;return b=a instanceof ArrayBuffer?jd(a):a instanceof Date?a[Db]():a}R[t].qf=function(a,b){function c(a){var c=Sd(a[w]),d=c.uc(),p;for(p in d){var v=hd(d[p]);b(v);d[p]=v.Ja()}a[Va](c.Ja())}function d(a){var c=hd(a[w]);b(c);a[Va](c.Ja())}return this.Fk(a,this.sd?c:d,Hb())};
R[t].Gc=function(a,b,c){var d=Ve(c);return this.qf(a,function(a){a.w()[b]=d})};R[t].addTableColumn=R[t].Gc;R[t].Pc=function(a,b){return this.qf(a,function(a){delete a.w()[b]})};R[t].dropTableColumn=R[t].Pc;R[t].jd=function(a,b,c){return this.qf(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};R[t].renameTableColumn=R[t].jd;
R[t].Pj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Ra[wb](a)[Fa]()}catch(k){d(k);return}ta(g,J(function(){var a=g[Fb];if(a){if(this.sd){var d=Sd(a[w]).uc(),k;for(k in d)b[y](d[k])}else b[y](a[w]);a[gb]()}else c(b)},this));za(g,d)},this)};R[t].Fb=function(a){var b={};yc(a,J(function(a,d){b[d]=Ve(a)},this));return id(b)};R[t].createRow=R[t].Fb;R[t].ad=G("Sa");R[t].getVersion=R[t].ad;
la(R[t],function(){for(var a=this.j[Ia],b=[],c=0;c<a[C];++c){var d=a[Na](c);b[y](this.qc(d))}return Zc(b)[z](function(b){var c={};b[F](function(b,d){c[a[Na](d)]=b});return c})});la(R[t],R[t].dump);R[t].qc=function(a){return this.Pj(a)[z](function(a){return a.map(function(a){return a[w]})})};
function We(a,b){this.W=a;this.Qb=b}H=We[t];H.get=function(a){if(0==a[C])return this.Ce();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.W.get(a)}catch(k){d(k);return}za(g,d);ta(g,J(function(a){c(this.Qb(a[Pa][Fb]))},this))},this)},this);return Zc(a)};H.Ce=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Fa]()}catch(g){b(g);return}za(d,b);ta(d,J(function(){var b=d[Fb];b?(c[y](this.Qb(b[w])),b[gb]()):a(c)},this))},this)};
H.Zb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}ta(d,b);za(d,c)},this)};H.put=function(a){if(0==a[C])return Vc();a=a.map(function(a){return this.Zb(J(function(){return this.W.put(a.Ja())},this))},this);return Zc(a)};
wa(H,function(a){return new M(function(b,c){var d=this.W.count();ta(d,J(function(d){if(0==a[C]||d[Pa][Fb]==a[C])return this.Zb(J(function(){return this.W[cb]()},this))[z](b,c);d=a.map(function(a){return this.Zb(J(function(){return this.W[Ya](a)},this))},this);Zc(d)[z](b,c)},this));za(d,c)},this)});
function Xe(a,b,c,d,g){nd[r](this,c,d);this.m=a;this.Ra=b;this.sd=g;this.Ra.oncomplete=J(this.aa[Eb],this.aa);this.Ra.onabort=J(this.aa[La],this.aa)}K(Xe,nd);Xe[t].L=function(a,b,c){return this.sd?(c=null!=c?c:0,a=this.Ra[wb](a),new Td(a,b,0==c?Zb(Ud,this.m):Vd)):new We(this.Ra[wb](a),b)};Xe[t].Lc=function(){return this.aa.ga};
function Ye(a,b){this.m=a;this.s=b;this.td=b.Sg().Fi||!1}H=Ye[t];H.Ga=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Vc()};return new M(function(a,g){var k;try{k=b.open(this.s[q](),this.s[vb]())}catch(l){g(l);return}za(k,g);k.onupgradeneeded=J(function(a){this.Ek(c,a)[z](Hb(),g)},this);ta(k,J(function(b){this.j=b[Pa][Fb];this.kf()[z](J(function(b){gd=b+1;a(this.j)},this))},this))},this)};
H.Ek=function(a,b){var c=b[Pa][Fb],d=b[Pa][mb],g=new R(b.oldVersion,c,d,this.td);this.Uk(c,d);this.yi(c,d);return a(g)};H.Uk=function(a){for(var b=[],c=0;c<a[Ia][C];++c){var d=a[Ia][Na](c);-1!=d[$a](".")&&b[y](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.yi=function(a,b){this.s.Za()[F](Zb(this.vi,a,b),this)};H.vi=function(a,b,c){a[Ia][ub](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.$b()&&(c.Fa()[F](function(c){this.Nc(a,b,c.l(),"btree")},this),this.Nc(a,b,c.Rb(),"rowid"))};
H.Nc=function(a,b,c,d){a[Ia][ub](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[wb](c),(this.td?new Td(a,hd,Vd):new We(a,hd)).put([new ld(new kd(d))]))};H.Pb=function(a,b){var c=b.fa().f().map(function(a){return a[u]()});b.xj()[F](function(a){c[y](a)});var d=this.j[mb](c,0==a?"readonly":"readwrite");return new Xe(this.m,d,b,a,this.td)};
H.kf=function(a){function b(){if(0==c[C])return Vc();var a=c[sb]();return l(a)[z](b)}var c=this.s.Za().map(function(a){return a[u]()}),d=this.j,g=0,k=J(function(a){return this.td?(a=Sd(a[w]),Bc(a.uc())[Ka](function(a,b){return ba.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var jb;try{jb=(a||d[mb]([b]))[wb](b)[Fa](null,"prev")}catch(rb){l(rb);return}ta(jb,function(a){(a=a[Pa][Fb])&&(g=ba.max(g,k(a)));c(g)});za(jb,function(){c(g)})},this)},this);return new M(function(a){b()[z](function(){a(g)})})};
pa(H,function(){this.j[Ra]()});H.Zc=function(){throw new P(511);};Ca(H,Hb());H.fd=Hb();



function Ze(a,b,c){nd[r](this,c,b);this.W=a;0==b&&this.aa[Eb]()}K(Ze,nd);Ze[t].L=function(a){return this.W.Zc(a)};Ze[t].Lc=function(){this.aa[Eb]();return this.aa.ga};
function $e(a){this.s=a;this.G=new Bd}H=$e[t];H.Ga=function(){this.s.Za()[F](this.dk,this);return Vc()};H.Zc=function(a){var b=this.G.get(a)||null;if(null===b)throw new P(101,a);return b};H.Pb=function(a,b){return new Ze(this,a,b)};H.Qf=function(a){if(!this.G.has(a)){var b=new Te;this.G.set(a,b);return b}return null};H.dk=function(a){this.Qf(a[u]());a.$b()&&(a.Fa()[F](function(a){this.Nc(a.l(),"btree")},this),this.Nc(a.Rb(),"rowid"))};H.Nc=function(a,b){var c=this.Qf(a);null===c||c.put([new ld(new kd(b))])};
pa(H,Hb());Ca(H,Hb());H.fd=Hb();
function af(a){$e[r](this,a);this.Ud=null}K(af,$e);Ca(af[t],function(a){null===this.Ud&&(this.Ud=a)});af[t].fd=function(a){null===this.Ud||this.Ud(a)};
function bf(a,b,c){this.Ra=a;this.B=b;this.Qb=c}bf[t].get=function(a){var b=this.Qb;this.Ra.Pa("SELECT id, value FROM "+this.B+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Bb][C],g=e(d),k=0;k<d;++k)g[k]=b({id:a[Bb][Na](k).id,value:JSON.parse(a[Bb][Na](k)[w])});return g});return this.Ra.oa()};
bf[t].put=function(a){if(0==a[C])return Vc();var b="INSERT OR REPLACE INTO "+this.B+"(id, value) VALUES (?, ?)";a[F](function(a){this.Ra.Pa(b,[a.id(),JSON.stringify(a.w())])},this);return Vc()};wa(bf[t],function(a){this.Ra.Pa("DELETE FROM "+this.B+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Vc()});
function cf(a,b,c){nd[r](this,b,c);this.j=a;this.G=new Bd;this.ve=[]}K(cf,nd);cf[t].L=function(a,b){var c=this.G.get(a)||null;null===c&&(c=new bf(this,a,b),this.G.set(a,c));return c};cf[t].Pa=function(a,b,c){this.ve[y]({jl:a,Gk:b,transform:c})};
cf[t].Lc=function(){var a,b,c=this.aa[La][E](this.aa),d=function(a,b){this.aa[La](b)}[E](this),g=J(function(c,l){a=l;if(this.ve[C]){var p=this.ve[sb]();b=p.transform;c.executeSql(p.jl,p.Gk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.aa[Eb](p)},this);0==this.ph?this.j.readTransaction(g,c):this.j[mb](g,c);return this.aa.ga};
function S(a,b,c){this.j=c;this.m=a;this.Sa=b}I("lf.backstore.WebSqlRawBackStore",S,void 0);S[t].Kd=G("j");S[t].getRawDBInstance=S[t].Kd;S[t].Ld=function(){throw new P(356);};S[t].getRawTransaction=S[t].Ld;S[t].Ad=function(){return new cf(this.j,new fe(this.m,[]),1)};S[t].Oc=function(a){var b=this.Ad();b.Pa("DROP TABLE "+a,[]);return b.oa()};S[t].dropTable=S[t].Oc;
S[t].qc=function(a){var b=this.Ad();b.Pa("SELECT id, value FROM "+a,[]);return b.oa()[z](function(a){for(var b=a[Bb][C],g=e(b),k=0;k<b;++k)g[k]={id:a[Bb][Na](k).id,value:JSON.parse(a[Bb][Na](k)[w])};return Vc(g)})};S[t].pf=function(a,b){var c=this.Ad(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.qc(a)[z](function(a){a[F](function(a){a=b(a);c.Pa(d,[JSON.stringify(a[w]),a.id])});return c.oa()})};S[t].Gc=function(a,b,c){var d=Ve(c);return this.pf(a,function(a){a[w][b]=d;return a})};
S[t].addTableColumn=S[t].Gc;S[t].Pc=function(a,b){return this.pf(a,function(a){delete a[w][b];return a})};S[t].dropTableColumn=S[t].Pc;S[t].jd=function(a,b,c){return this.pf(a,function(a){a[w][c]=a[w][b];delete a[w][b];return a})};S[t].renameTableColumn=S[t].jd;S[t].Fb=function(a){var b={},c;for(c in a)b[c]=Ve(a[c]);return id(b)};S[t].createRow=S[t].Fb;S[t].ad=G("Sa");S[t].getVersion=S[t].ad;
function df(a){a.Pa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Bb][C]),d=0;d<c[C];++d)c[d]=a[Bb][Na](d).tbl_name;return c})}la(S[t],function(){var a=$c(),b=this.Ad();df(b);var c={};b.oa()[z](J(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.qc(a)[z](function(b){c[a]=b})},this);Zc(b)[z](function(){a[Eb](c)})},this));return a.ga});la(S[t],S[t].dump);
function ef(a,b,c){this.m=a;this.s=b;this.fl=c||4194304}H=ef[t];H.Ed=function(){return new fe(this.m,[])};H.Ga=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Vc()};return new M(J(function(a,d){try{var g=ca.openDatabase(this.s[q](),"",this.s[q](),this.fl);if(null!=g)this.j=g,this.ji(b)[z](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.ji=function(a){var b=$c(),c=new cf(this.j,this.Ed(),1);c.Pa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Pa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.oa()[z](J(function(c){var g=0;c[Bb][C]&&(g=c[Bb][Na](0).v);g<this.s[vb]()?this.$e(a,g)[z](b[Eb][E](b)):g>this.s[vb]()?b[La](new P(108)):b[Eb]()},this));return b.ga};H.Pb=function(a,b){if(null!=this.j)return new cf(this.j,b,a);throw new P(2);};pa(H,Hb());H.Zc=function(){throw new P(512);};
H.Jg=function(){throw new P(355);};Ca(H,function(){this.Jg()});H.fd=function(){this.Jg()};H.$e=function(a,b){var c=$c();this.Jk()[z](J(function(){a(new S(this.m,b,this.j))[z](J(function(){return this.kf()},this))[z](c[Eb][E](c))},this),c[La][E](c));return c.ga};
H.Jk=function(){var a=this.s.Za(),b=new cf(this.j,this.Ed(),1),c=new cf(this.j,this.Ed(),1);b.Pa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[vb]()]);df(b);return b.oa()[z](function(b){b[Ga](function(a){return-1!=a[$a](".")})[F](function(a){c.Pa("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[$a](".")});a.map(function(a){return a[u]()})[Ga](function(a){return-1==g[$a](a)})[F](function(a){c.Pa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.oa()})};
H.kf=function(){var a=0,b=$c(),c=J(function(b){var c=new cf(this.j,this.Ed(),0);c.Pa("SELECT MAX(id) FROM "+b,[]);return c.oa()[z](function(b){b=b[Bb][Na](0)[0];a=ba.max(b,a)})},this),d=this.s.Za().map(function(a){return c(a[u]())});Zc(d)[z](function(){b[Eb](a)},function(a){b[La](a)});return b.ga};

function ff(a){this.dc=new O(a);aa.defineProperty(this,"size",{get:function(){return this.dc.ta()}})}ff[t].add=function(a){this.dc.add(a)};ff[t].add=ff[t].add;ua(ff[t],function(){this.dc[cb]()});ua(ff[t],ff[t][cb]);sa(ff[t],function(a){return this.dc[x](a)});ff[t]["delete"]=ff[t][Ya];Da(ff[t],function(a,b){this.dc.f()[F](a,b)});ff[t].has=function(a){return this.dc[ub](a)};ff[t].has=ff[t].has;var gf=ca.Set&&ca.Set[t][db]&&ca.Set[t][F]?ca.Set:ff;
function hf(a){if(a instanceof ff)return a.dc.f();var b=0,c=e(a[Gb]);a[F](function(a){c[b++]=a});return c};
function jf(){this.g=new Bd;this.lh=new Bd}H=jf[t];H.Md=function(a){var b=this.lh.get(a);Lb(b)||(b=new gf,this.lh.set(a,b));return b};H.set=function(a,b){var c=this.Md(a);b[F](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.mb=function(a,b,c){var d=[],g=ba.min(b,c),k=ba.max(b,c);a=this.Md(a);if(a[Gb]<k-g)a[F](function(a){a>=g&&a<=k&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[y](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[y](c));return d};wa(H,function(a,b){var c=this.Md(a);b[F](function(a){this.g[Ya](a);c[Ya](a)},this)});H.ta=function(a){return null!=a?this.Md(a)[Gb]:this.g[Gb]};
function kf(a,b,c,d){a=b?a[fb]():a;if(null==c&&null==d)return a;c=ba.min(Lb(c)?c:a[C],a[C]);if(0==c)return[];d=ba.min(d||0,a[C]);return a[n](d,d+c)};
function mf(){this.sb=0}mf[t].add=function(a,b){this.sb+=b||1};wa(mf[t],function(a,b){this.sb-=b});ua(mf[t],function(){this.sb=0});mf[t].rl=function(a){this[cb]();a[F](function(a){this.sb+=a.sb},this)};
function nf(a,b,c,d){this.B=a;this.S=b;this.sf=c;this.Bc=new mf;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=of(this,d);this.wa=d=pf(d)}else this[cb]()}var qf=[];H=nf[t];oa(H,G("B"));f(H,function(){return this.wa[D]()});H.add=function(a,b){this.wa=this.wa.Ab(a,b);this.Bc.add(a)};H.set=function(a,b){this.wa=this.wa.Ab(a,b,!0)};wa(H,function(a,b){this.wa=this.wa[x](a,b)});H.get=function(a){return this.wa.get(a)};
H.zd=function(a){if(null==a)return this.Lb().sb;if(a instanceof ge){if(a.gk())return this.Lb().sb;if(a.vg())return this.get(a.c)[C]}return this.mb([a])[C]};H.Lb=G("Bc");H.mb=function(a,b,c,d){var g=this.wa.Hd().b[0];if(!Lb(g)||0==c)return qf;var k=(c||0)+(d||0),k=0<k&&!b?k:Number.POSITIVE_INFINITY,l=[];(Lb(a)?this.S.jh(a):[this.S.Be()])[F](function(a){for(var b=this.S.$d(a),b=this.S.Pe(a)?g:b[0],b=this.wa.bg(b),c=0;null!=b&&l[C]<k;)0!=b.mb(a,l)?c=0:c++,b=2==c?null:b[qb]()},this);return kf(l,b,c,d)};
ua(H,function(){this.wa=rf(this);this.Bc[cb]()});H.A=function(a){return this.wa.A(a)};H.min=function(){return this.ed(J(this.S.min,this.S))};H.max=function(){return this.ed(J(this.S.max,this.S))};H.ed=function(a){var b=this.wa.Hd(),c=this.wa.ig();if(0==b.b[C]&&0==c.b[C])return[null,null];var d=b.b[0],b=b.O[0],g=c.b[c.b[C]-1],c=c.O[c.b[C]-1];return 1==a(d,g)?[d,this.sf?[b]:b]:[g,this.sf?[c]:c]};H.cb=G("sf");H.Mc=G("S");H.Ue=function(a,b){return null!=a?-1==this.S[zb](a,b):!1};
H.Ua=function(a,b){return null!=a?0==this.S[zb](a,b):!1};H.Ja=function(){for(var a=[],b=this.wa.Hd();b;)a[y](new fd(b.za,[b.b,b.O])),b=b.Aa;return a};function sf(a,b,c,d){a=new nf(b,a,c);d=tf(d,a);a.wa=d;return a}function uf(a,b){this.za=a;this.I=b;this.ob=0;this.Aa=this.Bb=this.D=null;this.b=[];this.O=[];this.i=[]}function rf(a){return new uf(gd++,a)}H=uf[t];H.ma=function(){return 0==this.ob};H.zg=function(){return null==this.D};ya(H,G("Aa"));
function vf(a){function b(a){return null!=a?a.za[D]():"_"}var c=a.za+"["+a.b[m]("|")+"]",d=a.i.map(function(a){return a.za})[m]("|"),g=a.O[m]("/"),k=b(a.Bb)+"{",k=a.ma()?k+g:k+d,k=k+"}"+b(a.D);a.Aa&&(a=vf(a.Aa),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=vf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[C]&&(a+=this.i[0][D]());return a});H.Hd=function(){return this.ma()?this:this.i[0].Hd()};H.ig=function(){return this.ma()?this:this.i[this.i[C]-1].ig()};
function wf(a,b){b&&(b.Bb=a);a&&(a.Aa=b)}function of(a,b){for(var c=b[C],d=0,g=rf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.b=p.map(function(a){return a.key});g.O=p.map(function(a){return a[w]});d+=l;c-=l;0<c&&(l=rf(g.I),wf(g,l),g=l)}return k}function xf(a){var b=a[0],c=rf(b.I);c.ob=b.ob+1;c.i=a;for(b=0;b<a[C];++b)a[b].D=c,0<b&&c.b[y](a[b].b[0]);return c}
function pf(a){var b=a,c=[];do c[y](b),b=b.Aa;while(b);if(512>=c[C])b=xf(c);else{var d=c[C],g=0,b=rf(a.I);for(b.ob=a.ob+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[n](g,g+a),l=xf(k);l.D=b;b.i[C]&&(b.b[y](k[0].b[0]),wf(b.i[b.i[C]-1],l));b.i[y](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.ld(a);if(this.ma()){var c=qf;this.I.Ua(this.b[b],a)&&(c=c[Sa](this.O[b]));return c}b=this.I.Ua(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.A=function(a){var b=this.ld(a);return this.I.Ua(this.b[b],a)?!0:this.ma()?!1:this.i[b].A(a)};wa(H,function(a,b){this.Tf(a,-1,b);if(this.zg()){var c=this;1==this.i[C]&&(c=this.i[0],c.D=null);return c}return this});function yf(a){return a.ma()?a.b[0]:yf(a.i[0])}H.Cd=function(){this.b=[];for(var a=1;a<this.i[C];++a)this.b[y](yf(this.i[a]))};
H.Tf=function(a,b,c){var d=this.ld(a),g=this.ma();if(!g){var k=this.I.Ua(this.b[d],a)?d+1:d;if(this.i[k].Tf(a,k,c))this.Cd();else return!1}else if(!this.I.Ua(this.b[d],a))return!1;if(this.b[C]>d&&this.I.Ua(this.b[d],a)){if(Lb(c)&&!this.I.cb()&&g&&(k=this.O[d],c=tc(k,uc,!1,c),0<=c&&nc(k,c)&&this.I.Lb()[x](a,1),this.O[d][C]))return!1;this.b[A](d,1);g&&(g=this.I.cb()?1:this.O[d][C],this.O[A](d,1),this.I.Lb()[x](a,g))}256>this.b[C]&&!this.zg()&&(this.kl()||this.xk(b));return!0};
H.kl=function(){var a=null,b,c,d;if(this.Aa&&256<this.Aa.b[C])a=this.Aa,c=b=0,d=this.b[C]+1;else if(this.Bb&&256<this.Bb.b[C])a=this.Bb,b=this.Bb.b[C]-1,c=this.ma()?b:b+1,d=0;else return!1;this.b[A](d,0,a.b[b]);a.b[A](b,1);b=this.ma()?this.O:this.i;var g=null;this.ma()?g=a.O:(g=a.i,g[c].D=this);b[A](d,0,g[c]);g[A](c,1);a.ma()||(a.Cd(),this.Cd());return!0};
H.xk=function(a){var b,c,d;this.Aa&&511>this.Aa.b[C]?(b=this.Aa,d=c=0):this.Bb&&(b=this.Bb,c=b.b[C],d=b.ma()?b.O[C]:b.i[C]);c=[c,0][Sa](this.b);e[t][A][xb](b.b,c);c=null;this.ma()?c=this.O:(c=this.i,c[F](function(a){a.D=b}));c=[d,0][Sa](c);e[t][A][xb](b.ma()?b.O:b.i,c);wf(this.Bb,this.Aa);b.ma()||b.Cd();-1!=a&&(this.D.b[A](a,1),this.D.i[A](a,1))};
H.Ab=function(a,b,c){var d=this.ld(a);if(this.ma()){if(this.I.Ua(this.b[d],a)){if(c)return this.O[d]=this.I.cb()?b:[b],this;if(this.I.cb())throw new P(201);if(this.O[d])return vc(this.O[d],b),this;this.O[d]=[b]}this.b[A](d,0,a);this.O[A](d,0,this.I.cb()?b:[b]);return 512==this.b[C]?this.hl():this}d=this.I.Ua(this.b[d],a)?d+1:d;a=this.i[d].Ab(a,b,c);a.ma()||1!=a.b[C]||(this.b[A](d,0,a.b[0]),a.i[1].D=this,a.i[0].D=this,this.i[A](d,1,a.i[1]),this.i[A](d,0,a.i[0]));return 512==this.b[C]?this.gl():this};
H.hl=function(){var a=rf(this.I),b=rf(this.I);b.ob=1;b.b=[this.b[256]];b.i=[this,a];b.D=this.D;this.D=b;a.b=this.b[A](256);a.O=this.O[A](256);a.D=b;wf(a,this.Aa);wf(this,a);return b};H.gl=function(){var a=rf(this.I),b=rf(this.I);a.D=this.D;a.ob=this.ob+1;a.b=[this.b[256]];a.i=[this,b];this.b[A](256,1);b.D=a;b.ob=this.ob;b.b=this.b[A](256);b.i=this.i[A](257);b.i[F](function(a){a.D=b});this.D=a;wf(b,this.Aa);wf(this,b);return a};
H.ld=function(a){for(var b=0,c=this.b[C];b<c;){var d=b+c>>1;this.I.Ue(this.b[d],a)?b=d+1:c=d}return b};H.bg=function(a){if(!this.ma()){var b=this.ld(a);this.I.Ua(this.b[b],a)&&b++;return this.i[b].bg(a)}return this};
H.mb=function(a,b){function c(b,d){if(b>=d)return b;var p=k(l.tb(ha[d],a));if(0==p)return d;if(-1==p)return b;p=g(b,d);if(p==d)return b;var v=k(l.tb(ha[p],a));return 0==v?c(p,d):1==v?c(b,p-1):-1}function d(b,c,p){if(b>=c)return 0==p?c:-1;var v=k(l.tb(ha[b],a));if(0==v)return b;if(1==v)return-1;v=g(b,c);if(v==c)return 0==p?c:-1;var rb=k(l.tb(ha[v],a));return 0==rb?d(b,v,rb):-1==rb?d(v+1,c,p):d(b+1,v,rb)}function g(a,b){var c=a+b>>1;return c==a?c+1:c}function k(a){return a[0]?a[1]?0:1:-1}var l=this.I.Mc(),
p=0,v=this.b[C]-1,ha=this.b,jb=k(l.tb(ha[p],a)),rb=k(l.tb(ha[v],a));if(1==jb||-1==jb&&-1==rb)return 0;0!=jb&&(p=d(p+1,v,rb));if(-1==p)return 0;v=c(p,v);return-1==v||v<p?0:this.Eh(b,this.O[n](p,v+1))};H.Eh=function(a,b){var c=this.I.cb()?b:xc(b);a[y][xb](a,c);return c[C]};function tf(a,b){for(var c=b.Lb(),d=a.map(function(a){var d=new uf(a.id(),b);d.b=a.w()[0];d.O=a.w()[1];d.b[F](function(a,g){c.add(a,b.cb()?1:d.O[g][C])});return d}),g=0;g<d[C]-1;++g)wf(d[g],d[g+1]);return 1<d[C]?pf(d[0]):d[0]};
function zf(a){if(1==a.h[C])return new Af(a.h[0].pb);a=a.h.map(function(a){return a.pb});return new Bf(a)}function Af(a){this.xd=0==a?Cf:Df;this.Ve=0==a?function(a){return null!=a?a[fb]():null}:function(a){return a||null};this.Ng=0==a?Ef:Ff}K(Af,Wd);function Df(a,b){return a>b?1:a<b?-1:0}function Cf(a,b){return Df(b,a)}function Ff(a,b){return je(a,b)}function Ef(a,b){return je(b,a)}H=Af[t];
H.tb=function(a,b){var c=this.Ve(b),d=[null===c.c,null===c.u];if(!d[0]){var g=this.xd(a,c.c);d[0]=c.Y?1==g:-1!=g}d[1]||(g=this.xd(a,c.u),d[1]=c.ba?-1==g:1!=g);return d};H.compare=function(a,b){return this.xd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Oe=function(a,b){var c=this.tb(a,b);return c[0]&&c[1]};H.Be=function(){return ie()};H.Mg=function(a,b){return this.Ng(a,b)};
H.jh=function(a){return a[Ga](function(a){return null!==a})[Za](J(function(a,c){return this.Ng(a,c)},this))};H.Pe=function(a){return Pb(this.Ve(a).c)};H.$d=function(a){a=this.Ve(a);return[a.c,a.u]};f(H,function(){return this.xd==Cf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Bf(a){this.Ea=a.map(function(a){return new Af(a)})}K(Bf,Wd);H=Bf[t];H.Ae=function(a,b,c){for(var d=0,g=0;g<this.Ea[C]&&0==d;++g)d=c(this.Ea[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.Ae(a,b,function(a,b,g){return a[zb](b,g)})};H.min=function(a,b){return this.Ae(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.Ae(a,b,function(a,b,g){return a.max(b,g)})};H.tb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ea[C]&&(c[0]||c[1]);++d){var g=this.Ea[d].tb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.Oe=function(a,b){for(var c=!0,d=0;d<this.Ea[C]&&c;++d)c=this.Ea[d].Oe(a[d],b[d]);return c};H.Be=function(){return this.Ea.map(function(a){return a.Be()})};
H.jh=function(a){var b=a[Ga](function(a){return a[Ua](Qb)});a=e(this.Ea[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[Za](J(function(a,c){return this.Ea[b].Mg(a,c)},this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[Za](J(function(a,b){for(var c=0,l=0;l<this.Ea[C]&&0==c;++l)c=this.Ea[l].Mg(a[l],b[l]);return c},this))};H.Pe=function(a){return this.Ea[0].Pe(a[0])};
H.$d=function(a){var b=a.map(function(a,b){return this.Ea[b].$d(a)[0]},this);a=a.map(function(a,b){return this.Ea[b].$d(a)[1]},this);return[b,a]};
function Gf(a){this.qa=a;this.Oa=new O;this.ee=new mf;this.Bc=new mf}H=Gf[t];oa(H,function(){return this.qa[u]()});H.add=function(a,b){if(null===a){if(this.cb()&&!this.Oa.La())throw new P(201);this.Oa.add(b);this.ee.add(a)}else this.qa.add(a,b)};H.set=function(a,b){null===a?(this.Oa[cb](),this.Oa.add(b)):this.qa.set(a,b)};wa(H,function(a,b){if(null===a)b?(this.ee[x](a,1),this.Oa[x](b)):(this.ee[x](a,this.Oa.ta()),this.Oa[cb]());else this.qa[x](a,b)});
H.get=function(a){return null===a?this.Oa.f():this.qa.get(a)};H.zd=function(a){return this.qa.zd(a)};H.Lb=function(){this.Bc.rl([this.qa.Lb(),this.ee]);return this.Bc};H.mb=function(a,b,c,d){b=this.qa.mb(a,b,c,d);return null!=a?b:b[Sa](this.Oa.f())};ua(H,function(){this.Oa[cb]();this.qa[cb]()});H.A=function(a){return null===a?!this.Oa.La():this.qa.A(a)};H.min=function(){return this.qa.min()};H.max=function(){return this.qa.max()};H.Ja=function(){return[new fd(-2,this.Oa.f())][Sa](this.qa.Ja())};
H.Mc=function(){return this.qa.Mc()};H.cb=function(){return this.qa.cb()};
function Hf(a){this.B=a;this.Cb=new gf;this.S=new Af(1)}H=Hf[t];oa(H,G("B"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.Cb.add(a)};H.set=function(a,b){this.add(a,b)};wa(H,function(a){this.Cb[Ya](a)});H.get=function(a){return this.A(a)?[a]:[]};H.min=function(){return this.ed(J(this.S.min,this.S))};H.max=function(){return this.ed(J(this.S.max,this.S))};
H.ed=function(a){if(0==this.Cb[Gb])return[null,null];var b=hf(this.Cb)[Ka](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.zd=function(){return this.Cb[Gb]};H.mb=function(a,b,c,d){var g=a||[ie()];a=hf(this.Cb)[Ga](function(a){return g[ab](function(b){return this.S.Oe(a,b)},this)},this);return kf(a,b,c,d)};ua(H,function(){this.Cb[cb]()});H.A=function(a){return this.Cb.has(a)};H.Ja=function(){return[new fd(0,hf(this.Cb))]};H.Mc=G("S");
function If(a,b){var c=new Hf(a);b[0].w()[F](function(a){c.add(a,a)});return c}H.cb=Jb(!0);H.Lb=function(){throw new P(300);};
function Jf(a){this.m=a;this.Eb=a.o(Fd);this.H=a.o(Hd);this.sa=a.o(Gd)}H=Jf[t];H.Ga=function(a){var b=a.Za(),c=J(function(){if(0==b[C])return Vc();var a=b[sb]();return(a.$b()?this.Wi(a):this.Xi(a))[z](c)},this);return c()};H.Xi=function(a){var b=new fe(this.m,[a]);return this.Eb.Pb(0,b).L(a[u](),J(a.pc,a)).get([])[z](J(function(b){this.sa.set(a[u](),b);this.Pk(a,b)},this))};H.Pk=function(a,b){var c=this.H.Oj(a[u]());b[F](function(a){c[F](function(b){var c=a.Ub(b[u]());b.add(c,a.id())})})};
H.Wi=function(a){var b=new fe(this.m,[a]),c=this.Eb.Pb(0,b),b=c.L(a[u](),a.pc).get([])[z](J(function(b){this.sa.set(a[u](),b)},this)),d=a.Fa().map(function(a){return this.Qk(a,c)},this)[Sa](this.Rk(a,c));return Zc(d[Sa](b))};
H.Qk=function(a,b){var c=b.L(a.l(),hd,1),d=zf(a);return c.get([])[z](J(function(b){L("btree"==b[0].w().type);if(1<b[C]){if(a.ng()){var c=sf[E](void 0,d,a.l(),a.cd),l=b[n](1),p=-1;for(b=0;b<l[C];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new P(102);b=l[p].w();l=l[n](0);l[A](p,1);c=c(l);c=new Gf(c);c.Oa[hb](b)}else c=sf(d,a.l(),a.cd,b[n](1));this.H.set(c)}},this))};
H.Rk=function(a,b){return b.L(a.Rb(),hd,1).get([])[z](J(function(b){L("rowid"==b[0].w().type);1<b[C]&&(b=If(a.Rb(),b[n](1)),this.H.set(b))},this))};


function Kf(){this.W=new N}Kf[t].Ga=function(a){a.Za()[F](function(a){var c=a.Rb();if(null===this.get(c)){var d=new Hf(c);this.W.set(c,d)}a.Fa()[F](function(a){this.W.set(a.l(),Lf(a))},this)},this);return Vc()};function Lf(a){var b=zf(a),b=new nf(a.l(),b,a.cd);return a.ng()?new Gf(b):b}Kf[t].get=function(a){return this.W.get(a,null)};Kf[t].set=function(a){return this.W.set(a[u](),a)};Kf[t].Oj=function(a){var b=[],c=a+".";this.W.V()[F](function(a){0==a[$a](c)&&b[y](this.W.get(a))},this);return b};
function Mf(a){this.fb=[];Lb(a)&&this.add(a)}H=Mf[t];f(H,function(){return this.fb.map(function(a){return a[D]()})[m](",")});H.A=function(a){return this.fb[ab](function(b){return b[ub](a)})};H.f=G("fb");
H.add=function(a){if(0!=a[C])if(a=this.fb[Sa](a),1==a[C])this.fb=a;else{a[Za](je);for(var b=[],c=a[0],d=1;d<a[C];++d)if(c.Og(a[d])){var g=a[d],k=ie();if(null!==c.c&&null!==g.c){var l=he(c.c,g.c,!0);1!=l?(k.c=c.c,k.Y=0!=l?c.Y:c.Y&&g.Y):(k.c=g.c,k.Y=g.Y)}null!==c.u&&null!==g.u&&(l=he(c.u,g.u,!1),-1!=l?(k.u=c.u,k.ba=0!=l?c.ba:c.ba&&g.ba):(k.u=g.u,k.ba=g.ba));c=k}else b[y](c),c=a[d];b[y](c);this.fb=b}};
H.Qc=function(a){return this.fb[C]==a.fb[C]?0==this.fb[C]||this.fb[Ua](function(b,c){return b.Qc(a.fb[c])}):!1};function Nf(a,b){var c=[];a.f().map(function(a){return b.f().map(function(b){var c;if(a.Og(b)){c=ie();var l=he(a.c,b.c,!0),l=0==l?a.Y?a:b:-1!=l?a:b;c.c=l.c;c.Y=l.Y;null===a.u||null===b.u?b=null===a.u?b:a:(l=he(a.u,b.u,!1),b=0==l?a.ba?a:b:-1==l?a:b);c.u=b.u;c.ba=b.ba}else c=null;return c})})[F](function(a){c=c[Sa](a)});return new Mf(c[Ga](function(a){return null!==a}))};
function Of(a,b){var c=[],d=null,g=null;a.Cc(function(a){var l=b(a);null==a[Ab]()?g=l:d.ja(l);var p=a[Ab]();null!==p&&p.ya()==d.ya()&&(p=c[$a](d),-1!=p&&c[A](p,1));1<a.ya()&&c[y](l);d=a.tg()?c[c[C]-1]:l});return g}function Pf(a){return Qf(a,function(a){return a.tg()})}function Rf(a){var b=a[Ab](),c=0;null!==b&&(c=b.ca()[$a](a),b[ib](a));var d=a.ca()[n]();d[F](function(d,k){a[ib](d);null===b||b.Fc(d,c+k)});return{parent:b,children:d}}
function Sf(a,b){a.ca()[n]()[F](function(c){a[ib](c);b.ja(c)});a.ja(b)}function Tf(a){L(1==a.ya());var b=a.vb(0);L(1==b.ya());Rf(a);Sf(b,a);return b}function Uf(a,b,c){L(1==a.ya());var d=a.vb(0);L(1<d.ya());var g=d.ca()[n]();if(!g[ab](function(a){return b(a)}))return a;Rf(a);g[F](function(g,l){if(b(g)){var p=c(a);d.ae(l);p.ja(g);d.Fc(p,l)}});return d}function Vf(a,b,c,d){var g=a[Ab]();null!==g&&(a=g.ca()[$a](a),g.ae(a),g.Fc(c,a));b.ca()[n]()[F](function(a){b[ib](a);d.ja(a)});return c}
function Qf(a,b,c){function d(a){b(a)&&g[y](a);null!=c&&c(a)||a.ca()[F](d)}var g=[];d(a);return g}function Wf(a,b){var c=b||function(a){return a[D]()+"\n"},d="";a.Cc(function(a){for(var b=0;b<a.vj();b++)d+="-";d+=c(a)});return d};

function Xf(a){De[r](this);this.Xb=a;this.bb=!1}K(Xf,De);H=Xf[t];H.Ob=function(){return Of(this,function(a){if(a instanceof Xf){var b=new Xf(a.Xb);b.bb=a.bb;b.mf(a.da());return b}return a.Ob()}[E](this))};H.wb=function(a){var b=a||[];this.Cc(function(a){a!=this&&a.wb(b)}[E](this));return(new O(b)).f()};H.de=function(a){this.bb!=a&&(this.bb=a,this.Xb="and"==this.Xb?"or":"and",this.ca()[F](function(b){return b.de(a)}))};H.eval=function(a){var b=this.ca().map(function(b){return b.eval(a)});return this.mi(b)};
H.mi=function(a){return"and"==this.Xb?oe(a):pe(a)};f(H,function(){return"combined_pred_"+this.Xb[D]()});function Yf(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function Zf(){this[cb]()}var $f=aa[t][Xa],ag=aa[t][tb];H=Zf[t];H.set=function(a,b){this.qd(a);var c=!this.bd(a);this.g[a]=b;if("__proto__"==a||!bg&&!$f[r](this.g,a)){delete this.g[a];var d=hc(this.Kb,a);if(c=0>d)d=this.Kb[C];this.Kb[d]=a;this.be[d]=b}c&&this.$++};H.get=function(a,b){this.qd(a);if(this.bd(a))return this.g[a];var c=hc(this.Kb,a);return 0<=c?this.be[c]:b};
wa(H,function(a){this.qd(a);if(this.bd(a))return this.$--,delete this.g[a],!0;a=hc(this.Kb,a);return 0<=a?(this.$--,nc(this.Kb,a),nc(this.be,a),!0):!1});H.addAll=function(a){ic(a.V(),function(b){this.set(b,a.get(b))},this)};H.La=function(){return!this.$};H.ta=G("$");H.A=function(a){this.qd(a);return this.bd(a)||0<=hc(this.Kb,a)};H.yd=function(a){return zc(this.g,function(b,c){return this.bd(c)&&Yf(b,a)},this)||0<=hc(this.be,a)};
H.V=function(){var a;if(cg)a=pc(aa.keys(this.g));else{a=[];for(var b in this.g)ag[r](this.g,b)&&a[y](b)}qc(a,this.Kb);return a};H.f=function(){for(var a=[],b=this.V(),c=0;c<b[C];c++)a[y](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.V(),c=0;c<b[C];c++){var d=b[c];a[y]([d,this.get(d)])}return a};ua(H,function(){this.g=bg?aa[lb](null):{};this.Kb=[];this.be=[];this.$=0});ma(H,function(){var a=new Zf;a[hb](this);return a});
H.bd=function(a){return"__proto__"==a?!1:bg?a in this.g:ag[r](this.g,a)};H.qd=function(a){L(Sb(a),"key must be a string.")};var bg=!!aa[lb],cg=!!aa.keys;function dg(){this[cb]()}H=dg[t];H.$=0;ua(H,function(){this.$=0;this.g=new Zf});ma(H,function(){var a=new dg;a.xh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[y](b);this.$++};H.xh=function(a){ic(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?pc(a):[]};wa(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=oc(c,function(a){return Yf(b,a)});d&&(this.$--,0==c[C]&&this.g[x](a));return d});H.La=function(){return!this.$};
H.ta=G("$");H.A=function(a){return this.g.A(a)};H.yd=function(a){return lc(this.g.f(),function(b){return lc(b,function(b){return Yf(b,a)})})};H.V=function(){return this.g.V()};H.f=function(){return xc(this.g.f())};H.getEntries=function(){for(var a=this.V(),b=[],c=0;c<a[C];c++)for(var d=a[c],g=this.get(d),k=0;k<g[C];k++)b[y]([d,g[k]]);return b};
function eg(a,b,c){De[r](this);this.Ma=a;this.Ca=b;this.K=c;this.We=null;this.Bd=ve.Ee().De(this.Ma.Z(),this.K)}K(eg,De);H=eg[t];H.Ob=function(){var a=new eg(this.Ma,this.Ca,this.K);a.mf(this.da());return a};H.wb=function(a){return null!=a?(a[y](this.Ma),a[y](this.Ca),a):[this.Ma,this.Ca]};H.reverse=function(){var a=this.K;switch(this.K){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new eg(this.Ca,this.Ma,a)};
H.eval=function(a){var b=a[B][Ga](function(a){var b=a.U(this.Ma);a=a.U(this.Ca);return this.Bd(b,a)},this);return new ke(b,a.X())};f(H,function(){return"join_pred("+this.Ma.l()+", "+this.Ca.l()+")"});H.Cf=function(a){return-1!=a.X()[$a](this.Ma.L().pa())};H.Fh=function(a){return-1!=a.X()[$a](this.Ca.L().pa())};H.Ci=function(a,b){var c=null,d=null;this.Cf(a)?(this.Ef(a,b),c=a,d=b):(this.Ef(b,a),c=b,d=a);return[c,d]};
H.Ef=function(a,b){L(this.Cf(a),"Mismatch between join predicate left operand and right relation.");L(this.Fh(b),"Mismatch between join predicate right operand and right relation.")};H.Ji=function(a,b,c){var d=[a,b];c||(d=this.Ci(a,b));a=d[0];d=d[1];return"eq"==this.K?this.Ki(a,d,c):this.Li(a,d,c)};H.ui=function(a){var b={};a.wb()[F](function(a){b[a[u]()]=null});return b};H.Pf=function(a,b){null===this.We&&(this.We=this.ui(this.Ca.L()));var c=new re(new fd(-1,this.We),!1);return te(a,b,c,[this.Ca.L().pa()])};
H.Li=function(a,b,c){for(var d=[],g=a.X(),k=b.X(),l=0;l<a[B][C];l++){for(var p=!1,v=0;v<b[B][C];v++)if(this.Bd(a[B][l].U(this.Ma),b[B][v].U(this.Ca))){var p=!0,ha=te(a[B][l],g,b[B][v],k);d[y](ha)}c&&!p&&d[y](this.Pf(a[B][l],g))}a=a.X()[Sa](b.X());return new ke(d,a)};
H.Ki=function(a,b,c){var d=a,g=b,k=this.Ma,l=this.Ca;if(c||a[B][C]>b[B][C])d=b,g=a,k=this.Ca,l=this.Ma;var p=new dg,v=[];d[B][F](function(a){var b=ia(a.U(k));p.add(b,a)});var ha=d.X(),jb=g.X();g[B][F](function(a){var b=ia(a.U(l));p.A(b)?p.get(b)[F](function(b){b=te(a,jb,b,ha);v[y](b)}):c&&v[y](this.Pf(a,jb))}[E](this));a=a.X()[Sa](b.X());return new ke(v,a)};
function fg(a,b,c){return null===b?new Fe(a,b,c):Lb(b.l)?new eg(a,b,c):new Fe(a,b,c)};
var gg={};I("lf.schema.DataStoreType",gg,void 0);gg.INDEXED_DB=0;gg.MEMORY=1;gg.LOCAL_STORAGE=2;gg.FIREBASE=3;gg.WEB_SQL=4;gg.OBSERVABLE_STORE=5;function hg(a,b,c,d){this.of=a;ka(this,b);this.cd=c;this.h=d}hg[t].l=function(){return this.of+"."+this[q]};hg[t].ng=function(){return this.h[ab](function(a){return a.ea.vc()})};function ig(a,b,c,d){this.B=a;this.ua=c;this.F=b;this.Wd=d;this.jb=null}I("lf.schema.Table",ig,void 0);oa(ig[t],G("B"));ig[t].ab=G("jb");ig[t].pa=function(){return this.jb||this.B};
ig[t].Hc=function(a){var b=new this.constructor(this.B);b.jb=a;b.Sk=this.Sk;return b};ig[t].as=ig[t].Hc;ig[t].createRow=ig[t].Fb;ig[t].deserializeRow=ig[t].pc;ig[t].Fa=G("ua");ig[t].wb=G("F");ig[t].getConstraint=ig[t].Gb;ig[t].$b=G("Wd");ig[t].Rb=function(){return this.B+".#"};
function T(a,b){xa(this,a);this.hc=b;this.jb=null}H=T[t];oa(H,function(){return this.hc+"("+this[kb][u]()+")"});H.l=function(){return this.hc+"("+this[kb].l()+")"};H.L=function(){return this[kb].L()};f(H,function(){return this.l()});H.Z=function(){return this[kb].Z()};H.ab=G("jb");H.Fa=function(){return[]};H.vc=Jb(!1);H.Hc=function(a){this.jb=a;return this};T[t].as=T[t].Hc;T[t].ag=function(){for(var a=[this],b=this;b instanceof T;)a[y](b[kb]),b=b[kb];return a};
function jg(a){this.jb=a||null;this.N=new ig("#UnknownTable",[],[],!1)}H=jg[t];oa(H,Jb("*"));H.l=function(){return this[u]()};f(H,function(){return this.l()});H.L=G("N");H.Z=Jb(4);H.ab=G("jb");H.Fa=function(){return[]};H.vc=Jb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new jg,"COUNT")},void 0);function kg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",kg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){Be[r](this,"","");this.Ti=b;this.Kg=a}K(U,Be);H=U[t];na(H,function(a,b){switch(this.Ti){case 1:return this.Oi(a,b);case 0:return this.Ni(a,b);default:return this.Qi(a,b)}});f(H,Jb("dummy_node"));H.md=function(){return this[D]()};H.Df=function(a){L(-1==this.Kg||a[C]==this.Kg)};H.Qi=function(a,b){return new M(J(function(c){c(this.ka(a,[],b))},this))};H.Oi=function(a,b){return this.vb(0)[Qa](a,b)[z](J(function(c){this.Df(c);return this.ka(a,c,b)},this))};
H.Ni=function(a,b){var c=this.ca().map(function(c){return c[Qa](a,b)});return Zc(c)[z](J(function(c){var g=[];c[F](function(a){for(var b=0;b<a[C];++b)g[y](a[b])});this.Df(g);return this.ka(a,g,b)},this))};
function lg(a){U[r](this,-1,1);this.Af=a}K(lg,U);f(lg[t],function(){return"aggregation("+this.Af.map(function(a){return a.l()})[D]()+")"});lg[t].ka=function(a,b){b[F](function(a){(new mg(a,this.Af)).Sh()},this);return b};function mg(a,b){this.Ia=a;this.F=b}
mg[t].Sh=function(){this.F[F](function(a){a=a.ag()[fb]();for(var b=1;b<a[C];b++){var c=a[b],d=c.ag()[n](-1)[0],g=this.yj(c),k=null;switch(c.hc){case "MIN":k=ng(g,d);break;case "MAX":k=og(g,d);break;case "DISTINCT":k=pg(g,d);break;case "COUNT":k=g[B][C];break;case "SUM":k=qg(g,d);break;case "AVG":0<g[B][C]&&(k=qg(g,d)/g[B][C]);break;case "GEOMEAN":k=rg(g,d);break;default:k=sg(g,d)}this.Ia.al(c,k)}},this)};mg[t].yj=function(a){return a[kb]instanceof T?this.Ia.tc(a[kb]):this.Ia};
function ng(a,b){var c=null;a[B][F](function(a){a=a.U(b);if(null===c||a<c)c=a});return c}function og(a,b){var c=null;a[B][F](function(a){a=a.U(b);if(null===c||a>c)c=a});return c}function qg(a,b){return a[B][Ka](function(a,d){return a+d.U(b)},0)}function sg(a,b){var c=a[B].map(function(a){return a.U(b)});return sd[xb](null,c)}function rg(a,b){var c=0,d=a[B][Ka](function(a,d){var l=d.U(b);return 0!=l?(c++,a+ba.log(l)):a},0);return 0==c?null:ba.pow(ba.E,d/c)}
function pg(a,b){var c=new N;a[B][F](function(a){var g=a.U(b);c.set(g,a)});return new ke(c.f(),a.X())};
function tg(a,b){this.Da=a;this.ra=b}tg[t].nb=G("Da");tg[t].fa=G("ra");function V(){Be[r](this,"","")}K(V,Be);function ug(a,b){V[r](this);ja(this,a);va(this,b)}K(ug,V);function vg(a,b){ug[r](this,a,b)}K(vg,ug);function wg(a){V[r](this);ja(this,a)}K(wg,V);f(wg[t],function(){return"delete("+this[h][u]()+")"});function xg(a,b){V[r](this);ja(this,a);this.tf=b}K(xg,V);f(xg[t],function(){var a=[];this.tf&&(a=this.tf.map(function(a){return a.J[u]()},this));return"update("+this[h][u]()+", ["+a[m](",")+"])"});
function yg(a){V[r](this);this.Ba=a}K(yg,V);f(yg[t],function(){return"select("+this.Ba[D]()+")"});function zg(a){V[r](this);ja(this,a)}K(zg,V);f(zg[t],function(){var a="table_access("+this[h][u]();null===this[h].ab()||(a+=" as "+this[h].ab());return a+")"});function Ag(){V[r](this)}K(Ag,V);f(Ag[t],Jb("cross_product"));function Bg(a,b){V[r](this);this.h=a;this.Sb=b}K(Bg,V);
f(Bg[t],function(){var a="project("+this.h[D]();if(null!==this.Sb)var b=this.Sb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Cg(a){V[r](this);this.M=a}K(Cg,V);f(Cg[t],function(){return"order_by("+Je(this.M)+")"});function Dg(a){V[r](this);this.h=a}K(Dg,V);f(Dg[t],function(){return"aggregation("+this.h[D]()+")"});function Eg(a){V[r](this);this.h=a}K(Eg,V);f(Eg[t],function(){return"group_by("+this.h[D]()+")"});function Fg(a){V[r](this);this.na=a}K(Fg,V);
f(Fg[t],function(){return"limit("+this.na+")"});function Gg(a){V[r](this);this.ia=a}K(Gg,V);f(Gg[t],function(){return"skip("+this.ia+")"});function Hg(a,b){V[r](this);this.Ba=a;this.wg=b}K(Hg,V);f(Hg[t],function(){return(this.wg?"left_outer_join":"join")+"("+this.Ba[D]()+")"});
function Ig(){};
function Jg(){}K(Jg,Ig);Jg[t].Ib=function(a){this.ha=a;this.$a(this.ha);return this.ha};Jg[t].$a=function(a){if(a instanceof yg){L(1==a.ya(),"SelectNode must have exactly one child.");var b=this.Ff(a.Ba),b=this.wi(b);Vf(a,a,b[0],b[1]);a==this.ha&&(this.ha=b[0]);a=b[0]}a.ca()[F](function(a){this.$a(a)},this)};Jg[t].Ff=function(a){if(0==a.ya()||"and"!=a.Xb)return[a];var b=a.ca()[n]().map(function(b){a[ib](b);return this.Ff(b)},this);return xc(b)};
Jg[t].wi=function(a){var b=null,c=null;a.map(function(a,g){var k=new yg(a);0==g?b=k:c.ja(k);c=k},this);return[b,c]};
function Kg(){}K(Kg,Ig);Kg[t].Ib=function(a){this.ha=a;this.$a(this.ha);return this.ha};Kg[t].$a=function(a){if(a instanceof Ag)for(;2<a.ya();){for(var b=new Ag,c=0;2>c;c++){var d=a.ae(0);b.ja(d)}a.Fc(b,0)}a.ca()[F](function(a){this.$a(a)},this)};
function Lg(){U[r](this,2,0)}K(Lg,U);f(Lg[t],Jb("cross_product"));Lg[t].ka=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.X(),l=d.X(),p=0;p<c[B][C];p++)for(var v=0;v<d[B][C];v++){var ha=te(c[B][p],k,d[B][v],l);g[y](ha)}c=c.X()[Sa](d.X());return[new ke(g,c)]};

function Mg(a,b){Me[r](this,a,b);this.Ya=a.o(Jd);this.Hb=a.o(Kd)}K(Mg,Me);Ea(Mg[t],Jb(2));Mg[t].Ze=function(a){0==this.Z()?this.zk(a):this.kd()};Mg[t].zk=function(a){this.Zd[F](function(b,c){b instanceof Ie&&this.Hb.sh(b,a[c])},this)};Mg[t].kd=function(){var a=this.Hb.Ke(this.fa().f());0!=a[C]&&(a=new Ne(this[Wa],a),this.Ya.cc(a))};
function Ng(a){Ge[r](this,a)}K(Ng,Ge);Ng[t].fa=function(){var a=new O([this.c]);a[hb](this.ea[yb]().$f(this.c[u]()));return a};ma(Ng[t],function(){var a=new Ng(this.ea);a.wd(this);a.c=this.c;return a});Ba(Ng[t],function(a){Ng.Mb[E][r](this,a);this.ne(a);return this});
function Og(a){Ge[r](this,a)}K(Og,Ge);Og[t].fa=function(){var a=new O([this.Ha]),b=this.ea[yb]();a[hb](b.Ej(this.Ha[u]()));this.ic&&a[hb](b.$f(this.Ha[u]()));return a};ma(Og[t],function(){var a=new Og(this.ea);a.wd(this);a.Ha=this.Ha;this[db]&&va(a,this[db]instanceof ue?this[db]:this[db][n]());a.ic=this.ic;a.jc=this.jc;return a});Ba(Og[t],function(a){Og.Mb[E][r](this,a);this.jc&&va(this,this.jc instanceof ue?a[this.jc.xb()]:this.jc.map(function(b){return b instanceof ue?a[b.xb()]:b}));return this});
function Pg(a){Ge[r](this,a)}K(Pg,Ge);Pg[t].fa=function(){var a=new O([this[h]]),b=this.set.map(function(a){return a.J.l()}),c=this.ea[yb]();a[hb](c.Fj(b));a[hb](c.uj(b));return a};ma(Pg[t],function(){var a=new Pg(this.ea);a.wd(this);ja(a,this[h]);a.set=this.set?this.set[n]():this.set;return a});Ba(Pg[t],function(a){Pg.Mb[E][r](this,a);this.set[F](function(b){-1!=b.rd&&qa(b,a[b.rd])});this.ne(a);return this});
function Qg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+jd(b)+"'";default:return"'"+b[D]()+"'"}}function Rg(a,b){var c=a.ic?"INSERT OR REPLACE":"INSERT",d=a.Ha.wb(),c=c+(" INTO "+a.Ha[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[db].map(function(a){var k=d.map(function(c){var d=a.w()[c[u]()];return b?null!=d?"#":"NULL":Qg(c.Z(),d)});return c+k[m](", ")+");"})[m]("\n")}
function Sg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Tg(a,b,c,d){return a instanceof ue?"?"+a.xb()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Qg(c,a)})[m](", ")+")":"between"==b?Qg(c,a[0])+" AND "+Qg(c,a[1]):Qg(c,a)[D]()}
function Ug(a,b){return a.ca().map(function(a){return"("+Vg(a,b)+")"})[m]("and"==a.Xb?" AND ":" OR ")}function Vg(a,b){if(a instanceof Fe)return[a.J.l(),Sg(a.K),Tg(a[w],a.K,a.J.Z(),b)][m](" ");if(a instanceof Xf)return Ug(a,b);if(a instanceof eg)return[a.Ma.l(),Sg(a.K),a.Ca.l()][m](" ");throw new P(357,typeof a);}function Wg(a,b){var c=Vg(a,b);return c?" WHERE "+c:""}
function Xg(a,b){var c="UPDATE "+a[h][u]()+" SET ",c=c+a.set.map(function(a){var b=a.J.l()+" = ";return-1!=a.rd?b+"?"+a.rd[D]():b+Qg(a.J.Z(),a[w])[D]()})[m](", ");a.C&&(c+=Wg(a.C,b));return c+";"}
function Yg(a,b){var c="*";a.h[C]&&(c=a.h.map(function(a){return a.ab()?a.l()+" AS "+a.ab():a.l()})[m](", "));var d=a.c.map(function(a){return a.pa()!=a[u]()?a[u]()+" AS "+a.pa():a[u]()})[m](", "),c="SELECT "+c+" FROM "+d;a.C&&(c+=Wg(a.C,b));a.M&&(d=a.M.map(function(a){return a.J.l()+(0==a.pb?" DESC":" ASC")})[m](", "),c+=" ORDER BY "+d);a.la&&(d=a.la.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.na&&(c+=" LIMIT "+a.na[D]());a.ia&&(c+=" SKIP "+a.ia[D]());return c+";"}
function Zg(a,b){var c=b||!1,d=a.hg();if(d instanceof Og)return Rg(d,c);if(d instanceof Ng){var g="DELETE FROM "+d.c[u]();d.C&&(g+=Wg(d.C,c));return g+";"}if(d instanceof Pg)return Xg(d,c);if(d instanceof Ie)return Yg(d,c);throw new P(358,typeof d);};
function $g(a,b){this.global=a;this.Nk=a.o(Id);this.Ya=a.o(Jd);this.a=b}I("lf.query.BaseBuilder",$g,void 0);na($g[t],function(){try{this.kb()}catch(a){return Wc(a)}return new M(function(a,c){var d=new Mg(this[Wa],[this.$c()]);this.Ya.cc(d)[z](function(c){a(c[0].Fe())},c)},this)});na($g[t],$g[t][Qa]);$g[t].Xf=function(){var a=J(function(a){return a.md(this.a)+"\n"},this);return Wf(this.Ge().nb(),a)};$g[t].explain=$g[t].Xf;Ba($g[t],function(a){this.a[E](a);return this});Ba($g[t],$g[t][E]);
$g[t].nl=function(a){return Zg(this,a)};$g[t].toSql=$g[t].nl;H=$g[t];H.kb=Hb();H.hg=function(){return this.a.clone()};H.Id=G("a");H.Ge=function(){null==this.Qg&&(this.Qg=this.Nk.Gj(this.a));return this.Qg};H.$c=function(){return{context:this.hg(),bf:this.Ge()}};H.Cj=function(){return{context:this.Id(),bf:this.Ge()}};
function ah(a){$g[r](this,a,new Ng(a.o(Ld)))}K(ah,$g);I("lf.query.DeleteBuilder",ah,void 0);ah[t].c=function(a){this.Jh();this.a.c=a;return this};ah[t].from=ah[t].c;ah[t].C=function(a){this.le();this.a.C=a;return this};ah[t].where=ah[t].C;ah[t].Jh=function(){if(null!=this.a.c)throw new P(515);};ah[t].le=function(){if(null!=this.a.C)throw new P(516);};ah[t].kb=function(){ah.Mb.kb[r](this);if(null==this.a.c)throw new P(517);};
function bh(a,b){$g[r](this,a,new Og(a.o(Ld)));this.a.ic=b||!1}K(bh,$g);I("lf.query.InsertBuilder",bh,void 0);bh[t].kb=function(){bh.Mb.kb[r](this);var a=this.a;if(null==a.Ha||null==a[db])throw new P(518);if(a.ic&&null===a.Ha.Gb().He())throw new P(519);};bh[t].Ha=function(a){this.Kh();this.a.Ha=a;return this};bh[t].into=bh[t].Ha;va(bh[t],function(a){this.Lh();a instanceof ue||a[ab](function(a){return a instanceof ue})?this.a.jc=a:va(this.a,a);return this});va(bh[t],bh[t][db]);
bh[t].Kh=function(){if(null!=this.a.Ha)throw new P(520);};bh[t].Lh=function(){if(null!=this.a[db])throw new P(521);};
function ch(a){return dh("and",e[t][n][r](arguments))}I("lf.op.and",ch,void 0);I("lf.op.or",function(a){return dh("or",e[t][n][r](arguments))},void 0);function dh(a,b){var c=new Xf(a);b[F](function(a){c.ja(a)});return c}I("lf.op.not",function(a){a.de(!0);return a},void 0);
function W(a,b){$g[r](this,a,new Ie(a.o(Ld)));this.Zf=this.vh=!1;this.a.h=b;this.$h();this.Yh()}K(W,$g);I("lf.query.SelectBuilder",W,void 0);H=W[t];H.kb=function(){W.Mb.kb[r](this);var a=this.a;if(null==a.c)throw new P(522);if(Lb(a.Vb)&&!Lb(a.na)||Lb(a.fc)&&!Lb(a.ia))throw new P(523);this.hi()};H.$h=function(){var a=this.a.h[Ga](function(a){return a instanceof T&&"DISTINCT"==a.hc},this);if(0!=a[C]&&(1!=a[C]||1!=this.a.h[C]))throw new P(524);};H.hi=function(){null!=this.a.la?this.di():this.gi()};
H.di=function(){var a=this.a.h[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.la[C]||0==this.a.h[C])b=!0;else{var c=this.a.la.map(function(a){return a.l()});(b=a[ab](function(a){return-1==c[$a](a)}))||(b=this.a.la[ab](function(a){a=a.Z();return 6==a||0==a}))}if(b)throw new P(525);};
H.gi=function(){var a=this.a.h[ab](function(a){return a instanceof T},this),b=this.a.h[ab](function(a){return!(a instanceof T)},this)||0==this.a.h[C];if(a&&b)throw new P(526);};H.Yh=function(){this.a.h[F](function(a){if(a instanceof T&&!eh(a.hc,a.Z()))throw new P(527,a.l());},this)};H.c=function(a){if(this.Zf)throw new P(515);this.Zf=!0;null==this.a.c&&(this.a.c=[]);this.a.c[y][xb](this.a.c,e[t][n][r](arguments));return this};W[t].from=W[t].c;
W[t].C=function(a){if(this.vh)throw new P(516);this.vh=!0;this.me(a);return this};W[t].where=W[t].C;W[t].me=function(a){null!=this.a.C&&(a=ch(a,this.a.C));this.a.C=a};W[t].fk=function(a,b){if(null==this.a.c)throw new P(542);this.a.c[y](a);this.me(b);return this};W[t].innerJoin=W[t].fk;
W[t].nk=function(a,b){if(!(b instanceof eg))throw new P(541);if(null==this.a.c)throw new P(542);this.a.c[y](a);null==this.a.xc&&(this.a.xc=new O);var c=b;a.pa()!=b.Ca.L().pa()&&(c=b[fb]());this.a.xc.add(c.da());this.me(c);return this};W[t].leftOuterJoin=W[t].nk;W[t].na=function(a){if(null!=(this.a.na||this.a.Vb))throw new P(528);if(a instanceof ue)this.a.Vb=a;else{if(0>a)throw new P(531);this.a.na=a}return this};W[t].limit=W[t].na;
W[t].ia=function(a){if(null!=(this.a.ia||this.a.fc))throw new P(529);if(a instanceof ue)this.a.fc=a;else{if(0>a)throw new P(531);this.a.ia=a}return this};W[t].skip=W[t].ia;W[t].M=function(a,b){null==this.a.M&&(this.a.M=[]);this.a.M[y]({J:a,pb:null!=b?b:1});return this};W[t].orderBy=W[t].M;W[t].la=function(a){if(null!=this.a.la)throw new P(530);null==this.a.la&&(this.a.la=[]);this.a.la[y][xb](this.a.la,e[t][n][r](arguments));return this};W[t].groupBy=W[t].la;
function eh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}ma(W[t],function(){var a=new W(this[Wa],this.a.h);a.a=this.a.clone();a.a.Kc=null;return a});ma(W[t],W[t].clone);
function fh(a,b){$g[r](this,a,new Pg(a.o(Ld)));ja(this.a,b)}K(fh,$g);I("lf.query.UpdateBuilder",fh,void 0);fh[t].set=function(a,b){var c={rd:b instanceof ue?b.xb():-1,J:a,value:b};null!=this.a.set?this.a.set[y](c):this.a.set=[c];return this};fh[t].set=fh[t].set;fh[t].C=function(a){this.le();this.a.C=a;return this};fh[t].where=fh[t].C;fh[t].le=function(){if(null!=this.a.C)throw new P(516);};
fh[t].kb=function(){fh.Mb.kb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[ab](function(a){return a[w]instanceof ue}))throw new P(501);};
function gh(a){this.a=a;this.Da=null}gh[t].sc=function(){null===this.Da&&(this.Da=this.Dd());return this.Da};function hh(a){gh[r](this,a)}K(hh,gh);hh[t].Dd=function(){return this.a.ic?new vg(this.a.Ha,this.a[db]):new ug(this.a.Ha,this.a[db])};function ih(a){gh[r](this,a)}K(ih,gh);ih[t].Dd=function(){var a=new xg(this.a[h],this.a.set),b=null!=this.a.C?new yg(this.a.C.Ob()):null,c=new zg(this.a[h]);null===b?a.ja(c):(b.ja(c),a.ja(b));return a};
function jh(a,b,c){this.Da=a;this.df=b;this.jf=c}jh[t].sc=function(){this.jf[F](function(a){this.Da=a.Ib(this.Da,this.df)},this);return this.Da};
function kh(a){gh[r](this,a)}K(kh,gh);kh[t].Dd=function(){var a=new wg(this.a.c),b=null!=this.a.C?new yg(this.a.C.Ob()):null,c=new zg(this.a.c);null===b?a.ja(c):(b.ja(c),a.ja(b));return(new jh(a,this.a,[new Jg])).sc()};
function lh(){}K(lh,Ig);lh[t].Ib=function(a,b){this.ha=a;this.$a(this.ha,b);return this.ha};lh[t].$a=function(a,b){if(a instanceof yg&&a.Ba instanceof eg){L(1==a.ya(),"SelectNode must have exactly one child.");var c=a.Ba.da(),d=a.vb(0);d instanceof Ag&&(c=Lb(b)&&null!=b.xc&&b.xc[ub](c),c=new Hg(a.Ba,c),Vf(a,d,c,c),a==this.ha&&(this.ha=c),a=c)}a.ca()[F](function(a){this.$a(a,b)},this)};
function mh(){this.je=new O}K(mh,Ig);H=mh[t];H.Ib=function(a){this.ha=a;this.$a(this.ha);this.je[cb]();return this.ha};H.$a=function(a){if(this.rg(a)){var b=a.Ba instanceof Fe?this.Mk(a):this.Lk(a);this.je.add(a);b==a&&(b=a.vb(0));null!==b&&(Pb(b[Ab]())&&(this.ha=b),this.rg(b)&&!this.je[ub](b)&&this.$a(b))}else a.ca()[F](function(a){this.$a(a)},this)};
H.Yd=function(a,b){var c=a;if(this.el(a))c=Tf(a),this.Yd(a,b);else if(this.dl(a)){var d=[],c=Uf(a,b,function(a){a=new yg(a.Ba);d[y](a);return a});d[F](function(a){this.Yd(a,b)},this)}return c};H.Mk=function(a){var b=new O([a.Ba.J.L().pa()]),c=function(a){return this.Uf(a,b)}[E](this);return this.Yd(a,c)};H.Lk=function(a){var b=new O([a.Ba.Ma.L().pa(),a.Ba.Ca.L().pa()]),c=function(a){return this.Uf(a,b)}[E](this);return this.Yd(a,c)};
H.Uf=function(a,b){var c=new O;Pf(a)[F](function(a){c.add(a[h].pa())},this);a instanceof zg&&c.add(a[h].pa());return c.si(b)};H.rg=function(a){return a instanceof yg&&!(a.Ba instanceof Xf)};H.dl=function(a){a=a.vb(0);return a instanceof Ag||a instanceof Hg};H.el=function(a){return a.vb(0)instanceof yg};
function nh(a){gh[r](this,a);this.Vg=this.Fg=this.ih=this.Lg=this.Bf=this.mg=this.eh=this.Rf=this.kh=null}K(nh,gh);H=nh[t];H.Dd=function(){this.lj();var a=this.oi(),b=[new Jg,new Kg,new mh,new lh];return(new jh(a,this.a,b)).sc()};H.lj=function(){this.rj();this.gj();this.pj();this.mj();this.qj();this.kj();this.ij();this.fj();this.nj()};
H.oi=function(){for(var a=[this.Fg,this.ih,this.Vg,this.Lg,this.Bf,this.mg,this.eh,this.Rf],b=null,c=null,d=0;d<a[C];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ja(g),b=d)}this.kh[F](function(c){a[b].ja(c)});return c};H.rj=function(){this.kh=this.a.c.map(function(a){return new zg(a)},this)};H.gj=function(){2<=this.a.c[C]&&(this.Rf=new Ag)};H.pj=function(){this.eh=null!=this.a.C?new yg(this.a.C.Ob()):null};H.mj=function(){this.a.M&&(this.Lg=new Cg(this.a.M))};
H.kj=function(){null!=this.a.na&&(this.Fg=new Fg(this.a.na))};H.qj=function(){null!=this.a.ia&&0<this.a.ia&&(this.ih=new Gg(this.a.ia))};H.ij=function(){null!=this.a.la&&(this.mg=new Eg(this.a.la))};H.fj=function(){var a=this.a.h[Ga](function(a){return a instanceof T});null!=this.a.M&&this.a.M[F](function(b){b.J instanceof T&&a[y](b.J)});0<a[C]&&(this.Bf=new Dg(a))};H.nj=function(){this.Vg=new Bg(this.a.h||[],this.a.la||null)};
function oh(){}oh[t].create=function(a){var b=null;if(a instanceof Og)b=new hh(a);else if(a instanceof Ng)b=new kh(a);else if(a instanceof Ie)b=new nh(a);else if(a instanceof Pg)b=new ih(a);else throw new P(513);b=b.sc();return new tg(b,a.fa())};
function ph(a){U[r](this,1,1);this.N=a}K(ph,U);f(ph[t],function(){return"delete("+this.N[u]()+")"});ph[t].ka=function(a,b){var c=b[0][B].map(function(a){return a.xa});a[x](this.N,c);return[ne()]};
function qh(a){U[r](this,1,1);this.lg=a}K(qh,U);f(qh[t],function(){return"groupBy("+this.lg.map(function(a){return a.l()})[D]()+")"});qh[t].ka=function(a,b){return this.Uh(b[0])};qh[t].Uh=function(a){var b=new dg,c=function(a){return this.lg.map(function(b){return a.U(b)},this)[m](",")}[E](this);a[B][F](function(a){b.add(c(a),a)},this);return b.V().map(function(c){return new ke(b.get(c),a.X())},this)};
function rh(a){L(1<a[C],"Should only be called for cross-column indices.");a=a.map(function(a){return a.f()});a=xd[xb](null,a);var b=[];wd(a,function(a){b[y](a)});return b}function sh(a){this.Tb=a}sh[t].Gd=function(){return 1==this.Tb.h[C]?[ie()]:[this.Tb.h.map(function(){return ie()})]};function th(a,b){this.Tb=a;this.va=b;this.ue=this.Dg=null}
th[t].Vh=function(a){var b=new N;this.va.V()[F](function(c){var d=this.va.get(c).map(function(b){return a.Jd(b)},this),g=new Mf([ie()]);d[F](function(a){a=new Mf(a.ml());g=Nf(g,a)});b.set(c,g)},this);return b};th[t].Yi=function(a){for(var b=this.Tb.h[C]-1;0<=b;b--){var c=this.Tb.h[b];if(null!==a.get(c.ea[u](),null))break;a.set(c.ea[u](),new Mf([ie()]))}};th[t].Gd=function(a){if(this.Dg==a)return this.ue;var b=this.Vh(a);this.Yi(b);this.ue=1==this.Tb.h[C]?b.f()[0].f():rh(this.Nj(b));this.Dg=a;return this.ue};
th[t].Nj=function(a){var b=new N,c=0;this.Tb.h[F](function(a){b.set(a.ea[u](),c);c++});return a.V()[Za](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function uh(a,b){this.mh=b;this.H=a.o(Hd)}uh[t].ki=function(a,b){var c=b[Ga](this.hk,this);if(0==c[C])return null;c=this.jj(c);if(0==c[C])return null;if(1==c[C])return c[0];var d=Number.MAX_VALUE;return c[Ka](function(b,c){var l=c.Th(a);return l<d?(d=l,c):b},null)};uh[t].jj=function(a){return this.mh.Fa().map(function(b){b=new vh(this.H,b);b.ri(a);return b},this)[Ga](function(a){return a.mk()})};uh[t].hk=function(a){return a instanceof Fe&&a.sg()?a.J.L()==this.mh:!1};
function vh(a,b){this.H=a;this.zb=b;this.og=new O;this.og[hb](this.zb.h.map(function(a){return a.ea[u]()}));this.Te=this.va=null}H=vh[t];H.Hj=function(){return null===this.va?[]:this.va.f()};H.fg=function(){L(this.va);null===this.Te&&(this.Te=new th(this.zb,this.va));return this.Te};H.ri=function(a){a[F](function(a){var c=a.wb()[0][u]();this.og[ub](c)&&(null===this.va&&(this.va=new dg),this.va.add(c,a.da()))},this)};
H.mk=function(){if(null===this.va)return!1;for(var a=!1,b=!0,c=0;c<this.zb.h[C];c++){var d=this.va.A(this.zb.h[c].ea[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.Th=function(a){a=this.fg().Gd(a);var b=this.H.get(this.zb.l());return a[Ka](function(a,d){return a+b.zd(d)},0)};
function wh(a,b,c,d){U[r](this,0,-1);this.H=a.o(Hd);this.index=b;this.Bg=c;this.hf=d;this.pd=this.od=!1}K(wh,U);f(wh[t],function(){return"index_range_scan("+this[nb].l()+", ?, "+(this.hf?"reverse":"natural")+(this.od?", limit:?":"")+(this.pd?", skip:?":"")+")"});wh[t].md=function(a){var b=this[D](),c=this.Bg.Gd(a),b=b[eb]("?",c[D]());this.od&&(b=b[eb]("?",a.na[D]()));this.pd&&(b=b[eb]("?",a.ia[D]()));return b};
wh[t].ka=function(a,b,c){a=this.Bg.Gd(c);b=this.H.get(this[nb].l());c=(1==a[C]&&a[0]instanceof ge&&a[0].vg()?kf(b.get(a[0].c),!1,this.od?c.na:void 0,this.pd?c.ia:void 0):b.mb(a,this.hf,this.od?c.na:void 0,this.pd?c.ia:void 0)).map(function(a){return new fd(a,{})},this);return[qe(c,[this[nb].of])]};
function xh(a){U[r](this,1,1);this.Xd=a}K(xh,U);f(xh[t],Jb("select(?)"));xh[t].md=function(a){a=a.Jd(this.Xd);return this[D]()[eb]("?",a[D]())};xh[t].ka=function(a,b,c){return[c.Jd(this.Xd).eval(b[0])]};
function yh(a,b){U[r](this,1,1);this.sa=a.o(Gd);this.N=b}K(yh,U);f(yh[t],function(){return"table_access_by_row_id("+this.N[u]()+")"});yh[t].ka=function(a,b){return[qe(this.sa.get(b[0].Mj()),[this.N.pa()])]};
function zh(a,b){U[r](this,0,-1);this.sa=a.o(Gd);this.H=a.o(Hd);ja(this,b)}K(zh,U);f(zh[t],function(){var a="table_access("+this[h][u]();null===this[h].ab()||(a+=" as "+this[h].ab());return a+")"});zh[t].ka=function(){var a=this.H.get(this[h].Rb()).mb();return[qe(this.sa.get(a),[this[h].pa()])]};
function Ah(a){this.m=a}K(Ah,Ig);Ah[t].Ib=function(a,b){this.ha=a;Qf(a,function(a){return a instanceof zh})[F](function(a){var d=this.dj(a);if(0!=d[C]){var g=(new uh(this.m,a[h])).ki(b,d.map(function(a){return b.Jd(a.Xd)}));if(null!==g){var k=new N;d[F](function(a){k.set(a.Xd,a)},this);this.ha=this.Xk(g,k,a,b)}}},this);return this.ha};Ah[t].dj=function(a){var b=[];for(a=a[Ab]();a;)a instanceof xh&&b[y](a),a=a[Ab]();return b};
Ah[t].Xk=function(a,b,c){a.Hj().map(function(a){return b.get(a)})[F](Rf);a=new wh(this.m,a.zb,a.fg(),!1);var d=new yh(this.m,c[h]);d.ja(a);Vf(c,c,d,a);return a.nb()};
function Bh(a,b){U[r](this,0,-1);this.H=a.o(Hd);this.N=b}K(Bh,U);f(Bh[t],function(){return"insert("+this.N[u]()+")"});Bh[t].ka=function(a,b,c){Ch(this.N,c[db],this.H);a.Ab(this.N,c[db]);return[qe(c[db],[this.N[u]()])]};function Ch(a,b,c){a=a.Gb().He();if(null===a?0:a.h[0][pb]){var d=a.h[0].ea[u](),g=c.get(a.l()).max()[0]||0;b[F](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function Dh(a,b){U[r](this,0,-1);this.H=a.o(Hd);this.N=b}K(Dh,U);
f(Dh[t],function(){return"insert_replace("+this.N[u]()+")"});Dh[t].ka=function(a,b,c){Ch(this.N,c[db],this.H);a.Ne(this.N,c[db]);return[qe(c[db],[this.N[u]()])]};
function Eh(a,b){U[r](this,2,0);this.Ug=a;this.xg=b}K(Eh,U);f(Eh[t],function(){return(this.xg?"left_outer_join":"join")+"("+this.Ug[D]()+")"});Eh[t].ka=function(a,b){return[this.Ug.Ji(b[0],b[1],this.xg)]};
function Fh(){U[r](this,1,1)}K(Fh,U);f(Fh[t],Jb("limit(?)"));Fh[t].md=function(a){return this[D]()[eb]("?",a.na[D]())};Fh[t].ka=function(a,b,c){b[0][B][A](c.na);return b};
function Gh(a){U[r](this,-1,1);this.M=a}K(Gh,U);H=Gh[t];f(H,function(){return"order_by("+Je(this.M)+")"});H.ka=function(a,b){if(1==b[C]){var c=this.$i(b[0]);(null===c?b[0]:b[0].tc(c))[B][Za](this.Gi[E](this))}else b[Za](this.Tk[E](this));return b};H.$i=function(a){for(var b=null,c=0;c<this.M[C];c++){var d=kg(this.M[c].J);if(a.Yj(d)){b=d;break}}return b};
H.S=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.M[k].J,c=this.M[k].pb,d=a(g),g=b(g);while(d==g&&k+1<this.M[C]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.Tk=function(a,b){return this.S(function(b){return b instanceof T?a.tc(b):a[B][a[B][C]-1].U(b)},function(a){return a instanceof T?b.tc(a):b[B][b[B][C]-1].U(a)})};H.Gi=function(a,b){return this.S(function(b){return a.U(b)},function(a){return b.U(a)})};
function Hh(a,b){this.Ia=a;this.F=b}Hh[t].kg=function(){return this.F[ab](function(a){return a instanceof T},this)?this.Wj():this.Xj()};
Hh[t].Wj=function(){if(1==this.F[C]&&"DISTINCT"==this.F[0].hc){var a=this.Ia.tc(this.F[0])[B].map(function(a){var b=new re(new fd(-1,{}),this.Ia.Qe());b.lf(this.F[0],a.U(this.F[0][kb]));return b},this);return new ke(a,[])}var b=new re(new fd(-1,{}),this.Ia.Qe());this.F[F](function(a){var d=a instanceof T?this.Ia.tc(a):this.Ia[B][0].U(a);b.lf(a,d)},this);return new ke([b],this.Ia.X())};
Hh[t].Xj=function(){var a=e(this.Ia[B][C]),b=this.Ia.Qe();this.Ia[B][F](function(c,d){a[d]=new re(new fd(c.xa.id(),{}),b);this.F[F](function(b){a[d].lf(b,c.U(b))},this)},this);return new ke(a,this.Ia.X())};function Ih(a,b){var c=a.map(function(a){return(new Hh(a,b)).kg()[B][0]});return new ke(c,a[0].X())};
function Jh(a,b){U[r](this,-1,1);this.h=a;this.Sb=b}K(Jh,U);H=Jh[t];f(H,function(){var a="project("+this.h[D]();if(null!==this.Sb)var b=this.Sb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});H.ka=function(a,b){return 0==b[C]?[ne()]:1==b[C]?[this.Ri(b[0])]:[this.Pi(b)]};H.Zj=function(){return this.h[ab](function(a){return a instanceof T})||null!==this.Sb};H.Pi=function(a){return Ih(a,this.h)};H.Ri=function(a){return 0==this.h[C]?a:(new Hh(a,this.h)).kg()};
function Kh(){U[r](this,1,1)}K(Kh,U);f(Kh[t],Jb("skip(?)"));Kh[t].md=function(a){return this[D]()[eb]("?",a.ia[D]())};Kh[t].ka=function(a,b,c){return[new ke(b[0][B][n](c.ia),b[0].X())]};
function Lh(){}K(Lh,Ig);Lh[t].Ib=function(a){var b=Qf(a,function(a){return a instanceof Fh||a instanceof Kh});if(0==b[C])return a;var c=this.cj(a);if(null===c)return a;b[F](function(a){this.wk(a,c)},this);return c.nb()};Lh[t].wk=function(a,b){a instanceof Fh?b.od=!0:b.pd=!0;return Rf(a).parent};Lh[t].cj=function(a){a=Qf(a,function(a){return a instanceof wh},function(a){return a instanceof Jh&&a.Zj()||a instanceof Gh||1!=a.ya()||a instanceof xh});return 0<a[C]?a[0]:null};
function Mh(a){this.m=a}K(Mh,Ig);Mh[t].Ib=function(a){var b=Nh(a);if(null===b)return a;a=this.Ih(b);a==b&&(a=this.Hh(b));return a.nb()};Mh[t].Ih=function(a){var b=a,c=Oh(a.vb(0));if(null!==c){var d;d=a.M;for(var g=null,k=c[h].Fa(),l=0;l<k[C]&&null===g;l++)g=Ph(k[l],d);d=g;if(null===d)return b;b=new wh(this.m,d.zb,new sh(d.zb),d.yg);d=new yh(this.m,c[h]);d.ja(b);Rf(a);b=Vf(c,c,d,b)}return b};
Mh[t].Hh=function(a){var b=a,c=Qh(a.vb(0));if(null!==c){var d=Ph(c[nb],a.M);if(null===d)return b;c.hf=d.yg;b=Rf(a).parent}return b};function Qh(a){a=Qf(a,function(a){return a instanceof wh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Oh(a){a=Qf(a,function(a){return a instanceof zh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Nh(a){a=Qf(a,function(a){return a instanceof Gh});return 0<a[C]?a[0]:null}
function Ph(a,b){if(a.h[C]!=b[C]||!b[Ua](function(b,c){return b.J[u]()==a.h[c].ea[u]()}))return null;var c=Rh(b,a);return c[0]||c[1]?{zb:a,yg:c[1]}:null}function Rh(a,b){var c=a[Ka](function(a,b){return a<<1|(0==b.pb?0:1)},0),d=b.h[Ka](function(a,b){return a<<1|(0==b.pb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[C],b.h[C]))-1;return[c,d]};
function Sh(a,b,c){this.Da=a;this.df=b;this.jf=c}Sh[t].sc=function(){this.jf[F](function(a){this.Da=a.Ib(this.Da,this.df)},this);return this.Da};
function Th(a,b){U[r](this,1,1);this.N=a;this.vl=b}K(Th,U);f(Th[t],function(){return"update("+this.N[u]()+")"});Th[t].ka=function(a,b){var c=b[0][B].map(function(a){var b=this.N.pc(a.xa.Ja());this.vl[F](function(a){b.w()[a.J[u]()]=a[w]},this);return b},this);a[Va](this.N,c);return[ne()]};
function Uh(a){this.m=a}Uh[t].create=function(a,b){var c=a.nb();if(c instanceof vg||c instanceof ug)return this.xe(a,b);if(c instanceof Bg||c instanceof Fg||c instanceof Gg)return this.xe(a,b,[new Ah(this.m),new Mh(this.m),new Lh]);if(c instanceof wg||c instanceof xg)return this.xe(a,b,[new Ah(this.m)]);throw new P(8);};Uh[t].xe=function(a,b,c){var d=Of(a.nb(),J(this.sk,this));null!=c&&(d=(new Sh(d,b,c)).sc());return new Ke(d,a.fa())};
Uh[t].sk=function(a){if(a instanceof Bg)return new Jh(a.h,a.Sb);if(a instanceof Eg)return new qh(a.h);if(a instanceof Dg)return new lg(a.h);if(a instanceof Cg)return new Gh(a.M);if(a instanceof Gg)return new Kh;if(a instanceof Fg)return new Fh;if(a instanceof yg)return new xh(a.Ba.da());if(a instanceof Ag)return new Lg;if(a instanceof Hg)return new Eh(a.Ba,a.wg);if(a instanceof zg)return new zh(this.m,a[h]);if(a instanceof wg)return new ph(a[h]);if(a instanceof xg)return new Th(a[h],a.tf);if(a instanceof
vg)return new Dh(this.m,a[h]);if(a instanceof ug)return new Bh(this.m,a[h]);throw new P(514);};

function Vh(a){this.qk=new oh;this.Hk=new Uh(a)}Vh[t].Gj=function(a){var b=this.qk[lb](a);return this.Hk[lb](b,a)};
function Wh(){this.Hg=new N}H=Wh[t];H.Fd=function(a){var b=this.Hg.get(a[u](),null);null===b&&(b=new Xh,this.Hg.set(a[u](),b));return b};H.Tj=function(a,b,c){b[F](function(b){this.Fd(b).Sj(a,c)},this)};H.Xh=function(a,b,c){return b[Ua](function(b){return this.Fd(b).Wh(a,c)},this)};H.Yg=function(a,b,c){var d=this.Xh(a,b,c);d&&this.Tj(a,b,c);return d};H.releaseLock=function(a,b){b[F](function(b){this.Fd(b).releaseLock(a)},this)};H.li=function(a){a[F](function(a){this.Fd(a).gb=null},this)};
function Xh(){this.ec=this.Wa=this.gb=this.Rc=null}Xh[t].releaseLock=function(a){this.Rc==a&&(this.Rc=null);this.gb==a&&(this.gb=null);null===this.Wa||this.Wa[x](a);null===this.ec||this.ec[x](a)};Xh[t].Wh=function(a,b){var c=null===this.Wa||this.Wa.La();return 0==b?(null===this.ec||this.ec.La())&&c&&null===this.Rc&&null!==this.gb&&this.gb==a:3==b?null===this.Rc&&null===this.gb&&null!==this.Wa&&this.Wa[ub](a):1==b?null===this.gb:c&&(null===this.gb||this.gb==a)};
Xh[t].Sj=function(a,b){0==b?(this.gb=null,this.Rc=a):3==b?(null===this.ec&&(this.ec=new O),this.ec.add(a),null===this.Wa&&(this.Wa=new O),this.Wa[x](a)):1==b?(null===this.Wa&&(this.Wa=new O),this.Wa.add(a)):2==b&&(this.gb=a)};
function Yh(){this.ac=new Zh;this.dd=new Wh}H=Yh[t];H.cc=function(a){(2>a[Cb]()||2>a[Cb]())&&this.dd.li(a.fa().f());this.ac.Ab(a);this.we();return a.Yc().ga};H.we=function(){for(var a=this.ac.f(),b=0;b<a[C];b++){var c=a[b],d=!1;if(d=0==c.Z()?this.Zg(c,1,3):this.Zg(c,2,0))this.ac[x](c),this.Si(c)}};H.Zg=function(a,b,c){var d=!1,g=a.fa().f();this.dd.Yg(a.da(),g,b)&&(d=this.dd.Yg(a.da(),g,c));return d};H.Si=function(a){a[Qa]()[z](J(this.Dk,this,a),J(this.Ck,this,a))};
H.Dk=function(a,b){this.dd.releaseLock(a.da(),a.fa().f());a.Yc()[Eb](b);this.we()};H.Ck=function(a,b){this.dd.releaseLock(a.da(),a.fa().f());a.Yc()[La](b);this.we()};function Zh(){this.ac=[]}Zh[t].Ab=function(a){vc(this.ac,a,function(a,c){var d=a[Cb]()-c[Cb]();return 0==d?a.da()-c.da():d})};Zh[t].f=function(){return this.ac[n]()};wa(Zh[t],function(a){var b=this.ac;a=hc(b,a);var c;(c=0<=a)&&nc(b,a);return c});

function $h(a,b){this.Ii=ve.Ee();this.ef=a;this.Td=b;this.F=this.Bi()}$h[t].Bi=function(){if(0<this.ef.h[C])return this.ef.h;var a=[];this.ef.c[F](function(b){b.wb()[F](function(b){a[y](b)})});return a};$h[t].S=function(a,b){return this.F[Ua](function(c){return this.Ii.De(c.Z(),"eq")(a.U(c),b.U(c))},this)};
$h[t].Gh=function(a,b){for(var c=null===a?[]:a[B],d=od(c,b[B],J(this.S,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[C];l++){var p=c[l];d[k]==p?k++:(p=this.Td[A](k,1),p=ai(l,p,0,this.Td),g[y](p))}d=od(c,b[B],J(this.S,this),function(a,c){return b[B][c]});for(l=k=0;l<b[B][C];l++)p=b[B][l],d[k]==p?k++:(this.Td[A](l,0,p.xa.w()),p=ai(l,[],1,this.Td),g[y](p));return g};function ai(a,b,c,d){return{wl:c,index:a,object:d,yl:b,type:"splice"}};
function bi(){this.rc=new N}H=bi[t];H.Ie=function(a){return Ub(a)[D]()};H.ie=function(a,b){var c=this.Ie(a.Id()),d=this.rc.get(c,null);null===d&&(d=new ci(a),this.rc.set(c,d));d.ie(b)};H.gf=function(a,b){var c=this.Ie(a.Id()),d=this.rc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.gf(b);L(g,"removeObserver: Inconsistent state detected.");d.ak()||this.rc[x](c)};
H.Ke=function(a){var b=new O;a[F](function(a){b.add(a[u]())});var c=[];this.rc.f()[F](function(a){a=a.$c();a[ob].c[ab](function(a){return b[ub](a[u]())})&&c[y](a)});return c};H.sh=function(a,b){var c=this.Ie(null!=a.Kc?a.Kc:a),c=this.rc.get(c,null);return null!==c?(c.ul(b),!0):!1};function ci(a){this.Rh=a;this.gd=new O;this.Ak=[];this.Eg=null;this.Ei=new $h(a.Id(),this.Ak)}H=ci[t];H.ie=function(a){this.gd[ub](a)?dc("Attempted to register observer twice."):this.gd.add(a)};H.gf=function(a){return this.gd[x](a)};
H.$c=function(){return this.Rh.Cj()};H.ak=function(){return 0<this.gd.ta()};H.ul=function(a){var b=this.Ei.Gh(this.Eg,a);this.Eg=a;0<b[C]&&this.gd.f()[F](function(a){a(b)})};
function di(a,b){var c=a.o(Ld),d=b||{},g=new jf;a.qb(Gd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new $e(c);break;case 5:g=new af(c);break;case 4:g=new ef(a,c,d.webSqlDbSize);break;case 3:g=new Ue(c,d.firebase);k=!0;break;default:g=new Ye(a,c)}a.qb(Fd,g);var l=new Kf;a.qb(Hd,l);return g.Ga(d.onUpgrade)[z](function(){a.qb(Id,new Vh(a));var b=new Yh;a.qb(Jd,b);b=new bi;a.qb(Kd,b);return l.Ga(c)})[z](function(){k&&(new Pe(a)).il();return(new Jf(a)).Ga(c)})};

function ei(a,b){this.m=a;this.Eb=a.o(Fd);this.Ya=a.o(Jd);this.Hb=a.o(Kd);this.ra=new O(b);this.Va=new fe(this.m,this.ra.f());this.bc=$c();this.Sc=$c();this.vf=$c()}H=ei[t];na(H,function(){this.vf[Eb]();return this.Sc.ga});H.Z=Jb(1);H.fa=G("ra");H.Yc=G("bc");H.da=function(){return Ub(this)};Ea(H,Jb(2));H.wh=function(){this.Ya.cc(this);return this.vf.ga};
H.Oh=function(a){a=a.$c();return a.bf.nb()[Qa](this.Va,a[ob])[z](function(a){return a[0].Fe()},J(function(a){this.Va.Jb();var c=new Rc(a[q]);this.Sc[La](c);throw a;},this))};H.oa=function(){this.Eb.Pb(this.Z(),this.Va).oa()[z](J(function(){this.kd();this.Sc[Eb]()},this),J(function(a){this.Va.Jb();this.Sc[La](a)},this));return this.bc.ga};H.Jb=function(){this.Va.Jb();this.Sc[Eb]();return this.bc.ga};H.kd=function(){var a=this.Hb.Ke(this.ra.f());0!=a[C]&&(a=new Ne(this.m,a),this.Ya.cc(a))};
function fi(a){this.m=a;this.Ya=a.o(Jd);this.nd=null;this.Ka=0}I("lf.proc.Transaction",fi,void 0);var gi=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));fi[t].Qa=function(a){var b=gi.get(this.Ka,null);if(null===b||!b[ub](a))throw new P(107,this.Ka,a);this.Ka=a};
na(fi[t],function(a){this.Qa(4);var b=[];try{a[F](function(a){a.kb();b[y](a.$c())},this)}catch(c){return this.Qa(7),Wc(c)}a=new Mg(this.m,b);return this.Ya.cc(a)[z](J(function(a){this.Qa(7);return a.map(function(a){return a.Fe()})},this),J(function(a){this.Qa(7);throw a;},this))});na(fi[t],fi[t][Qa]);fi[t].Ph=function(a){this.Qa(1);this.nd=new ei(this.m,a);return this.nd.wh()[z](J(function(){this.Qa(2)},this))};fi[t].begin=fi[t].Ph;
fi[t].Nh=function(a){this.Qa(3);return this.nd.Oh(a)[z](J(function(a){this.Qa(2);return a},this),J(function(a){this.Qa(7);throw a;},this))};fi[t].attach=fi[t].Nh;fi[t].oa=function(){this.Qa(5);return this.nd.oa()[z](J(function(){this.Qa(7)},this))};fi[t].commit=fi[t].oa;fi[t].Jb=function(){this.Qa(6);return this.nd.Jb()[z](J(function(){this.Qa(7)},this))};fi[t].rollback=fi[t].Jb;
function X(a){this.m=a;this.s=a.o(Ld);this.Me=!1}I("lf.proc.Database",X,void 0);X[t].Ga=function(a){this.m.qb(Ld,this.s);return di(this.m,a)[z](J(function(){this.Me=!0;return this},this))};X[t].init=X[t].Ga;X[t].yb=G("s");X[t].getSchema=X[t].yb;X[t].mc=function(){if(!this.Me)throw new P(2);};X[t].select=function(a){this.mc();return new W(this.m,1!=arguments[C]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].Ab=function(){this.mc();return new bh(this.m)};X[t].insert=X[t].Ab;
X[t].Ne=function(){this.mc();return new bh(this.m,!0)};X[t].insertOrReplace=X[t].Ne;ra(X[t],function(a){this.mc();return new fh(this.m,a)});ra(X[t],X[t][Va]);sa(X[t],function(){this.mc();return new ah(this.m)});X[t]["delete"]=X[t][Ya];X[t].observe=function(a,b){this.m.o(Kd).ie(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.m.o(Kd).gf(a,b)};X[t].unobserve=X[t].unobserve;X[t].zi=function(){this.mc();return new fi(this.m)};X[t].createTransaction=X[t].zi;
pa(X[t],function(){try{this.m.o(Fd)[Ra]()}catch(a){}this.m[cb]();this.Me=!1});pa(X[t],X[t][Ra]);
function Y(a,b,c,d,g,k){this.N=a;this.B=b;this.Ag=c;this.ug=d;this.rh=g;this.jb=k||null}I("lf.schema.BaseColumn",Y,void 0);H=Y[t];oa(H,G("B"));H.l=function(){return this.N.pa()+"."+this.B};f(H,function(){return this.l()});H.L=G("N");H.Z=G("rh");H.ab=G("jb");H.Fa=function(){null==this.ua&&(this.ua=[],this.L().Fa()[F](function(a){-1!=a.h.map(function(a){return a.ea[u]()})[$a](this.B)&&this.ua[y](a)},this));return this.ua};H.vc=G("ug");H.cd=G("Ag");H.Ua=function(a){return fg(this,a,"eq")};Y[t].eq=Y[t].Ua;
Y[t].Ig=function(a){return fg(this,a,"neq")};Y[t].neq=Y[t].Ig;Y[t].Ue=function(a){return fg(this,a,"lt")};Y[t].lt=Y[t].Ue;Y[t].rk=function(a){return fg(this,a,"lte")};Y[t].lte=Y[t].rk;Y[t].Uj=function(a){return fg(this,a,"gt")};Y[t].gt=Y[t].Uj;Y[t].Vj=function(a){return fg(this,a,"gte")};Y[t].gte=Y[t].Vj;Y[t].match=function(a){return fg(this,a,"match")};Y[t].match=Y[t].match;Y[t].Qh=function(a,b){return fg(this,[a,b],"between")};Y[t].between=Y[t].Qh;Y[t].bk=function(a){return fg(this,a,"in")};
Y[t]["in"]=Y[t].bk;Y[t].kk=function(){return this.Ua(null)};Y[t].isNull=Y[t].kk;Y[t].jk=function(){return this.Ig(null)};Y[t].isNotNull=Y[t].jk;Y[t].Hc=function(a){return new Y(this.N,this.B,this.Ag,this.ug,this.rh,a)};Y[t].as=Y[t].Hc;
function hi(){this.ce=new N}var ii;ua(hi[t],function(){this.ce[cb]()});ua(hi[t],hi[t][cb]);hi[t].qb=function(a,b){this.ce.set(a[D](),b);return b};hi[t].registerService=hi[t].qb;hi[t].o=function(a){var b=this.ce.get(a[D](),null);if(null==b)throw new P(7,a[D]());return b};hi[t].getService=hi[t].o;hi[t].Se=function(a){return this.ce.A(a[D]())};hi[t].isRegistered=hi[t].Se;
function ji(a){this.s=a;this.ff=new Bd;this.Pg=new Bd;this.Nf=new Bd;this.i=new Bd;this.te=new Bd;this.ek()}H=ji[t];H.ek=function(){this.s.Za()[F](function(a){var b=new gf;a.Gb().dg()[F](function(c){var d=this.ff.get(c.eb)||[];d[y](c);this.ff.set(c.eb,d);b.add(this.s[h](c.eb));(d=this.i.get(c.eb))||(d=new gf);d.add(a);this.i.set(c.eb,d);this.Nf.set(a[u]()+"."+c.oc,c.eb);c=c.eb+"."+c.yc;d=this.te.get(c)||[];d[y](a[u]());this.te.set(c,d)},this);0!=b[Gb]&&this.Pg.set(a[u](),b)},this)};
H.Jj=function(a){return this.ff.get(a)||null};H.Wf=function(a,b){var c=b.get(a);return c?hf(c):[]};H.Ej=function(a){return this.Wf(a,this.Pg)};H.Fj=function(a){var b=new gf;a[F](function(a){(a=this.Nf.get(a))&&b.add(a)},this);return hf(b).map(function(a){return this.s[h](a)},this)};H.$f=function(a){return this.Wf(a,this.i)};H.uj=function(a){var b=new gf;a[F](function(a){(a=this.te.get(a))&&a[F](function(a){b.add(a)})},this);return hf(b).map(function(a){return this.s[h](a)},this)};
function ki(a,b,c){this.Kk=a;this.yk=b;this.ej=c}ki[t].He=G("Kk");ki[t].Bj=G("yk");ki[t].dg=G("ej");
function li(a,b){var c=a.ref[Ja](".");if(2!=c[C])throw new P(540,b);this.oc=a.local;this.eb=c[0];this.yc=c[1];ka(this,b);this.action=a.action;this.timing=a[Ma]};
function Z(a){this.B=a;this.F=new Bd;this.rf=new gf;this.Dc=new gf;this.Sd=new gf;var b=this.B;this.zc="pk"+(b[0].toUpperCase()+b.substring(1));this.ua=new Bd;this.Wd=!1;this.nc(a);this.Yf=[]}I("lf.schema.TableBuilder",Z,void 0);function mi(a){ka(this,a[q]);this.pb=a.order;this.autoIncrement=a[pb]}var ni=new gf([0,6]);Z[t].nc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);if(this.F.has(a)||this.ua.has(a)||this.Dc.has(a))throw new P(503,this.B+"."+a);};
Z[t].fi=function(a){var b=!1;a[F](function(a){var d=this.F.get(a[q]);b=b||a[pb];if(a[pb]&&3!=d)throw new P(504);},this);if(b&&1<a[C])throw new P(505);};Z[t].yh=function(a,b){this.nc(a);this.F.set(a,b);ni.has(b)&&this.zf([a]);return this};Z[t].addColumn=Z[t].yh;Z[t].Ah=function(a,b){this.nc(this.zc);var c=this.Rd(a,!0,void 0,b);this.fi(c);1==c[C]&&this.rf.add(c[0][q]);this.Dc.add(this.zc);this.ua.set(this.zc,c);return this};Z[t].addPrimaryKey=Z[t].Ah;
Z[t].zh=function(a,b){this.nc(a);var c=new li(b,this.B+"."+a);Lb(c.action)||(c.action=0);Lb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new P(506);if(!this.F.has(c.oc))throw new P(540,a);this.Yf[y](c);this.yf(a,[c.oc],!1);return this};Z[t].addForeignKey=Z[t].zh;Z[t].Bh=function(a,b){this.nc(a);var c=this.Rd(b,!0);this.Kf(a,c);1==c[C]&&this.rf.add(c[0][q]);this.ua.set(a,c);this.Dc.add(a);return this};Z[t].addUnique=Z[t].Bh;
Z[t].zf=function(a){a=this.Rd(a,!1);this.ei(a);a[F](function(a){this.Sd.add(a[q])},this);return this};Z[t].addNullable=Z[t].zf;Z[t].ei=function(a){Cd(this.ua)[F](function(b){var c=new gf;this.ua.get(b)[F](function(a){c.add(a[q])});var d=a[Ga](function(a){return c.has(a[q])});if(1<c[Gb]&&0<d[C])throw new P(507,b,d[m](","));},this)};Z[t].yf=function(a,b,c,d){this.nc(a);b=this.Rd(b,!0,d);this.Kf(a,b);c&&this.Dc.add(a);this.ua.set(a,b);return this};Z[t].addIndex=Z[t].yf;
Z[t].Kf=function(a,b){if(1<b[C]){var c=b[Ga](function(a){return this.Sd.has(a[q])},this);if(0<c[C])throw new P(507,a,c[m](","));}};Z[t].$b=Ib("Wd");Z[t].persistentIndex=Z[t].$b;Z[t].yb=function(){return new (this.sj())};Z[t].getSchema=Z[t].yb;Z[t].Wc=G("Yf");
Z[t].Rd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new mi({name:a,order:c||1,autoIncrement:d||!1})}):a.map(function(a){return new mi(a)});g[F](function(a){if(!this.F.has(a[q]))throw new P(508,this.B,a[q]);if(b){var c=this.F.get(a[q]);if(0==c||6==c)throw new P(509,this.B,a[q]);}},this);return g};
Z[t].sj=function(){function a(){function a(c){return b.ua.get(c).map(function(a){return{ea:this[a[q]],pb:a.pb,autoIncrement:a[pb]}},this)}var d=Cd(b.F).map(function(a){this[a]=new Y(this,a,b.rf.has(a),b.Sd.has(a),b.F.get(a));return this[a]},this),g=Cd(b.ua).map(function(d){return new hg(b.B,d,b.Dc.has(d),a[r](this,d))},this);ig[r](this,b.B,d,g,b.Wd);var k=b.ua.has(b.zc)?new hg(b.B,b.zc,!0,a[r](this,b.zc)):null,l=d[Ga](function(a){return!b.Sd.has(a[u]())}),p=hf(b.Dc).map(function(d){return new hg(b.B,
d,!0,a[r](this,d))},this);this.pi=new ki(k,l,b.Wc(),p);this.bh=b.oj(d,g)}var b=this;K(a,ig);a[t].Fb=function(a){return new this.bh(gd++,a)};a[t].createRow=a[t].Fb;a[t].pc=function(a){var b={};this.wb()[F](function(g){var k=g[u]();g=g.Z();var l=a[w][k];if(0==g)if(null===l)g=l;else if(g=l,""==g)g=null;else{0!=g[C]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[C]/2),p=new Uint8Array(l),v=0,ha=0;v<g[C];v+=2)p[ha++]=da(g.substr(v,2),16);g=l}else g=2==g?null===l?l:new Date(l):l;b[k]=g},this);return new this.bh(a.id,
b)};a[t].deserializeRow=a[t].pc;a[t].Gb=G("pi");a[t].getConstraint=a[t].Gb;return a};
Z[t].oj=function(a,b){function c(c,d){this.F=a;this.ua=b;fd[r](this,c,d)}K(c,fd);c[t].Sf=function(){var a={};this.F[F](function(b){a[b[u]()]=b.vc()?null:be[b.Z()]});return a};c[t].oh=function(){var a={};this.F[F](function(b){var c=b[u]();b=b.Z();var d=this.w()[c];a[c]=0==b?null===d?d:jd(d):2==b?null===d?d:d[Db]():d},this);return a};var d=J(function(a){var b=this.F.get(a[u]());return 2==b?function(b){b=b[a[u]()];return a.vc()&&null===b?null:b[Db]()}:1==b?function(b){return a.vc()?(b=b[a[u]()],null===
b?null:b?1:0):b[a[u]()]?1:0}:function(b){return b[a[u]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ea)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[F](function(a){var b=a.l();a=1==a.h[C]?d(a.h[0].ea):g(a.h);k[b]=a});c[t].Ub=function(a){return-1!=a[$a]("#")?this.id():k[tb](a)?k[a](this.w()):null};return c};
function oi(a,b){this.s=new pi(a,b);this.rb=new N;this.Tc=!1}I("lf.schema.Builder",oi,void 0);H=oi[t];H.ci=function(a){a.Wc()[F](function(b){var c=b.eb;if(!this.rb.A(c))throw new P(536,b[q]);var c=this.rb.get(c).yb(),d=b.yc;if(!c[tb](d))throw new P(537,b[q]);if(a.yb()[b.oc].Z()!=c[d].Z())throw new P(538,b[q]);if(!c[d].cd())throw new P(539,b[q]);},this)};H.bi=function(a){a.Wc()[F](function(a){this.rb.get(a.eb).Wc()[F](function(c){if(c.oc==a.yc)throw new P(534,a[q]);},this)},this)};
H.Zi=function(){this.Tc||(this.rb.f()[F](function(a){this.ci(a);this.s.cl(a.yb())},this),this.rb.f()[F](this.bi,this),this.ai(),this.rb[cb](),this.Tc=!0)};H.If=function(a,b){a.uf||(a.uf=!0,a.Ye=!0,a.Vf[F](function(c){c=b.get(c);if(!c.uf)this.If(c,b);else if(c.Ye&&a!=c)throw new P(533);},this));a.Ye=!1};H.ai=function(){var a=new Bd;this.s.G.V()[F](function(b){a.set(b,new qi(b))},this);this.rb[F](function(b,c){b.Wc()[F](function(b){a.get(b.eb).Vf.add(c)})});Dd(a)[F](function(b){this.If(b,a)},this)};
function qi(a){this.Ye=this.uf=!1;this.Vf=new gf;this.of=a}H.yb=function(){this.Tc||this.Zi();return this.s};oi[t].getSchema=oi[t].yb;oi[t].eg=function(){var a=new Ed("ns_"+this.s[q]()),b;ii||(ii=new hi);b=ii;var c=null;b.Se(a)?c=b.o(a):(c=new hi,b.qb(a,c));return c};oi[t].getGlobal=oi[t].eg;oi[t].connect=function(a){var b=this.eg();b.Se(Ld)||b.qb(Ld,this.yb());return(new X(b)).Ga(a)};oi[t].connect=oi[t].connect;
oi[t].xi=function(a){if(this.rb.A(a))throw new P(503,a);if(this.Tc)throw new P(535);this.rb.set(a,new Z(a));return this.rb.get(a)};oi[t].createTable=oi[t].xi;oi[t].nf=function(a){if(this.Tc)throw new P(535);this.s.nf(a);return this};oi[t].setPragma=oi[t].nf;function pi(a,b){this.B=a;this.Sa=b;this.G=new N;this.Tg={Fi:!1}}I("lf.schema.DatabaseSchema",pi,void 0);ka(pi[t],G("B"));ka(pi[t],pi[t][q]);pi[t].version=G("Sa");pi[t].version=pi[t][vb];pi[t].Za=function(){return this.G.f()};pi[t].tables=pi[t].Za;
ja(pi[t],function(a){if(!this.G.A(a))throw new P(101,a);return this.G.get(a)});ja(pi[t],pi[t][h]);pi[t].info=function(){this.pg||(this.pg=new ji(this));return this.pg};pi[t].cl=function(a){this.G.set(a[u](),a)};pi[t].Sg=G("Tg");pi[t].pragma=pi[t].Sg;pi[t].nf=Ib("Tg");I("lf.schema.create",function(a,b){return new oi(a,b)},void 0);}.bind(window))()
