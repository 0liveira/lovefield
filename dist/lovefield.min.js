/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function wa(a,b){return a.child=b}function xa(a,b){return a.next=b}function ya(a,b){return a.onerror=b}function za(a,b){return a.length=b}function f(a,b){return a.toString=b}function Aa(a,b){return a.bind=b}function Ba(a,b){return a.subscribe=b}function Ca(a,b){return a.forEach=b}function Ea(a,b){return a.getPriority=b}
var Fa="openCursor",Ga="filter",Ha="once",Ia="objectStoreNames",Ja="split",h="table",Ka="reduce",m="join",La="reject",Ma="timing",Na="item",n="slice",Oa="target",q="name",r="call",t="prototype",Pa="exec",u="getName",Qa="close",Ra="concat",v="value",Sa="setImmediate",Ta="every",Ua="update",Va="global",Wa="propertyIsEnumerable",Xa="delete",Ya="sort",Za="indexOf",$a="some",ab="count",bb="orderByChild",w="clear",cb="values",db="replace",fb="reverse",gb="continue",hb="removeChild",ib="remove",jb="child",
kb="create",x="push",z="then",lb="transaction",mb="index",nb="context",A="splice",ob="autoIncrement",pb="next",qb="shift",rb="hasOwnProperty",sb="contains",tb="version",ub="objectStore",vb="offset",wb="apply",xb="stringify",B="entries",C="length",yb="info",D="toString",zb="compare",E="bind",Ab="getParent",Bb="rows",F="forEach",Cb="getPriority",Db="getTime",Eb="resolve",Fb="result",Gb="size";function Hb(){return function(){}}function Ib(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Jb(a){return function(){return a}}var H,Kb=this;function Lb(a){return void 0!==a}function I(a,b,c){a=a[Ja](".");c=c||Kb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[C]&&(d=a[qb]());)!a[C]&&Lb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Mb(){}function Nb(a){a.Me=function(){return a.xg?a.xg:a.xg=new a}}
function Ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][D][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Wa]&&!a[Wa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Wa]&&!a[Wa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Pb(a){return null===a}function Qb(a){return null!=a}function Rb(a){var b=Ob(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Sb(a){return"string"==typeof a}function Tb(a){return"function"==Ob(a)}function Ub(a){return a[Vb]||(a[Vb]=++Wb)}var Vb="closure_uid_"+(1E9*ba.random()>>>0),Wb=0;function Xb(a,b,c){return a[r][wb](a[E],arguments)}
function Yb(a,b,c){if(!a)throw fa();if(2<arguments[C]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t].unshift[wb](c,d);return a[wb](b,c)}}return function(){return a[wb](b,arguments)}}function J(a,b,c){J=Function[t][E]&&-1!=Function[t][E][D]()[Za]("native code")?Xb:Yb;return J[wb](null,arguments)}function Zb(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[x][wb](b,arguments);return a[wb](this,b)}}
function K(a,b){function c(){}c.prototype=b[t];a.Pb=b[t];a.prototype=new c;a[t].constructor=a;a.Hl=function(a,c,k){for(var l=e(arguments[C]-2),p=2;p<arguments[C];p++)l[p-2]=arguments[p];return b[t][c][wb](a,l)}};function $b(a){if(fa.captureStackTrace)fa.captureStackTrace(this,$b);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K($b,fa);ja($b[t],"CustomError");function ac(a,b){for(var c=a[Ja]("%s"),d="",g=e[t][n][r](arguments,1);g[C]&&1<c[C];)d+=c[qb]()+g[qb]();return d+c[m]("%s")};function bc(a,b){b.unshift(a);$b[r](this,ac[wb](null,b));b[qb]()}K(bc,$b);ja(bc[t],"AssertionError");function cc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new bc(""+g,k||[]);}function L(a,b,c){a||cc("",null,b,e[t][n][r](arguments,2));return a}function dc(a,b){throw new bc("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function ec(a,b,c){Tb(a)||cc("Expected function but got %s: %s.",[Ob(a),a],b,e[t][n][r](arguments,2));return a};function fc(a,b,c){this.Ak=c;this.Ni=a;this.il=b;this.be=0;this.Wd=null}fc[t].get=function(){var a;0<this.be?(this.be--,a=this.Wd,this.Wd=a[pb],xa(a,null)):a=this.Ni();return a};fc[t].put=function(a){this.il(a);this.be<this.Ak&&(this.be++,xa(a,this.Wd),this.Wd=a)};var gc=e[t],hc=gc[Za]?function(a,b,c){L(null!=a[C]);return gc[Za][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[C]+c):c;if(Sb(a))return Sb(b)&&1==b[C]?a[Za](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},ic=gc[F]?function(a,b,c){L(null!=a[C]);gc[F][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)k in g&&b[r](c,g[k],k,a)},jc=gc.map?function(a,b,c){L(null!=a[C]);return gc.map[r](a,b,c)}:function(a,b,c){for(var d=a[C],g=e(d),k=Sb(a)?a[Ja](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[r](c,k[l],l,a));return g},kc=gc[Ka]?function(a,b,c,d){L(null!=a[C]);d&&(b=J(b,d));return gc[Ka][r](a,b,c)}:function(a,b,c,d){var g=c;ic(a,function(c,l){g=b[r](d,g,c,l,a)});return g},lc=gc[$a]?function(a,b,c){L(null!=a[C]);return gc[$a][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a))return!0;return!1},mc=gc[Ta]?function(a,b,c){L(null!=a[C]);return gc[Ta][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Sb(a)?a[Ja](""):a,k=0;k<
d;k++)if(k in g&&!b[r](c,g[k],k,a))return!1;return!0};function nc(a,b){L(null!=a[C]);return 1==gc[A][r](a,b,1)[C]}function oc(a,b,c){a:{for(var d=a[C],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(nc(a,b),!0):!1}function pc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function qc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Rb(d)){var g=a[C]||0,k=d[C]||0;za(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[x](d)}}function rc(a,b,c,d){L(null!=a[C]);return gc[A][wb](a,sc(arguments,1))}function sc(a,b,c){L(null!=a[C]);return 2>=arguments[C]?gc[n][r](a,b):gc[n][r](a,b,c)}function tc(a,b){return a>b?1:a<b?-1:0}
function uc(a,b,c){var d;c=c||tc;for(var g=0,k=a[C];g<k;){var l=g+k>>1,p;p=c(b,a[l]);0<p?g=l+1:(k=l,d=!p)}d=d?g:~g;return 0>d?(rc(a,-(d+1),0,b),!0):!1}function vc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function wc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Ob(d))for(var g=0;g<d[C];g+=8192)for(var k=sc(d,g,g+8192),k=wc[wb](null,k),l=0;l<k[C];l++)b[x](k[l]);else b[x](d)}return b};function xc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function yc(a,b,c){for(var d in a)if(b[r](c,a[d],d,a))return!0;return!1}function zc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ac(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Bc;a:{var Cc=Kb.navigator;if(Cc){var Dc=Cc.userAgent;if(Dc){Bc=Dc;break a}}Bc=""};function Ec(a){Kb.setTimeout(function(){throw a;},0)}var Fc;
function Hc(){var a=Kb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==Bc[Za]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Qa]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Bc[Za]("Trident")&&-1==Bc[Za]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Lb(c[pb])){c=c[pb];var a=c.Nf;c.Nf=null;a()}};return function(a){xa(d,{Nf:a});d=d[pb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[hb](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Kb.setTimeout(a,0)}};function Ic(){this.pe=this.mc=null}var Kc=new fc(function(){return new Jc},function(a){a.reset()},100);Ic[t].add=function(a,b){var c=this.ak();c.set(a,b);this.pe?xa(this.pe,c):(L(!this.mc),this.mc=c);this.pe=c};va(Ic[t],function(){var a=null;this.mc&&(a=this.mc,this.mc=this.mc[pb],this.mc||(this.pe=null),xa(a,null));return a});Ic[t].jl=function(a){Kc.put(a)};Ic[t].ak=function(){return Kc.get()};function Jc(){this.scope=this.Ie=null;xa(this,null)}
Jc[t].set=function(a,b){this.Ie=a;this.scope=b;xa(this,null)};Jc[t].reset=function(){this.scope=this.Ie=null;xa(this,null)};function Lc(a,b){Mc||Nc();Oc||(Mc(),Oc=!0);Pc.add(a,b)}var Mc;function Nc(){if(Kb.Promise&&Kb.Promise[Eb]){var a=Kb.Promise[Eb](void 0);Mc=function(){a[z](Qc)}}else Mc=function(){var a=Qc;if(!Tb(Kb[Sa])||Kb.Window&&Kb.Window[t]&&Kb.Window[t][Sa]==Kb[Sa])Fc||(Fc=Hc()),Fc(a);else Kb[Sa](a)}}var Oc=!1,Pc=new Ic;[][x](function(){Oc=!1;Pc=new Ic});function Qc(){for(var a=null;a=Pc[ib]();){try{a.Ie[r](a.scope)}catch(b){Ec(b)}Pc.jl(a)}Oc=!1};function M(a,b){this.Ka=0;this.ih=void 0;this.Ad=this.qc=this.F=null;this.Vd=this.He=!1;if(a!=Mb)try{var c=this;a[r](b,function(a){c.Dc(2,a)},function(a){if(!(a instanceof Rc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.Dc(3,a)})}catch(d){this.Dc(3,d)}}function Sc(){wa(this,null);this.context=this.Ac=this.bc=null;xa(this,null);this.se=!1}Sc[t].reset=function(){wa(this,null);this.context=this.Ac=this.bc=null;this.se=!1};
var Tc=new fc(function(){return new Sc},function(a){a.reset()},100);function Uc(a,b,c){var d=Tc.get();d.bc=a;d.Ac=b;d.context=c;return d}function Vc(a){if(a instanceof M)return a;var b=new M(Mb);b.Dc(2,a);return b}function Wc(a){return new M(function(b,c){c(a)})}function Xc(a,b,c){Yc(a,b,c,null)||Lc(Zb(b,a))}function Zc(a){return new M(function(b,c){var d=a[C],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;p<a[C];p++)y=a[p],Xc(y,Zb(k,p),l);else b(g)})}
function $c(){var a,b,c=new M(function(c,g){a=c;b=g});return new ad(c,a,b)}M[t].then=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.Ef(Tb(a)?a:null,Tb(b)?b:null,c)};M[t].then=M[t][z];M[t].$goog_Thenable=!0;H=M[t];
H.vl=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.Df(Uc(a||Mb,b||null,c))};H.wh=function(a,b){return this.Ef(null,a,b)};H.Df=function(a){this.jk()||2!=this.Ka&&3!=this.Ka||this.lh();this.Zk(a)};
H.Ef=function(a,b,c){var d=Uc(null,null,null);wa(d,new M(function(g,k){d.bc=a?function(b){try{var d=a[r](c,b);g(d)}catch(y){k(y)}}:g;d.Ac=b?function(a){try{var d=b[r](c,a);!Lb(d)&&a instanceof Rc?k(a):g(d)}catch(y){k(y)}}:k}));d[jb].F=this;this.Df(d);return d[jb]};H.yl=function(a){L(1==this.Ka);this.Ka=0;this.Dc(2,a)};H.zl=function(a){L(1==this.Ka);this.Ka=0;this.Dc(3,a)};
H.Dc=function(a,b){0==this.Ka&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ka=1,Yc(b,this.yl,this.zl,this)||(this.ih=b,this.Ka=a,this.F=null,this.lh(),3!=a||b instanceof Rc||bd(this,b)))};
function Yc(a,b,c,d){if(a instanceof M)return a.vl(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[z](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[z];if(Tb(l))return cd(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function cd(a,b,c,d,g){function k(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,k)}catch(y){k(y)}}H.lh=function(){this.He||(this.He=!0,Lc(this.gj,this))};H.jk=function(){return!!this.qc};
H.Zk=function(a){L(null!=a.bc);this.Ad?xa(this.Ad,a):this.qc=a;this.Ad=a};H.Tk=function(){var a=null;this.qc&&(a=this.qc,this.qc=a[pb],xa(a,null));this.qc||(this.Ad=null);null!=a&&L(null!=a.bc);return a};H.gj=function(){for(var a=null;a=this.Tk();)this.fj(a,this.Ka,this.ih);this.He=!1};H.fj=function(a,b,c){3==b&&a.Ac&&!a.se&&this.gl();if(a[jb])a[jb].F=null,dd(a,b,c);else try{a.se?a.bc[r](a[nb]):dd(a,b,c)}catch(d){ed[r](null,d)}Tc.put(a)};
function dd(a,b,c){2==b?a.bc[r](a[nb],c):a.Ac&&a.Ac[r](a[nb],c)}H.Nh=Hb();H.gl=function(){var a;for(a=this;a&&a.Vd;a=a.F)a.Vd=!1};function bd(a,b){a.Vd=!0;Lc(function(){a.Vd&&(a.Nh(b),ed[r](null,b))})}var ed=Ec;function Rc(a){$b[r](this,a)}K(Rc,$b);ja(Rc[t],"cancel");function ad(a,b,c){this.ma=a;this.resolve=b;this.reject=c};
function fd(a,b){this.za=a;this.dc=b||this.$f()}var gd=0;H=fd[t];H.id=G("za");H.Wh=Ib("za");H.w=G("dc");H.$f=function(){return{}};H.xh=G("dc");H.Ja=function(){return{id:this.za,value:this.xh()}};H.$b=function(a){return"#"==a.substr(-1)?this.za:null};function hd(a){return new fd(a.id,a[v])}function id(a){return new fd(gd++,a||{})}function jd(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};
function kd(a){this.type=a}function ld(a){fd[r](this,-1,a)}K(ld,fd);
var md={};I("lf.TransactionType",md,void 0);md.READ_ONLY=0;md.READ_WRITE=1;

function nd(a,b){this.Wa=a;this.yh=b;this.ba=$c()}H=nd[t];H.Lj=G("Wa");H.pa=function(){try{this.Wa.ji()}catch(a){return Wc(a)}return(0==this.yh?this.Nc():this.Fk())[z](J(function(a){this.Wa.pa();return a},this))};H.Fk=function(){this.Gk();this.Ek();return this.Nc()};
H.Gk=function(){this.Wa.jg()[F](function(a,b){var c=this.Wa.ga().get(b),c=this.M(c[u](),J(c.tc,c)),d=a.Yc().o().map(function(a){return a.id()});0<d[C]&&c[ib](d).wh(this.Se,this);d=a.$c().o().map(function(a){return a[1]})[Ra](a.Wc().o());c.put(d).wh(this.Se,this)},this)};H.Ek=function(){this.Wa.Ij()[F](function(a){var b=this.M(a[u](),hd),c;b.get([-1])[z](function(a){c=a;return b[ib]([])})[z](function(){b.put(c);b.put(a.Ja())},J(this.Se,this))},this)};H.Se=function(a){this.ba[La](a)};function od(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[C],k=b[C],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<k+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=k;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var Da=[],p=g,y=k;0<p&&0<y;)c(a[p-1],b[y-1])?(Da.unshift(d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return Da}function pd(a){return kc(arguments,function(a,c){return a+c},0)}
function qd(a){return pd[wb](null,arguments)/arguments[C]}function rd(a){var b=arguments[C];if(2>b)return 0;var c=qd[wb](null,arguments);return pd[wb](null,jc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function sd(a){return ba.sqrt(rd[wb](null,arguments))};var td="StopIteration"in Kb?Kb.StopIteration:{message:"StopIteration",stack:""};function ud(){}xa(ud[t],function(){throw td;});ud[t].Fc=function(){return this};function vd(a){if(a instanceof ud)return a;if("function"==typeof a.Fc)return a.Fc(!1);if(Rb(a)){var b=0,c=new ud;xa(c,function(){for(;;){if(b>=a[C])throw td;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function wd(a,b,c){if(Rb(a))try{ic(a,b,c)}catch(d){if(d!==td)throw d;}else{a=vd(a);try{for(;;)b[r](c,a[pb](),void 0,a)}catch(g){if(g!==td)throw g;}}}function xd(a){if(lc(arguments,function(a){return!a[C]})||!arguments[C])return new ud;var b=new ud,c=arguments,d=vc(0,c[C]);xa(b,function(){if(d){for(var a=jc(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){L(d);if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw td;});return b};function yd(a,b){this.g={};this.b=[];this.Ta=this.aa=0;var c=arguments[C];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}H=yd[t];H.Ma=G("aa");H.o=function(){this.Lc();for(var a=[],b=0;b<this.b[C];b++)a[x](this.g[this.b[b]]);return a};H.oa=function(){this.Lc();return this.b[Ra]()};H.K=function(a){return zd(this.g,a)};H.Ed=function(a){for(var b=0;b<this.b[C];b++){var c=this.b[b];if(zd(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Sc=function(a,b){if(this===a)return!0;if(this.aa!=a.Ma())return!1;var c=b||Ad;this.Lc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Ad(a,b){return a===b}H.Eb=function(){return 0==this.aa};ta(H,function(){this.g={};za(this.b,0);this.Ta=this.aa=0});va(H,function(a){return zd(this.g,a)?(delete this.g[a],this.aa--,this.Ta++,this.b[C]>2*this.aa&&this.Lc(),!0):!1});
H.Lc=function(){if(this.aa!=this.b[C]){for(var a=0,b=0;a<this.b[C];){var c=this.b[a];zd(this.g,c)&&(this.b[b++]=c);a++}za(this.b,b)}if(this.aa!=this.b[C]){for(var d={},b=a=0;a<this.b[C];)c=this.b[a],zd(d,c)||(this.b[b++]=c,d[c]=1),a++;za(this.b,b)}};H.get=function(a,b){return zd(this.g,a)?this.g[a]:b};H.set=function(a,b){zd(this.g,a)||(this.aa++,this.b[x](a),this.Ta++);this.g[a]=b};
H.addAll=function(a){var b;a instanceof yd?(b=a.oa(),a=a.o()):(b=Ac(a),a=zc(a));for(var c=0;c<b[C];c++)this.set(b[c],a[c])};Ca(H,function(a,b){for(var c=this.oa(),d=0;d<c[C];d++){var g=c[d],k=this.get(g);a[r](b,k,g,this)}});la(H,function(){return new yd(this)});H.Fc=function(a){this.Lc();var b=0,c=this.Ta,d=this,g=new ud;xa(g,function(){if(c!=d.Ta)throw fa("The map has changed since the iterator was created");if(b>=d.b[C])throw td;var g=d.b[b++];return a?g:d.g[g]});return g};
function zd(a,b){return aa[t][rb][r](a,b)};
function Bd(){this.g=new yd;aa.defineProperty(this,"size",{get:function(){return this.g.Ma()}})}ta(Bd[t],function(){this.g[w]()});ta(Bd[t],Bd[t][w]);ra(Bd[t],function(a){return this.g[ib](a)});Bd[t]["delete"]=Bd[t][Xa];Ca(Bd[t],function(a,b){return this.g[F](a,b)});Ca(Bd[t],Bd[t][F]);Bd[t].get=function(a){return this.g.get(a)};Bd[t].get=Bd[t].get;Bd[t].has=function(a){return this.g.K(a)};Bd[t].has=Bd[t].has;Bd[t].set=function(a,b){return this.g.set(a,b)};Bd[t].set=Bd[t].set;
function N(){return ca.Map&&ca.Map[t][cb]&&ca.Map[t][F]?new Map:new Bd}function Cd(a){if(a instanceof Bd)return a.g.oa();var b=0,c=e(a[Gb]);a[F](function(a,g){c[b++]=g});return c}function Dd(a){if(a instanceof Bd)return a.g.o();var b=0,c=e(a[Gb]);a[F](function(a){c[b++]=a});return c};
function Ed(a){this.kl=a}f(Ed[t],G("kl"));var Fd=new Ed("backstore"),Gd=new Ed("cache"),Hd=new Ed("indexstore"),Id=new Ed("engine"),Jd=new Ed("runner"),Kd=new Ed("observerregistry"),Ld=new Ed("schema");
function Md(a){if("function"==typeof a.Ma)a=a.Ma();else if(Rb(a)||Sb(a))a=a[C];else{var b=0,c;for(c in a)b++;a=b}return a}function Nd(a){if("function"==typeof a.o)return a.o();if(Sb(a))return a[Ja]("");if(Rb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[x](a[d]);return b}return zc(a)}
function Od(a,b,c){if("function"==typeof a[Ta])return a[Ta](b,c);if(Rb(a)||Sb(a))return mc(a,b,c);var d;if("function"==typeof a.oa)d=a.oa();else if("function"!=typeof a.o)if(Rb(a)||Sb(a)){d=[];for(var g=a[C],k=0;k<g;k++)d[x](k)}else d=Ac(a);else d=void 0;for(var g=Nd(a),k=g[C],l=0;l<k;l++)if(!b[r](c,g[l],d&&d[l],a))return!1;return!0};function Pd(a){this.g=new yd;a&&this.addAll(a)}function Qd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Ub(a):b.substr(0,1)+a}H=Pd[t];H.Ma=function(){return this.g.Ma()};H.add=function(a){this.g.set(Qd(a),a)};H.addAll=function(a){a=Nd(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};va(H,function(a){return this.g[ib](Qd(a))});ta(H,function(){this.g[w]()});H.Eb=function(){return this.g.Eb()};H.contains=function(a){return this.g.K(Qd(a))};H.o=function(){return this.g.o()};la(H,function(){return new Pd(this)});
H.Sc=function(a){return this.Ma()==Md(a)&&this.xk(a)};H.xk=function(a){var b=Md(a);if(this.Ma()>b)return!1;!(a instanceof Pd)&&5<b&&(a=new Pd(a));return Od(this,function(b){var d=a;if("function"==typeof d[sb])b=d[sb](b);else if("function"==typeof d.Ed)b=d.Ed(b);else if(Rb(d)||Sb(d))b=0<=hc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Fc=function(){return this.g.Fc(!1)};
function Rd(a){this.jc=new Pd(a);aa.defineProperty(this,"size",{get:function(){return this.jc.Ma()}})}Rd[t].add=function(a){this.jc.add(a)};Rd[t].add=Rd[t].add;ta(Rd[t],function(){this.jc[w]()});ta(Rd[t],Rd[t][w]);ra(Rd[t],function(a){return this.jc[ib](a)});Rd[t]["delete"]=Rd[t][Xa];Ca(Rd[t],function(a,b){this.jc.o()[F](a,b)});Rd[t].has=function(a){return this.jc[sb](a)};Rd[t].has=Rd[t].has;function O(a){return ca.Set&&ca.Set[t][cb]&&ca.Set[t][F]?new ca.Set(a):new Rd(a)}
function Sd(a){if(a instanceof Rd)return a.jc.o();var b=0,c=e(a[Gb]);a[F](function(a){c[b++]=a});return c}function Td(a,b){if(b[Gb]>a[Gb])return!1;var c=!0;b[F](function(b){c=c&&a.has(b)});return c};
function Ud(a,b){this.za=a;this.dc=b||{}}function Vd(a){var b=O();a[F](function(a){b.add(a>>9)});return Sd(b)}H=Ud[t];H.fa=G("za");H.zc=G("dc");H.qh=function(a){a[F](function(a){this.dc[a.id()]=a.Ja()},this)};H.fl=function(a){a[F](function(a){var c=this.dc;a in c&&delete c[a]},this)};H.Ja=function(){return{id:this.za,value:ga[xb](this.dc)}};function Wd(a){return new Ud(a.id,ga.parse(a[v]))};

function Xd(a,b,c){this.$=a;this.Vb=b;this.jh=c}H=Xd[t];H.get=function(a){return 0==a[C]?this.Xc():this.Pj(a)[z](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Vb(d.zc()[a])},this)},this))};H.Pj=function(a){var b=N(),c=$c();a=Vd(a).map(function(a){return new M(function(c,k){var l;try{l=this.$.get(a)}catch(p){k(p);return}ya(l,k);sa(l,J(function(a){a=Wd(a[Oa][Fb]);b.set(a.fa(),a);c()},this))},this)},this);Zc(a)[z](function(){c[Eb](b)});return c.ma};
H.Xc=function(){return new M(function(a,b){var c=[],d;try{d=this.$[Fa]()}catch(g){b(g);return}ya(d,b);sa(d,J(function(){var b=d[Fb];if(b){var g=Wd(b[v]).zc(),p;for(p in g)c[x](this.Vb(g[p]));b[gb]()}else a(c)},this))},this)};H.ec=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);ya(d,c)},this)};
H.put=function(a){if(0==a[C])return Vc();var b=N();a[F](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.jh(this.$[q],d));g.qh([a]);b.set(d,g)},this);a=Dd(b).map(function(a){return this.ec(J(function(){return this.$.put(a.Ja())},this))},this);return Zc(a)};
va(H,function(a){if(0==a[C])return this.ec(J(function(){return this.$[w]()},this));var b=N();a[F](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.jh(this.$[q],d));g.fl([a]);b.set(d,g)},this);a=Dd(b).map(function(a){return this.ec(J(function(){var b;a:{b=a.zc();for(var g in b){b=!1;break a}b=!0}return b?this.$[Xa](a.fa()):this.$.put(a.Ja())},this))},this);return Zc(a)});function Yd(a,b,c){a=a.m(Gd);var d=[c<<9,(c+1<<9)-1];b=a.ob(b,d[0],d[1]);c=new Ud(c);c.qh(b);return c}
function Zd(a,b){return new Ud(b)};
function $d(){};
function ae(a){this.va=a.m(Gd);this.H=a.m(Hd);this.s=a.m(Ld)}H=ae[t];qa(H,function(a){a[F](function(a){this.Dl(a);this.Al(a)},this)});H.Al=function(a){var b=a[u]();a.Yc().o()[F](function(a){this.va[ib](b,[a.id()])},this);a.Wc()[F](function(a){this.va.set(b,[a])},this);a.$c()[F](function(a){this.va.set(b,[a[1]])},this)};H.Dl=function(a){var b=this.s[h](a[u]());a.Fj()[F](function(a){this.Dh(b,a)},this)};
H.Dh=function(a,b){var c=[];this.H.qg(a[u]())[F](function(a){try{this.Ch(a,b),c[x](a)}catch(g){throw c[F](function(a){this.Ch(a,[b[1],b[0]])},this),g;}},this)};H.Ch=function(a,b){var c=null===b[1]?void 0:b[1].$b(a[u]()),d=null===b[0]?void 0:b[0].$b(a[u]());if(!Lb(d)&&Lb(c))a.add(c,b[1].id());else if(Lb(d)&&Lb(c)){if(null===c||null===d){if(c==d)return}else if(0==a.Oc()[zb](d,c))return;a.add(c,b[1].id());a[ib](d,b[0].id())}else Lb(d)&&!Lb(c)&&a[ib](d,b[0].id())};
var be={};I("lf.ConstraintAction",be,void 0);be.RESTRICT=0;be.CASCADE=1;var ce={};I("lf.ConstraintTiming",ce,void 0);ce.IMMEDIATE=0;ce.DEFERRABLE=1;var de={};I("lf.Order",de,void 0);de.DESC=0;de.ASC=1;var ee={};I("lf.Type",ee,void 0);ee.ARRAY_BUFFER=0;ee.BOOLEAN=1;ee.DATE_TIME=2;ee.INTEGER=3;ee.NUMBER=4;ee.STRING=5;ee.OBJECT=6;var fe={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",fe,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ba.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][D]()[n](0,64)))}K(P,fa);

function ge(a){this.H=a.m(Hd);this.s=a.m(Ld)}H=ge[t];H.nj=function(a,b){var c=a.Kb().Rd();return null===c?null:this.mj(c,b)};H.mj=function(a,b){var c=a.l(),d=b.$b(c),c=this.H.get(c).get(d);return 0==c[C]?null:c[0]};H.Ae=function(a,b){var c=a.Kb().Nj();b[F](function(a){c[F](function(b){if(null==a.w()[b[u]()])throw new P(202,b.l());},this)},this)};H.Sf=function(a,b,c){a.Kb().Le()[F](function(a){a[Ma]==c&&this.xi(a,b)},this)};
H.xi=function(a,b){var c=this.mg(a);b[F](function(b){if(he(b[0],b[1],a[q])&&(b=b[1].w()[a.Sb],null!==b&&!c.K(b)))throw new P(203,a[q]);},this)};H.mg=function(a){var b=this.s[h](a.fb)[a.Cc].Fa()[Ga](function(b){return 1==b.f[C]&&b.f[0].ha[u]()==a.Cc})[0];return this.H.get(b.l())};function he(a,b,c){return(null===a?null!==b:null===b)||a.$b(c)!=b.$b(c)}
H.Tf=function(a,b,c){a=this.s[yb]().Vj(a[u]());null!=a&&a[F](function(a){if(a[Ma]==c){var g=this.H.get(a[q]);b[F](function(b){var c=this.mg(a);if(he(b[0],b[1],c[u]())&&g.K(b[0].w()[a.Cc]))throw new P(203,a[q]);},this)}},this)};H.ye=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[null,a]}),this.Sf(a,b,c))};H.ze=function(a,b,c){0!=b[C]&&(this.Sf(a,b,c),this.Tf(a,b,c))};H.Qf=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[a,null]}),this.Tf(a,b,c))};
function ie(a){this.jb=new yd;this.Pa=new yd;this.mb=new yd;this.A=a}H=ie[t];na(H,G("A"));H.Wc=G("jb");H.$c=G("Pa");H.Yc=G("mb");H.add=function(a){if(this.mb.K(a.id())){var b=[this.mb.get(a.id()),a];this.Pa.set(a.id(),b);this.mb[ib](a.id())}else this.jb.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.jb.K(b)?this.jb.set(b,c):(this.Pa.K(b)&&(a=[this.Pa.get(a[0].id())[0],c]),this.Pa.set(b,a))};
ra(H,function(a){if(this.jb.K(a.id()))this.jb[ib](a.id());else if(this.Pa.K(a.id())){var b=this.Pa.get(a.id())[0];this.Pa[ib](a.id());this.mb.set(a.id(),b)}else this.mb.set(a.id(),a)});H.Fj=function(){var a=[];this.jb.o()[F](function(b){a[x]([null,b])},this);this.Pa.o()[F](function(b){a[x](b)},this);this.mb.o()[F](function(b){a[x]([b,null])},this);return a};f(H,function(){return"["+this.jb.oa()[D]()+"], ["+this.Pa.oa()[D]()+"], ["+this.mb.oa()[D]()+"]"});
H.Wj=function(){var a=new ie(this.A);this.jb.o()[F](function(b){a[Xa](b)},this);this.mb.o()[F](function(b){a.add(b)},this);this.Pa.o()[F](function(b){a.modify([b[1],b[0]])},this);return a};H.Eb=function(){return this.jb.Eb()&&this.mb.Eb()&&this.Pa.Eb()};
function je(a,b){this.ta=N();b[F](function(a){this.ta.set(a[u](),a)},this);this.va=a.m(Gd);this.H=a.m(Hd);this.Ua=new ge(a);this.Xd=new ae(a);this.hf=this.ne=!1;this.Hb=N()}H=je[t];H.jg=G("Hb");H.Ij=function(){var a=[];Cd(this.Hb).map(function(a){return this.ta.get(a)},this)[F](function(b){b.Mb()&&(b.Fa()[F](function(b){a[x](this.H.get(b.l()))},this),a[x](this.H.get(b[u]()+".#")))},this);return a};H.ga=G("ta");
H.Jj=function(){var a=[];this.ta[F](function(b){b.Mb()&&(b.Fa()[F](function(b){a[x](b.l())}),a[x](b[u]()+".#"))});return a};H.Db=function(a,b){this.Jc();this.Bd(a);this.Ua.Ae(a,b);this.Ua.ye(a,b,0);for(var c=0;c<b[C];c++)this.Yd(a,[null,b[c]])};
H.Yd=function(a,b){var c=a[u](),d=this.Hb.get(c)||new ie(c);this.Hb.set(c,d);try{this.Xd.Dh(a,b)}catch(g){throw this.hf=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.va.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.va.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.va[ib](c,[k.id()]),d[Xa](k))};qa(H,function(a,b){this.Jc();this.Bd(a);this.Ua.Ae(a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.va.get([d.id()])[0],d];this.Ua.ze(a,[d],0);this.Yd(a,d)}});
H.Ue=function(a,b){this.Jc();this.Bd(a);this.Ua.Ae(a,b);for(var c=0;c<b[C];c++){var d=b[c],g=null,k=this.Ua.nj(a,d);null!=k?(g=this.va.get([k])[0],d.Wh(k),this.Ua.ze(a,[[g,d]],0)):this.Ua.ye(a,[d],0);this.Yd(a,[g,d])}};va(H,function(a,b){this.Jc();this.Bd(a);this.Ua.Qf(a,b,0);for(var c=0;c<b[C];c++)this.Yd(a,[b[c],null])});H.ji=function(){this.Hb[F](function(a){var b=this.ta.get(a[u]());this.Ua.ye(b,a.Wc().o(),1);this.Ua.Qf(b,a.Yc().o(),1);this.Ua.ze(b,a.$c().o(),1)},this)};
H.pa=function(){this.Jc();this.ne=!0};H.Jc=function(){L(!this.hf,"Attemptted to use journal that needs to be rolled back.");L(!this.ne,"Attemptted to commit a terminated journal.")};H.Nb=function(){L(!this.ne,"Attempted to rollback a terminated journal.");var a=Dd(this.Hb).map(function(a){return a.Wj()});this.Xd[Ua](a);this.ne=!0;this.hf=!1};H.Bd=function(a){if(!this.ta.has(a[u]()))throw new P(106,a[u]());};
function ke(a,b,c,d){this.c=a;this.u=b;this.Y=null===this.c?!1:c;this.da=null===this.u?!1:d}H=ke[t];f(H,function(){return(this.Y?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.u?"unbound":this.u)+(this.da?")":"]")});H.Ci=function(){if(null===this.c&&null===this.u)return[];var a=null,b=null;null===this.c||(a=new ke(null,this.c,!1,!this.Y));null===this.u||(b=new ke(this.u,null,!this.da,!1));return[a,b][Ga](function(a){return null!==a})};
H.reverse=function(){return new ke(this.u,this.c,this.da,this.Y)};H.Wg=function(a){var b=le(this.c,a.c,!0,this.Y,a.Y);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.c||c.u==a.c&&!c.da&&!a.Y};function me(){return new ke(null,null,!1,!1)}H.yg=function(){return null===this.c&&null===this.u};H.Dg=function(){return null!=this.c&&this.c==this.u&&!this.Y&&!this.da};
H.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.da;return(null===this.c||a>this.c||a==this.c&&!this.Y)&&b};H.Sc=function(a){return this.c==a.c&&this.Y==a.Y&&this.u==a.u&&this.da==a.da};function le(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function ne(a,b){var c=le(a.c,b.c,!0,a.Y,b.Y);0==c&&(c=le(a.u,b.u,!1,a.da,b.da));return c};
function oe(a,b){this.entries=a;this.I=new Pd(b);this.Qb=null}H=oe[t];H.uk=function(a){return this.I.Sc(a.I)};function pe(a,b){L(a.uk(b),"Intersection/union operations only apply to compatible relations.")}H.W=function(){return this.I.o()};H.Xe=function(){return 1<this.I.Ma()};H.Ne=function(){return this[B].map(function(a){return a.xa.w()})};H.Yj=function(){return this[B].map(function(a){return a.xa.id()})};H.nh=function(a,b){null===this.Qb&&(this.Qb=new yd);this.Qb.set(a.l(),b)};
H.yc=function(a){L(null!==this.Qb,"getAggregationResult called before any results have been calculated.");var b=this.Qb.get(a.l(),void 0);L(Lb(b),"Could not find result for "+a.l());return b};H.ug=function(a){return null!==this.Qb&&this.Qb.K(a.l())};var qe=null;function re(){null===qe&&(qe=new oe([],[]));return qe}
function se(a){if(0==a[C])return re();for(var b=a[Ka](function(b,c){pe(a[0],c);return b+c[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=new yd;a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new yd,k=0;k<c[C];k++)b[Ta](function(a){return a.K(c[k].id)})&&g.set(c[k].id,c[k]);return new oe(g.o(),a[0].I.o())}function te(a){if(0==a[C])return re();var b=new yd;a[F](function(c){pe(a[0],c);c[B][F](function(a){b.set(a.id,a)})});return new oe(b.o(),a[0].I.o())}
function ue(a,b){var c=1<b[C],d=a.map(function(a){return new ve(a,c)});return new oe(d,b)}function ve(a,b){this.xa=a;this.id=we++;this.Ye=b}var we=0;ve[t].V=function(a){var b=a.cb();return null!==b&&this.xa.w()[rb](b)?this.xa.w()[b]:this.Ye?this.xa.w()[a.M().qa()][a[u]()]:this.xa.w()[a[u]()]};ve[t].sf=function(a,b){var c=a.cb();if(null!=c)this.xa.w()[c]=b;else if(this.Ye){var c=a.M().qa(),d=this.xa.w()[c];null==d&&(d={},this.xa.w()[c]=d);d[a[u]()]=b}else this.xa.w()[a[u]()]=b};
function xe(a,b,c,d){function g(a,b){if(a.Ye){var c=a.xa.w(),d;for(d in c)k[d]=c[d]}else L(!k[rb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.xa.w()}var k={};g(a,b);g(c,d);a=new fd(-1,k);return new ve(a,!0)};
I("lf.bind",function(a){return new ye(a)},void 0);function ye(a){this.ra=a}I("lf.Binder",ye,void 0);ye[t].Ab=G("ra");
function ze(){var a=Ae();this.wc=N();this.wc.set(1,Be());this.wc.set(2,Ce());this.wc.set(4,a);this.wc.set(3,a);this.wc.set(5,De())}Nb(ze);ze[t].Ke=function(a,b){var c=this.wc.get(a)||null;L(null!==c,"Could not find evaluation map for "+a);c=c.get(b)||null;L(null!==c,"Could not find evaluator for "+a+", "+b);return c};function Be(){var a=N();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function Ae(){var a=Be();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c[Za](a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}function De(){var a=Ae();a.set("match",function(a,c){return(new RegExp(c)).test(a)});return a}
function Ce(){var a=N();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a[Db]()>=c[0][Db]()&&a[Db]()<=c[1][Db]()});a.set("eq",function(a,c){return(null===a?-1:a[Db]())==(null===c?-1:c[Db]())});a.set("gte",function(a,c){return a[Db]()>=c[Db]()});a.set("gt",function(a,c){return null===a||null===c?!1:a[Db]()>c[Db]()});a.set("in",function(a,c){return c[$a](function(c){return c[Db]()==a[Db]()})});a.set("lte",function(a,c){return null===a||null===c?!1:a[Db]()<=c[Db]()});a.set("lt",
function(a,c){return null===a||null===c?!1:a[Db]()<c[Db]()});a.set("neq",function(a,c){return(null===a?-1:a[Db]())!=(null===c?-1:c[Db]())});return a};function Ee(a,b){this.Kg=a;this.Eh=b}Ee[t].getKey=G("Kg");Ee[t].bk=G("Eh");la(Ee[t],function(){return new Ee(this.Kg,this.Eh)});function Fe(a,b){Ee[r](this,a,b);this.h=this.F=null}K(Fe,Ee);var Ge=[];H=Fe[t];la(H,function(){return new Fe(this.getKey(),this.bk())});H.getParent=G("F");H.Bg=function(){return!this.ya()};H.ea=function(){return this.h||Ge};H.zb=function(a){return this.ea()[a]||null};H.ya=function(){return this.ea()[C]};H.Hj=function(){for(var a=0,b=this;b[Ab]();)a++,b=b[Ab]();return a};H.pb=function(){for(var a=this;a[Ab]();)a=a[Ab]();return a};H.contains=function(a){do a=a[Ab]();while(a&&a!=this);return Boolean(a)};
H.Ec=function(a,b){if(!1!==a[r](b,this))for(var c=this.ea(),d=0;d<c[C];d++)c[d].Ec(a,b)};H.oh=Ib("F");H.na=function(a){this.Gc(a,this.h?this.h[C]:0)};H.Gc=function(a,b){L(!a[Ab]());a.oh(this);this.h=this.h||[];L(0<=b&&b<=this.h[C]);rc(this.h,b,0,a)};H.he=function(a){var b=this.h&&this.h[a];return b?(b.oh(null),nc(this.h,a),0==this.h[C]&&(this.h=null),b):null};H.removeChild=function(a){return this.he(hc(this.ea(),a))};

function He(){Fe[r](this,"","");this.za=Ie++}K(He,Fe);var Ie=0;He[t].fa=G("za");He[t].tf=Ib("za");
function Je(a,b,c){He[r](this);this.J=a;pa(this,b);this.L=c;this.Hd=ze.Me().Ke(this.J.X(),this.L);this.eb=!1;this.pc=b}K(Je,He);H=Je[t];H.Tb=function(){var a=new Je(this.J,this[v],this.L);a.ll(this.pc);a.le(this.eb);a.tf(this.fa());return a};H.nb=function(a){return null!=a?(a[x](this.J),a):[this.J]};H.le=Ib("eb");H.ll=Ib("pc");H.Of=function(){var a=!1;this[v]instanceof ye||(a="array"==Ob(this[v])?!this[v][$a](function(a){return a instanceof ye}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Of();if("in"==this.L)return this.Ui(a);var b=a[B][Ga](function(a){return this.Hd(a.V(this.J),this[v])!=this.eb},this);return new oe(b,a.W())};Aa(H,function(a){if(this.pc instanceof ye){var b=this.pc.Ab();if(a[C]<=b)throw new P(510);pa(this,a[b])}else"array"==Ob(this.pc)&&pa(this,this.pc.map(function(b){if(b instanceof ye){if(a[C]<=b.Ab())throw new P(510);return a[b.Ab()]}return b}))});
H.Ui=function(a){L("in"==this.L,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new Pd(this[v]),c=J(function(a){return null===a?!1:b[sb](a)!=this.eb},this),d=a[B][Ga](function(a){return c(a.V(this.J))},this);return new oe(d,a.W())};f(H,function(){return"value_pred("+this.J.l()+" "+this.L+(this.eb?"(complement)":"")+" "+this[v]+")"});H.Ag=function(){this.Of();return null!==this[v]&&("between"==this.L||"eq"==this.L||"gt"==this.L||"gte"==this.L||"lt"==this.L||"lte"==this.L)};
H.wl=function(){L(this.Ag(),"Could not convert predicate to key range.");var a=null;"between"==this.L?a=new ke(this[v][0],this[v][1],!1,!1):"eq"==this.L?(a=this[v],a=new ke(a,a,!1,!1)):a="gte"==this.L?new ke(this[v],null,!1,!1):"gt"==this.L?new ke(this[v],null,!0,!1):"lte"==this.L?new ke(null,this[v],!1,!1):new ke(null,this[v],!1,!0);return this.eb?a.Ci():[a]};
function Ke(a){this.ha=a;this.Mc=this.wa=null}Ke[t].Qd=function(a){null===this.wa&&null!=this.D&&(this.wa=Le(this.D));a=this.wa.get(a)||null;L(null!==a);return a};function Le(a){var b=N();a.Ec(function(a){b.set(a.fa(),a)});return b}Ke[t].Cd=function(a){a.D&&(this.D=a.D.Tb());this.Mc=a};Aa(Ke[t],function(){L(null==this.Mc);return this});Ke[t].ve=function(a){var b=this.D;null!=b&&b.Ec(function(b){b instanceof Je&&b[E](a)})};
function Me(a){Ke[r](this,a)}K(Me,Ke);function Ne(a){var b="";a[F](function(c,d){b+=c.J.l()+" ";b+=1==c.sb?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}Me[t].ga=function(){return O(this.c)};la(Me[t],function(){var a=new Me(this.ha);a.Cd(this);this.f&&(a.f=this.f[n]());this.c&&(a.c=this.c[n]());a.Z=this.Z;a.O=this.O;this.N&&(a.N=this.N[n]());this.ja&&(a.ja=this.ja[n]());this.ac&&(a.ac=this.ac);this.lc&&(a.lc=this.lc);a.Bc=this.Bc;return a});
Aa(Me[t],function(a){Me.Pb[E][r](this,a);null!=this.ac&&(this.Z=a[this.ac.Ab()]);null!=this.lc&&(this.O=a[this.lc.Ab()]);this.ve(a);return this});
function Oe(a,b){this.Ea=a;this.ta=b}Oe[t].pb=G("Ea");Oe[t].eg=Jb("plan description");Oe[t].ga=G("ta");function Pe(a){var b=O();a[F](function(a){a.ga()[F](b.add[E](b))});return b};

function Qe(a,b){this.global=a;this.Ib=a.m(Fd);this.fe=b.map(function(a){return a[nb]});this.Zg=b.map(function(a){return a.jf});this.Wf=Pe(this.Zg);this.zh=this.Qi();this.gc=$c()}H=Qe[t];H.Qi=function(){return this.fe[$a](function(a){return!(a instanceof Me)})?1:0};
ma(H,function(){var a=new je(this[Va],this.Wf),b=[],c=this.Zg[n](),d=J(function(){var g=c[qb]();if(g){var k=this.fe[b[C]];return g.pb()[Pa](a,k)[z](function(a){b[x](a[0]);return d()})}return Vc()},this);return d()[z](J(function(){return this.Ib.Ub(this.zh,a).pa()},this))[z](J(function(){this.ff(b);return b},this),J(function(b){a.Nb();throw b;},this))});H.X=G("zh");H.ga=G("Wf");H.ad=G("gc");H.fa=function(){return Ub(this)};H.ff=Hb();
function Re(a,b){Qe[r](this,a,b);this.Lb=a.m(Kd)}K(Re,Qe);Ea(Re[t],Jb(0));Re[t].ff=function(a){this.fe[F](function(b,c){this.Lb.Bh(b,a[c])},this)};
function Se(a,b){this.j=a;this.Lb=a.m(Kd);this.Za=a.m(Jd);this.Xd=new ae(a);this.Hb=b;var c=a.m(Ld),d=this.Hb.map(function(a){return c[h](a[u]())});this.ta=O(d);this.gc=$c()}H=Se[t];ma(H,function(){this.Xd[Ua](this.Hb);this.nd();return Vc()});H.X=Jb(1);H.ga=G("ta");H.ad=G("gc");H.fa=function(){return Ub(this)};Ea(H,Jb(1));H.nd=function(){var a=this.Lb.Re(this.ta);0!=a[C]&&(a=new Re(this.j,a),this.Za.ic(a))};
function Te(a){this.j=a;this.Ib=a.m(Fd);this.Za=a.m(Jd)}Te[t].sl=function(){this.Ib.subscribe(this.df[E](this))};Te[t].df=function(a){a=new Se(this.j,a);this.Za.ic(a)};


function Ue(a,b){this.Ta=a;this.i=b;this.ib=N()}I("lf.backstore.FirebaseRawBackStore",Ue,void 0);H=Ue[t];H.Sd=G("i");H.Td=function(){throw new P(351);};function Ve(a,b){var c=$c(),d=a;b[C]&&(d=a[jb](b));d[Ha]("value",function(a){c[Eb](a.val())},function(a){c[La](a)});return c.ma}function We(a,b,c){function d(a){a?g[La](a):g[Eb]()}c=c||!1;var g=$c();c?a.set(b,d):a[Ua](b,d);return g.ma}
H.Ga=function(a){return Ve(this.i,"@rev/R")[z](function(a){this.Ya=a;return Ve(this.i,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.ib.set(d,b[d]),b[d]>c&&(c=b[d]);a.ab()[F](function(a){this.ib.has(a[u]())||(b[a[u]()]=++c)},this);d=this.i[jb]("@table");return We(d,b)}[E](this))};
H.oe=function(a,b){var c=this.ib.get(a);return null!=c?function(){var a={},g=$c();this.i[bb]("T").equalTo(c)[Ha]("value",function(c){c[F](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Eb](a)});return g.ma}[r](this)[z](function(a){a["@rev"]={R:++this.Ya};return We(this.i,a)}[E](this)):Vc()};H.Qc=function(a){return this.oe(a,Jb(null))[z](function(){this.ib[Xa](a);return We(this.i[jb]("@table/"+a),null,!0)}[E](this))};Ue[t].dropTable=Ue[t].Qc;
Ue[t].Hc=function(a,b,c){return this.oe(a,function(a){var g=a.P;g[b]=c;return{R:this.Ya+1,T:a.T,P:g}}[E](this))};Ue[t].addTableColumn=Ue[t].Hc;Ue[t].Rc=function(a,b){return this.oe(a,function(a){var d=a.P;delete d[b];return{R:this.Ya+1,T:a.T,P:d}}[E](this))};Ue[t].dropTableColumn=Ue[t].Rc;Ue[t].md=function(a,b,c){return this.oe(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Ya+1,T:a.T,P:g}}[E](this))};Ue[t].renameTableColumn=Ue[t].md;Ue[t].Jb=function(){throw new P(351);};
Ue[t].createRow=Ue[t].Jb;Ue[t].dd=G("Ta");Ue[t].getVersion=Ue[t].dd;Ue[t].uc=function(a){var b=$c();a=this.ib.get(a);this.i[bb]("T").equalTo(a)[Ha]("value",function(a){var d=[];a[F](function(a){d[x](a.val().P)});b[Eb](d)});return b.ma};ka(Ue[t],function(){var a={},b=Cd(this.ib).map(function(b){return this.uc(b)[z](function(d){a[b]=d})}[E](this));return Zc(b)[z](function(){return a})});ka(Ue[t],Ue[t].dump);
function Xe(a,b,c){nd[r](this,c,b);this.i=a}K(Xe,nd);Xe[t].M=function(a){return this.i.bd(a)};
Xe[t].Nc=function(){var a=this.Lj().jg();if(0==a[Gb])this.ba[Eb]();else{var b=this.i.Xj()+1;this.i.ph(b);var c={"@rev":{R:b}};a[F](function(a,g){var k=this.i.pg(g);a.Wc()[F](function(a,d){c[d]={R:b,T:k,P:a.w()}});a.$c()[F](function(a,d){c[d]={R:b,T:k,P:a[1].w()}});a.Yc()[F](function(a,b){c[b]=null})},this);this.i.Uj()[Ua](c,function(c){if(null===c)this.ba[Eb]();else this.i.ph(b-1),c=Dd(a).map(function(a){return this.i.eh(a[u]())},this),Zc(c)[z](this.ba[La][E](this.ba),this.ba[La][E](this.ba))}[E](this))}return this.ba.ma};
function Ye(){this.yb=N()}H=Ye[t];H.Qe=function(a){if(0==a[C])return Dd(this.yb);var b=[];a[F](function(a){a=this.yb.get(a)||null;null===a||b[x](a)},this);return b};H.getData=G("yb");H.get=function(a){return Vc(this.Qe(a))};H.kf=function(a){a[F](function(a){this.yb.set(a.id(),a)},this)};H.put=function(a){this.kf(a);return Vc()};H.fh=function(a){0==a[C]||a[C]==this.yb[Gb]?this.yb[w]():a[F](function(a){this.yb[Xa](a)},this)};va(H,function(a){this.fh(a);return Vc()});
H.Mj=function(){return 0==this.yb[Gb]?0:Cd(this.yb)[Ka](function(a,b){return a>b?a:b},0)};
function Ze(a,b){this.s=a;this.Mh=b;this.ie=N();this.Ya=-1;this.I=N();this.ib=N();this.we=null}H=Ze[t];H.Xj=G("Ya");H.ph=Ib("Ya");
H.Ga=function(a){this.i=this.Mh[jb](this.s[q]());var b=a||function(){return Vc()};return Ve(this.i,"@db/version")[z](function(a){return null===a?We(this.i,this.Gi(),!0)[z](function(){var a=new Ue(0,this.i);return b(a)}[E](this)):a==this.s[tb]()?Ve(this.i,"@rev/R")[z](function(a){this.Ya=a;return Ve(this.i,"@table")}[E](this))[z](function(a){for(var b in a)this.ib.set(b,a[b]);a=this.s.ab().map(function(a){return this.eh(a[u]())},this);return Zc(a)}[E](this))[z](function(){this.nk();this.Og();return Vc()}[E](this)):
this.gf(a,b)[z](function(){return this.Ga()}[E](this))}[E](this))};H.gf=function(a,b){var c=new Ue(a,this.i);return c.Ga(this.s)[z](function(){return this.Cl()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.i[jb]("@db");return We(a,{version:this.s[tb]()},!0)}[E](this))};H.Cl=function(){return Vc()};H.Og=function(){this.i.off();this.i.on("child_removed",this.Mk[E](this));this.xe&&(this.xe.off(),this.ie[w]());this.xe=this.i[bb]("R").startAt(this.Ya+1);this.xe.on("value",this.df[E](this))};
H.nk=function(){gd=Dd(this.I).map(function(a){return a.Mj()})[Ka](function(a,b){return a>b?a:b},0)+1};H.Mk=function(a){var b=a.val(),c=this.ie.get(b.T)||null;null===c&&(c=O([b.T]));c.add(da(a.key(),10))};H.df=function(a){var b=a[jb]("@rev/R").val();null!=b&&b!=this.Ya&&(this.Ya=b,a=this.tj(a),a[F](function(a){var b=this.I.get(a[u]()),g=a.Yc().oa();g[C]&&b.fh(g);var k=a.Wc().o();a.$c()[F](function(a){k[x](a[1])});b.kf(k)},this),a[C]&&this.jd(a),this.Og())};
H.tj=function(a){var b=O(),c=N();this.ib[F](function(a,g){var k=this.I.get(g),l=new ie(g);if(this.ie.has(a)){var p=Sd(this.ie.get(a));p[F](function(a){b.add(a)});k.Qe(p)[F](function(a){l[Xa](a)})}c.set(a,l)}[E](this));a[F](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b.has(g)){a=a.val();var k=c.get(a.T),l=this.I.get(k[u]());l.getData().has(g)?k.modify([l.Qe([g])[0],new fd(g,a.P)]):k.add(new fd(g,a.P))}}}[E](this));return Dd(c)[Ga](function(a){return!a.Eb()})};
H.eh=function(a){var b=$c(),c=this.pg(a);this.i[bb]("T").equalTo(c)[Ha]("value",function(c){var g=new Ye,k=[];c[F](function(a){k[x](new fd(da(a.key(),10),a.val().P))});g.kf(k);this.I.set(a,g);b[Eb]()}[E](this));return b.ma};H.pg=function(a){return this.ib.get(a)};H.Gi=function(){var a={};a["@db"]={version:this.s[tb]()};a["@rev"]={R:1};this.Ya=1;a["@table"]={};this.s.ab()[F](function(b,c){var d=b[u]();a["@table"][d]=c;this.I.set(d,new Ye);this.ib.set(d,c)},this);return a};
H.Ub=function(a,b){return new Xe(this,a,b)};H.bd=function(a){var b=this.I.get(a)||null;if(null!==b)return b;throw new P(101,a);};H.Uj=G("i");oa(H,Hb());Ba(H,Ib("we"));H.jd=function(a){null!=this.we&&this.we(a)};
function Q(a,b,c,d){this.i=b;this.Sa=c;this.Ta=a;this.yd=d}I("lf.backstore.IndexedDBRawBackStore",Q,void 0);Q[t].Sd=G("i");Q[t].getRawDBInstance=Q[t].Sd;Q[t].Td=G("Sa");Q[t].getRawTransaction=Q[t].Td;Q[t].Qc=function(a){return new M(function(b,c){try{this.i.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};Q[t].dropTable=Q[t].Qc;
Q[t].Qk=function(a,b,c){return new M(function(d,g){var k;try{var l=this.Sa[ub](a);k=l[Fa]()}catch(p){g(p);return}sa(k,function(){var a=k[Fb];a?(b(a),a[gb]()):(c(l),d())});ya(k,g)},this)};function $e(a){var b=null;return b=a instanceof ArrayBuffer?jd(a):a instanceof Date?a[Db]():a}Q[t].xf=function(a,b){function c(a){var c=Wd(a[v]),d=c.zc(),p;for(p in d){var y=hd(d[p]);b(y);d[p]=y.Ja()}a[Ua](c.Ja())}function d(a){var c=hd(a[v]);b(c);a[Ua](c.Ja())}return this.Qk(a,this.yd?c:d,Hb())};
Q[t].Hc=function(a,b,c){var d=$e(c);return this.xf(a,function(a){a.w()[b]=d})};Q[t].addTableColumn=Q[t].Hc;Q[t].Rc=function(a,b){return this.xf(a,function(a){delete a.w()[b]})};Q[t].dropTableColumn=Q[t].Rc;Q[t].md=function(a,b,c){return this.xf(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};Q[t].renameTableColumn=Q[t].md;
Q[t].$j=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Sa[ub](a)[Fa]()}catch(k){d(k);return}sa(g,J(function(){var a=g[Fb];if(a){if(this.yd){var d=Wd(a[v]).zc(),k;for(k in d)b[x](d[k])}else b[x](a[v]);a[gb]()}else c(b)},this));ya(g,d)},this)};Q[t].Jb=function(a){var b={};xc(a,J(function(a,d){b[d]=$e(a)},this));return id(b)};Q[t].createRow=Q[t].Jb;Q[t].dd=G("Ta");Q[t].getVersion=Q[t].dd;
ka(Q[t],function(){for(var a=this.i[Ia],b=[],c=0;c<a[C];++c){var d=a[Na](c);b[x](this.uc(d))}return Zc(b)[z](function(b){var c={};b[F](function(b,d){c[a[Na](d)]=b});return c})});ka(Q[t],Q[t].dump);Q[t].uc=function(a){return this.$j(a)[z](function(a){return a.map(function(a){return a[v]})})};
function af(a,b){this.$=a;this.Vb=b}H=af[t];H.get=function(a){if(0==a[C])return this.Xc();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.$.get(a)}catch(k){d(k);return}ya(g,d);sa(g,J(function(a){c(this.Vb(a[Oa][Fb]))},this))},this)},this);return Zc(a)};H.Xc=function(){return new M(function(a,b){var c=[],d;try{d=this.$[Fa]()}catch(g){b(g);return}ya(d,b);sa(d,J(function(){var b=d[Fb];b?(c[x](this.Vb(b[v])),b[gb]()):a(c)},this))},this)};
H.ec=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);ya(d,c)},this)};H.put=function(a){if(0==a[C])return Vc();a=a.map(function(a){return this.ec(J(function(){return this.$.put(a.Ja())},this))},this);return Zc(a)};
va(H,function(a){return new M(function(b,c){var d=this.$[ab]();sa(d,J(function(d){if(0==a[C]||d[Oa][Fb]==a[C])return this.ec(J(function(){return this.$[w]()},this))[z](b,c);d=a.map(function(a){return this.ec(J(function(){return this.$[Xa](a)},this))},this);Zc(d)[z](b,c)},this));ya(d,c)},this)});
function bf(a,b,c,d,g){nd[r](this,c,d);this.j=a;this.Sa=b;this.yd=g;this.Sa.oncomplete=J(this.ba[Eb],this.ba);this.Sa.onabort=J(this.ba[La],this.ba)}K(bf,nd);bf[t].M=function(a,b,c){return this.yd?(c=null!=c?c:0,a=this.Sa[ub](a),new Xd(a,b,0==c?Zb(Yd,this.j):Zd)):new af(this.Sa[ub](a),b)};bf[t].Nc=function(){return this.ba.ma};
function cf(a,b){this.j=a;this.s=b;this.zd=b.$g().Si||!1}H=cf[t];H.Ga=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Vc()};return new M(function(a,g){var k;try{k=b.open(this.s[q](),this.s[tb]())}catch(l){g(l);return}ya(k,g);k.onupgradeneeded=J(function(a){this.Pk(c,a)[z](Hb(),g)},this);sa(k,J(function(b){this.i=b[Oa][Fb];this.qf()[z](J(function(b){gd=b+1;a(this.i)},this))},this))},this)};
H.Pk=function(a,b){var c=b[Oa][Fb],d=b[Oa][lb],g=new Q(b.oldVersion,c,d,this.zd);this.el(c,d);this.Li(c,d);return a(g)};H.el=function(a){for(var b=[],c=0;c<a[Ia][C];++c){var d=a[Ia][Na](c);-1!=d[Za](".")&&b[x](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.Li=function(a,b){this.s.ab()[F](Zb(this.Ii,a,b),this)};H.Ii=function(a,b,c){a[Ia][sb](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Mb()&&(c.Fa()[F](function(c){this.Pc(a,b,c.l(),"btree")},this),this.Pc(a,b,c.Wb(),"rowid"))};
H.Pc=function(a,b,c,d){a[Ia][sb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[ub](c),(this.zd?new Xd(a,hd,Zd):new af(a,hd)).put([new ld(new kd(d))]))};H.Ub=function(a,b){var c=Cd(b.ga());b.Jj()[F](function(a){c[x](a)});var d=this.i[lb](c,0==a?"readonly":"readwrite");return new bf(this.j,d,b,a,this.zd)};
H.qf=function(a){function b(){if(0==c[C])return Vc();var a=c[qb]();return l(a)[z](b)}var c=this.s.ab().map(function(a){return a[u]()}),d=this.i,g=0,k=J(function(a){return this.zd?(a=Wd(a[v]),Ac(a.zc())[Ka](function(a,b){return ba.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var eb;try{eb=(a||d[lb]([b]))[ub](b)[Fa](null,"prev")}catch(Gc){l(Gc);return}sa(eb,function(a){(a=a[Oa][Fb])&&(g=ba.max(g,k(a)));c(g)});ya(eb,function(){c(g)})},this)},this);return new M(function(a){b()[z](function(){a(g)})})};
oa(H,function(){this.i[Qa]()});H.bd=function(){throw new P(511);};Ba(H,Hb());H.jd=Hb();



function df(a,b,c){nd[r](this,c,b);this.$=a;0==b&&this.ba[Eb]()}K(df,nd);df[t].M=function(a){return this.$.bd(a)};df[t].Nc=function(){this.ba[Eb]();return this.ba.ma};
function ef(a){this.s=a;this.I=N()}H=ef[t];H.Ga=function(){this.s.ab()[F](this.qk,this);return Vc()};H.bd=function(a){var b=this.I.get(a)||null;if(null===b)throw new P(101,a);return b};H.Ub=function(a,b){return new df(this,a,b)};H.Yf=function(a){if(!this.I.has(a)){var b=new Ye;this.I.set(a,b);return b}return null};H.qk=function(a){this.Yf(a[u]());a.Mb()&&(a.Fa()[F](function(a){this.Pc(a.l(),"btree")},this),this.Pc(a.Wb(),"rowid"))};H.Pc=function(a,b){var c=this.Yf(a);null===c||c.put([new ld(new kd(b))])};
oa(H,Hb());Ba(H,Hb());H.jd=Hb();
function ff(a){ef[r](this,a);this.ae=null}K(ff,ef);Ba(ff[t],function(a){null===this.ae&&(this.ae=a)});ff[t].jd=function(a){null===this.ae||this.ae(a)};
function gf(a,b,c){this.Sa=a;this.A=b;this.Vb=c}gf[t].get=function(a){var b=this.Vb;this.Sa.Qa("SELECT id, value FROM "+this.A+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Bb][C],g=e(d),k=0;k<d;++k)g[k]=b({id:a[Bb][Na](k).id,value:ga.parse(a[Bb][Na](k)[v])});return g});return this.Sa.pa()};gf[t].put=function(a){if(0==a[C])return Vc();var b="INSERT OR REPLACE INTO "+this.A+"(id, value) VALUES (?, ?)";a[F](function(a){this.Sa.Qa(b,[a.id(),ga[xb](a.w())])},this);return Vc()};
va(gf[t],function(a){this.Sa.Qa("DELETE FROM "+this.A+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Vc()});
function jf(a,b,c){nd[r](this,b,c);this.i=a;this.I=N();this.De=[]}K(jf,nd);jf[t].M=function(a,b){var c=this.I.get(a)||null;null===c&&(c=new gf(this,a,b),this.I.set(a,c));return c};jf[t].Qa=function(a,b,c){this.De[x]({tl:a,Rk:b,transform:c})};
jf[t].Nc=function(){var a,b,c=this.ba[La][E](this.ba),d=function(a,b){this.ba[La](b)}[E](this),g=J(function(c,l){a=l;if(this.De[C]){var p=this.De[qb]();b=p.transform;c.executeSql(p.tl,p.Rk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ba[Eb](p)},this);0==this.yh?this.i.readTransaction(g,c):this.i[lb](g,c);return this.ba.ma};
function R(a,b,c){this.i=c;this.j=a;this.Ta=b}I("lf.backstore.WebSqlRawBackStore",R,void 0);R[t].Sd=G("i");R[t].getRawDBInstance=R[t].Sd;R[t].Td=function(){throw new P(356);};R[t].getRawTransaction=R[t].Td;R[t].Gd=function(){return new jf(this.i,new je(this.j,O()),1)};R[t].Qc=function(a){var b=this.Gd();b.Qa("DROP TABLE "+a,[]);return b.pa()};R[t].dropTable=R[t].Qc;
R[t].uc=function(a){var b=this.Gd();b.Qa("SELECT id, value FROM "+a,[]);return b.pa()[z](function(a){for(var b=a[Bb][C],g=e(b),k=0;k<b;++k)g[k]={id:a[Bb][Na](k).id,value:ga.parse(a[Bb][Na](k)[v])};return Vc(g)})};R[t].wf=function(a,b){var c=this.Gd(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.uc(a)[z](function(a){a[F](function(a){a=b(a);c.Qa(d,[ga[xb](a[v]),a.id])});return c.pa()})};R[t].Hc=function(a,b,c){var d=$e(c);return this.wf(a,function(a){a[v][b]=d;return a})};
R[t].addTableColumn=R[t].Hc;R[t].Rc=function(a,b){return this.wf(a,function(a){delete a[v][b];return a})};R[t].dropTableColumn=R[t].Rc;R[t].md=function(a,b,c){return this.wf(a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};R[t].renameTableColumn=R[t].md;R[t].Jb=function(a){var b={},c;for(c in a)b[c]=$e(a[c]);return id(b)};R[t].createRow=R[t].Jb;R[t].dd=G("Ta");R[t].getVersion=R[t].dd;
function kf(a){a.Qa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Bb][C]),d=0;d<c[C];++d)c[d]=a[Bb][Na](d).tbl_name;return c})}ka(R[t],function(){var a=$c(),b=this.Gd();kf(b);var c={};b.pa()[z](J(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.uc(a)[z](function(b){c[a]=b})},this);Zc(b)[z](function(){a[Eb](c)})},this));return a.ma});ka(R[t],R[t].dump);
function mf(a,b,c){this.j=a;this.s=b;this.pl=c||4194304}H=mf[t];H.Ld=function(){return new je(this.j,O())};H.Ga=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Vc()};return new M(J(function(a,d){try{var g=ca.openDatabase(this.s[q](),"",this.s[q](),this.pl);if(null!=g)this.i=g,this.yi(b)[z](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.yi=function(a){var b=$c(),c=new jf(this.i,this.Ld(),1);c.Qa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Qa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.pa()[z](J(function(c){var g=0;c[Bb][C]&&(g=c[Bb][Na](0).v);g<this.s[tb]()?this.gf(a,g)[z](b[Eb][E](b)):g>this.s[tb]()?b[La](new P(108)):b[Eb]()},this));return b.ma};H.Ub=function(a,b){if(null!=this.i)return new jf(this.i,b,a);throw new P(2);};oa(H,Hb());H.bd=function(){throw new P(512);};
H.Rg=function(){throw new P(355);};Ba(H,function(){this.Rg()});H.jd=function(){this.Rg()};H.gf=function(a,b){var c=$c();this.Uk()[z](J(function(){a(new R(this.j,b,this.i))[z](J(function(){return this.qf()},this))[z](c[Eb][E](c))},this),c[La][E](c));return c.ma};
H.Uk=function(){var a=this.s.ab(),b=new jf(this.i,this.Ld(),1),c=new jf(this.i,this.Ld(),1);b.Qa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[tb]()]);kf(b);return b.pa()[z](function(b){b[Ga](function(a){return-1!=a[Za](".")})[F](function(a){c.Qa("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[Za](".")});a.map(function(a){return a[u]()})[Ga](function(a){return-1==g[Za](a)})[F](function(a){c.Qa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.pa()})};
H.qf=function(){var a=0,b=$c(),c=J(function(b){var c=new jf(this.i,this.Ld(),0);c.Qa("SELECT MAX(id) FROM "+b,[]);return c.pa()[z](function(b){b=b[Bb][Na](0)[0];a=ba.max(b,a)})},this),d=this.s.ab().map(function(a){return c(a[u]())});Zc(d)[z](function(){b[Eb](a)},function(a){b[La](a)});return b.ma};

function nf(){this.g=N();this.uh=N()}H=nf[t];H.Ud=function(a){var b=this.uh.get(a);Lb(b)||(b=O(),this.uh.set(a,b));return b};H.set=function(a,b){var c=this.Ud(a);b[F](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.ob=function(a,b,c){var d=[],g=ba.min(b,c),k=ba.max(b,c);a=this.Ud(a);if(a[Gb]<k-g)a[F](function(a){a>=g&&a<=k&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[x](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[x](c));return d};va(H,function(a,b){var c=this.Ud(a);b[F](function(a){this.g[Xa](a);c[Xa](a)},this)});H.Ma=function(a){return null!=a?this.Ud(a)[Gb]:this.g[Gb]};
function of(a,b){for(var c=0,d=a[C];c<d;){var g=c+d>>1;a[g]<b?c=g+1:d=g}return c==d&&a[c]==b?c:~c};
function pf(a,b,c,d){a=b?a[fb]():a;if(null==c&&null==d)return a;c=ba.min(Lb(c)?c:a[C],a[C]);if(0==c)return[];d=ba.min(d||0,a[C]);return a[n](d,d+c)};
function qf(){this.ua=0}qf[t].add=function(a,b){this.ua+=b};va(qf[t],function(a,b){this.ua-=b});ta(qf[t],function(){this.ua=0});qf[t].Bl=function(a){this[w]();a[F](function(a){this.ua+=a.ua},this)};
function rf(a,b,c,d){this.A=a;this.U=b;this.zf=c;this.vb=new qf;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=sf(this,d);this.sa=d=tf(d)}else this[w]()}var uf=[];H=rf[t];na(H,G("A"));f(H,function(){return this.sa[D]()});H.add=function(a,b){this.sa=this.sa.Db(a,b)};H.set=function(a,b){this.sa=this.sa.Db(a,b,!0)};va(H,function(a,b){this.sa=this.sa[ib](a,b)});H.get=function(a){return this.sa.get(a)};
H.Fd=function(a){if(null==a)return this.$a().ua;if(a instanceof ke){if(a.yg())return this.$a().ua;if(a.Dg())return this.get(a.c)[C]}return this.ob([a])[C]};H.$a=G("vb");H.Xc=function(a,b,c,d){c=e(a);this.sa.fill({offset:b?this.vb.ua-a-d:d,count:a,vf:0},c);return b?c[fb]():c};
H.ob=function(a,b,c,d){var g=this.sa.Od().b[0];if(!Lb(g)||0==c)return uf;b=b||!1;c=null!=c?ba.min(c,this.vb.ua):this.vb.ua;d=d||0;var k=ba.min(ba.max(this.vb.ua-d,0),c);if(0==k)return uf;if(!Lb(a)||1==a[C]&&a[0]instanceof ke&&a[0].yg())return this.Xc(k,b,c,d);a=this.U.sh(a);var l=e(b?this.vb.ua:k),p={count:0,Z:l[C],reverse:b,O:d};a[F](function(a){for(var b=this.U.ge(a),b=this.U.We(a)?g:b[0],b=this.sa.ig(b),c=p[ab],d=0;null!=b&&p[ab]<p.Z;)b.ob(a,p,l),p[ab]!=c?(d=0,c=p[ab]):d++,b=2==d?null:b[pb]()},
this);l[A](p[ab],k-p[ab]);return b?pf(l,b,c,d):l};ta(H,function(){this.sa=vf(this);this.vb[w]()});H.K=function(a){return this.sa.K(a)};H.min=function(){return this.hd(J(this.U.min,this.U))};H.max=function(){return this.hd(J(this.U.max,this.U))};H.hd=function(a){var b=this.sa.Od(),c=this.sa.og();if(0==b.b[C]&&0==c.b[C])return null;var d=b.b[0],b=b.B[0],g=c.b[c.b[C]-1],c=c.B[c.b[C]-1];return 1==a(d,g)?[d,this.zf?[b]:b]:[g,this.zf?[c]:c]};H.Na=G("zf");H.Oc=G("U");
H.af=function(a,b){return null!=a?-1==this.U[zb](a,b):!1};H.Va=function(a,b){return null!=a?0==this.U[zb](a,b):!1};H.Ja=function(){for(var a=[],b=this.sa.Od();b;)a[x](new fd(b.za,[b.b,b.B])),b=b.Aa;return a};function wf(a,b,c,d){a=new rf(b,a,c);d=xf(d,a);a.sa=d;return a}function yf(a,b){this.za=a;this.C=b;this.qb=0;this.Aa=this.Fb=this.F=null;this.b=[];this.B=[];this.h=[]}function vf(a){return new yf(gd++,a)}H=yf[t];H.la=function(){return 0==this.qb};H.Hg=function(){return null==this.F};xa(H,G("Aa"));
function zf(a){function b(a){return null!=a?a.za[D]():"_"}var c=a.za+"["+a.b[m]("|")+"]",d=a.h.map(function(a){return a.za})[m]("|"),g=a.B[m]("/"),k=b(a.Fb)+"{",k=a.la()?k+g:k+d,k=k+"}"+b(a.F);a.Aa&&(a=zf(a.Aa),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=zf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.h[C]&&(a+=this.h[0][D]());return a});H.Od=function(){return this.la()?this:this.h[0].Od()};H.og=function(){return this.la()?this:this.h[this.h[C]-1].og()};
function Af(a,b){b&&(b.Fb=a);a&&(a.Aa=b)}function sf(a,b){for(var c=b[C],d=0,g=vf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.b=p.map(function(a){return a.key});g.B=p.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=vf(g.C),Af(g,l),g=l)}return k}function Bf(a){var b=a[0],c=vf(b.C);c.qb=b.qb+1;c.h=a;for(b=0;b<a[C];++b)a[b].F=c,0<b&&c.b[x](a[b].b[0]);return c}
function tf(a){var b=a,c=[];do c[x](b),b=b.Aa;while(b);if(512>=c[C])b=Bf(c);else{var d=c[C],g=0,b=vf(a.C);for(b.qb=a.qb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[n](g,g+a),l=Bf(k);l.F=b;b.h[C]&&(b.b[x](k[0].b[0]),Af(b.h[b.h[C]-1],l));b.h[x](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.od(a);if(this.la()){var c=uf;this.C.Va(this.b[b],a)&&(c=c[Ra](this.B[b]));return c}b=this.C.Va(this.b[b],a)?b+1:b;return this.h[b].get(a)};
H.K=function(a){var b=this.od(a);return this.C.Va(this.b[b],a)?!0:this.la()?!1:this.h[b].K(a)};va(H,function(a,b){this.ag(a,-1,b);if(this.Hg()){var c=this;1==this.h[C]&&(c=this.h[0],c.F=null);return c}return this});function Cf(a){return a.la()?a.b[0]:Cf(a.h[0])}H.Id=function(){this.b=[];for(var a=1;a<this.h[C];++a)this.b[x](Cf(this.h[a]))};
H.ag=function(a,b,c){var d=this.od(a),g=this.la();if(!g){var k=this.C.Va(this.b[d],a)?d+1:d;if(this.h[k].ag(a,k,c))this.Id();else return!1}else if(!this.C.Va(this.b[d],a))return!1;if(this.b[C]>d&&this.C.Va(this.b[d],a)){if(Lb(c)&&!this.C.Na()&&g&&(k=this.B[d],c=of(k,c),0>c?c=!1:(k[A](c,1),c=!0),c&&this.C.$a()[ib](a,1),this.B[d][C]))return!1;this.b[A](d,1);g&&(g=this.C.Na()?1:this.B[d][C],this.B[A](d,1),this.C.$a()[ib](a,g))}256>this.b[C]&&!this.Hg()&&(this.ul()||this.Ik(b));return!0};
H.ul=function(){var a=null,b,c,d;if(this.Aa&&256<this.Aa.b[C])a=this.Aa,c=b=0,d=this.b[C]+1;else if(this.Fb&&256<this.Fb.b[C])a=this.Fb,b=this.Fb.b[C]-1,c=this.la()?b:b+1,d=0;else return!1;this.b[A](d,0,a.b[b]);a.b[A](b,1);b=this.la()?this.B:this.h;var g=null;this.la()?g=a.B:(g=a.h,g[c].F=this);b[A](d,0,g[c]);g[A](c,1);a.la()||(a.Id(),this.Id());return!0};
H.Ik=function(a){var b,c,d;this.Aa&&511>this.Aa.b[C]?(b=this.Aa,d=c=0):this.Fb&&(b=this.Fb,c=b.b[C],d=b.la()?b.B[C]:b.h[C]);c=[c,0][Ra](this.b);e[t][A][wb](b.b,c);c=null;this.la()?c=this.B:(c=this.h,c[F](function(a){a.F=b}));c=[d,0][Ra](c);e[t][A][wb](b.la()?b.B:b.h,c);Af(this.Fb,this.Aa);b.la()||b.Id();-1!=a&&(this.F.b[A](a,1),this.F.h[A](a,1))};
H.Db=function(a,b,c){var d=this.od(a);if(this.la()){if(this.C.Va(this.b[d],a)){if(c)this.C.$a()[ib](a,this.C.Na()?1:this.B[d][C]),this.B[d]=this.C.Na()?b:[b];else{if(this.C.Na())throw new P(201);d=this.B[d];c=of(d,b);0>c?(d[A](-(c+1),0,b),b=!0):b=!1;if(!b)throw new P(109);}this.C.$a().add(a,1);return this}this.b[A](d,0,a);this.B[A](d,0,this.C.Na()?b:[b]);this.C.$a().add(a,1);return 512==this.b[C]?this.rl():this}d=this.C.Va(this.b[d],a)?d+1:d;a=this.h[d].Db(a,b,c);a.la()||1!=a.b[C]||(this.b[A](d,0,
a.b[0]),a.h[1].F=this,a.h[0].F=this,this.h[A](d,1,a.h[1]),this.h[A](d,0,a.h[0]));return 512==this.b[C]?this.ql():this};H.rl=function(){var a=vf(this.C),b=vf(this.C);b.qb=1;b.b=[this.b[256]];b.h=[this,a];b.F=this.F;this.F=b;a.b=this.b[A](256);a.B=this.B[A](256);a.F=b;Af(a,this.Aa);Af(this,a);return b};
H.ql=function(){var a=vf(this.C),b=vf(this.C);a.F=this.F;a.qb=this.qb+1;a.b=[this.b[256]];a.h=[this,b];this.b[A](256,1);b.F=a;b.qb=this.qb;b.b=this.b[A](256);b.h=this.h[A](257);b.h[F](function(a){a.F=b});this.F=a;Af(b,this.Aa);Af(this,b);return a};H.od=function(a){for(var b=0,c=this.b[C];b<c;){var d=b+c>>1;this.C.af(this.b[d],a)?b=d+1:c=d}return b};H.ig=function(a){if(!this.la()){var b=this.od(a);this.C.Va(this.b[b],a)&&b++;return this.h[b].ig(a)}return this};
H.ob=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var g=this.C.Oc(),k=0,l=this.b[C]-1,p=this.b,y=d(g.xb(p[k],a)),Da=d(g.xb(p[l],a));if(1!=y&&(-1!=y||-1!=Da)){var eb=function(a,b){var c=a+b>>1;return c==a?c+1:c},Gc=function(b,c,k){if(b>=c)return 0==k?c:-1;var l=d(g.xb(p[b],a));if(0==l)return b;if(1==l)return-1;l=eb(b,c);if(l==c)return 0==k?c:-1;var y=d(g.xb(p[l],a));return 0==y?Gc(b,l,y):-1==y?Gc(l+1,c,k):Gc(b+1,l,y)},hf=function(b,c){if(b>=c)return b;var k=d(g.xb(p[c],a));if(0==k)return c;
if(-1==k)return b;k=eb(b,c);if(k==c)return b;var l=d(g.xb(p[k],a));return 0==l?hf(k,c):1==l?hf(b,k-1):-1};0!=y&&(k=Gc(k+1,l,Da));-1!=k&&(l=hf(k,l),-1!=l&&l>=k&&this.Oh(b,c,k,l+1))}};H.Oh=function(a,b,c,d){for(;c<d&&(a[fb]||!(a[ab]>=a.Z));++c)if(this.C.Na())!a[fb]&&a.O?a.O--:b[a.count++]=this.B[c];else for(var g=0;g<this.B[c][C]&&a[ab]<b[C];++g)!a[fb]&&a.O?a.O--:b[a.count++]=this.B[c][g]};
H.fill=function(a,b){if(this.la())for(var c=0;c<this.B[C]&&0<a[ab];++c)if(0<a[vb]){if(a.offset=a[vb]-(this.C.Na()?1:this.B[c][C]),0>a[vb])for(var d=this.B[c][C]+a[vb];d<this.B[c][C]&&0<a[ab];++d)b[a.vf++]=this.B[c][d],a.count--}else if(this.C.Na())b[a.vf++]=this.B[c],a.count--;else for(d=0;d<this.B[c][C]&&0<a[ab];++d)b[a.vf++]=this.B[c][d],a.count--;else for(c=0;c<this.h[C]&&0<a[ab];++c)this.h[c].fill(a,b)};
function xf(a,b){for(var c=b.$a(),d=a.map(function(a){var d=new yf(a.id(),b);d.b=a.w()[0];d.B=a.w()[1];d.b[F](function(a,g){c.add(a,b.Na()?1:d.B[g][C])});return d}),g=0;g<d[C]-1;++g)Af(d[g],d[g+1]);return 1<d[C]?tf(d[0]):d[0]};
function Df(a){if(1==a.f[C])return new Ef(a.f[0].sb);a=a.f.map(function(a){return a.sb});return new Ff(a)}function Ef(a){this.Dd=0==a?Gf:Hf;this.bf=0==a?function(a){return null!=a?a[fb]():null}:function(a){return a||null};this.Vg=0==a?If:Jf}K(Ef,$d);function Hf(a,b){return a>b?1:a<b?-1:0}function Gf(a,b){return Hf(b,a)}function Jf(a,b){return ne(a,b)}function If(a,b){return ne(b,a)}H=Ef[t];
H.xb=function(a,b){var c=this.bf(b),d=[null===c.c,null===c.u];if(!d[0]){var g=this.Dd(a,c.c);d[0]=c.Y?1==g:-1!=g}d[1]||(g=this.Dd(a,c.u),d[1]=c.da?-1==g:1!=g);return d};H.compare=function(a,b){return this.Dd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Ve=function(a,b){var c=this.xb(a,b);return c[0]&&c[1]};H.Ug=function(a,b){return this.Vg(a,b)};H.sh=function(a){return a[Ga](function(a){return null!==a})[Ya](J(function(a,c){return this.Vg(a,c)},this))};
H.We=function(a){return Pb(this.bf(a).c)};H.ge=function(a){a=this.bf(a);return[a.c,a.u]};f(H,function(){return this.Dd==Gf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Ff(a){this.La=a.map(function(a){return new Ef(a)})}K(Ff,$d);H=Ff[t];H.Je=function(a,b,c){for(var d=0,g=0;g<this.La[C]&&0==d;++g)d=c(this.La[g],a[g],b[g]);return d};H.compare=function(a,b){return this.Je(a,b,function(a,b,g){return a[zb](b,g)})};H.min=function(a,b){return this.Je(a,b,function(a,b,g){return a.min(b,g)})};
H.max=function(a,b){return this.Je(a,b,function(a,b,g){return a.max(b,g)})};H.xb=function(a,b){for(var c=[!0,!0],d=0;d<this.La[C]&&(c[0]||c[1]);++d){var g=this.La[d].xb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.Ve=function(a,b){for(var c=!0,d=0;d<this.La[C]&&c;++d)c=this.La[d].Ve(a[d],b[d]);return c};
H.sh=function(a){var b=a[Ga](function(a){return a[Ta](Qb)});a=e(this.La[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[Ya](J(function(a,c){return this.La[b].Ug(a,c)},this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[Ya](J(function(a,b){for(var c=0,l=0;l<this.La[C]&&0==c;++l)c=this.La[l].Ug(a[l],b[l]);return c},this))};H.We=function(a){return this.La[0].We(a[0])};
H.ge=function(a){var b=a.map(function(a,b){return this.La[b].ge(a)[0]},this);a=a.map(function(a,b){return this.La[b].ge(a)[1]},this);return[b,a]};
function Kf(a){this.ra=a;this.rb=O();this.pd=new qf;this.vb=new qf}H=Kf[t];na(H,function(){return this.ra[u]()});H.add=function(a,b){null===a?(this.rb.add(b),this.pd.add(a,1)):this.ra.add(a,b)};H.set=function(a,b){null===a?(this.rb[w](),this.pd[w](),this.add(a,b)):this.ra.set(a,b)};va(H,function(a,b){if(null===a)b?(this.rb[Xa](b),this.pd[ib](a,1)):(this.rb[w](),this.pd[w]());else this.ra[ib](a,b)});H.get=function(a){return null===a?Sd(this.rb):this.ra.get(a)};H.Fd=function(a){return this.ra.Fd(a)};
H.$a=function(){this.vb.Bl([this.ra.$a(),this.pd]);return this.vb};H.ob=function(a,b,c,d){b=this.ra.ob(a,b,c,d);return null!=a?b:b[Ra](Sd(this.rb))};ta(H,function(){this.rb[w]();this.ra[w]()});H.K=function(a){return null===a?0!=this.rb[Gb]:this.ra.K(a)};H.min=function(){return this.ra.min()};H.max=function(){return this.ra.max()};H.Ja=function(){return[new fd(-2,Sd(this.rb))][Ra](this.ra.Ja())};H.Oc=function(){return this.ra.Oc()};
function Lf(a,b){for(var c=-1,d=0;d<b[C];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new P(102);var d=b[c].w(),g=b[n](0);g[A](c,1);var c=a(g),k=new Kf(c);d[F](function(a){k.rb.add(a)});return k}H.Na=function(){return this.ra.Na()};
function Mf(a){this.A=a;this.ub=O();this.U=new Ef(1)}H=Mf[t];na(H,G("A"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.ub.add(a)};H.set=function(a,b){this.add(a,b)};va(H,function(a){this.ub[Xa](a)});H.get=function(a){return this.K(a)?[a]:[]};H.min=function(){return this.hd(J(this.U.min,this.U))};H.max=function(){return this.hd(J(this.U.max,this.U))};
H.hd=function(a){if(0==this.ub[Gb])return null;var b=Sd(this.ub)[Ka](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.Fd=function(){return this.ub[Gb]};H.ob=function(a,b,c,d){var g=a||[me()];a=Sd(this.ub)[Ga](function(a){return g[$a](function(b){return this.U.Ve(a,b)},this)},this);return pf(a,b,c,d)};ta(H,function(){this.ub[w]()});H.K=function(a){return this.ub.has(a)};H.Ja=function(){return[new fd(0,Sd(this.ub))]};H.Oc=G("U");
function Nf(a,b){var c=new Mf(a);b[0].w()[F](function(a){c.add(a,a)});return c}H.Na=Jb(!0);H.$a=function(){var a=new qf;a.ua=this.ub[Gb];return a};
function Of(a){this.j=a;this.Ib=a.m(Fd);this.H=a.m(Hd);this.va=a.m(Gd)}H=Of[t];H.Ga=function(a){var b=a.ab(),c=J(function(){if(0==b[C])return Vc();var a=b[qb]();return(a.Mb()?this.hj(a):this.ij(a))[z](c)},this);return c()};H.ij=function(a){var b=new je(this.j,O([a]));return this.Ib.Ub(0,b).M(a[u](),J(a.tc,a)).get([])[z](J(function(b){this.va.set(a[u](),b);this.$k(a,b)},this))};H.$k=function(a,b){var c=this.H.qg(a[u]());b[F](function(a){c[F](function(b){var c=a.$b(b[u]());b.add(c,a.id())})})};
H.hj=function(a){var b=new je(this.j,O([a])),c=this.Ib.Ub(0,b),b=c.M(a[u](),a.tc).get([])[z](J(function(b){this.va.set(a[u](),b)},this)),d=a.Fa().map(function(a){return this.al(a,c)},this)[Ra](this.bl(a,c));return Zc(d[Ra](b))};H.al=function(a,b){var c=b.M(a.l(),hd,1),d=Df(a);return c.get([])[z](J(function(b){L("btree"==b[0].w().type);if(1<b[C]){if(a.vg()){var c=wf[E](void 0,d,a.l(),a.fd);b=Lf(c,b[n](1))}else b=wf(d,a.l(),a.fd,b[n](1));this.H.set(a.qd,b)}},this))};
H.bl=function(a,b){return b.M(a.Wb(),hd,1).get([])[z](J(function(b){L("rowid"==b[0].w().type);1<b[C]&&(b=Nf(a.Wb(),b[n](1)),this.H.set(a[u](),b))},this))};

function Pf(){this.$=N();this.me=N()}Pf[t].Ga=function(a){a.ab()[F](function(a){var c=[];this.me.set(a[u](),c);var d=a.Wb();if(null===this.get(d)){var g=new Mf(d);c[x](g);this.$.set(d,g)}a.Fa()[F](function(a){var b;b=Df(a);b=new rf(a.l(),b,a.fd);b=a.vg()?new Kf(b):b;c[x](b);this.$.set(a.l(),b)},this)},this);return Vc()};Pf[t].get=function(a){return this.$.get(a)||null};
Pf[t].set=function(a,b){var c=this.me.get(a)||null;null===c&&(c=[],this.me.set(a,c));for(var d=null,g=0;g<c[C];g++)if(c[g][u]()==b[u]()){d=g;break}null!==d&&0<c[C]?c[A](d,1,b):c[x](b);this.$.set(b[u](),b)};Pf[t].qg=function(a){return this.me.get(a)||[]};
function Qf(a){this.gb=[];Lb(a)&&this.add(a)}H=Qf[t];f(H,function(){return this.gb.map(function(a){return a[D]()})[m](",")});H.K=function(a){return this.gb[$a](function(b){return b[sb](a)})};H.o=G("gb");
H.add=function(a){if(0!=a[C])if(a=this.gb[Ra](a),1==a[C])this.gb=a;else{a[Ya](ne);for(var b=[],c=a[0],d=1;d<a[C];++d)if(c.Wg(a[d])){var g=a[d],k=me();if(null!==c.c&&null!==g.c){var l=le(c.c,g.c,!0);1!=l?(k.c=c.c,k.Y=0!=l?c.Y:c.Y&&g.Y):(k.c=g.c,k.Y=g.Y)}null!==c.u&&null!==g.u&&(l=le(c.u,g.u,!1),-1!=l?(k.u=c.u,k.da=0!=l?c.da:c.da&&g.da):(k.u=g.u,k.da=g.da));c=k}else b[x](c),c=a[d];b[x](c);this.gb=b}};
H.Sc=function(a){return this.gb[C]==a.gb[C]?0==this.gb[C]||this.gb[Ta](function(b,c){return b.Sc(a.gb[c])}):!1};function Rf(a,b){var c=[];a.o().map(function(a){return b.o().map(function(b){var c;if(a.Wg(b)){c=me();var l=le(a.c,b.c,!0),l=0==l?a.Y?a:b:-1!=l?a:b;c.c=l.c;c.Y=l.Y;null===a.u||null===b.u?b=null===a.u?b:a:(l=le(a.u,b.u,!1),b=0==l?a.da?a:b:-1==l?a:b);c.u=b.u;c.da=b.da}else c=null;return c})})[F](function(a){c=c[Ra](a)});return new Qf(c[Ga](function(a){return null!==a}))};
function Sf(a,b){var c=[],d=null,g=null;a.Ec(function(a){var l=b(a);null==a[Ab]()?g=l:d.na(l);var p=a[Ab]();null!==p&&p.ya()==d.ya()&&(p=c[Za](d),-1!=p&&c[A](p,1));1<a.ya()&&c[x](l);d=a.Bg()?c[c[C]-1]:l});return g}function Tf(a){return Uf(a,function(a){return a.Bg()})}function Vf(a){var b=a[Ab](),c=0;null!==b&&(c=b.ea()[Za](a),b[hb](a));var d=a.ea()[n]();d[F](function(d,k){a[hb](d);null===b||b.Gc(d,c+k)});return{parent:b,children:d}}
function Wf(a,b){a.ea()[n]()[F](function(c){a[hb](c);b.na(c)});a.na(b)}function Xf(a){L(1==a.ya());var b=a.zb(0);L(1==b.ya());Vf(a);Wf(b,a);return b}function Yf(a,b,c){L(1==a.ya());var d=a.zb(0);L(1<d.ya());var g=d.ea()[n]();if(!g[$a](function(a){return b(a)}))return a;Vf(a);g[F](function(g,l){if(b(g)){var p=c(a);d.he(l);p.na(g);d.Gc(p,l)}});return d}function Zf(a,b,c,d){var g=a[Ab]();null!==g&&(a=g.ea()[Za](a),g.he(a),g.Gc(c,a));b.ea()[n]()[F](function(a){b[hb](a);d.na(a)});return c}
function Uf(a,b,c){function d(a){b(a)&&g[x](a);null!=c&&c(a)||a.ea()[F](d)}var g=[];d(a);return g}function $f(a,b){var c=b||function(a){return a[D]()+"\n"},d="";a.Ec(function(a){for(var b=0;b<a.Hj();b++)d+="-";d+=c(a)});return d};

function ag(a){He[r](this);this.cc=a;this.eb=!1}K(ag,He);H=ag[t];H.Tb=function(){return Sf(this,function(a){if(a instanceof ag){var b=new ag(a.cc);b.eb=a.eb;b.tf(a.fa());return b}return a.Tb()}[E](this))};H.nb=function(a){var b=a||[];this.Ec(function(a){a!=this&&a.nb(b)}[E](this));return(new Pd(b)).o()};H.le=function(a){this.eb!=a&&(this.eb=a,this.cc="and"==this.cc?"or":"and",this.ea()[F](function(b){return b.le(a)}))};H.eval=function(a){var b=this.ea().map(function(b){return b.eval(a)});return this.Bi(b)};
H.Bi=function(a){return"and"==this.cc?se(a):te(a)};f(H,function(){return"combined_pred_"+this.cc[D]()});function bg(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function cg(){this[w]()}var dg=aa[t][Wa],eg=aa[t][rb];H=cg[t];H.set=function(a,b){this.wd(a);var c=!this.ed(a);this.g[a]=b;if("__proto__"==a||!fg&&!dg[r](this.g,a)){delete this.g[a];var d=hc(this.Ob,a);if(c=0>d)d=this.Ob[C];this.Ob[d]=a;this.je[d]=b}c&&this.aa++};H.get=function(a,b){this.wd(a);if(this.ed(a))return this.g[a];var c=hc(this.Ob,a);return 0<=c?this.je[c]:b};
va(H,function(a){this.wd(a);if(this.ed(a))return this.aa--,delete this.g[a],!0;a=hc(this.Ob,a);return 0<=a?(this.aa--,nc(this.Ob,a),nc(this.je,a),!0):!1});H.addAll=function(a){ic(a.oa(),function(b){this.set(b,a.get(b))},this)};H.Eb=function(){return!this.aa};H.Ma=G("aa");H.K=function(a){this.wd(a);return this.ed(a)||0<=hc(this.Ob,a)};H.Ed=function(a){return yc(this.g,function(b,c){return this.ed(c)&&bg(b,a)},this)||0<=hc(this.je,a)};
H.oa=function(){var a;if(gg)a=pc(aa.keys(this.g));else{a=[];for(var b in this.g)eg[r](this.g,b)&&a[x](b)}qc(a,this.Ob);return a};H.o=function(){for(var a=[],b=this.oa(),c=0;c<b[C];c++)a[x](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.oa(),c=0;c<b[C];c++){var d=b[c];a[x]([d,this.get(d)])}return a};ta(H,function(){this.g=fg?aa[kb](null):{};this.Ob=[];this.je=[];this.aa=0});la(H,function(){var a=new cg;a.addAll(this);return a});
H.ed=function(a){return"__proto__"==a?!1:fg?a in this.g:eg[r](this.g,a)};H.wd=function(a){L(Sb(a),"key must be a string.")};var fg=!!aa[kb],gg=!!aa.keys;function hg(){this[w]()}H=hg[t];H.aa=0;ta(H,function(){this.aa=0;this.g=new cg});la(H,function(){var a=new hg;a.Hh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[x](b);this.aa++};H.Hh=function(a){ic(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?pc(a):[]};va(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=oc(c,function(a){return bg(b,a)});d&&(this.aa--,0==c[C]&&this.g[ib](a));return d});H.Eb=function(){return!this.aa};
H.Ma=G("aa");H.K=function(a){return this.g.K(a)};H.Ed=function(a){return lc(this.g.o(),function(b){return lc(b,function(b){return bg(b,a)})})};H.oa=function(){return this.g.oa()};H.o=function(){return wc(this.g.o())};H.getEntries=function(){for(var a=this.oa(),b=[],c=0;c<a[C];c++)for(var d=a[c],g=this.get(d),k=0;k<g[C];k++)b[x]([d,g[k]]);return b};
function ig(a,b,c){He[r](this);this.Oa=a;this.Da=b;this.L=c;this.cf=null;this.Hd=ze.Me().Ke(this.Oa.X(),this.L)}K(ig,He);H=ig[t];H.Tb=function(){var a=new ig(this.Oa,this.Da,this.L);a.tf(this.fa());return a};H.nb=function(a){return null!=a?(a[x](this.Oa),a[x](this.Da),a):[this.Oa,this.Da]};H.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new ig(this.Da,this.Oa,a)};
H.eval=function(a){var b=a[B][Ga](function(a){var b=a.V(this.Oa);a=a.V(this.Da);return this.Hd(b,a)},this);return new oe(b,a.W())};f(H,function(){return"join_pred("+this.Oa.l()+", "+this.Da.l()+")"});H.Jf=function(a){return-1!=a.W()[Za](this.Oa.M().qa())};H.Ph=function(a){return-1!=a.W()[Za](this.Da.M().qa())};H.Pi=function(a,b){var c=null,d=null;this.Jf(a)?(this.Lf(a,b),c=a,d=b):(this.Lf(b,a),c=b,d=a);return[c,d]};
H.Lf=function(a,b){L(this.Jf(a),"Mismatch between join predicate left operand and right relation.");L(this.Ph(b),"Mismatch between join predicate right operand and right relation.")};H.Wi=function(a,b,c){var d=[a,b];c||(d=this.Pi(a,b));a=d[0];d=d[1];return"eq"==this.L?this.Xi(a,d,c):this.Yi(a,d,c)};H.Hi=function(a){var b={};a.nb()[F](function(a){b[a[u]()]=null});return b};H.Xf=function(a,b){null===this.cf&&(this.cf=this.Hi(this.Da.M()));var c=new ve(new fd(-1,this.cf),!1);return xe(a,b,c,[this.Da.M().qa()])};
H.Yi=function(a,b,c){for(var d=[],g=a.W(),k=b.W(),l=0;l<a[B][C];l++){var p=!1,y=a[B][l].V(this.Oa);if(null!==y)for(var Da=0;Da<b[B][C];Da++)if(this.Hd(y,b[B][Da].V(this.Da))){var p=!0,eb=xe(a[B][l],g,b[B][Da],k);d[x](eb)}c&&!p&&d[x](this.Xf(a[B][l],g))}a=a.W()[Ra](b.W());return new oe(d,a)};
H.Xi=function(a,b,c){var d=a,g=b,k=this.Oa,l=this.Da;if(c||a[B][C]>b[B][C])d=b,g=a,k=this.Da,l=this.Oa;var p=new hg,y=[];d[B][F](function(a){var b=ha(a.V(k));p.add(b,a)});var Da=d.W(),eb=g.W();g[B][F](function(a){var b=a.V(l),d=ha(b);null!==b&&p.K(d)?p.get(d)[F](function(b){b=xe(a,eb,b,Da);y[x](b)}):c&&y[x](this.Xf(a,eb))}[E](this));a=a.W()[Ra](b.W());return new oe(y,a)};
function jg(a,b,c){return null===b?new Je(a,b,c):Lb(b.l)?new ig(a,b,c):new Je(a,b,c)};
var kg={};I("lf.schema.DataStoreType",kg,void 0);kg.INDEXED_DB=0;kg.MEMORY=1;kg.LOCAL_STORAGE=2;kg.FIREBASE=3;kg.WEB_SQL=4;kg.OBSERVABLE_STORE=5;function lg(a,b,c,d){this.qd=a;ja(this,b);this.fd=c;this.f=d}lg[t].l=function(){return this.qd+"."+this[q]};lg[t].vg=function(){return this.f[$a](function(a){return a.ha.Zb()})};function S(a,b,c,d){this.A=a;this.ka=c;this.G=b;this.ce=d;this.kb=null}I("lf.schema.Table",S,void 0);na(S[t],G("A"));na(S[t],S[t][u]);S[t].cb=G("kb");
S[t].qa=function(){return this.kb||this.A};S[t].Ic=function(a){var b=new this.constructor(this.A);b.kb=a;b.cl=this.cl;return b};S[t].as=S[t].Ic;S[t].createRow=S[t].Jb;S[t].deserializeRow=S[t].tc;S[t].Fa=G("ka");S[t].getIndices=S[t].Fa;S[t].nb=G("G");S[t].getColumns=S[t].nb;S[t].getConstraint=S[t].Kb;S[t].Mb=G("ce");S[t].persistentIndex=S[t].Mb;S[t].Wb=function(){return this.A+".#"};
function T(a,b){wa(this,a);this.Rb=b;this.kb=null}H=T[t];na(H,function(){return this.Rb+"("+this[jb][u]()+")"});H.l=function(){return this.Rb+"("+this[jb].l()+")"};H.M=function(){return this[jb].M()};f(H,function(){return this.l()});H.X=function(){return this[jb].X()};H.cb=G("kb");H.Fa=function(){return[]};H.Zb=Jb(!1);H.Ic=function(a){this.kb=a;return this};T[t].as=T[t].Ic;T[t].hg=function(){for(var a=[this],b=this;b instanceof T;)a[x](b[jb]),b=b[jb];return a};
function mg(a){this.kb=a||null;this.S=new S("#UnknownTable",[],[],!1)}H=mg[t];na(H,Jb("*"));H.l=function(){return this[u]()};f(H,function(){return this.l()});H.M=G("S");H.X=Jb(4);H.cb=G("kb");H.Fa=function(){return[]};H.Zb=Jb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);function ng(a){return new T(a||new mg,"COUNT")}I("lf.fn.count",ng,void 0);function og(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",og,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){Fe[r](this,"","");this.ej=b;this.Sg=a}K(U,Fe);H=U[t];ma(H,function(a,b){switch(this.ej){case 1:return this.$i(a,b);case 0:return this.Zi(a,b);default:return this.bj(a,b)}});f(H,Jb("dummy_node"));H.rd=function(){return this[D]()};H.Kf=function(a){L(-1==this.Sg||a[C]==this.Sg)};H.bj=function(a,b){return new M(J(function(c){c(this.ia(a,[],b))},this))};H.$i=function(a,b){return this.zb(0)[Pa](a,b)[z](J(function(c){this.Kf(c);return this.ia(a,c,b)},this))};
H.Zi=function(a,b){var c=this.ea().map(function(c){return c[Pa](a,b)});return Zc(c)[z](J(function(c){var g=[];c[F](function(a){for(var b=0;b<a[C];++b)g[x](a[b])});this.Kf(g);return this.ia(a,g,b)},this))};
function pg(a){U[r](this,-1,1);this.Hf=a}K(pg,U);f(pg[t],function(){return"aggregation("+this.Hf.map(function(a){return a.l()})[D]()+")"});pg[t].ia=function(a,b){b[F](function(a){(new qg(a,this.Hf)).bi()},this);return b};function qg(a,b){this.Ia=a;this.G=b}qg[t].bi=function(){this.G[F](function(a){a=a.hg()[fb]();for(var b=1;b<a[C];b++){var c=a[b],d=c.hg()[n](-1)[0],g=this.Kj(c);if(g.ug(c))break;d=rg(c.Rb,g,d);this.Ia.nh(c,d)}},this)};
qg[t].Kj=function(a){return a[jb]instanceof T?this.Ia.yc(a[jb]):this.Ia};function rg(a,b,c){var d=null;switch(a){case "MIN":d=sg(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=sg(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=tg(b,c);break;case "COUNT":d=ug(b,c);break;case "SUM":d=vg(b,c);break;case "AVG":a=ug(b,c);0<a&&(d=vg(b,c)/a);break;case "GEOMEAN":d=wg(b,c);break;default:d=xg(b,c)}return d}
function sg(a,b,c){return a[B][Ka](function(a,g){var k=g.V(b);return null===k?a:null===a?k:c(a,k)},null)}function ug(a,b){return b instanceof mg?a[B][C]:a[B][Ka](function(a,d){return a+(Pb(d.V(b))?0:1)},0)}function vg(a,b){return sg(a,b,function(a,b){return b+a})}function xg(a,b){var c=[];a[B][F](function(a){a=a.V(b);null===a||c[x](a)});return 0==c[C]?null:sd[wb](null,c)}
function wg(a,b){var c=0,d=a[B][Ka](function(a,d){var l=d.V(b);if(0==l||null===l)return a;c++;return a+ba.log(l)},0);return 0==c?null:ba.pow(ba.E,d/c)}function tg(a,b){var c=N();a[B][F](function(a){var g=a.V(b);c.set(g,a)});return new oe(Dd(c),a.W())};
function yg(a,b){this.Ea=a;this.ta=b}yg[t].pb=G("Ea");yg[t].ga=G("ta");function V(){Fe[r](this,"","")}K(V,Fe);function zg(a,b){V[r](this);ia(this,a);ua(this,b)}K(zg,V);function Ag(a,b){zg[r](this,a,b)}K(Ag,zg);function Bg(a){V[r](this);ia(this,a)}K(Bg,V);f(Bg[t],function(){return"delete("+this[h][u]()+")"});function Cg(a,b){V[r](this);ia(this,a);this.Af=b}K(Cg,V);f(Cg[t],function(){var a=[];this.Af&&(a=this.Af.map(function(a){return a.J[u]()},this));return"update("+this[h][u]()+", ["+a[m](",")+"])"});
function Dg(a){V[r](this);this.Ca=a}K(Dg,V);f(Dg[t],function(){return"select("+this.Ca[D]()+")"});function Eg(a){V[r](this);ia(this,a)}K(Eg,V);f(Eg[t],function(){var a="table_access("+this[h][u]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});function Fg(){V[r](this)}K(Fg,V);f(Fg[t],Jb("cross_product"));function Gg(a,b){V[r](this);this.f=a;this.Xb=b}K(Gg,V);
f(Gg[t],function(){var a="project("+this.f[D]();if(null!==this.Xb)var b=this.Xb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Hg(a){V[r](this);this.N=a}K(Hg,V);f(Hg[t],function(){return"order_by("+Ne(this.N)+")"});function Ig(a){V[r](this);this.f=a}K(Ig,V);f(Ig[t],function(){return"aggregation("+this.f[D]()+")"});function Jg(a){V[r](this);this.f=a}K(Jg,V);f(Jg[t],function(){return"group_by("+this.f[D]()+")"});function Kg(a){V[r](this);this.Z=a}K(Kg,V);
f(Kg[t],function(){return"limit("+this.Z+")"});function Lg(a){V[r](this);this.O=a}K(Lg,V);f(Lg[t],function(){return"skip("+this.O+")"});function Mg(a,b){V[r](this);this.Ca=a;this.Eg=b}K(Mg,V);f(Mg[t],function(){return(this.Eg?"left_outer_join":"join")+"("+this.Ca[D]()+")"});
function Ng(){};
function Og(){}K(Og,Ng);Og[t].Gb=function(a){this.ca=a;this.bb(this.ca);return this.ca};Og[t].bb=function(a){if(a instanceof Dg){L(1==a.ya(),"SelectNode must have exactly one child.");var b=this.Mf(a.Ca),b=this.Ji(b);Zf(a,a,b[0],b[1]);a==this.ca&&(this.ca=b[0]);a=b[0]}a.ea()[F](function(a){this.bb(a)},this)};Og[t].Mf=function(a){if(0==a.ya()||"and"!=a.cc)return[a];var b=a.ea()[n]().map(function(b){a[hb](b);return this.Mf(b)},this);return wc(b)};
Og[t].Ji=function(a){var b=null,c=null;a.map(function(a,g){var k=new Dg(a);0==g?b=k:c.na(k);c=k},this);return[b,c]};
function Pg(){}K(Pg,Ng);Pg[t].Gb=function(a){this.ca=a;this.bb(this.ca);return this.ca};Pg[t].bb=function(a){if(a instanceof Fg)for(;2<a.ya();){for(var b=new Fg,c=0;2>c;c++){var d=a.he(0);b.na(d)}a.Gc(b,0)}a.ea()[F](function(a){this.bb(a)},this)};
function Qg(){U[r](this,2,0)}K(Qg,U);f(Qg[t],Jb("cross_product"));Qg[t].ia=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.W(),l=d.W(),p=0;p<c[B][C];p++)for(var y=0;y<d[B][C];y++){var Da=xe(c[B][p],k,d[B][y],l);g[x](Da)}c=c.W()[Ra](d.W());return[new oe(g,c)]};

function Rg(a,b){Qe[r](this,a,b);this.Za=a.m(Jd);this.Lb=a.m(Kd)}K(Rg,Qe);Ea(Rg[t],Jb(2));Rg[t].ff=function(a){0==this.X()?this.Kk(a):this.nd()};Rg[t].Kk=function(a){this.fe[F](function(b,c){b instanceof Me&&this.Lb.Bh(b,a[c])},this)};Rg[t].nd=function(){var a=this.Lb.Re(this.ga());0!=a[C]&&(a=new Re(this[Va],a),this.Za.ic(a))};
function Sg(a){Ke[r](this,a)}K(Sg,Ke);Sg[t].ga=function(){var a=O();a.add(this.c);this.ha[yb]().gg(this.c[u]())[F](a.add[E](a));return a};la(Sg[t],function(){var a=new Sg(this.ha);a.Cd(this);a.c=this.c;return a});Aa(Sg[t],function(a){Sg.Pb[E][r](this,a);this.ve(a);return this});
function Tg(a){Ke[r](this,a)}K(Tg,Ke);Tg[t].ga=function(){var a=O();a.add(this.Ha);var b=this.ha[yb]();b.Qj(this.Ha[u]())[F](a.add[E](a));this.nc&&b.gg(this.Ha[u]())[F](a.add[E](a));return a};la(Tg[t],function(){var a=new Tg(this.ha);a.Cd(this);a.Ha=this.Ha;this[cb]&&ua(a,this[cb]instanceof ye?this[cb]:this[cb][n]());a.nc=this.nc;a.oc=this.oc;return a});
Aa(Tg[t],function(a){Tg.Pb[E][r](this,a);this.oc&&ua(this,this.oc instanceof ye?a[this.oc.Ab()]:this.oc.map(function(b){return b instanceof ye?a[b.Ab()]:b}));return this});
function Ug(a){Ke[r](this,a)}K(Ug,Ke);Ug[t].ga=function(){var a=O();a.add(this[h]);var b=this.set.map(function(a){return a.J.l()}),c=this.ha[yb]();c.Rj(b)[F](a.add[E](a));c.Gj(b)[F](a.add[E](a));return a};la(Ug[t],function(){var a=new Ug(this.ha);a.Cd(this);ia(a,this[h]);a.set=this.set?this.set[n]():this.set;return a});Aa(Ug[t],function(a){Ug.Pb[E][r](this,a);this.set[F](function(b){-1!=b.xd&&pa(b,a[b.xd])});this.ve(a);return this});
function Vg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+jd(b)+"'";default:return"'"+b[D]()+"'"}}function Wg(a,b){var c=a.nc?"INSERT OR REPLACE":"INSERT",d=a.Ha.nb(),c=c+(" INTO "+a.Ha[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[cb].map(function(a){var k=d.map(function(c){var d=a.w()[c[u]()];return b?null!=d?"#":"NULL":Vg(c.X(),d)});return c+k[m](", ")+");"})[m]("\n")}
function Xg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Yg(a,b,c,d){return a instanceof ye?"?"+a.Ab()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Vg(c,a)})[m](", ")+")":"between"==b?Vg(c,a[0])+" AND "+Vg(c,a[1]):Vg(c,a)[D]()}
function Zg(a,b){return a.ea().map(function(a){return"("+$g(a,b)+")"})[m]("and"==a.cc?" AND ":" OR ")}function $g(a,b){if(a instanceof Je){var c=a.J.l(),d=Xg(a.L),g=Yg(a[v],a.L,a.J.X(),b);return"="==d&&"NULL"==g?[c,"IS NULL"][m](" "):"<>"==d&&"NULL"==g?[c,"IS NOT NULL"][m](" "):[c,d,g][m](" ")}if(a instanceof ag)return Zg(a,b);if(a instanceof ig)return[a.Oa.l(),Xg(a.L),a.Da.l()][m](" ");throw new P(357,typeof a);}function ah(a,b){var c=$g(a,b);return c?" WHERE "+c:""}
function bh(a,b){var c="UPDATE "+a[h][u]()+" SET ",c=c+a.set.map(function(a){var b=a.J.l()+" = ";return-1!=a.xd?b+"?"+a.xd[D]():b+Vg(a.J.X(),a[v])[D]()})[m](", ");a.D&&(c+=ah(a.D,b));return c+";"}
function ch(a,b){var c="*";a.f[C]&&(c=a.f.map(function(a){return a.cb()?a.l()+" AS "+a.cb():a.l()})[m](", "));var d=a.c.map(function(a){return a.qa()!=a[u]()?a[u]()+" AS "+a.qa():a[u]()})[m](", "),c="SELECT "+c+" FROM "+d;a.D&&(c+=ah(a.D,b));a.N&&(d=a.N.map(function(a){return a.J.l()+(0==a.sb?" DESC":" ASC")})[m](", "),c+=" ORDER BY "+d);a.ja&&(d=a.ja.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.Z&&(c+=" LIMIT "+a.Z[D]());a.O&&(c+=" SKIP "+a.O[D]());return c+";"}
function dh(a,b){var c=b||!1,d=a.ng();if(d instanceof Tg)return Wg(d,c);if(d instanceof Sg){var g="DELETE FROM "+d.c[u]();d.D&&(g+=ah(d.D,c));return g+";"}if(d instanceof Ug)return bh(d,c);if(d instanceof Me)return ch(d,c);throw new P(358,typeof d);};
function eh(a,b){this.global=a;this.Yk=a.m(Id);this.Za=a.m(Jd);this.a=b}I("lf.query.BaseBuilder",eh,void 0);ma(eh[t],function(){try{this.lb()}catch(a){return Wc(a)}return new M(function(a,c){var d=new Rg(this[Va],[this.cd()]);this.Za.ic(d)[z](function(c){a(c[0].Ne())},c)},this)});ma(eh[t],eh[t][Pa]);eh[t].eg=function(){var a=J(function(a){return a.rd(this.a)+"\n"},this);return $f(this.Oe().pb(),a)};eh[t].explain=eh[t].eg;Aa(eh[t],function(a){this.a[E](a);return this});Aa(eh[t],eh[t][E]);
eh[t].xl=function(a){return dh(this,a)};eh[t].toSql=eh[t].xl;H=eh[t];H.lb=Hb();H.ng=function(){return this.a.clone()};H.Pd=G("a");H.Oe=function(){null==this.Yg&&(this.Yg=this.Yk.Sj(this.a));return this.Yg};H.cd=function(){return{context:this.ng(),jf:this.Oe()}};H.Oj=function(){return{context:this.Pd(),jf:this.Oe()}};
function fh(a){eh[r](this,a,new Sg(a.m(Ld)))}K(fh,eh);I("lf.query.DeleteBuilder",fh,void 0);fh[t].c=function(a){this.Th();this.a.c=a;return this};fh[t].from=fh[t].c;fh[t].D=function(a){this.te();this.a.D=a;return this};fh[t].where=fh[t].D;fh[t].Th=function(){if(null!=this.a.c)throw new P(515);};fh[t].te=function(){if(null!=this.a.D)throw new P(516);};fh[t].lb=function(){fh.Pb.lb[r](this);if(null==this.a.c)throw new P(517);};
function gh(a,b){eh[r](this,a,new Tg(a.m(Ld)));this.a.nc=b||!1}K(gh,eh);I("lf.query.InsertBuilder",gh,void 0);gh[t].lb=function(){gh.Pb.lb[r](this);var a=this.a;if(null==a.Ha||null==a[cb])throw new P(518);if(a.nc&&null===a.Ha.Kb().Rd())throw new P(519);};gh[t].Ha=function(a){this.Uh();this.a.Ha=a;return this};gh[t].into=gh[t].Ha;ua(gh[t],function(a){this.Vh();a instanceof ye||a[$a](function(a){return a instanceof ye})?this.a.oc=a:ua(this.a,a);return this});ua(gh[t],gh[t][cb]);
gh[t].Uh=function(){if(null!=this.a.Ha)throw new P(520);};gh[t].Vh=function(){if(null!=this.a[cb])throw new P(521);};
function hh(a){return ih("and",e[t][n][r](arguments))}I("lf.op.and",hh,void 0);I("lf.op.or",function(a){return ih("or",e[t][n][r](arguments))},void 0);function ih(a,b){var c=new ag(a);b[F](function(a){c.na(a)});return c}I("lf.op.not",function(a){a.le(!0);return a},void 0);
function W(a,b){eh[r](this,a,new Me(a.m(Ld)));this.fg=this.Fh=!1;this.a.f=b;this.ki();this.ii()}K(W,eh);I("lf.query.SelectBuilder",W,void 0);H=W[t];H.lb=function(){W.Pb.lb[r](this);var a=this.a;if(null==a.c)throw new P(522);if(Lb(a.ac)&&!Lb(a.Z)||Lb(a.lc)&&!Lb(a.O))throw new P(523);this.wi()};H.ki=function(){var a=this.a.f[Ga](function(a){return a instanceof T&&"DISTINCT"==a.Rb},this);if(0!=a[C]&&(1!=a[C]||1!=this.a.f[C]))throw new P(524);};H.wi=function(){null!=this.a.ja?this.oi():this.vi()};
H.oi=function(){var a=this.a.f[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.ja[C]||0==this.a.f[C])b=!0;else{var c=this.a.ja.map(function(a){return a.l()});(b=a[$a](function(a){return-1==c[Za](a)}))||(b=this.a.ja[$a](function(a){a=a.X();return 6==a||0==a}))}if(b)throw new P(525);};
H.vi=function(){var a=this.a.f[$a](function(a){return a instanceof T},this),b=this.a.f[$a](function(a){return!(a instanceof T)},this)||0==this.a.f[C];if(a&&b)throw new P(526);};H.ii=function(){this.a.f[F](function(a){if(a instanceof T&&!jh(a.Rb,a.X()))throw new P(527,a.l());},this)};H.c=function(a){if(this.fg)throw new P(515);this.fg=!0;null==this.a.c&&(this.a.c=[]);this.a.c[x][wb](this.a.c,e[t][n][r](arguments));return this};W[t].from=W[t].c;
W[t].D=function(a){if(this.Fh)throw new P(516);this.Fh=!0;this.ue(a);return this};W[t].where=W[t].D;W[t].ue=function(a){null!=this.a.D&&(a=hh(a,this.a.D));this.a.D=a};W[t].sk=function(a,b){if(null==this.a.c)throw new P(542);this.a.c[x](a);this.ue(b);return this};W[t].innerJoin=W[t].sk;
W[t].zk=function(a,b){if(!(b instanceof ig))throw new P(541);if(null==this.a.c)throw new P(542);this.a.c[x](a);null==this.a.Bc&&(this.a.Bc=O());var c=b;a.qa()!=b.Da.M().qa()&&(c=b[fb]());this.a.Bc.add(c.fa());this.ue(c);return this};W[t].leftOuterJoin=W[t].zk;W[t].Z=function(a){if(null!=(this.a.Z||this.a.ac))throw new P(528);if(a instanceof ye)this.a.ac=a;else{if(0>a)throw new P(531);this.a.Z=a}return this};W[t].limit=W[t].Z;
W[t].O=function(a){if(null!=(this.a.O||this.a.lc))throw new P(529);if(a instanceof ye)this.a.lc=a;else{if(0>a)throw new P(531);this.a.O=a}return this};W[t].skip=W[t].O;W[t].N=function(a,b){null==this.a.N&&(this.a.N=[]);this.a.N[x]({J:a,sb:null!=b?b:1});return this};W[t].orderBy=W[t].N;W[t].ja=function(a){if(null!=this.a.ja)throw new P(530);null==this.a.ja&&(this.a.ja=[]);this.a.ja[x][wb](this.a.ja,e[t][n][r](arguments));return this};W[t].groupBy=W[t].ja;
function jh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(W[t],function(){var a=new W(this[Va],this.a.f);a.a=this.a.clone();a.a.Mc=null;return a});la(W[t],W[t].clone);
function kh(a,b){eh[r](this,a,new Ug(a.m(Ld)));ia(this.a,b)}K(kh,eh);I("lf.query.UpdateBuilder",kh,void 0);kh[t].set=function(a,b){var c={xd:b instanceof ye?b.Ab():-1,J:a,value:b};null!=this.a.set?this.a.set[x](c):this.a.set=[c];return this};kh[t].set=kh[t].set;kh[t].D=function(a){this.te();this.a.D=a;return this};kh[t].where=kh[t].D;kh[t].te=function(){if(null!=this.a.D)throw new P(516);};
kh[t].lb=function(){kh.Pb.lb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[$a](function(a){return a[v]instanceof ye}))throw new P(501);};
function lh(a){this.a=a;this.Ea=null}lh[t].xc=function(){null===this.Ea&&(this.Ea=this.Kd());return this.Ea};function mh(a){lh[r](this,a)}K(mh,lh);mh[t].Kd=function(){return this.a.nc?new Ag(this.a.Ha,this.a[cb]):new zg(this.a.Ha,this.a[cb])};function nh(a){lh[r](this,a)}K(nh,lh);nh[t].Kd=function(){var a=new Cg(this.a[h],this.a.set),b=null!=this.a.D?new Dg(this.a.D.Tb()):null,c=new Eg(this.a[h]);null===b?a.na(c):(b.na(c),a.na(b));return a};
function oh(a,b,c){this.Ea=a;this.lf=b;this.hc=c}oh[t].xc=function(){this.hc[F](function(a){this.Ea=a.Gb(this.Ea,this.lf)},this);return this.Ea};
function ph(a,b){lh[r](this,a);this.hc=b}K(ph,lh);ph[t].Kd=function(){var a=new Bg(this.a.c),b=null!=this.a.D?new Dg(this.a.D.Tb()):null,c=new Eg(this.a.c);null===b?a.na(c):(b.na(c),a.na(b));return(new oh(a,this.a,this.hc)).xc()};
function qh(){}K(qh,Ng);qh[t].Gb=function(a,b){this.ca=a;this.bb(this.ca,b);return this.ca};qh[t].bb=function(a,b){if(a instanceof Dg&&a.Ca instanceof ig){L(1==a.ya(),"SelectNode must have exactly one child.");var c=a.Ca.fa(),d=a.zb(0);d instanceof Fg&&(c=Lb(b)&&null!=b.Bc&&b.Bc.has(c),c=new Mg(a.Ca,c),Zf(a,d,c,c),a==this.ca&&(this.ca=c),a=c)}a.ea()[F](function(a){this.bb(a,b)},this)};
function rh(){this.re=O()}K(rh,Ng);H=rh[t];H.Uf=function(){this.re[w]()};H.Gb=function(a){this.Uf();this.ca=a;this.bb(this.ca);this.Uf();return this.ca};H.bb=function(a){if(this.zg(a)){var b=a.Ca instanceof Je?this.Xk(a):this.Wk(a);this.re.add(a);b==a&&(b=a.zb(0));null!==b&&(Pb(b[Ab]())&&(this.ca=b),this.zg(b)&&!this.re.has(b)&&this.bb(b))}else a.ea()[F](function(a){this.bb(a)},this)};
H.ee=function(a,b){var c=a;if(this.ol(a))c=Xf(a),this.ee(a,b);else if(this.nl(a)){var d=[],c=Yf(a,b,function(a){a=new Dg(a.Ca);d[x](a);return a});d[F](function(a){this.ee(a,b)},this)}return c};H.Xk=function(a){var b=O([a.Ca.J.M().qa()]),c=function(a){return this.bg(a,b)}[E](this);return this.ee(a,c)};H.Wk=function(a){var b=O([a.Ca.Oa.M().qa(),a.Ca.Da.M().qa()]),c=function(a){return this.bg(a,b)}[E](this);return this.ee(a,c)};
H.bg=function(a,b){var c=O();Tf(a)[F](function(a){c.add(a[h].qa())},this);a instanceof Eg&&c.add(a[h].qa());return Td(c,b)};H.zg=function(a){return a instanceof Dg&&!(a.Ca instanceof ag)};H.nl=function(a){a=a.zb(0);return a instanceof Fg||a instanceof Mg};H.ol=function(a){return a.zb(0)instanceof Dg};
function sh(a,b){lh[r](this,a);this.hc=b;this.dh=this.Ng=this.rh=this.Tg=this.If=this.tg=this.mh=this.Zf=this.th=null}K(sh,lh);H=sh[t];H.Kd=function(){this.xj();var a=this.Di();return(new oh(a,this.a,this.hc)).xc()};H.xj=function(){this.Dj();this.sj();this.Bj();this.yj();this.Cj();this.wj();this.uj();this.rj();this.zj()};
H.Di=function(){for(var a=[this.Ng,this.rh,this.dh,this.Tg,this.If,this.tg,this.mh,this.Zf],b=null,c=null,d=0;d<a[C];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].na(g),b=d)}this.th[F](function(c){a[b].na(c)});return c};H.Dj=function(){this.th=this.a.c.map(function(a){return new Eg(a)},this)};H.sj=function(){2<=this.a.c[C]&&(this.Zf=new Fg)};H.Bj=function(){this.mh=null!=this.a.D?new Dg(this.a.D.Tb()):null};H.yj=function(){this.a.N&&(this.Tg=new Hg(this.a.N))};
H.wj=function(){null!=this.a.Z&&(this.Ng=new Kg(this.a.Z))};H.Cj=function(){null!=this.a.O&&0<this.a.O&&(this.rh=new Lg(this.a.O))};H.uj=function(){null!=this.a.ja&&(this.tg=new Jg(this.a.ja))};H.rj=function(){var a=this.a.f[Ga](function(a){return a instanceof T});null!=this.a.N&&this.a.N[F](function(b){b.J instanceof T&&a[x](b.J)});0<a[C]&&(this.If=new Ig(a))};H.zj=function(){this.dh=new Gg(this.a.f||[],this.a.ja||null)};
function th(){this.rf=[new Og,new Pg,new rh,new qh];this.Ge=[new Og]}th[t].create=function(a){var b=null;if(a instanceof Tg)b=new mh(a);else if(a instanceof Sg)b=new ph(a,this.Ge);else if(a instanceof Me)b=new sh(a,this.rf);else if(a instanceof Ug)b=new nh(a);else throw new P(513);b=b.xc();return new yg(b,a.ga())};
function uh(a){U[r](this,1,1);this.S=a}K(uh,U);f(uh[t],function(){return"delete("+this.S[u]()+")"});uh[t].ia=function(a,b){var c=b[0][B].map(function(a){return a.xa});a[ib](this.S,c);return[re()]};
function vh(a,b){U[r](this,0,-1);ia(this,b);this.H=a.m(Hd)}K(vh,U);f(vh[t],function(){return"get_row_count("+this[h][u]()+")"});vh[t].ia=function(){var a=this.H.get(this[h].Wb()),b=new oe([],[this[h][u]()]);b.nh(ng(),a.$a().ua);return[b]};
function wh(a,b){U[r](this,0,-1);this.va=a.m(Gd);this.H=a.m(Hd);ia(this,b)}K(wh,U);f(wh[t],function(){var a="table_access("+this[h][u]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});wh[t].ia=function(){var a=this.H.get(this[h].Wb()).ob();return[ue(this.va.get(a),[this[h].qa()])]};
function xh(a){this.j=a}K(xh,Ng);xh[t].Gb=function(a,b){this.ca=a;if(!this.hi(b))return a;var c=Uf(a,function(a){return a instanceof wh})[0],d=new vh(this.j,c[h]);Zf(c,c,d,d);return this.ca};xh[t].hi=function(a){return 1==a.f[C]&&1==a.c[C]&&null==a.D&&null==a.Z&&null==a.O&&null==a.ja?(a=a.f[0],a instanceof T&&"COUNT"==a.Rb&&a[jb]instanceof mg):!1};
function yh(a){U[r](this,1,1);this.sg=a}K(yh,U);f(yh[t],function(){return"groupBy("+this.sg.map(function(a){return a.l()})[D]()+")"});yh[t].ia=function(a,b){return this.di(b[0])};yh[t].di=function(a){var b=new hg,c=function(a){return this.sg.map(function(b){return a.V(b)},this)[m](",")}[E](this);a[B][F](function(a){b.add(c(a),a)},this);return b.oa().map(function(c){return new oe(b.get(c),a.W())},this)};
function zh(a){L(1<a[C],"Should only be called for cross-column indices.");a=a.map(function(a){return a.o()});a=xd[wb](null,a);var b=[];wd(a,function(a){b[x](a)});return b}function Ah(a){this.Yb=a}Ah[t].Nd=function(){return 1==this.Yb.f[C]?[me()]:[this.Yb.f.map(function(){return me()})]};function Bh(a,b){this.Yb=a;this.wa=b;this.Ce=this.Lg=null}
Bh[t].ei=function(a){var b=N();this.wa.oa()[F](function(c){var d=this.wa.get(c).map(function(b){return a.Qd(b)},this),g=new Qf([me()]);d[F](function(a){a=new Qf(a.wl());g=Rf(g,a)});b.set(c,g)},this);return b};Bh[t].jj=function(a){for(var b=this.Yb.f[C]-1;0<=b;b--){var c=this.Yb.f[b];if(null!==(a.get(c.ha[u]())||null))break;a.set(c.ha[u](),new Qf([me()]))}};Bh[t].Nd=function(a){if(this.Lg==a)return this.Ce;var b=this.ei(a);this.jj(b);this.Ce=1==this.Yb.f[C]?Dd(b)[0].o():zh(this.Zj(b));this.Lg=a;return this.Ce};
Bh[t].Zj=function(a){var b=N(),c=0;this.Yb.f[F](function(a){b.set(a.ha[u](),c);c++});return Cd(a)[Ya](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function Ch(a,b){this.vh=b;this.H=a.m(Hd)}Ch[t].zi=function(a,b){var c=b[Ga](this.tk,this);if(0==c[C])return null;c=this.vj(c);if(0==c[C])return null;if(1==c[C])return c[0];var d=Number.MAX_VALUE;return c[Ka](function(b,c){var l=c.ci(a);return l<d?(d=l,c):b},null)};Ch[t].vj=function(a){return this.vh.Fa().map(function(b){b=new Dh(this.H,b);b.Fi(a);return b},this)[Ga](function(a){return a.yk()})};Ch[t].tk=function(a){return a instanceof Je&&a.Ag()?a.J.M()==this.vh:!1};
function Dh(a,b){this.H=a;this.Cb=b;this.mk=O(this.Cb.f.map(function(a){return a.ha[u]()}));this.$e=this.wa=null}H=Dh[t];H.Tj=function(){return null===this.wa?[]:this.wa.o()};H.lg=function(){L(this.wa);null===this.$e&&(this.$e=new Bh(this.Cb,this.wa));return this.$e};H.Fi=function(a){a[F](function(a){var c=a.nb()[0][u]();this.mk.has(c)&&(null===this.wa&&(this.wa=new hg),this.wa.add(c,a.fa()))},this)};
H.yk=function(){if(null===this.wa)return!1;for(var a=!1,b=!0,c=0;c<this.Cb.f[C];c++){var d=this.wa.K(this.Cb.f[c].ha[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.ci=function(a){a=this.lg().Nd(a);var b=this.H.get(this.Cb.l());return a[Ka](function(a,d){return a+b.Fd(d)},0)};
function Eh(a,b,c,d){U[r](this,0,-1);this.H=a.m(Hd);this.index=b;this.Jg=c;this.pf=d;this.vd=this.ud=!1}K(Eh,U);f(Eh[t],function(){return"index_range_scan("+this[mb].l()+", ?, "+(this.pf?"reverse":"natural")+(this.ud?", limit:?":"")+(this.vd?", skip:?":"")+")"});Eh[t].rd=function(a){var b=this[D](),c=this.Jg.Nd(a),b=b[db]("?",c[D]());this.ud&&(b=b[db]("?",a.Z[D]()));this.vd&&(b=b[db]("?",a.O[D]()));return b};
Eh[t].ia=function(a,b,c){a=this.Jg.Nd(c);b=this.H.get(this[mb].l());c=(1==a[C]&&a[0]instanceof ke&&a[0].Dg()?pf(b.get(a[0].c),!1,this.ud?c.Z:void 0,this.vd?c.O:void 0):b.ob(a,this.pf,this.ud?c.Z:void 0,this.vd?c.O:void 0)).map(function(a){return new fd(a,{})},this);return[ue(c,[this[mb].qd])]};
function Fh(a){U[r](this,1,1);this.de=a}K(Fh,U);f(Fh[t],Jb("select(?)"));Fh[t].rd=function(a){a=a.Qd(this.de);return this[D]()[db]("?",a[D]())};Fh[t].ia=function(a,b,c){return[c.Qd(this.de).eval(b[0])]};
function Gh(a,b){U[r](this,1,1);this.va=a.m(Gd);this.S=b}K(Gh,U);f(Gh[t],function(){return"table_access_by_row_id("+this.S[u]()+")"});Gh[t].ia=function(a,b){return[ue(this.va.get(b[0].Yj()),[this.S.qa()])]};
function Hh(a){this.j=a}K(Hh,Ng);Hh[t].Gb=function(a,b){this.ca=a;Uf(a,function(a){return a instanceof wh})[F](function(a){var d=this.pj(a);if(0!=d[C]){var g=(new Ch(this.j,a[h])).zi(b,d.map(function(a){return b.Qd(a.de)}));if(null!==g){var k=N();d[F](function(a){k.set(a.de,a)},this);this.ca=this.hl(g,k,a,b)}}},this);return this.ca};Hh[t].pj=function(a){var b=[];for(a=a[Ab]();a;)a instanceof Fh&&b[x](a),a=a[Ab]();return b};
Hh[t].hl=function(a,b,c){a.Tj().map(function(a){return b.get(a)})[F](Vf);a=new Eh(this.j,a.Cb,a.lg(),!1);var d=new Gh(this.j,c[h]);d.na(a);Zf(c,c,d,a);return a.pb()};
function Ih(a,b){U[r](this,0,-1);this.H=a.m(Hd);this.S=b}K(Ih,U);f(Ih[t],function(){return"insert("+this.S[u]()+")"});Ih[t].ia=function(a,b,c){Jh(this.S,c[cb],this.H);a.Db(this.S,c[cb]);return[ue(c[cb],[this.S[u]()])]};function Jh(a,b,c){a=a.Kb().Rd();if(null===a?0:a.f[0][ob]){var d=a.f[0].ha[u]();c=c.get(a.l()).max();var g=null===c?0:c[0];b[F](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function Kh(a,b){U[r](this,0,-1);this.H=a.m(Hd);this.S=b}K(Kh,U);
f(Kh[t],function(){return"insert_replace("+this.S[u]()+")"});Kh[t].ia=function(a,b,c){Jh(this.S,c[cb],this.H);a.Ue(this.S,c[cb]);return[ue(c[cb],[this.S[u]()])]};
function Lh(a,b){U[r](this,2,0);this.bh=a;this.Fg=b}K(Lh,U);f(Lh[t],function(){return(this.Fg?"left_outer_join":"join")+"("+this.bh[D]()+")"});Lh[t].ia=function(a,b){return[this.bh.Wi(b[0],b[1],this.Fg)]};
function Mh(){U[r](this,1,1)}K(Mh,U);f(Mh[t],Jb("limit(?)"));Mh[t].rd=function(a){return this[D]()[db]("?",a.Z[D]())};Mh[t].ia=function(a,b,c){b[0][B][A](c.Z);return b};
function Nh(a){U[r](this,-1,1);this.N=a}K(Nh,U);H=Nh[t];f(H,function(){return"order_by("+Ne(this.N)+")"});H.ia=function(a,b){if(1==b[C]){var c=this.lj(b[0]);(null===c?b[0]:b[0].yc(c))[B][Ya](this.Ti[E](this))}else b[Ya](this.dl[E](this));return b};H.lj=function(a){for(var b=null,c=0;c<this.N[C];c++){var d=og(this.N[c].J);if(a.ug(d)){b=d;break}}return b};
H.U=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.N[k].J,c=this.N[k].sb,d=a(g),g=b(g);while(d==g&&k+1<this.N[C]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.dl=function(a,b){return this.U(function(b){return b instanceof T?a.yc(b):a[B][a[B][C]-1].V(b)},function(a){return a instanceof T?b.yc(a):b[B][b[B][C]-1].V(a)})};H.Ti=function(a,b){return this.U(function(b){return a.V(b)},function(a){return b.V(a)})};
function Oh(a,b){this.Ia=a;this.G=b}Oh[t].rg=function(){return this.G[$a](function(a){return a instanceof T},this)?this.gk():this.hk()};
Oh[t].gk=function(){if(1==this.G[C]&&"DISTINCT"==this.G[0].Rb){var a=this.Ia.yc(this.G[0])[B].map(function(a){var b=new ve(new fd(-1,{}),this.Ia.Xe());b.sf(this.G[0],a.V(this.G[0][jb]));return b},this);return new oe(a,[])}var b=new ve(new fd(-1,{}),this.Ia.Xe());this.G[F](function(a){var d=a instanceof T?this.Ia.yc(a):this.Ia[B][0].V(a);b.sf(a,d)},this);return new oe([b],this.Ia.W())};
Oh[t].hk=function(){var a=e(this.Ia[B][C]),b=this.Ia.Xe();this.Ia[B][F](function(c,d){a[d]=new ve(new fd(c.xa.id(),{}),b);this.G[F](function(b){a[d].sf(b,c.V(b))},this)},this);return new oe(a,this.Ia.W())};function Ph(a,b){var c=a.map(function(a){return(new Oh(a,b)).rg()[B][0]});return new oe(c,a[0].W())};
function Qh(a,b){U[r](this,-1,1);this.f=a;this.Xb=b}K(Qh,U);H=Qh[t];f(H,function(){var a="project("+this.f[D]();if(null!==this.Xb)var b=this.Xb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});H.ia=function(a,b){return 0==b[C]?[re()]:1==b[C]?[this.cj(b[0])]:[this.aj(b)]};H.ik=function(){return this.f[$a](function(a){return a instanceof T})||null!==this.Xb};H.aj=function(a){return Ph(a,this.f)};H.cj=function(a){return 0==this.f[C]?a:(new Oh(a,this.f)).rg()};
function Rh(){U[r](this,1,1)}K(Rh,U);f(Rh[t],Jb("skip(?)"));Rh[t].rd=function(a){return this[D]()[db]("?",a.O[D]())};Rh[t].ia=function(a,b,c){return[new oe(b[0][B][n](c.O),b[0].W())]};
function Sh(){}K(Sh,Ng);Sh[t].Gb=function(a){var b=Uf(a,function(a){return a instanceof Mh||a instanceof Rh});if(0==b[C])return a;var c=this.oj(a);if(null===c)return a;b[F](function(a){this.Hk(a,c)},this);return c.pb()};Sh[t].Hk=function(a,b){a instanceof Mh?b.ud=!0:b.vd=!0;return Vf(a).parent};Sh[t].oj=function(a){a=Uf(a,function(a){return a instanceof Eh},function(a){return a instanceof Qh&&a.ik()||a instanceof Nh||1!=a.ya()||a instanceof Fh});return 0<a[C]?a[0]:null};
function Th(a){this.j=a}K(Th,Ng);Th[t].Gb=function(a){var b=Uh(a);if(null===b)return a;a=this.Sh(b);a==b&&(a=this.Rh(b));return a.pb()};Th[t].Sh=function(a){var b=a,c=Vh(a.zb(0));if(null!==c){var d;d=a.N;for(var g=null,k=c[h].Fa(),l=0;l<k[C]&&null===g;l++)g=Wh(k[l],d);d=g;if(null===d)return b;b=new Eh(this.j,d.Cb,new Ah(d.Cb),d.Gg);d=new Gh(this.j,c[h]);d.na(b);Vf(a);b=Zf(c,c,d,b)}return b};
Th[t].Rh=function(a){var b=a,c=Xh(a.zb(0));if(null!==c){var d=Wh(c[mb],a.N);if(null===d)return b;c.pf=d.Gg;b=Vf(a).parent}return b};function Xh(a){a=Uf(a,function(a){return a instanceof Eh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Vh(a){a=Uf(a,function(a){return a instanceof wh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Uh(a){a=Uf(a,function(a){return a instanceof Nh});return 0<a[C]?a[0]:null}
function Wh(a,b){if(a.f[C]!=b[C]||!b[Ta](function(b,c){return b.J[u]()==a.f[c].ha[u]()}))return null;var c=Yh(b,a);return c[0]||c[1]?{Cb:a,Gg:c[1]}:null}function Yh(a,b){var c=a[Ka](function(a,b){return a<<1|(0==b.sb?0:1)},0),d=b.f[Ka](function(a,b){return a<<1|(0==b.sb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[C],b.f[C]))-1;return[c,d]};
function Zh(a,b,c){this.Ea=a;this.lf=b;this.hc=c}Zh[t].xc=function(){this.hc[F](function(a){this.Ea=a.Gb(this.Ea,this.lf)},this);return this.Ea};
function $h(a,b){U[r](this,1,1);this.S=a;this.Fl=b}K($h,U);f($h[t],function(){return"update("+this.S[u]()+")"});$h[t].ia=function(a,b){var c=b[0][B].map(function(a){var b=this.S.tc(a.xa.Ja());this.Fl[F](function(a){b.w()[a.J[u]()]=a[v]},this);return b},this);a[Ua](this.S,c);return[re()]};
function ai(a){this.j=a;this.rf=[new Hh(this.j),new Th(this.j),new Sh,new xh(this.j)];this.Ge=[new Hh(this.j)]}ai[t].create=function(a,b){var c=a.pb();if(c instanceof Ag||c instanceof zg)return this.Fe(a,b);if(c instanceof Gg||c instanceof Kg||c instanceof Lg)return this.Fe(a,b,this.rf);if(c instanceof Bg||c instanceof Cg)return this.Fe(a,b,this.Ge);throw new P(8);};ai[t].Fe=function(a,b,c){var d=Sf(a.pb(),J(this.Dk,this));null!=c&&(d=(new Zh(d,b,c)).xc());return new Oe(d,a.ga())};
ai[t].Dk=function(a){if(a instanceof Gg)return new Qh(a.f,a.Xb);if(a instanceof Jg)return new yh(a.f);if(a instanceof Ig)return new pg(a.f);if(a instanceof Hg)return new Nh(a.N);if(a instanceof Lg)return new Rh;if(a instanceof Kg)return new Mh;if(a instanceof Dg)return new Fh(a.Ca.fa());if(a instanceof Fg)return new Qg;if(a instanceof Mg)return new Lh(a.Ca,a.Eg);if(a instanceof Eg)return new wh(this.j,a[h]);if(a instanceof Bg)return new uh(a[h]);if(a instanceof Cg)return new $h(a[h],a.Af);if(a instanceof
Ag)return new Kh(this.j,a[h]);if(a instanceof zg)return new Ih(this.j,a[h]);throw new P(514);};

function bi(a){this.Bk=new th;this.Sk=new ai(a)}bi[t].Sj=function(a){var b=this.Bk[kb](a);return this.Sk[kb](b,a)};
function ci(){this.Pg=N()}H=ci[t];H.Md=function(a){var b=this.Pg.get(a[u]())||null;null===b&&(b=new di,this.Pg.set(a[u](),b));return b};H.dk=function(a,b,c){b[F](function(b){this.Md(b).ck(a,c)},this)};H.gi=function(a,b,c){var d=!0;b[F](function(b){d&&(d=this.Md(b).fi(a,c))},this);return d};H.gh=function(a,b,c){var d=this.gi(a,b,c);d&&this.dk(a,b,c);return d};H.releaseLock=function(a,b){b[F](function(b){this.Md(b).releaseLock(a)},this)};H.Ai=function(a){a[F](function(a){this.Md(a).hb=null},this)};
function di(){this.kc=this.Xa=this.hb=this.Tc=null}di[t].releaseLock=function(a){this.Tc==a&&(this.Tc=null);this.hb==a&&(this.hb=null);null===this.Xa||this.Xa[Xa](a);null===this.kc||this.kc[Xa](a)};di[t].fi=function(a,b){var c=null===this.Xa||0==this.Xa[Gb];return 0==b?(null===this.kc||0==this.kc[Gb])&&c&&null===this.Tc&&null!==this.hb&&this.hb==a:3==b?null===this.Tc&&null===this.hb&&null!==this.Xa&&this.Xa.has(a):1==b?null===this.hb:c&&(null===this.hb||this.hb==a)};
di[t].ck=function(a,b){0==b?(this.hb=null,this.Tc=a):3==b?(null===this.kc&&(this.kc=O()),this.kc.add(a),null===this.Xa&&(this.Xa=O()),this.Xa[Xa](a)):1==b?(null===this.Xa&&(this.Xa=O()),this.Xa.add(a)):2==b&&(this.hb=a)};
function ei(){this.fc=new fi;this.gd=new ci}H=ei[t];H.ic=function(a){(2>a[Cb]()||2>a[Cb]())&&this.gd.Ai(a.ga());this.fc.Db(a);this.Ee();return a.ad().ma};H.Ee=function(){for(var a=this.fc.o(),b=0;b<a[C];b++){var c=a[b],d=!1;if(d=0==c.X()?this.hh(c,1,3):this.hh(c,2,0))this.fc[ib](c),this.dj(c)}};H.hh=function(a,b,c){var d=!1;this.gd.gh(a.fa(),a.ga(),b)&&(d=this.gd.gh(a.fa(),a.ga(),c));return d};H.dj=function(a){a[Pa]()[z](J(this.Ok,this,a),J(this.Nk,this,a))};
H.Ok=function(a,b){this.gd.releaseLock(a.fa(),a.ga());a.ad()[Eb](b);this.Ee()};H.Nk=function(a,b){this.gd.releaseLock(a.fa(),a.ga());a.ad()[La](b);this.Ee()};function fi(){this.fc=[]}fi[t].Db=function(a){uc(this.fc,a,function(a,c){var d=a[Cb]()-c[Cb]();return 0==d?a.fa()-c.fa():d})};fi[t].o=function(){return this.fc[n]()};va(fi[t],function(a){var b=this.fc;a=hc(b,a);var c;(c=0<=a)&&nc(b,a);return c});

function gi(a,b){this.Vi=ze.Me();this.mf=a;this.$d=b;this.G=this.Oi()}gi[t].Oi=function(){if(0<this.mf.f[C])return this.mf.f;var a=[];this.mf.c[F](function(b){b.nb()[F](function(b){a[x](b)})});return a};gi[t].U=function(a,b){return this.G[Ta](function(c){return this.Vi.Ke(c.X(),"eq")(a.V(c),b.V(c))},this)};
gi[t].Qh=function(a,b){for(var c=null===a?[]:a[B],d=od(c,b[B],J(this.U,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[C];l++){var p=c[l];d[k]==p?k++:(p=this.$d[A](k,1),p=hi(l,p,0,this.$d),g[x](p))}d=od(c,b[B],J(this.U,this),function(a,c){return b[B][c]});for(l=k=0;l<b[B][C];l++)p=b[B][l],d[k]==p?k++:(this.$d[A](l,0,p.xa.w()),p=hi(l,[],1,this.$d),g[x](p));return g};function hi(a,b,c,d){return{Gl:c,index:a,object:d,Il:b,type:"splice"}};
function ii(){this.vc=N()}H=ii[t];H.Pe=function(a){return Ub(a)[D]()};H.qe=function(a,b){var c=this.Pe(a.Pd()),d=this.vc.get(c)||null;null===d&&(d=new ji(a),this.vc.set(c,d));d.qe(b)};H.of=function(a,b){var c=this.Pe(a.Pd()),d=this.vc.get(c)||null;L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.of(b);L(g,"removeObserver: Inconsistent state detected.");d.kk()||this.vc[Xa](c)};
H.Re=function(a){var b=O();a[F](function(a){b.add(a[u]())});var c=[];this.vc[F](function(a){a=a.cd();a[nb].c[$a](function(a){return b.has(a[u]())})&&c[x](a)});return c};H.Bh=function(a,b){var c=this.Pe(null!=a.Mc?a.Mc:a),c=this.vc.get(c)||null;return null!==c?(c.El(b),!0):!1};function ji(a){this.ai=a;this.ld=O();this.Lk=[];this.Mg=null;this.Ri=new gi(a.Pd(),this.Lk)}H=ji[t];H.qe=function(a){this.ld.has(a)?dc("Attempted to register observer twice."):this.ld.add(a)};H.of=function(a){return this.ld[Xa](a)};
H.cd=function(){return this.ai.Oj()};H.kk=function(){return 0<this.ld[Gb]};H.El=function(a){var b=this.Ri.Qh(this.Mg,a);this.Mg=a;0<b[C]&&this.ld[F](function(a){a(b)})};
function ki(a,b){var c=a.m(Ld),d=b||{},g=new nf;a.tb(Gd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new ef(c);break;case 5:g=new ff(c);break;case 4:g=new mf(a,c,d.webSqlDbSize);break;case 3:g=new Ze(c,d.firebase);k=!0;break;default:g=new cf(a,c)}a.tb(Fd,g);var l=new Pf;a.tb(Hd,l);return g.Ga(d.onUpgrade)[z](function(){var b=new bi(a);a.tb(Id,b);b=new ei;a.tb(Jd,b);b=new ii;a.tb(Kd,b);return l.Ga(c)})[z](function(){k&&(new Te(a)).sl();return(new Of(a)).Ga(c)})};

function li(a,b){this.j=a;this.Ib=a.m(Fd);this.Za=a.m(Jd);this.Lb=a.m(Kd);this.ta=O(b);this.Wa=new je(this.j,this.ta);this.gc=$c();this.Uc=$c();this.Cf=$c()}H=li[t];ma(H,function(){this.Cf[Eb]();return this.Uc.ma});H.X=Jb(1);H.ga=G("ta");H.ad=G("gc");H.fa=function(){return Ub(this)};Ea(H,Jb(2));H.Gh=function(){this.Za.ic(this);return this.Cf.ma};
H.Yh=function(a){a=a.cd();return a.jf.pb()[Pa](this.Wa,a[nb])[z](function(a){return a[0].Ne()},J(function(a){this.Wa.Nb();var c=new Rc(a[q]);this.Uc[La](c);throw a;},this))};H.pa=function(){this.Ib.Ub(this.X(),this.Wa).pa()[z](J(function(){this.nd();this.Uc[Eb]()},this),J(function(a){this.Wa.Nb();this.Uc[La](a)},this));return this.gc.ma};H.Nb=function(){this.Wa.Nb();this.Uc[Eb]();return this.gc.ma};H.nd=function(){var a=this.Lb.Re(this.ta);0!=a[C]&&(a=new Re(this.j,a),this.Za.ic(a))};
function mi(a){this.j=a;this.Za=a.m(Jd);this.sd=null;this.Ka=0;0==ni[Gb]&&this.pk()}I("lf.proc.Transaction",mi,void 0);var ni=N();mi[t].pk=function(){ni.set(0,O([1,4]));ni.set(1,O([2]));ni.set(2,O([3,5,6]));ni.set(3,O([2,7]));ni.set(4,O([7]));ni.set(5,O([7]));ni.set(6,O([7]))};mi[t].Ra=function(a){var b=ni.get(this.Ka)||null;if(null===b||!b.has(a))throw new P(107,this.Ka,a);this.Ka=a};
ma(mi[t],function(a){this.Ra(4);var b=[];try{a[F](function(a){a.lb();b[x](a.cd())},this)}catch(c){return this.Ra(7),Wc(c)}a=new Rg(this.j,b);return this.Za.ic(a)[z](J(function(a){this.Ra(7);return a.map(function(a){return a.Ne()})},this),J(function(a){this.Ra(7);throw a;},this))});ma(mi[t],mi[t][Pa]);mi[t].Zh=function(a){this.Ra(1);this.sd=new li(this.j,a);return this.sd.Gh()[z](J(function(){this.Ra(2)},this))};mi[t].begin=mi[t].Zh;
mi[t].Xh=function(a){this.Ra(3);return this.sd.Yh(a)[z](J(function(a){this.Ra(2);return a},this),J(function(a){this.Ra(7);throw a;},this))};mi[t].attach=mi[t].Xh;mi[t].pa=function(){this.Ra(5);return this.sd.pa()[z](J(function(){this.Ra(7)},this))};mi[t].commit=mi[t].pa;mi[t].Nb=function(){this.Ra(6);return this.sd.Nb()[z](J(function(){this.Ra(7)},this))};mi[t].rollback=mi[t].Nb;
function X(a){this.j=a;this.s=a.m(Ld);this.Te=!1}I("lf.proc.Database",X,void 0);X[t].Ga=function(a){this.j.tb(Ld,this.s);return ki(this.j,a)[z](J(function(){this.Te=!0;return this},this))};X[t].init=X[t].Ga;X[t].Bb=G("s");X[t].getSchema=X[t].Bb;X[t].rc=function(){if(!this.Te)throw new P(2);};X[t].select=function(a){this.rc();return new W(this.j,1!=arguments[C]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].Db=function(){this.rc();return new gh(this.j)};X[t].insert=X[t].Db;
X[t].Ue=function(){this.rc();return new gh(this.j,!0)};X[t].insertOrReplace=X[t].Ue;qa(X[t],function(a){this.rc();return new kh(this.j,a)});qa(X[t],X[t][Ua]);ra(X[t],function(){this.rc();return new fh(this.j)});X[t]["delete"]=X[t][Xa];X[t].observe=function(a,b){this.j.m(Kd).qe(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.j.m(Kd).of(a,b)};X[t].unobserve=X[t].unobserve;X[t].Mi=function(){this.rc();return new mi(this.j)};X[t].createTransaction=X[t].Mi;
oa(X[t],function(){try{this.j.m(Fd)[Qa]()}catch(a){}this.j[w]();this.Te=!1});oa(X[t],X[t][Qa]);
function Y(a,b,c,d,g,k){this.S=a;this.A=b;this.Ig=c;this.Cg=d;this.Ah=g;this.kb=k||null}I("lf.schema.BaseColumn",Y,void 0);H=Y[t];na(H,G("A"));H.l=function(){return this.S.qa()+"."+this.A};f(H,function(){return this.l()});H.M=G("S");H.X=G("Ah");Y[t].getType=Y[t].X;Y[t].cb=G("kb");Y[t].Fa=function(){null==this.ka&&(this.ka=[],this.M().Fa()[F](function(a){-1!=a.f.map(function(a){return a.ha[u]()})[Za](this.A)&&this.ka[x](a)},this));return this.ka};Y[t].Zb=G("Cg");Y[t].isNullable=Y[t].Zb;Y[t].fd=G("Ig");
Y[t].Va=function(a){return jg(this,a,"eq")};Y[t].eq=Y[t].Va;Y[t].Qg=function(a){return jg(this,a,"neq")};Y[t].neq=Y[t].Qg;Y[t].af=function(a){return jg(this,a,"lt")};Y[t].lt=Y[t].af;Y[t].Ck=function(a){return jg(this,a,"lte")};Y[t].lte=Y[t].Ck;Y[t].ek=function(a){return jg(this,a,"gt")};Y[t].gt=Y[t].ek;Y[t].fk=function(a){return jg(this,a,"gte")};Y[t].gte=Y[t].fk;Y[t].match=function(a){return jg(this,a,"match")};Y[t].match=Y[t].match;Y[t].$h=function(a,b){return jg(this,[a,b],"between")};
Y[t].between=Y[t].$h;Y[t].lk=function(a){return jg(this,a,"in")};Y[t]["in"]=Y[t].lk;Y[t].wk=function(){return this.Va(null)};Y[t].isNull=Y[t].wk;Y[t].vk=function(){return this.Qg(null)};Y[t].isNotNull=Y[t].vk;Y[t].Ic=function(a){return new Y(this.S,this.A,this.Ig,this.Cg,this.Ah,a)};Y[t].as=Y[t].Ic;
function oi(){this.ke=N()}var pi;ta(oi[t],function(){this.ke[w]()});ta(oi[t],oi[t][w]);oi[t].tb=function(a,b){this.ke.set(a[D](),b);return b};oi[t].registerService=oi[t].tb;oi[t].m=function(a){var b=this.ke.get(a[D]())||null;if(null===b)throw new P(7,a[D]());return b};oi[t].getService=oi[t].m;oi[t].Ze=function(a){return this.ke.has(a[D]())};oi[t].isRegistered=oi[t].Ze;
function qi(a){this.s=a;this.nf=N();this.Xg=N();this.Vf=N();this.h=N();this.Be=N();this.rk()}H=qi[t];H.rk=function(){this.s.ab()[F](function(a){var b=O();a.Kb().Le()[F](function(c){var d=this.nf.get(c.fb)||[];d[x](c);this.nf.set(c.fb,d);b.add(this.s[h](c.fb));(d=this.h.get(c.fb))||(d=O());d.add(a);this.h.set(c.fb,d);this.Vf.set(a[u]()+"."+c.Sb,c.fb);c=c.fb+"."+c.Cc;d=this.Be.get(c)||[];d[x](a[u]());this.Be.set(c,d)},this);0!=b[Gb]&&this.Xg.set(a[u](),b)},this)};
H.Vj=function(a){return this.nf.get(a)||null};H.dg=function(a,b){var c=b.get(a);return c?Sd(c):[]};H.Qj=function(a){return this.dg(a,this.Xg)};H.Rj=function(a){var b=O();a[F](function(a){(a=this.Vf.get(a))&&b.add(a)},this);return Sd(b).map(function(a){return this.s[h](a)},this)};H.gg=function(a){return this.dg(a,this.h)};H.Gj=function(a){var b=O();a[F](function(a){(a=this.Be.get(a))&&a[F](function(a){b.add(a)})},this);return Sd(b).map(function(a){return this.s[h](a)},this)};
function ri(a,b,c){this.Vk=a;this.Jk=b;this.qj=c}I("lf.schema.Constraint",ri,void 0);ri[t].Rd=G("Vk");ri[t].getPrimaryKey=ri[t].Rd;ri[t].Nj=G("Jk");ri[t].Le=G("qj");ri[t].getForeignKeys=ri[t].Le;
function si(a,b){var c=a.ref[Ja](".");if(2!=c[C])throw new P(540,b);this.Sb=a.local;this.fb=c[0];this.Cc=c[1];ja(this,b);this.action=a.action;this.timing=a[Ma]};
function Z(a){this.sc(a);this.A=a;this.G=N();this.yf=O();this.td=O();this.kd=O();this.Ba=null;this.ka=N();this.ce=!1;this.Jd=[]}I("lf.schema.TableBuilder",Z,void 0);function ti(a){ja(this,a[q]);this.sb=a.order;this.autoIncrement=a[ob]}var ui=O([0,6]);H=Z[t];H.sc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);};H.Kc=function(a){if(a==this.A)throw new P(546,a);if(this.G.has(a)||this.ka.has(a)||this.td.has(a))throw new P(503,this.A+"."+a);};
H.ui=function(a){var b=!1;a[F](function(a){var d=this.G.get(a[q]);b=b||a[ob];if(a[ob]&&3!=d)throw new P(504);},this);if(b&&1<a[C])throw new P(505);};H.si=function(){if(null!==this.Ba){var a=this.ka.get(this.Ba).map(function(a){return a[q]}),b=0;if(this.Jd[$a](function(c,d){b=d;return-1!=a[Za](c.Sb)},this))throw new P(543,this.Jd[b][q]);}};
H.ri=function(){if(null!==this.Ba){var a=function(a){return a[q]},b=ga[xb](this.ka.get(this.Ba).map(a));this.ka[F](function(c,d){if(d!=this.Ba){var g=c.map(a);if(ga[xb](g)==b)throw new P(544,this.A+"."+d);}},this)}};H.ti=function(){null===this.Ba||this.ka.get(this.Ba)[F](function(a){if(this.kd.has(a[q]))throw new P(545,this.A+"."+a[q]);},this)};H.Ih=function(a,b){this.sc(a);this.Kc(a);this.G.set(a,b);ui.has(b)&&this.Gf([a]);return this};Z[t].addColumn=Z[t].Ih;
Z[t].Kh=function(a,b){var c=this.A;this.Ba="pk"+(c[0].toUpperCase()+c.substring(1));this.sc(this.Ba);this.Kc(this.Ba);c=this.Zd(a,!0,void 0,b);this.ui(c);1==c[C]&&this.yf.add(c[0][q]);this.td.add(this.Ba);this.ka.set(this.Ba,c);return this};Z[t].addPrimaryKey=Z[t].Kh;
Z[t].Jh=function(a,b){this.sc(a);this.Kc(a);var c=new si(b,this.A+"."+a);Lb(c.action)||(c.action=0);Lb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new P(506);if(!this.G.has(c.Sb))throw new P(540,a);this.Jd[x](c);this.Ff(a,[c.Sb],!1);return this};Z[t].addForeignKey=Z[t].Jh;Z[t].Lh=function(a,b){this.sc(a);this.Kc(a);var c=this.Zd(b,!0);this.Rf(a,c);1==c[C]&&this.yf.add(c[0][q]);this.ka.set(a,c);this.td.add(a);return this};Z[t].addUnique=Z[t].Lh;
Z[t].Gf=function(a){a=this.Zd(a,!1);this.pi(a);a[F](function(a){this.kd.add(a[q])},this);return this};Z[t].addNullable=Z[t].Gf;Z[t].pi=function(a){Cd(this.ka)[F](function(b){var c=O();this.ka.get(b)[F](function(a){c.add(a[q])});var d=a[Ga](function(a){return c.has(a[q])});if(1<c[Gb]&&0<d[C])throw new P(507,b,d[m](","));},this)};Z[t].Ff=function(a,b,c,d){this.sc(a);this.Kc(a);b=this.Zd(b,!0,d);this.Rf(a,b);c&&this.td.add(a);this.ka.set(a,b);return this};Z[t].addIndex=Z[t].Ff;
Z[t].Rf=function(a,b){if(1<b[C]){var c=b[Ga](function(a){return this.kd.has(a[q])},this);if(0<c[C])throw new P(507,a,c[m](","));}};Z[t].Mb=Ib("ce");Z[t].persistentIndex=Z[t].Mb;Z[t].Bb=function(){this.si();this.ri();this.ti();return new (this.Ej())};Z[t].getSchema=Z[t].Bb;Z[t].Zc=G("Jd");
Z[t].Zd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new ti({name:a,order:null!=c?c:1,autoIncrement:d||!1})}):a.map(function(a){return new ti(a)});g[F](function(a){if(!this.G.has(a[q]))throw new P(508,this.A,a[q]);if(b){var c=this.G.get(a[q]);if(0==c||6==c)throw new P(509,this.A,a[q]);}},this);return g};
Z[t].Ej=function(){function a(){function a(c){return b.ka.get(c).map(function(a){return{ha:this[a[q]],sb:a.sb,autoIncrement:a[ob]}},this)}var d=Cd(b.G).map(function(a){this[a]=new Y(this,a,b.yf.has(a),b.kd.has(a),b.G.get(a));return this[a]},this),g=Cd(b.ka).map(function(d){return new lg(b.A,d,b.td.has(d),a[r](this,d))},this);S[r](this,b.A,d,g,b.ce);var k=null===b.Ba?null:new lg(b.A,b.Ba,!0,a[r](this,b.Ba)),l=d[Ga](function(a){return!b.kd.has(a[u]())});this.Ei=new ri(k,l,b.Zc());this.kh=b.Aj(d,g)}
var b=this;K(a,S);a[t].Jb=function(a){return new this.kh(gd++,a)};a[t].createRow=a[t].Jb;a[t].tc=function(a){var b={};this.nb()[F](function(g){var k=g[u]();g=g.X();var l=a[v][k];if(0==g)if(g=l,null!=g&&""!=g){0!=g[C]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[C]/2),p=new Uint8Array(l),y=0,Da=0;y<g[C];y+=2)p[Da++]=da(g.substr(y,2),16);g=l}else g=null;else g=2==g?null!=l?new Date(l):null:l;b[k]=g},this);return new this.kh(a.id,b)};a[t].deserializeRow=a[t].tc;a[t].Kb=G("Ei");a[t].getConstraint=a[t].Kb;
return a};
Z[t].Aj=function(a,b){function c(c,d){this.G=a;this.ka=b;fd[r](this,c,d)}K(c,fd);c[t].$f=function(){var a={};this.G[F](function(b){a[b[u]()]=b.Zb()?null:fe[b.X()]});return a};c[t].xh=function(){var a={};this.G[F](function(b){var c=b[u]();b=b.X();var d=this.w()[c];a[c]=0==b?null!=d?jd(d):null:2==b?null!=d?d[Db]():null:6==b?null!=d?d:null:d},this);return a};var d=J(function(a){var b=this.G.get(a[u]());return 2==b?function(b){b=b[a[u]()];return a.Zb()&&null===b?null:b[Db]()}:1==b?function(b){return a.Zb()?(b=
b[a[u]()],null===b?null:b?1:0):b[a[u]()]?1:0}:function(b){return b[a[u]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ha)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[F](function(a){var b=a.l();a=1==a.f[C]?d(a.f[0].ha):g(a.f);k[b]=a});c[t].$b=function(a){return-1!=a[Za]("#")?this.id():k[rb](a)?k[a](this.w()):null};return c};
function vi(a,b){this.s=new wi(a,b);this.wb=N();this.Vc=!1}I("lf.schema.Builder",vi,void 0);H=vi[t];H.ni=function(a){a.Zc()[F](function(b){var c=b.fb;if(!this.wb.has(c))throw new P(536,b[q]);var c=this.wb.get(c).Bb(),d=b.Cc;if(!c[rb](d))throw new P(537,b[q]);if(a.Bb()[b.Sb].X()!=c[d].X())throw new P(538,b[q]);if(!c[d].fd())throw new P(539,b[q]);},this)};H.mi=function(a){a.Zc()[F](function(a){this.wb.get(a.fb).Zc()[F](function(c){if(c.Sb==a.Cc)throw new P(534,a[q]);},this)},this)};
H.kj=function(){this.Vc||(this.wb[F](function(a){this.ni(a);this.s.ml(a.Bb())},this),Dd(this.wb)[F](this.mi,this),this.li(),this.wb[w](),this.Vc=!0)};H.Pf=function(a,b){a.Bf||(a.Bf=!0,a.ef=!0,a.cg[F](function(c){c=b.get(c);if(!c.Bf)this.Pf(c,b);else if(c.ef&&a!=c)throw new P(533);},this));a.ef=!1};H.li=function(){var a=N();this.s.I[F](function(b,c){a.set(c,new xi(c))},this);this.wb[F](function(b,c){b.Zc()[F](function(b){a.get(b.fb).cg.add(c)})});Dd(a)[F](function(b){this.Pf(b,a)},this)};
function xi(a){this.ef=this.Bf=!1;this.cg=O();this.qd=a}H.Bb=function(){this.Vc||this.kj();return this.s};vi[t].getSchema=vi[t].Bb;vi[t].kg=function(){var a=new Ed("ns_"+this.s[q]()),b;pi||(pi=new oi);b=pi;var c=null;b.Ze(a)?c=b.m(a):(c=new oi,b.tb(a,c));return c};vi[t].getGlobal=vi[t].kg;vi[t].connect=function(a){var b=this.kg();b.Ze(Ld)||b.tb(Ld,this.Bb());return(new X(b)).Ga(a)};vi[t].connect=vi[t].connect;
vi[t].Ki=function(a){if(this.wb.has(a))throw new P(503,a);if(this.Vc)throw new P(535);this.wb.set(a,new Z(a));return this.wb.get(a)};vi[t].createTable=vi[t].Ki;vi[t].uf=function(a){if(this.Vc)throw new P(535);this.s.uf(a);return this};vi[t].setPragma=vi[t].uf;function wi(a,b){this.A=a;this.Ta=b;this.I=N();this.ah={Si:!1}}I("lf.schema.DatabaseSchema",wi,void 0);ja(wi[t],G("A"));ja(wi[t],wi[t][q]);wi[t].version=G("Ta");wi[t].version=wi[t][tb];wi[t].ab=function(){return Dd(this.I)};wi[t].tables=wi[t].ab;
ia(wi[t],function(a){if(!this.I.has(a))throw new P(101,a);return this.I.get(a)});ia(wi[t],wi[t][h]);wi[t].info=function(){this.wg||(this.wg=new qi(this));return this.wg};wi[t].ml=function(a){this.I.set(a[u](),a)};wi[t].$g=G("ah");wi[t].pragma=wi[t].$g;wi[t].uf=Ib("ah");I("lf.schema.create",function(a,b){return new vi(a,b)},void 0);}.bind(window))()
