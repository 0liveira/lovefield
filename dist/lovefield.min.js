/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=window,ba=Object,ca=Function,da=document,ea=Math,e=Array,fa=Error,ga=parseInt,ha=String;function ia(a,b){return a.exec=b}function ja(a,b){return a.getName=b}function ka(a,b){return a.remove=b}function la(a,b){return a.forEach=b}function ma(a,b){return a.values=b}function na(a,b){return a.clear=b}function oa(a,b){return a.bind=b}function f(a,b){return a.toString=b}function pa(a,b){return a.table=b}function qa(a,b){return a.dump=b}function ra(a,b){return a.next=b}
function sa(a,b){return a.close=b}function ta(a,b){return a.clone=b}function ua(a,b){return a.child=b}function va(a,b){return a.onerror=b}function xa(a,b){return a.value=b}function ya(a,b){return a.getPriority=b}function za(a,b){return a.delete=b}function Aa(a,b){return a.subscribe=b}function Ba(a,b){return a.name=b}function Ca(a,b){return a.length=b}function Da(a,b){return a.onsuccess=b}function Ea(a,b){return a.update=b}
var Fa="context",Ga="filter",Ha="version",Ia="getParent",Ja="shift",Ka="exec",La="replace",Ma="concat",Na="objectStoreNames",h="getName",m="remove",Oa="orderByChild",Pa="autoIncrement",n="forEach",Qa="values",Ra="clear",q="bind",Sa="getTime",Ta="continue",r="toString",Ua="global",Va="propertyIsEnumerable",Wa="create",t="table",Xa="compare",Ya="result",Za="size",$a="index",ab="next",bb="split",cb="hasOwnProperty",db="close",eb="once",fb="setImmediate",gb="transaction",hb="child",ib="rows",jb="contains",
kb="apply",u="push",lb="reject",mb="reduce",nb="addAll",v="slice",w="value",ob="item",pb="objectStore",qb="indexOf",rb="getPriority",sb="delete",x="name",z="length",A="prototype",tb="timing",B="then",C="entries",ub="removeChild",vb="openCursor",wb="target",D="call",xb="resolve",yb="some",zb="sort",Ab="every",Bb="update",E="splice",F="join",Cb="unshift";function Db(){return function(){}}function Eb(a){return function(b){this[a]=b}}function G(a){return function(){return this[a]}}
function Fb(a){return function(){return a}}var H,Gb=this;function Hb(a){return void 0!==a}function I(a,b,c){a=a[bb](".");c=c||Gb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[z]&&(d=a[Ja]());)!a[z]&&Hb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Ib(){}function Jb(a){a.ze=function(){return a.fg?a.fg:a.fg=new a}}
function Kb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof ba)return b;var c=ba[A][r][D](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[z]&&"undefined"!=typeof a[E]&&"undefined"!=typeof a[Va]&&!a[Va]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[D]&&"undefined"!=typeof a[Va]&&!a[Va]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[D])return"object";return b}
function Lb(a){return null===a}function Mb(a){return null!=a}function Nb(a){var b=Kb(a);return"array"==b||"object"==b&&"number"==typeof a[z]}function Ob(a){return"string"==typeof a}function Pb(a){return"function"==Kb(a)}function Qb(a){return a[Rb]||(a[Rb]=++Tb)}var Rb="closure_uid_"+(1E9*ea.random()>>>0),Tb=0;function Ub(a,b,c){return a[D][kb](a[q],arguments)}
function Vb(a,b,c){if(!a)throw fa();if(2<arguments[z]){var d=e[A][v][D](arguments,2);return function(){var c=e[A][v][D](arguments);e[A][Cb][kb](c,d);return a[kb](b,c)}}return function(){return a[kb](b,arguments)}}function J(a,b,c){J=ca[A][q]&&-1!=ca[A][q][r]()[qb]("native code")?Ub:Vb;return J[kb](null,arguments)}function Wb(a,b){var c=e[A][v][D](arguments,1);return function(){var b=c[v]();b[u][kb](b,arguments);return a[kb](this,b)}}
function K(a,b){function c(){}c.prototype=b[A];a.hb=b[A];a.prototype=new c;a[A].constructor=a;a.fl=function(a,c,k){for(var l=e(arguments[z]-2),p=2;p<arguments[z];p++)l[p-2]=arguments[p];return b[A][c][kb](a,l)}}oa(ca[A],ca[A][q]||function(a,b){if(1<arguments[z]){var c=e[A][v][D](arguments,1);c[Cb](this,a);return J[kb](null,c)}return J(this,a)});function Xb(a){if(fa.captureStackTrace)fa.captureStackTrace(this,Xb);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(Xb,fa);Ba(Xb[A],"CustomError");function Yb(a,b){for(var c=a[bb]("%s"),d="",g=e[A][v][D](arguments,1);g[z]&&1<c[z];)d+=c[Ja]()+g[Ja]();return d+c[F]("%s")};function Zb(a,b){b[Cb](a);Xb[D](this,Yb[kb](null,b));b[Ja]()}K(Zb,Xb);Ba(Zb[A],"AssertionError");function $b(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new Zb(""+g,k||[]);}function L(a,b,c){a||$b("",null,b,e[A][v][D](arguments,2));return a}function ac(a,b){throw new Zb("Failure"+(a?": "+a:""),e[A][v][D](arguments,1));}function bc(a,b,c){Pb(a)||$b("Expected function but got %s: %s.",[Kb(a),a],b,e[A][v][D](arguments,2));return a};function cc(a,b,c){this.Vj=c;this.ki=a;this.Ek=b;this.Od=0;this.Hd=null}cc[A].get=function(){var a;0<this.Od?(this.Od--,a=this.Hd,this.Hd=a[ab],ra(a,null)):a=this.ki();return a};cc[A].put=function(a){this.Ek(a);this.Od<this.Vj&&(this.Od++,ra(a,this.Hd),this.Hd=a)};var dc=e[A],ec=dc[qb]?function(a,b,c){L(null!=a[z]);return dc[qb][D](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ea.max(0,a[z]+c):c;if(Ob(a))return Ob(b)&&1==b[z]?a[qb](b,c):-1;for(;c<a[z];c++)if(c in a&&a[c]===b)return c;return-1},fc=dc[n]?function(a,b,c){L(null!=a[z]);dc[n][D](a,b,c)}:function(a,b,c){for(var d=a[z],g=Ob(a)?a[bb](""):a,k=0;k<d;k++)k in g&&b[D](c,g[k],k,a)},gc=dc.map?function(a,b,c){L(null!=a[z]);return dc.map[D](a,b,c)}:function(a,b,c){for(var d=a[z],g=e(d),k=Ob(a)?a[bb](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[D](c,k[l],l,a));return g},hc=dc[mb]?function(a,b,c,d){L(null!=a[z]);d&&(b=J(b,d));return dc[mb][D](a,b,c)}:function(a,b,c,d){var g=c;fc(a,function(c,l){g=b[D](d,g,c,l,a)});return g},ic=dc[yb]?function(a,b,c){L(null!=a[z]);return dc[yb][D](a,b,c)}:function(a,b,c){for(var d=a[z],g=Ob(a)?a[bb](""):a,k=0;k<d;k++)if(k in g&&b[D](c,g[k],k,a))return!0;return!1},jc=dc[Ab]?function(a,b,c){L(null!=a[z]);return dc[Ab][D](a,b,c)}:function(a,b,c){for(var d=a[z],g=Ob(a)?a[bb](""):a,k=0;k<
d;k++)if(k in g&&!b[D](c,g[k],k,a))return!1;return!0};function kc(a,b){L(null!=a[z]);return 1==dc[E][D](a,b,1)[z]}function lc(a,b,c){a:{for(var d=a[z],g=Ob(a)?a[bb](""):a,k=0;k<d;k++)if(k in g&&b[D](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(kc(a,b),!0):!1}function mc(a){var b=a[z];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function nc(a,b){for(var c=1;c<arguments[z];c++){var d=arguments[c];if(Nb(d)){var g=a[z]||0,k=d[z]||0;Ca(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[u](d)}}function oc(a,b,c,d){L(null!=a[z]);return dc[E][kb](a,pc(arguments,1))}function pc(a,b,c){L(null!=a[z]);return 2>=arguments[z]?dc[v][D](a,b):dc[v][D](a,b,c)}function qc(a,b,c,d,g){for(var k=0,l=a[z],p;k<l;){var y=k+l>>1,wa;wa=c?b[D](g,a[y],y,a):b(d,a[y]);0<wa?k=y+1:(l=y,p=!wa)}return p?k:~k}function rc(a,b){return a>b?1:a<b?-1:0}
function sc(a,b,c){c=qc(a,c||rc,!1,b);return 0>c?(oc(a,-(c+1),0,b),!0):!1}function tc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function uc(a){for(var b=[],c=0;c<arguments[z];c++){var d=arguments[c];if("array"==Kb(d))for(var g=0;g<d[z];g+=8192)for(var k=pc(d,g,g+8192),k=uc[kb](null,k),l=0;l<k[z];l++)b[u](k[l]);else b[u](d)}return b};function vc(a,b,c){for(var d in a)b[D](c,a[d],d,a)}function wc(a,b,c){for(var d in a)if(b[D](c,a[d],d,a))return!0;return!1}function xc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function yc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var zc;a:{var Ac=Gb.navigator;if(Ac){var Bc=Ac.userAgent;if(Bc){zc=Bc;break a}}zc=""};function Cc(a){Gb.setTimeout(function(){throw a;},0)}var Dc;
function Ec(){var a=Gb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof aa&&aa.postMessage&&aa.addEventListener&&-1==zc[qb]("Presto")&&(a=function(){var a=da.createElement("IFRAME");a.style.display="none";a.src="";da.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[db]();var c="callImmediate"+ea.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==zc[qb]("Trident")&&-1==zc[qb]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Hb(c[ab])){c=c[ab];var a=c.Af;c.Af=null;a()}};return function(a){ra(d,{Af:a});d=d[ab];b.port2.postMessage(0)}}return"undefined"!==typeof da&&"onreadystatechange"in da.createElement("SCRIPT")?function(a){var b=da.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ub](b);b=null;a();a=null};da.documentElement.appendChild(b)}:function(a){Gb.setTimeout(a,0)}};function Fc(){this.ce=this.gc=null}var Hc=new cc(function(){return new Gc},function(a){a.reset()},100);Fc[A].add=function(a,b){var c=this.yj();c.set(a,b);this.ce?ra(this.ce,c):(L(!this.gc),this.gc=c);this.ce=c};ka(Fc[A],function(){var a=null;this.gc&&(a=this.gc,this.gc=this.gc[ab],this.gc||(this.ce=null),ra(a,null));return a});Fc[A].Fk=function(a){Hc.put(a)};Fc[A].yj=function(){return Hc.get()};function Gc(){this.scope=this.ue=null;ra(this,null)}
Gc[A].set=function(a,b){this.ue=a;this.scope=b;ra(this,null)};Gc[A].reset=function(){this.scope=this.ue=null;ra(this,null)};function Ic(a,b){Jc||Kc();Lc||(Jc(),Lc=!0);Mc.add(a,b)}var Jc;function Kc(){if(Gb.Promise&&Gb.Promise[xb]){var a=Gb.Promise[xb]();Jc=function(){a[B](Nc)}}else Jc=function(){var a=Nc;if(!Pb(Gb[fb])||Gb.Window&&Gb.Window[A]&&Gb.Window[A][fb]==Gb[fb])Dc||(Dc=Ec()),Dc(a);else Gb[fb](a)}}var Lc=!1,Mc=new Fc;[][u](function(){Lc=!1;Mc=new Fc});function Nc(){for(var a=null;a=Mc[m]();){try{a.ue[D](a.scope)}catch(b){Cc(b)}Mc.Fk(a)}Lc=!1};function M(a,b){this.Ja=0;this.Lg=void 0;this.nd=this.lc=this.C=null;this.Gd=this.se=!1;if(a!=Ib)try{var c=this;a[D](b,function(a){c.yc(2,a)},function(a){if(!(a instanceof Oc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.yc(3,a)})}catch(d){this.yc(3,d)}}function Pc(){ua(this,null);this.context=this.wc=this.Vb=null;ra(this,null);this.fe=!1}Pc[A].reset=function(){ua(this,null);this.context=this.wc=this.Vb=null;this.fe=!1};
var Qc=new cc(function(){return new Pc},function(a){a.reset()},100);function Rc(a,b,c){var d=Qc.get();d.Vb=a;d.wc=b;d.context=c;return d}function Sc(a){if(a instanceof M)return a;var b=new M(Ib);b.yc(2,a);return b}function Tc(a){return new M(function(b,c){c(a)})}function Uc(a,b,c){Vc(a,b,c,null)||Ic(Wb(b,a))}function Wc(a){return new M(function(b,c){var d=a[z],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;y=a[p];p++)Uc(y,Wb(k,p),l);else b(g)})}
function Xc(){var a,b,c=new M(function(c,g){a=c;b=g});return new Yc(c,a,b)}M[A].then=function(a,b,c){null!=a&&bc(a,"opt_onFulfilled should be a function.");null!=b&&bc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.pf(Pb(a)?a:null,Pb(b)?b:null,c)};M[A].then=M[A][B];M[A].$goog_Thenable=!0;H=M[A];
H.Vk=function(a,b,c){null!=a&&bc(a,"opt_onFulfilled should be a function.");null!=b&&bc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.of(Rc(a||Ib,b||null,c))};H.Xg=function(a,b){return this.pf(null,a,b)};H.of=function(a){this.Ij()||2!=this.Ja&&3!=this.Ja||this.Og();this.vk(a)};
H.pf=function(a,b,c){var d=Rc(null,null,null);ua(d,new M(function(g,k){d.Vb=a?function(b){try{var d=a[D](c,b);g(d)}catch(y){k(y)}}:g;d.wc=b?function(a){try{var d=b[D](c,a);!Hb(d)&&a instanceof Oc?k(a):g(d)}catch(y){k(y)}}:k}));d[hb].C=this;this.of(d);return d[hb]};H.Yk=function(a){L(1==this.Ja);this.Ja=0;this.yc(2,a)};H.Zk=function(a){L(1==this.Ja);this.Ja=0;this.yc(3,a)};
H.yc=function(a,b){0==this.Ja&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ja=1,Vc(b,this.Yk,this.Zk,this)||(this.Lg=b,this.Ja=a,this.C=null,this.Og(),3!=a||b instanceof Oc||Zc(this,b)))};
function Vc(a,b,c,d){if(a instanceof M)return a.Vk(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[B](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[B];if(Pb(l))return $c(a,l,b,c,d),!0}catch(p){return c[D](d,p),!0}return!1}function $c(a,b,c,d,g){function k(a){p||(p=!0,d[D](g,a))}function l(a){p||(p=!0,c[D](g,a))}var p=!1;try{b[D](a,l,k)}catch(y){k(y)}}H.Og=function(){this.se||(this.se=!0,Ic(this.Gi,this))};H.Ij=function(){return!!this.lc};
H.vk=function(a){L(null!=a.Vb);this.nd?ra(this.nd,a):this.lc=a;this.nd=a};H.nk=function(){var a=null;this.lc&&(a=this.lc,this.lc=a[ab],ra(a,null));this.lc||(this.nd=null);null!=a&&L(null!=a.Vb);return a};H.Gi=function(){for(var a=null;a=this.nk();)this.Fi(a,this.Ja,this.Lg);this.se=!1};H.Fi=function(a,b,c){3==b&&a.wc&&!a.fe&&this.Ck();if(a[hb])a[hb].C=null,ad(a,b,c);else try{a.fe?a.Vb[D](a[Fa]):ad(a,b,c)}catch(d){bd[D](null,d)}Qc.put(a)};
function ad(a,b,c){2==b?a.Vb[D](a[Fa],c):a.wc&&a.wc[D](a[Fa],c)}H.nh=Db();H.Ck=function(){var a;for(a=this;a&&a.Gd;a=a.C)a.Gd=!1};function Zc(a,b){a.Gd=!0;Ic(function(){a.Gd&&(a.nh(b),bd[D](null,b))})}var bd=Cc;function Oc(a){Xb[D](this,a)}K(Oc,Xb);Ba(Oc[A],"cancel");function Yc(a,b,c){this.ga=a;this.resolve=b;this.reject=c};
function cd(a,b){this.ya=a;this.Yb=b||this.Jf()}var dd=0;H=cd[A];H.id=G("ya");H.vh=Eb("ya");H.u=G("Yb");H.Jf=function(){return{}};H.Yg=G("Yb");H.Ia=function(){return{id:this.ya,value:this.Yg()}};H.Tb=function(a){return"#"==a.substr(-1)?this.ya:null};function ed(a){return new cd(a.id,a[w])}function fd(a){return new cd(dd++,a||{})}function gd(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[z];++c)var d=a[c][r](16),b=b+(2>d[z]?"0"+d:d);return b};
function hd(a){this.type=a}function id(a){cd[D](this,-1,a)}K(id,cd);
var jd={};I("lf.TransactionType",jd,void 0);jd.READ_ONLY=0;jd.READ_WRITE=1;

function kd(a,b){this.Ta=a;this.Zg=b;this.ca=Xc()}H=kd[A];H.jj=G("Ta");H.W=function(){try{this.Ta.Ih()}catch(a){return Tc(a)}return(0==this.Zg?Sc():this.$j())[B](J(function(){this.Ta.W()},this))};H.$j=function(){this.ak();this.Zj();return this.ca.ga};
H.ak=function(){var a=this.Ta.Tf();a.H()[n](function(b){var c=this.Ta.fa().get(b),c=this.S(c[h](),J(c.oc,c));b=a.get(b);var d=b.Rc().c().map(function(a){return a.id()});0<d[z]&&c[m](d).Xg(this.Ge,this);b=b.Sc().c().map(function(a){return a[1]})[Ma](b.Qc().c());c.put(b).Xg(this.Ge,this)},this)};H.Zj=function(){this.Ta.gj()[n](function(a){var b=this.S(a[h](),ed),c;b.get([-1])[B](function(a){c=a;return b[m]([])})[B](function(){b.put(c);b.put(a.Ia())},J(this.Ge,this))},this)};H.Ge=function(a){this.ca[lb](a)};function ld(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[z],k=b[z],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<k+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=k;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ea.max(l[p-1][y],l[p][y-1]);for(var wa=[],p=g,y=k;0<p&&0<y;)c(a[p-1],b[y-1])?(wa[Cb](d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return wa}function md(a){return hc(arguments,function(a,c){return a+c},0)}
function nd(a){return md[kb](null,arguments)/arguments[z]}function od(a){var b=arguments[z];if(2>b)return 0;var c=nd[kb](null,arguments);return md[kb](null,gc(arguments,function(a){return ea.pow(a-c,2)}))/(b-1)}function pd(a){return ea.sqrt(od[kb](null,arguments))};var qd="StopIteration"in Gb?Gb.StopIteration:{message:"StopIteration",stack:""};function rd(){}ra(rd[A],function(){throw qd;});rd[A].Bc=function(){return this};function sd(a){if(a instanceof rd)return a;if("function"==typeof a.Bc)return a.Bc(!1);if(Nb(a)){var b=0,c=new rd;ra(c,function(){for(;;){if(b>=a[z])throw qd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function td(a,b,c){if(Nb(a))try{fc(a,b,c)}catch(d){if(d!==qd)throw d;}else{a=sd(a);try{for(;;)b[D](c,a[ab](),void 0,a)}catch(g){if(g!==qd)throw g;}}}function ud(a){if(ic(arguments,function(a){return!a[z]})||!arguments[z])return new rd;var b=new rd,c=arguments,d=tc(0,c[z]);ra(b,function(){if(d){for(var a=gc(d,function(a,b){return c[b][a]}),b=d[z]-1;0<=b;b--){L(d);if(d[b]<c[b][z]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw qd;});return b};function N(a,b){this.g={};this.b=[];this.Pa=this.aa=0;var c=arguments[z];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[nb](a)}H=N[A];H.ra=G("aa");H.c=function(){this.Gc();for(var a=[],b=0;b<this.b[z];b++)a[u](this.g[this.b[b]]);return a};H.H=function(){this.Gc();return this.b[Ma]()};H.A=function(a){return vd(this.g,a)};H.rd=function(a){for(var b=0;b<this.b[z];b++){var c=this.b[b];if(vd(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Mc=function(a,b){if(this===a)return!0;if(this.aa!=a.ra())return!1;var c=b||wd;this.Gc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function wd(a,b){return a===b}H.Fa=function(){return 0==this.aa};na(H,function(){this.g={};Ca(this.b,0);this.Pa=this.aa=0});ka(H,function(a){return vd(this.g,a)?(delete this.g[a],this.aa--,this.Pa++,this.b[z]>2*this.aa&&this.Gc(),!0):!1});
H.Gc=function(){if(this.aa!=this.b[z]){for(var a=0,b=0;a<this.b[z];){var c=this.b[a];vd(this.g,c)&&(this.b[b++]=c);a++}Ca(this.b,b)}if(this.aa!=this.b[z]){for(var d={},b=a=0;a<this.b[z];)c=this.b[a],vd(d,c)||(this.b[b++]=c,d[c]=1),a++;Ca(this.b,b)}};H.get=function(a,b){return vd(this.g,a)?this.g[a]:b};H.set=function(a,b){vd(this.g,a)||(this.aa++,this.b[u](a),this.Pa++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.H(),a=a.c()):(b=yc(a),a=xc(a));for(var c=0;c<b[z];c++)this.set(b[c],a[c])};
la(H,function(a,b){for(var c=this.H(),d=0;d<c[z];d++){var g=c[d],k=this.get(g);a[D](b,k,g,this)}});ta(H,function(){return new N(this)});H.Bc=function(a){this.Gc();var b=0,c=this.Pa,d=this,g=new rd;ra(g,function(){if(c!=d.Pa)throw fa("The map has changed since the iterator was created");if(b>=d.b[z])throw qd;var g=d.b[b++];return a?g:d.g[g]});return g};function vd(a,b){return ba[A][cb][D](a,b)};
function xd(a){this.Gk=a}f(xd[A],G("Gk"));var yd=new xd("backstore"),zd=new xd("cache"),Ad=new xd("indexstore"),Bd=new xd("engine"),Cd=new xd("runner"),Dd=new xd("observerregistry"),Ed=new xd("schema");
function Fd(a){if("function"==typeof a.ra)a=a.ra();else if(Nb(a)||Ob(a))a=a[z];else{var b=0,c;for(c in a)b++;a=b}return a}function Gd(a){if("function"==typeof a.c)return a.c();if(Ob(a))return a[bb]("");if(Nb(a)){for(var b=[],c=a[z],d=0;d<c;d++)b[u](a[d]);return b}return xc(a)}
function Hd(a,b,c){if("function"==typeof a[Ab])return a[Ab](b,c);if(Nb(a)||Ob(a))return jc(a,b,c);var d;if("function"==typeof a.H)d=a.H();else if("function"!=typeof a.c)if(Nb(a)||Ob(a)){d=[];for(var g=a[z],k=0;k<g;k++)d[u](k)}else d=yc(a);else d=void 0;for(var g=Gd(a),k=g[z],l=0;l<k;l++)if(!b[D](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new N;a&&this[nb](a)}function Id(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Qb(a):b.substr(0,1)+a}H=O[A];H.ra=function(){return this.g.ra()};H.add=function(a){this.g.set(Id(a),a)};H.addAll=function(a){a=Gd(a);for(var b=a[z],c=0;c<b;c++)this.add(a[c])};ka(H,function(a){return this.g[m](Id(a))});na(H,function(){this.g[Ra]()});H.Fa=function(){return this.g.Fa()};H.contains=function(a){return this.g.A(Id(a))};H.ci=function(a){return Hd(a,this[jb],this)};H.c=function(){return this.g.c()};
ta(H,function(){return new O(this)});H.Mc=function(a){return this.ra()==Fd(a)&&this.Sj(a)};H.Sj=function(a){var b=Fd(a);if(this.ra()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Hd(this,function(b){var d=a;if("function"==typeof d[jb])b=d[jb](b);else if("function"==typeof d.rd)b=d.rd(b);else if(Nb(d)||Ob(d))b=0<=ec(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Bc=function(){return this.g.Bc(!1)};
function Jd(a,b){this.ya=a;this.Yb=b||{}}function Kd(a){var b=new O;a[n](function(a){b.add(a>>9)});return b.c()}H=Jd[A];H.ka=G("ya");H.tc=G("Yb");H.Rg=function(a){a[n](function(a){this.Yb[a.id()]=a.Ia()},this)};H.Bk=function(a){a[n](function(a){var c=this.Yb;a in c&&delete c[a]},this)};H.Ia=function(){return{id:this.ya,value:JSON.stringify(this.Yb)}};function Ld(a){return new Jd(a.id,JSON.parse(a[w]))};

function Md(a,b,c){this.U=a;this.Ob=b;this.Mg=c}H=Md[A];H.get=function(a){return 0==a[z]?this.xe():this.nj(a)[B](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Ob(d.tc()[a])},this)},this))};H.nj=function(a){var b=new N,c=Xc();a=Kd(a).map(function(a){return new M(function(c,k){var l;try{l=this.U.get(a)}catch(p){k(p);return}va(l,k);Da(l,J(function(a){a=Ld(a[wb][Ya]);b.set(a.ka(),a);c()},this))},this)},this);Wc(a)[B](function(){c[xb](b)});return c.ga};
H.xe=function(){return new M(function(a,b){var c=[],d;try{d=this.U[vb]()}catch(g){b(g);return}va(d,b);Da(d,J(function(){var b=d[Ya];if(b){var g=Ld(b[w]).tc(),p;for(p in g)c[u](this.Ob(g[p]));b[Ta]()}else a(c)},this))},this)};H.Zb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Da(d,b);va(d,c)},this)};
H.put=function(a){if(0==a[z])return Sc();var b=new N;a[n](function(a){var d;d=a.id()>>9;var g=b.get(d,null);null===g&&(g=this.Mg(this.U[x],d));g.Rg([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Zb(J(function(){return this.U.put(a.Ia())},this))},this);return Wc(a)};
ka(H,function(a){if(0==a[z])return this.Zb(J(function(){return this.U[Ra]()},this));var b=new N;a[n](function(a){var d=a>>9,g=b.get(d,null);null===g&&(g=this.Mg(this.U[x],d));g.Bk([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Zb(J(function(){var b;a:{b=a.tc();for(var g in b){b=!1;break a}b=!0}return b?this.U[sb](a.ka()):this.U.put(a.Ia())},this))},this);return Wc(a)});function Nd(a,b,c){a=a.o(zd);var d=[c<<9,(c+1<<9)-1];b=a.cb(b,d[0],d[1]);c=new Jd(c);c.Rg(b);return c}
function Od(a,b){return new Jd(b)};
function Pd(){};
function Qd(a){this.qa=a.o(zd);this.I=a.o(Ad);this.s=a.o(Ed)}Ea(Qd[A],function(a){a[n](function(a){this.bl(a);this.$k(a)},this)});Qd[A].$k=function(a){var b=a[h]();a.Rc().c()[n](function(a){this.qa[m](b,[a.id()])},this);a.Qc()[n](function(a){this.qa.set(b,[a])},this);a.Sc()[n](function(a){this.qa.set(b,[a[1]])},this)};Qd[A].bl=function(a){var b=this.s[t](a[h]());a.ej()[n](function(a){this.dh(b,a)},this)};
Qd[A].dh=function(a,b){a.Da().map(function(a){return this.I.get(a.l())},this)[Ma]([this.I.get(a.Qb())])[n](function(a){var d=null===b[1]?null:b[1].Tb(a[h]()),g=null===b[0]?null:b[0].Tb(a[h]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[m](g,b[0].id()):0!=a.Ic()[Xa](g,d)&&(a.add(d,b[1].id()),a[m](g,b[0].id()))})};
var Rd={};I("lf.ConstraintAction",Rd,void 0);Rd.RESTRICT=0;Rd.CASCADE=1;var Sd={};I("lf.ConstraintTiming",Sd,void 0);Sd.IMMEDIATE=0;Sd.DEFERRABLE=1;var Td={};I("lf.Order",Td,void 0);Td.DESC=0;Td.ASC=1;var Ud={};I("lf.Type",Ud,void 0);Ud.ARRAY_BUFFER=0;Ud.BOOLEAN=1;Ud.DATE_TIME=2;Ud.INTEGER=3;Ud.NUMBER=4;Ud.STRING=5;Ud.OBJECT=6;var Vd={0:null,1:!1,2:ba.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",Vd,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[z])for(var c=1;c<=ea.min(4,arguments[z]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][r]()[v](0,64)))}K(P,fa);

function Wd(a){this.I=a.o(Ad);this.s=a.o(Ed)}H=Wd[A];H.Ni=function(a,b){var c=a.Fb().Ce();return null===c?null:this.Mi(c,b)};H.Mi=function(a,b){var c=a.l(),d=b.Tb(c),c=this.I.get(c).get(d);return 0==c[z]?null:c[0]};H.me=function(a,b){var c=a.Fb().lj();b[n](function(a){c[n](function(b){if(null===a.u()[b[h]()])throw new P(202,b.l());},this)},this)};H.Ef=function(a,b,c){a.Fb().Uf()[n](function(a){a[tb]==c&&this.Th(a,b)},this)};
H.Th=function(a,b){b[n](function(b){if(Xd(b[0],b[1],a[x])&&(b=b[1].u()[a.Db],!this.Xf(a).A(b)))throw new P(203,a[x]);},this)};H.Xf=function(a){var b=this.s[t](a.Xb)[a.Hb].Da()[Ga](function(b){return 1==b.h[z]&&b.h[0].ma[h]()==a.Hb})[0];return this.I.get(b.l())};function Xd(a,b,c){return(null===a?null!==b:null===b)||a.Tb(c)!=b.Tb(c)}
H.Ff=function(a,b,c){a=a.rj();null!=a&&a[n](function(a){if(a[tb]==c){var g=this.I.get(a[x]);b[n](function(b){var c=this.Xf(a);if(Xd(b[0],b[1],c[h]())&&g.A(b[0].u()[a.Hb]))throw new P(203,a[x]);},this)}},this)};H.ke=function(a,b,c){0!=b[z]&&(b=b.map(function(a){return[null,a]}),this.Ef(a,b,c))};H.le=function(a,b,c){0!=b[z]&&(this.Ef(a,b,c),this.Ff(a,b,c))};H.Df=function(a,b,c){0!=b[z]&&(b=b.map(function(a){return[a,null]}),this.Ff(a,b,c))};
function Yd(a){this.jb=new N;this.Ka=new N;this.mb=new N;this.B=a}H=Yd[A];ja(H,G("B"));H.Qc=G("jb");H.Sc=G("Ka");H.Rc=G("mb");H.add=function(a){if(this.mb.A(a.id())){var b=[this.mb.get(a.id()),a];this.Ka.set(a.id(),b);this.mb[m](a.id())}else this.jb.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.jb.A(b)?this.jb.set(b,c):(this.Ka.A(b)&&(a=[this.Ka.get(a[0].id())[0],c]),this.Ka.set(b,a))};
za(H,function(a){if(this.jb.A(a.id()))this.jb[m](a.id());else if(this.Ka.A(a.id())){var b=this.Ka.get(a.id())[0];this.Ka[m](a.id());this.mb.set(a.id(),b)}else this.mb.set(a.id(),a)});H.ej=function(){var a=[];this.jb.c()[n](function(b){a[u]([null,b])},this);this.Ka.c()[n](function(b){a[u](b)},this);this.mb.c()[n](function(b){a[u]([b,null])},this);return a};f(H,function(){return"["+this.jb.H()[r]()+"], ["+this.Ka.H()[r]()+"], ["+this.mb.H()[r]()+"]"});
H.sj=function(){var a=new Yd(this.B);this.jb.c()[n](function(b){a[sb](b)},this);this.mb.c()[n](function(b){a.add(b)},this);this.Ka.c()[n](function(b){a.modify([b[1],b[0]])},this);return a};H.Fa=function(){return this.jb.Fa()&&this.mb.Fa()&&this.Ka.Fa()};
function Zd(a,b){this.pa=new N;b[n](function(a){this.pa.set(a[h](),a)},this);this.qa=a.o(zd);this.I=a.o(Ad);this.Qa=new Wd(a);this.Id=new Qd(a);this.Ue=this.Zd=!1;this.Bb=new N}H=Zd[A];H.Tf=G("Bb");H.gj=function(){var a=[];this.Bb.H().map(function(a){return this.pa.get(a)},this)[n](function(b){b.$b()&&(b.Da()[n](function(b){a[u](this.I.get(b.l()))},this),a[u](this.I.get(b[h]()+".#")))},this);return a};H.fa=G("pa");
H.hj=function(){var a=[];this.pa.c()[n](function(b){b.$b()&&(b.Da()[n](function(b){a[u](b.l())}),a[u](b[h]()+".#"))});return a};H.xb=function(a,b){this.Fc();this.od(a);this.Qa.me(a,b);this.Qa.ke(a,b,0);for(var c=0;c<b[z];c++)this.Jd(a,[null,b[c]])};
H.Jd=function(a,b){var c=a[h](),d=this.Bb.get(c,null)||new Yd(c);this.Bb.set(c,d);try{this.Id.dh(a,b)}catch(g){throw this.Ue=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.qa.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.qa.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.qa[m](c,[k.id()]),d[sb](k))};Ea(H,function(a,b){this.Fc();this.od(a);this.Qa.me(a,b);for(var c=0;c<b[z];c++){var d=b[c],d=[this.qa.get([d.id()])[0],d];this.Qa.le(a,[d],0);this.Jd(a,d)}});
H.Ie=function(a,b){this.Fc();this.od(a);this.Qa.me(a,b);for(var c=0;c<b[z];c++){var d=b[c],g=null,k=this.Qa.Ni(a,d);null!=k?(g=this.qa.get([k])[0],d.vh(k),this.Qa.le(a,[[g,d]],0)):this.Qa.ke(a,[d],0);this.Jd(a,[g,d])}};ka(H,function(a,b){this.Fc();this.od(a);this.Qa.Df(a,b,0);for(var c=0;c<b[z];c++)this.Jd(a,[b[c],null])});H.Ih=function(){this.Bb.c()[n](function(a){var b=this.pa.get(a[h]());this.Qa.ke(b,a.Qc().c(),1);this.Qa.Df(b,a.Rc().c(),1);this.Qa.le(b,a.Sc().c(),1)},this)};
H.W=function(){this.Fc();this.Zd=!0};H.Fc=function(){L(!this.Ue,"Attemptted to use journal that needs to be rolled back.");L(!this.Zd,"Attemptted to commit a terminated journal.")};H.Jb=function(){L(!this.Zd,"Attempted to rollback a terminated journal.");var a=this.Bb.c().map(function(a){return a.sj()},this);this.Id[Bb](a);this.Zd=!0;this.Ue=!1};H.od=function(a){if(!this.pa.A(a[h]()))throw new P(106,a[h]());};
function $d(a,b,c,d){this.f=a;this.w=b;this.ba=null===this.f?!1:c;this.ea=null===this.w?!1:d}H=$d[A];f(H,function(){return(this.ba?"(":"[")+(null===this.f?"unbound":this.f)+", "+(null===this.w?"unbound":this.w)+(this.ea?")":"]")});H.Yh=function(){if(null===this.f&&null===this.w)return[];var a=null,b=null;null===this.f||(a=new $d(null,this.f,!1,!this.ba));null===this.w||(b=new $d(this.w,null,!this.ea,!1));return[a,b][Ga](function(a){return null!==a})};
H.reverse=function(){return new $d(this.w,this.f,this.ea,this.ba)};H.Ag=function(a){var b=ae(this.f,a.f,!0,this.ba,a.ba);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.w||c.w>a.f||c.w==a.f&&!c.ea&&!a.ba};function be(){return new $d(null,null,!1,!1)}H.contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.ea;return(null===this.f||a>this.f||a==this.f&&!this.ba)&&b};H.Mc=function(a){return this.f==a.f&&this.ba==a.ba&&this.w==a.w&&this.ea==a.ea};
function ae(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function ce(a,b){var c=ae(a.f,b.f,!0,a.ba,b.ba);0==c&&(c=ae(a.w,b.w,!1,a.ea,b.ea));return c};
function de(a,b){this.entries=a;this.F=new O(b);this.Lb=null}H=de[A];H.Pj=function(a){return this.F.Mc(a.F)};function ee(a,b){L(a.Pj(b),"Intersection/union operations only apply to compatible relations.")}H.Y=function(){return this.F.c()};H.Ke=function(){return 1<this.F.ra()};H.Ae=function(){return this[C].map(function(a){return a.wa.u()})};H.uj=function(){return this[C].map(function(a){return a.wa.id()})};H.Hk=function(a,b){null===this.Lb&&(this.Lb=new N);this.Lb.set(a.l(),b)};
H.sc=function(a){L(null!==this.Lb,"getAggregationResult called before any results have been calculated.");var b=this.Lb.get(a.l(),void 0);L(Hb(b),"Could not find result for "+a.l());return b};H.Gj=function(a){return null!==this.Lb&&this.Lb.A(a.l())};var fe=null;function ge(){null===fe&&(fe=new de([],[]));return fe}
function he(a){if(0==a[z])return ge();for(var b=a[mb](function(b,c){ee(a[0],c);return b+c[C][z]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[C][n](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,k=0;k<c[z];k++)b[Ab](function(a){return a.A(c[k].id)})&&g.set(c[k].id,c[k]);return new de(g.c(),a[0].F.c())}function ie(a){if(0==a[z])return ge();var b=new N;a[n](function(c){ee(a[0],c);c[C][n](function(a){b.set(a.id,a)})});return new de(b.c(),a[0].F.c())}
function je(a,b){var c=1<b[z],d=a.map(function(a){return new ke(a,c)});return new de(d,b)}function ke(a,b){this.wa=a;this.id=le++;this.Le=b}var le=0;ke[A].O=function(a){var b=a.bb();return null!==b&&this.wa.u()[cb](b)?this.wa.u()[b]:this.Le?this.wa.u()[a.S().Ca()][a[h]()]:this.wa.u()[a[h]()]};ke[A].cf=function(a,b){var c=a.bb();if(null!=c)this.wa.u()[c]=b;else if(this.Le){var c=a.S().Ca(),d=this.wa.u()[c];null==d&&(d={},this.wa.u()[c]=d);d[a[h]()]=b}else this.wa.u()[a[h]()]=b};
function me(a,b,c,d){function g(a,b){if(a.Le){var c=a.wa.u(),d;for(d in c)k[d]=c[d]}else L(!k[cb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.wa.u()}var k={};g(a,b);g(c,d);a=new cd(-1,k);return new ke(a,!0)};
I("lf.bind",function(a){return new ne(a)},void 0);function ne(a){this.sa=a}I("lf.Binder",ne,void 0);ne[A].ub=G("sa");
function oe(){var a=pe();this.xi=new N(1,qe(),2,re(),4,a,3,a,5,se())}Jb(oe);oe[A].ye=function(a,b){var c=this.xi.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function pe(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[qb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function se(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[qb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function re(){return new N("between",function(a,b){return a[Sa]()>=b[0][Sa]()&&a[Sa]()<=b[1][Sa]()},"eq",function(a,b){return(null===a?-1:a[Sa]())==(null===b?-1:b[Sa]())},"gte",function(a,b){return a[Sa]()>=b[Sa]()},"gt",function(a,b){return a[Sa]()>b[Sa]()},"in",function(a,b){return b[yb](function(b){return b[Sa]()==a[Sa]()})},"lte",function(a,b){return a[Sa]()<=b[Sa]()},"lt",function(a,b){return a[Sa]()<b[Sa]()},"neq",function(a,b){return(null===a?-1:a[Sa]())!=(null===b?-1:b[Sa]())})}
function qe(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function te(a,b){this.og=a;this.eh=b}te[A].getKey=G("og");te[A].zj=G("eh");ta(te[A],function(){return new te(this.og,this.eh)});function ue(a,b){te[D](this,a,b);this.i=this.C=null}K(ue,te);var ve=[];H=ue[A];ta(H,function(){return new ue(this.getKey(),this.zj())});H.getParent=G("C");H.ig=function(){return!this.xa()};H.N=function(){return this.i||ve};H.tb=function(a){return this.N()[a]||null};H.xa=function(){return this.N()[z]};H.fj=function(){for(var a=0,b=this;b[Ia]();)a++,b=b[Ia]();return a};H.ob=function(){for(var a=this;a[Ia]();)a=a[Ia]();return a};H.contains=function(a){do a=a[Ia]();while(a&&a!=this);return Boolean(a)};
H.zc=function(a,b){if(!1!==a[D](b,this))for(var c=this.N(),d=0;d<c[z];d++)c[d].zc(a,b)};H.Yd=Eb("C");H.ia=function(a){this.Cc(a,this.i?this.i[z]:0)};H.Cc=function(a,b){L(!a[Ia]());a.Yd(this);this.i=this.i||[];L(0<=b&&b<=this.i[z]);oc(this.i,b,0,a)};H.Ud=function(a){var b=this.i&&this.i[a];return b?(b.Yd(null),kc(this.i,a),0==this.i[z]&&(this.i=null),b):null};H.removeChild=function(a){return this.Ud(ec(this.N(),a))};

function we(){ue[D](this,"","");this.ya=xe++}K(we,ue);var xe=0;we[A].ka=G("ya");we[A].df=Eb("ya");
function ye(a,b,c){we[D](this);this.J=a;xa(this,b);this.X=c;this.ud=oe.ze().ye(this.J.$(),this.X);this.eb=!1;this.kc=b}K(ye,we);H=ye[A];H.Mb=function(){var a=new ye(this.J,this[w],this.X);a.Ik(this.kc);a.Xd(this.eb);a.df(this.ka());return a};H.nb=function(a){return null!=a?(a[u](this.J),a):[this.J]};H.Xd=Eb("eb");H.Ik=Eb("kc");H.Bf=function(){var a=!1;this[w]instanceof ne||(a="array"==Kb(this[w])?!this[w][yb](function(a){return a instanceof ne}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Bf();if("in"==this.X)return this.si(a);var b=a[C][Ga](function(a){return this.ud(a.O(this.J),this[w])!=this.eb},this);return new de(b,a.Y())};oa(H,function(a){if(this.kc instanceof ne){var b=this.kc.ub();if(a[z]<=b)throw new P(510);xa(this,a[b])}else"array"==Kb(this.kc)&&xa(this,this.kc.map(function(b){if(b instanceof ne){if(a[z]<=b.ub())throw new P(510);return a[b.ub()]}return b}))});
H.si=function(a){L("in"==this.X,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[w]),c=J(function(a){return b[jb](a)!=this.eb},this),d=a[C][Ga](function(a){return c(a.O(this.J))},this);return new de(d,a.Y())};f(H,function(){return"value_pred("+this.J.l()+" "+this.X+(this.eb?"(complement)":"")+" "+this[w]+")"});H.hg=function(){this.Bf();return null!==this[w]&&("between"==this.X||"eq"==this.X||"gt"==this.X||"gte"==this.X||"lt"==this.X||"lte"==this.X)};
H.Wk=function(){L(this.hg(),"Could not convert predicate to key range.");var a=null;"between"==this.X?a=new $d(this[w][0],this[w][1],!1,!1):"eq"==this.X?(a=this[w],a=new $d(a,a,!1,!1)):a="gte"==this.X?new $d(this[w],null,!1,!1):"gt"==this.X?new $d(this[w],null,!0,!1):"lte"==this.X?new $d(null,this[w],!1,!1):new $d(null,this[w],!1,!0);return this.eb?a.Yh():[a]};
function ze(a){this.ma=a;this.Hc=this.ua=null}H=ze[A];H.Cd=function(a){null===this.ua&&null!=this.D&&(this.ua=Ae(this.D));a=this.ua.get(a,null);L(null!==a);return a};function Ae(a){var b=new N;a.zc(function(a){b.set(a.ka(),a)});return b}H.pd=function(a){a.D&&(this.D=a.D.Mb());this.Hc=a};H.Nf=function(a,b){var c=new O;a.c()[n](function(a){a.Fb().Uf()[n](function(g){if(!b||b[jb](a[g.Db]))g=this.ma[t](g.Xb),c.add(g)},this)},this);return c};
H.te=function(a,b){var c=new O;a.c()[n](function(a){a.nb()[n](function(a){b&&!b[jb](a)||null===a.N()||a.N()[n](function(a){c.add(a.S())},this)},this)},this);return c};oa(H,function(){L(null==this.Hc);return this});H.he=function(a){var b=this.D;null!=b&&b.zc(function(b){b instanceof ye&&b[q](a)})};
function Be(a){ze[D](this,a)}K(Be,ze);function Ce(a){var b="";a[n](function(c,d){b+=c.J.l()+" ";b+=1==c.qb?"ASC":"DESC";d<a[z]-1&&(b+=", ")});return b}Be[A].fa=function(){return new O(this.f)};ta(Be[A],function(){var a=new Be(this.ma);a.pd(this);this.h&&(a.h=this.h[v]());this.f&&(a.f=this.f[v]());a.oa=this.oa;a.na=this.na;this.K&&(a.K=this.K[v]());this.la&&(a.la=this.la[v]());this.Ub&&(a.Ub=this.Ub);this.fc&&(a.fc=this.fc);return a});
oa(Be[A],function(a){Be.hb[q][D](this,a);null!=this.Ub&&(this.oa=a[this.Ub.ub()]);null!=this.fc&&(this.na=a[this.fc.ub()]);this.he(a);return this});
function De(a,b){this.Aa=a;this.pa=b}De[A].ob=G("Aa");De[A].Of=Fb("plan description");De[A].fa=G("pa");function Ee(a){var b=new O;a[n](function(a){b[nb](a.fa())});return b};

function Fe(a,b){this.global=a;this.Cb=a.o(yd);this.Sd=b.map(function(a){return a[Fa]});this.Cg=b.map(function(a){return a.Ve});this.Gf=Ee(this.Cg);this.$g=this.ni();this.bc=Xc()}H=Fe[A];H.ni=function(){return this.Sd[yb](function(a){return!(a instanceof Be)})?1:0};
ia(H,function(){var a=new Zd(this[Ua],this.Gf.c()),b=[],c=this.Cg[v](),d=J(function(){var g=c[Ja]();if(g){var k=this.Sd[b[z]];return g.ob()[Ka](a,k)[B](function(a){b[u](a[0]);return d()})}return Sc()},this);return d()[B](J(function(){return this.Cb.Nb(this.$g,a).W()},this))[B](J(function(){this.Se(b);return b},this),J(function(b){a.Jb();throw b;},this))});H.$=G("$g");H.fa=G("Gf");H.Tc=G("bc");H.ka=function(){return Qb(this)};H.Se=Db();
function Ge(a,b){Fe[D](this,a,b);this.Gb=a.o(Dd)}K(Ge,Fe);ya(Ge[A],Fb(0));Ge[A].Se=function(a){this.Sd[n](function(b,c){this.Gb.bh(b,a[c])},this)};
function He(a,b){this.m=a;this.Gb=a.o(Dd);this.Za=a.o(Cd);this.Id=new Qd(a);this.Bb=b;var c=a.o(Ed),d=this.Bb.map(function(a){return c[t](a[h]())});this.pa=new O(d);this.bc=Xc()}H=He[A];ia(H,function(){this.Id[Bb](this.Bb);this.ed();return Sc()});H.$=Fb(1);H.fa=G("pa");H.Tc=G("bc");H.ka=function(){return Qb(this)};ya(H,Fb(1));H.ed=function(){var a=this.Gb.Fe(this.pa.c());0!=a[z]&&(a=new Ge(this.m,a),this.Za.cc(a))};
function Ie(a){this.m=a;this.Cb=a.o(yd);this.Za=a.o(Cd)}Ie[A].Sk=function(){this.Cb.subscribe(this.Qe[q](this))};Ie[A].Qe=function(a){a=new He(this.m,a);this.Za.cc(a)};


function Q(a,b){this.Pa=a;this.j=b;this.ib=new N}I("lf.backstore.FirebaseRawBackStore",Q,void 0);H=Q[A];H.Dd=G("j");H.Ed=function(){throw new P(351);};function Je(a,b){var c=Xc(),d=a;b[z]&&(d=a[hb](b));d[eb]("value",function(a){c[xb](a.val())},function(a){c[lb](a)});return c.ga}function Ke(a,b,c){function d(a){a?g[lb](a):g[xb]()}c=c||!1;var g=Xc();c?a.set(b,d):a[Bb](b,d);return g.ga}
H.Ea=function(a){return Je(this.j,"@rev/R")[B](function(a){this.Xa=a;return Je(this.j,"@table")}[q](this))[B](function(b){var c=0,d;for(d in b)this.ib.set(d,b[d]),b[d]>c&&(c=b[d]);a.$a()[n](function(a){this.ib.A(a[h]())||(b[a[h]()]=++c)},this);d=this.j[hb]("@table");return Ke(d,b)}[q](this))};
H.$d=function(a,b){var c=this.ib.get(a);return null!=c?function(){var a={},g=Xc();this.j[Oa]("T").equalTo(c)[eb]("value",function(c){c[n](function(c){var g=b(c.val());a[ga(c.key(),10)]=g});g[xb](a)});return g.ga}[D](this)[B](function(a){a["@rev"]={R:++this.Xa};return Ke(this.j,a)}[q](this)):Sc()};H.Kc=function(a){return this.$d(a,Fb(null))[B](function(){this.ib[m](a);return Ke(this.j[hb]("@table/"+a),null,!0)}[q](this))};Q[A].dropTable=Q[A].Kc;
Q[A].Dc=function(a,b,c){return this.$d(a,function(a){var g=a.P;g[b]=c;return{R:this.Xa+1,T:a.T,P:g}}[q](this))};Q[A].addTableColumn=Q[A].Dc;Q[A].Lc=function(a,b){return this.$d(a,function(a){var d=a.P;delete d[b];return{R:this.Xa+1,T:a.T,P:d}}[q](this))};Q[A].dropTableColumn=Q[A].Lc;Q[A].dd=function(a,b,c){return this.$d(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Xa+1,T:a.T,P:g}}[q](this))};Q[A].renameTableColumn=Q[A].dd;Q[A].Eb=function(){throw new P(351);};Q[A].createRow=Q[A].Eb;
Q[A].Wc=G("Pa");Q[A].getVersion=Q[A].Wc;Q[A].pc=function(a){var b=Xc();a=this.ib.get(a);this.j[Oa]("T").equalTo(a)[eb]("value",function(a){var d=[];a[n](function(a){d[u](a.val().P)});b[xb](d)});return b.ga};qa(Q[A],function(){var a={},b=this.ib.H().map(function(b){return this.pc(b)[B](function(d){a[b]=d})}[q](this));return Wc(b)[B](function(){return a})});qa(Q[A],Q[A].dump);
function Le(a,b,c){kd[D](this,c,b);this.j=a}K(Le,kd);Le[A].S=function(a){return this.j.Uc(a)};
Le[A].W=function(){Le.hb.W[D](this);var a=this.jj().Tf();if(0==a.ra())this.ca[xb]();else{var b=this.j.tj()+1;this.j.Qg(b);var c={"@rev":{R:b}};a[n](function(a){var g=this.j.$f(a[h]());a.Qc()[n](function(a,d){c[d]={R:b,T:g,P:a.u()}});a.Sc()[n](function(a,d){c[d]={R:b,T:g,P:a[1].u()}});a.Rc()[n](function(a,b){c[b]=null})},this);this.j.qj()[Bb](c,function(c){if(null===c)this.ca[xb]();else this.j.Qg(b-1),c=a.c().map(function(a){return this.j.Hg(a[h]())},this),Wc(c)[B](this.ca[lb][q](this.ca),this.ca[lb][q](this.ca))}[q](this))}return this.ca.ga};
function Me(){this.sb=new N}H=Me[A];H.Ee=function(a){if(0==a[z])return this.sb.c();var b=[];a[n](function(a){a=this.sb.get(a,null);null===a||b[u](a)},this);return b};H.getData=G("sb");H.get=function(a){return Sc(this.Ee(a))};H.We=function(a){a[n](function(a){this.sb.set(a.id(),a)},this)};H.put=function(a){this.We(a);return Sc()};H.Ig=function(a){0==a[z]||a[z]==this.sb.ra()?this.sb[Ra]():a[n](function(a){this.sb[m](a)},this)};ka(H,function(a){this.Ig(a);return Sc()});
H.kj=function(){return this.sb.Fa()?0:this.sb.H()[mb](function(a,b){return a>b?a:b},0)};
function Ne(a,b){this.s=a;this.mh=b;this.cd=new N;this.Xa=-1;this.F=new N;this.ib=new N;this.ie=null}H=Ne[A];H.tj=G("Xa");H.Qg=Eb("Xa");
H.Ea=function(a){this.j=this.mh[hb](this.s[x]());var b=a||function(){return Sc()};return Je(this.j,"@db/version")[B](function(a){return null===a?Ke(this.j,this.di(),!0)[B](function(){var a=new Q(0,this.j);return b(a)}[q](this)):a==this.s[Ha]()?Je(this.j,"@rev/R")[B](function(a){this.Xa=a;return Je(this.j,"@table")}[q](this))[B](function(a){for(var b in a)this.ib.set(b,a[b]);a=this.s.$a().map(function(a){return this.Hg(a[h]())},this);return Wc(a)}[q](this))[B](function(){this.Lj();this.sg();return Sc()}[q](this)):
this.Te(a,b)[B](function(){return this.Ea()}[q](this))}[q](this))};H.Te=function(a,b){var c=new Q(a,this.j);return c.Ea(this.s)[B](function(){return this.al()}[q](this))[B](function(){return b(c)})[B](function(){var a=this.j[hb]("@db");return Ke(a,{version:this.s[Ha]()},!0)}[q](this))};H.al=function(){return Sc()};H.sg=function(){this.j.off();this.j.on("child_removed",this.gk[q](this));this.je&&(this.je.off(),this.cd[Ra]());this.je=this.j[Oa]("R").startAt(this.Xa+1);this.je.on("value",this.Qe[q](this))};
H.Lj=function(){dd=this.F.c().map(function(a){return a.kj()})[mb](function(a,b){return a>b?a:b},0)+1};H.gk=function(a){var b=a.val(),c=this.cd.get(b.T,null);null===c&&(c=new O,this.cd.set(b.T,c));c.add(ga(a.key(),10))};H.Qe=function(a){var b=a[hb]("@rev/R").val();null!=b&&b!=this.Xa&&(this.Xa=b,a=this.Ti(a),a[n](function(a){var b=this.F.get(a[h]()),g=a.Rc().H();g[z]&&b.Ig(g);var k=a.Qc().c();a.Sc()[n](function(a){k[u](a[1])});b.We(k)},this),a[z]&&this.ad(a),this.sg())};
H.Ti=function(a){var b=new O,c=new N;this.ib[n](function(a,g){var k=this.F.get(g),l=new Yd(g);if(this.cd.A(a)){var p=this.cd.get(a).c();b[nb](p);k.Ee(p)[n](function(a){l[sb](a)})}c.set(a,l)}[q](this));a[n](function(a){if("@rev"!=a.key()){var g=ga(a.key(),10);if(!b[jb](g)){a=a.val();var k=c.get(a.T),l=this.F.get(k[h]());l.getData().A(g)?k.modify([l.Ee([g])[0],new cd(g,a.P)]):k.add(new cd(g,a.P))}}}[q](this));return c.c()[Ga](function(a){return!a.Fa()})};
H.Hg=function(a){var b=Xc(),c=this.$f(a);this.j[Oa]("T").equalTo(c)[eb]("value",function(c){var g=new Me,k=[];c[n](function(a){k[u](new cd(ga(a.key(),10),a.val().P))});g.We(k);this.F.set(a,g);b[xb]()}[q](this));return b.ga};H.$f=function(a){return this.ib.get(a)};H.di=function(){var a={};a["@db"]={version:this.s[Ha]()};a["@rev"]={R:1};this.Xa=1;a["@table"]={};this.s.$a()[n](function(b,c){var d=b[h]();a["@table"][d]=c;this.F.set(d,new Me);this.ib.set(d,c)},this);return a};
H.Nb=function(a,b){return new Le(this,a,b)};H.Uc=function(a){var b=this.F.get(a,null);if(null!==b)return b;throw new P(101,a);};H.qj=G("j");sa(H,Db());Aa(H,Eb("ie"));H.ad=function(a){null!=this.ie&&this.ie(a)};
function R(a,b,c,d){this.j=b;this.Oa=c;this.Pa=a;this.ld=d}I("lf.backstore.IndexedDBRawBackStore",R,void 0);R[A].Dd=G("j");R[A].getRawDBInstance=R[A].Dd;R[A].Ed=G("Oa");R[A].getRawTransaction=R[A].Ed;R[A].Kc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[A].dropTable=R[A].Kc;
R[A].kk=function(a,b,c){return new M(function(d,g){var k;try{var l=this.Oa[pb](a);k=l[vb]()}catch(p){g(p);return}Da(k,function(){var a=k[Ya];a?(b(a),a[Ta]()):(c(l),d())});va(k,g)},this)};function Oe(a){var b=null;return b=a instanceof ArrayBuffer?gd(a):a instanceof Date?a[Sa]():a}R[A].hf=function(a,b){function c(a){var c=Ld(a[w]),d=c.tc(),p;for(p in d){var y=ed(d[p]);b(y);d[p]=y.Ia()}a[Bb](c.Ia())}function d(a){var c=ed(a[w]);b(c);a[Bb](c.Ia())}return this.kk(a,this.ld?c:d,Db())};
R[A].Dc=function(a,b,c){var d=Oe(c);return this.hf(a,function(a){a.u()[b]=d})};R[A].addTableColumn=R[A].Dc;R[A].Lc=function(a,b){return this.hf(a,function(a){delete a.u()[b]})};R[A].dropTableColumn=R[A].Lc;R[A].dd=function(a,b,c){return this.hf(a,function(a){a.u()[c]=a.u()[b];delete a.u()[b]})};R[A].renameTableColumn=R[A].dd;
R[A].xj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Oa[pb](a)[vb]()}catch(k){d(k);return}Da(g,J(function(){var a=g[Ya];if(a){if(this.ld){var d=Ld(a[w]).tc(),k;for(k in d)b[u](d[k])}else b[u](a[w]);a[Ta]()}else c(b)},this));va(g,d)},this)};R[A].Eb=function(a){var b={};vc(a,J(function(a,d){b[d]=Oe(a)},this));return fd(b)};R[A].createRow=R[A].Eb;R[A].Wc=G("Pa");R[A].getVersion=R[A].Wc;
qa(R[A],function(){for(var a=this.j[Na],b=[],c=0;c<a[z];++c){var d=a[ob](c);b[u](this.pc(d))}return Wc(b)[B](function(b){var c={};b[n](function(b,d){c[a[ob](d)]=b});return c})});qa(R[A],R[A].dump);R[A].pc=function(a){return this.xj(a)[B](function(a){return a.map(function(a){return a[w]})})};
function Pe(a,b){this.U=a;this.Ob=b}H=Pe[A];H.get=function(a){if(0==a[z])return this.xe();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.U.get(a)}catch(k){d(k);return}va(g,d);Da(g,J(function(a){c(this.Ob(a[wb][Ya]))},this))},this)},this);return Wc(a)};H.xe=function(){return new M(function(a,b){var c=[],d;try{d=this.U[vb]()}catch(g){b(g);return}va(d,b);Da(d,J(function(){var b=d[Ya];b?(c[u](this.Ob(b[w])),b[Ta]()):a(c)},this))},this)};
H.Zb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Da(d,b);va(d,c)},this)};H.put=function(a){if(0==a[z])return Sc();a=a.map(function(a){return this.Zb(J(function(){return this.U.put(a.Ia())},this))},this);return Wc(a)};
ka(H,function(a){return new M(function(b,c){var d=this.U.count();Da(d,J(function(d){if(0==a[z]||d[wb][Ya]==a[z])return this.Zb(J(function(){return this.U[Ra]()},this))[B](b,c);d=a.map(function(a){return this.Zb(J(function(){return this.U[sb](a)},this))},this);Wc(d)[B](b,c)},this));va(d,c)},this)});
function Qe(a,b,c,d,g){kd[D](this,c,d);this.m=a;this.Oa=b;this.ld=g;this.Oa.oncomplete=J(this.ca[xb],this.ca);this.Oa.onabort=J(this.ca[lb],this.ca)}K(Qe,kd);Qe[A].S=function(a,b,c){return this.ld?(c=null!=c?c:0,a=this.Oa[pb](a),new Md(a,b,0==c?Wb(Nd,this.m):Od)):new Pe(this.Oa[pb](a),b)};
function Re(a,b){this.m=a;this.s=b;this.md=b.Dg().pi||!1}H=Re[A];H.Ea=function(a){var b=aa.indexedDB||aa.mozIndexedDB||aa.webkitIndexedDB||aa.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Sc()};return new M(function(a,g){var k;try{k=b.open(this.s[x](),this.s[Ha]())}catch(l){g(l);return}va(k,g);k.onupgradeneeded=J(function(a){this.jk(c,a)[B](Db(),g)},this);Da(k,J(function(b){this.j=b[wb][Ya];this.bf()[B](J(function(b){dd=b+1;a(this.j)},this))},this))},this)};
H.jk=function(a,b){var c=b[wb][Ya],d=b[wb][gb],g=new R(b.oldVersion,c,d,this.md);this.Ak(c,d);this.ii(c,d);return a(g)};H.Ak=function(a){for(var b=[],c=0;c<a[Na][z];++c){var d=a[Na][ob](c);-1!=d[qb](".")&&b[u](d)}b[n](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.ii=function(a,b){this.s.$a()[n](Wb(this.fi,a,b),this)};H.fi=function(a,b,c){a[Na][jb](c[h]())||a.createObjectStore(c[h](),{keyPath:"id"});c.$b()&&(c.Da()[n](function(c){this.Jc(a,b,c.l(),"btree")},this),this.Jc(a,b,c.Qb(),"rowid"))};
H.Jc=function(a,b,c,d){a[Na][jb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[pb](c),(this.md?new Md(a,ed,Od):new Pe(a,ed)).put([new id(new hd(d))]))};H.Nb=function(a,b){var c=b.fa().c().map(function(a){return a[h]()});b.hj()[n](function(a){c[u](a)});var d=this.j[gb](c,0==a?"readonly":"readwrite");return new Qe(this.m,d,b,a,this.md)};
H.bf=function(a){function b(){if(0==c[z])return Sc();var a=c[Ja]();return l(a)[B](b)}var c=this.s.$a().map(function(a){return a[h]()}),d=this.j,g=0,k=J(function(a){return this.md?(a=Ld(a[w]),yc(a.tc())[mb](function(a,b){return ea.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var Sb;try{Sb=(a||d[gb]([b]))[pb](b)[vb](null,"prev")}catch(hh){l(hh);return}Da(Sb,function(a){(a=a[wb][Ya])&&(g=ea.max(g,k(a)));c(g)});va(Sb,function(){c(g)})},this)},this);return new M(function(a){b()[B](function(){a(g)})})};
sa(H,function(){this.j[db]()});H.Uc=function(){throw new P(511);};Aa(H,Db());H.ad=Db();



function Se(a,b,c){kd[D](this,c,b);this.U=a;0==b&&this.ca[xb]()}K(Se,kd);Se[A].S=function(a){return this.U.Uc(a)};Se[A].W=function(){Se.hb.W[D](this);this.ca[xb]();return this.ca.ga};
function Te(a){this.s=a;this.F=new N}H=Te[A];H.Ea=function(){this.s.$a()[n](this.Mj,this);return Sc()};H.Uc=function(a){var b=this.F.get(a,null);if(null===b)throw new P(101,a);return b};H.Nb=function(a,b){return new Se(this,a,b)};H.Hf=function(a){if(!this.F.A(a)){var b=new Me;this.F.set(a,b);return b}return null};H.Mj=function(a){this.Hf(a[h]());a.$b()&&(a.Da()[n](function(a){this.Jc(a.l(),"btree")},this),this.Jc(a.Qb(),"rowid"))};H.Jc=function(a,b){var c=this.Hf(a);null===c||c.put([new id(new hd(b))])};
sa(H,Db());Aa(H,Db());H.ad=Db();
function Ue(a){Te[D](this,a);this.Nd=null}K(Ue,Te);Aa(Ue[A],function(a){null===this.Nd&&(this.Nd=a)});Ue[A].ad=function(a){null===this.Nd||this.Nd(a)};
function Ve(a,b,c){this.Oa=a;this.B=b;this.Ob=c}Ve[A].get=function(a){var b=this.Ob;this.Oa.La("SELECT id, value FROM "+this.B+" "+(0==a[z]?"":"WHERE id IN ("+a[F](",")+")"),[],function(a){for(var d=a[ib][z],g=e(d),k=0;k<d;++k)g[k]=b({id:a[ib][ob](k).id,value:JSON.parse(a[ib][ob](k)[w])});return g});return this.Oa.W()};
Ve[A].put=function(a){if(0==a[z])return Sc();var b="INSERT OR REPLACE INTO "+this.B+"(id, value) VALUES (?, ?)";a[n](function(a){this.Oa.La(b,[a.id(),JSON.stringify(a.u())])},this);return Sc()};ka(Ve[A],function(a){this.Oa.La("DELETE FROM "+this.B+" "+(0==a[z]?"":"WHERE id IN ("+a[F](",")+")"),[]);return Sc()});
function We(a,b,c){kd[D](this,b,c);this.j=a;this.F=new N;this.oe=[]}K(We,kd);We[A].S=function(a,b){var c=this.F.get(a,null);null===c&&(c=new Ve(this,a,b),this.F.set(a,c));return c};We[A].La=function(a,b,c){this.oe[u]({Tk:a,lk:b,transform:c})};
We[A].W=function(){We.hb.W[D](this);var a,b,c=this.ca[lb][q](this.ca),d=function(a,b){this.ca[lb](b)}[q](this),g=J(function(c,l){a=l;if(this.oe[z]){var p=this.oe[Ja]();b=p.transform;c.executeSql(p.Tk,p.lk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ca[xb](p)},this);0==this.Zg?this.j.readTransaction(g,c):this.j[gb](g,c);return this.ca.ga};
function S(a,b,c){this.j=c;this.m=a;this.Pa=b}I("lf.backstore.WebSqlRawBackStore",S,void 0);S[A].Dd=G("j");S[A].getRawDBInstance=S[A].Dd;S[A].Ed=function(){throw new P(356);};S[A].getRawTransaction=S[A].Ed;S[A].td=function(){return new We(this.j,new Zd(this.m,[]),1)};S[A].Kc=function(a){var b=this.td();b.La("DROP TABLE "+a,[]);return b.W()};S[A].dropTable=S[A].Kc;
S[A].pc=function(a){var b=this.td();b.La("SELECT id, value FROM "+a,[]);return b.W()[B](function(a){for(var b=a[ib][z],g=e(b),k=0;k<b;++k)g[k]={id:a[ib][ob](k).id,value:JSON.parse(a[ib][ob](k)[w])};return Sc(g)})};S[A].gf=function(a,b){var c=this.td(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.pc(a)[B](function(a){a[n](function(a){a=b(a);c.La(d,[JSON.stringify(a[w]),a.id])});return c.W()})};S[A].Dc=function(a,b,c){var d=Oe(c);return this.gf(a,function(a){a[w][b]=d;return a})};
S[A].addTableColumn=S[A].Dc;S[A].Lc=function(a,b){return this.gf(a,function(a){delete a[w][b];return a})};S[A].dropTableColumn=S[A].Lc;S[A].dd=function(a,b,c){return this.gf(a,function(a){a[w][c]=a[w][b];delete a[w][b];return a})};S[A].renameTableColumn=S[A].dd;S[A].Eb=function(a){var b={},c;for(c in a)b[c]=Oe(a[c]);return fd(b)};S[A].createRow=S[A].Eb;S[A].Wc=G("Pa");S[A].getVersion=S[A].Wc;
function Xe(a){a.La('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[ib][z]),d=0;d<c[z];++d)c[d]=a[ib][ob](d).tbl_name;return c})}qa(S[A],function(){var a=Xc(),b=this.td();Xe(b);var c={};b.W()[B](J(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.pc(a)[B](function(b){c[a]=b})},this);Wc(b)[B](function(){a[xb](c)})},this));return a.ga});qa(S[A],S[A].dump);
function Ye(a,b,c){this.m=a;this.s=b;this.Pk=c||4194304}H=Ye[A];H.xd=function(){return new Zd(this.m,[])};H.Ea=function(a){if(null==aa.openDatabase)throw new P(353);var b=a||function(){return Sc()};return new M(J(function(a,d){try{var g=aa.openDatabase(this.s[x](),"",this.s[x](),this.Pk);if(null!=g)this.j=g,this.Uh(b)[B](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.Uh=function(a){var b=Xc(),c=new We(this.j,this.xd(),1);c.La("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.La("SELECT v FROM __lf_ver WHERE id = 0",[]);c.W()[B](J(function(c){var g=0;c[ib][z]&&(g=c[ib][ob](0).v);g<this.s[Ha]()?this.Te(a,g)[B](b[xb][q](b)):g>this.s[Ha]()?b[lb](new P(108)):b[xb]()},this));return b.ga};H.Nb=function(a,b){if(null!=this.j)return new We(this.j,b,a);throw new P(2);};sa(H,Db());H.Uc=function(){throw new P(512);};
H.vg=function(){throw new P(355);};Aa(H,function(){this.vg()});H.ad=function(){this.vg()};H.Te=function(a,b){var c=Xc();this.pk()[B](J(function(){a(new S(this.m,b,this.j))[B](J(function(){return this.bf()},this))[B](c[xb][q](c))},this),c[lb][q](c));return c.ga};
H.pk=function(){var a=this.s.$a(),b=new We(this.j,this.xd(),1),c=new We(this.j,this.xd(),1);b.La("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[Ha]()]);Xe(b);return b.W()[B](function(b){b[Ga](function(a){return-1!=a[qb](".")})[n](function(a){c.La("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[qb](".")});a.map(function(a){return a[h]()})[Ga](function(a){return-1==g[qb](a)})[n](function(a){c.La("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.W()})};
H.bf=function(){var a=0,b=Xc(),c=J(function(b){var c=new We(this.j,this.xd(),0);c.La("SELECT MAX(id) FROM "+b,[]);return c.W()[B](function(b){b=b[ib][ob](0)[0];a=ea.max(b,a)})},this),d=this.s.$a().map(function(a){return c(a[h]())});Wc(d)[B](function(){b[xb](a)},function(a){b[lb](a)});return b.ga};

function Ze(){this.g=new N;ba.defineProperty(this,"size",{get:function(){return this.g.ra()}})}na(Ze[A],function(){this.g[Ra]()});na(Ze[A],Ze[A][Ra]);za(Ze[A],function(a){return this.g[m](a)});Ze[A]["delete"]=Ze[A][sb];la(Ze[A],function(a,b){return this.g[n](a,b)});la(Ze[A],Ze[A][n]);Ze[A].get=function(a){return this.g.get(a)};Ze[A].get=Ze[A].get;Ze[A].has=function(a){return this.g.A(a)};Ze[A].has=Ze[A].has;Ze[A].set=function(a,b){return this.g.set(a,b)};Ze[A].set=Ze[A].set;
var $e=aa.Map&&aa.Map[A][Qa]&&aa.Map[A][n]?aa.Map:Ze;function af(a){if(a instanceof Ze)return a.g.H();var b=0,c=e(a[Za]);a[n](function(a,g){c[b++]=g});return c}function bf(a){if(a instanceof Ze)return a.g.c();var b=0,c=e(a[Za]);a[n](function(a){c[b++]=a});return c};
function cf(a){this.dc=new O(a);ba.defineProperty(this,"size",{get:function(){return this.dc.ra()}})}cf[A].add=function(a){this.dc.add(a)};cf[A].add=cf[A].add;na(cf[A],function(){this.dc[Ra]()});na(cf[A],cf[A][Ra]);za(cf[A],function(a){return this.dc[m](a)});cf[A]["delete"]=cf[A][sb];la(cf[A],function(a,b){this.dc.c()[n](a,b)});cf[A].has=function(a){return this.dc[jb](a)};cf[A].has=cf[A].has;var df=aa.Set&&aa.Set[A][Qa]&&aa.Set[A][n]?aa.Set:cf;
function ef(a){if(a instanceof cf)return a.dc.c();var b=0,c=e(a[Za]);a[n](function(a){c[b++]=a});return c};
function ff(){this.g=new $e;this.Vg=new $e}H=ff[A];H.Fd=function(a){var b=this.Vg.get(a);Hb(b)||(b=new df,this.Vg.set(a,b));return b};H.set=function(a,b){var c=this.Fd(a);b[n](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.cb=function(a,b,c){var d=[],g=ea.min(b,c),k=ea.max(b,c);a=this.Fd(a);if(a[Za]<k-g)a[n](function(a){a>=g&&a<=k&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[u](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[u](c));return d};ka(H,function(a,b){var c=this.Fd(a);b[n](function(a){this.g[sb](a);c[sb](a)},this)});H.ra=function(a){return null!=a?this.Fd(a)[Za]:this.g[Za]};
function gf(a,b,c,d){a=b?a.reverse():a;if(null==c&&null==d)return a;c=ea.min(Hb(c)?c:a[z],a[z]);if(0==c)return[];d=ea.min(d||0,a[z]);return a[v](d,d+c)};
function hf(a,b,c,d){this.B=a;this.M=b;this.kf=c;if(d){a=511;a*=a*a;if(d[z]>=a)throw new P(6,a);d=jf(this,d);this.va=d=kf(d)}else this[Ra]()}var mf=[];H=hf[A];ja(H,G("B"));f(H,function(){return this.va[r]()});H.add=function(a,b){this.va=this.va.xb(a,b)};H.set=function(a,b){this.va=this.va.xb(a,b,!0)};ka(H,function(a,b){this.va=this.va[m](a,b)});H.get=function(a){return this.va.get(a)};H.sd=function(a){return null!=a?this.cb([a])[z]:this.cb()[z]};
H.cb=function(a,b,c,d){var g=this.va.Ad().b[0];if(!Hb(g)||0==c)return mf;var k=(c||0)+(d||0),k=0<k&&!b?k:Number.POSITIVE_INFINITY,l=[];(Hb(a)?this.M.Tg(a):[this.M.we()])[n](function(a){for(var b=this.M.Td(a),b=this.M.Je(a)?g:b[0],b=this.va.Sf(b),c=0;null!=b&&l[z]<k;)0!=b.cb(a,l)?c=0:c++,b=2==c?null:b[ab]()},this);return gf(l,b,c,d)};na(H,function(){this.va=nf(this)});H.A=function(a){return this.va.A(a)};H.min=function(){return this.$c(J(this.M.min,this.M))};
H.max=function(){return this.$c(J(this.M.max,this.M))};H.$c=function(a){var b=this.va.Ad(),c=this.va.Zf();if(0==b.b[z]&&0==c.b[z])return[null,null];var d=b.b[0],b=b.V[0],g=c.b[c.b[z]-1],c=c.V[c.b[z]-1];return 1==a(d,g)?[d,this.kf?[b]:b]:[g,this.kf?[c]:c]};H.yb=G("kf");H.Ic=G("M");H.Oe=function(a,b){return null!=a?-1==this.M[Xa](a,b):!1};H.Ra=function(a,b){return null!=a?0==this.M[Xa](a,b):!1};H.Ia=function(){for(var a=[],b=this.va.Ad();b;)a[u](new cd(b.ya,[b.b,b.V])),b=b.za;return a};
function of(a,b,c,d){a=new hf(b,a,c);d=pf(d,a);a.va=d;return a}function qf(a,b){this.ya=a;this.Z=b;this.pb=0;this.za=this.zb=this.C=null;this.b=[];this.V=[];this.i=[]}function nf(a){return new qf(dd++,a)}H=qf[A];H.da=function(){return 0==this.pb};H.lg=function(){return null==this.C};ra(H,G("za"));
function rf(a){function b(a){return null!=a?a.ya[r]():"_"}var c=a.ya+"["+a.b[F]("|")+"]",d=a.i.map(function(a){return a.ya})[F]("|"),g=a.V[F]("/"),k=b(a.zb)+"{",k=a.da()?k+g:k+d,k=k+"}"+b(a.C);a.za&&(a=rf(a.za),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=rf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[z]&&(a+=this.i[0][r]());return a});H.Ad=function(){return this.da()?this:this.i[0].Ad()};H.Zf=function(){return this.da()?this:this.i[this.i[z]-1].Zf()};
function sf(a,b){b&&(b.zb=a);a&&(a.za=b)}function jf(a,b){for(var c=b[z],d=0,g=nf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[v](d,d+l);g.b=p.map(function(a){return a.key});g.V=p.map(function(a){return a[w]});d+=l;c-=l;0<c&&(l=nf(g.Z),sf(g,l),g=l)}return k}function tf(a){var b=a[0],c=nf(b.Z);c.pb=b.pb+1;c.i=a;for(b=0;b<a[z];++b)a[b].C=c,0<b&&c.b[u](a[b].b[0]);return c}
function kf(a){var b=a,c=[];do c[u](b),b=b.za;while(b);if(512>=c[z])b=tf(c);else{var d=c[z],g=0,b=nf(a.Z);for(b.pb=a.pb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[v](g,g+a),l=tf(k);l.C=b;b.i[z]&&(b.b[u](k[0].b[0]),sf(b.i[b.i[z]-1],l));b.i[u](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.fd(a);if(this.da()){var c=mf;this.Z.Ra(this.b[b],a)&&(c=c[Ma](this.V[b]));return c}b=this.Z.Ra(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.A=function(a){var b=this.fd(a);return this.Z.Ra(this.b[b],a)?!0:this.da()?!1:this.i[b].A(a)};ka(H,function(a,b){this.Kf(a,-1,b);if(this.lg()){var c=this;1==this.i[z]&&(c=this.i[0],c.C=null);return c}return this});function uf(a){return a.da()?a.b[0]:uf(a.i[0])}H.vd=function(){this.b=[];for(var a=1;a<this.i[z];++a)this.b[u](uf(this.i[a]))};
H.Kf=function(a,b,c){var d=this.fd(a);if(!this.da()){var g=this.Z.Ra(this.b[d],a)?d+1:d;if(this.i[g].Kf(a,g,c))this.vd();else return!1}else if(!this.Z.Ra(this.b[d],a))return!1;if(this.b[z]>d&&this.Z.Ra(this.b[d],a)){if(Hb(c)&&!this.Z.yb()&&this.da()&&(a=this.V[d],c=qc(a,rc,!1,c),0<=c&&kc(a,c),this.V[d][z]))return!1;this.b[E](d,1);this.da()&&this.V[E](d,1)}256>this.b[z]&&!this.lg()&&(this.Uk()||this.ck(b));return!0};
H.Uk=function(){var a=null,b,c,d;if(this.za&&256<this.za.b[z])a=this.za,c=b=0,d=this.b[z]+1;else if(this.zb&&256<this.zb.b[z])a=this.zb,b=this.zb.b[z]-1,c=this.da()?b:b+1,d=0;else return!1;this.b[E](d,0,a.b[b]);a.b[E](b,1);b=this.da()?this.V:this.i;var g=null;this.da()?g=a.V:(g=a.i,g[c].C=this);b[E](d,0,g[c]);g[E](c,1);a.da()||(a.vd(),this.vd());return!0};
H.ck=function(a){var b,c,d;this.za&&511>this.za.b[z]?(b=this.za,d=c=0):this.zb&&(b=this.zb,c=b.b[z],d=b.da()?b.V[z]:b.i[z]);c=[c,0][Ma](this.b);e[A][E][kb](b.b,c);c=null;this.da()?c=this.V:(c=this.i,c[n](function(a){a.C=b}));c=[d,0][Ma](c);e[A][E][kb](b.da()?b.V:b.i,c);sf(this.zb,this.za);b.da()||b.vd();-1!=a&&(this.C.b[E](a,1),this.C.i[E](a,1))};
H.xb=function(a,b,c){var d=this.fd(a);if(this.da()){if(this.Z.Ra(this.b[d],a)){if(c)return this.V[d]=this.Z.yb()?b:[b],this;if(this.Z.yb())throw new P(201);if(this.V[d])return sc(this.V[d],b),this;this.V[d]=[b]}this.b[E](d,0,a);this.V[E](d,0,this.Z.yb()?b:[b]);return 512==this.b[z]?this.Rk():this}d=this.Z.Ra(this.b[d],a)?d+1:d;a=this.i[d].xb(a,b,c);a.da()||1!=a.b[z]||(this.b[E](d,0,a.b[0]),a.i[1].C=this,a.i[0].C=this,this.i[E](d,1,a.i[1]),this.i[E](d,0,a.i[0]));return 512==this.b[z]?this.Qk():this};
H.Rk=function(){var a=nf(this.Z),b=nf(this.Z);b.pb=1;b.b=[this.b[256]];b.i=[this,a];b.C=this.C;this.C=b;a.b=this.b[E](256);a.V=this.V[E](256);a.C=b;sf(a,this.za);sf(this,a);return b};H.Qk=function(){var a=nf(this.Z),b=nf(this.Z);a.C=this.C;a.pb=this.pb+1;a.b=[this.b[256]];a.i=[this,b];this.b[E](256,1);b.C=a;b.pb=this.pb;b.b=this.b[E](256);b.i=this.i[E](257);b.i[n](function(a){a.C=b});this.C=a;sf(b,this.za);sf(this,b);return a};
H.fd=function(a){for(var b=0,c=this.b[z];b<c;){var d=b+c>>1;this.Z.Oe(this.b[d],a)?b=d+1:c=d}return b};H.Sf=function(a){if(!this.da()){var b=this.fd(a);this.Z.Ra(this.b[b],a)&&b++;return this.i[b].Sf(a)}return this};
H.cb=function(a,b){var c=-1,d=this.b[z]-1,g=this.Z.Ic(),k=J(function(b){for(;b<this.b[z];++b){var k=g.uc(this.b[b],a);if(-1!=c){if(!k){d=b-1;break}}else k&&(c=b)}},this);g.uc(this.b[0],a)?c=0:k(1);if(-1==c)return 0;g.uc(this.b[d],a)||k(c);return d==this.b[z]-1?this.uf(b,this.V[v](c)):d>=c?this.uf(b,this.V[v](c,d+1)):0};H.uf=function(a,b){var c=this.Z.yb()?b:uc(b);a[u][kb](a,c);return c[z]};
function pf(a,b){for(var c=a.map(function(a){var c=new qf(a.id(),b);c.b=a.u()[0];c.V=a.u()[1];return c}),d=0;d<c[z]-1;++d)sf(c[d],c[d+1]);return 1<c[z]?kf(c[0]):c[0]};
function vf(a){if(1==a.h[z])return new wf(a.h[0].qb);a=a.h.map(function(a){return a.qb});return new xf(a)}function wf(a){this.qd=0==a?yf:zf;this.Pe=0==a?function(a){return null!=a?a.reverse():null}:function(a){return a||null};this.zg=0==a?Af:Bf}K(wf,Pd);function zf(a,b){return a>b?1:a<b?-1:0}function yf(a,b){return zf(b,a)}function Bf(a,b){return ce(a,b)}function Af(a,b){return ce(b,a)}H=wf[A];
H.pe=function(a,b){var c=this.Pe(b),d=[null===c.f,null===c.w];if(!d[0]){var g=this.qd(a,c.f);d[0]=c.ba?1==g:-1!=g}d[1]||(g=this.qd(a,c.w),d[1]=c.ea?-1==g:1!=g);return d};H.compare=function(a,b){return this.qd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.uc=function(a,b){var c=this.pe(a,b);return c[0]&&c[1]};H.we=function(){return be()};H.yg=function(a,b){return this.zg(a,b)};
H.Tg=function(a){return a[Ga](function(a){return null!==a})[zb](J(function(a,c){return this.zg(a,c)},this))};H.Je=function(a){return Lb(this.Pe(a).f)};H.Td=function(a){a=this.Pe(a);return[a.f,a.w]};f(H,function(){return this.qd==yf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function xf(a){this.Ba=a.map(function(a){return new wf(a)})}K(xf,Pd);H=xf[A];H.ve=function(a,b,c){for(var d=0,g=0;g<this.Ba[z]&&0==d;++g)d=c(this.Ba[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.ve(a,b,function(a,b,g){return a[Xa](b,g)})};H.min=function(a,b){return this.ve(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.ve(a,b,function(a,b,g){return a.max(b,g)})};H.pe=function(a,b){for(var c=[!0,!0],d=0;d<this.Ba[z]&&(c[0]||c[1]);++d){var g=this.Ba[d].pe(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.uc=function(a,b){for(var c=!0,d=0;d<this.Ba[z]&&c;++d)c=this.Ba[d].uc(a[d],b[d]);return c};H.we=function(){return this.Ba.map(function(a){return a.we()})};
H.Tg=function(a){var b=a[Ga](function(a){return a[Ab](Mb)});a=e(this.Ba[z]);for(var c=0;c<a[z];c++)a[c]=b.map(function(a){return a[c]});a[n](function(a,b){a[zb](J(function(a,c){return this.Ba[b].yg(a,c)},this))},this);b=e(b[z]);for(c=0;c<b[z];c++)b[c]=a.map(function(a){return a[c]});return b[zb](J(function(a,b){for(var c=0,l=0;l<this.Ba[z]&&0==c;++l)c=this.Ba[l].yg(a[l],b[l]);return c},this))};H.Je=function(a){return this.Ba[0].Je(a[0])};
H.Td=function(a){var b=a.map(function(a,b){return this.Ba[b].Td(a)[0]},this);a=a.map(function(a,b){return this.Ba[b].Td(a)[1]},this);return[b,a]};
function Cf(a){this.sa=a;this.Va=new O}H=Cf[A];ja(H,function(){return this.sa[h]()});H.add=function(a,b){if(null===a){if(this.yb()&&!this.Va.Fa())throw new P(201);this.Va.add(b)}else this.sa.add(a,b)};H.set=function(a,b){null===a?(this.Va[Ra](),this.Va.add(b)):this.sa.set(a,b)};ka(H,function(a,b){null===a?b?this.Va[m](b):this.Va[Ra]():this.sa[m](a,b)});H.get=function(a){return null===a?this.Va.c():this.sa.get(a)};H.sd=function(a){return this.sa.sd(a)};
H.cb=function(a,b,c,d){b=this.sa.cb(a,b,c,d);return null!=a?b:b[Ma](this.Va.c())};na(H,function(){this.Va[Ra]();this.sa[Ra]()});H.A=function(a){return null===a?!this.Va.Fa():this.sa.A(a)};H.min=function(){return this.sa.min()};H.max=function(){return this.sa.max()};H.Ia=function(){return[new cd(-2,this.Va.c())][Ma](this.sa.Ia())};H.Ic=function(){return this.sa.Ic()};H.yb=function(){return this.sa.yb()};
function Df(a){this.B=a;this.Ab=new df;this.M=new wf(1)}H=Df[A];ja(H,G("B"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.Ab.add(a)};H.set=function(a,b){this.add(a,b)};ka(H,function(a){this.Ab[sb](a)});H.get=function(a){return this.A(a)?[a]:[]};H.min=function(){return this.$c(J(this.M.min,this.M))};H.max=function(){return this.$c(J(this.M.max,this.M))};
H.$c=function(a){if(0==this.Ab[Za])return[null,null];var b=ef(this.Ab)[mb](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.sd=function(){return this.Ab[Za]};H.cb=function(a,b,c,d){var g=a||[be()];a=ef(this.Ab)[Ga](function(a){return g[yb](function(b){return this.M.uc(a,b)},this)},this);return gf(a,b,c,d)};na(H,function(){this.Ab[Ra]()});H.A=function(a){return this.Ab.has(a)};H.Ia=function(){return[new cd(0,ef(this.Ab))]};H.Ic=G("M");
function Ef(a,b){var c=new Df(a);b[0].u()[n](function(a){c.add(a,a)});return c}H.yb=Fb(!0);
function Ff(a){this.m=a;this.Cb=a.o(yd);this.I=a.o(Ad);this.qa=a.o(zd)}H=Ff[A];H.Ea=function(a){var b=a.$a(),c=J(function(){if(0==b[z])return Sc();var a=b[Ja]();return(a.$b()?this.Hi(a):this.Ii(a))[B](c)},this);return c()};H.Ii=function(a){var b=new Zd(this.m,[a]);return this.Cb.Nb(0,b).S(a[h](),J(a.oc,a)).get([])[B](J(function(b){this.qa.set(a[h](),b);this.wk(a,b)},this))};H.wk=function(a,b){var c=this.I.wj(a[h]());b[n](function(a){c[n](function(b){var c=a.Tb(b[h]());b.add(c,a.id())})})};
H.Hi=function(a){var b=new Zd(this.m,[a]),c=this.Cb.Nb(0,b),b=c.S(a[h](),a.oc).get([])[B](J(function(b){this.qa.set(a[h](),b)},this)),d=a.Da().map(function(a){return this.xk(a,c)},this)[Ma](this.yk(a,c));return Wc(d[Ma](b))};
H.xk=function(a,b){var c=b.S(a.l(),ed,1),d=vf(a);return c.get([])[B](J(function(b){L("btree"==b[0].u().type);if(1<b[z]){if(a.dg()){var c=of[q](void 0,d,a.l(),a.Yc),l=b[v](1),p=-1;for(b=0;b<l[z];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new P(102);b=l[p].u();l=l[v](0);l[E](p,1);c=c(l);c=new Cf(c);c.Va[nb](b)}else c=of(d,a.l(),a.Yc,b[v](1));this.I.set(c)}},this))};
H.yk=function(a,b){return b.S(a.Qb(),ed,1).get([])[B](J(function(b){L("rowid"==b[0].u().type);1<b[z]&&(b=Ef(a.Qb(),b[v](1)),this.I.set(b))},this))};


function Gf(){this.U=new N}Gf[A].Ea=function(a){a.$a()[n](function(a){var c=a.Qb();if(null===this.get(c)){var d=new Df(c);this.U.set(c,d)}a.Da()[n](function(a){this.U.set(a.l(),Hf(a))},this)},this);return Sc()};function Hf(a){var b=vf(a),b=new hf(a.l(),b,a.Yc);return a.dg()?new Cf(b):b}Gf[A].get=function(a){return this.U.get(a,null)};Gf[A].set=function(a){return this.U.set(a[h](),a)};Gf[A].wj=function(a){var b=[],c=a+".";this.U.H()[n](function(a){0==a[qb](c)&&b[u](this.U.get(a))},this);return b};
function If(a){this.fb=[];Hb(a)&&this.add(a)}H=If[A];f(H,function(){return this.fb.map(function(a){return a[r]()})[F](",")});H.A=function(a){return this.fb[yb](function(b){return b[jb](a)})};H.c=G("fb");
H.add=function(a){if(0!=a[z])if(a=this.fb[Ma](a),1==a[z])this.fb=a;else{a[zb](ce);for(var b=[],c=a[0],d=1;d<a[z];++d)if(c.Ag(a[d])){var g=a[d],k=be();if(null!==c.f&&null!==g.f){var l=ae(c.f,g.f,!0);1!=l?(k.f=c.f,k.ba=0!=l?c.ba:c.ba&&g.ba):(k.f=g.f,k.ba=g.ba)}null!==c.w&&null!==g.w&&(l=ae(c.w,g.w,!1),-1!=l?(k.w=c.w,k.ea=0!=l?c.ea:c.ea&&g.ea):(k.w=g.w,k.ea=g.ea));c=k}else b[u](c),c=a[d];b[u](c);this.fb=b}};
H.Mc=function(a){return this.fb[z]==a.fb[z]?0==this.fb[z]||this.fb[Ab](function(b,c){return b.Mc(a.fb[c])}):!1};function Jf(a,b){var c=[];a.c().map(function(a){return b.c().map(function(b){var c;if(a.Ag(b)){c=be();var l=ae(a.f,b.f,!0),l=0==l?a.ba?a:b:-1!=l?a:b;c.f=l.f;c.ba=l.ba;null===a.w||null===b.w?b=null===a.w?b:a:(l=ae(a.w,b.w,!1),b=0==l?a.ea?a:b:-1==l?a:b);c.w=b.w;c.ea=b.ea}else c=null;return c})})[n](function(a){c=c[Ma](a)});return new If(c[Ga](function(a){return null!==a}))};
function Kf(a,b){var c=[],d=null,g=null;a.zc(function(a){var l=b(a);null==a[Ia]()?g=l:d.ia(l);var p=a[Ia]();null!==p&&p.xa()==d.xa()&&(p=c[qb](d),-1!=p&&c[E](p,1));1<a.xa()&&c[u](l);d=a.ig()?c[c[z]-1]:l});return g}function Lf(a){return Mf(a,function(a){return a.ig()})}function Nf(a){var b=a[Ia](),c=0;null!==b&&(c=b.N()[qb](a),b[ub](a));var d=a.N()[v]();d[n](function(d,k){a[ub](d);null===b||b.Cc(d,c+k)});return{parent:b,children:d}}
function Of(a,b){a.N()[v]()[n](function(c){a[ub](c);b.ia(c)});a.ia(b)}function Pf(a){L(1==a.xa());var b=a.tb(0);L(1==b.xa());Nf(a);Of(b,a);return b}function Qf(a,b,c){L(1==a.xa());var d=a.tb(0);L(1<d.xa());var g=d.N()[v]();if(!g[yb](function(a){return b(a)}))return a;Nf(a);g[n](function(g,l){if(b(g)){var p=c(a);d.Ud(l);p.ia(g);d.Cc(p,l)}});return d}function Rf(a,b,c,d){var g=a[Ia]();null!==g&&(a=g.N()[qb](a),g.Ud(a),g.Cc(c,a));b.N()[v]()[n](function(a){b[ub](a);d.ia(a)});return c}
function Mf(a,b,c){function d(a){b(a)&&g[u](a);null!=c&&c(a)||a.N()[n](d)}var g=[];d(a);return g}function Sf(a,b){var c=b||function(a){return a[r]()+"\n"},d="";a.zc(function(a){for(var b=0;b<a.fj();b++)d+="-";d+=c(a)});return d};

function Tf(a){we[D](this);this.Wb=a;this.eb=!1}K(Tf,we);H=Tf[A];H.Mb=function(){return Kf(this,function(a){if(a instanceof Tf){var b=new Tf(a.Wb);b.eb=a.eb;b.df(a.ka());return b}return a.Mb()}[q](this))};H.nb=function(a){var b=a||[];this.zc(function(a){a!=this&&a.nb(b)}[q](this));return(new O(b)).c()};H.Xd=function(a){this.eb!=a&&(this.eb=a,this.Wb="and"==this.Wb?"or":"and",this.N()[n](function(b){return b.Xd(a)}))};H.eval=function(a){var b=this.N().map(function(b){return b.eval(a)});return this.Xh(b)};
H.Xh=function(a){return"and"==this.Wb?he(a):ie(a)};f(H,function(){return"combined_pred_"+this.Wb[r]()});function Uf(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function Vf(){this[Ra]()}var Wf=ba[A][Va],Xf=ba[A][cb];H=Vf[A];H.set=function(a,b){this.jd(a);var c=!this.Xc(a);this.g[a]=b;if("__proto__"==a||!Yf&&!Wf[D](this.g,a)){delete this.g[a];var d=ec(this.Kb,a);if(c=0>d)d=this.Kb[z];this.Kb[d]=a;this.Vd[d]=b}c&&this.aa++};H.get=function(a,b){this.jd(a);if(this.Xc(a))return this.g[a];var c=ec(this.Kb,a);return 0<=c?this.Vd[c]:b};
ka(H,function(a){this.jd(a);if(this.Xc(a))return this.aa--,delete this.g[a],!0;a=ec(this.Kb,a);return 0<=a?(this.aa--,kc(this.Kb,a),kc(this.Vd,a),!0):!1});H.addAll=function(a){fc(a.H(),function(b){this.set(b,a.get(b))},this)};H.Fa=function(){return!this.aa};H.ra=G("aa");H.A=function(a){this.jd(a);return this.Xc(a)||0<=ec(this.Kb,a)};H.rd=function(a){return wc(this.g,function(b,c){return this.Xc(c)&&Uf(b,a)},this)||0<=ec(this.Vd,a)};
H.H=function(){var a;if(Zf)a=mc(ba.keys(this.g));else{a=[];for(var b in this.g)Xf[D](this.g,b)&&a[u](b)}nc(a,this.Kb);return a};H.c=function(){for(var a=[],b=this.H(),c=0;c<b[z];c++)a[u](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.H(),c=0;c<b[z];c++){var d=b[c];a[u]([d,this.get(d)])}return a};na(H,function(){this.g=Yf?ba[Wa](null):{};this.Kb=[];this.Vd=[];this.aa=0});ta(H,function(){var a=new Vf;a[nb](this);return a});
H.Xc=function(a){return"__proto__"==a?!1:Yf?a in this.g:Xf[D](this.g,a)};H.jd=function(a){L(Ob(a),"key must be a string.")};var Yf=!!ba[Wa],Zf=!!ba.keys;function $f(){this[Ra]()}H=$f[A];H.aa=0;na(H,function(){this.aa=0;this.g=new Vf});ta(H,function(){var a=new $f;a.hh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[u](b);this.aa++};H.hh=function(a){fc(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?mc(a):[]};ka(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=lc(c,function(a){return Uf(b,a)});d&&(this.aa--,0==c[z]&&this.g[m](a));return d});H.Fa=function(){return!this.aa};
H.ra=G("aa");H.A=function(a){return this.g.A(a)};H.rd=function(a){return ic(this.g.c(),function(b){return ic(b,function(b){return Uf(b,a)})})};H.H=function(){return this.g.H()};H.c=function(){return uc(this.g.c())};H.getEntries=function(){for(var a=this.H(),b=[],c=0;c<a[z];c++)for(var d=a[c],g=this.get(d),k=0;k<g[z];k++)b[u]([d,g[k]]);return b};
function ag(a,b,c){we[D](this);this.Ua=a;this.Ya=b;this.X=c;this.ud=oe.ze().ye(this.Ua.$(),this.X)}K(ag,we);H=ag[A];H.Mb=function(){var a=new ag(this.Ua,this.Ya,this.X);a.df(this.ka());return a};H.nb=function(a){return null!=a?(a[u](this.Ua),a[u](this.Ya),a):[this.Ua,this.Ya]};H.eval=function(a){var b=a[C][Ga](function(a){var b=a.O(this.Ua);a=a.O(this.Ya);return this.ud(b,a)},this);return new de(b,a.Y())};f(H,function(){return"join_pred("+this.Ua.l()+", "+this.Ya.l()+")"});
H.vf=function(a){return-1!=a.Y()[qb](this.Ua.S().Ca())};H.oh=function(a){return-1!=a.Y()[qb](this.Ya.S().Ca())};H.mi=function(a,b){var c=null,d=null;this.vf(a)?(this.xf(a,b),c=a,d=b):(this.xf(b,a),c=b,d=a);return[c,d]};H.xf=function(a,b){L(this.vf(a),"Mismatch between join predicate left operand and right relation.");L(this.oh(b),"Mismatch between join predicate right operand and right relation.")};
H.ui=function(a,b,c){var d=[a,b];c||(d=this.mi(a,b));a=d[0];d=d[1];return"eq"==this.X?this.vi(a,d):this.wi(a,d,c)};H.ei=function(a){var b={};a.nb()[n](function(a){b[a[h]()]=null});return b};
H.wi=function(a,b,c){for(var d=[],g=null,k=a.Y(),l=b.Y(),p=0;p<a[C][z];p++){for(var y=!1,wa=0;wa<b[C][z];wa++)if(this.ud(a[C][p].O(this.Ua),b[C][wa].O(this.Ya))){var y=!0,Sb=me(a[C][p],k,b[C][wa],l);d[u](Sb)}c&&!y&&(null===g&&(g=this.ei(this.Ya.S())),y=new ke(new cd(-1,g),!1),Sb=me(a[C][p],k,y,l),d[u](Sb))}a=a.Y()[Ma](b.Y());return new de(d,a)};
H.vi=function(a,b){var c=a,d=b,g=this.Ua,k=this.Ya;a[C][z]>b[C][z]&&(c=b,d=a,g=this.Ya,k=this.Ua);var l=new $f,p=[];c[C][n](function(a){var b=ha(a.O(g));l.add(b,a)});var y=c.Y(),wa=d.Y();d[C][n](function(a){var b=ha(a.O(k));l.A(b)&&l.get(b)[n](function(b){b=me(a,wa,b,y);p[u](b)})});c=a.Y()[Ma](b.Y());return new de(p,c)};
function bg(a,b,c){return null===b?new ye(a,b,c):Hb(b.l)?new ag(a,b,c):new ye(a,b,c)};
var cg={};I("lf.schema.DataStoreType",cg,void 0);cg.INDEXED_DB=0;cg.MEMORY=1;cg.LOCAL_STORAGE=2;cg.FIREBASE=3;cg.WEB_SQL=4;cg.OBSERVABLE_STORE=5;function dg(a,b,c,d){this.ff=a;Ba(this,b);this.Yc=c;this.h=d}dg[A].l=function(){return this.ff+"."+this[x]};dg[A].dg=function(){return this.h[yb](function(a){return a.ma.vc()})};function eg(a,b,c,d){this.B=a;this.ta=c;this.G=b;this.Pd=d;this.kb=null}I("lf.schema.Table",eg,void 0);ja(eg[A],G("B"));eg[A].bb=G("kb");eg[A].Ca=function(){return this.kb||this.B};
eg[A].Ec=function(a){var b=new this.constructor(this.B);b.kb=a;b.Ye=this.Ye;return b};eg[A].as=eg[A].Ec;eg[A].rj=G("Ye");eg[A].Lk=Eb("Ye");eg[A].createRow=eg[A].Eb;eg[A].deserializeRow=eg[A].oc;eg[A].Da=G("ta");eg[A].nb=G("G");eg[A].getConstraint=eg[A].Fb;eg[A].$b=G("Pd");eg[A].Qb=function(){return this.B+".#"};
function T(a,b){ua(this,a);this.hc=b;this.kb=null}H=T[A];ja(H,function(){return this.hc+"("+this[hb][h]()+")"});H.l=function(){return this.hc+"("+this[hb].l()+")"};H.S=function(){return this[hb].S()};f(H,function(){return this.l()});H.$=function(){return this[hb].$()};H.bb=G("kb");H.Da=function(){return[]};H.vc=Fb(!1);H.Ec=function(a){this.kb=a;return this};T[A].as=T[A].Ec;T[A].Rf=function(){for(var a=[this],b=this;b instanceof T;)a[u](b[hb]),b=b[hb];return a};
function fg(a){this.kb=a||null;this.L=new eg("#UnknownTable",[],[],!1)}H=fg[A];ja(H,Fb("*"));H.l=function(){return this[h]()};f(H,function(){return this.l()});H.S=G("L");H.$=Fb(4);H.bb=G("kb");H.Da=function(){return[]};H.vc=Fb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new fg,"COUNT")},void 0);function gg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",gg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){ue[D](this,"","");this.Ei=b;this.wg=a}K(U,ue);H=U[A];ia(H,function(a,b){switch(this.Ei){case 1:return this.zi(a,b);case 0:return this.yi(a,b);default:return this.Bi(a,b)}});f(H,Fb("dummy_node"));H.gd=function(){return this[r]()};H.wf=function(a){L(-1==this.wg||a[z]==this.wg)};H.Bi=function(a,b){return new M(J(function(c){c(this.ja(a,[],b))},this))};H.zi=function(a,b){return this.tb(0)[Ka](a,b)[B](J(function(c){this.wf(c);return this.ja(a,c,b)},this))};
H.yi=function(a,b){var c=this.N().map(function(c){return c[Ka](a,b)});return Wc(c)[B](J(function(c){var g=[];c[n](function(a){for(var b=0;b<a[z];++b)g[u](a[b])});this.wf(g);return this.ja(a,g,b)},this))};
function hg(a){U[D](this,-1,1);this.sf=a}K(hg,U);f(hg[A],function(){return"aggregation("+this.sf.map(function(a){return a.l()})[r]()+")"});hg[A].ja=function(a,b){b[n](function(a){(new ig(a,this.sf)).Bh()},this);return b};function ig(a,b){this.Ha=a;this.G=b}
ig[A].Bh=function(){this.G[n](function(a){a=a.Rf().reverse();for(var b=1;b<a[z];b++){var c=a[b],d=c.Rf()[v](-1)[0],g=this.ij(c),k=null;switch(c.hc){case "MIN":k=jg(g,d);break;case "MAX":k=kg(g,d);break;case "DISTINCT":k=lg(g,d);break;case "COUNT":k=g[C][z];break;case "SUM":k=mg(g,d);break;case "AVG":0<g[C][z]&&(k=mg(g,d)/g[C][z]);break;case "GEOMEAN":k=ng(g,d);break;default:k=og(g,d)}this.Ha.Hk(c,k)}},this)};ig[A].ij=function(a){return a[hb]instanceof T?this.Ha.sc(a[hb]):this.Ha};
function jg(a,b){var c=null;a[C][n](function(a){a=a.O(b);if(null===c||a<c)c=a});return c}function kg(a,b){var c=null;a[C][n](function(a){a=a.O(b);if(null===c||a>c)c=a});return c}function mg(a,b){return a[C][mb](function(a,d){return a+d.O(b)},0)}function og(a,b){var c=a[C].map(function(a){return a.O(b)});return pd[kb](null,c)}function ng(a,b){var c=0,d=a[C][mb](function(a,d){var l=d.O(b);return 0!=l?(c++,a+ea.log(l)):a},0);return 0==c?null:ea.pow(ea.E,d/c)}
function lg(a,b){var c=new N;a[C][n](function(a){var g=a.O(b);c.set(g,a)});return new de(c.c(),a.Y())};
function pg(a,b){this.Aa=a;this.pa=b}pg[A].ob=G("Aa");pg[A].fa=G("pa");function V(){ue[D](this,"","")}K(V,ue);function qg(a,b){V[D](this);pa(this,a);ma(this,b)}K(qg,V);function rg(a,b){qg[D](this,a,b)}K(rg,qg);function sg(a){V[D](this);pa(this,a)}K(sg,V);f(sg[A],function(){return"delete("+this[t][h]()+")"});function tg(a,b){V[D](this);pa(this,a);this.lf=b}K(tg,V);f(tg[A],function(){var a=[];this.lf&&(a=this.lf.map(function(a){return a.J[h]()},this));return"update("+this[t][h]()+", ["+a[F](",")+"])"});
function ug(a){V[D](this);this.Ga=a}K(ug,V);f(ug[A],function(){return"select("+this.Ga[r]()+")"});function vg(a){V[D](this);pa(this,a)}K(vg,V);f(vg[A],function(){var a="table_access("+this[t][h]();null===this[t].bb()||(a+=" as "+this[t].bb());return a+")"});function wg(){V[D](this)}K(wg,V);f(wg[A],Fb("cross_product"));function xg(a,b){V[D](this);this.h=a;this.Rb=b}K(xg,V);
f(xg[A],function(){var a="project("+this.h[r]();if(null!==this.Rb)var b=this.Rb.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});function yg(a){V[D](this);this.K=a}K(yg,V);f(yg[A],function(){return"order_by("+Ce(this.K)+")"});function zg(a){V[D](this);this.h=a}K(zg,V);f(zg[A],function(){return"aggregation("+this.h[r]()+")"});function Ag(a){V[D](this);this.h=a}K(Ag,V);f(Ag[A],function(){return"group_by("+this.h[r]()+")"});function Bg(a){V[D](this);this.oa=a}K(Bg,V);
f(Bg[A],function(){return"limit("+this.oa+")"});function Cg(a){V[D](this);this.na=a}K(Cg,V);f(Cg[A],function(){return"skip("+this.na+")"});function Dg(a){V[D](this);this.Ga=a}K(Dg,V);f(Dg[A],function(){return"join("+this.Ga[r]()+")"});
function Eg(){};
function Fg(){}K(Fg,Eg);Fg[A].Ib=function(a){this.ha=a;this.ab(this.ha);return this.ha};Fg[A].ab=function(a){if(a instanceof ug){L(1==a.xa(),"SelectNode must have exactly one child.");var b=this.zf(a.Ga),b=this.gi(b);Rf(a,a,b[0],b[1]);a==this.ha&&(this.ha=b[0]);a=b[0]}a.N()[n](function(a){this.ab(a)},this)};Fg[A].zf=function(a){if(0==a.xa()||"and"!=a.Wb)return[a];var b=a.N()[v]().map(function(b){a[ub](b);return this.zf(b)},this);return uc(b)};
Fg[A].gi=function(a){var b=null,c=null;a.map(function(a,g){var k=new ug(a);0==g?b=k:c.ia(k);c=k},this);return[b,c]};
function Gg(){}K(Gg,Eg);Gg[A].Ib=function(a){this.ha=a;this.ab(this.ha);return this.ha};Gg[A].ab=function(a){if(a instanceof wg)for(;2<a.xa();){for(var b=new wg,c=0;2>c;c++){var d=a.Ud(0);b.ia(d)}a.Cc(b,0)}a.N()[n](function(a){this.ab(a)},this)};
function Hg(){U[D](this,2,0)}K(Hg,U);f(Hg[A],Fb("cross_product"));Hg[A].ja=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.Y(),l=d.Y(),p=0;p<c[C][z];p++)for(var y=0;y<d[C][z];y++){var wa=me(c[C][p],k,d[C][y],l);g[u](wa)}c=c.Y()[Ma](d.Y());return[new de(g,c)]};

function Ig(a,b){Fe[D](this,a,b);this.Za=a.o(Cd);this.Gb=a.o(Dd)}K(Ig,Fe);ya(Ig[A],Fb(2));Ig[A].Se=function(a){0==this.$()?this.ek(a):this.ed()};Ig[A].ek=function(a){this.Sd[n](function(b,c){b instanceof Be&&this.Gb.bh(b,a[c])},this)};Ig[A].ed=function(){var a=this.Gb.Fe(this.fa().c());0!=a[z]&&(a=new Ge(this[Ua],a),this.Za.cc(a))};
function Jg(a){ze[D](this,a)}K(Jg,ze);Jg[A].fa=function(){var a=new O([this.f]);a[nb](this.te(a));return a};ta(Jg[A],function(){var a=new Jg(this.ma);a.pd(this);a.f=this.f;return a});oa(Jg[A],function(a){Jg.hb[q][D](this,a);this.he(a);return this});
function Kg(a){ze[D](this,a)}K(Kg,ze);Kg[A].fa=function(){var a=new O([this.Sa]);a[nb](this.Nf(a));this.ic&&a[nb](this.te(a));return a};ta(Kg[A],function(){var a=new Kg(this.ma);a.pd(this);a.Sa=this.Sa;this[Qa]&&ma(a,this[Qa]instanceof ne?this[Qa]:this[Qa][v]());a.ic=this.ic;a.jc=this.jc;return a});oa(Kg[A],function(a){Kg.hb[q][D](this,a);this.jc&&ma(this,this.jc instanceof ne?a[this.jc.ub()]:this.jc.map(function(b){return b instanceof ne?a[b.ub()]:b}));return this});
function Lg(a){ze[D](this,a)}K(Lg,ze);Lg[A].fa=function(){var a=new O([this[t]]),b=new O;this.set[n](function(a){b.add(a.J)},this);a[nb](this.Nf(a,b));a[nb](this.te(a,b));return a};ta(Lg[A],function(){var a=new Lg(this.ma);a.pd(this);pa(a,this[t]);a.set=this.set?this.set[v]():this.set;return a});oa(Lg[A],function(a){Lg.hb[q][D](this,a);this.set[n](function(b){-1!=b.kd&&xa(b,a[b.kd])});this.he(a);return this});
function Mg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+gd(b)+"'";default:return"'"+b[r]()+"'"}}function Ng(a,b){var c=a.ic?"INSERT OR REPLACE":"INSERT",d=a.Sa.nb(),c=c+(" INTO "+a.Sa[h]()+"("),c=c+d.map(function(a){return a[h]()})[F](", "),c=c+") VALUES (";return a[Qa].map(function(a){var k=d.map(function(c){var d=a.u()[c[h]()];return b?null!=d?"#":"NULL":Mg(c.$(),d)});return c+k[F](", ")+");"})[F]("\n")}
function Og(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Pg(a,b,c,d){return a instanceof ne?"?"+a.ub()[r]():d?null!=a?"#":"NULL":"match"==b?"'"+a[r]()+"'":"in"==b?"("+a.map(function(a){return Mg(c,a)})[F](", ")+")":"between"==b?Mg(c,a[0])+" AND "+Mg(c,a[1]):Mg(c,a)[r]()}
function Qg(a,b){return a.N().map(function(a){return"("+Rg(a,b)+")"})[F]("and"==a.Wb?" AND ":" OR ")}function Rg(a,b){if(a instanceof ye)return[a.J.l(),Og(a.X),Pg(a[w],a.X,a.J.$(),b)][F](" ");if(a instanceof Tf)return Qg(a,b);if(a instanceof ag)return[a.Ua.l(),Og(a.X),a.Ya.l()][F](" ");throw new P(357,typeof a);}function Sg(a,b){var c=Rg(a,b);return c?" WHERE "+c:""}
function Tg(a,b){var c="UPDATE "+a[t][h]()+" SET ",c=c+a.set.map(function(a){var b=a.J.l()+" = ";return-1!=a.kd?b+"?"+a.kd[r]():b+Mg(a.J.$(),a[w])[r]()})[F](", ");a.D&&(c+=Sg(a.D,b));return c+";"}
function Ug(a,b){var c="*";a.h[z]&&(c=a.h.map(function(a){return a.bb()?a.l()+" AS "+a.bb():a.l()})[F](", "));var d=a.f.map(function(a){return a.Ca()!=a[h]()?a[h]()+" AS "+a.Ca():a[h]()})[F](", "),c="SELECT "+c+" FROM "+d;a.D&&(c+=Sg(a.D,b));a.K&&(d=a.K.map(function(a){return a.J.l()+(0==a.qb?" DESC":" ASC")})[F](", "),c+=" ORDER BY "+d);a.la&&(d=a.la.map(function(a){return a.l()})[F](", "),c+=" GROUP BY "+d);a.oa&&(c+=" LIMIT "+a.oa[r]());a.na&&(c+=" SKIP "+a.na[r]());return c+";"}
function Vg(a,b){var c=b||!1,d=a.Yf();if(d instanceof Kg)return Ng(d,c);if(d instanceof Jg){var g="DELETE FROM "+d.f[h]();d.D&&(g+=Sg(d.D,c));return g+";"}if(d instanceof Lg)return Tg(d,c);if(d instanceof Be)return Ug(d,c);throw new P(358,typeof d);};
function Wg(a,b){this.global=a;this.uk=a.o(Bd);this.Za=a.o(Cd);this.a=b}I("lf.query.BaseBuilder",Wg,void 0);ia(Wg[A],function(){try{this.lb()}catch(a){return Tc(a)}return new M(function(a,c){var d=new Ig(this[Ua],[this.Vc()]);this.Za.cc(d)[B](function(c){a(c[0].Ae())},c)},this)});ia(Wg[A],Wg[A][Ka]);Wg[A].Of=function(){var a=J(function(a){return a.gd(this.a)+"\n"},this);return Sf(this.Be().ob(),a)};Wg[A].explain=Wg[A].Of;oa(Wg[A],function(a){this.a[q](a);return this});oa(Wg[A],Wg[A][q]);
Wg[A].Xk=function(a){return Vg(this,a)};Wg[A].toSql=Wg[A].Xk;H=Wg[A];H.lb=Db();H.Yf=function(){return this.a.clone()};H.Bd=G("a");H.Be=function(){null==this.Bg&&(this.Bg=this.uk.oj(this.a));return this.Bg};H.Vc=function(){return{context:this.Yf(),Ve:this.Be()}};H.mj=function(){return{context:this.Bd(),Ve:this.Be()}};
function Xg(a){Wg[D](this,a,new Jg(a.o(Ed)))}K(Xg,Wg);I("lf.query.DeleteBuilder",Xg,void 0);Xg[A].f=function(a){this.sh();this.a.f=a;return this};Xg[A].from=Xg[A].f;Xg[A].D=function(a){this.ge();this.a.D=a;return this};Xg[A].where=Xg[A].D;Xg[A].sh=function(){if(null!=this.a.f)throw new P(515);};Xg[A].ge=function(){if(null!=this.a.D)throw new P(516);};Xg[A].lb=function(){Xg.hb.lb[D](this);if(null==this.a.f)throw new P(517);};
function Yg(a,b){Wg[D](this,a,new Kg(a.o(Ed)));this.a.ic=b||!1}K(Yg,Wg);I("lf.query.InsertBuilder",Yg,void 0);Yg[A].lb=function(){Yg.hb.lb[D](this);var a=this.a;if(null==a.Sa||null==a[Qa])throw new P(518);if(a.ic&&null===a.Sa.Fb().Ce())throw new P(519);};Yg[A].Sa=function(a){this.th();this.a.Sa=a;return this};Yg[A].into=Yg[A].Sa;ma(Yg[A],function(a){this.uh();a instanceof ne||a[yb](function(a){return a instanceof ne})?this.a.jc=a:ma(this.a,a);return this});ma(Yg[A],Yg[A][Qa]);
Yg[A].th=function(){if(null!=this.a.Sa)throw new P(520);};Yg[A].uh=function(){if(null!=this.a[Qa])throw new P(521);};
function Zg(a){return $g("and",e[A][v][D](arguments))}I("lf.op.and",Zg,void 0);I("lf.op.or",function(a){return $g("or",e[A][v][D](arguments))},void 0);function $g(a,b){var c=new Tf(a);b[n](function(a){c.ia(a)});return c}I("lf.op.not",function(a){a.Xd(!0);return a},void 0);
function W(a,b){Wg[D](this,a,new Be(a.o(Ed)));this.Qf=this.fh=!1;this.a.h=b;this.Jh();this.Hh()}K(W,Wg);I("lf.query.SelectBuilder",W,void 0);H=W[A];H.lb=function(){W.hb.lb[D](this);var a=this.a;if(null==a.f)throw new P(522);if(Hb(a.Ub)&&!Hb(a.oa)||Hb(a.fc)&&!Hb(a.na))throw new P(523);this.Sh()};H.Jh=function(){var a=this.a.h[Ga](function(a){return a instanceof T&&"DISTINCT"==a.hc},this);if(0!=a[z]&&(1!=a[z]||1!=this.a.h[z]))throw new P(524);};H.Sh=function(){null!=this.a.la?this.Nh():this.Rh()};
H.Nh=function(){var a=this.a.h[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.la[z]||0==this.a.h[z])b=!0;else{var c=this.a.la.map(function(a){return a.l()});(b=a[yb](function(a){return-1==c[qb](a)}))||(b=this.a.la[yb](function(a){a=a.$();return 6==a||0==a}))}if(b)throw new P(525);};
H.Rh=function(){var a=this.a.h[yb](function(a){return a instanceof T},this),b=this.a.h[yb](function(a){return!(a instanceof T)},this)||0==this.a.h[z];if(a&&b)throw new P(526);};H.Hh=function(){this.a.h[n](function(a){if(a instanceof T&&!ah(a.hc,a.$()))throw new P(527,a.l());},this)};H.f=function(a){if(this.Qf)throw new P(515);this.Qf=!0;null==this.a.f&&(this.a.f=[]);this.a.f[u][kb](this.a.f,e[A][v][D](arguments));return this};W[A].from=W[A].f;
W[A].D=function(a){if(this.fh)throw new P(516);this.fh=!0;this.yf(a);return this};W[A].where=W[A].D;W[A].yf=function(a){null!=this.a.D&&(a=Zg(a,this.a.D));this.a.D=a};W[A].Nj=function(a,b){null==this.a.f&&(this.a.f=[]);this.a.f[u](a);this.yf(b);return this};W[A].innerJoin=W[A].Nj;W[A].Uj=function(){throw new P(360);};W[A].leftOuterJoin=W[A].Uj;W[A].oa=function(a){if(null!=(this.a.oa||this.a.Ub))throw new P(528);if(a instanceof ne)this.a.Ub=a;else{if(0>a)throw new P(531);this.a.oa=a}return this};
W[A].limit=W[A].oa;W[A].na=function(a){if(null!=(this.a.na||this.a.fc))throw new P(529);if(a instanceof ne)this.a.fc=a;else{if(0>a)throw new P(531);this.a.na=a}return this};W[A].skip=W[A].na;W[A].K=function(a,b){null==this.a.K&&(this.a.K=[]);this.a.K[u]({J:a,qb:null!=b?b:1});return this};W[A].orderBy=W[A].K;W[A].la=function(a){if(null!=this.a.la)throw new P(530);null==this.a.la&&(this.a.la=[]);this.a.la[u][kb](this.a.la,e[A][v][D](arguments));return this};W[A].groupBy=W[A].la;
function ah(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}ta(W[A],function(){var a=new W(this[Ua],this.a.h);a.a=this.a.clone();a.a.Hc=null;return a});ta(W[A],W[A].clone);
function bh(a,b){Wg[D](this,a,new Lg(a.o(Ed)));pa(this.a,b)}K(bh,Wg);I("lf.query.UpdateBuilder",bh,void 0);bh[A].set=function(a,b){var c={kd:b instanceof ne?b.ub():-1,J:a,value:b};null!=this.a.set?this.a.set[u](c):this.a.set=[c];return this};bh[A].set=bh[A].set;bh[A].D=function(a){this.ge();this.a.D=a;return this};bh[A].where=bh[A].D;bh[A].ge=function(){if(null!=this.a.D)throw new P(516);};
bh[A].lb=function(){bh.hb.lb[D](this);if(null==this.a.set)throw new P(532);if(this.a.set[yb](function(a){return a[w]instanceof ne}))throw new P(501);};
function ch(a){this.a=a;this.Aa=null}ch[A].rc=function(){null===this.Aa&&(this.Aa=this.wd());return this.Aa};function dh(a){ch[D](this,a)}K(dh,ch);dh[A].wd=function(){return this.a.ic?new rg(this.a.Sa,this.a[Qa]):new qg(this.a.Sa,this.a[Qa])};function eh(a){ch[D](this,a)}K(eh,ch);eh[A].wd=function(){var a=new tg(this.a[t],this.a.set),b=null!=this.a.D?new ug(this.a.D.Mb()):null,c=new vg(this.a[t]);null===b?a.ia(c):(b.ia(c),a.ia(b));return a};
function fh(a,b){this.Aa=a;this.af=b}fh[A].rc=function(){this.af[n](function(a){this.Aa=a.Ib(this.Aa)},this);return this.Aa};
function gh(a){ch[D](this,a)}K(gh,ch);gh[A].wd=function(){var a=new sg(this.a.f),b=null!=this.a.D?new ug(this.a.D.Mb()):null,c=new vg(this.a.f);null===b?a.ia(c):(b.ia(c),a.ia(b));return(new fh(a,[new Fg])).rc()};
function ih(){}K(ih,Eg);ih[A].Ib=function(a){this.ha=a;this.ab(this.ha);return this.ha};ih[A].ab=function(a){if(a instanceof ug&&a.Ga instanceof ag){L(1==a.xa(),"SelectNode must have exactly one child.");var b=a.tb(0);if(b instanceof wg){var c=new Dg(a.Ga);Rf(a,b,c,c);a==this.ha&&(this.ha=c);a=c}}a.N()[n](function(a){this.ab(a)},this)};
function jh(){this.ee=new O}K(jh,Eg);H=jh[A];H.Ib=function(a){this.ha=a;this.ab(this.ha);this.ee[Ra]();return this.ha};H.ab=function(a){if(this.gg(a)){var b=a.Ga instanceof ye?this.sk(a):this.rk(a);this.ee.add(a);b==a&&(b=a.tb(0));null!==b&&(Lb(b[Ia]())&&(this.ha=b),this.gg(b)&&!this.ee[jb](b)&&this.ab(b))}else a.N()[n](function(a){this.ab(a)},this)};
H.Rd=function(a,b){var c=a;if(this.Ok(a))c=Pf(a),this.Rd(a,b);else if(this.Nk(a)){var d=[],c=Qf(a,b,function(a){a=new ug(a.Ga);d[u](a);return a});d[n](function(a){this.Rd(a,b)},this)}return c};H.sk=function(a){var b=new O([a.Ga.J.S().Ca()]),c=function(a){return this.Lf(a,b)}[q](this);return this.Rd(a,c)};H.rk=function(a){var b=new O([a.Ga.Ua.S().Ca(),a.Ga.Ya.S().Ca()]),c=function(a){return this.Lf(a,b)}[q](this);return this.Rd(a,c)};
H.Lf=function(a,b){var c=new O;Lf(a)[n](function(a){c.add(a[t].Ca())},this);a instanceof vg&&c.add(a[t].Ca());return c.ci(b)};H.gg=function(a){return a instanceof ug&&!(a.Ga instanceof Tf)};H.Nk=function(a){a=a.tb(0);return a instanceof wg||a instanceof Dg};H.Ok=function(a){return a.tb(0)instanceof ug};
function kh(a){ch[D](this,a);this.Gg=this.rg=this.Sg=this.xg=this.tf=this.cg=this.Pg=this.If=this.Ug=null}K(kh,ch);H=kh[A];H.wd=function(){this.Xi();var a=this.Zh(),b=[new Fg,new Gg,new jh,new ih];return(new fh(a,b)).rc()};H.Xi=function(){this.cj();this.Si();this.aj();this.Yi();this.bj();this.Wi();this.Ui();this.Ri();this.Zi()};
H.Zh=function(){for(var a=[this.rg,this.Sg,this.Gg,this.xg,this.tf,this.cg,this.Pg,this.If],b=null,c=null,d=0;d<a[z];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ia(g),b=d)}this.Ug[n](function(c){a[b].ia(c)});return c};H.cj=function(){this.Ug=this.a.f.map(function(a){return new vg(a)},this)};H.Si=function(){2<=this.a.f[z]&&(this.If=new wg)};H.aj=function(){this.Pg=null!=this.a.D?new ug(this.a.D.Mb()):null};H.Yi=function(){this.a.K&&(this.xg=new yg(this.a.K))};
H.Wi=function(){null!=this.a.oa&&(this.rg=new Bg(this.a.oa))};H.bj=function(){null!=this.a.na&&0<this.a.na&&(this.Sg=new Cg(this.a.na))};H.Ui=function(){null!=this.a.la&&(this.cg=new Ag(this.a.la))};H.Ri=function(){var a=this.a.h[Ga](function(a){return a instanceof T});null!=this.a.K&&this.a.K[n](function(b){b.J instanceof T&&a[u](b.J)});0<a[z]&&(this.tf=new zg(a))};H.Zi=function(){this.Gg=new xg(this.a.h||[],this.a.la||null)};
function lh(){}lh[A].create=function(a){var b=null;if(a instanceof Kg)b=new dh(a);else if(a instanceof Jg)b=new gh(a);else if(a instanceof Be)b=new kh(a);else if(a instanceof Lg)b=new eh(a);else throw new P(513);b=b.rc();return new pg(b,a.fa())};
function mh(a){U[D](this,1,1);this.L=a}K(mh,U);f(mh[A],function(){return"delete("+this.L[h]()+")"});mh[A].ja=function(a,b){var c=b[0][C].map(function(a){return a.wa});a[m](this.L,c);return[ge()]};
function nh(a){U[D](this,1,1);this.bg=a}K(nh,U);f(nh[A],function(){return"groupBy("+this.bg.map(function(a){return a.l()})[r]()+")"});nh[A].ja=function(a,b){return this.Dh(b[0])};nh[A].Dh=function(a){var b=new $f,c=function(a){return this.bg.map(function(b){return a.O(b)},this)[F](",")}[q](this);a[C][n](function(a){b.add(c(a),a)},this);return b.H().map(function(c){return new de(b.get(c),a.Y())},this)};
function oh(a){L(1<a[z],"Should only be called for cross-column indices.");a=a.map(function(a){return a.c()});a=ud[kb](null,a);var b=[];td(a,function(a){b[u](a)});return b}function ph(a){this.Sb=a}ph[A].zd=function(){return 1==this.Sb.h[z]?[be()]:[this.Sb.h.map(function(){return be()})]};function qh(a,b){this.Sb=a;this.ua=b;this.ne=this.pg=null}
qh[A].Eh=function(a){var b=new N;this.ua.H()[n](function(c){var d=this.ua.get(c).map(function(b){return a.Cd(b)},this),g=new If([be()]);d[n](function(a){a=new If(a.Wk());g=Jf(g,a)});b.set(c,g)},this);return b};qh[A].Ji=function(a){for(var b=this.Sb.h[z]-1;0<=b;b--){var c=this.Sb.h[b];if(null!==a.get(c.ma[h](),null))break;a.set(c.ma[h](),new If([be()]))}};qh[A].zd=function(a){if(this.pg==a)return this.ne;var b=this.Eh(a);this.Ji(b);this.ne=1==this.Sb.h[z]?b.c()[0].c():oh(this.vj(b));this.pg=a;return this.ne};
qh[A].vj=function(a){var b=new N,c=0;this.Sb.h[n](function(a){b.set(a.ma[h](),c);c++});return a.H()[zb](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function rh(a,b){this.Wg=b;this.I=a.o(Ad)}rh[A].Vh=function(a,b){var c=b[Ga](this.Oj,this);if(0==c[z])return null;c=this.Vi(c);if(0==c[z])return null;if(1==c[z])return c[0];var d=Number.MAX_VALUE;return c[mb](function(b,c){var l=c.Ch(a);return l<d?(d=l,c):b},null)};rh[A].Vi=function(a){return this.Wg.Da().map(function(b){b=new sh(this.I,b);b.bi(a);return b},this)[Ga](function(a){return a.Tj()})};rh[A].Oj=function(a){return a instanceof ye&&a.hg()?a.J.S()==this.Wg:!1};
function sh(a,b){this.I=a;this.wb=b;this.eg=new O;this.eg[nb](this.wb.h.map(function(a){return a.ma[h]()}));this.Ne=this.ua=null}H=sh[A];H.pj=function(){return null===this.ua?[]:this.ua.c()};H.Wf=function(){L(this.ua);null===this.Ne&&(this.Ne=new qh(this.wb,this.ua));return this.Ne};H.bi=function(a){a[n](function(a){var c=a.nb()[0][h]();this.eg[jb](c)&&(null===this.ua&&(this.ua=new $f),this.ua.add(c,a.ka()))},this)};
H.Tj=function(){if(null===this.ua)return!1;for(var a=!1,b=!0,c=0;c<this.wb.h[z];c++){var d=this.ua.A(this.wb.h[c].ma[h]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.Ch=function(a){a=this.Wf().zd(a);var b=this.I.get(this.wb.l());return a[mb](function(a,d){return a+b.sd(d)},0)};
function th(a,b,c,d){U[D](this,0,-1);this.I=a.o(Ad);this.index=b;this.ng=c;this.$e=d;this.be=this.ae=!1}K(th,U);f(th[A],function(){return"index_range_scan("+this[$a].l()+", ?, "+(this.$e?"reverse":"natural")+(this.ae?", limit:?":"")+(this.be?", skip:?":"")+")"});th[A].gd=function(a){var b=this[r](),c=this.ng.zd(a),b=b[La]("?",c[r]());this.ae&&(b=b[La]("?",a.oa[r]()));this.be&&(b=b[La]("?",a.na[r]()));return b};
th[A].ja=function(a,b,c){a=this.ng.zd(c);c=this.I.get(this[$a].l()).cb(a,this.$e,this.ae?c.oa:void 0,this.be?c.na:void 0).map(function(a){return new cd(a,{})},this);return[je(c,[this[$a].ff])]};
function uh(a){U[D](this,1,1);this.Qd=a}K(uh,U);f(uh[A],Fb("select(?)"));uh[A].gd=function(a){a=a.Cd(this.Qd);return this[r]()[La]("?",a[r]())};uh[A].ja=function(a,b,c){return[c.Cd(this.Qd).eval(b[0])]};
function vh(a,b){U[D](this,1,1);this.qa=a.o(zd);this.L=b}K(vh,U);f(vh[A],function(){return"table_access_by_row_id("+this.L[h]()+")"});vh[A].ja=function(a,b){return[je(this.qa.get(b[0].uj()),[this.L.Ca()])]};
function wh(a,b){U[D](this,0,-1);this.qa=a.o(zd);this.I=a.o(Ad);pa(this,b)}K(wh,U);f(wh[A],function(){var a="table_access("+this[t][h]();null===this[t].bb()||(a+=" as "+this[t].bb());return a+")"});wh[A].ja=function(){var a=this.I.get(this[t].Qb()).cb();return[je(this.qa.get(a),[this[t].Ca()])]};
function xh(a){this.m=a}K(xh,Eg);xh[A].Ib=function(a,b){this.ha=a;Mf(a,function(a){return a instanceof wh})[n](function(a){var d=this.Pi(a);if(0!=d[z]){var g=(new rh(this.m,a[t])).Vh(b,d.map(function(a){return b.Cd(a.Qd)}));if(null!==g){var k=new N;d[n](function(a){k.set(a.Qd,a)},this);this.ha=this.Dk(g,k,a,b)}}},this);return this.ha};xh[A].Pi=function(a){var b=[];for(a=a[Ia]();a;)a instanceof uh&&b[u](a),a=a[Ia]();return b};
xh[A].Dk=function(a,b,c){a.pj().map(function(a){return b.get(a)})[n](Nf);a=new th(this.m,a.wb,a.Wf(),!1);var d=new vh(this.m,c[t]);d.ia(a);Rf(c,c,d,a);return a.ob()};
function yh(a,b){U[D](this,0,-1);this.I=a.o(Ad);this.L=b}K(yh,U);f(yh[A],function(){return"insert("+this.L[h]()+")"});yh[A].ja=function(a,b,c){zh(this.L,c[Qa],this.I);a.xb(this.L,c[Qa]);return[je(c[Qa],[this.L[h]()])]};function zh(a,b,c){a=a.Fb().Ce();if(null===a?0:a.h[0][Pa]){var d=a.h[0].ma[h](),g=c.get(a.l()).max()[0]||0;b[n](function(a){if(0==a.u()[d]||null==a.u()[d])g++,a.u()[d]=g})}}function Ah(a,b){U[D](this,0,-1);this.I=a.o(Ad);this.L=b}K(Ah,U);
f(Ah[A],function(){return"insert_replace("+this.L[h]()+")"});Ah[A].ja=function(a,b,c){zh(this.L,c[Qa],this.I);a.Ie(this.L,c[Qa]);return[je(c[Qa],[this.L[h]()])]};
function Bh(a){U[D](this,2,0);this.Fg=a}K(Bh,U);f(Bh[A],function(){return"join("+this.Fg[r]()+")"});Bh[A].ja=function(a,b){return[this.Fg.ui(b[0],b[1])]};
function Ch(){U[D](this,1,1)}K(Ch,U);f(Ch[A],Fb("limit(?)"));Ch[A].gd=function(a){return this[r]()[La]("?",a.oa[r]())};Ch[A].ja=function(a,b,c){b[0][C][E](c.oa);return b};
function Dh(a){U[D](this,-1,1);this.K=a}K(Dh,U);H=Dh[A];f(H,function(){return"order_by("+Ce(this.K)+")"});H.ja=function(a,b){if(1==b[z]){var c=this.Li(b[0]);(null===c?b[0]:b[0].sc(c))[C][zb](this.ri[q](this))}else b[zb](this.zk[q](this));return b};H.Li=function(a){for(var b=null,c=0;c<this.K[z];c++){var d=gg(this.K[c].J);if(a.Gj(d)){b=d;break}}return b};
H.M=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.K[k].J,c=this.K[k].qb,d=a(g),g=b(g);while(d==g&&k+1<this.K[z]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.zk=function(a,b){return this.M(function(b){return b instanceof T?a.sc(b):a[C][a[C][z]-1].O(b)},function(a){return a instanceof T?b.sc(a):b[C][b[C][z]-1].O(a)})};H.ri=function(a,b){return this.M(function(b){return a.O(b)},function(a){return b.O(a)})};
function Eh(a,b){this.Ha=a;this.G=b}Eh[A].ag=function(){return this.G[yb](function(a){return a instanceof T},this)?this.Ej():this.Fj()};
Eh[A].Ej=function(){if(1==this.G[z]&&"DISTINCT"==this.G[0].hc){var a=this.Ha.sc(this.G[0])[C].map(function(a){var b=new ke(new cd(-1,{}),this.Ha.Ke());b.cf(this.G[0],a.O(this.G[0][hb]));return b},this);return new de(a,[])}var b=new ke(new cd(-1,{}),this.Ha.Ke());this.G[n](function(a){var d=a instanceof T?this.Ha.sc(a):this.Ha[C][0].O(a);b.cf(a,d)},this);return new de([b],this.Ha.Y())};
Eh[A].Fj=function(){var a=e(this.Ha[C][z]),b=this.Ha.Ke();this.Ha[C][n](function(c,d){a[d]=new ke(new cd(c.wa.id(),{}),b);this.G[n](function(b){a[d].cf(b,c.O(b))},this)},this);return new de(a,this.Ha.Y())};function Fh(a,b){var c=a.map(function(a){return(new Eh(a,b)).ag()[C][0]});return new de(c,a[0].Y())};
function Gh(a,b){U[D](this,-1,1);this.h=a;this.Rb=b}K(Gh,U);H=Gh[A];f(H,function(){var a="project("+this.h[r]();if(null!==this.Rb)var b=this.Rb.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});H.ja=function(a,b){return 0==b[z]?[ge()]:1==b[z]?[this.Ci(b[0])]:[this.Ai(b)]};H.Hj=function(){return this.h[yb](function(a){return a instanceof T})||null!==this.Rb};H.Ai=function(a){return Fh(a,this.h)};H.Ci=function(a){return 0==this.h[z]?a:(new Eh(a,this.h)).ag()};
function Hh(){U[D](this,1,1)}K(Hh,U);f(Hh[A],Fb("skip(?)"));Hh[A].gd=function(a){return this[r]()[La]("?",a.na[r]())};Hh[A].ja=function(a,b,c){return[new de(b[0][C][v](c.na),b[0].Y())]};
function Ih(){}K(Ih,Eg);Ih[A].Ib=function(a){var b=Mf(a,function(a){return a instanceof Ch||a instanceof Hh});if(0==b[z])return a;var c=this.Oi(a);if(null===c)return a;b[n](function(a){this.bk(a,c)},this);return c.ob()};Ih[A].bk=function(a,b){a instanceof Ch?b.ae=!0:b.be=!0;return Nf(a).parent};Ih[A].Oi=function(a){a=Mf(a,function(a){return a instanceof th},function(a){return a instanceof Gh&&a.Hj()||a instanceof Dh||1!=a.xa()||a instanceof uh});return 0<a[z]?a[0]:null};
function Jh(a){this.m=a}K(Jh,Eg);Jh[A].Ib=function(a){var b=Kh(a);if(null===b)return a;a=this.rh(b);a==b&&(a=this.qh(b));return a.ob()};Jh[A].rh=function(a){var b=a,c=Lh(a.tb(0));if(null!==c){var d;d=a.K;for(var g=null,k=c[t].Da(),l=0;l<k[z]&&null===g;l++)g=Mh(k[l],d);d=g;if(null===d)return b;b=new th(this.m,d.wb,new ph(d.wb),d.kg);d=new vh(this.m,c[t]);d.ia(b);Nf(a);b=Rf(c,c,d,b)}return b};
Jh[A].qh=function(a){var b=a,c=Nh(a.tb(0));if(null!==c){var d=Mh(c[$a],a.K);if(null===d)return b;c.$e=d.kg;b=Nf(a).parent}return b};function Nh(a){a=Mf(a,function(a){return a instanceof th},function(a){return 1!=a.xa()});return 0<a[z]?a[0]:null}function Lh(a){a=Mf(a,function(a){return a instanceof wh},function(a){return 1!=a.xa()});return 0<a[z]?a[0]:null}function Kh(a){a=Mf(a,function(a){return a instanceof Dh});return 0<a[z]?a[0]:null}
function Mh(a,b){if(a.h[z]!=b[z]||!b[Ab](function(b,c){return b.J[h]()==a.h[c].ma[h]()}))return null;var c=Oh(b,a);return c[0]||c[1]?{wb:a,kg:c[1]}:null}function Oh(a,b){var c=a[mb](function(a,b){return a<<1|(0==b.qb?0:1)},0),d=b.h[mb](function(a,b){return a<<1|(0==b.qb?0:1)},0),d=c^d,c=0==d,d=d==ea.pow(2,ea.max(a[z],b.h[z]))-1;return[c,d]};
function Ph(a,b,c){this.Aa=a;this.tk=b;this.af=c}Ph[A].rc=function(){this.af[n](function(a){this.Aa=a.Ib(this.Aa,this.tk)},this);return this.Aa};
function Qh(a,b){U[D](this,1,1);this.L=a;this.dl=b}K(Qh,U);f(Qh[A],function(){return"update("+this.L[h]()+")"});Qh[A].ja=function(a,b){var c=b[0][C].map(function(a){var b=this.L.oc(a.wa.Ia());this.dl[n](function(a){b.u()[a.J[h]()]=a[w]},this);return b},this);a[Bb](this.L,c);return[ge()]};
function Rh(a){this.m=a}Rh[A].create=function(a,b){var c=a.ob();if(c instanceof rg||c instanceof qg)return this.re(a,b);if(c instanceof xg||c instanceof Bg||c instanceof Cg)return this.re(a,b,[new xh(this.m),new Jh(this.m),new Ih]);if(c instanceof sg||c instanceof tg)return this.re(a,b,[new xh(this.m)]);throw new P(8);};Rh[A].re=function(a,b,c){var d=Kf(a.ob(),J(this.Yj,this));null!=c&&(d=(new Ph(d,b,c)).rc());return new De(d,a.fa())};
Rh[A].Yj=function(a){if(a instanceof xg)return new Gh(a.h,a.Rb);if(a instanceof Ag)return new nh(a.h);if(a instanceof zg)return new hg(a.h);if(a instanceof yg)return new Dh(a.K);if(a instanceof Cg)return new Hh;if(a instanceof Bg)return new Ch;if(a instanceof ug)return new uh(a.Ga.ka());if(a instanceof wg)return new Hg;if(a instanceof Dg)return new Bh(a.Ga);if(a instanceof vg)return new wh(this.m,a[t]);if(a instanceof sg)return new mh(a[t]);if(a instanceof tg)return new Qh(a[t],a.lf);if(a instanceof
rg)return new Ah(this.m,a[t]);if(a instanceof qg)return new yh(this.m,a[t]);throw new P(514);};

function Sh(a){this.Wj=new lh;this.mk=new Rh(a)}Sh[A].oj=function(a){var b=this.Wj[Wa](a);return this.mk[Wa](b,a)};
function Th(){this.tg=new N}H=Th[A];H.yd=function(a){var b=this.tg.get(a[h](),null);null===b&&(b=new Uh,this.tg.set(a[h](),b));return b};H.Bj=function(a,b,c){b[n](function(b){this.yd(b).Aj(a,c)},this)};H.Gh=function(a,b,c){return b[Ab](function(b){return this.yd(b).Fh(a,c)},this)};H.Jg=function(a,b,c){var d=this.Gh(a,b,c);d&&this.Bj(a,b,c);return d};H.releaseLock=function(a,b){b[n](function(b){this.yd(b).releaseLock(a)},this)};H.Wh=function(a){a[n](function(a){this.yd(a).gb=null},this)};
function Uh(){this.ec=this.Wa=this.gb=this.Nc=null}Uh[A].releaseLock=function(a){this.Nc==a&&(this.Nc=null);this.gb==a&&(this.gb=null);null===this.Wa||this.Wa[m](a);null===this.ec||this.ec[m](a)};Uh[A].Fh=function(a,b){var c=null===this.Wa||this.Wa.Fa();return 0==b?(null===this.ec||this.ec.Fa())&&c&&null===this.Nc&&null!==this.gb&&this.gb==a:3==b?null===this.Nc&&null===this.gb&&null!==this.Wa&&this.Wa[jb](a):1==b?null===this.gb:c&&(null===this.gb||this.gb==a)};
Uh[A].Aj=function(a,b){0==b?(this.gb=null,this.Nc=a):3==b?(null===this.ec&&(this.ec=new O),this.ec.add(a),null===this.Wa&&(this.Wa=new O),this.Wa[m](a)):1==b?(null===this.Wa&&(this.Wa=new O),this.Wa.add(a)):2==b&&(this.gb=a)};
function Vh(){this.ac=new Wh;this.Zc=new Th}H=Vh[A];H.cc=function(a){(2>a[rb]()||2>a[rb]())&&this.Zc.Wh(a.fa().c());this.ac.xb(a);this.qe();return a.Tc().ga};H.qe=function(){for(var a=this.ac.c(),b=0;b<a[z];b++){var c=a[b],d=!1;if(d=0==c.$()?this.Kg(c,1,3):this.Kg(c,2,0))this.ac[m](c),this.Di(c)}};H.Kg=function(a,b,c){var d=!1,g=a.fa().c();this.Zc.Jg(a.ka(),g,b)&&(d=this.Zc.Jg(a.ka(),g,c));return d};H.Di=function(a){a[Ka]()[B](J(this.ik,this,a),J(this.hk,this,a))};
H.ik=function(a,b){this.Zc.releaseLock(a.ka(),a.fa().c());a.Tc()[xb](b);this.qe()};H.hk=function(a,b){this.Zc.releaseLock(a.ka(),a.fa().c());a.Tc()[lb](b);this.qe()};function Wh(){this.ac=[]}Wh[A].xb=function(a){sc(this.ac,a,function(a,c){var d=a[rb]()-c[rb]();return 0==d?a.ka()-c.ka():d})};Wh[A].c=function(){return this.ac[v]()};ka(Wh[A],function(a){var b=this.ac;a=ec(b,a);var c;(c=0<=a)&&kc(b,a);return c});

function Xh(a,b){this.ti=oe.ze();this.Xe=a;this.Md=b;this.G=this.li()}Xh[A].li=function(){if(0<this.Xe.h[z])return this.Xe.h;var a=[];this.Xe.f[n](function(b){b.nb()[n](function(b){a[u](b)})});return a};Xh[A].M=function(a,b){return this.G[Ab](function(c){return this.ti.ye(c.$(),"eq")(a.O(c),b.O(c))},this)};
Xh[A].ph=function(a,b){for(var c=null===a?[]:a[C],d=ld(c,b[C],J(this.M,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[z];l++){var p=c[l];d[k]==p?k++:(p=this.Md[E](k,1),p=Yh(l,p,0,this.Md),g[u](p))}d=ld(c,b[C],J(this.M,this),function(a,c){return b[C][c]});for(l=k=0;l<b[C][z];l++)p=b[C][l],d[k]==p?k++:(this.Md[E](l,0,p.wa.u()),p=Yh(l,[],1,this.Md),g[u](p));return g};function Yh(a,b,c,d){return{el:c,index:a,object:d,gl:b,type:"splice"}};
function Zh(){this.qc=new N}H=Zh[A];H.De=function(a){return Qb(a)[r]()};H.de=function(a,b){var c=this.De(a.Bd()),d=this.qc.get(c,null);null===d&&(d=new $h(a),this.qc.set(c,d));d.de(b)};H.Ze=function(a,b){var c=this.De(a.Bd()),d=this.qc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.Ze(b);L(g,"removeObserver: Inconsistent state detected.");d.Jj()||this.qc[m](c)};
H.Fe=function(a){var b=new O;a[n](function(a){b.add(a[h]())});var c=[];this.qc.c()[n](function(a){a=a.Vc();a[Fa].f[yb](function(a){return b[jb](a[h]())})&&c[u](a)});return c};H.bh=function(a,b){var c=this.De(null!=a.Hc?a.Hc:a),c=this.qc.get(c,null);return null!==c?(c.cl(b),!0):!1};function $h(a){this.Ah=a;this.bd=new O;this.fk=[];this.qg=null;this.oi=new Xh(a.Bd(),this.fk)}H=$h[A];H.de=function(a){this.bd[jb](a)?ac("Attempted to register observer twice."):this.bd.add(a)};H.Ze=function(a){return this.bd[m](a)};
H.Vc=function(){return this.Ah.mj()};H.Jj=function(){return 0<this.bd.ra()};H.cl=function(a){var b=this.oi.ph(this.qg,a);this.qg=a;0<b[z]&&this.bd.c()[n](function(a){a(b)})};
function ai(a,b){var c=a.o(Ed),d=b||{},g=new ff;a.rb(zd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new Te(c);break;case 5:g=new Ue(c);break;case 4:g=new Ye(a,c,d.webSqlDbSize);break;case 3:g=new Ne(c,d.firebase);k=!0;break;default:g=new Re(a,c)}a.rb(yd,g);var l=new Gf;a.rb(Ad,l);return g.Ea(d.onUpgrade)[B](function(){a.rb(Bd,new Sh(a));var b=new Vh;a.rb(Cd,b);b=new Zh;a.rb(Dd,b);return l.Ea(c)})[B](function(){k&&(new Ie(a)).Sk();return(new Ff(a)).Ea(c)})};

function bi(a,b){this.m=a;this.Cb=a.o(yd);this.Za=a.o(Cd);this.Gb=a.o(Dd);this.pa=new O(b);this.Ta=new Zd(this.m,this.pa.c());this.bc=Xc();this.Oc=Xc();this.nf=Xc()}H=bi[A];ia(H,function(){this.nf[xb]();return this.Oc.ga});H.$=Fb(1);H.fa=G("pa");H.Tc=G("bc");H.ka=function(){return Qb(this)};ya(H,Fb(2));H.gh=function(){this.Za.cc(this);return this.nf.ga};
H.xh=function(a){a=a.Vc();return a.Ve.ob()[Ka](this.Ta,a[Fa])[B](function(a){return a[0].Ae()},J(function(a){this.Ta.Jb();var c=new Oc(a[x]);this.Oc[lb](c);throw a;},this))};H.W=function(){this.Cb.Nb(this.$(),this.Ta).W()[B](J(function(){this.ed();this.Oc[xb]()},this),J(function(a){this.Ta.Jb();this.Oc[lb](a)},this));return this.bc.ga};H.Jb=function(){this.Ta.Jb();this.Oc[xb]();return this.bc.ga};H.ed=function(){var a=this.Gb.Fe(this.pa.c());0!=a[z]&&(a=new Ge(this.m,a),this.Za.cc(a))};
function ci(a){this.m=a;this.Za=a.o(Cd);this.hd=null;this.Ja=0}I("lf.proc.Transaction",ci,void 0);var di=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));ci[A].Ma=function(a){var b=di.get(this.Ja,null);if(null===b||!b[jb](a))throw new P(107,this.Ja,a);this.Ja=a};
ia(ci[A],function(a){this.Ma(4);var b=[];try{a[n](function(a){a.lb();b[u](a.Vc())},this)}catch(c){return this.Ma(7),Tc(c)}a=new Ig(this.m,b);return this.Za.cc(a)[B](J(function(a){this.Ma(7);return a.map(function(a){return a.Ae()})},this),J(function(a){this.Ma(7);throw a;},this))});ia(ci[A],ci[A][Ka]);ci[A].yh=function(a){this.Ma(1);this.hd=new bi(this.m,a);return this.hd.gh()[B](J(function(){this.Ma(2)},this))};ci[A].begin=ci[A].yh;
ci[A].wh=function(a){this.Ma(3);return this.hd.xh(a)[B](J(function(a){this.Ma(2);return a},this),J(function(a){this.Ma(7);throw a;},this))};ci[A].attach=ci[A].wh;ci[A].W=function(){this.Ma(5);return this.hd.W()[B](J(function(){this.Ma(7)},this))};ci[A].commit=ci[A].W;ci[A].Jb=function(){this.Ma(6);return this.hd.Jb()[B](J(function(){this.Ma(7)},this))};ci[A].rollback=ci[A].Jb;
function X(a){this.m=a;this.s=a.o(Ed);this.He=!1}I("lf.proc.Database",X,void 0);X[A].Ea=function(a){this.m.rb(Ed,this.s);return ai(this.m,a)[B](J(function(){this.He=!0;return this},this))};X[A].init=X[A].Ea;X[A].vb=G("s");X[A].getSchema=X[A].vb;X[A].mc=function(){if(!this.He)throw new P(2);};X[A].select=function(a){this.mc();return new W(this.m,1!=arguments[z]||null!=arguments[0]?e[A][v][D](arguments):[])};X[A].select=X[A].select;X[A].xb=function(){this.mc();return new Yg(this.m)};X[A].insert=X[A].xb;
X[A].Ie=function(){this.mc();return new Yg(this.m,!0)};X[A].insertOrReplace=X[A].Ie;Ea(X[A],function(a){this.mc();return new bh(this.m,a)});Ea(X[A],X[A][Bb]);za(X[A],function(){this.mc();return new Xg(this.m)});X[A]["delete"]=X[A][sb];X[A].observe=function(a,b){this.m.o(Dd).de(a,b)};X[A].observe=X[A].observe;X[A].unobserve=function(a,b){this.m.o(Dd).Ze(a,b)};X[A].unobserve=X[A].unobserve;X[A].ji=function(){this.mc();return new ci(this.m)};X[A].createTransaction=X[A].ji;
sa(X[A],function(){try{this.m.o(yd)[db]()}catch(a){}this.m[Ra]();this.He=!1});sa(X[A],X[A][db]);
function Y(a,b,c,d,g,k){this.L=a;this.B=b;this.mg=c;this.jg=d;this.ah=g;this.kb=k||null;this.i=this.C=null}I("lf.schema.BaseColumn",Y,void 0);H=Y[A];ja(H,G("B"));H.l=function(){return this.L.Ca()+"."+this.B};f(H,function(){return this.l()});H.S=G("L");H.$=G("ah");H.bb=G("kb");H.Da=function(){null==this.ta&&(this.ta=[],this.S().Da()[n](function(a){-1!=a.h.map(function(a){return a.ma[h]()})[qb](this.B)&&this.ta[u](a)},this));return this.ta};H.vc=G("jg");H.Yc=G("mg");H.Yd=Eb("C");H.getParent=G("C");
H.Jk=Eb("i");H.N=G("i");H.Ra=function(a){return bg(this,a,"eq")};Y[A].eq=Y[A].Ra;Y[A].ug=function(a){return bg(this,a,"neq")};Y[A].neq=Y[A].ug;Y[A].Oe=function(a){return bg(this,a,"lt")};Y[A].lt=Y[A].Oe;Y[A].Xj=function(a){return bg(this,a,"lte")};Y[A].lte=Y[A].Xj;Y[A].Cj=function(a){return bg(this,a,"gt")};Y[A].gt=Y[A].Cj;Y[A].Dj=function(a){return bg(this,a,"gte")};Y[A].gte=Y[A].Dj;Y[A].match=function(a){return bg(this,a,"match")};Y[A].match=Y[A].match;
Y[A].zh=function(a,b){return bg(this,[a,b],"between")};Y[A].between=Y[A].zh;Y[A].Kj=function(a){return bg(this,a,"in")};Y[A]["in"]=Y[A].Kj;Y[A].Rj=function(){return this.Ra(null)};Y[A].isNull=Y[A].Rj;Y[A].Qj=function(){return this.ug(null)};Y[A].isNotNull=Y[A].Qj;Y[A].Ec=function(a){return new Y(this.L,this.B,this.mg,this.jg,this.ah,a)};Y[A].as=Y[A].Ec;
function ei(){this.Wd=new N}var fi;na(ei[A],function(){this.Wd[Ra]()});na(ei[A],ei[A][Ra]);ei[A].rb=function(a,b){this.Wd.set(a[r](),b);return b};ei[A].registerService=ei[A].rb;ei[A].o=function(a){var b=this.Wd.get(a[r](),null);if(null==b)throw new P(7,a[r]());return b};ei[A].getService=ei[A].o;ei[A].Me=function(a){return this.Wd.A(a[r]())};ei[A].isRegistered=ei[A].Me;
function gi(a,b,c){this.qk=a;this.dk=b;this.Qi=c}gi[A].Ce=G("qk");gi[A].lj=G("dk");gi[A].Uf=G("Qi");
function hi(a,b){var c=a.ref[bb](".");if(2!=c[z])throw new P(540,b);this.Db=a.local;this.Xb=c[0];this.Hb=c[1];Ba(this,b);this.action=a.action;this.timing=a[tb]};
function Z(a){this.B=a;this.G=new $e;this.jf=new df;this.Ac=new df;this.Ld=new df;var b=this.B;this.xc="pk"+(b[0].toUpperCase()+b.substring(1));this.ta=new $e;this.Pd=!1;this.nc(a);this.Pf=[]}I("lf.schema.TableBuilder",Z,void 0);function ii(a){Ba(this,a[x]);this.qb=a.order;this.autoIncrement=a[Pa]}var ji=new df([0,6]);Z[A].nc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);if(this.G.has(a)||this.ta.has(a)||this.Ac.has(a))throw new P(503,this.B+"."+a);};
Z[A].Qh=function(a){var b=!1;a[n](function(a){var d=this.G.get(a[x]);b=b||a[Pa];if(a[Pa]&&3!=d)throw new P(504);},this);if(b&&1<a[z])throw new P(505);};Z[A].ih=function(a,b){this.nc(a);this.G.set(a,b);ji.has(b)&&this.rf([a]);return this};Z[A].addColumn=Z[A].ih;Z[A].kh=function(a,b){this.nc(this.xc);var c=this.Kd(a,!0,void 0,b);this.Qh(c);1==c[z]&&this.jf.add(c[0][x]);this.Ac.add(this.xc);this.ta.set(this.xc,c);return this};Z[A].addPrimaryKey=Z[A].kh;
Z[A].jh=function(a,b){this.nc(a);var c=new hi(b,this.B+"."+a);Hb(c.action)||(c.action=0);Hb(c[tb])||(c.timing=0);if(1==c.action&&1==c[tb])throw new P(506);if(!this.G.has(c.Db))throw new P(540,a);this.Pf[u](c);this.qf(a,[c.Db],!1);return this};Z[A].addForeignKey=Z[A].jh;Z[A].lh=function(a,b){this.nc(a);var c=this.Kd(b,!0);1==c[z]&&this.jf.add(c[0][x]);this.ta.set(a,c);this.Ac.add(a);return this};Z[A].addUnique=Z[A].lh;
Z[A].rf=function(a){a=this.Kd(a,!1);this.Ph(a);a[n](function(a){this.Ld.add(a[x])},this);return this};Z[A].addNullable=Z[A].rf;Z[A].Ph=function(a){af(this.ta)[n](function(b){var c=new df;this.ta.get(b)[n](function(a){c.add(a[x])});var d=a[Ga](function(a){return c.has(a[x])});if(1<c[Za]&&0<d[z])throw new P(507,b,d[F](","));},this)};Z[A].qf=function(a,b,c,d){this.nc(a);b=this.Kd(b,!0,d);this.Oh(a,b);c&&this.Ac.add(a);this.ta.set(a,b);return this};Z[A].addIndex=Z[A].qf;
Z[A].Oh=function(a,b){if(1<b[z]){var c=b[Ga](function(a){return this.Ld.has(a[x])},this);if(0<c[z])throw new P(507,a,c[F](","));}};Z[A].$b=Eb("Pd");Z[A].persistentIndex=Z[A].$b;Z[A].vb=function(){return new (this.dj())};Z[A].getSchema=Z[A].vb;Z[A].Pb=G("Pf");
Z[A].Kd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new ii({name:a,order:c||1,autoIncrement:d||!1})}):a.map(function(a){return new ii(a)});g[n](function(a){if(!this.G.has(a[x]))throw new P(508,this.B,a[x]);if(b){var c=this.G.get(a[x]);if(0==c||6==c)throw new P(509,this.B,a[x]);}},this);return g};
Z[A].dj=function(){function a(){function a(c){return b.ta.get(c).map(function(a){return{ma:this[a[x]],qb:a.qb,autoIncrement:a[Pa]}},this)}var d=af(b.G).map(function(a){this[a]=new Y(this,a,b.jf.has(a),b.Ld.has(a),b.G.get(a));return this[a]},this),g=af(b.ta).map(function(d){return new dg(b.B,d,b.Ac.has(d),a[D](this,d))},this);eg[D](this,b.B,d,g,b.Pd);var k=b.ta.has(b.xc)?new dg(b.B,b.xc,!0,a[D](this,b.xc)):null,l=d[Ga](function(a){return!b.Ld.has(a[h]())}),p=ef(b.Ac).map(function(d){return new dg(b.B,
d,!0,a[D](this,d))},this);this.ai=new gi(k,l,b.Pb(),p);this.Ng=b.$i(d,g)}var b=this;K(a,eg);a[A].Eb=function(a){return new this.Ng(dd++,a)};a[A].createRow=a[A].Eb;a[A].oc=function(a){var b={};this.nb()[n](function(g){var k=g[h]();g=g.$();var l=a[w][k];if(0==g)if(null===l)g=l;else if(g=l,""==g)g=null;else{0!=g[z]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[z]/2),p=new Uint8Array(l),y=0,wa=0;y<g[z];y+=2)p[wa++]=ga(g.substr(y,2),16);g=l}else g=2==g?null===l?l:new Date(l):l;b[k]=g},this);return new this.Ng(a.id,
b)};a[A].deserializeRow=a[A].oc;a[A].Fb=G("ai");a[A].getConstraint=a[A].Fb;return a};
Z[A].$i=function(a,b){function c(c,d){this.G=a;this.ta=b;cd[D](this,c,d)}K(c,cd);c[A].Jf=function(){var a={};this.G[n](function(b){a[b[h]()]=b.vc()?null:Vd[b.$()]});return a};c[A].Yg=function(){var a={};this.G[n](function(b){var c=b[h]();b=b.$();var d=this.u()[c];a[c]=0==b?null===d?d:gd(d):2==b?null===d?d:d[Sa]():d},this);return a};var d=J(function(a){var b=this.G.get(a[h]());return 2==b?function(b){b=b[a[h]()];return a.vc()&&null===b?null:b[Sa]()}:1==b?function(b){return a.vc()?(b=b[a[h]()],null===
b?null:b?1:0):b[a[h]()]?1:0}:function(b){return b[a[h]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ma)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[n](function(a){var b=a.l();a=1==a.h[z]?d(a.h[0].ma):g(a.h);k[b]=a});c[A].Tb=function(a){return-1!=a[qb]("#")?this.id():k[cb](a)?k[a](this.u()):null};return c};
function ki(a,b){this.s=new li(a,b);this.Na=new N;this.Pc=!1}I("lf.schema.Builder",ki,void 0);H=ki[A];H.Mh=function(a){a.Pb()[n](function(b){var c=b.Xb;if(!this.Na.A(c))throw new P(536,b[x]);var c=this.Na.get(c).vb(),d=b.Hb;if(!c[cb](d))throw new P(537,b[x]);if(a.vb()[b.Db].$()!=c[d].$())throw new P(538,b[x]);if(!c[d].Yc())throw new P(539,b[x]);},this)};H.Lh=function(a){a.Pb()[n](function(a){this.Na.get(a.Xb).Pb()[n](function(c){if(c.Db==a.Hb)throw new P(534,a[x]);},this)},this)};
H.Kk=function(a){var b=[];this.Na.c()[n](function(c){c.Pb()[Ga](function(c){c.Xb==a[h]()&&b[u](c)})});a.Lk(b)};H.Ki=function(){this.Pc||(this.Na.c()[n](function(a){this.Mh(a);this.s.Mk(a.vb())},this),this.Na.c()[n](this.Lh,this),this.Na.H()[n](this.$h,this),this.s.$a()[n](this.Kk,this),this.Kh(),this.Na[Ra](),this.Pc=!0)};H.$h=function(a){this.Na.get(a).Pb()[n](function(b){var c=this.s.F.get(a),d=this.s.F.get(b.Xb);c[b.Db].Yd(d[b.Hb]);var g=d[b.Hb].N()||[];g[u](c[b.Db]);d[b.Hb].Jk(g)},this)};
H.Cf=function(a,b){a.mf||(a.mf=!0,a.Re=!0,a.Mf[n](function(c){c=b.get(c);if(!c.mf)this.Cf(c,b);else if(c.Re&&a!=c)throw new P(533);},this));a.Re=!1};H.Kh=function(){var a=new $e;this.s.F.H()[n](function(b){a.set(b,new mi(b))},this);this.Na[n](function(b,c){b.Pb()[n](function(b){a.get(b.Xb).Mf.add(c)})});bf(a)[n](function(b){this.Cf(b,a)},this)};function mi(a){this.Re=this.mf=!1;this.Mf=new df;this.ff=a}H.vb=function(){this.Pc||this.Ki();return this.s};ki[A].getSchema=ki[A].vb;
ki[A].Vf=function(){var a=new xd("ns_"+this.s[x]()),b;fi||(fi=new ei);b=fi;var c=null;b.Me(a)?c=b.o(a):(c=new ei,b.rb(a,c));return c};ki[A].getGlobal=ki[A].Vf;ki[A].connect=function(a){var b=this.Vf();b.Me(Ed)||b.rb(Ed,this.vb());return(new X(b)).Ea(a)};ki[A].connect=ki[A].connect;ki[A].hi=function(a){if(this.Na.A(a))throw new P(503,a);if(this.Pc)throw new P(535);this.Na.set(a,new Z(a));return this.Na.get(a)};ki[A].createTable=ki[A].hi;
ki[A].ef=function(a){if(this.Pc)throw new P(535);this.s.ef(a);return this};ki[A].setPragma=ki[A].ef;function li(a,b){this.B=a;this.Pa=b;this.F=new N;this.Eg={pi:!1}}I("lf.schema.DatabaseSchema",li,void 0);Ba(li[A],G("B"));Ba(li[A],li[A][x]);li[A].version=G("Pa");li[A].version=li[A][Ha];li[A].$a=function(){return this.F.c()};li[A].tables=li[A].$a;pa(li[A],function(a){if(!this.F.A(a))throw new P(101,a);return this.F.get(a)});pa(li[A],li[A][t]);li[A].Mk=function(a){this.F.set(a[h](),a)};li[A].Dg=G("Eg");
li[A].pragma=li[A].Dg;li[A].ef=Eb("Eg");I("lf.schema.create",function(a,b){return new ki(a,b)},void 0);}.bind(window))()
