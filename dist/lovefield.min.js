/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=window,ba=Object,ca=Function,da=document,ea=Math,e=Array,fa=Error,ga=parseInt,ha=String;function ia(a,b){return a.exec=b}function ja(a,b){return a.getName=b}function ka(a,b){return a.remove=b}function la(a,b){return a.forEach=b}function ma(a,b){return a.values=b}function na(a,b){return a.clear=b}function oa(a,b){return a.bind=b}function f(a,b){return a.toString=b}function pa(a,b){return a.table=b}function qa(a,b){return a.dump=b}function ra(a,b){return a.next=b}
function sa(a,b){return a.close=b}function ta(a,b){return a.clone=b}function ua(a,b){return a.child=b}function va(a,b){return a.onerror=b}function wa(a,b){return a.value=b}function xa(a,b){return a.getPriority=b}function ya(a,b){return a.delete=b}function za(a,b){return a.subscribe=b}function Aa(a,b){return a.name=b}function Ba(a,b){return a.length=b}function Ca(a,b){return a.onsuccess=b}function Da(a,b){return a.update=b}
var Ea="context",h="filter",Fa="version",Ga="getParent",Ha="shift",Ia="exec",Ja="replace",Ka="concat",La="objectStoreNames",l="getName",n="remove",Ma="orderByChild",Na="autoIncrement",q="forEach",Oa="values",Pa="clear",r="bind",Qa="getTime",Ra="continue",t="toString",Sa="global",Ua="propertyIsEnumerable",Va="create",u="table",Wa="compare",Xa="result",Ya="size",Za="index",$a="next",ab="split",bb="hasOwnProperty",cb="close",db="once",eb="setImmediate",fb="transaction",gb="child",hb="rows",ib="contains",
jb="apply",v="push",kb="reject",lb="reduce",mb="addAll",w="slice",x="value",nb="item",ob="objectStore",pb="indexOf",qb="getPriority",rb="delete",sb="name",y="length",z="prototype",tb="timing",A="then",C="entries",ub="removeChild",vb="openCursor",wb="target",D="call",xb="resolve",yb="some",zb="sort",Ab="every",Bb="update",E="splice",F="join",Cb="unshift";function Db(){return function(){}}function Eb(a){return function(b){this[a]=b}}function G(a){return function(){return this[a]}}
function Fb(a){return function(){return a}}var H,Gb=this;function Hb(a){return void 0!==a}function I(a,b,c){a=a[ab](".");c=c||Gb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[y]&&(d=a[Ha]());)!a[y]&&Hb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Ib(){}function Jb(a){a.ye=function(){return a.dg?a.dg:a.dg=new a}}
function Kb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof ba)return b;var c=ba[z][t][D](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[y]&&"undefined"!=typeof a[E]&&"undefined"!=typeof a[Ua]&&!a[Ua]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[D]&&"undefined"!=typeof a[Ua]&&!a[Ua]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[D])return"object";return b}
function Lb(a){return null===a}function Mb(a){return null!=a}function Nb(a){var b=Kb(a);return"array"==b||"object"==b&&"number"==typeof a[y]}function Ob(a){return"string"==typeof a}function Pb(a){return"function"==Kb(a)}function Qb(a){return a[Rb]||(a[Rb]=++Sb)}var Rb="closure_uid_"+(1E9*ea.random()>>>0),Sb=0;function Tb(a,b,c){return a[D][jb](a[r],arguments)}
function Ub(a,b,c){if(!a)throw fa();if(2<arguments[y]){var d=e[z][w][D](arguments,2);return function(){var c=e[z][w][D](arguments);e[z][Cb][jb](c,d);return a[jb](b,c)}}return function(){return a[jb](b,arguments)}}function J(a,b,c){J=ca[z][r]&&-1!=ca[z][r][t]()[pb]("native code")?Tb:Ub;return J[jb](null,arguments)}function Vb(a,b){var c=e[z][w][D](arguments,1);return function(){var b=c[w]();b[v][jb](b,arguments);return a[jb](this,b)}}
function K(a,b){function c(){}c.prototype=b[z];a.gb=b[z];a.prototype=new c;a[z].constructor=a;a.el=function(a,c,k){for(var m=e(arguments[y]-2),p=2;p<arguments[y];p++)m[p-2]=arguments[p];return b[z][c][jb](a,m)}}oa(ca[z],ca[z][r]||function(a,b){if(1<arguments[y]){var c=e[z][w][D](arguments,1);c[Cb](this,a);return J[jb](null,c)}return J(this,a)});function Wb(a){if(fa.captureStackTrace)fa.captureStackTrace(this,Wb);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(Wb,fa);Aa(Wb[z],"CustomError");function Xb(a,b){for(var c=a[ab]("%s"),d="",g=e[z][w][D](arguments,1);g[y]&&1<c[y];)d+=c[Ha]()+g[Ha]();return d+c[F]("%s")};function Yb(a,b){b[Cb](a);Wb[D](this,Xb[jb](null,b));b[Ha]()}K(Yb,Wb);Aa(Yb[z],"AssertionError");function Zb(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new Yb(""+g,k||[]);}function L(a,b,c){a||Zb("",null,b,e[z][w][D](arguments,2));return a}function $b(a,b){throw new Yb("Failure"+(a?": "+a:""),e[z][w][D](arguments,1));}function ac(a,b,c){Pb(a)||Zb("Expected function but got %s: %s.",[Kb(a),a],b,e[z][w][D](arguments,2));return a};function bc(a,b,c){this.Uj=c;this.ji=a;this.Dk=b;this.Pd=0;this.Id=null}bc[z].get=function(){var a;0<this.Pd?(this.Pd--,a=this.Id,this.Id=a[$a],ra(a,null)):a=this.ji();return a};bc[z].put=function(a){this.Dk(a);this.Pd<this.Uj&&(this.Pd++,ra(a,this.Id),this.Id=a)};var cc=e[z],dc=cc[pb]?function(a,b,c){L(null!=a[y]);return cc[pb][D](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ea.max(0,a[y]+c):c;if(Ob(a))return Ob(b)&&1==b[y]?a[pb](b,c):-1;for(;c<a[y];c++)if(c in a&&a[c]===b)return c;return-1},ec=cc[q]?function(a,b,c){L(null!=a[y]);cc[q][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Ob(a)?a[ab](""):a,k=0;k<d;k++)k in g&&b[D](c,g[k],k,a)},fc=cc.map?function(a,b,c){L(null!=a[y]);return cc.map[D](a,b,c)}:function(a,b,c){for(var d=a[y],g=e(d),k=Ob(a)?a[ab](""):a,m=0;m<
d;m++)m in k&&(g[m]=b[D](c,k[m],m,a));return g},gc=cc[lb]?function(a,b,c,d){L(null!=a[y]);d&&(b=J(b,d));return cc[lb][D](a,b,c)}:function(a,b,c,d){var g=c;ec(a,function(c,m){g=b[D](d,g,c,m,a)});return g},hc=cc[yb]?function(a,b,c){L(null!=a[y]);return cc[yb][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Ob(a)?a[ab](""):a,k=0;k<d;k++)if(k in g&&b[D](c,g[k],k,a))return!0;return!1},ic=cc[Ab]?function(a,b,c){L(null!=a[y]);return cc[Ab][D](a,b,c)}:function(a,b,c){for(var d=a[y],g=Ob(a)?a[ab](""):a,k=0;k<
d;k++)if(k in g&&!b[D](c,g[k],k,a))return!1;return!0};function jc(a,b){L(null!=a[y]);return 1==cc[E][D](a,b,1)[y]}function kc(a,b,c){a:{for(var d=a[y],g=Ob(a)?a[ab](""):a,k=0;k<d;k++)if(k in g&&b[D](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(jc(a,b),!0):!1}function lc(a){var b=a[y];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function mc(a,b){for(var c=1;c<arguments[y];c++){var d=arguments[c];if(Nb(d)){var g=a[y]||0,k=d[y]||0;Ba(a,g+k);for(var m=0;m<k;m++)a[g+m]=d[m]}else a[v](d)}}function nc(a,b,c,d){L(null!=a[y]);return cc[E][jb](a,oc(arguments,1))}function oc(a,b,c){L(null!=a[y]);return 2>=arguments[y]?cc[w][D](a,b):cc[w][D](a,b,c)}function pc(a,b,c,d,g){for(var k=0,m=a[y],p;k<m;){var B=k+m>>1,Ta;Ta=c?b[D](g,a[B],B,a):b(d,a[B]);0<Ta?k=B+1:(m=B,p=!Ta)}return p?k:~k}function qc(a,b){return a>b?1:a<b?-1:0}
function rc(a,b,c){c=pc(a,c||qc,!1,b);return 0>c?(nc(a,-(c+1),0,b),!0):!1}function sc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function tc(a){for(var b=[],c=0;c<arguments[y];c++){var d=arguments[c];if("array"==Kb(d))for(var g=0;g<d[y];g+=8192)for(var k=oc(d,g,g+8192),k=tc[jb](null,k),m=0;m<k[y];m++)b[v](k[m]);else b[v](d)}return b};function uc(a,b,c){for(var d in a)b[D](c,a[d],d,a)}function vc(a,b,c){for(var d in a)if(b[D](c,a[d],d,a))return!0;return!1}function wc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function xc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var yc;a:{var zc=Gb.navigator;if(zc){var Ac=zc.userAgent;if(Ac){yc=Ac;break a}}yc=""};function Bc(a){Gb.setTimeout(function(){throw a;},0)}var Cc;
function Dc(){var a=Gb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof aa&&aa.postMessage&&aa.addEventListener&&-1==yc[pb]("Presto")&&(a=function(){var a=da.createElement("IFRAME");a.style.display="none";a.src="";da.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[cb]();var c="callImmediate"+ea.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==yc[pb]("Trident")&&-1==yc[pb]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Hb(c[$a])){c=c[$a];var a=c.zf;c.zf=null;a()}};return function(a){ra(d,{zf:a});d=d[$a];b.port2.postMessage(0)}}return"undefined"!==typeof da&&"onreadystatechange"in da.createElement("SCRIPT")?function(a){var b=da.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ub](b);b=null;a();a=null};da.documentElement.appendChild(b)}:function(a){Gb.setTimeout(a,0)}};function Ec(){this.de=this.hc=null}var Gc=new bc(function(){return new Fc},function(a){a.reset()},100);Ec[z].add=function(a,b){var c=this.xj();c.set(a,b);this.de?ra(this.de,c):(L(!this.hc),this.hc=c);this.de=c};ka(Ec[z],function(){var a=null;this.hc&&(a=this.hc,this.hc=this.hc[$a],this.hc||(this.de=null),ra(a,null));return a});Ec[z].Ek=function(a){Gc.put(a)};Ec[z].xj=function(){return Gc.get()};function Fc(){this.scope=this.te=null;ra(this,null)}
Fc[z].set=function(a,b){this.te=a;this.scope=b;ra(this,null)};Fc[z].reset=function(){this.scope=this.te=null;ra(this,null)};function Hc(a,b){Ic||Jc();Kc||(Ic(),Kc=!0);Lc.add(a,b)}var Ic;function Jc(){if(Gb.Promise&&Gb.Promise[xb]){var a=Gb.Promise[xb]();Ic=function(){a[A](Mc)}}else Ic=function(){var a=Mc;if(!Pb(Gb[eb])||Gb.Window&&Gb.Window[z]&&Gb.Window[z][eb]==Gb[eb])Cc||(Cc=Dc()),Cc(a);else Gb[eb](a)}}var Kc=!1,Lc=new Ec;[][v](function(){Kc=!1;Lc=new Ec});function Mc(){for(var a=null;a=Lc[n]();){try{a.te[D](a.scope)}catch(b){Bc(b)}Lc.Ek(a)}Kc=!1};function M(a,b){this.Ja=0;this.Jg=void 0;this.od=this.mc=this.C=null;this.Hd=this.re=!1;if(a!=Ib)try{var c=this;a[D](b,function(a){c.zc(2,a)},function(a){if(!(a instanceof Nc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.zc(3,a)})}catch(d){this.zc(3,d)}}function Oc(){ua(this,null);this.context=this.xc=this.Wb=null;ra(this,null);this.ge=!1}Oc[z].reset=function(){ua(this,null);this.context=this.xc=this.Wb=null;this.ge=!1};
var Pc=new bc(function(){return new Oc},function(a){a.reset()},100);function Qc(a,b,c){var d=Pc.get();d.Wb=a;d.xc=b;d.context=c;return d}function Rc(a){if(a instanceof M)return a;var b=new M(Ib);b.zc(2,a);return b}function Sc(a){return new M(function(b,c){c(a)})}function Tc(a,b,c){Uc(a,b,c,null)||Hc(Vb(b,a))}function Vc(a){return new M(function(b,c){var d=a[y],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},m=function(a){c(a)},p=0,B;B=a[p];p++)Tc(B,Vb(k,p),m);else b(g)})}
function Wc(){var a,b,c=new M(function(c,g){a=c;b=g});return new Xc(c,a,b)}M[z].then=function(a,b,c){null!=a&&ac(a,"opt_onFulfilled should be a function.");null!=b&&ac(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.of(Pb(a)?a:null,Pb(b)?b:null,c)};M[z].then=M[z][A];M[z].$goog_Thenable=!0;H=M[z];
H.Uk=function(a,b,c){null!=a&&ac(a,"opt_onFulfilled should be a function.");null!=b&&ac(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.nf(Qc(a||Ib,b||null,c))};H.Vg=function(a,b){return this.of(null,a,b)};H.nf=function(a){this.Hj()||2!=this.Ja&&3!=this.Ja||this.Mg();this.uk(a)};
H.of=function(a,b,c){var d=Qc(null,null,null);ua(d,new M(function(g,k){d.Wb=a?function(b){try{var d=a[D](c,b);g(d)}catch(B){k(B)}}:g;d.xc=b?function(a){try{var d=b[D](c,a);!Hb(d)&&a instanceof Nc?k(a):g(d)}catch(B){k(B)}}:k}));d[gb].C=this;this.nf(d);return d[gb]};H.Xk=function(a){L(1==this.Ja);this.Ja=0;this.zc(2,a)};H.Yk=function(a){L(1==this.Ja);this.Ja=0;this.zc(3,a)};
H.zc=function(a,b){0==this.Ja&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ja=1,Uc(b,this.Xk,this.Yk,this)||(this.Jg=b,this.Ja=a,this.C=null,this.Mg(),3!=a||b instanceof Nc||Yc(this,b)))};
function Uc(a,b,c,d){if(a instanceof M)return a.Uk(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[A](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var m=a[A];if(Pb(m))return Zc(a,m,b,c,d),!0}catch(p){return c[D](d,p),!0}return!1}function Zc(a,b,c,d,g){function k(a){p||(p=!0,d[D](g,a))}function m(a){p||(p=!0,c[D](g,a))}var p=!1;try{b[D](a,m,k)}catch(B){k(B)}}H.Mg=function(){this.re||(this.re=!0,Hc(this.Fi,this))};H.Hj=function(){return!!this.mc};
H.uk=function(a){L(null!=a.Wb);this.od?ra(this.od,a):this.mc=a;this.od=a};H.mk=function(){var a=null;this.mc&&(a=this.mc,this.mc=a[$a],ra(a,null));this.mc||(this.od=null);null!=a&&L(null!=a.Wb);return a};H.Fi=function(){for(var a=null;a=this.mk();)this.Ei(a,this.Ja,this.Jg);this.re=!1};H.Ei=function(a,b,c){3==b&&a.xc&&!a.ge&&this.Bk();if(a[gb])a[gb].C=null,$c(a,b,c);else try{a.ge?a.Wb[D](a[Ea]):$c(a,b,c)}catch(d){ad[D](null,d)}Pc.put(a)};
function $c(a,b,c){2==b?a.Wb[D](a[Ea],c):a.xc&&a.xc[D](a[Ea],c)}H.lh=Db();H.Bk=function(){var a;for(a=this;a&&a.Hd;a=a.C)a.Hd=!1};function Yc(a,b){a.Hd=!0;Hc(function(){a.Hd&&(a.lh(b),ad[D](null,b))})}var ad=Bc;function Nc(a){Wb[D](this,a)}K(Nc,Wb);Aa(Nc[z],"cancel");function Xc(a,b,c){this.ga=a;this.resolve=b;this.reject=c};
function bd(a,b){this.ya=a;this.Zb=b||this.Hf()}var cd=0;H=bd[z];H.id=G("ya");H.th=Eb("ya");H.u=G("Zb");H.Hf=function(){return{}};H.Wg=G("Zb");H.Ia=function(){return{id:this.ya,value:this.Wg()}};H.Ub=function(a){return"#"==a.substr(-1)?this.ya:null};function dd(a){return new bd(a.id,a[x])}function ed(a){return new bd(cd++,a||{})}function fd(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[y];++c)var d=a[c][t](16),b=b+(2>d[y]?"0"+d:d);return b};
function gd(a){this.type=a}function hd(a){bd[D](this,-1,a)}K(hd,bd);
var id={};I("lf.TransactionType",id,void 0);id.READ_ONLY=0;id.READ_WRITE=1;

function jd(a,b){this.Sa=a;this.Xg=b;this.ca=Wc()}H=jd[z];H.ij=G("Sa");H.V=function(){try{this.Sa.Gh()}catch(a){return Sc(a)}return(0==this.Xg?Rc():this.Zj())[A](J(function(){this.Sa.V()},this))};H.Zj=function(){this.$j();this.Yj();return this.ca.ga};
H.$j=function(){var a=this.Sa.Rf();a.H()[q](function(b){var c=this.Sa.fa().get(b),c=this.X(c[l](),J(c.pc,c));b=a.get(b);var d=b.Sc().c().map(function(a){return a.id()});0<d[y]&&c[n](d).Vg(this.Fe,this);b=b.Tc().c().map(function(a){return a[1]})[Ka](b.Rc().c());c.put(b).Vg(this.Fe,this)},this)};H.Yj=function(){this.Sa.fj()[q](function(a){var b=this.X(a[l](),dd),c;b.get([-1])[A](function(a){c=a;return b[n]([])})[A](function(){b.put(c);b.put(a.Ia())},J(this.Fe,this))},this)};H.Fe=function(a){this.ca[kb](a)};function kd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[y],k=b[y],m=[],p=0;p<g+1;p++)m[p]=[],m[p][0]=0;for(var B=0;B<k+1;B++)m[0][B]=0;for(p=1;p<=g;p++)for(B=1;B<=k;B++)c(a[p-1],b[B-1])?m[p][B]=m[p-1][B-1]+1:m[p][B]=ea.max(m[p-1][B],m[p][B-1]);for(var Ta=[],p=g,B=k;0<p&&0<B;)c(a[p-1],b[B-1])?(Ta[Cb](d(p-1,B-1)),p--,B--):m[p-1][B]>m[p][B-1]?p--:B--;return Ta}function ld(a){return gc(arguments,function(a,c){return a+c},0)}
function md(a){return ld[jb](null,arguments)/arguments[y]}function nd(a){var b=arguments[y];if(2>b)return 0;var c=md[jb](null,arguments);return ld[jb](null,fc(arguments,function(a){return ea.pow(a-c,2)}))/(b-1)}function od(a){return ea.sqrt(nd[jb](null,arguments))};var pd="StopIteration"in Gb?Gb.StopIteration:{message:"StopIteration",stack:""};function qd(){}ra(qd[z],function(){throw pd;});qd[z].Cc=function(){return this};function rd(a){if(a instanceof qd)return a;if("function"==typeof a.Cc)return a.Cc(!1);if(Nb(a)){var b=0,c=new qd;ra(c,function(){for(;;){if(b>=a[y])throw pd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function sd(a,b,c){if(Nb(a))try{ec(a,b,c)}catch(d){if(d!==pd)throw d;}else{a=rd(a);try{for(;;)b[D](c,a[$a](),void 0,a)}catch(g){if(g!==pd)throw g;}}}function td(a){if(hc(arguments,function(a){return!a[y]})||!arguments[y])return new qd;var b=new qd,c=arguments,d=sc(0,c[y]);ra(b,function(){if(d){for(var a=fc(d,function(a,b){return c[b][a]}),b=d[y]-1;0<=b;b--){L(d);if(d[b]<c[b][y]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw pd;});return b};function N(a,b){this.g={};this.b=[];this.Pa=this.aa=0;var c=arguments[y];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[mb](a)}H=N[z];H.ra=G("aa");H.c=function(){this.Hc();for(var a=[],b=0;b<this.b[y];b++)a[v](this.g[this.b[b]]);return a};H.H=function(){this.Hc();return this.b[Ka]()};H.A=function(a){return ud(this.g,a)};H.sd=function(a){for(var b=0;b<this.b[y];b++){var c=this.b[b];if(ud(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Nc=function(a,b){if(this===a)return!0;if(this.aa!=a.ra())return!1;var c=b||vd;this.Hc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function vd(a,b){return a===b}H.Fa=function(){return 0==this.aa};na(H,function(){this.g={};Ba(this.b,0);this.Pa=this.aa=0});ka(H,function(a){return ud(this.g,a)?(delete this.g[a],this.aa--,this.Pa++,this.b[y]>2*this.aa&&this.Hc(),!0):!1});
H.Hc=function(){if(this.aa!=this.b[y]){for(var a=0,b=0;a<this.b[y];){var c=this.b[a];ud(this.g,c)&&(this.b[b++]=c);a++}Ba(this.b,b)}if(this.aa!=this.b[y]){for(var d={},b=a=0;a<this.b[y];)c=this.b[a],ud(d,c)||(this.b[b++]=c,d[c]=1),a++;Ba(this.b,b)}};H.get=function(a,b){return ud(this.g,a)?this.g[a]:b};H.set=function(a,b){ud(this.g,a)||(this.aa++,this.b[v](a),this.Pa++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.H(),a=a.c()):(b=xc(a),a=wc(a));for(var c=0;c<b[y];c++)this.set(b[c],a[c])};
la(H,function(a,b){for(var c=this.H(),d=0;d<c[y];d++){var g=c[d],k=this.get(g);a[D](b,k,g,this)}});ta(H,function(){return new N(this)});H.Cc=function(a){this.Hc();var b=0,c=this.Pa,d=this,g=new qd;ra(g,function(){if(c!=d.Pa)throw fa("The map has changed since the iterator was created");if(b>=d.b[y])throw pd;var g=d.b[b++];return a?g:d.g[g]});return g};function ud(a,b){return ba[z][bb][D](a,b)};
function wd(a){this.Fk=a}f(wd[z],G("Fk"));var xd=new wd("backstore"),yd=new wd("cache"),zd=new wd("indexstore"),Ad=new wd("engine"),Bd=new wd("runner"),Cd=new wd("observerregistry"),Dd=new wd("schema");
function Ed(a){if("function"==typeof a.ra)a=a.ra();else if(Nb(a)||Ob(a))a=a[y];else{var b=0,c;for(c in a)b++;a=b}return a}function Fd(a){if("function"==typeof a.c)return a.c();if(Ob(a))return a[ab]("");if(Nb(a)){for(var b=[],c=a[y],d=0;d<c;d++)b[v](a[d]);return b}return wc(a)}
function Gd(a,b,c){if("function"==typeof a[Ab])return a[Ab](b,c);if(Nb(a)||Ob(a))return ic(a,b,c);var d;if("function"==typeof a.H)d=a.H();else if("function"!=typeof a.c)if(Nb(a)||Ob(a)){d=[];for(var g=a[y],k=0;k<g;k++)d[v](k)}else d=xc(a);else d=void 0;for(var g=Fd(a),k=g[y],m=0;m<k;m++)if(!b[D](c,g[m],d&&d[m],a))return!1;return!0};function O(a){this.g=new N;a&&this[mb](a)}function Hd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Qb(a):b.substr(0,1)+a}H=O[z];H.ra=function(){return this.g.ra()};H.add=function(a){this.g.set(Hd(a),a)};H.addAll=function(a){a=Fd(a);for(var b=a[y],c=0;c<b;c++)this.add(a[c])};ka(H,function(a){return this.g[n](Hd(a))});na(H,function(){this.g[Pa]()});H.Fa=function(){return this.g.Fa()};H.contains=function(a){return this.g.A(Hd(a))};H.ci=function(a){return Gd(a,this[ib],this)};H.c=function(){return this.g.c()};
ta(H,function(){return new O(this)});H.Nc=function(a){return this.ra()==Ed(a)&&this.Rj(a)};H.Rj=function(a){var b=Ed(a);if(this.ra()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Gd(this,function(b){var d=a;if("function"==typeof d[ib])b=d[ib](b);else if("function"==typeof d.sd)b=d.sd(b);else if(Nb(d)||Ob(d))b=0<=dc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Cc=function(){return this.g.Cc(!1)};
function Id(a,b){this.ya=a;this.Zb=b||{}}function Jd(a){var b=new O;a[q](function(a){b.add(a>>9)});return b.c()}H=Id[z];H.ka=G("ya");H.uc=G("Zb");H.Pg=function(a){a[q](function(a){this.Zb[a.id()]=a.Ia()},this)};H.Ak=function(a){a[q](function(a){var c=this.Zb;a in c&&delete c[a]},this)};H.Ia=function(){return{id:this.ya,value:JSON.stringify(this.Zb)}};function Kd(a){return new Id(a.id,JSON.parse(a[x]))};

function Ld(a,b,c){this.S=a;this.Pb=b;this.Kg=c}H=Ld[z];H.get=function(a){return 0==a[y]?this.we():this.mj(a)[A](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Pb(d.uc()[a])},this)},this))};H.mj=function(a){var b=new N,c=Wc();a=Jd(a).map(function(a){return new M(function(c,k){var m;try{m=this.S.get(a)}catch(p){k(p);return}va(m,k);Ca(m,J(function(a){a=Kd(a[wb][Xa]);b.set(a.ka(),a);c()},this))},this)},this);Vc(a)[A](function(){c[xb](b)});return c.ga};
H.we=function(){return new M(function(a,b){var c=[],d;try{d=this.S[vb]()}catch(g){b(g);return}va(d,b);Ca(d,J(function(){var b=d[Xa];if(b){var g=Kd(b[x]).uc(),p;for(p in g)c[v](this.Pb(g[p]));b[Ra]()}else a(c)},this))},this)};H.$b=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Ca(d,b);va(d,c)},this)};
H.put=function(a){if(0==a[y])return Rc();var b=new N;a[q](function(a){var d;d=a.id()>>9;var g=b.get(d,null);null===g&&(g=this.Kg(this.S[sb],d));g.Pg([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.$b(J(function(){return this.S.put(a.Ia())},this))},this);return Vc(a)};
ka(H,function(a){if(0==a[y])return this.$b(J(function(){return this.S[Pa]()},this));var b=new N;a[q](function(a){var d=a>>9,g=b.get(d,null);null===g&&(g=this.Kg(this.S[sb],d));g.Ak([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.$b(J(function(){var b;a:{b=a.uc();for(var g in b){b=!1;break a}b=!0}return b?this.S[rb](a.ka()):this.S.put(a.Ia())},this))},this);return Vc(a)});function Md(a,b,c){a=a.o(yd);var d=[c<<9,(c+1<<9)-1];b=a.ab(b,d[0],d[1]);c=new Id(c);c.Pg(b);return c}
function Nd(a,b){return new Id(b)};
function Od(){};
function Pd(a){this.qa=a.o(yd);this.I=a.o(zd);this.s=a.o(Dd)}Da(Pd[z],function(a){a[q](function(a){this.al(a);this.Zk(a)},this)});Pd[z].Zk=function(a){var b=a[l]();a.Sc().c()[q](function(a){this.qa[n](b,[a.id()])},this);a.Rc()[q](function(a){this.qa.set(b,[a])},this);a.Tc()[q](function(a){this.qa.set(b,[a[1]])},this)};Pd[z].al=function(a){var b=this.s[u](a[l]());a.dj()[q](function(a){this.ah(b,a)},this)};
Pd[z].ah=function(a,b){a.Da().map(function(a){return this.I.get(a.l())},this)[Ka]([this.I.get(a.Rb())])[q](function(a){var d=null===b[1]?null:b[1].Ub(a[l]()),g=null===b[0]?null:b[0].Ub(a[l]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[n](g,b[0].id()):0!=a.Jc()[Wa](g,d)&&(a.add(d,b[1].id()),a[n](g,b[0].id()))})};
var Qd={};I("lf.ConstraintAction",Qd,void 0);Qd.RESTRICT=0;Qd.CASCADE=1;var Rd={};I("lf.ConstraintTiming",Rd,void 0);Rd.IMMEDIATE=0;Rd.DEFERRABLE=1;var Sd={};I("lf.Order",Sd,void 0);Sd.DESC=0;Sd.ASC=1;var Td={};I("lf.Type",Td,void 0);Td.ARRAY_BUFFER=0;Td.BOOLEAN=1;Td.DATE_TIME=2;Td.INTEGER=3;Td.NUMBER=4;Td.STRING=5;Td.OBJECT=6;var Ud={0:null,1:!1,2:ba.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",Ud,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[y])for(var c=1;c<=ea.min(4,arguments[y]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][t]()[w](0,64)))}K(P,fa);
function Vd(a){this.I=a.o(zd);this.s=a.o(Dd)}H=Vd[z];H.Mi=function(a,b){var c=a.Gb().Be();return null===c?null:this.Li(c,b)};H.Li=function(a,b){var c=a.l(),d=b.Ub(c),c=this.I.get(c).get(d);return 0==c[y]?null:c[0]};H.le=function(a,b){var c=a.Gb().kj();b[q](function(a){c[q](function(b){if(null===a.u()[b[l]()])throw new P(202,b.l());},this)},this)};H.Sh=function(a,b,c){a.Gb().Sf()[q](function(a){a[tb]==c&&this.Rh(a,b)},this)};
H.Rh=function(a,b){b[q](function(b){if(Wd(b[0],b[1],a.rb)&&(b=b[1].u()[a.Db],!this.Vf(a).A(b)))throw new P(203,a.rb);},this)};H.Vf=function(a){var b=this.s[u](a.Yb)[a.Ib].Da()[h](function(b){return 1==b.h[y]&&b.h[0].ma[l]()==a.Ib})[0];return this.I.get(b.l())};function Wd(a,b,c){return(null===a?null!==b:null===b)||a.Ub(c)!=b.Ub(c)}
H.Th=function(a,b,c){a=a.qj();null!=a&&a[q](function(a){if(a[tb]==c){var g=this.I.get(a.rb);b[q](function(b){var c=this.Vf(a);if(Wd(b[0],b[1],c[l]())&&g.A(b[0].u()[a.Ib]))throw new P(203,a.rb);},this)}},this)};H.Df=function(a,b,c){0!=b[y]&&(b=b.map(function(a){return[null,a]}),this.Sh(a,b,c))};H.Cf=function(a,b,c){0!=b[y]&&(b=b.map(function(a){return[a,null]}),this.Th(a,b,c))};
function Xd(a){this.ib=new N;this.Ka=new N;this.lb=new N;this.B=a}H=Xd[z];ja(H,G("B"));H.Rc=G("ib");H.Tc=G("Ka");H.Sc=G("lb");H.add=function(a){if(this.lb.A(a.id())){var b=[this.lb.get(a.id()),a];this.Ka.set(a.id(),b);this.lb[n](a.id())}else this.ib.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.ib.A(b)?this.ib.set(b,c):(this.Ka.A(b)&&(a=[this.Ka.get(a[0].id())[0],c]),this.Ka.set(b,a))};
ya(H,function(a){if(this.ib.A(a.id()))this.ib[n](a.id());else if(this.Ka.A(a.id())){var b=this.Ka.get(a.id())[0];this.Ka[n](a.id());this.lb.set(a.id(),b)}else this.lb.set(a.id(),a)});H.dj=function(){var a=[];this.ib.c()[q](function(b){a[v]([null,b])},this);this.Ka.c()[q](function(b){a[v](b)},this);this.lb.c()[q](function(b){a[v]([b,null])},this);return a};f(H,function(){return"["+this.ib.H()[t]()+"], ["+this.Ka.H()[t]()+"], ["+this.lb.H()[t]()+"]"});
H.rj=function(){var a=new Xd(this.B);this.ib.c()[q](function(b){a[rb](b)},this);this.lb.c()[q](function(b){a.add(b)},this);this.Ka.c()[q](function(b){a.modify([b[1],b[0]])},this);return a};H.Fa=function(){return this.ib.Fa()&&this.lb.Fa()&&this.Ka.Fa()};
function Yd(a,b){this.pa=new N;b[q](function(a){this.pa.set(a[l](),a)},this);this.qa=a.o(yd);this.I=a.o(zd);this.Eb=new Vd(a);this.Jd=new Pd(a);this.Te=this.$d=!1;this.Bb=new N}H=Yd[z];H.Rf=G("Bb");H.fj=function(){var a=[];this.Bb.H().map(function(a){return this.pa.get(a)},this)[q](function(b){b.ac()&&(b.Da()[q](function(b){a[v](this.I.get(b.l()))},this),a[v](this.I.get(b[l]()+".#")))},this);return a};H.fa=G("pa");
H.gj=function(){var a=[];this.pa.c()[q](function(b){b.ac()&&(b.Da()[q](function(b){a[v](b.l())}),a[v](b[l]()+".#"))});return a};H.xb=function(a,b){this.Gc();this.pd(a);this.Eb.le(a,b);this.Eb.Df(a,b,0);for(var c=0;c<b[y];c++)this.Kd(a,null,b[c])};
H.Kd=function(a,b,c){var d=a[l](),g=this.Bb.get(d,null)||new Xd(d);this.Bb.set(d,g);var k=[b,c];try{this.Jd.ah(a,k)}catch(m){throw this.Te=!0,m;}null===b&&null!==c?(this.qa.set(d,[c]),g.add(c)):null!==b&&null!==c?(this.qa.set(d,[c]),g.modify(k)):null!==b&&null===c&&(this.qa[n](d,[b.id()]),g[rb](b))};Da(H,function(a,b){this.Gc();this.pd(a);this.Eb.le(a,b);for(var c=0;c<b[y];c++){var d=b[c],g=this.qa.get([d.id()])[0];this.Kd(a,g,d)}});
H.He=function(a,b){this.Gc();this.pd(a);this.Eb.le(a,b);for(var c=0;c<b[y];c++){var d=b[c],g=null,k=this.Eb.Mi(a,d);null!=k&&(g=this.qa.get([k])[0],d.th(k));this.Kd(a,g,d)}};ka(H,function(a,b){this.Gc();this.pd(a);this.Eb.Cf(a,b,0);for(var c=0;c<b[y];c++)this.Kd(a,b[c],null)});H.Gh=function(){this.Bb.c()[q](function(a){var b=this.pa.get(a[l]());this.Eb.Df(b,a.Rc().c(),1);this.Eb.Cf(b,a.Sc().c(),1);a.Tc().c()},this)};H.V=function(){this.Gc();this.$d=!0};
H.Gc=function(){L(!this.Te,"Attemptted to use journal that needs to be rolled back.");L(!this.$d,"Attemptted to commit a terminated journal.")};H.Kb=function(){L(!this.$d,"Attempted to rollback a terminated journal.");var a=this.Bb.c().map(function(a){return a.rj()},this);this.Jd[Bb](a);this.$d=!0;this.Te=!1};H.pd=function(a){if(!this.pa.A(a[l]()))throw new P(106,a[l]());};
function Zd(a,b,c,d){this.f=a;this.w=b;this.ba=null===this.f?!1:c;this.ea=null===this.w?!1:d}H=Zd[z];f(H,function(){return(this.ba?"(":"[")+(null===this.f?"unbound":this.f)+", "+(null===this.w?"unbound":this.w)+(this.ea?")":"]")});H.Yh=function(){if(null===this.f&&null===this.w)return[];var a=null,b=null;null===this.f||(a=new Zd(null,this.f,!1,!this.ba));null===this.w||(b=new Zd(this.w,null,!this.ea,!1));return[a,b][h](function(a){return null!==a})};
H.reverse=function(){return new Zd(this.w,this.f,this.ea,this.ba)};H.yg=function(a){var b=$d(this.f,a.f,!0,this.ba,a.ba);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.w||c.w>a.f||c.w==a.f&&!c.ea&&!a.ba};function ae(){return new Zd(null,null,!1,!1)}H.contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.ea;return(null===this.f||a>this.f||a==this.f&&!this.ba)&&b};H.Nc=function(a){return this.f==a.f&&this.ba==a.ba&&this.w==a.w&&this.ea==a.ea};
function $d(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function be(a,b){var c=$d(a.f,b.f,!0,a.ba,b.ba);0==c&&(c=$d(a.w,b.w,!1,a.ea,b.ea));return c};
function ce(a,b){this.entries=a;this.F=new O(b);this.Mb=null}H=ce[z];H.Oj=function(a){return this.F.Nc(a.F)};function de(a,b){L(a.Oj(b),"Intersection/union operations only apply to compatible relations.")}H.Y=function(){return this.F.c()};H.Je=function(){return 1<this.F.ra()};H.ze=function(){return this[C].map(function(a){return a.wa.u()})};H.tj=function(){return this[C].map(function(a){return a.wa.id()})};H.Gk=function(a,b){null===this.Mb&&(this.Mb=new N);this.Mb.set(a.l(),b)};
H.tc=function(a){L(null!==this.Mb,"getAggregationResult called before any results have been calculated.");var b=this.Mb.get(a.l(),void 0);L(Hb(b),"Could not find result for "+a.l());return b};H.Fj=function(a){return null!==this.Mb&&this.Mb.A(a.l())};var ee=null;function fe(){null===ee&&(ee=new ce([],[]));return ee}
function ge(a){if(0==a[y])return fe();for(var b=a[lb](function(b,c){de(a[0],c);return b+c[C][y]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[C][q](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,k=0;k<c[y];k++)b[Ab](function(a){return a.A(c[k].id)})&&g.set(c[k].id,c[k]);return new ce(g.c(),a[0].F.c())}function he(a){if(0==a[y])return fe();var b=new N;a[q](function(c){de(a[0],c);c[C][q](function(a){b.set(a.id,a)})});return new ce(b.c(),a[0].F.c())}
function ie(a,b){var c=1<b[y],d=a.map(function(a){return new je(a,c)});return new ce(d,b)}function je(a,b){this.wa=a;this.id=ke++;this.Ke=b}var ke=0;je[z].O=function(a){var b=a.$a();return null!==b&&this.wa.u()[bb](b)?this.wa.u()[b]:this.Ke?this.wa.u()[a.X().Ca()][a[l]()]:this.wa.u()[a[l]()]};je[z].bf=function(a,b){var c=a.$a();if(null!=c)this.wa.u()[c]=b;else if(this.Ke){var c=a.X().Ca(),d=this.wa.u()[c];null==d&&(d={},this.wa.u()[c]=d);d[a[l]()]=b}else this.wa.u()[a[l]()]=b};
function le(a,b,c,d){function g(a,b){if(a.Ke){var c=a.wa.u(),d;for(d in c)k[d]=c[d]}else L(!k[bb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.wa.u()}var k={};g(a,b);g(c,d);a=new bd(-1,k);return new je(a,!0)};
I("lf.bind",function(a){return new me(a)},void 0);function me(a){this.sa=a}I("lf.Binder",me,void 0);me[z].ub=G("sa");
function ne(){var a=oe();this.wi=new N(1,pe(),2,qe(),4,a,3,a,5,re())}Jb(ne);ne[z].xe=function(a,b){var c=this.wi.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function oe(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[pb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function re(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[pb](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function qe(){return new N("between",function(a,b){return a[Qa]()>=b[0][Qa]()&&a[Qa]()<=b[1][Qa]()},"eq",function(a,b){return(null===a?-1:a[Qa]())==(null===b?-1:b[Qa]())},"gte",function(a,b){return a[Qa]()>=b[Qa]()},"gt",function(a,b){return a[Qa]()>b[Qa]()},"in",function(a,b){return b[yb](function(b){return b[Qa]()==a[Qa]()})},"lte",function(a,b){return a[Qa]()<=b[Qa]()},"lt",function(a,b){return a[Qa]()<b[Qa]()},"neq",function(a,b){return(null===a?-1:a[Qa]())!=(null===b?-1:b[Qa]())})}
function pe(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function se(a,b){this.mg=a;this.bh=b}se[z].getKey=G("mg");se[z].yj=G("bh");ta(se[z],function(){return new se(this.mg,this.bh)});function te(a,b){se[D](this,a,b);this.i=this.C=null}K(te,se);var ue=[];H=te[z];ta(H,function(){return new te(this.getKey(),this.yj())});H.getParent=G("C");H.gg=function(){return!this.xa()};H.N=function(){return this.i||ue};H.sb=function(a){return this.N()[a]||null};H.xa=function(){return this.N()[y]};H.ej=function(){for(var a=0,b=this;b[Ga]();)a++,b=b[Ga]();return a};H.mb=function(){for(var a=this;a[Ga]();)a=a[Ga]();return a};H.contains=function(a){do a=a[Ga]();while(a&&a!=this);return Boolean(a)};
H.Ac=function(a,b){if(!1!==a[D](b,this))for(var c=this.N(),d=0;d<c[y];d++)c[d].Ac(a,b)};H.Zd=Eb("C");H.ia=function(a){this.Dc(a,this.i?this.i[y]:0)};H.Dc=function(a,b){L(!a[Ga]());a.Zd(this);this.i=this.i||[];L(0<=b&&b<=this.i[y]);nc(this.i,b,0,a)};H.Vd=function(a){var b=this.i&&this.i[a];return b?(b.Zd(null),jc(this.i,a),0==this.i[y]&&(this.i=null),b):null};H.removeChild=function(a){return this.Vd(dc(this.N(),a))};

function ve(){te[D](this,"","");this.ya=we++}K(ve,te);var we=0;ve[z].ka=G("ya");ve[z].cf=Eb("ya");
function xe(a,b,c){ve[D](this);this.J=a;wa(this,b);this.W=c;this.vd=ne.ye().xe(this.J.$(),this.W);this.bb=!1;this.lc=b}K(xe,ve);H=xe[z];H.Nb=function(){var a=new xe(this.J,this[x],this.W);a.Hk(this.lc);a.Yd(this.bb);a.cf(this.ka());return a};H.tb=function(a){return null!=a?(a[v](this.J),a):[this.J]};H.Yd=Eb("bb");H.Hk=Eb("lc");H.Af=function(){var a=!1;this[x]instanceof me||(a="array"==Kb(this[x])?!this[x][yb](function(a){return a instanceof me}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Af();if("in"==this.W)return this.ri(a);var b=a[C][h](function(a){return this.vd(a.O(this.J),this[x])!=this.bb},this);return new ce(b,a.Y())};oa(H,function(a){if(this.lc instanceof me){var b=this.lc.ub();if(a[y]<=b)throw new P(510);wa(this,a[b])}else"array"==Kb(this.lc)&&wa(this,this.lc.map(function(b){if(b instanceof me){if(a[y]<=b.ub())throw new P(510);return a[b.ub()]}return b}))});
H.ri=function(a){L("in"==this.W,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[x]),c=J(function(a){return b[ib](a)!=this.bb},this),d=a[C][h](function(a){return c(a.O(this.J))},this);return new ce(d,a.Y())};f(H,function(){return"value_pred("+this.J.l()+" "+this.W+(this.bb?"(complement)":"")+" "+this[x]+")"});H.fg=function(){this.Af();return null!==this[x]&&("between"==this.W||"eq"==this.W||"gt"==this.W||"gte"==this.W||"lt"==this.W||"lte"==this.W)};
H.Vk=function(){L(this.fg(),"Could not convert predicate to key range.");var a=null;"between"==this.W?a=new Zd(this[x][0],this[x][1],!1,!1):"eq"==this.W?(a=this[x],a=new Zd(a,a,!1,!1)):a="gte"==this.W?new Zd(this[x],null,!1,!1):"gt"==this.W?new Zd(this[x],null,!0,!1):"lte"==this.W?new Zd(null,this[x],!1,!1):new Zd(null,this[x],!1,!0);return this.bb?a.Yh():[a]};
function ye(a){this.ma=a;this.Ic=this.ua=null}H=ye[z];H.Dd=function(a){null===this.ua&&null!=this.D&&(this.ua=ze(this.D));a=this.ua.get(a,null);L(null!==a);return a};function ze(a){var b=new N;a.Ac(function(a){b.set(a.ka(),a)});return b}H.qd=function(a){a.D&&(this.D=a.D.Nb());this.Ic=a};H.Lf=function(a,b){var c=new O;a.c()[q](function(a){a.Gb().Sf()[q](function(g){if(!b||b[ib](a[g.Db]))g=this.ma[u](g.Yb),c.add(g)},this)},this);return c};
H.se=function(a,b){var c=new O;a.c()[q](function(a){a.tb()[q](function(a){b&&!b[ib](a)||null===a.N()||a.N()[q](function(a){c.add(a.X())},this)},this)},this);return c};oa(H,function(){L(null==this.Ic);return this});H.ie=function(a){var b=this.D;null!=b&&b.Ac(function(b){b instanceof xe&&b[r](a)})};
function Ae(a){ye[D](this,a)}K(Ae,ye);function Be(a){var b="";a[q](function(c,d){b+=c.J.l()+" ";b+=1==c.ob?"ASC":"DESC";d<a[y]-1&&(b+=", ")});return b}Ae[z].fa=function(){return new O(this.f)};ta(Ae[z],function(){var a=new Ae(this.ma);a.qd(this);this.h&&(a.h=this.h[w]());this.f&&(a.f=this.f[w]());a.oa=this.oa;a.na=this.na;this.K&&(a.K=this.K[w]());this.la&&(a.la=this.la[w]());this.Vb&&(a.Vb=this.Vb);this.gc&&(a.gc=this.gc);return a});
oa(Ae[z],function(a){Ae.gb[r][D](this,a);null!=this.Vb&&(this.oa=a[this.Vb.ub()]);null!=this.gc&&(this.na=a[this.gc.ub()]);this.ie(a);return this});
function Ce(a,b){this.Aa=a;this.pa=b}Ce[z].mb=G("Aa");Ce[z].Mf=Fb("plan description");Ce[z].fa=G("pa");function De(a){var b=new O;a[q](function(a){b[mb](a.fa())});return b};

function Ee(a,b){this.global=a;this.Cb=a.o(xd);this.Td=b.map(function(a){return a[Ea]});this.Ag=b.map(function(a){return a.Ue});this.Ef=De(this.Ag);this.Yg=this.mi();this.cc=Wc()}H=Ee[z];H.mi=function(){return this.Td[yb](function(a){return!(a instanceof Ae)})?1:0};
ia(H,function(){var a=new Yd(this[Sa],this.Ef.c()),b=[],c=this.Ag[w](),d=J(function(){var g=c[Ha]();if(g){var k=this.Td[b[y]];return g.mb()[Ia](a,k)[A](function(a){b[v](a[0]);return d()})}return Rc()},this);return d()[A](J(function(){return this.Cb.Ob(this.Yg,a).V()},this))[A](J(function(){this.Re(b);return b},this),J(function(b){a.Kb();throw b;},this))});H.$=G("Yg");H.fa=G("Ef");H.Uc=G("cc");H.ka=function(){return Qb(this)};H.Re=Db();
function Fe(a,b){Ee[D](this,a,b);this.Hb=a.o(Cd)}K(Fe,Ee);xa(Fe[z],Fb(0));Fe[z].Re=function(a){this.Td[q](function(b,c){this.Hb.$g(b,a[c])},this)};
function Ge(a,b){this.m=a;this.Hb=a.o(Cd);this.Xa=a.o(Bd);this.Jd=new Pd(a);this.Bb=b;var c=a.o(Dd),d=this.Bb.map(function(a){return c[u](a[l]())});this.pa=new O(d);this.cc=Wc()}H=Ge[z];ia(H,function(){this.Jd[Bb](this.Bb);this.fd();return Rc()});H.$=Fb(1);H.fa=G("pa");H.Uc=G("cc");H.ka=function(){return Qb(this)};xa(H,Fb(1));H.fd=function(){var a=this.Hb.Ee(this.pa.c());0!=a[y]&&(a=new Fe(this.m,a),this.Xa.dc(a))};
function Ie(a){this.m=a;this.Cb=a.o(xd);this.Xa=a.o(Bd)}Ie[z].Rk=function(){this.Cb.subscribe(this.Pe[r](this))};Ie[z].Pe=function(a){a=new Ge(this.m,a);this.Xa.dc(a)};


function Q(a,b){this.Pa=a;this.j=b;this.hb=new N}I("lf.backstore.FirebaseRawBackStore",Q,void 0);H=Q[z];H.Ed=G("j");H.Fd=function(){throw new P(351);};function Je(a,b){var c=Wc(),d=a;b[y]&&(d=a[gb](b));d[db]("value",function(a){c[xb](a.val())},function(a){c[kb](a)});return c.ga}function Ke(a,b,c){function d(a){a?g[kb](a):g[xb]()}c=c||!1;var g=Wc();c?a.set(b,d):a[Bb](b,d);return g.ga}
H.Ea=function(a){return Je(this.j,"@rev/R")[A](function(a){this.Wa=a;return Je(this.j,"@table")}[r](this))[A](function(b){var c=0,d;for(d in b)this.hb.set(d,b[d]),b[d]>c&&(c=b[d]);a.Ya()[q](function(a){this.hb.A(a[l]())||(b[a[l]()]=++c)},this);d=this.j[gb]("@table");return Ke(d,b)}[r](this))};
H.ae=function(a,b){var c=this.hb.get(a);return null!=c?function(){var a={},g=Wc();this.j[Ma]("T").equalTo(c)[db]("value",function(c){c[q](function(c){var g=b(c.val());a[ga(c.key(),10)]=g});g[xb](a)});return g.ga}[D](this)[A](function(a){a["@rev"]={R:++this.Wa};return Ke(this.j,a)}[r](this)):Rc()};H.Lc=function(a){return this.ae(a,Fb(null))[A](function(){this.hb[n](a);return Ke(this.j[gb]("@table/"+a),null,!0)}[r](this))};Q[z].dropTable=Q[z].Lc;
Q[z].Ec=function(a,b,c){return this.ae(a,function(a){var g=a.P;g[b]=c;return{R:this.Wa+1,T:a.T,P:g}}[r](this))};Q[z].addTableColumn=Q[z].Ec;Q[z].Mc=function(a,b){return this.ae(a,function(a){var d=a.P;delete d[b];return{R:this.Wa+1,T:a.T,P:d}}[r](this))};Q[z].dropTableColumn=Q[z].Mc;Q[z].ed=function(a,b,c){return this.ae(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Wa+1,T:a.T,P:g}}[r](this))};Q[z].renameTableColumn=Q[z].ed;Q[z].Fb=function(){throw new P(351);};Q[z].createRow=Q[z].Fb;
Q[z].Xc=G("Pa");Q[z].getVersion=Q[z].Xc;Q[z].qc=function(a){var b=Wc();a=this.hb.get(a);this.j[Ma]("T").equalTo(a)[db]("value",function(a){var d=[];a[q](function(a){d[v](a.val().P)});b[xb](d)});return b.ga};qa(Q[z],function(){var a={},b=this.hb.H().map(function(b){return this.qc(b)[A](function(d){a[b]=d})}[r](this));return Vc(b)[A](function(){return a})});qa(Q[z],Q[z].dump);
function Le(a,b,c){jd[D](this,c,b);this.j=a}K(Le,jd);Le[z].X=function(a){return this.j.Vc(a)};
Le[z].V=function(){Le.gb.V[D](this);var a=this.ij().Rf();if(0==a.ra())this.ca[xb]();else{var b=this.j.sj()+1;this.j.Og(b);var c={"@rev":{R:b}};a[q](function(a){var g=this.j.Yf(a[l]());a.Rc()[q](function(a,d){c[d]={R:b,T:g,P:a.u()}});a.Tc()[q](function(a,d){c[d]={R:b,T:g,P:a[1].u()}});a.Sc()[q](function(a,b){c[b]=null})},this);this.j.pj()[Bb](c,function(c){if(null===c)this.ca[xb]();else this.j.Og(b-1),c=a.c().map(function(a){return this.j.Fg(a[l]())},this),Vc(c)[A](this.ca[kb][r](this.ca),this.ca[kb][r](this.ca))}[r](this))}return this.ca.ga};
function Me(){this.qb=new N}H=Me[z];H.De=function(a){if(0==a[y])return this.qb.c();var b=[];a[q](function(a){a=this.qb.get(a,null);null===a||b[v](a)},this);return b};H.getData=G("qb");H.get=function(a){return Rc(this.De(a))};H.Ve=function(a){a[q](function(a){this.qb.set(a.id(),a)},this)};H.put=function(a){this.Ve(a);return Rc()};H.Gg=function(a){0==a[y]||a[y]==this.qb.ra()?this.qb[Pa]():a[q](function(a){this.qb[n](a)},this)};ka(H,function(a){this.Gg(a);return Rc()});
H.jj=function(){return this.qb.Fa()?0:this.qb.H()[lb](function(a,b){return a>b?a:b},0)};
function Ne(a,b){this.s=a;this.kh=b;this.dd=new N;this.Wa=-1;this.F=new N;this.hb=new N;this.je=null}H=Ne[z];H.sj=G("Wa");H.Og=Eb("Wa");
H.Ea=function(a){this.j=this.kh[gb](this.s[sb]());var b=a||function(){return Rc()};return Je(this.j,"@db/version")[A](function(a){return null===a?Ke(this.j,this.di(),!0)[A](function(){var a=new Q(0,this.j);return b(a)}[r](this)):a==this.s[Fa]()?Je(this.j,"@rev/R")[A](function(a){this.Wa=a;return Je(this.j,"@table")}[r](this))[A](function(a){for(var b in a)this.hb.set(b,a[b]);a=this.s.Ya().map(function(a){return this.Fg(a[l]())},this);return Vc(a)}[r](this))[A](function(){this.Kj();this.qg();return Rc()}[r](this)):
this.Se(a,b)[A](function(){return this.Ea()}[r](this))}[r](this))};H.Se=function(a,b){var c=new Q(a,this.j);return c.Ea(this.s)[A](function(){return this.$k()}[r](this))[A](function(){return b(c)})[A](function(){var a=this.j[gb]("@db");return Ke(a,{version:this.s[Fa]()},!0)}[r](this))};H.$k=function(){return Rc()};H.qg=function(){this.j.off();this.j.on("child_removed",this.fk[r](this));this.ke&&(this.ke.off(),this.dd[Pa]());this.ke=this.j[Ma]("R").startAt(this.Wa+1);this.ke.on("value",this.Pe[r](this))};
H.Kj=function(){cd=this.F.c().map(function(a){return a.jj()})[lb](function(a,b){return a>b?a:b},0)+1};H.fk=function(a){var b=a.val(),c=this.dd.get(b.T,null);null===c&&(c=new O,this.dd.set(b.T,c));c.add(ga(a.key(),10))};H.Pe=function(a){var b=a[gb]("@rev/R").val();null!=b&&b!=this.Wa&&(this.Wa=b,a=this.Si(a),a[q](function(a){var b=this.F.get(a[l]()),g=a.Sc().H();g[y]&&b.Gg(g);var k=a.Rc().c();a.Tc()[q](function(a){k[v](a[1])});b.Ve(k)},this),a[y]&&this.bd(a),this.qg())};
H.Si=function(a){var b=new O,c=new N;this.hb[q](function(a,g){var k=this.F.get(g),m=new Xd(g);if(this.dd.A(a)){var p=this.dd.get(a).c();b[mb](p);k.De(p)[q](function(a){m[rb](a)})}c.set(a,m)}[r](this));a[q](function(a){if("@rev"!=a.key()){var g=ga(a.key(),10);if(!b[ib](g)){a=a.val();var k=c.get(a.T),m=this.F.get(k[l]());m.getData().A(g)?k.modify([m.De([g])[0],new bd(g,a.P)]):k.add(new bd(g,a.P))}}}[r](this));return c.c()[h](function(a){return!a.Fa()})};
H.Fg=function(a){var b=Wc(),c=this.Yf(a);this.j[Ma]("T").equalTo(c)[db]("value",function(c){var g=new Me,k=[];c[q](function(a){k[v](new bd(ga(a.key(),10),a.val().P))});g.Ve(k);this.F.set(a,g);b[xb]()}[r](this));return b.ga};H.Yf=function(a){return this.hb.get(a)};H.di=function(){var a={};a["@db"]={version:this.s[Fa]()};a["@rev"]={R:1};this.Wa=1;a["@table"]={};this.s.Ya()[q](function(b,c){var d=b[l]();a["@table"][d]=c;this.F.set(d,new Me);this.hb.set(d,c)},this);return a};
H.Ob=function(a,b){return new Le(this,a,b)};H.Vc=function(a){var b=this.F.get(a,null);if(null!==b)return b;throw new P(101,a);};H.pj=G("j");sa(H,Db());za(H,Eb("je"));H.bd=function(a){null!=this.je&&this.je(a)};
function R(a,b,c,d){this.j=b;this.Oa=c;this.Pa=a;this.md=d}I("lf.backstore.IndexedDBRawBackStore",R,void 0);R[z].Ed=G("j");R[z].getRawDBInstance=R[z].Ed;R[z].Fd=G("Oa");R[z].getRawTransaction=R[z].Fd;R[z].Lc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[z].dropTable=R[z].Lc;
R[z].jk=function(a,b,c){return new M(function(d,g){var k;try{var m=this.Oa[ob](a);k=m[vb]()}catch(p){g(p);return}Ca(k,function(){var a=k[Xa];a?(b(a),a[Ra]()):(c(m),d())});va(k,g)},this)};function Oe(a){var b=null;return b=a instanceof ArrayBuffer?fd(a):a instanceof Date?a[Qa]():a}R[z].gf=function(a,b){function c(a){var c=Kd(a[x]),d=c.uc(),p;for(p in d){var B=dd(d[p]);b(B);d[p]=B.Ia()}a[Bb](c.Ia())}function d(a){var c=dd(a[x]);b(c);a[Bb](c.Ia())}return this.jk(a,this.md?c:d,Db())};
R[z].Ec=function(a,b,c){var d=Oe(c);return this.gf(a,function(a){a.u()[b]=d})};R[z].addTableColumn=R[z].Ec;R[z].Mc=function(a,b){return this.gf(a,function(a){delete a.u()[b]})};R[z].dropTableColumn=R[z].Mc;R[z].ed=function(a,b,c){return this.gf(a,function(a){a.u()[c]=a.u()[b];delete a.u()[b]})};R[z].renameTableColumn=R[z].ed;
R[z].wj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Oa[ob](a)[vb]()}catch(k){d(k);return}Ca(g,J(function(){var a=g[Xa];if(a){if(this.md){var d=Kd(a[x]).uc(),k;for(k in d)b[v](d[k])}else b[v](a[x]);a[Ra]()}else c(b)},this));va(g,d)},this)};R[z].Fb=function(a){var b={};uc(a,J(function(a,d){b[d]=Oe(a)},this));return ed(b)};R[z].createRow=R[z].Fb;R[z].Xc=G("Pa");R[z].getVersion=R[z].Xc;
qa(R[z],function(){for(var a=this.j[La],b=[],c=0;c<a[y];++c){var d=a[nb](c);b[v](this.qc(d))}return Vc(b)[A](function(b){var c={};b[q](function(b,d){c[a[nb](d)]=b});return c})});qa(R[z],R[z].dump);R[z].qc=function(a){return this.wj(a)[A](function(a){return a.map(function(a){return a[x]})})};
function Pe(a,b){this.S=a;this.Pb=b}H=Pe[z];H.get=function(a){if(0==a[y])return this.we();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.S.get(a)}catch(k){d(k);return}va(g,d);Ca(g,J(function(a){c(this.Pb(a[wb][Xa]))},this))},this)},this);return Vc(a)};H.we=function(){return new M(function(a,b){var c=[],d;try{d=this.S[vb]()}catch(g){b(g);return}va(d,b);Ca(d,J(function(){var b=d[Xa];b?(c[v](this.Pb(b[x])),b[Ra]()):a(c)},this))},this)};
H.$b=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}Ca(d,b);va(d,c)},this)};H.put=function(a){if(0==a[y])return Rc();a=a.map(function(a){return this.$b(J(function(){return this.S.put(a.Ia())},this))},this);return Vc(a)};
ka(H,function(a){return new M(function(b,c){var d=this.S.count();Ca(d,J(function(d){if(0==a[y]||d[wb][Xa]==a[y])return this.$b(J(function(){return this.S[Pa]()},this))[A](b,c);d=a.map(function(a){return this.$b(J(function(){return this.S[rb](a)},this))},this);Vc(d)[A](b,c)},this));va(d,c)},this)});
function Qe(a,b,c,d,g){jd[D](this,c,d);this.m=a;this.Oa=b;this.md=g;this.Oa.oncomplete=J(this.ca[xb],this.ca);this.Oa.onabort=J(this.ca[kb],this.ca)}K(Qe,jd);Qe[z].X=function(a,b,c){return this.md?(c=null!=c?c:0,a=this.Oa[ob](a),new Ld(a,b,0==c?Vb(Md,this.m):Nd)):new Pe(this.Oa[ob](a),b)};
function Re(a,b){this.m=a;this.s=b;this.nd=b.Bg().oi||!1}H=Re[z];H.Ea=function(a){var b=aa.indexedDB||aa.mozIndexedDB||aa.webkitIndexedDB||aa.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Rc()};return new M(function(a,g){var k;try{k=b.open(this.s[sb](),this.s[Fa]())}catch(m){g(m);return}va(k,g);k.onupgradeneeded=J(function(a){this.ik(c,a)[A](Db(),g)},this);Ca(k,J(function(b){this.j=b[wb][Xa];this.af()[A](J(function(b){cd=b+1;a(this.j)},this))},this))},this)};
H.ik=function(a,b){var c=b[wb][Xa],d=b[wb][fb],g=new R(b.oldVersion,c,d,this.nd);this.zk(c,d);this.hi(c,d);return a(g)};H.zk=function(a){for(var b=[],c=0;c<a[La][y];++c){var d=a[La][nb](c);-1!=d[pb](".")&&b[v](d)}b[q](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.hi=function(a,b){this.s.Ya()[q](Vb(this.ei,a,b),this)};H.ei=function(a,b,c){a[La][ib](c[l]())||a.createObjectStore(c[l](),{keyPath:"id"});c.ac()&&(c.Da()[q](function(c){this.Kc(a,b,c.l(),"btree")},this),this.Kc(a,b,c.Rb(),"rowid"))};
H.Kc=function(a,b,c,d){a[La][ib](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[ob](c),(this.nd?new Ld(a,dd,Nd):new Pe(a,dd)).put([new hd(new gd(d))]))};H.Ob=function(a,b){var c=b.fa().c().map(function(a){return a[l]()});b.gj()[q](function(a){c[v](a)});var d=this.j[fb](c,0==a?"readonly":"readwrite");return new Qe(this.m,d,b,a,this.nd)};
H.af=function(a){function b(){if(0==c[y])return Rc();var a=c[Ha]();return m(a)[A](b)}var c=this.s.Ya().map(function(a){return a[l]()}),d=this.j,g=0,k=J(function(a){return this.nd?(a=Kd(a[x]),xc(a.uc())[lb](function(a,b){return ea.max(a,b)},0)):a.key},this),m=J(function(b){return new M(function(c,m){var He;try{He=(a||d[fb]([b]))[ob](b)[vb](null,"prev")}catch(hh){m(hh);return}Ca(He,function(a){(a=a[wb][Xa])&&(g=ea.max(g,k(a)));c(g)});va(He,function(){c(g)})},this)},this);return new M(function(a){b()[A](function(){a(g)})})};
sa(H,function(){this.j[cb]()});H.Vc=function(){throw new P(511);};za(H,Db());H.bd=Db();



function Se(a,b,c){jd[D](this,c,b);this.S=a;0==b&&this.ca[xb]()}K(Se,jd);Se[z].X=function(a){return this.S.Vc(a)};Se[z].V=function(){Se.gb.V[D](this);this.ca[xb]();return this.ca.ga};
function Te(a){this.s=a;this.F=new N}H=Te[z];H.Ea=function(){this.s.Ya()[q](this.Lj,this);return Rc()};H.Vc=function(a){var b=this.F.get(a,null);if(null===b)throw new P(101,a);return b};H.Ob=function(a,b){return new Se(this,a,b)};H.Ff=function(a){if(!this.F.A(a)){var b=new Me;this.F.set(a,b);return b}return null};H.Lj=function(a){this.Ff(a[l]());a.ac()&&(a.Da()[q](function(a){this.Kc(a.l(),"btree")},this),this.Kc(a.Rb(),"rowid"))};H.Kc=function(a,b){var c=this.Ff(a);null===c||c.put([new hd(new gd(b))])};
sa(H,Db());za(H,Db());H.bd=Db();
function Ue(a){Te[D](this,a);this.Od=null}K(Ue,Te);za(Ue[z],function(a){null===this.Od&&(this.Od=a)});Ue[z].bd=function(a){null===this.Od||this.Od(a)};
function Ve(a,b,c){this.Oa=a;this.B=b;this.Pb=c}Ve[z].get=function(a){var b=this.Pb;this.Oa.La("SELECT id, value FROM "+this.B+" "+(0==a[y]?"":"WHERE id IN ("+a[F](",")+")"),[],function(a){for(var d=a[hb][y],g=e(d),k=0;k<d;++k)g[k]=b({id:a[hb][nb](k).id,value:JSON.parse(a[hb][nb](k)[x])});return g});return this.Oa.V()};
Ve[z].put=function(a){if(0==a[y])return Rc();var b="INSERT OR REPLACE INTO "+this.B+"(id, value) VALUES (?, ?)";a[q](function(a){this.Oa.La(b,[a.id(),JSON.stringify(a.u())])},this);return Rc()};ka(Ve[z],function(a){this.Oa.La("DELETE FROM "+this.B+" "+(0==a[y]?"":"WHERE id IN ("+a[F](",")+")"),[]);return Rc()});
function We(a,b,c){jd[D](this,b,c);this.j=a;this.F=new N;this.ne=[]}K(We,jd);We[z].X=function(a,b){var c=this.F.get(a,null);null===c&&(c=new Ve(this,a,b),this.F.set(a,c));return c};We[z].La=function(a,b,c){this.ne[v]({Sk:a,kk:b,transform:c})};
We[z].V=function(){We.gb.V[D](this);var a,b,c=this.ca[kb][r](this.ca),d=function(a,b){this.ca[kb](b)}[r](this),g=J(function(c,m){a=m;if(this.ne[y]){var p=this.ne[Ha]();b=p.transform;c.executeSql(p.Sk,p.kk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ca[xb](p)},this);0==this.Xg?this.j.readTransaction(g,c):this.j[fb](g,c);return this.ca.ga};
function S(a,b,c){this.j=c;this.m=a;this.Pa=b}I("lf.backstore.WebSqlRawBackStore",S,void 0);S[z].Ed=G("j");S[z].getRawDBInstance=S[z].Ed;S[z].Fd=function(){throw new P(356);};S[z].getRawTransaction=S[z].Fd;S[z].ud=function(){return new We(this.j,new Yd(this.m,[]),1)};S[z].Lc=function(a){var b=this.ud();b.La("DROP TABLE "+a,[]);return b.V()};S[z].dropTable=S[z].Lc;
S[z].qc=function(a){var b=this.ud();b.La("SELECT id, value FROM "+a,[]);return b.V()[A](function(a){for(var b=a[hb][y],g=e(b),k=0;k<b;++k)g[k]={id:a[hb][nb](k).id,value:JSON.parse(a[hb][nb](k)[x])};return Rc(g)})};S[z].ff=function(a,b){var c=this.ud(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.qc(a)[A](function(a){a[q](function(a){a=b(a);c.La(d,[JSON.stringify(a[x]),a.id])});return c.V()})};S[z].Ec=function(a,b,c){var d=Oe(c);return this.ff(a,function(a){a[x][b]=d;return a})};
S[z].addTableColumn=S[z].Ec;S[z].Mc=function(a,b){return this.ff(a,function(a){delete a[x][b];return a})};S[z].dropTableColumn=S[z].Mc;S[z].ed=function(a,b,c){return this.ff(a,function(a){a[x][c]=a[x][b];delete a[x][b];return a})};S[z].renameTableColumn=S[z].ed;S[z].Fb=function(a){var b={},c;for(c in a)b[c]=Oe(a[c]);return ed(b)};S[z].createRow=S[z].Fb;S[z].Xc=G("Pa");S[z].getVersion=S[z].Xc;
function Xe(a){a.La('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[hb][y]),d=0;d<c[y];++d)c[d]=a[hb][nb](d).tbl_name;return c})}qa(S[z],function(){var a=Wc(),b=this.ud();Xe(b);var c={};b.V()[A](J(function(b){b=b[h](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.qc(a)[A](function(b){c[a]=b})},this);Vc(b)[A](function(){a[xb](c)})},this));return a.ga});qa(S[z],S[z].dump);
function Ye(a,b,c){this.m=a;this.s=b;this.Ok=c||4194304}H=Ye[z];H.yd=function(){return new Yd(this.m,[])};H.Ea=function(a){if(null==aa.openDatabase)throw new P(353);var b=a||function(){return Rc()};return new M(J(function(a,d){try{var g=aa.openDatabase(this.s[sb](),"",this.s[sb](),this.Ok);if(null!=g)this.j=g,this.Uh(b)[A](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.Uh=function(a){var b=Wc(),c=new We(this.j,this.yd(),1);c.La("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.La("SELECT v FROM __lf_ver WHERE id = 0",[]);c.V()[A](J(function(c){var g=0;c[hb][y]&&(g=c[hb][nb](0).v);g<this.s[Fa]()?this.Se(a,g)[A](b[xb][r](b)):g>this.s[Fa]()?b[kb](new P(108)):b[xb]()},this));return b.ga};H.Ob=function(a,b){if(null!=this.j)return new We(this.j,b,a);throw new P(2);};sa(H,Db());H.Vc=function(){throw new P(512);};
H.tg=function(){throw new P(355);};za(H,function(){this.tg()});H.bd=function(){this.tg()};H.Se=function(a,b){var c=Wc();this.nk()[A](J(function(){a(new S(this.m,b,this.j))[A](J(function(){return this.af()},this))[A](c[xb][r](c))},this),c[kb][r](c));return c.ga};
H.nk=function(){var a=this.s.Ya(),b=new We(this.j,this.yd(),1),c=new We(this.j,this.yd(),1);b.La("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[Fa]()]);Xe(b);return b.V()[A](function(b){b[h](function(a){return-1!=a[pb](".")})[q](function(a){c.La("DROP TABLE "+a,[])});var g=b[h](function(a){return-1==a[pb](".")});a.map(function(a){return a[l]()})[h](function(a){return-1==g[pb](a)})[q](function(a){c.La("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.V()})};
H.af=function(){var a=0,b=Wc(),c=J(function(b){var c=new We(this.j,this.yd(),0);c.La("SELECT MAX(id) FROM "+b,[]);return c.V()[A](function(b){b=b[hb][nb](0)[0];a=ea.max(b,a)})},this),d=this.s.Ya().map(function(a){return c(a[l]())});Vc(d)[A](function(){b[xb](a)},function(a){b[kb](a)});return b.ga};

function Ze(){this.g=new N;ba.defineProperty(this,"size",{get:function(){return this.g.ra()}})}na(Ze[z],function(){this.g[Pa]()});na(Ze[z],Ze[z][Pa]);ya(Ze[z],function(a){return this.g[n](a)});Ze[z]["delete"]=Ze[z][rb];la(Ze[z],function(a,b){return this.g[q](a,b)});la(Ze[z],Ze[z][q]);Ze[z].get=function(a){return this.g.get(a)};Ze[z].get=Ze[z].get;Ze[z].has=function(a){return this.g.A(a)};Ze[z].has=Ze[z].has;Ze[z].set=function(a,b){return this.g.set(a,b)};Ze[z].set=Ze[z].set;
var $e=aa.Map&&aa.Map[z][Oa]&&aa.Map[z][q]?aa.Map:Ze;function af(a){if(a instanceof Ze)return a.g.H();var b=0,c=e(a[Ya]);a[q](function(a,g){c[b++]=g});return c}function bf(a){if(a instanceof Ze)return a.g.c();var b=0,c=e(a[Ya]);a[q](function(a){c[b++]=a});return c};
function cf(a){this.ec=new O(a);ba.defineProperty(this,"size",{get:function(){return this.ec.ra()}})}cf[z].add=function(a){this.ec.add(a)};cf[z].add=cf[z].add;na(cf[z],function(){this.ec[Pa]()});na(cf[z],cf[z][Pa]);ya(cf[z],function(a){return this.ec[n](a)});cf[z]["delete"]=cf[z][rb];la(cf[z],function(a,b){this.ec.c()[q](a,b)});cf[z].has=function(a){return this.ec[ib](a)};cf[z].has=cf[z].has;var df=aa.Set&&aa.Set[z][Oa]&&aa.Set[z][q]?aa.Set:cf;
function ef(a){if(a instanceof cf)return a.ec.c();var b=0,c=e(a[Ya]);a[q](function(a){c[b++]=a});return c};
function ff(){this.g=new $e;this.Tg=new $e}H=ff[z];H.Gd=function(a){var b=this.Tg.get(a);Hb(b)||(b=new df,this.Tg.set(a,b));return b};H.set=function(a,b){var c=this.Gd(a);b[q](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.ab=function(a,b,c){var d=[],g=ea.min(b,c),k=ea.max(b,c);a=this.Gd(a);if(a[Ya]<k-g)a[q](function(a){a>=g&&a<=k&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[v](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[v](c));return d};ka(H,function(a,b){var c=this.Gd(a);b[q](function(a){this.g[rb](a);c[rb](a)},this)});H.ra=function(a){return null!=a?this.Gd(a)[Ya]:this.g[Ya]};
function gf(a,b,c,d){a=b?a.reverse():a;if(null==c&&null==d)return a;c=ea.min(Hb(c)?c:a[y],a[y]);if(0==c)return[];d=ea.min(d||0,a[y]);return a[w](d,d+c)};
function hf(a,b,c,d){this.B=a;this.M=b;this.jf=c;if(d){a=511;a*=a*a;if(d[y]>=a)throw new P(6,a);d=jf(this,d);this.va=d=kf(d)}else this[Pa]()}var mf=[];H=hf[z];ja(H,G("B"));f(H,function(){return this.va[t]()});H.add=function(a,b){this.va=this.va.xb(a,b)};H.set=function(a,b){this.va=this.va.xb(a,b,!0)};ka(H,function(a,b){this.va=this.va[n](a,b)});H.get=function(a){return this.va.get(a)};H.td=function(a){return null!=a?this.ab([a])[y]:this.ab()[y]};
H.ab=function(a,b,c,d){var g=this.va.Bd().b[0];if(!Hb(g)||0==c)return mf;var k=(c||0)+(d||0),k=0<k&&!b?k:Number.POSITIVE_INFINITY,m=[];(Hb(a)?this.M.Rg(a):[this.M.ve()])[q](function(a){for(var b=this.M.Ud(a),b=this.M.Ie(a)?g:b[0],b=this.va.Qf(b),c=0;null!=b&&m[y]<k;)0!=b.ab(a,m)?c=0:c++,b=2==c?null:b[$a]()},this);return gf(m,b,c,d)};na(H,function(){this.va=nf(this)});H.A=function(a){return this.va.A(a)};H.min=function(){return this.ad(J(this.M.min,this.M))};
H.max=function(){return this.ad(J(this.M.max,this.M))};H.ad=function(a){var b=this.va.Bd(),c=this.va.Xf();if(0==b.b[y]&&0==c.b[y])return[null,null];var d=b.b[0],b=b.U[0],g=c.b[c.b[y]-1],c=c.U[c.b[y]-1];return 1==a(d,g)?[d,this.jf?[b]:b]:[g,this.jf?[c]:c]};H.yb=G("jf");H.Jc=G("M");H.Ne=function(a,b){return null!=a?-1==this.M[Wa](a,b):!1};H.Qa=function(a,b){return null!=a?0==this.M[Wa](a,b):!1};H.Ia=function(){for(var a=[],b=this.va.Bd();b;)a[v](new bd(b.ya,[b.b,b.U])),b=b.za;return a};
function of(a,b,c,d){a=new hf(b,a,c);d=pf(d,a);a.va=d;return a}function qf(a,b){this.ya=a;this.Z=b;this.nb=0;this.za=this.zb=this.C=null;this.b=[];this.U=[];this.i=[]}function nf(a){return new qf(cd++,a)}H=qf[z];H.da=function(){return 0==this.nb};H.jg=function(){return null==this.C};ra(H,G("za"));
function rf(a){function b(a){return null!=a?a.ya[t]():"_"}var c=a.ya+"["+a.b[F]("|")+"]",d=a.i.map(function(a){return a.ya})[F]("|"),g=a.U[F]("/"),k=b(a.zb)+"{",k=a.da()?k+g:k+d,k=k+"}"+b(a.C);a.za&&(a=rf(a.za),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=rf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[y]&&(a+=this.i[0][t]());return a});H.Bd=function(){return this.da()?this:this.i[0].Bd()};H.Xf=function(){return this.da()?this:this.i[this.i[y]-1].Xf()};
function sf(a,b){b&&(b.zb=a);a&&(a.za=b)}function jf(a,b){for(var c=b[y],d=0,g=nf(a),k=g;0<c;){var m=768<=c?511:257<=c&&511>=c?c:257,p=b[w](d,d+m);g.b=p.map(function(a){return a.key});g.U=p.map(function(a){return a[x]});d+=m;c-=m;0<c&&(m=nf(g.Z),sf(g,m),g=m)}return k}function tf(a){var b=a[0],c=nf(b.Z);c.nb=b.nb+1;c.i=a;for(b=0;b<a[y];++b)a[b].C=c,0<b&&c.b[v](a[b].b[0]);return c}
function kf(a){var b=a,c=[];do c[v](b),b=b.za;while(b);if(512>=c[y])b=tf(c);else{var d=c[y],g=0,b=nf(a.Z);for(b.nb=a.nb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[w](g,g+a),m=tf(k);m.C=b;b.i[y]&&(b.b[v](k[0].b[0]),sf(b.i[b.i[y]-1],m));b.i[v](m);g+=a;d-=a}}return b}H.get=function(a){var b=this.gd(a);if(this.da()){var c=mf;this.Z.Qa(this.b[b],a)&&(c=c[Ka](this.U[b]));return c}b=this.Z.Qa(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.A=function(a){var b=this.gd(a);return this.Z.Qa(this.b[b],a)?!0:this.da()?!1:this.i[b].A(a)};ka(H,function(a,b){this.If(a,-1,b);if(this.jg()){var c=this;1==this.i[y]&&(c=this.i[0],c.C=null);return c}return this});function uf(a){return a.da()?a.b[0]:uf(a.i[0])}H.wd=function(){this.b=[];for(var a=1;a<this.i[y];++a)this.b[v](uf(this.i[a]))};
H.If=function(a,b,c){var d=this.gd(a);if(!this.da()){var g=this.Z.Qa(this.b[d],a)?d+1:d;if(this.i[g].If(a,g,c))this.wd();else return!1}else if(!this.Z.Qa(this.b[d],a))return!1;if(this.b[y]>d&&this.Z.Qa(this.b[d],a)){if(Hb(c)&&!this.Z.yb()&&this.da()&&(a=this.U[d],c=pc(a,qc,!1,c),0<=c&&jc(a,c),this.U[d][y]))return!1;this.b[E](d,1);this.da()&&this.U[E](d,1)}256>this.b[y]&&!this.jg()&&(this.Tk()||this.bk(b));return!0};
H.Tk=function(){var a=null,b,c,d;if(this.za&&256<this.za.b[y])a=this.za,c=b=0,d=this.b[y]+1;else if(this.zb&&256<this.zb.b[y])a=this.zb,b=this.zb.b[y]-1,c=this.da()?b:b+1,d=0;else return!1;this.b[E](d,0,a.b[b]);a.b[E](b,1);b=this.da()?this.U:this.i;var g=null;this.da()?g=a.U:(g=a.i,g[c].C=this);b[E](d,0,g[c]);g[E](c,1);a.da()||(a.wd(),this.wd());return!0};
H.bk=function(a){var b,c,d;this.za&&511>this.za.b[y]?(b=this.za,d=c=0):this.zb&&(b=this.zb,c=b.b[y],d=b.da()?b.U[y]:b.i[y]);c=[c,0][Ka](this.b);e[z][E][jb](b.b,c);c=null;this.da()?c=this.U:(c=this.i,c[q](function(a){a.C=b}));c=[d,0][Ka](c);e[z][E][jb](b.da()?b.U:b.i,c);sf(this.zb,this.za);b.da()||b.wd();-1!=a&&(this.C.b[E](a,1),this.C.i[E](a,1))};
H.xb=function(a,b,c){var d=this.gd(a);if(this.da()){if(this.Z.Qa(this.b[d],a)){if(c)return this.U[d]=this.Z.yb()?b:[b],this;if(this.Z.yb())throw new P(201);if(this.U[d])return rc(this.U[d],b),this;this.U[d]=[b]}this.b[E](d,0,a);this.U[E](d,0,this.Z.yb()?b:[b]);return 512==this.b[y]?this.Qk():this}d=this.Z.Qa(this.b[d],a)?d+1:d;a=this.i[d].xb(a,b,c);a.da()||1!=a.b[y]||(this.b[E](d,0,a.b[0]),a.i[1].C=this,a.i[0].C=this,this.i[E](d,1,a.i[1]),this.i[E](d,0,a.i[0]));return 512==this.b[y]?this.Pk():this};
H.Qk=function(){var a=nf(this.Z),b=nf(this.Z);b.nb=1;b.b=[this.b[256]];b.i=[this,a];b.C=this.C;this.C=b;a.b=this.b[E](256);a.U=this.U[E](256);a.C=b;sf(a,this.za);sf(this,a);return b};H.Pk=function(){var a=nf(this.Z),b=nf(this.Z);a.C=this.C;a.nb=this.nb+1;a.b=[this.b[256]];a.i=[this,b];this.b[E](256,1);b.C=a;b.nb=this.nb;b.b=this.b[E](256);b.i=this.i[E](257);b.i[q](function(a){a.C=b});this.C=a;sf(b,this.za);sf(this,b);return a};
H.gd=function(a){for(var b=0,c=this.b[y];b<c;){var d=b+c>>1;this.Z.Ne(this.b[d],a)?b=d+1:c=d}return b};H.Qf=function(a){if(!this.da()){var b=this.gd(a);this.Z.Qa(this.b[b],a)&&b++;return this.i[b].Qf(a)}return this};
H.ab=function(a,b){var c=-1,d=this.b[y]-1,g=this.Z.Jc(),k=J(function(b){for(;b<this.b[y];++b){var k=g.vc(this.b[b],a);if(-1!=c){if(!k){d=b-1;break}}else k&&(c=b)}},this);g.vc(this.b[0],a)?c=0:k(1);if(-1==c)return 0;g.vc(this.b[d],a)||k(c);return d==this.b[y]-1?this.tf(b,this.U[w](c)):d>=c?this.tf(b,this.U[w](c,d+1)):0};H.tf=function(a,b){var c=this.Z.yb()?b:tc(b);a[v][jb](a,c);return c[y]};
function pf(a,b){for(var c=a.map(function(a){var c=new qf(a.id(),b);c.b=a.u()[0];c.U=a.u()[1];return c}),d=0;d<c[y]-1;++d)sf(c[d],c[d+1]);return 1<c[y]?kf(c[0]):c[0]};
function vf(a){if(1==a.h[y])return new wf(a.h[0].ob);a=a.h.map(function(a){return a.ob});return new xf(a)}function wf(a){this.rd=0==a?yf:zf;this.Oe=0==a?function(a){return null!=a?a.reverse():null}:function(a){return a||null};this.xg=0==a?Af:Bf}K(wf,Od);function zf(a,b){return a>b?1:a<b?-1:0}function yf(a,b){return zf(b,a)}function Bf(a,b){return be(a,b)}function Af(a,b){return be(b,a)}H=wf[z];
H.oe=function(a,b){var c=this.Oe(b),d=[null===c.f,null===c.w];if(!d[0]){var g=this.rd(a,c.f);d[0]=c.ba?1==g:-1!=g}d[1]||(g=this.rd(a,c.w),d[1]=c.ea?-1==g:1!=g);return d};H.compare=function(a,b){return this.rd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.vc=function(a,b){var c=this.oe(a,b);return c[0]&&c[1]};H.ve=function(){return ae()};H.wg=function(a,b){return this.xg(a,b)};
H.Rg=function(a){return a[h](function(a){return null!==a})[zb](J(function(a,c){return this.xg(a,c)},this))};H.Ie=function(a){return Lb(this.Oe(a).f)};H.Ud=function(a){a=this.Oe(a);return[a.f,a.w]};f(H,function(){return this.rd==yf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function xf(a){this.Ba=a.map(function(a){return new wf(a)})}K(xf,Od);H=xf[z];H.ue=function(a,b,c){for(var d=0,g=0;g<this.Ba[y]&&0==d;++g)d=c(this.Ba[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.ue(a,b,function(a,b,g){return a[Wa](b,g)})};H.min=function(a,b){return this.ue(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.ue(a,b,function(a,b,g){return a.max(b,g)})};H.oe=function(a,b){for(var c=[!0,!0],d=0;d<this.Ba[y]&&(c[0]||c[1]);++d){var g=this.Ba[d].oe(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.vc=function(a,b){for(var c=!0,d=0;d<this.Ba[y]&&c;++d)c=this.Ba[d].vc(a[d],b[d]);return c};H.ve=function(){return this.Ba.map(function(a){return a.ve()})};
H.Rg=function(a){var b=a[h](function(a){return a[Ab](Mb)});a=e(this.Ba[y]);for(var c=0;c<a[y];c++)a[c]=b.map(function(a){return a[c]});a[q](function(a,b){a[zb](J(function(a,c){return this.Ba[b].wg(a,c)},this))},this);b=e(b[y]);for(c=0;c<b[y];c++)b[c]=a.map(function(a){return a[c]});return b[zb](J(function(a,b){for(var c=0,m=0;m<this.Ba[y]&&0==c;++m)c=this.Ba[m].wg(a[m],b[m]);return c},this))};H.Ie=function(a){return this.Ba[0].Ie(a[0])};
H.Ud=function(a){var b=a.map(function(a,b){return this.Ba[b].Ud(a)[0]},this);a=a.map(function(a,b){return this.Ba[b].Ud(a)[1]},this);return[b,a]};
function Cf(a){this.sa=a;this.Ua=new O}H=Cf[z];ja(H,function(){return this.sa[l]()});H.add=function(a,b){if(null===a){if(this.yb()&&!this.Ua.Fa())throw new P(201);this.Ua.add(b)}else this.sa.add(a,b)};H.set=function(a,b){null===a?(this.Ua[Pa](),this.Ua.add(b)):this.sa.set(a,b)};ka(H,function(a,b){null===a?b?this.Ua[n](b):this.Ua[Pa]():this.sa[n](a,b)});H.get=function(a){return null===a?this.Ua.c():this.sa.get(a)};H.td=function(a){return this.sa.td(a)};
H.ab=function(a,b,c,d){b=this.sa.ab(a,b,c,d);return null!=a?b:b[Ka](this.Ua.c())};na(H,function(){this.Ua[Pa]();this.sa[Pa]()});H.A=function(a){return null===a?!this.Ua.Fa():this.sa.A(a)};H.min=function(){return this.sa.min()};H.max=function(){return this.sa.max()};H.Ia=function(){return[new bd(-2,this.Ua.c())][Ka](this.sa.Ia())};H.Jc=function(){return this.sa.Jc()};H.yb=function(){return this.sa.yb()};
function Df(a){this.B=a;this.Ab=new df;this.M=new wf(1)}H=Df[z];ja(H,G("B"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.Ab.add(a)};H.set=function(a,b){this.add(a,b)};ka(H,function(a){this.Ab[rb](a)});H.get=function(a){return this.A(a)?[a]:[]};H.min=function(){return this.ad(J(this.M.min,this.M))};H.max=function(){return this.ad(J(this.M.max,this.M))};
H.ad=function(a){if(0==this.Ab[Ya])return[null,null];var b=ef(this.Ab)[lb](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.td=function(){return this.Ab[Ya]};H.ab=function(a,b,c,d){var g=a||[ae()];a=ef(this.Ab)[h](function(a){return g[yb](function(b){return this.M.vc(a,b)},this)},this);return gf(a,b,c,d)};na(H,function(){this.Ab[Pa]()});H.A=function(a){return this.Ab.has(a)};H.Ia=function(){return[new bd(0,ef(this.Ab))]};H.Jc=G("M");
function Ef(a,b){var c=new Df(a);b[0].u()[q](function(a){c.add(a,a)});return c}H.yb=Fb(!0);
function Ff(a){this.m=a;this.Cb=a.o(xd);this.I=a.o(zd);this.qa=a.o(yd)}H=Ff[z];H.Ea=function(a){var b=a.Ya(),c=J(function(){if(0==b[y])return Rc();var a=b[Ha]();return(a.ac()?this.Gi(a):this.Hi(a))[A](c)},this);return c()};H.Hi=function(a){var b=new Yd(this.m,[a]);return this.Cb.Ob(0,b).X(a[l](),J(a.pc,a)).get([])[A](J(function(b){this.qa.set(a[l](),b);this.vk(a,b)},this))};H.vk=function(a,b){var c=this.I.vj(a[l]());b[q](function(a){c[q](function(b){var c=a.Ub(b[l]());b.add(c,a.id())})})};
H.Gi=function(a){var b=new Yd(this.m,[a]),c=this.Cb.Ob(0,b),b=c.X(a[l](),a.pc).get([])[A](J(function(b){this.qa.set(a[l](),b)},this)),d=a.Da().map(function(a){return this.wk(a,c)},this)[Ka](this.xk(a,c));return Vc(d[Ka](b))};
H.wk=function(a,b){var c=b.X(a.l(),dd,1),d=vf(a);return c.get([])[A](J(function(b){L("btree"==b[0].u().type);if(1<b[y]){if(a.bg()){var c=of[r](void 0,d,a.l(),a.Zc),m=b[w](1),p=-1;for(b=0;b<m[y];++b)if(-2==m[b].id()){p=b;break}if(-1==p)throw new P(102);b=m[p].u();m=m[w](0);m[E](p,1);c=c(m);c=new Cf(c);c.Ua[mb](b)}else c=of(d,a.l(),a.Zc,b[w](1));this.I.set(c)}},this))};
H.xk=function(a,b){return b.X(a.Rb(),dd,1).get([])[A](J(function(b){L("rowid"==b[0].u().type);1<b[y]&&(b=Ef(a.Rb(),b[w](1)),this.I.set(b))},this))};


function Gf(){this.S=new N}Gf[z].Ea=function(a){a.Ya()[q](function(a){var c=a.Rb();if(null===this.get(c)){var d=new Df(c);this.S.set(c,d)}a.Da()[q](function(a){this.S.set(a.l(),Hf(a))},this)},this);return Rc()};function Hf(a){var b=vf(a),b=new hf(a.l(),b,a.Zc);return a.bg()?new Cf(b):b}Gf[z].get=function(a){return this.S.get(a,null)};Gf[z].set=function(a){return this.S.set(a[l](),a)};Gf[z].vj=function(a){var b=[],c=a+".";this.S.H()[q](function(a){0==a[pb](c)&&b[v](this.S.get(a))},this);return b};
function If(a){this.cb=[];Hb(a)&&this.add(a)}H=If[z];f(H,function(){return this.cb.map(function(a){return a[t]()})[F](",")});H.A=function(a){return this.cb[yb](function(b){return b[ib](a)})};H.c=G("cb");
H.add=function(a){if(0!=a[y])if(a=this.cb[Ka](a),1==a[y])this.cb=a;else{a[zb](be);for(var b=[],c=a[0],d=1;d<a[y];++d)if(c.yg(a[d])){var g=a[d],k=ae();if(null!==c.f&&null!==g.f){var m=$d(c.f,g.f,!0);1!=m?(k.f=c.f,k.ba=0!=m?c.ba:c.ba&&g.ba):(k.f=g.f,k.ba=g.ba)}null!==c.w&&null!==g.w&&(m=$d(c.w,g.w,!1),-1!=m?(k.w=c.w,k.ea=0!=m?c.ea:c.ea&&g.ea):(k.w=g.w,k.ea=g.ea));c=k}else b[v](c),c=a[d];b[v](c);this.cb=b}};
H.Nc=function(a){return this.cb[y]==a.cb[y]?0==this.cb[y]||this.cb[Ab](function(b,c){return b.Nc(a.cb[c])}):!1};function Jf(a,b){var c=[];a.c().map(function(a){return b.c().map(function(b){var c;if(a.yg(b)){c=ae();var m=$d(a.f,b.f,!0),m=0==m?a.ba?a:b:-1!=m?a:b;c.f=m.f;c.ba=m.ba;null===a.w||null===b.w?b=null===a.w?b:a:(m=$d(a.w,b.w,!1),b=0==m?a.ea?a:b:-1==m?a:b);c.w=b.w;c.ea=b.ea}else c=null;return c})})[q](function(a){c=c[Ka](a)});return new If(c[h](function(a){return null!==a}))};
function Kf(a,b){var c=[],d=null,g=null;a.Ac(function(a){var m=b(a);null==a[Ga]()?g=m:d.ia(m);var p=a[Ga]();null!==p&&p.xa()==d.xa()&&(p=c[pb](d),-1!=p&&c[E](p,1));1<a.xa()&&c[v](m);d=a.gg()?c[c[y]-1]:m});return g}function Lf(a){return Mf(a,function(a){return a.gg()})}function Nf(a){var b=a[Ga](),c=0;null!==b&&(c=b.N()[pb](a),b[ub](a));var d=a.N()[w]();d[q](function(d,k){a[ub](d);null===b||b.Dc(d,c+k)});return{parent:b,children:d}}
function Of(a,b){a.N()[w]()[q](function(c){a[ub](c);b.ia(c)});a.ia(b)}function Pf(a){L(1==a.xa());var b=a.sb(0);L(1==b.xa());Nf(a);Of(b,a);return b}function Qf(a,b,c){L(1==a.xa());var d=a.sb(0);L(1<d.xa());var g=d.N()[w]();if(!g[yb](function(a){return b(a)}))return a;Nf(a);g[q](function(g,m){if(b(g)){var p=c(a);d.Vd(m);p.ia(g);d.Dc(p,m)}});return d}function Rf(a,b,c,d){var g=a[Ga]();null!==g&&(a=g.N()[pb](a),g.Vd(a),g.Dc(c,a));b.N()[w]()[q](function(a){b[ub](a);d.ia(a)});return c}
function Mf(a,b,c){function d(a){b(a)&&g[v](a);null!=c&&c(a)||a.N()[q](d)}var g=[];d(a);return g}function Sf(a,b){var c=b||function(a){return a[t]()+"\n"},d="";a.Ac(function(a){for(var b=0;b<a.ej();b++)d+="-";d+=c(a)});return d};

function Tf(a){ve[D](this);this.Xb=a;this.bb=!1}K(Tf,ve);H=Tf[z];H.Nb=function(){return Kf(this,function(a){if(a instanceof Tf){var b=new Tf(a.Xb);b.bb=a.bb;b.cf(a.ka());return b}return a.Nb()}[r](this))};H.tb=function(a){var b=a||[];this.Ac(function(a){a!=this&&a.tb(b)}[r](this));return(new O(b)).c()};H.Yd=function(a){this.bb!=a&&(this.bb=a,this.Xb="and"==this.Xb?"or":"and",this.N()[q](function(b){return b.Yd(a)}))};H.eval=function(a){var b=this.N().map(function(b){return b.eval(a)});return this.Xh(b)};
H.Xh=function(a){return"and"==this.Xb?ge(a):he(a)};f(H,function(){return"combined_pred_"+this.Xb[t]()});function Uf(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function Vf(){this[Pa]()}var Wf=ba[z][Ua],Xf=ba[z][bb];H=Vf[z];H.set=function(a,b){this.kd(a);var c=!this.Yc(a);this.g[a]=b;if("__proto__"==a||!Yf&&!Wf[D](this.g,a)){delete this.g[a];var d=dc(this.Lb,a);if(c=0>d)d=this.Lb[y];this.Lb[d]=a;this.Wd[d]=b}c&&this.aa++};H.get=function(a,b){this.kd(a);if(this.Yc(a))return this.g[a];var c=dc(this.Lb,a);return 0<=c?this.Wd[c]:b};
ka(H,function(a){this.kd(a);if(this.Yc(a))return this.aa--,delete this.g[a],!0;a=dc(this.Lb,a);return 0<=a?(this.aa--,jc(this.Lb,a),jc(this.Wd,a),!0):!1});H.addAll=function(a){ec(a.H(),function(b){this.set(b,a.get(b))},this)};H.Fa=function(){return!this.aa};H.ra=G("aa");H.A=function(a){this.kd(a);return this.Yc(a)||0<=dc(this.Lb,a)};H.sd=function(a){return vc(this.g,function(b,c){return this.Yc(c)&&Uf(b,a)},this)||0<=dc(this.Wd,a)};
H.H=function(){var a;if(Zf)a=lc(ba.keys(this.g));else{a=[];for(var b in this.g)Xf[D](this.g,b)&&a[v](b)}mc(a,this.Lb);return a};H.c=function(){for(var a=[],b=this.H(),c=0;c<b[y];c++)a[v](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.H(),c=0;c<b[y];c++){var d=b[c];a[v]([d,this.get(d)])}return a};na(H,function(){this.g=Yf?ba[Va](null):{};this.Lb=[];this.Wd=[];this.aa=0});ta(H,function(){var a=new Vf;a[mb](this);return a});
H.Yc=function(a){return"__proto__"==a?!1:Yf?a in this.g:Xf[D](this.g,a)};H.kd=function(a){L(Ob(a),"key must be a string.")};var Yf=!!ba[Va],Zf=!!ba.keys;function $f(){this[Pa]()}H=$f[z];H.aa=0;na(H,function(){this.aa=0;this.g=new Vf});ta(H,function(){var a=new $f;a.fh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[v](b);this.aa++};H.fh=function(a){ec(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?lc(a):[]};ka(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=kc(c,function(a){return Uf(b,a)});d&&(this.aa--,0==c[y]&&this.g[n](a));return d});H.Fa=function(){return!this.aa};
H.ra=G("aa");H.A=function(a){return this.g.A(a)};H.sd=function(a){return hc(this.g.c(),function(b){return hc(b,function(b){return Uf(b,a)})})};H.H=function(){return this.g.H()};H.c=function(){return tc(this.g.c())};H.getEntries=function(){for(var a=this.H(),b=[],c=0;c<a[y];c++)for(var d=a[c],g=this.get(d),k=0;k<g[y];k++)b[v]([d,g[k]]);return b};
function ag(a,b,c){ve[D](this);this.Ta=a;this.fb=b;this.W=c;this.vd=ne.ye().xe(this.Ta.$(),this.W)}K(ag,ve);H=ag[z];H.Nb=function(){var a=new ag(this.Ta,this.fb,this.W);a.cf(this.ka());return a};H.tb=function(a){return null!=a?(a[v](this.Ta),a[v](this.fb),a):[this.Ta,this.fb]};H.eval=function(a){var b=a[C][h](function(a){var b=a.O(this.Ta);a=a.O(this.fb);return this.vd(b,a)},this);return new ce(b,a.Y())};f(H,function(){return"join_pred("+this.Ta.l()+", "+this.fb.l()+")"});
H.uf=function(a){return-1!=a.Y()[pb](this.Ta.X().Ca())};H.mh=function(a){return-1!=a.Y()[pb](this.fb.X().Ca())};H.li=function(a,b){var c=null,d=null;this.uf(a)?(this.wf(a,b),c=a,d=b):(this.wf(b,a),c=b,d=a);return[c,d]};H.wf=function(a,b){L(this.uf(a),"Mismatch between join predicate left operand and right relation.");L(this.mh(b),"Mismatch between join predicate right operand and right relation.")};H.ti=function(a,b){var c=this.li(a,b),d=c[0],c=c[1];return"eq"==this.W?this.ui(d,c):this.vi(d,c)};
H.vi=function(a,b){for(var c=[],d=a.Y(),g=b.Y(),k=0;k<a[C][y];k++)for(var m=0;m<b[C][y];m++)if(this.vd(a[C][k].O(this.Ta),b[C][m].O(this.fb))){var p=le(a[C][k],d,b[C][m],g);c[v](p)}d=a.Y()[Ka](b.Y());return new ce(c,d)};
H.ui=function(a,b){var c=a,d=b,g=this.Ta,k=this.fb;a[C][y]>b[C][y]&&(c=b,d=a,g=this.fb,k=this.Ta);var m=new $f,p=[];c[C][q](function(a){var b=ha(a.O(g));m.add(b,a)});var B=c.Y(),Ta=d.Y();d[C][q](function(a){var b=ha(a.O(k));m.A(b)&&m.get(b)[q](function(b){b=le(a,Ta,b,B);p[v](b)})});c=a.Y()[Ka](b.Y());return new ce(p,c)};
function bg(a,b,c){return null===b?new xe(a,b,c):Hb(b.l)?new ag(a,b,c):new xe(a,b,c)};
var cg={};I("lf.schema.DataStoreType",cg,void 0);cg.INDEXED_DB=0;cg.MEMORY=1;cg.LOCAL_STORAGE=2;cg.FIREBASE=3;cg.WEB_SQL=4;cg.OBSERVABLE_STORE=5;function dg(a,b,c,d){this.ef=a;Aa(this,b);this.Zc=c;this.h=d}dg[z].l=function(){return this.ef+"."+this[sb]};dg[z].bg=function(){return this.h[yb](function(a){return a.ma.wc()})};function eg(a,b,c,d){this.B=a;this.ta=c;this.G=b;this.Qd=d;this.jb=null}I("lf.schema.Table",eg,void 0);ja(eg[z],G("B"));eg[z].$a=G("jb");eg[z].Ca=function(){return this.jb||this.B};
eg[z].Fc=function(a){var b=new this.constructor(this.B);b.jb=a;b.Xe=this.Xe;return b};eg[z].as=eg[z].Fc;eg[z].qj=G("Xe");eg[z].Kk=Eb("Xe");eg[z].createRow=eg[z].Fb;eg[z].deserializeRow=eg[z].pc;eg[z].Da=G("ta");eg[z].tb=G("G");eg[z].getConstraint=eg[z].Gb;eg[z].ac=G("Qd");eg[z].Rb=function(){return this.B+".#"};
function T(a,b){ua(this,a);this.ic=b;this.jb=null}H=T[z];ja(H,function(){return this.ic+"("+this[gb][l]()+")"});H.l=function(){return this.ic+"("+this[gb].l()+")"};H.X=function(){return this[gb].X()};f(H,function(){return this.l()});H.$=function(){return this[gb].$()};H.$a=G("jb");H.Da=function(){return[]};H.wc=Fb(!1);H.Fc=function(a){this.jb=a;return this};T[z].as=T[z].Fc;T[z].Pf=function(){for(var a=[this],b=this;b instanceof T;)a[v](b[gb]),b=b[gb];return a};
function fg(a){this.jb=a||null;this.L=new eg("#UnknownTable",[],[],!1)}H=fg[z];ja(H,Fb("*"));H.l=function(){return this[l]()};f(H,function(){return this.l()});H.X=G("L");H.$=Fb(4);H.$a=G("jb");H.Da=function(){return[]};H.wc=Fb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new fg,"COUNT")},void 0);function gg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",gg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){te[D](this,"","");this.Di=b;this.ug=a}K(U,te);H=U[z];ia(H,function(a,b){switch(this.Di){case 1:return this.yi(a,b);case 0:return this.xi(a,b);default:return this.Ai(a,b)}});f(H,Fb("dummy_node"));H.hd=function(){return this[t]()};H.vf=function(a){L(-1==this.ug||a[y]==this.ug)};H.Ai=function(a,b){return new M(J(function(c){c(this.ja(a,[],b))},this))};H.yi=function(a,b){return this.sb(0)[Ia](a,b)[A](J(function(c){this.vf(c);return this.ja(a,c,b)},this))};
H.xi=function(a,b){var c=this.N().map(function(c){return c[Ia](a,b)});return Vc(c)[A](J(function(c){var g=[];c[q](function(a){for(var b=0;b<a[y];++b)g[v](a[b])});this.vf(g);return this.ja(a,g,b)},this))};
function hg(a){U[D](this,-1,1);this.rf=a}K(hg,U);f(hg[z],function(){return"aggregation("+this.rf.map(function(a){return a.l()})[t]()+")"});hg[z].ja=function(a,b){b[q](function(a){(new ig(a,this.rf)).zh()},this);return b};function ig(a,b){this.Ha=a;this.G=b}
ig[z].zh=function(){this.G[q](function(a){a=a.Pf().reverse();for(var b=1;b<a[y];b++){var c=a[b],d=c.Pf()[w](-1)[0],g=this.hj(c),k=null;switch(c.ic){case "MIN":k=jg(g,d);break;case "MAX":k=kg(g,d);break;case "DISTINCT":k=lg(g,d);break;case "COUNT":k=g[C][y];break;case "SUM":k=mg(g,d);break;case "AVG":0<g[C][y]&&(k=mg(g,d)/g[C][y]);break;case "GEOMEAN":k=ng(g,d);break;default:k=og(g,d)}this.Ha.Gk(c,k)}},this)};ig[z].hj=function(a){return a[gb]instanceof T?this.Ha.tc(a[gb]):this.Ha};
function jg(a,b){var c=null;a[C][q](function(a){a=a.O(b);if(null===c||a<c)c=a});return c}function kg(a,b){var c=null;a[C][q](function(a){a=a.O(b);if(null===c||a>c)c=a});return c}function mg(a,b){return a[C][lb](function(a,d){return a+d.O(b)},0)}function og(a,b){var c=a[C].map(function(a){return a.O(b)});return od[jb](null,c)}function ng(a,b){var c=0,d=a[C][lb](function(a,d){var m=d.O(b);return 0!=m?(c++,a+ea.log(m)):a},0);return 0==c?null:ea.pow(ea.E,d/c)}
function lg(a,b){var c=new N;a[C][q](function(a){var g=a.O(b);c.set(g,a)});return new ce(c.c(),a.Y())};
function pg(a,b){this.Aa=a;this.pa=b}pg[z].mb=G("Aa");pg[z].fa=G("pa");function V(){te[D](this,"","")}K(V,te);function qg(a,b){V[D](this);pa(this,a);ma(this,b)}K(qg,V);function rg(a,b){qg[D](this,a,b)}K(rg,qg);function sg(a){V[D](this);pa(this,a)}K(sg,V);f(sg[z],function(){return"delete("+this[u][l]()+")"});function tg(a,b){V[D](this);pa(this,a);this.kf=b}K(tg,V);f(tg[z],function(){var a=[];this.kf&&(a=this.kf.map(function(a){return a.J[l]()},this));return"update("+this[u][l]()+", ["+a[F](",")+"])"});
function ug(a){V[D](this);this.Ga=a}K(ug,V);f(ug[z],function(){return"select("+this.Ga[t]()+")"});function vg(a){V[D](this);pa(this,a)}K(vg,V);f(vg[z],function(){var a="table_access("+this[u][l]();null===this[u].$a()||(a+=" as "+this[u].$a());return a+")"});function wg(){V[D](this)}K(wg,V);f(wg[z],Fb("cross_product"));function xg(a,b){V[D](this);this.h=a;this.Sb=b}K(xg,V);
f(xg[z],function(){var a="project("+this.h[t]();if(null!==this.Sb)var b=this.Sb.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});function yg(a){V[D](this);this.K=a}K(yg,V);f(yg[z],function(){return"order_by("+Be(this.K)+")"});function zg(a){V[D](this);this.h=a}K(zg,V);f(zg[z],function(){return"aggregation("+this.h[t]()+")"});function Ag(a){V[D](this);this.h=a}K(Ag,V);f(Ag[z],function(){return"group_by("+this.h[t]()+")"});function Bg(a){V[D](this);this.oa=a}K(Bg,V);
f(Bg[z],function(){return"limit("+this.oa+")"});function Cg(a){V[D](this);this.na=a}K(Cg,V);f(Cg[z],function(){return"skip("+this.na+")"});function Dg(a){V[D](this);this.Ga=a}K(Dg,V);f(Dg[z],function(){return"join("+this.Ga[t]()+")"});
function Eg(){};
function Fg(){}K(Fg,Eg);Fg[z].Jb=function(a){this.ha=a;this.Za(this.ha);return this.ha};Fg[z].Za=function(a){if(a instanceof ug){L(1==a.xa(),"SelectNode must have exactly one child.");var b=this.yf(a.Ga),b=this.fi(b);Rf(a,a,b[0],b[1]);a==this.ha&&(this.ha=b[0]);a=b[0]}a.N()[q](function(a){this.Za(a)},this)};Fg[z].yf=function(a){if(0==a.xa()||"and"!=a.Xb)return[a];var b=a.N()[w]().map(function(b){a[ub](b);return this.yf(b)},this);return tc(b)};
Fg[z].fi=function(a){var b=null,c=null;a.map(function(a,g){var k=new ug(a);0==g?b=k:c.ia(k);c=k},this);return[b,c]};
function Gg(){}K(Gg,Eg);Gg[z].Jb=function(a){this.ha=a;this.Za(this.ha);return this.ha};Gg[z].Za=function(a){if(a instanceof wg)for(;2<a.xa();){for(var b=new wg,c=0;2>c;c++){var d=a.Vd(0);b.ia(d)}a.Dc(b,0)}a.N()[q](function(a){this.Za(a)},this)};
function Hg(){U[D](this,2,0)}K(Hg,U);f(Hg[z],Fb("cross_product"));Hg[z].ja=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.Y(),m=d.Y(),p=0;p<c[C][y];p++)for(var B=0;B<d[C][y];B++){var Ta=le(c[C][p],k,d[C][B],m);g[v](Ta)}c=c.Y()[Ka](d.Y());return[new ce(g,c)]};

function Ig(a,b){Ee[D](this,a,b);this.Xa=a.o(Bd);this.Hb=a.o(Cd)}K(Ig,Ee);xa(Ig[z],Fb(2));Ig[z].Re=function(a){0==this.$()?this.dk(a):this.fd()};Ig[z].dk=function(a){this.Td[q](function(b,c){b instanceof Ae&&this.Hb.$g(b,a[c])},this)};Ig[z].fd=function(){var a=this.Hb.Ee(this.fa().c());0!=a[y]&&(a=new Fe(this[Sa],a),this.Xa.dc(a))};
function Jg(a){ye[D](this,a)}K(Jg,ye);Jg[z].fa=function(){var a=new O([this.f]);a[mb](this.se(a));return a};ta(Jg[z],function(){var a=new Jg(this.ma);a.qd(this);a.f=this.f;return a});oa(Jg[z],function(a){Jg.gb[r][D](this,a);this.ie(a);return this});
function Kg(a){ye[D](this,a)}K(Kg,ye);Kg[z].fa=function(){var a=new O([this.Ra]);a[mb](this.Lf(a));this.jc&&a[mb](this.se(a));return a};ta(Kg[z],function(){var a=new Kg(this.ma);a.qd(this);a.Ra=this.Ra;this[Oa]&&ma(a,this[Oa]instanceof me?this[Oa]:this[Oa][w]());a.jc=this.jc;a.kc=this.kc;return a});oa(Kg[z],function(a){Kg.gb[r][D](this,a);this.kc&&ma(this,this.kc instanceof me?a[this.kc.ub()]:this.kc.map(function(b){return b instanceof me?a[b.ub()]:b}));return this});
function Lg(a){ye[D](this,a)}K(Lg,ye);Lg[z].fa=function(){var a=new O([this[u]]),b=new O;this.set[q](function(a){b.add(a.J)},this);a[mb](this.Lf(a,b));a[mb](this.se(a,b));return a};ta(Lg[z],function(){var a=new Lg(this.ma);a.qd(this);pa(a,this[u]);a.set=this.set?this.set[w]():this.set;return a});oa(Lg[z],function(a){Lg.gb[r][D](this,a);this.set[q](function(b){-1!=b.ld&&wa(b,a[b.ld])});this.ie(a);return this});
function Mg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+fd(b)+"'";default:return"'"+b[t]()+"'"}}function Ng(a,b){var c=a.jc?"INSERT OR REPLACE":"INSERT",d=a.Ra.tb(),c=c+(" INTO "+a.Ra[l]()+"("),c=c+d.map(function(a){return a[l]()})[F](", "),c=c+") VALUES (";return a[Oa].map(function(a){var k=d.map(function(c){var d=a.u()[c[l]()];return b?null!=d?"#":"NULL":Mg(c.$(),d)});return c+k[F](", ")+");"})[F]("\n")}
function Og(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Pg(a,b,c,d){return a instanceof me?"?"+a.ub()[t]():d?null!=a?"#":"NULL":"match"==b?"'"+a[t]()+"'":"in"==b?"("+a.map(function(a){return Mg(c,a)})[F](", ")+")":"between"==b?Mg(c,a[0])+" AND "+Mg(c,a[1]):Mg(c,a)[t]()}
function Qg(a,b){return a.N().map(function(a){return"("+Rg(a,b)+")"})[F]("and"==a.Xb?" AND ":" OR ")}function Rg(a,b){if(a instanceof xe)return[a.J.l(),Og(a.W),Pg(a[x],a.W,a.J.$(),b)][F](" ");if(a instanceof Tf)return Qg(a,b);if(a instanceof ag)return[a.Ta.l(),Og(a.W),a.fb.l()][F](" ");throw new P(357,typeof a);}function Sg(a,b){var c=Rg(a,b);return c?" WHERE "+c:""}
function Tg(a,b){var c="UPDATE "+a[u][l]()+" SET ",c=c+a.set.map(function(a){var b=a.J.l()+" = ";return-1!=a.ld?b+"?"+a.ld[t]():b+Mg(a.J.$(),a[x])[t]()})[F](", ");a.D&&(c+=Sg(a.D,b));return c+";"}
function Ug(a,b){var c="*";a.h[y]&&(c=a.h.map(function(a){return a.$a()?a.l()+" AS "+a.$a():a.l()})[F](", "));var d=a.f.map(function(a){return a.Ca()!=a[l]()?a[l]()+" AS "+a.Ca():a[l]()})[F](", "),c="SELECT "+c+" FROM "+d;a.D&&(c+=Sg(a.D,b));a.K&&(d=a.K.map(function(a){return a.J.l()+(0==a.ob?" DESC":" ASC")})[F](", "),c+=" ORDER BY "+d);a.la&&(d=a.la.map(function(a){return a.l()})[F](", "),c+=" GROUP BY "+d);a.oa&&(c+=" LIMIT "+a.oa[t]());a.na&&(c+=" SKIP "+a.na[t]());return c+";"}
function Vg(a,b){var c=b||!1,d=a.Wf();if(d instanceof Kg)return Ng(d,c);if(d instanceof Jg){var g="DELETE FROM "+d.f[l]();d.D&&(g+=Sg(d.D,c));return g+";"}if(d instanceof Lg)return Tg(d,c);if(d instanceof Ae)return Ug(d,c);throw new P(358,typeof d);};
function Wg(a,b){this.global=a;this.tk=a.o(Ad);this.Xa=a.o(Bd);this.a=b}I("lf.query.BaseBuilder",Wg,void 0);ia(Wg[z],function(){try{this.kb()}catch(a){return Sc(a)}return new M(function(a,c){var d=new Ig(this[Sa],[this.Wc()]);this.Xa.dc(d)[A](function(c){a(c[0].ze())},c)},this)});ia(Wg[z],Wg[z][Ia]);Wg[z].Mf=function(){var a=J(function(a){return a.hd(this.a)+"\n"},this);return Sf(this.Ae().mb(),a)};Wg[z].explain=Wg[z].Mf;oa(Wg[z],function(a){this.a[r](a);return this});oa(Wg[z],Wg[z][r]);
Wg[z].Wk=function(a){return Vg(this,a)};Wg[z].toSql=Wg[z].Wk;H=Wg[z];H.kb=Db();H.Wf=function(){return this.a.clone()};H.Cd=G("a");H.Ae=function(){null==this.zg&&(this.zg=this.tk.nj(this.a));return this.zg};H.Wc=function(){return{context:this.Wf(),Ue:this.Ae()}};H.lj=function(){return{context:this.Cd(),Ue:this.Ae()}};
function Xg(a){Wg[D](this,a,new Jg(a.o(Dd)))}K(Xg,Wg);I("lf.query.DeleteBuilder",Xg,void 0);Xg[z].f=function(a){this.qh();this.a.f=a;return this};Xg[z].from=Xg[z].f;Xg[z].D=function(a){this.he();this.a.D=a;return this};Xg[z].where=Xg[z].D;Xg[z].qh=function(){if(null!=this.a.f)throw new P(515);};Xg[z].he=function(){if(null!=this.a.D)throw new P(516);};Xg[z].kb=function(){Xg.gb.kb[D](this);if(null==this.a.f)throw new P(517);};
function Yg(a,b){Wg[D](this,a,new Kg(a.o(Dd)));this.a.jc=b||!1}K(Yg,Wg);I("lf.query.InsertBuilder",Yg,void 0);Yg[z].kb=function(){Yg.gb.kb[D](this);var a=this.a;if(null==a.Ra||null==a[Oa])throw new P(518);if(a.jc&&null===a.Ra.Gb().Be())throw new P(519);};Yg[z].Ra=function(a){this.rh();this.a.Ra=a;return this};Yg[z].into=Yg[z].Ra;ma(Yg[z],function(a){this.sh();a instanceof me||a[yb](function(a){return a instanceof me})?this.a.kc=a:ma(this.a,a);return this});ma(Yg[z],Yg[z][Oa]);
Yg[z].rh=function(){if(null!=this.a.Ra)throw new P(520);};Yg[z].sh=function(){if(null!=this.a[Oa])throw new P(521);};
function Zg(a){return $g("and",e[z][w][D](arguments))}I("lf.op.and",Zg,void 0);I("lf.op.or",function(a){return $g("or",e[z][w][D](arguments))},void 0);function $g(a,b){var c=new Tf(a);b[q](function(a){c.ia(a)});return c}I("lf.op.not",function(a){a.Yd(!0);return a},void 0);
function W(a,b){Wg[D](this,a,new Ae(a.o(Dd)));this.Of=this.dh=!1;this.a.h=b;this.Hh();this.Fh()}K(W,Wg);I("lf.query.SelectBuilder",W,void 0);H=W[z];H.kb=function(){W.gb.kb[D](this);var a=this.a;if(null==a.f)throw new P(522);if(Hb(a.Vb)&&!Hb(a.oa)||Hb(a.gc)&&!Hb(a.na))throw new P(523);this.Qh()};H.Hh=function(){var a=this.a.h[h](function(a){return a instanceof T&&"DISTINCT"==a.ic},this);if(0!=a[y]&&(1!=a[y]||1!=this.a.h[y]))throw new P(524);};H.Qh=function(){null!=this.a.la?this.Lh():this.Ph()};
H.Lh=function(){var a=this.a.h[h](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.la[y]||0==this.a.h[y])b=!0;else{var c=this.a.la.map(function(a){return a.l()});(b=a[yb](function(a){return-1==c[pb](a)}))||(b=this.a.la[yb](function(a){a=a.$();return 6==a||0==a}))}if(b)throw new P(525);};
H.Ph=function(){var a=this.a.h[yb](function(a){return a instanceof T},this),b=this.a.h[yb](function(a){return!(a instanceof T)},this)||0==this.a.h[y];if(a&&b)throw new P(526);};H.Fh=function(){this.a.h[q](function(a){if(a instanceof T&&!ah(a.ic,a.$()))throw new P(527,a.l());},this)};H.f=function(a){if(this.Of)throw new P(515);this.Of=!0;null==this.a.f&&(this.a.f=[]);this.a.f[v][jb](this.a.f,e[z][w][D](arguments));return this};W[z].from=W[z].f;
W[z].D=function(a){if(this.dh)throw new P(516);this.dh=!0;this.xf(a);return this};W[z].where=W[z].D;W[z].xf=function(a){null!=this.a.D&&(a=Zg(a,this.a.D));this.a.D=a};W[z].Mj=function(a,b){null==this.a.f&&(this.a.f=[]);this.a.f[v](a);this.xf(b);return this};W[z].innerJoin=W[z].Mj;W[z].Tj=function(){throw new P(360);};W[z].leftOuterJoin=W[z].Tj;W[z].oa=function(a){if(null!=(this.a.oa||this.a.Vb))throw new P(528);if(a instanceof me)this.a.Vb=a;else{if(0>a)throw new P(531);this.a.oa=a}return this};
W[z].limit=W[z].oa;W[z].na=function(a){if(null!=(this.a.na||this.a.gc))throw new P(529);if(a instanceof me)this.a.gc=a;else{if(0>a)throw new P(531);this.a.na=a}return this};W[z].skip=W[z].na;W[z].K=function(a,b){null==this.a.K&&(this.a.K=[]);this.a.K[v]({J:a,ob:null!=b?b:1});return this};W[z].orderBy=W[z].K;W[z].la=function(a){if(null!=this.a.la)throw new P(530);null==this.a.la&&(this.a.la=[]);this.a.la[v][jb](this.a.la,e[z][w][D](arguments));return this};W[z].groupBy=W[z].la;
function ah(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}ta(W[z],function(){var a=new W(this[Sa],this.a.h);a.a=this.a.clone();a.a.Ic=null;return a});ta(W[z],W[z].clone);
function bh(a,b){Wg[D](this,a,new Lg(a.o(Dd)));pa(this.a,b)}K(bh,Wg);I("lf.query.UpdateBuilder",bh,void 0);bh[z].set=function(a,b){var c={ld:b instanceof me?b.ub():-1,J:a,value:b};null!=this.a.set?this.a.set[v](c):this.a.set=[c];return this};bh[z].set=bh[z].set;bh[z].D=function(a){this.he();this.a.D=a;return this};bh[z].where=bh[z].D;bh[z].he=function(){if(null!=this.a.D)throw new P(516);};
bh[z].kb=function(){bh.gb.kb[D](this);if(null==this.a.set)throw new P(532);if(this.a.set[yb](function(a){return a[x]instanceof me}))throw new P(501);};
function ch(a){this.a=a;this.Aa=null}ch[z].sc=function(){null===this.Aa&&(this.Aa=this.xd());return this.Aa};function dh(a){ch[D](this,a)}K(dh,ch);dh[z].xd=function(){return this.a.jc?new rg(this.a.Ra,this.a[Oa]):new qg(this.a.Ra,this.a[Oa])};function eh(a){ch[D](this,a)}K(eh,ch);eh[z].xd=function(){var a=new tg(this.a[u],this.a.set),b=null!=this.a.D?new ug(this.a.D.Nb()):null,c=new vg(this.a[u]);null===b?a.ia(c):(b.ia(c),a.ia(b));return a};
function fh(a,b){this.Aa=a;this.$e=b}fh[z].sc=function(){this.$e[q](function(a){this.Aa=a.Jb(this.Aa)},this);return this.Aa};
function gh(a){ch[D](this,a)}K(gh,ch);gh[z].xd=function(){var a=new sg(this.a.f),b=null!=this.a.D?new ug(this.a.D.Nb()):null,c=new vg(this.a.f);null===b?a.ia(c):(b.ia(c),a.ia(b));return(new fh(a,[new Fg])).sc()};
function ih(){}K(ih,Eg);ih[z].Jb=function(a){this.ha=a;this.Za(this.ha);return this.ha};ih[z].Za=function(a){if(a instanceof ug&&a.Ga instanceof ag){L(1==a.xa(),"SelectNode must have exactly one child.");var b=a.sb(0);if(b instanceof wg){var c=new Dg(a.Ga);Rf(a,b,c,c);a==this.ha&&(this.ha=c);a=c}}a.N()[q](function(a){this.Za(a)},this)};
function jh(){this.fe=new O}K(jh,Eg);H=jh[z];H.Jb=function(a){this.ha=a;this.Za(this.ha);this.fe[Pa]();return this.ha};H.Za=function(a){if(this.eg(a)){var b=a.Ga instanceof xe?this.rk(a):this.qk(a);this.fe.add(a);b==a&&(b=a.sb(0));null!==b&&(Lb(b[Ga]())&&(this.ha=b),this.eg(b)&&!this.fe[ib](b)&&this.Za(b))}else a.N()[q](function(a){this.Za(a)},this)};
H.Sd=function(a,b){var c=a;if(this.Nk(a))c=Pf(a),this.Sd(a,b);else if(this.Mk(a)){var d=[],c=Qf(a,b,function(a){a=new ug(a.Ga);d[v](a);return a});d[q](function(a){this.Sd(a,b)},this)}return c};H.rk=function(a){var b=new O([a.Ga.J.X().Ca()]),c=function(a){return this.Jf(a,b)}[r](this);return this.Sd(a,c)};H.qk=function(a){var b=new O([a.Ga.Ta.X().Ca(),a.Ga.fb.X().Ca()]),c=function(a){return this.Jf(a,b)}[r](this);return this.Sd(a,c)};
H.Jf=function(a,b){var c=new O;Lf(a)[q](function(a){c.add(a[u].Ca())},this);a instanceof vg&&c.add(a[u].Ca());return c.ci(b)};H.eg=function(a){return a instanceof ug&&!(a.Ga instanceof Tf)};H.Mk=function(a){a=a.sb(0);return a instanceof wg||a instanceof Dg};H.Nk=function(a){return a.sb(0)instanceof ug};
function kh(a){ch[D](this,a);this.Eg=this.pg=this.Qg=this.vg=this.sf=this.ag=this.Ng=this.Gf=this.Sg=null}K(kh,ch);H=kh[z];H.xd=function(){this.Wi();var a=this.Zh(),b=[new Fg,new Gg,new jh,new ih];return(new fh(a,b)).sc()};H.Wi=function(){this.bj();this.Ri();this.$i();this.Xi();this.aj();this.Vi();this.Ti();this.Qi();this.Yi()};
H.Zh=function(){for(var a=[this.pg,this.Qg,this.Eg,this.vg,this.sf,this.ag,this.Ng,this.Gf],b=null,c=null,d=0;d<a[y];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ia(g),b=d)}this.Sg[q](function(c){a[b].ia(c)});return c};H.bj=function(){this.Sg=this.a.f.map(function(a){return new vg(a)},this)};H.Ri=function(){2<=this.a.f[y]&&(this.Gf=new wg)};H.$i=function(){this.Ng=null!=this.a.D?new ug(this.a.D.Nb()):null};H.Xi=function(){this.a.K&&(this.vg=new yg(this.a.K))};
H.Vi=function(){null!=this.a.oa&&(this.pg=new Bg(this.a.oa))};H.aj=function(){null!=this.a.na&&0<this.a.na&&(this.Qg=new Cg(this.a.na))};H.Ti=function(){null!=this.a.la&&(this.ag=new Ag(this.a.la))};H.Qi=function(){var a=this.a.h[h](function(a){return a instanceof T});null!=this.a.K&&this.a.K[q](function(b){b.J instanceof T&&a[v](b.J)});0<a[y]&&(this.sf=new zg(a))};H.Yi=function(){this.Eg=new xg(this.a.h||[],this.a.la||null)};
function lh(){}lh[z].create=function(a){var b=null;if(a instanceof Kg)b=new dh(a);else if(a instanceof Jg)b=new gh(a);else if(a instanceof Ae)b=new kh(a);else if(a instanceof Lg)b=new eh(a);else throw new P(513);b=b.sc();return new pg(b,a.fa())};
function mh(a){U[D](this,1,1);this.L=a}K(mh,U);f(mh[z],function(){return"delete("+this.L[l]()+")"});mh[z].ja=function(a,b){var c=b[0][C].map(function(a){return a.wa});a[n](this.L,c);return[fe()]};
function nh(a){U[D](this,1,1);this.$f=a}K(nh,U);f(nh[z],function(){return"groupBy("+this.$f.map(function(a){return a.l()})[t]()+")"});nh[z].ja=function(a,b){return this.Bh(b[0])};nh[z].Bh=function(a){var b=new $f,c=function(a){return this.$f.map(function(b){return a.O(b)},this)[F](",")}[r](this);a[C][q](function(a){b.add(c(a),a)},this);return b.H().map(function(c){return new ce(b.get(c),a.Y())},this)};
function oh(a){L(1<a[y],"Should only be called for cross-column indices.");a=a.map(function(a){return a.c()});a=td[jb](null,a);var b=[];sd(a,function(a){b[v](a)});return b}function ph(a){this.Tb=a}ph[z].Ad=function(){return 1==this.Tb.h[y]?[ae()]:[this.Tb.h.map(function(){return ae()})]};function qh(a,b){this.Tb=a;this.ua=b;this.me=this.ng=null}
qh[z].Ch=function(a){var b=new N;this.ua.H()[q](function(c){var d=this.ua.get(c).map(function(b){return a.Dd(b)},this),g=new If([ae()]);d[q](function(a){a=new If(a.Vk());g=Jf(g,a)});b.set(c,g)},this);return b};qh[z].Ii=function(a){for(var b=this.Tb.h[y]-1;0<=b;b--){var c=this.Tb.h[b];if(null!==a.get(c.ma[l](),null))break;a.set(c.ma[l](),new If([ae()]))}};qh[z].Ad=function(a){if(this.ng==a)return this.me;var b=this.Ch(a);this.Ii(b);this.me=1==this.Tb.h[y]?b.c()[0].c():oh(this.uj(b));this.ng=a;return this.me};
qh[z].uj=function(a){var b=new N,c=0;this.Tb.h[q](function(a){b.set(a.ma[l](),c);c++});return a.H()[zb](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function rh(a,b){this.Ug=b;this.I=a.o(zd)}rh[z].Vh=function(a,b){var c=b[h](this.Nj,this);if(0==c[y])return null;c=this.Ui(c);if(0==c[y])return null;if(1==c[y])return c[0];var d=Number.MAX_VALUE;return c[lb](function(b,c){var m=c.Ah(a);return m<d?(d=m,c):b},null)};rh[z].Ui=function(a){return this.Ug.Da().map(function(b){b=new sh(this.I,b);b.bi(a);return b},this)[h](function(a){return a.Sj()})};rh[z].Nj=function(a){return a instanceof xe&&a.fg()?a.J.X()==this.Ug:!1};
function sh(a,b){this.I=a;this.wb=b;this.cg=new O;this.cg[mb](this.wb.h.map(function(a){return a.ma[l]()}));this.Me=this.ua=null}H=sh[z];H.oj=function(){return null===this.ua?[]:this.ua.c()};H.Uf=function(){L(this.ua);null===this.Me&&(this.Me=new qh(this.wb,this.ua));return this.Me};H.bi=function(a){a[q](function(a){var c=a.tb()[0][l]();this.cg[ib](c)&&(null===this.ua&&(this.ua=new $f),this.ua.add(c,a.ka()))},this)};
H.Sj=function(){if(null===this.ua)return!1;for(var a=!1,b=!0,c=0;c<this.wb.h[y];c++){var d=this.ua.A(this.wb.h[c].ma[l]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.Ah=function(a){a=this.Uf().Ad(a);var b=this.I.get(this.wb.l());return a[lb](function(a,d){return a+b.td(d)},0)};
function th(a,b,c,d){U[D](this,0,-1);this.I=a.o(zd);this.index=b;this.lg=c;this.Ze=d;this.ce=this.be=!1}K(th,U);f(th[z],function(){return"index_range_scan("+this[Za].l()+", ?, "+(this.Ze?"reverse":"natural")+(this.be?", limit:?":"")+(this.ce?", skip:?":"")+")"});th[z].hd=function(a){var b=this[t](),c=this.lg.Ad(a),b=b[Ja]("?",c[t]());this.be&&(b=b[Ja]("?",a.oa[t]()));this.ce&&(b=b[Ja]("?",a.na[t]()));return b};
th[z].ja=function(a,b,c){a=this.lg.Ad(c);c=this.I.get(this[Za].l()).ab(a,this.Ze,this.be?c.oa:void 0,this.ce?c.na:void 0).map(function(a){return new bd(a,{})},this);return[ie(c,[this[Za].ef])]};
function uh(a){U[D](this,1,1);this.Rd=a}K(uh,U);f(uh[z],Fb("select(?)"));uh[z].hd=function(a){a=a.Dd(this.Rd);return this[t]()[Ja]("?",a[t]())};uh[z].ja=function(a,b,c){return[c.Dd(this.Rd).eval(b[0])]};
function vh(a,b){U[D](this,1,1);this.qa=a.o(yd);this.L=b}K(vh,U);f(vh[z],function(){return"table_access_by_row_id("+this.L[l]()+")"});vh[z].ja=function(a,b){return[ie(this.qa.get(b[0].tj()),[this.L.Ca()])]};
function wh(a,b){U[D](this,0,-1);this.qa=a.o(yd);this.I=a.o(zd);pa(this,b)}K(wh,U);f(wh[z],function(){var a="table_access("+this[u][l]();null===this[u].$a()||(a+=" as "+this[u].$a());return a+")"});wh[z].ja=function(){var a=this.I.get(this[u].Rb()).ab();return[ie(this.qa.get(a),[this[u].Ca()])]};
function xh(a){this.m=a}K(xh,Eg);xh[z].Jb=function(a,b){this.ha=a;Mf(a,function(a){return a instanceof wh})[q](function(a){var d=this.Oi(a);if(0!=d[y]){var g=(new rh(this.m,a[u])).Vh(b,d.map(function(a){return b.Dd(a.Rd)}));if(null!==g){var k=new N;d[q](function(a){k.set(a.Rd,a)},this);this.ha=this.Ck(g,k,a,b)}}},this);return this.ha};xh[z].Oi=function(a){var b=[];for(a=a[Ga]();a;)a instanceof uh&&b[v](a),a=a[Ga]();return b};
xh[z].Ck=function(a,b,c){a.oj().map(function(a){return b.get(a)})[q](Nf);a=new th(this.m,a.wb,a.Uf(),!1);var d=new vh(this.m,c[u]);d.ia(a);Rf(c,c,d,a);return a.mb()};
function yh(a,b){U[D](this,0,-1);this.I=a.o(zd);this.L=b}K(yh,U);f(yh[z],function(){return"insert("+this.L[l]()+")"});yh[z].ja=function(a,b,c){zh(this.L,c[Oa],this.I);a.xb(this.L,c[Oa]);return[ie(c[Oa],[this.L[l]()])]};function zh(a,b,c){a=a.Gb().Be();if(null===a?0:a.h[0][Na]){var d=a.h[0].ma[l](),g=c.get(a.l()).max()[0]||0;b[q](function(a){if(0==a.u()[d]||null==a.u()[d])g++,a.u()[d]=g})}}function Ah(a,b){U[D](this,0,-1);this.I=a.o(zd);this.L=b}K(Ah,U);
f(Ah[z],function(){return"insert_replace("+this.L[l]()+")"});Ah[z].ja=function(a,b,c){zh(this.L,c[Oa],this.I);a.He(this.L,c[Oa]);return[ie(c[Oa],[this.L[l]()])]};
function Bh(a){U[D](this,2,0);this.Dg=a}K(Bh,U);f(Bh[z],function(){return"join("+this.Dg[t]()+")"});Bh[z].ja=function(a,b){return[this.Dg.ti(b[0],b[1])]};
function Ch(){U[D](this,1,1)}K(Ch,U);f(Ch[z],Fb("limit(?)"));Ch[z].hd=function(a){return this[t]()[Ja]("?",a.oa[t]())};Ch[z].ja=function(a,b,c){b[0][C][E](c.oa);return b};
function Dh(a){U[D](this,-1,1);this.K=a}K(Dh,U);H=Dh[z];f(H,function(){return"order_by("+Be(this.K)+")"});H.ja=function(a,b){if(1==b[y]){var c=this.Ki(b[0]);(null===c?b[0]:b[0].tc(c))[C][zb](this.pi[r](this))}else b[zb](this.yk[r](this));return b};H.Ki=function(a){for(var b=null,c=0;c<this.K[y];c++){var d=gg(this.K[c].J);if(a.Fj(d)){b=d;break}}return b};
H.M=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.K[k].J,c=this.K[k].ob,d=a(g),g=b(g);while(d==g&&k+1<this.K[y]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.yk=function(a,b){return this.M(function(b){return b instanceof T?a.tc(b):a[C][a[C][y]-1].O(b)},function(a){return a instanceof T?b.tc(a):b[C][b[C][y]-1].O(a)})};H.pi=function(a,b){return this.M(function(b){return a.O(b)},function(a){return b.O(a)})};
function Eh(a,b){this.Ha=a;this.G=b}Eh[z].Zf=function(){return this.G[yb](function(a){return a instanceof T},this)?this.Dj():this.Ej()};
Eh[z].Dj=function(){if(1==this.G[y]&&"DISTINCT"==this.G[0].ic){var a=this.Ha.tc(this.G[0])[C].map(function(a){var b=new je(new bd(-1,{}),this.Ha.Je());b.bf(this.G[0],a.O(this.G[0][gb]));return b},this);return new ce(a,[])}var b=new je(new bd(-1,{}),this.Ha.Je());this.G[q](function(a){var d=a instanceof T?this.Ha.tc(a):this.Ha[C][0].O(a);b.bf(a,d)},this);return new ce([b],this.Ha.Y())};
Eh[z].Ej=function(){var a=e(this.Ha[C][y]),b=this.Ha.Je();this.Ha[C][q](function(c,d){a[d]=new je(new bd(c.wa.id(),{}),b);this.G[q](function(b){a[d].bf(b,c.O(b))},this)},this);return new ce(a,this.Ha.Y())};function Fh(a,b){var c=a.map(function(a){return(new Eh(a,b)).Zf()[C][0]});return new ce(c,a[0].Y())};
function Gh(a,b){U[D](this,-1,1);this.h=a;this.Sb=b}K(Gh,U);H=Gh[z];f(H,function(){var a="project("+this.h[t]();if(null!==this.Sb)var b=this.Sb.map(function(a){return a.l()})[F](", "),a=a+(", groupBy("+b+")");return a+")"});H.ja=function(a,b){return 0==b[y]?[fe()]:1==b[y]?[this.Bi(b[0])]:[this.zi(b)]};H.Gj=function(){return this.h[yb](function(a){return a instanceof T})||null!==this.Sb};H.zi=function(a){return Fh(a,this.h)};H.Bi=function(a){return 0==this.h[y]?a:(new Eh(a,this.h)).Zf()};
function Hh(){U[D](this,1,1)}K(Hh,U);f(Hh[z],Fb("skip(?)"));Hh[z].hd=function(a){return this[t]()[Ja]("?",a.na[t]())};Hh[z].ja=function(a,b,c){return[new ce(b[0][C][w](c.na),b[0].Y())]};
function Ih(){}K(Ih,Eg);Ih[z].Jb=function(a){var b=Mf(a,function(a){return a instanceof Ch||a instanceof Hh});if(0==b[y])return a;var c=this.Ni(a);if(null===c)return a;b[q](function(a){this.ak(a,c)},this);return c.mb()};Ih[z].ak=function(a,b){a instanceof Ch?b.be=!0:b.ce=!0;return Nf(a).parent};Ih[z].Ni=function(a){a=Mf(a,function(a){return a instanceof th},function(a){return a instanceof Gh&&a.Gj()||a instanceof Dh||1!=a.xa()||a instanceof uh});return 0<a[y]?a[0]:null};
function Jh(a){this.m=a}K(Jh,Eg);Jh[z].Jb=function(a){var b=Kh(a);if(null===b)return a;a=this.ph(b);a==b&&(a=this.oh(b));return a.mb()};Jh[z].ph=function(a){var b=a,c=Lh(a.sb(0));if(null!==c){var d;d=a.K;for(var g=null,k=c[u].Da(),m=0;m<k[y]&&null===g;m++)g=Mh(k[m],d);d=g;if(null===d)return b;b=new th(this.m,d.wb,new ph(d.wb),d.ig);d=new vh(this.m,c[u]);d.ia(b);Nf(a);b=Rf(c,c,d,b)}return b};
Jh[z].oh=function(a){var b=a,c=Nh(a.sb(0));if(null!==c){var d=Mh(c[Za],a.K);if(null===d)return b;c.Ze=d.ig;b=Nf(a).parent}return b};function Nh(a){a=Mf(a,function(a){return a instanceof th},function(a){return 1!=a.xa()});return 0<a[y]?a[0]:null}function Lh(a){a=Mf(a,function(a){return a instanceof wh},function(a){return 1!=a.xa()});return 0<a[y]?a[0]:null}function Kh(a){a=Mf(a,function(a){return a instanceof Dh});return 0<a[y]?a[0]:null}
function Mh(a,b){if(a.h[y]!=b[y]||!b[Ab](function(b,c){return b.J[l]()==a.h[c].ma[l]()}))return null;var c=Oh(b,a);return c[0]||c[1]?{wb:a,ig:c[1]}:null}function Oh(a,b){var c=a[lb](function(a,b){return a<<1|(0==b.ob?0:1)},0),d=b.h[lb](function(a,b){return a<<1|(0==b.ob?0:1)},0),d=c^d,c=0==d,d=d==ea.pow(2,ea.max(a[y],b.h[y]))-1;return[c,d]};
function Ph(a,b,c){this.Aa=a;this.sk=b;this.$e=c}Ph[z].sc=function(){this.$e[q](function(a){this.Aa=a.Jb(this.Aa,this.sk)},this);return this.Aa};
function Qh(a,b){U[D](this,1,1);this.L=a;this.cl=b}K(Qh,U);f(Qh[z],function(){return"update("+this.L[l]()+")"});Qh[z].ja=function(a,b){var c=b[0][C].map(function(a){var b=this.L.pc(a.wa.Ia());this.cl[q](function(a){b.u()[a.J[l]()]=a[x]},this);return b},this);a[Bb](this.L,c);return[fe()]};
function Rh(a){this.m=a}Rh[z].create=function(a,b){var c=a.mb();if(c instanceof rg||c instanceof qg)return this.qe(a,b);if(c instanceof xg||c instanceof Bg||c instanceof Cg)return this.qe(a,b,[new xh(this.m),new Jh(this.m),new Ih]);if(c instanceof sg||c instanceof tg)return this.qe(a,b,[new xh(this.m)]);throw new P(8);};Rh[z].qe=function(a,b,c){var d=Kf(a.mb(),J(this.Xj,this));null!=c&&(d=(new Ph(d,b,c)).sc());return new Ce(d,a.fa())};
Rh[z].Xj=function(a){if(a instanceof xg)return new Gh(a.h,a.Sb);if(a instanceof Ag)return new nh(a.h);if(a instanceof zg)return new hg(a.h);if(a instanceof yg)return new Dh(a.K);if(a instanceof Cg)return new Hh;if(a instanceof Bg)return new Ch;if(a instanceof ug)return new uh(a.Ga.ka());if(a instanceof wg)return new Hg;if(a instanceof Dg)return new Bh(a.Ga);if(a instanceof vg)return new wh(this.m,a[u]);if(a instanceof sg)return new mh(a[u]);if(a instanceof tg)return new Qh(a[u],a.kf);if(a instanceof
rg)return new Ah(this.m,a[u]);if(a instanceof qg)return new yh(this.m,a[u]);throw new P(514);};

function Sh(a){this.Vj=new lh;this.lk=new Rh(a)}Sh[z].nj=function(a){var b=this.Vj[Va](a);return this.lk[Va](b,a)};
function Th(){this.rg=new N}H=Th[z];H.zd=function(a){var b=this.rg.get(a[l](),null);null===b&&(b=new Uh,this.rg.set(a[l](),b));return b};H.Aj=function(a,b,c){b[q](function(b){this.zd(b).zj(a,c)},this)};H.Eh=function(a,b,c){return b[Ab](function(b){return this.zd(b).Dh(a,c)},this)};H.Hg=function(a,b,c){var d=this.Eh(a,b,c);d&&this.Aj(a,b,c);return d};H.releaseLock=function(a,b){b[q](function(b){this.zd(b).releaseLock(a)},this)};H.Wh=function(a){a[q](function(a){this.zd(a).eb=null},this)};
function Uh(){this.fc=this.Va=this.eb=this.Oc=null}Uh[z].releaseLock=function(a){this.Oc==a&&(this.Oc=null);this.eb==a&&(this.eb=null);null===this.Va||this.Va[n](a);null===this.fc||this.fc[n](a)};Uh[z].Dh=function(a,b){var c=null===this.Va||this.Va.Fa();return 0==b?(null===this.fc||this.fc.Fa())&&c&&null===this.Oc&&null!==this.eb&&this.eb==a:3==b?null===this.Oc&&null===this.eb&&null!==this.Va&&this.Va[ib](a):1==b?null===this.eb:c&&(null===this.eb||this.eb==a)};
Uh[z].zj=function(a,b){0==b?(this.eb=null,this.Oc=a):3==b?(null===this.fc&&(this.fc=new O),this.fc.add(a),null===this.Va&&(this.Va=new O),this.Va[n](a)):1==b?(null===this.Va&&(this.Va=new O),this.Va.add(a)):2==b&&(this.eb=a)};
function Vh(){this.bc=new Wh;this.$c=new Th}H=Vh[z];H.dc=function(a){(2>a[qb]()||2>a[qb]())&&this.$c.Wh(a.fa().c());this.bc.xb(a);this.pe();return a.Uc().ga};H.pe=function(){for(var a=this.bc.c(),b=0;b<a[y];b++){var c=a[b],d=!1;if(d=0==c.$()?this.Ig(c,1,3):this.Ig(c,2,0))this.bc[n](c),this.Ci(c)}};H.Ig=function(a,b,c){var d=!1,g=a.fa().c();this.$c.Hg(a.ka(),g,b)&&(d=this.$c.Hg(a.ka(),g,c));return d};H.Ci=function(a){a[Ia]()[A](J(this.hk,this,a),J(this.gk,this,a))};
H.hk=function(a,b){this.$c.releaseLock(a.ka(),a.fa().c());a.Uc()[xb](b);this.pe()};H.gk=function(a,b){this.$c.releaseLock(a.ka(),a.fa().c());a.Uc()[kb](b);this.pe()};function Wh(){this.bc=[]}Wh[z].xb=function(a){rc(this.bc,a,function(a,c){var d=a[qb]()-c[qb]();return 0==d?a.ka()-c.ka():d})};Wh[z].c=function(){return this.bc[w]()};ka(Wh[z],function(a){var b=this.bc;a=dc(b,a);var c;(c=0<=a)&&jc(b,a);return c});

function Xh(a,b){this.si=ne.ye();this.We=a;this.Nd=b;this.G=this.ki()}Xh[z].ki=function(){if(0<this.We.h[y])return this.We.h;var a=[];this.We.f[q](function(b){b.tb()[q](function(b){a[v](b)})});return a};Xh[z].M=function(a,b){return this.G[Ab](function(c){return this.si.xe(c.$(),"eq")(a.O(c),b.O(c))},this)};
Xh[z].nh=function(a,b){for(var c=null===a?[]:a[C],d=kd(c,b[C],J(this.M,this),function(a){return c[a]}),g=[],k=0,m=0;m<c[y];m++){var p=c[m];d[k]==p?k++:(p=this.Nd[E](k,1),p=Yh(m,p,0,this.Nd),g[v](p))}d=kd(c,b[C],J(this.M,this),function(a,c){return b[C][c]});for(m=k=0;m<b[C][y];m++)p=b[C][m],d[k]==p?k++:(this.Nd[E](m,0,p.wa.u()),p=Yh(m,[],1,this.Nd),g[v](p));return g};function Yh(a,b,c,d){return{dl:c,index:a,object:d,fl:b,type:"splice"}};
function Zh(){this.rc=new N}H=Zh[z];H.Ce=function(a){return Qb(a)[t]()};H.ee=function(a,b){var c=this.Ce(a.Cd()),d=this.rc.get(c,null);null===d&&(d=new $h(a),this.rc.set(c,d));d.ee(b)};H.Ye=function(a,b){var c=this.Ce(a.Cd()),d=this.rc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.Ye(b);L(g,"removeObserver: Inconsistent state detected.");d.Ij()||this.rc[n](c)};
H.Ee=function(a){var b=new O;a[q](function(a){b.add(a[l]())});var c=[];this.rc.c()[q](function(a){a=a.Wc();a[Ea].f[yb](function(a){return b[ib](a[l]())})&&c[v](a)});return c};H.$g=function(a,b){var c=this.Ce(null!=a.Ic?a.Ic:a),c=this.rc.get(c,null);return null!==c?(c.bl(b),!0):!1};function $h(a){this.yh=a;this.cd=new O;this.ek=[];this.og=null;this.ni=new Xh(a.Cd(),this.ek)}H=$h[z];H.ee=function(a){this.cd[ib](a)?$b("Attempted to register observer twice."):this.cd.add(a)};H.Ye=function(a){return this.cd[n](a)};
H.Wc=function(){return this.yh.lj()};H.Ij=function(){return 0<this.cd.ra()};H.bl=function(a){var b=this.ni.nh(this.og,a);this.og=a;0<b[y]&&this.cd.c()[q](function(a){a(b)})};
function ai(a,b){var c=a.o(Dd),d=b||{},g=new ff;a.pb(yd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new Te(c);break;case 5:g=new Ue(c);break;case 4:g=new Ye(a,c,d.webSqlDbSize);break;case 3:g=new Ne(c,d.firebase);k=!0;break;default:g=new Re(a,c)}a.pb(xd,g);var m=new Gf;a.pb(zd,m);return g.Ea(d.onUpgrade)[A](function(){a.pb(Ad,new Sh(a));var b=new Vh;a.pb(Bd,b);b=new Zh;a.pb(Cd,b);return m.Ea(c)})[A](function(){k&&(new Ie(a)).Rk();return(new Ff(a)).Ea(c)})};

function bi(a,b){this.m=a;this.Cb=a.o(xd);this.Xa=a.o(Bd);this.Hb=a.o(Cd);this.pa=new O(b);this.Sa=new Yd(this.m,this.pa.c());this.cc=Wc();this.Pc=Wc();this.mf=Wc()}H=bi[z];ia(H,function(){this.mf[xb]();return this.Pc.ga});H.$=Fb(1);H.fa=G("pa");H.Uc=G("cc");H.ka=function(){return Qb(this)};xa(H,Fb(2));H.eh=function(){this.Xa.dc(this);return this.mf.ga};
H.vh=function(a){a=a.Wc();return a.Ue.mb()[Ia](this.Sa,a[Ea])[A](function(a){return a[0].ze()},J(function(a){this.Sa.Kb();var c=new Nc(a[sb]);this.Pc[kb](c);throw a;},this))};H.V=function(){this.Cb.Ob(this.$(),this.Sa).V()[A](J(function(){this.fd();this.Pc[xb]()},this),J(function(a){this.Sa.Kb();this.Pc[kb](a)},this));return this.cc.ga};H.Kb=function(){this.Sa.Kb();this.Pc[xb]();return this.cc.ga};H.fd=function(){var a=this.Hb.Ee(this.pa.c());0!=a[y]&&(a=new Fe(this.m,a),this.Xa.dc(a))};
function ci(a){this.m=a;this.Xa=a.o(Bd);this.jd=null;this.Ja=0}I("lf.proc.Transaction",ci,void 0);var di=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));ci[z].Ma=function(a){var b=di.get(this.Ja,null);if(null===b||!b[ib](a))throw new P(107,this.Ja,a);this.Ja=a};
ia(ci[z],function(a){this.Ma(4);var b=[];try{a[q](function(a){a.kb();b[v](a.Wc())},this)}catch(c){return this.Ma(7),Sc(c)}a=new Ig(this.m,b);return this.Xa.dc(a)[A](J(function(a){this.Ma(7);return a.map(function(a){return a.ze()})},this),J(function(a){this.Ma(7);throw a;},this))});ia(ci[z],ci[z][Ia]);ci[z].wh=function(a){this.Ma(1);this.jd=new bi(this.m,a);return this.jd.eh()[A](J(function(){this.Ma(2)},this))};ci[z].begin=ci[z].wh;
ci[z].uh=function(a){this.Ma(3);return this.jd.vh(a)[A](J(function(a){this.Ma(2);return a},this),J(function(a){this.Ma(7);throw a;},this))};ci[z].attach=ci[z].uh;ci[z].V=function(){this.Ma(5);return this.jd.V()[A](J(function(){this.Ma(7)},this))};ci[z].commit=ci[z].V;ci[z].Kb=function(){this.Ma(6);return this.jd.Kb()[A](J(function(){this.Ma(7)},this))};ci[z].rollback=ci[z].Kb;
function X(a){this.m=a;this.s=a.o(Dd);this.Ge=!1}I("lf.proc.Database",X,void 0);X[z].Ea=function(a){this.m.pb(Dd,this.s);return ai(this.m,a)[A](J(function(){this.Ge=!0;return this},this))};X[z].init=X[z].Ea;X[z].vb=G("s");X[z].getSchema=X[z].vb;X[z].nc=function(){if(!this.Ge)throw new P(2);};X[z].select=function(a){this.nc();return new W(this.m,1!=arguments[y]||null!=arguments[0]?e[z][w][D](arguments):[])};X[z].select=X[z].select;X[z].xb=function(){this.nc();return new Yg(this.m)};X[z].insert=X[z].xb;
X[z].He=function(){this.nc();return new Yg(this.m,!0)};X[z].insertOrReplace=X[z].He;Da(X[z],function(a){this.nc();return new bh(this.m,a)});Da(X[z],X[z][Bb]);ya(X[z],function(){this.nc();return new Xg(this.m)});X[z]["delete"]=X[z][rb];X[z].observe=function(a,b){this.m.o(Cd).ee(a,b)};X[z].observe=X[z].observe;X[z].unobserve=function(a,b){this.m.o(Cd).Ye(a,b)};X[z].unobserve=X[z].unobserve;X[z].ii=function(){this.nc();return new ci(this.m)};X[z].createTransaction=X[z].ii;
sa(X[z],function(){try{this.m.o(xd)[cb]()}catch(a){}this.m[Pa]();this.Ge=!1});sa(X[z],X[z][cb]);
function Y(a,b,c,d,g,k){this.L=a;this.B=b;this.kg=c;this.hg=d;this.Zg=g;this.jb=k||null;this.i=this.C=null}I("lf.schema.BaseColumn",Y,void 0);H=Y[z];ja(H,G("B"));H.l=function(){return this.L.Ca()+"."+this.B};f(H,function(){return this.l()});H.X=G("L");H.$=G("Zg");H.$a=G("jb");H.Da=function(){null==this.ta&&(this.ta=[],this.X().Da()[q](function(a){-1!=a.h.map(function(a){return a.ma[l]()})[pb](this.B)&&this.ta[v](a)},this));return this.ta};H.wc=G("hg");H.Zc=G("kg");H.Zd=Eb("C");H.getParent=G("C");
H.Ik=Eb("i");H.N=G("i");H.Qa=function(a){return bg(this,a,"eq")};Y[z].eq=Y[z].Qa;Y[z].sg=function(a){return bg(this,a,"neq")};Y[z].neq=Y[z].sg;Y[z].Ne=function(a){return bg(this,a,"lt")};Y[z].lt=Y[z].Ne;Y[z].Wj=function(a){return bg(this,a,"lte")};Y[z].lte=Y[z].Wj;Y[z].Bj=function(a){return bg(this,a,"gt")};Y[z].gt=Y[z].Bj;Y[z].Cj=function(a){return bg(this,a,"gte")};Y[z].gte=Y[z].Cj;Y[z].match=function(a){return bg(this,a,"match")};Y[z].match=Y[z].match;
Y[z].xh=function(a,b){return bg(this,[a,b],"between")};Y[z].between=Y[z].xh;Y[z].Jj=function(a){return bg(this,a,"in")};Y[z]["in"]=Y[z].Jj;Y[z].Qj=function(){return this.Qa(null)};Y[z].isNull=Y[z].Qj;Y[z].Pj=function(){return this.sg(null)};Y[z].isNotNull=Y[z].Pj;Y[z].Fc=function(a){return new Y(this.L,this.B,this.kg,this.hg,this.Zg,a)};Y[z].as=Y[z].Fc;
function ei(){this.Xd=new N}var fi;na(ei[z],function(){this.Xd[Pa]()});na(ei[z],ei[z][Pa]);ei[z].pb=function(a,b){this.Xd.set(a[t](),b);return b};ei[z].registerService=ei[z].pb;ei[z].o=function(a){var b=this.Xd.get(a[t](),null);if(null==b)throw new P(7,a[t]());return b};ei[z].getService=ei[z].o;ei[z].Le=function(a){return this.Xd.A(a[t]())};ei[z].isRegistered=ei[z].Le;
function gi(a,b,c){this.pk=a;this.ck=b;this.Pi=c}gi[z].Be=G("pk");gi[z].kj=G("ck");gi[z].Sf=G("Pi");
function hi(a,b){var c=a.ref[ab](".");if(2!=c[y])throw new P(540,b);this.Db=a.local;this.Yb=c[0];this.Ib=c[1];this.rb=b;this.action=a.action;this.timing=a[tb]};
function Z(a){this.B=a;this.G=new $e;this.hf=new df;this.Bc=new df;this.Md=new df;var b=this.B;this.yc="pk"+(b[0].toUpperCase()+b.substring(1));this.ta=new $e;this.Qd=!1;this.oc(a);this.Nf=[]}I("lf.schema.TableBuilder",Z,void 0);function ii(a){Aa(this,a[sb]);this.ob=a.order;this.autoIncrement=a[Na]}var ji=new df([0,6]);Z[z].oc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);if(this.G.has(a)||this.ta.has(a)||this.Bc.has(a))throw new P(503,this.B+"."+a);};
Z[z].Oh=function(a){var b=!1;a[q](function(a){var d=this.G.get(a[sb]);b=b||a[Na];if(a[Na]&&3!=d)throw new P(504);},this);if(b&&1<a[y])throw new P(505);};Z[z].gh=function(a,b){this.oc(a);this.G.set(a,b);ji.has(b)&&this.qf([a]);return this};Z[z].addColumn=Z[z].gh;Z[z].ih=function(a,b){this.oc(this.yc);var c=this.Ld(a,!0,void 0,b);this.Oh(c);1==c[y]&&this.hf.add(c[0][sb]);this.Bc.add(this.yc);this.ta.set(this.yc,c);return this};Z[z].addPrimaryKey=Z[z].ih;
Z[z].hh=function(a,b){this.oc(a);var c=new hi(b,this.B+"."+a);Hb(c.action)||(c.action=0);Hb(c[tb])||(c.timing=0);if(1==c.action&&1==c[tb])throw new P(506);if(!this.G.has(c.Db))throw new P(540,a);this.Nf[v](c);this.pf(a,[c.Db],!1);return this};Z[z].addForeignKey=Z[z].hh;Z[z].jh=function(a,b){this.oc(a);var c=this.Ld(b,!0);1==c[y]&&this.hf.add(c[0][sb]);this.ta.set(a,c);this.Bc.add(a);return this};Z[z].addUnique=Z[z].jh;
Z[z].qf=function(a){a=this.Ld(a,!1);this.Nh(a);a[q](function(a){this.Md.add(a[sb])},this);return this};Z[z].addNullable=Z[z].qf;Z[z].Nh=function(a){af(this.ta)[q](function(b){var c=new df;this.ta.get(b)[q](function(a){c.add(a[sb])});var d=a[h](function(a){return c.has(a[sb])});if(1<c[Ya]&&0<d[y])throw new P(507,b,d[F](","));},this)};Z[z].pf=function(a,b,c,d){this.oc(a);b=this.Ld(b,!0,d);this.Mh(a,b);c&&this.Bc.add(a);this.ta.set(a,b);return this};Z[z].addIndex=Z[z].pf;
Z[z].Mh=function(a,b){if(1<b[y]){var c=b[h](function(a){return this.Md.has(a[sb])},this);if(0<c[y])throw new P(507,a,c[F](","));}};Z[z].ac=Eb("Qd");Z[z].persistentIndex=Z[z].ac;Z[z].vb=function(){return new (this.cj())};Z[z].getSchema=Z[z].vb;Z[z].Qb=G("Nf");
Z[z].Ld=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new ii({name:a,order:c||1,autoIncrement:d||!1})}):a.map(function(a){return new ii(a)});g[q](function(a){if(!this.G.has(a[sb]))throw new P(508,this.B,a[sb]);if(b){var c=this.G.get(a[sb]);if(0==c||6==c)throw new P(509,this.B,a[sb]);}},this);return g};
Z[z].cj=function(){function a(){function a(c){return b.ta.get(c).map(function(a){return{ma:this[a[sb]],ob:a.ob,autoIncrement:a[Na]}},this)}var d=af(b.G).map(function(a){this[a]=new Y(this,a,b.hf.has(a),b.Md.has(a),b.G.get(a));return this[a]},this),g=af(b.ta).map(function(d){return new dg(b.B,d,b.Bc.has(d),a[D](this,d))},this);eg[D](this,b.B,d,g,b.Qd);var k=b.ta.has(b.yc)?new dg(b.B,b.yc,!0,a[D](this,b.yc)):null,m=d[h](function(a){return!b.Md.has(a[l]())}),p=ef(b.Bc).map(function(d){return new dg(b.B,
d,!0,a[D](this,d))},this);this.ai=new gi(k,m,b.Qb(),p);this.Lg=b.Zi(d,g)}var b=this;K(a,eg);a[z].Fb=function(a){return new this.Lg(cd++,a)};a[z].createRow=a[z].Fb;a[z].pc=function(a){var b={};this.tb()[q](function(g){var k=g[l]();g=g.$();var m=a[x][k];if(0==g)if(null===m)g=m;else if(g=m,""==g)g=null;else{0!=g[y]%2&&(g="0"+g);for(var m=new ArrayBuffer(g[y]/2),p=new Uint8Array(m),B=0,Ta=0;B<g[y];B+=2)p[Ta++]=ga(g.substr(B,2),16);g=m}else g=2==g?null===m?m:new Date(m):m;b[k]=g},this);return new this.Lg(a.id,
b)};a[z].deserializeRow=a[z].pc;a[z].Gb=G("ai");a[z].getConstraint=a[z].Gb;return a};
Z[z].Zi=function(a,b){function c(c,d){this.G=a;this.ta=b;bd[D](this,c,d)}K(c,bd);c[z].Hf=function(){var a={};this.G[q](function(b){a[b[l]()]=b.wc()?null:Ud[b.$()]});return a};c[z].Wg=function(){var a={};this.G[q](function(b){var c=b[l]();b=b.$();var d=this.u()[c];a[c]=0==b?null===d?d:fd(d):2==b?null===d?d:d[Qa]():d},this);return a};var d=J(function(a){var b=this.G.get(a[l]());return 2==b?function(b){b=b[a[l]()];return a.wc()&&null===b?null:b[Qa]()}:1==b?function(b){return a.wc()?(b=b[a[l]()],null===
b?null:b?1:0):b[a[l]()]?1:0}:function(b){return b[a[l]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ma)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[q](function(a){var b=a.l();a=1==a.h[y]?d(a.h[0].ma):g(a.h);k[b]=a});c[z].Ub=function(a){return-1!=a[pb]("#")?this.id():k[bb](a)?k[a](this.u()):null};return c};
function ki(a,b){this.s=new li(a,b);this.Na=new N;this.Qc=!1}I("lf.schema.Builder",ki,void 0);H=ki[z];H.Kh=function(a){a.Qb()[q](function(b){var c=b.Yb;if(!this.Na.A(c))throw new P(536,b.rb);var c=this.Na.get(c).vb(),d=b.Ib;if(!c[bb](d))throw new P(537,b.rb);if(a.vb()[b.Db].$()!=c[d].$())throw new P(538,b.rb);if(!c[d].Zc())throw new P(539,b.rb);},this)};H.Jh=function(a){a.Qb()[q](function(a){this.Na.get(a.Yb).Qb()[q](function(c){if(c.Db==a.Ib)throw new P(534,a.rb);},this)},this)};
H.Jk=function(a){var b=[];this.Na.c()[q](function(c){c.Qb()[h](function(c){c.Yb==a[l]()&&b[v](c)})});a.Kk(b)};H.Ji=function(){this.Qc||(this.Na.c()[q](function(a){this.Kh(a);this.s.Lk(a.vb())},this),this.Na.c()[q](this.Jh,this),this.Na.H()[q](this.$h,this),this.s.Ya()[q](this.Jk,this),this.Ih(),this.Na[Pa](),this.Qc=!0)};H.$h=function(a){this.Na.get(a).Qb()[q](function(b){var c=this.s.F.get(a),d=this.s.F.get(b.Yb);c[b.Db].Zd(d[b.Ib]);var g=d[b.Ib].N()||[];g[v](c[b.Db]);d[b.Ib].Ik(g)},this)};
H.Bf=function(a,b){a.lf||(a.lf=!0,a.Qe=!0,a.Kf[q](function(c){c=b.get(c);if(!c.lf)this.Bf(c,b);else if(c.Qe&&a!=c)throw new P(533);},this));a.Qe=!1};H.Ih=function(){var a=new $e;this.s.F.H()[q](function(b){a.set(b,new mi(b))},this);this.Na[q](function(b,c){b.Qb()[q](function(b){a.get(b.Yb).Kf.add(c)})});bf(a)[q](function(b){this.Bf(b,a)},this)};function mi(a){this.Qe=this.lf=!1;this.Kf=new df;this.ef=a}H.vb=function(){this.Qc||this.Ji();return this.s};ki[z].getSchema=ki[z].vb;
ki[z].Tf=function(){var a=new wd("ns_"+this.s[sb]()),b;fi||(fi=new ei);b=fi;var c=null;b.Le(a)?c=b.o(a):(c=new ei,b.pb(a,c));return c};ki[z].getGlobal=ki[z].Tf;ki[z].connect=function(a){var b=this.Tf();b.Le(Dd)||b.pb(Dd,this.vb());return(new X(b)).Ea(a)};ki[z].connect=ki[z].connect;ki[z].gi=function(a){if(this.Na.A(a))throw new P(503,a);if(this.Qc)throw new P(535);this.Na.set(a,new Z(a));return this.Na.get(a)};ki[z].createTable=ki[z].gi;
ki[z].df=function(a){if(this.Qc)throw new P(535);this.s.df(a);return this};ki[z].setPragma=ki[z].df;function li(a,b){this.B=a;this.Pa=b;this.F=new N;this.Cg={oi:!1}}I("lf.schema.DatabaseSchema",li,void 0);Aa(li[z],G("B"));Aa(li[z],li[z][sb]);li[z].version=G("Pa");li[z].version=li[z][Fa];li[z].Ya=function(){return this.F.c()};li[z].tables=li[z].Ya;pa(li[z],function(a){if(!this.F.A(a))throw new P(101,a);return this.F.get(a)});pa(li[z],li[z][u]);li[z].Lk=function(a){this.F.set(a[l](),a)};li[z].Bg=G("Cg");
li[z].pragma=li[z].Bg;li[z].df=Eb("Cg");I("lf.schema.create",function(a,b){return new ki(a,b)},void 0);}.bind(window))()
