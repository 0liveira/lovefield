/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function wa(a,b){return a.child=b}function xa(a,b){return a.next=b}function ya(a,b){return a.onerror=b}function za(a,b){return a.length=b}function f(a,b){return a.toString=b}function Aa(a,b){return a.bind=b}function Ba(a,b){return a.subscribe=b}function Ca(a,b){return a.forEach=b}function Ea(a,b){return a.getPriority=b}
var Fa="openCursor",Ga="filter",Ha="once",Ia="objectStoreNames",Ja="split",h="table",Ka="reduce",m="join",La="reject",Ma="timing",Na="item",n="slice",Oa="target",q="name",r="call",t="prototype",Pa="exec",u="getName",Qa="close",Ra="concat",v="value",Sa="setImmediate",Ta="every",Ua="update",Va="global",Wa="propertyIsEnumerable",Xa="delete",Ya="sort",Za="indexOf",$a="some",ab="count",bb="orderByChild",cb="clear",db="values",fb="replace",gb="reverse",hb="continue",ib="removeChild",jb="remove",kb="child",
lb="create",w="push",x="then",mb="transaction",nb="index",ob="context",z="splice",pb="autoIncrement",qb="next",rb="shift",sb="hasOwnProperty",tb="contains",ub="version",vb="objectStore",wb="offset",xb="apply",yb="stringify",A="entries",B="length",zb="info",C="toString",Ab="compare",D="bind",Bb="getParent",Cb="rows",E="forEach",Db="getPriority",Eb="getTime",Fb="resolve",Gb="result",F="size";function Hb(){return function(){}}function Ib(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Jb(a){return function(){return a}}var H,Kb=this;function Lb(a){return void 0!==a}function I(a,b,c){a=a[Ja](".");c=c||Kb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[B]&&(d=a[rb]());)!a[B]&&Lb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Mb(){}function Nb(a){a.Ld=function(){return a.Bg?a.Bg:a.Bg=new a}}
function Ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][C][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[B]&&"undefined"!=typeof a[z]&&"undefined"!=typeof a[Wa]&&!a[Wa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Wa]&&!a[Wa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Pb(a){return null===a}function Qb(a){return null!=a}function Rb(a){var b=Ob(a);return"array"==b||"object"==b&&"number"==typeof a[B]}function Sb(a){return"string"==typeof a}function Tb(a){return"function"==Ob(a)}function Ub(a){return a[Vb]||(a[Vb]=++Wb)}var Vb="closure_uid_"+(1E9*ba.random()>>>0),Wb=0;function Xb(a,b,c){return a[r][xb](a[D],arguments)}
function Yb(a,b,c){if(!a)throw fa();if(2<arguments[B]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t].unshift[xb](c,d);return a[xb](b,c)}}return function(){return a[xb](b,arguments)}}function J(a,b,c){J=Function[t][D]&&-1!=Function[t][D][C]()[Za]("native code")?Xb:Yb;return J[xb](null,arguments)}function Zb(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[w][xb](b,arguments);return a[xb](this,b)}}
function K(a,b){function c(){}c.prototype=b[t];a.Nb=b[t];a.prototype=new c;a[t].constructor=a;a.Gl=function(a,c,k){for(var l=e(arguments[B]-2),p=2;p<arguments[B];p++)l[p-2]=arguments[p];return b[t][c][xb](a,l)}};function $b(a){if(fa.captureStackTrace)fa.captureStackTrace(this,$b);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K($b,fa);ja($b[t],"CustomError");function ac(a,b){for(var c=a[Ja]("%s"),d="",g=e[t][n][r](arguments,1);g[B]&&1<c[B];)d+=c[rb]()+g[rb]();return d+c[m]("%s")};function bc(a,b){b.unshift(a);$b[r](this,ac[xb](null,b));b[rb]()}K(bc,$b);ja(bc[t],"AssertionError");function cc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new bc(""+g,k||[]);}function L(a,b,c){a||cc("",null,b,e[t][n][r](arguments,2));return a}function dc(a,b){throw new bc("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function ec(a,b,c){Tb(a)||cc("Expected function but got %s: %s.",[Ob(a),a],b,e[t][n][r](arguments,2));return a};function fc(a,b,c){this.zk=c;this.Oi=a;this.hl=b;this.be=0;this.Wd=null}fc[t].get=function(){var a;0<this.be?(this.be--,a=this.Wd,this.Wd=a[qb],xa(a,null)):a=this.Oi();return a};fc[t].put=function(a){this.hl(a);this.be<this.zk&&(this.be++,xa(a,this.Wd),this.Wd=a)};var gc=e[t],hc=gc[Za]?function(a,b,c){L(null!=a[B]);return gc[Za][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[B]+c):c;if(Sb(a))return Sb(b)&&1==b[B]?a[Za](b,c):-1;for(;c<a[B];c++)if(c in a&&a[c]===b)return c;return-1},ic=gc[E]?function(a,b,c){L(null!=a[B]);gc[E][r](a,b,c)}:function(a,b,c){for(var d=a[B],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)k in g&&b[r](c,g[k],k,a)},jc=gc.map?function(a,b,c){L(null!=a[B]);return gc.map[r](a,b,c)}:function(a,b,c){for(var d=a[B],g=e(d),k=Sb(a)?a[Ja](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[r](c,k[l],l,a));return g},kc=gc[Ka]?function(a,b,c,d){L(null!=a[B]);d&&(b=J(b,d));return gc[Ka][r](a,b,c)}:function(a,b,c,d){var g=c;ic(a,function(c,l){g=b[r](d,g,c,l,a)});return g},lc=gc[$a]?function(a,b,c){L(null!=a[B]);return gc[$a][r](a,b,c)}:function(a,b,c){for(var d=a[B],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a))return!0;return!1};function mc(a,b){L(null!=a[B]);return 1==gc[z][r](a,b,1)[B]}
function nc(a,b,c){a:{for(var d=a[B],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(mc(a,b),!0):!1}function oc(a){var b=a[B];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function pc(a,b){for(var c=1;c<arguments[B];c++){var d=arguments[c];if(Rb(d)){var g=a[B]||0,k=d[B]||0;za(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[w](d)}}function qc(a,b,c,d){L(null!=a[B]);return gc[z][xb](a,rc(arguments,1))}
function rc(a,b,c){L(null!=a[B]);return 2>=arguments[B]?gc[n][r](a,b):gc[n][r](a,b,c)}function sc(a,b){return a>b?1:a<b?-1:0}function tc(a,b,c){var d;c=c||sc;for(var g=0,k=a[B];g<k;){var l=g+k>>1,p;p=c(b,a[l]);0<p?g=l+1:(k=l,d=!p)}d=d?g:~g;return 0>d?(qc(a,-(d+1),0,b),!0):!1}function uc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}
function vc(a){for(var b=[],c=0;c<arguments[B];c++){var d=arguments[c];if("array"==Ob(d))for(var g=0;g<d[B];g+=8192)for(var k=rc(d,g,g+8192),k=vc[xb](null,k),l=0;l<k[B];l++)b[w](k[l]);else b[w](d)}return b};function wc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function xc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function yc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var zc;a:{var Ac=Kb.navigator;if(Ac){var Bc=Ac.userAgent;if(Bc){zc=Bc;break a}}zc=""};function Dc(a){Kb.setTimeout(function(){throw a;},0)}var Ec;
function Fc(){var a=Kb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==zc[Za]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Qa]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==zc[Za]("Trident")&&-1==zc[Za]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Lb(c[qb])){c=c[qb];var a=c.Qf;c.Qf=null;a()}};return function(a){xa(d,{Qf:a});d=d[qb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ib](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Kb.setTimeout(a,0)}};function Gc(){this.pe=this.kc=null}var Ic=new fc(function(){return new Hc},function(a){a.reset()},100);Gc[t].add=function(a,b){var c=this.$j();c.set(a,b);this.pe?xa(this.pe,c):(L(!this.kc),this.kc=c);this.pe=c};va(Gc[t],function(){var a=null;this.kc&&(a=this.kc,this.kc=this.kc[qb],this.kc||(this.pe=null),xa(a,null));return a});Gc[t].il=function(a){Ic.put(a)};Gc[t].$j=function(){return Ic.get()};function Hc(){this.scope=this.Je=null;xa(this,null)}
Hc[t].set=function(a,b){this.Je=a;this.scope=b;xa(this,null)};Hc[t].reset=function(){this.scope=this.Je=null;xa(this,null)};function Jc(a,b){Kc||Lc();Mc||(Kc(),Mc=!0);Nc.add(a,b)}var Kc;function Lc(){if(Kb.Promise&&Kb.Promise[Fb]){var a=Kb.Promise[Fb](void 0);Kc=function(){a[x](Oc)}}else Kc=function(){var a=Oc;if(!Tb(Kb[Sa])||Kb.Window&&Kb.Window[t]&&Kb.Window[t][Sa]==Kb[Sa])Ec||(Ec=Fc()),Ec(a);else Kb[Sa](a)}}var Mc=!1,Nc=new Gc;[][w](function(){Mc=!1;Nc=new Gc});function Oc(){for(var a=null;a=Nc[jb]();){try{a.Je[r](a.scope)}catch(b){Dc(b)}Nc.il(a)}Mc=!1};function M(a,b){this.Ja=0;this.kh=void 0;this.yd=this.oc=this.D=null;this.Ud=this.Ie=!1;if(a!=Mb)try{var c=this;a[r](b,function(a){c.Bc(2,a)},function(a){if(!(a instanceof Pc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.Bc(3,a)})}catch(d){this.Bc(3,d)}}function Qc(){wa(this,null);this.context=this.zc=this.$b=null;xa(this,null);this.se=!1}Qc[t].reset=function(){wa(this,null);this.context=this.zc=this.$b=null;this.se=!1};
var Rc=new fc(function(){return new Qc},function(a){a.reset()},100);function Sc(a,b,c){var d=Rc.get();d.$b=a;d.zc=b;d.context=c;return d}function Tc(a){if(a instanceof M)return a;var b=new M(Mb);b.Bc(2,a);return b}function Uc(a){return new M(function(b,c){c(a)})}function Vc(a,b,c){Wc(a,b,c,null)||Jc(Zb(b,a))}function Xc(a){return new M(function(b,c){var d=a[B],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;p<a[B];p++)y=a[p],Vc(y,Zb(k,p),l);else b(g)})}
function Yc(){var a,b,c=new M(function(c,g){a=c;b=g});return new Zc(c,a,b)}M[t].then=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.Gf(Tb(a)?a:null,Tb(b)?b:null,c)};M[t].then=M[t][x];M[t].$goog_Thenable=!0;H=M[t];
H.ul=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.Ff(Sc(a||Mb,b||null,c))};H.yh=function(a,b){return this.Gf(null,a,b)};H.Ff=function(a){this.ik()||2!=this.Ja&&3!=this.Ja||this.nh();this.Yk(a)};
H.Gf=function(a,b,c){var d=Sc(null,null,null);wa(d,new M(function(g,k){d.$b=a?function(b){try{var d=a[r](c,b);g(d)}catch(y){k(y)}}:g;d.zc=b?function(a){try{var d=b[r](c,a);!Lb(d)&&a instanceof Pc?k(a):g(d)}catch(y){k(y)}}:k}));d[kb].D=this;this.Ff(d);return d[kb]};H.xl=function(a){L(1==this.Ja);this.Ja=0;this.Bc(2,a)};H.yl=function(a){L(1==this.Ja);this.Ja=0;this.Bc(3,a)};
H.Bc=function(a,b){0==this.Ja&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ja=1,Wc(b,this.xl,this.yl,this)||(this.kh=b,this.Ja=a,this.D=null,this.nh(),3!=a||b instanceof Pc||$c(this,b)))};
function Wc(a,b,c,d){if(a instanceof M)return a.ul(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[x](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[x];if(Tb(l))return ad(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function ad(a,b,c,d,g){function k(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,k)}catch(y){k(y)}}H.nh=function(){this.Ie||(this.Ie=!0,Jc(this.ej,this))};H.ik=function(){return!!this.oc};
H.Yk=function(a){L(null!=a.$b);this.yd?xa(this.yd,a):this.oc=a;this.yd=a};H.Sk=function(){var a=null;this.oc&&(a=this.oc,this.oc=a[qb],xa(a,null));this.oc||(this.yd=null);null!=a&&L(null!=a.$b);return a};H.ej=function(){for(var a=null;a=this.Sk();)this.dj(a,this.Ja,this.kh);this.Ie=!1};H.dj=function(a,b,c){3==b&&a.zc&&!a.se&&this.fl();if(a[kb])a[kb].D=null,bd(a,b,c);else try{a.se?a.$b[r](a[ob]):bd(a,b,c)}catch(d){cd[r](null,d)}Rc.put(a)};
function bd(a,b,c){2==b?a.$b[r](a[ob],c):a.zc&&a.zc[r](a[ob],c)}H.Oh=Hb();H.fl=function(){var a;for(a=this;a&&a.Ud;a=a.D)a.Ud=!1};function $c(a,b){a.Ud=!0;Jc(function(){a.Ud&&(a.Oh(b),cd[r](null,b))})}var cd=Dc;function Pc(a){$b[r](this,a)}K(Pc,$b);ja(Pc[t],"cancel");function Zc(a,b,c){this.la=a;this.resolve=b;this.reject=c};
function dd(a,b){this.ya=a;this.bc=b||this.cg()}var ed=0;H=dd[t];H.id=G("ya");H.Xh=Ib("ya");H.s=G("bc");H.cg=function(){return{}};H.zh=G("bc");H.Ia=function(){return{id:this.ya,value:this.zh()}};H.Yb=function(a){return"#"==a.substr(-1)?this.ya:null};function fd(a){return new dd(a.id,a[v])}function gd(a){return new dd(ed++,a||{})}function hd(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[B];++c)var d=a[c][C](16),b=b+(2>d[B]?"0"+d:d);return b};function id(a){this.type=a}function jd(a){dd[r](this,-1,a)}K(jd,dd);function kd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[B],k=b[B],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<k+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=k;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var Da=[],p=g,y=k;0<p&&0<y;)c(a[p-1],b[y-1])?(Da.unshift(d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return Da}function ld(a){return kc(arguments,function(a,c){return a+c},0)}
function md(a){return ld[xb](null,arguments)/arguments[B]}function nd(a){var b=arguments[B];if(2>b)return 0;var c=md[xb](null,arguments);return ld[xb](null,jc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function od(a){return ba.sqrt(nd[xb](null,arguments))};var pd="StopIteration"in Kb?Kb.StopIteration:{message:"StopIteration",stack:""};function qd(){}xa(qd[t],function(){throw pd;});qd[t].Dc=function(){return this};function rd(a){if(a instanceof qd)return a;if("function"==typeof a.Dc)return a.Dc(!1);if(Rb(a)){var b=0,c=new qd;xa(c,function(){for(;;){if(b>=a[B])throw pd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function sd(a,b,c){if(Rb(a))try{ic(a,b,c)}catch(d){if(d!==pd)throw d;}else{a=rd(a);try{for(;;)b[r](c,a[qb](),void 0,a)}catch(g){if(g!==pd)throw g;}}}function td(a){if(lc(arguments,function(a){return!a[B]})||!arguments[B])return new qd;var b=new qd,c=arguments,d=uc(0,c[B]);xa(b,function(){if(d){for(var a=jc(d,function(a,b){return c[b][a]}),b=d[B]-1;0<=b;b--){L(d);if(d[b]<c[b][B]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw pd;});return b};function ud(a,b){this.h={};this.b=[];this.Sa=this.aa=0;var c=arguments[B];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}H=ud[t];H.Ub=G("aa");H.ha=function(){this.Ad();for(var a=[],b=0;b<this.b[B];b++)a[w](this.h[this.b[b]]);return a};H.Va=function(){this.Ad();return this.b[Ra]()};H.na=function(a){return vd(this.h,a)};H.yc=function(){return 0==this.aa};ta(H,function(){this.h={};za(this.b,0);this.Sa=this.aa=0});
va(H,function(a){return vd(this.h,a)?(delete this.h[a],this.aa--,this.Sa++,this.b[B]>2*this.aa&&this.Ad(),!0):!1});H.Ad=function(){if(this.aa!=this.b[B]){for(var a=0,b=0;a<this.b[B];){var c=this.b[a];vd(this.h,c)&&(this.b[b++]=c);a++}za(this.b,b)}if(this.aa!=this.b[B]){for(var d={},b=a=0;a<this.b[B];)c=this.b[a],vd(d,c)||(this.b[b++]=c,d[c]=1),a++;za(this.b,b)}};H.get=function(a,b){return vd(this.h,a)?this.h[a]:b};H.set=function(a,b){vd(this.h,a)||(this.aa++,this.b[w](a),this.Sa++);this.h[a]=b};
H.addAll=function(a){var b;a instanceof ud?(b=a.Va(),a=a.ha()):(b=yc(a),a=xc(a));for(var c=0;c<b[B];c++)this.set(b[c],a[c])};Ca(H,function(a,b){for(var c=this.Va(),d=0;d<c[B];d++){var g=c[d],k=this.get(g);a[r](b,k,g,this)}});la(H,function(){return new ud(this)});H.Dc=function(a){this.Ad();var b=0,c=this.Sa,d=this,g=new qd;xa(g,function(){if(c!=d.Sa)throw fa("The map has changed since the iterator was created");if(b>=d.b[B])throw pd;var g=d.b[b++];return a?g:d.h[g]});return g};
function vd(a,b){return aa[t][sb][r](a,b)};
function wd(){this.h=new ud;aa.defineProperty(this,"size",{get:function(){return this.h.Ub()}})}ta(wd[t],function(){this.h[cb]()});ta(wd[t],wd[t][cb]);ra(wd[t],function(a){return this.h[jb](a)});wd[t]["delete"]=wd[t][Xa];Ca(wd[t],function(a,b){return this.h[E](a,b)});Ca(wd[t],wd[t][E]);wd[t].get=function(a){return this.h.get(a)};wd[t].get=wd[t].get;wd[t].has=function(a){return this.h.na(a)};wd[t].has=wd[t].has;wd[t].set=function(a,b){return this.h.set(a,b)};wd[t].set=wd[t].set;
function N(){return ca.Map&&ca.Map[t][db]&&ca.Map[t][E]?new Map:new wd}function xd(a){if(a instanceof wd)return a.h.Va();var b=0,c=e(a[F]);a[E](function(a,g){c[b++]=g});return c}function yd(a){if(a instanceof wd)return a.h.ha();var b=0,c=e(a[F]);a[E](function(a){c[b++]=a});return c};var zd={};I("lf.TransactionType",zd,void 0);zd.READ_ONLY=0;zd.READ_WRITE=1;function Ad(a,b){this.Wa=a;this.Ah=b;this.Z=Yc()}H=Ad[t];H.Jj=G("Wa");H.pa=function(){try{this.Wa.ki()}catch(a){return Uc(a)}return(0==this.Ah?this.Kc():this.Ek())[x](J(function(a){this.Wa.pa();return a},this))};H.Ek=function(){this.Fk();this.Dk();return this.Kc()};
H.Fk=function(){this.Wa.ng()[E](function(a,b){var c=this.Wa.da().get(b),c=this.K(c[u](),J(c.rc,c)),d=yd(a.Uc()).map(function(a){return a.id()});0<d[B]&&c[jb](d).yh(this.Se,this);d=yd(a.Wc()).map(function(a){return a[1]})[Ra](yd(a.Sc()));c.put(d).yh(this.Se,this)},this)};H.Dk=function(){this.Wa.Gj()[E](function(a){var b=this.K(a[u](),fd),c;b.get([-1])[x](function(a){c=a;return b[jb]([])})[x](function(){b.put(c);b.put(a.Ia())},J(this.Se,this))},this)};H.Se=function(a){this.Z[La](a)};function Bd(a){this.jl=a}f(Bd[t],G("jl"));var Cd=new Bd("backstore"),Dd=new Bd("cache"),Ed=new Bd("indexstore"),Fd=new Bd("engine"),Gd=new Bd("runner"),Hd=new Bd("observerregistry"),Id=new Bd("schema");function Jd(a){if("function"==typeof a.ha)return a.ha();if(Sb(a))return a[Ja]("");if(Rb(a)){for(var b=[],c=a[B],d=0;d<c;d++)b[w](a[d]);return b}return xc(a)};function Kd(a){this.h=new ud;a&&this.addAll(a)}function Ld(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Ub(a):b.substr(0,1)+a}H=Kd[t];H.Ub=function(){return this.h.Ub()};H.add=function(a){this.h.set(Ld(a),a)};H.addAll=function(a){a=Jd(a);for(var b=a[B],c=0;c<b;c++)this.add(a[c])};va(H,function(a){return this.h[jb](Ld(a))});ta(H,function(){this.h[cb]()});H.yc=function(){return this.h.yc()};H.contains=function(a){return this.h.na(Ld(a))};H.ha=function(){return this.h.ha()};la(H,function(){return new Kd(this)});
H.Dc=function(){return this.h.Dc(!1)};function Md(a){this.hc=new Kd(a);aa.defineProperty(this,"size",{get:function(){return this.hc.Ub()}})}Md[t].add=function(a){this.hc.add(a)};Md[t].add=Md[t].add;ta(Md[t],function(){this.hc[cb]()});ta(Md[t],Md[t][cb]);ra(Md[t],function(a){return this.hc[jb](a)});Md[t]["delete"]=Md[t][Xa];Ca(Md[t],function(a,b){this.hc.ha()[E](a,b)});Md[t].has=function(a){return this.hc[tb](a)};Md[t].has=Md[t].has;function O(a){return ca.Set&&ca.Set[t][db]&&ca.Set[t][E]?Lb(a)?new ca.Set(a):new ca.Set:new Md(a)}
function Nd(a){if(a instanceof Md)return a.hc.ha();var b=0,c=e(a[F]);a[E](function(a){c[b++]=a});return c}function Od(a,b){if(b[F]>a[F])return!1;var c=!0;b[E](function(b){c=c&&a.has(b)});return c};function Pd(a,b){this.ya=a;this.bc=b||{}}function Qd(a){var b=O();a[E](function(a){b.add(a>>9)});return Nd(b)}H=Pd[t];H.Y=G("ya");H.xc=G("bc");H.sh=function(a){a[E](function(a){this.bc[a.id()]=a.Ia()},this)};H.el=function(a){a[E](function(a){var c=this.bc;a in c&&delete c[a]},this)};H.Ia=function(){return{id:this.ya,value:ga[yb](this.bc)}};function Rd(a){return new Pd(a.id,ga.parse(a[v]))};function Sd(a,b,c){this.X=a;this.Tb=b;this.lh=c}H=Sd[t];H.get=function(a){return 0==a[B]?this.Tc():this.Oj(a)[x](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Tb(d.xc()[a])},this)},this))};H.Oj=function(a){var b=N(),c=Yc();a=Qd(a).map(function(a){return new M(function(c,k){var l;try{l=this.X.get(a)}catch(p){k(p);return}ya(l,k);sa(l,J(function(a){a=Rd(a[Oa][Gb]);b.set(a.Y(),a);c()},this))},this)},this);Xc(a)[x](function(){c[Fb](b)});return c.la};
H.Tc=function(){return new M(function(a,b){var c=[],d;try{d=this.X[Fa]()}catch(g){b(g);return}ya(d,b);sa(d,J(function(){var b=d[Gb];if(b){var g=Rd(b[v]).xc(),p;for(p in g)c[w](this.Tb(g[p]));b[hb]()}else a(c)},this))},this)};H.cc=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);ya(d,c)},this)};
H.put=function(a){if(0==a[B])return Tc();var b=N();a[E](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.lh(this.X[q],d));g.sh([a]);b.set(d,g)},this);a=yd(b).map(function(a){return this.cc(J(function(){return this.X.put(a.Ia())},this))},this);return Xc(a)};
va(H,function(a){if(0==a[B])return this.cc(J(function(){return this.X[cb]()},this));var b=N();a[E](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.lh(this.X[q],d));g.el([a]);b.set(d,g)},this);a=yd(b).map(function(a){return this.cc(J(function(){var b;a:{b=a.xc();for(var g in b){b=!1;break a}b=!0}return b?this.X[Xa](a.Y()):this.X.put(a.Ia())},this))},this);return Xc(a)});function Td(a,b,c){a=a.m(Dd);var d=[c<<9,(c+1<<9)-1];b=a.ob(b,d[0],d[1]);c=new Pd(c);c.sh(b);return c}
function Ud(a,b){return new Pd(b)};function Vd(){};function Wd(a){this.ua=a.m(Dd);this.G=a.m(Ed);this.o=a.m(Id)}H=Wd[t];qa(H,function(a){a[E](function(a){this.Cl(a);this.zl(a)},this)});H.zl=function(a){var b=a[u]();a.Uc()[E](function(a,d){this.ua[jb](b,[d])},this);a.Sc()[E](function(a){this.ua.set(b,[a])},this);a.Wc()[E](function(a){this.ua.set(b,[a[1]])},this)};H.Cl=function(a){var b=this.o[h](a[u]());a.Dj()[E](function(a){this.Fh(b,a)},this)};
H.Fh=function(a,b){var c=[];this.G.ug(a[u]())[E](function(a){try{this.Eh(a,b),c[w](a)}catch(g){throw c[E](function(a){this.Eh(a,[b[1],b[0]])},this),g;}},this)};H.Eh=function(a,b){var c=null===b[1]?void 0:b[1].Yb(a[u]()),d=null===b[0]?void 0:b[0].Yb(a[u]());if(!Lb(d)&&Lb(c))a.add(c,b[1].id());else if(Lb(d)&&Lb(c)){if(null===c||null===d){if(c==d)return}else if(0==a.Lc()[Ab](d,c))return;a.add(c,b[1].id());a[jb](d,b[0].id())}else Lb(d)&&!Lb(c)&&a[jb](d,b[0].id())};var Xd={};I("lf.ConstraintAction",Xd,void 0);Xd.RESTRICT=0;Xd.CASCADE=1;var Yd={};I("lf.ConstraintTiming",Yd,void 0);Yd.IMMEDIATE=0;Yd.DEFERRABLE=1;var Zd={};I("lf.Order",Zd,void 0);Zd.DESC=0;Zd.ASC=1;var $d={};I("lf.Type",$d,void 0);$d.ARRAY_BUFFER=0;$d.BOOLEAN=1;$d.DATE_TIME=2;$d.INTEGER=3;$d.NUMBER=4;$d.STRING=5;$d.OBJECT=6;var ae={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",ae,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[B])for(var c=1;c<=ba.min(4,arguments[B]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][C]()[n](0,64)))}K(P,fa);function be(a){this.G=a.m(Ed);this.o=a.m(Id)}H=be[t];H.lj=function(a,b){var c=a.Ib().Qd();return null===c?null:this.kj(c,b)};H.kj=function(a,b){var c=a.l(),d=b.Yb(c),c=this.G.get(c).get(d);return 0==c[B]?null:c[0]};H.Ae=function(a,b){var c=a.Ib().Mj();b[E](function(a){c[E](function(b){if(null==a.s()[b[u]()])throw new P(202,b.l());},this)},this)};H.Vf=function(a,b,c){a.Ib().Me()[E](function(a){a[Ma]==c&&this.yi(a,b)},this)};
H.yi=function(a,b){var c=this.qg(a);b[E](function(b){if(ce(b[0],b[1],a[q])&&(b=b[1].s()[a.Qb],null!==b&&!c.na(b)))throw new P(203,a[q]);},this)};H.qg=function(a){a=this.o[h](a.fb)[a.hd].La();return this.G.get(a.l())};function ce(a,b,c){return(null===a?null!==b:null===b)||a.Yb(c)!=b.Yb(c)}
H.Wf=function(a,b,c){a=this.o[zb]().Uj(a[u]());null!=a&&a[E](function(a){if(a[Ma]==c){var g=this.G.get(a[q]),k=this.qg(a);b[E](function(b){if(ce(b[0],b[1],k[u]())&&g.na(b[0].s()[a.hd]))throw new P(203,a[q]);},this)}},this)};H.ye=function(a,b,c){0!=b[B]&&(b=b.map(function(a){return[null,a]}),this.Vf(a,b,c))};H.ze=function(a,b,c){0!=b[B]&&(this.Vf(a,b,c),this.Wf(a,b,c))};H.Tf=function(a,b,c){0!=b[B]&&(b=b.map(function(a){return[a,null]}),this.Wf(a,b,c))};function de(a){this.ib=N();this.Oa=N();this.lb=N();this.w=a}H=de[t];na(H,G("w"));H.Sc=G("ib");H.Wc=G("Oa");H.Uc=G("lb");H.add=function(a){if(this.lb.has(a.id())){var b=[this.lb.get(a.id()),a];this.Oa.set(a.id(),b);this.lb[Xa](a.id())}else this.ib.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.ib.has(b)?this.ib.set(b,c):(this.Oa.has(b)&&(a=[this.Oa.get(a[0].id())[0],c]),this.Oa.set(b,a))};
ra(H,function(a){if(this.ib.has(a.id()))this.ib[Xa](a.id());else if(this.Oa.has(a.id())){var b=this.Oa.get(a.id())[0];this.Oa[Xa](a.id());this.lb.set(a.id(),b)}else this.lb.set(a.id(),a)});H.Dj=function(){var a=[];this.ib[E](function(b){a[w]([null,b])});this.Oa[E](function(b){a[w](b)});this.lb[E](function(b){a[w]([b,null])});return a};f(H,function(){return"["+xd(this.ib)[C]()+"], ["+xd(this.Oa)[C]()+"], ["+xd(this.lb)[C]()+"]"});
H.Vj=function(){var a=new de(this.w);this.ib[E](function(b){a[Xa](b)});this.lb[E](function(b){a.add(b)});this.Oa[E](function(b){a.modify([b[1],b[0]])});return a};H.yc=function(){return 0==this.ib[F]&&0==this.lb[F]&&0==this.Oa[F]};function ee(a,b){this.sa=N();b[E](function(a){this.sa.set(a[u](),a)},this);this.ua=a.m(Dd);this.G=a.m(Ed);this.Ta=new be(a);this.Xd=new Wd(a);this.jf=this.me=!1;this.Fb=N()}H=ee[t];H.ng=G("Fb");H.Gj=function(){var a=[];xd(this.Fb).map(function(a){return this.sa.get(a)},this)[E](function(b){b.Kb()&&(b.Ea()[E](function(b){a[w](this.G.get(b.l()))},this),a[w](this.G.get(b[u]()+".#")))},this);return a};H.da=G("sa");
H.Hj=function(){var a=[];this.sa[E](function(b){b.Kb()&&(b.Ea()[E](function(b){a[w](b.l())}),a[w](b[u]()+".#"))});return a};H.Bb=function(a,b){this.Hc();this.zd(a);this.Ta.Ae(a,b);this.Ta.ye(a,b,0);for(var c=0;c<b[B];c++)this.Yd(a,[null,b[c]])};
H.Yd=function(a,b){var c=a[u](),d=this.Fb.get(c)||new de(c);this.Fb.set(c,d);try{this.Xd.Fh(a,b)}catch(g){throw this.jf=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.ua.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.ua.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.ua[jb](c,[k.id()]),d[Xa](k))};qa(H,function(a,b){this.Hc();this.zd(a);this.Ta.Ae(a,b);for(var c=0;c<b[B];c++){var d=b[c],d=[this.ua.get([d.id()])[0],d];this.Ta.ze(a,[d],0);this.Yd(a,d)}});
H.Ue=function(a,b){this.Hc();this.zd(a);this.Ta.Ae(a,b);for(var c=0;c<b[B];c++){var d=b[c],g=null,k=this.Ta.lj(a,d);null!=k?(g=this.ua.get([k])[0],d.Xh(k),this.Ta.ze(a,[[g,d]],0)):this.Ta.ye(a,[d],0);this.Yd(a,[g,d])}};va(H,function(a,b){this.Hc();this.zd(a);this.Ta.Tf(a,b,0);for(var c=0;c<b[B];c++)this.Yd(a,[b[c],null])});H.ki=function(){this.Fb[E](function(a){var b=this.sa.get(a[u]());this.Ta.ye(b,yd(a.Sc()),1);this.Ta.Tf(b,yd(a.Uc()),1);this.Ta.ze(b,yd(a.Wc()),1)},this)};
H.pa=function(){this.Hc();this.me=!0};H.Hc=function(){L(!this.jf,"Attemptted to use journal that needs to be rolled back.");L(!this.me,"Attemptted to commit a terminated journal.")};H.Lb=function(){L(!this.me,"Attempted to rollback a terminated journal.");var a=yd(this.Fb).map(function(a){return a.Vj()});this.Xd[Ua](a);this.me=!0;this.jf=!1};H.zd=function(a){if(!this.sa.has(a[u]()))throw new P(106,a[u]());};function fe(a,b,c,d){this.c=a;this.u=b;this.ba=null===this.c?!1:c;this.oa=null===this.u?!1:d}H=fe[t];f(H,function(){return(this.ba?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.u?"unbound":this.u)+(this.oa?")":"]")});H.Di=function(){if(null===this.c&&null===this.u)return[];var a=null,b=null;null===this.c||(a=new fe(null,this.c,!1,!this.ba));null===this.u||(b=new fe(this.u,null,!this.oa,!1));return[a,b][Ga](function(a){return null!==a})};
H.reverse=function(){return new fe(this.u,this.c,this.oa,this.ba)};H.Zg=function(a){var b=ge(this.c,a.c,!0,this.ba,a.ba);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.c||c.u==a.c&&!c.oa&&!a.ba};function he(){return new fe(null,null,!1,!1)}H.Cg=function(){return null===this.c&&null===this.u};H.Hg=function(){return null!=this.c&&this.c==this.u&&!this.ba&&!this.oa};
H.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.oa;return(null===this.c||a>this.c||a==this.c&&!this.ba)&&b};function ge(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function ie(a,b){var c=ge(a.c,b.c,!0,a.ba,b.ba);0==c&&(c=ge(a.u,b.u,!1,a.oa,b.oa));return c};function je(a,b){this.entries=a;this.H=O(b);this.Ob=null}H=je[t];H.tk=function(a){var b=this.H;a=a.H;return b[F]==a[F]&&Od(b,a)};function ke(a,b){L(a.tk(b),"Intersection/union operations only apply to compatible relations.")}H.U=function(){return Nd(this.H)};H.Ye=function(){return 1<this.H[F]};H.Ne=function(){return this[A].map(function(a){return a.wa.s()})};H.Xj=function(){return this[A].map(function(a){return a.wa.id()})};H.ph=function(a,b){null===this.Ob&&(this.Ob=N());this.Ob.set(a.l(),b)};
H.wc=function(a){L(null!==this.Ob,"getAggregationResult called before any results have been calculated.");var b=this.Ob.get(a.l());L(Lb(b),"Could not find result for "+a.l());return b};H.yg=function(a){return null!==this.Ob&&this.Ob.has(a.l())};var le=null;function me(){null===le&&(le=new je([],[]));return le}
function ne(a){if(0==a[B])return me();for(var b=a[Ka](function(b,c){ke(a[0],c);return b+c[A][B]},0),c=e(b),d=0,b=a.map(function(a){var b=N();a[A][E](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=N(),k=0;k<c[B];k++)b[Ta](function(a){return a.has(c[k].id)})&&g.set(c[k].id,c[k]);return new je(yd(g),Nd(a[0].H))}function oe(a){if(0==a[B])return me();var b=N();a[E](function(c){ke(a[0],c);c[A][E](function(a){b.set(a.id,a)})});return new je(yd(b),Nd(a[0].H))}
function pe(a,b){var c=1<b[B],d=a.map(function(a){return new qe(a,c)});return new je(d,b)}function qe(a,b){this.wa=a;this.id=re++;this.Ze=b}var re=0;qe[t].S=function(a){var b=a.cb();return null!==b&&this.wa.s()[sb](b)?this.wa.s()[b]:this.Ze?this.wa.s()[a.K().qa()][a[u]()]:this.wa.s()[a[u]()]};qe[t].uf=function(a,b){var c=a.cb();if(null!=c)this.wa.s()[c]=b;else if(this.Ze){var c=a.K().qa(),d=this.wa.s()[c];null==d&&(d={},this.wa.s()[c]=d);d[a[u]()]=b}else this.wa.s()[a[u]()]=b};
function se(a,b,c,d){function g(a,b){if(a.Ze){var c=a.wa.s(),d;for(d in c)k[d]=c[d]}else L(!k[sb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.wa.s()}var k={};g(a,b);g(c,d);a=new dd(-1,k);return new qe(a,!0)};I("lf.bind",function(a){return new te(a)},void 0);function te(a){this.ea=a}I("lf.Binder",te,void 0);te[t].La=G("ea");function ue(){this.xk=ve();var a=we();this.uc=N();this.uc.set(1,xe());this.uc.set(2,ye());this.uc.set(4,a);this.uc.set(3,a);this.uc.set(5,ze())}Nb(ue);ue[t].Le=function(a,b){var c=this.uc.get(a)||null;L(null!==c,"Could not find evaluation map for "+a);c=c.get(b)||null;L(null!==c,"Could not find evaluator for "+a+", "+b);return c};ue[t].Kj=function(a){var b=this.xk.get(a)||null;L(null!==b,"Could not find keyOfIndex evaluation function for "+a);return b};
function ve(){function a(a){return a}var b=N();b.set(1,function(a){return null===a?null:a?1:0});b.set(2,function(a){return null===a?null:a[Eb]()});b.set(3,a);b.set(4,a);b.set(5,a);return b}function xe(){var a=N();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function we(){var a=xe();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return null===a||null===c?!1:a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c[Za](a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}
function ze(){var a=we();a.set("match",function(a,c){return null===a||null===c?!1:(new RegExp(c)).test(a)});return a}
function ye(){var a=N();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a[Eb]()>=c[0][Eb]()&&a[Eb]()<=c[1][Eb]()});a.set("eq",function(a,c){return(null===a?-1:a[Eb]())==(null===c?-1:c[Eb]())});a.set("gte",function(a,c){return null===a||null===c?!1:a[Eb]()>=c[Eb]()});a.set("gt",function(a,c){return null===a||null===c?!1:a[Eb]()>c[Eb]()});a.set("in",function(a,c){return c[$a](function(c){return c[Eb]()==a[Eb]()})});a.set("lte",function(a,c){return null===a||null===c?!1:a[Eb]()<=
c[Eb]()});a.set("lt",function(a,c){return null===a||null===c?!1:a[Eb]()<c[Eb]()});a.set("neq",function(a,c){return(null===a?-1:a[Eb]())!=(null===c?-1:c[Eb]())});return a};function Ae(a,b){this.Ng=a;this.Gh=b}Ae[t].getKey=G("Ng");Ae[t].ak=G("Gh");la(Ae[t],function(){return new Ae(this.Ng,this.Gh)});function Be(a,b){Ae[r](this,a,b);this.g=this.D=null}K(Be,Ae);var Ce=[];H=Be[t];la(H,function(){return new Be(this.getKey(),this.ak())});H.getParent=G("D");H.Fg=function(){return!this.xa()};H.ca=function(){return this.g||Ce};H.mb=function(a){return this.ca()[a]||null};H.xa=function(){return this.ca()[B]};H.Fj=function(){for(var a=0,b=this;b[Bb]();)a++,b=b[Bb]();return a};H.pb=function(){for(var a=this;a[Bb]();)a=a[Bb]();return a};H.contains=function(a){do a=a[Bb]();while(a&&a!=this);return Boolean(a)};
H.Cc=function(a,b){if(!1!==a[r](b,this))for(var c=this.ca(),d=0;d<c[B];d++)c[d].Cc(a,b)};H.qh=Ib("D");H.ma=function(a){this.Ec(a,this.g?this.g[B]:0)};H.Ec=function(a,b){L(!a[Bb]());a.qh(this);this.g=this.g||[];L(0<=b&&b<=this.g[B]);qc(this.g,b,0,a)};H.ie=function(a){var b=this.g&&this.g[a];return b?(b.qh(null),mc(this.g,a),0==this.g[B]&&(this.g=null),b):null};H.removeChild=function(a){return this.ie(hc(this.ca(),a))};function De(){Be[r](this,"","");this.ya=Ee++}K(De,Be);var Ee=0;De[t].Y=G("ya");De[t].vf=Ib("ya");function Fe(a,b,c){De[r](this);this.I=a;pa(this,b);this.J=c;this.Fd=ue.Ld().Le(this.I.V(),this.J);this.eb=!1;this.nc=b}K(Fe,De);H=Fe[t];H.Rb=function(){var a=new Fe(this.I,this[v],this.J);a.kl(this.nc);a.ke(this.eb);a.vf(this.Y());return a};H.nb=function(a){return null!=a?(a[w](this.I),a):[this.I]};H.ke=Ib("eb");H.kl=Ib("nc");H.Rf=function(){var a=!1;this[v]instanceof te||(a="array"==Ob(this[v])?!this[v][$a](function(a){return a instanceof te}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Rf();if("in"==this.J)return this.Ui(a);var b=a[A][Ga](function(a){return this.Fd(a.S(this.I),this[v])!=this.eb},this);return new je(b,a.U())};Aa(H,function(a){if(this.nc instanceof te){var b=this.nc.La();if(a[B]<=b)throw new P(510);pa(this,a[b])}else"array"==Ob(this.nc)&&pa(this,this.nc.map(function(b){if(b instanceof te){var d=b.La();if(a[B]<=d)throw new P(510);return a[b.La()]}return b}))});
H.Ui=function(a){L("in"==this.J,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=O(this[v]),c=J(function(a){return null===a?!1:b.has(a)!=this.eb},this),d=a[A][Ga](function(a){return c(a.S(this.I))},this);return new je(d,a.U())};f(H,function(){return"value_pred("+this.I.l()+" "+this.J+(this.eb?"(complement)":"")+" "+this[v]+")"});H.Eg=function(){this.Rf();return null!==this[v]&&("between"==this.J||"eq"==this.J||"gt"==this.J||"gte"==this.J||"lt"==this.J||"lte"==this.J)};
H.vl=function(){L(this.Eg(),"Could not convert predicate to key range.");var a=null;"between"==this.J?a=new fe(this[v][0],this[v][1],!1,!1):"eq"==this.J?(a=this[v],a=new fe(a,a,!1,!1)):a="gte"==this.J?new fe(this[v],null,!1,!1):"gt"==this.J?new fe(this[v],null,!0,!1):"lte"==this.J?new fe(null,this[v],!1,!1):new fe(null,this[v],!1,!0);return this.eb?a.Di():[a]};function Ge(a){this.fa=a;this.Jc=this.va=null}Ge[t].Pd=function(a){null===this.va&&null!=this.B&&(this.va=He(this.B));a=this.va.get(a)||null;L(null!==a);return a};function He(a){var b=N();a.Cc(function(a){b.set(a.Y(),a)});return b}Ge[t].Bd=function(a){a.B&&(this.B=a.B.Rb());this.Jc=a};Aa(Ge[t],function(){L(null==this.Jc);return this});Ge[t].ve=function(a){var b=this.B;null!=b&&b.Cc(function(b){b instanceof Fe&&b[D](a)})};function Ie(a){Ge[r](this,a)}K(Ie,Ge);function Je(a){var b="";a[E](function(c,d){b+=c.I.l()+" ";b+=1==c.sb?"ASC":"DESC";d<a[B]-1&&(b+=", ")});return b}Ie[t].da=function(){return O(this.c)};la(Ie[t],function(){var a=new Ie(this.fa);a.Bd(this);this.f&&(a.f=this.f[n]());this.c&&(a.c=this.c[n]());a.W=this.W;a.M=this.M;this.L&&(a.L=this.L[n]());this.ia&&(a.ia=this.ia[n]());this.Zb&&(a.Zb=this.Zb);this.jc&&(a.jc=this.jc);a.Cb=this.Cb;return a});
Aa(Ie[t],function(a){Ie.Nb[D][r](this,a);null!=this.Zb&&(this.W=a[this.Zb.La()]);null!=this.jc&&(this.M=a[this.jc.La()]);this.ve(a);return this});function Ke(a,b){this.Da=a;this.sa=b}Ke[t].pb=G("Da");Ke[t].ig=Jb("plan description");Ke[t].da=G("sa");function Le(a){var b=O();a[E](function(a){a.da()[E](b.add[D](b))});return b};function Me(a,b){this.global=a;this.Gb=a.m(Cd);this.ge=b.map(function(a){return a[ob]});this.bh=b.map(function(a){return a.kf});this.Zf=Le(this.bh);this.Bh=this.Qi();this.ec=Yc()}H=Me[t];H.Qi=function(){return this.ge[$a](function(a){return!(a instanceof Ie)})?1:0};
ma(H,function(){var a=new ee(this[Va],this.Zf),b=[],c=this.bh[n](),d=J(function(){var g=c[rb]();if(g){var k=this.ge[b[B]];return g.pb()[Pa](a,k)[x](function(a){b[w](a[0]);return d()})}return Tc()},this);return d()[x](J(function(){return this.Gb.Sb(this.Bh,a).pa()},this))[x](J(function(){this.gf(b);return b},this),J(function(b){a.Lb();throw b;},this))});H.V=G("Bh");H.da=G("Zf");H.Xc=G("ec");H.Y=function(){return Ub(this)};H.gf=Hb();function Ne(a,b){Me[r](this,a,b);this.Jb=a.m(Hd)}K(Ne,Me);Ea(Ne[t],Jb(0));Ne[t].gf=function(a){this.ge[E](function(b,c){this.Jb.Dh(b,a[c])},this)};function Oe(a,b){this.j=a;this.Jb=a.m(Hd);this.Za=a.m(Gd);this.Xd=new Wd(a);this.Fb=b;var c=a.m(Id),d=this.Fb.map(function(a){return c[h](a[u]())});this.sa=O(d);this.ec=Yc()}H=Oe[t];ma(H,function(){this.Xd[Ua](this.Fb);this.ld();return Tc()});H.V=Jb(1);H.da=G("sa");H.Xc=G("ec");H.Y=function(){return Ub(this)};Ea(H,Jb(1));H.ld=function(){var a=this.Jb.Re(this.sa);0!=a[B]&&(a=new Ne(this.j,a),this.Za.gc(a))};function Pe(a){this.j=a;this.Gb=a.m(Cd);this.Za=a.m(Gd)}Pe[t].rl=function(){this.Gb.subscribe(this.ef[D](this))};Pe[t].ef=function(a){a=new Oe(this.j,a);this.Za.gc(a)};function Qe(a,b){this.Sa=a;this.i=b;this.hb=N()}I("lf.backstore.FirebaseRawBackStore",Qe,void 0);H=Qe[t];H.Rd=G("i");H.Sd=function(){throw new P(351);};function Re(a,b){var c=Yc(),d=a;b[B]&&(d=a[kb](b));d[Ha]("value",function(a){c[Fb](a.val())},function(a){c[La](a)});return c.la}function Se(a,b,c){function d(a){a?g[La](a):g[Fb]()}c=c||!1;var g=Yc();c?a.set(b,d):a[Ua](b,d);return g.la}
H.Fa=function(a){return Re(this.i,"@rev/R")[x](function(a){this.Ya=a;return Re(this.i,"@table")}[D](this))[x](function(b){var c=0,d;for(d in b)this.hb.set(d,b[d]),b[d]>c&&(c=b[d]);a.ab()[E](function(a){this.hb.has(a[u]())||(b[a[u]()]=++c)},this);d=this.i[kb]("@table");return Se(d,b)}[D](this))};
H.ne=function(a,b){var c=this.hb.get(a);return null!=c?function(){var a={},g=Yc();this.i[bb]("T").equalTo(c)[Ha]("value",function(c){c[E](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Fb](a)});return g.la}[r](this)[x](function(a){a["@rev"]={R:++this.Ya};return Se(this.i,a)}[D](this)):Tc()};H.Nc=function(a){return this.ne(a,Jb(null))[x](function(){this.hb[Xa](a);return Se(this.i[kb]("@table/"+a),null,!0)}[D](this))};Qe[t].dropTable=Qe[t].Nc;
Qe[t].Fc=function(a,b,c){return this.ne(a,function(a){var g=a.P;g[b]=c;return{R:this.Ya+1,T:a.T,P:g}}[D](this))};Qe[t].addTableColumn=Qe[t].Fc;Qe[t].Oc=function(a,b){return this.ne(a,function(a){var d=a.P;delete d[b];return{R:this.Ya+1,T:a.T,P:d}}[D](this))};Qe[t].dropTableColumn=Qe[t].Oc;Qe[t].kd=function(a,b,c){return this.ne(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Ya+1,T:a.T,P:g}}[D](this))};Qe[t].renameTableColumn=Qe[t].kd;Qe[t].Hb=function(){throw new P(351);};
Qe[t].createRow=Qe[t].Hb;Qe[t].$c=G("Sa");Qe[t].getVersion=Qe[t].$c;Qe[t].sc=function(a){var b=Yc();a=this.hb.get(a);this.i[bb]("T").equalTo(a)[Ha]("value",function(a){var d=[];a[E](function(a){d[w](a.val().P)});b[Fb](d)});return b.la};ka(Qe[t],function(){var a={},b=xd(this.hb).map(function(b){return this.sc(b)[x](function(d){a[b]=d})}[D](this));return Xc(b)[x](function(){return a})});ka(Qe[t],Qe[t].dump);function Te(a,b,c){Ad[r](this,c,b);this.i=a}K(Te,Ad);Te[t].K=function(a){return this.i.Yc(a)};
Te[t].Kc=function(){var a=this.Jj().ng();if(0==a[F])this.Z[Fb]();else{var b=this.i.Wj()+1;this.i.rh(b);var c={"@rev":{R:b}};a[E](function(a,g){var k=this.i.tg(g);a.Sc()[E](function(a,d){c[d]={R:b,T:k,P:a.s()}});a.Wc()[E](function(a,d){c[d]={R:b,T:k,P:a[1].s()}});a.Uc()[E](function(a,b){c[b]=null})},this);this.i.Tj()[Ua](c,function(c){if(null===c)this.Z[Fb]();else this.i.rh(b-1),c=yd(a).map(function(a){return this.i.gh(a[u]())},this),Xc(c)[x](this.Z[La][D](this.Z),this.Z[La][D](this.Z))}[D](this))}return this.Z.la};function Ue(){this.yb=N()}H=Ue[t];H.Qe=function(a){if(0==a[B])return yd(this.yb);var b=[];a[E](function(a){a=this.yb.get(a)||null;null===a||b[w](a)},this);return b};H.getData=G("yb");H.get=function(a){return Tc(this.Qe(a))};H.lf=function(a){a[E](function(a){this.yb.set(a.id(),a)},this)};H.put=function(a){this.lf(a);return Tc()};H.hh=function(a){0==a[B]||a[B]==this.yb[F]?this.yb[cb]():a[E](function(a){this.yb[Xa](a)},this)};va(H,function(a){this.hh(a);return Tc()});
H.Lj=function(){return 0==this.yb[F]?0:xd(this.yb)[Ka](function(a,b){return a>b?a:b},0)};function Ve(a,b){this.o=a;this.Nh=b;this.jd=N();this.Ya=-1;this.H=N();this.hb=N();this.we=null}H=Ve[t];H.Wj=G("Ya");H.rh=Ib("Ya");
H.Fa=function(a){this.i=this.Nh[kb](this.o[q]());var b=a||function(){return Tc()};return Re(this.i,"@db/version")[x](function(a){return null===a?Se(this.i,this.Hi(),!0)[x](function(){var a=new Qe(0,this.i);return b(a)}[D](this)):a==this.o[ub]()?Re(this.i,"@rev/R")[x](function(a){this.Ya=a;return Re(this.i,"@table")}[D](this))[x](function(a){for(var b in a)this.hb.set(b,a[b]);a=this.o.ab().map(function(a){return this.gh(a[u]())},this);return Xc(a)}[D](this))[x](function(){this.mk();this.Rg();return Tc()}[D](this)):
this.hf(a,b)[x](function(){return this.Fa()}[D](this))}[D](this))};H.hf=function(a,b){var c=new Qe(a,this.i);return c.Fa(this.o)[x](function(){return this.Bl()}[D](this))[x](function(){return b(c)})[x](function(){var a=this.i[kb]("@db");return Se(a,{version:this.o[ub]()},!0)}[D](this))};H.Bl=function(){return Tc()};H.Rg=function(){this.i.off();this.i.on("child_removed",this.Lk[D](this));this.xe&&(this.xe.off(),this.jd[cb]());this.xe=this.i[bb]("R").startAt(this.Ya+1);this.xe.on("value",this.ef[D](this))};
H.mk=function(){ed=yd(this.H).map(function(a){return a.Lj()})[Ka](function(a,b){return a>b?a:b},0)+1};H.Lk=function(a){var b=a.val(),c=this.jd.get(b.T)||null;null===c&&(c=O(),this.jd.set(b.T,c));c.add(da(a.key(),10))};H.ef=function(a){var b=a[kb]("@rev/R").val();null!=b&&b!=this.Ya&&(this.Ya=b,a=this.rj(a),a[E](function(a){var b=this.H.get(a[u]()),g=xd(a.Uc());0<g[B]&&b.hh(g);var k=yd(a.Sc());a.Wc()[E](function(a){k[w](a[1])});b.lf(k)},this),0<a[B]&&this.ed(a),this.Rg())};
H.rj=function(a){var b=O(),c=N();this.hb[E](function(a,g){var k=this.H.get(g),l=new de(g);if(this.jd.has(a)){var p=Nd(this.jd.get(a));p[E](function(a){b.add(a)});k.Qe(p)[E](function(a){l[Xa](a)})}c.set(a,l)}[D](this));a[E](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b.has(g)){a=a.val();var k=c.get(a.T),l=this.H.get(k[u]());l.getData().has(g)?k.modify([l.Qe([g])[0],new dd(g,a.P)]):k.add(new dd(g,a.P))}}}[D](this));return yd(c)[Ga](function(a){return!a.yc()})};
H.gh=function(a){var b=Yc(),c=this.tg(a);this.i[bb]("T").equalTo(c)[Ha]("value",function(c){var g=new Ue,k=[];c[E](function(a){k[w](new dd(da(a.key(),10),a.val().P))});g.lf(k);this.H.set(a,g);b[Fb]()}[D](this));return b.la};H.tg=function(a){return this.hb.get(a)};H.Hi=function(){var a={};a["@db"]={version:this.o[ub]()};a["@rev"]={R:1};this.Ya=1;a["@table"]={};this.o.ab()[E](function(b,c){var d=b[u]();a["@table"][d]=c;this.H.set(d,new Ue);this.hb.set(d,c)},this);return a};
H.Sb=function(a,b){return new Te(this,a,b)};H.Yc=function(a){var b=this.H.get(a)||null;if(null!==b)return b;throw new P(101,a);};H.Tj=G("i");oa(H,Hb());Ba(H,Ib("we"));H.ed=function(a){null!=this.we&&this.we(a)};function Q(a,b,c,d){this.i=b;this.Ra=c;this.Sa=a;this.wd=d}I("lf.backstore.IndexedDBRawBackStore",Q,void 0);Q[t].Rd=G("i");Q[t].getRawDBInstance=Q[t].Rd;Q[t].Sd=G("Ra");Q[t].getRawTransaction=Q[t].Sd;Q[t].Nc=function(a){return new M(function(b,c){try{this.i.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};Q[t].dropTable=Q[t].Nc;
Q[t].Pk=function(a,b,c){return new M(function(d,g){var k;try{var l=this.Ra[vb](a);k=l[Fa]()}catch(p){g(p);return}sa(k,function(){var a=k[Gb];a?(b(a),a[hb]()):(c(l),d())});ya(k,g)},this)};function We(a){var b=null;return b=a instanceof ArrayBuffer?hd(a):a instanceof Date?a[Eb]():a}Q[t].zf=function(a,b){function c(a){var c=Rd(a[v]),d=c.xc(),p;for(p in d){var y=fd(d[p]);b(y);d[p]=y.Ia()}a[Ua](c.Ia())}function d(a){var c=fd(a[v]);b(c);a[Ua](c.Ia())}return this.Pk(a,this.wd?c:d,Hb())};
Q[t].Fc=function(a,b,c){var d=We(c);return this.zf(a,function(a){a.s()[b]=d})};Q[t].addTableColumn=Q[t].Fc;Q[t].Oc=function(a,b){return this.zf(a,function(a){delete a.s()[b]})};Q[t].dropTableColumn=Q[t].Oc;Q[t].kd=function(a,b,c){return this.zf(a,function(a){a.s()[c]=a.s()[b];delete a.s()[b]})};Q[t].renameTableColumn=Q[t].kd;
Q[t].Zj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Ra[vb](a)[Fa]()}catch(k){d(k);return}sa(g,J(function(){var a=g[Gb];if(a){if(this.wd){var d=Rd(a[v]).xc(),k;for(k in d)b[w](d[k])}else b[w](a[v]);a[hb]()}else c(b)},this));ya(g,d)},this)};Q[t].Hb=function(a){var b={};wc(a,J(function(a,d){b[d]=We(a)},this));return gd(b)};Q[t].createRow=Q[t].Hb;Q[t].$c=G("Sa");Q[t].getVersion=Q[t].$c;
ka(Q[t],function(){for(var a=this.i[Ia],b=[],c=0;c<a[B];++c){var d=a[Na](c);b[w](this.sc(d))}return Xc(b)[x](function(b){var c={};b[E](function(b,d){c[a[Na](d)]=b});return c})});ka(Q[t],Q[t].dump);Q[t].sc=function(a){return this.Zj(a)[x](function(a){return a.map(function(a){return a[v]})})};function Xe(a,b){this.X=a;this.Tb=b}H=Xe[t];H.get=function(a){if(0==a[B])return this.Tc();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.X.get(a)}catch(k){d(k);return}ya(g,d);sa(g,J(function(a){c(this.Tb(a[Oa][Gb]))},this))},this)},this);return Xc(a)};H.Tc=function(){return new M(function(a,b){var c=[],d;try{d=this.X[Fa]()}catch(g){b(g);return}ya(d,b);sa(d,J(function(){var b=d[Gb];b?(c[w](this.Tb(b[v])),b[hb]()):a(c)},this))},this)};
H.cc=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);ya(d,c)},this)};H.put=function(a){if(0==a[B])return Tc();a=a.map(function(a){return this.cc(J(function(){return this.X.put(a.Ia())},this))},this);return Xc(a)};
va(H,function(a){return new M(function(b,c){var d=this.X[ab]();sa(d,J(function(d){if(0==a[B]||d[Oa][Gb]==a[B])return this.cc(J(function(){return this.X[cb]()},this))[x](b,c);d=a.map(function(a){return this.cc(J(function(){return this.X[Xa](a)},this))},this);Xc(d)[x](b,c)},this));ya(d,c)},this)});function Ye(a,b,c,d,g){Ad[r](this,c,d);this.j=a;this.Ra=b;this.wd=g;this.Ra.oncomplete=J(this.Z[Fb],this.Z);this.Ra.onabort=J(this.Z[La],this.Z)}K(Ye,Ad);Ye[t].K=function(a,b,c){return this.wd?(c=null!=c?c:0,a=this.Ra[vb](a),new Sd(a,b,0==c?Zb(Td,this.j):Ud)):new Xe(this.Ra[vb](a),b)};Ye[t].Kc=function(){return this.Z.la};function Ze(a,b){this.j=a;this.o=b;this.xd=b.dh().Si||!1}H=Ze[t];H.Fa=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Tc()};return new M(function(a,g){var k;try{k=b.open(this.o[q](),this.o[ub]())}catch(l){g(l);return}ya(k,g);k.onupgradeneeded=J(function(a){this.Ok(c,a)[x](Hb(),g)},this);sa(k,J(function(b){this.i=b[Oa][Gb];this.rf()[x](J(function(b){ed=b+1;a(this.i)},this))},this))},this)};
H.Ok=function(a,b){var c=b[Oa][Gb],d=b[Oa][mb],g=new Q(b.oldVersion,c,d,this.xd);this.dl(c,d);this.Mi(c,d);return a(g)};H.dl=function(a){for(var b=[],c=0;c<a[Ia][B];++c){var d=a[Ia][Na](c);-1!=d[Za](".")&&b[w](d)}b[E](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.Mi=function(a,b){this.o.ab()[E](Zb(this.Ji,a,b),this)};H.Ji=function(a,b,c){a[Ia][tb](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Kb()&&(c.Ea()[E](function(c){this.Mc(a,b,c.l(),"btree")},this),this.Mc(a,b,c.Vb(),"rowid"))};
H.Mc=function(a,b,c,d){a[Ia][tb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[vb](c),(this.xd?new Sd(a,fd,Ud):new Xe(a,fd)).put([new jd(new id(d))]))};H.Sb=function(a,b){var c=xd(b.da());b.Hj()[E](function(a){c[w](a)});var d=this.i[mb](c,0==a?"readonly":"readwrite");return new Ye(this.j,d,b,a,this.xd)};
H.rf=function(a){function b(){if(0==c[B])return Tc();var a=c[rb]();return l(a)[x](b)}var c=this.o.ab().map(function(a){return a[u]()}),d=this.i,g=0,k=J(function(a){return this.xd?(a=Rd(a[v]),yc(a.xc())[Ka](function(a,b){return ba.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var eb;try{eb=(a||d[mb]([b]))[vb](b)[Fa](null,"prev")}catch(Cc){l(Cc);return}sa(eb,function(a){(a=a[Oa][Gb])&&(g=ba.max(g,k(a)));c(g)});ya(eb,function(){c(g)})},this)},this);return new M(function(a){b()[x](function(){a(g)})})};
oa(H,function(){this.i[Qa]()});H.Yc=function(){throw new P(511);};Ba(H,Hb());H.ed=Hb();function $e(a,b,c){Ad[r](this,c,b);this.X=a;0==b&&this.Z[Fb]()}K($e,Ad);$e[t].K=function(a){return this.X.Yc(a)};$e[t].Kc=function(){this.Z[Fb]();return this.Z.la};function af(a){this.o=a;this.H=N()}H=af[t];H.Fa=function(){this.o.ab()[E](this.pk,this);return Tc()};H.Yc=function(a){var b=this.H.get(a)||null;if(null===b)throw new P(101,a);return b};H.Sb=function(a,b){return new $e(this,a,b)};H.ag=function(a){if(!this.H.has(a)){var b=new Ue;this.H.set(a,b);return b}return null};H.pk=function(a){this.ag(a[u]());a.Kb()&&(a.Ea()[E](function(a){this.Mc(a.l(),"btree")},this),this.Mc(a.Vb(),"rowid"))};H.Mc=function(a,b){var c=this.ag(a);null===c||c.put([new jd(new id(b))])};
oa(H,Hb());Ba(H,Hb());H.ed=Hb();function bf(a){af[r](this,a);this.ae=null}K(bf,af);Ba(bf[t],function(a){null===this.ae&&(this.ae=a)});bf[t].ed=function(a){null===this.ae||this.ae(a)};function cf(a,b,c){this.Ra=a;this.w=b;this.Tb=c}cf[t].get=function(a){var b=this.Tb;this.Ra.Pa("SELECT id, value FROM "+this.w+" "+(0==a[B]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Cb][B],g=e(d),k=0;k<d;++k)g[k]=b({id:a[Cb][Na](k).id,value:ga.parse(a[Cb][Na](k)[v])});return g});return this.Ra.pa()};cf[t].put=function(a){if(0==a[B])return Tc();var b="INSERT OR REPLACE INTO "+this.w+"(id, value) VALUES (?, ?)";a[E](function(a){this.Ra.Pa(b,[a.id(),ga[yb](a.s())])},this);return Tc()};
va(cf[t],function(a){this.Ra.Pa("DELETE FROM "+this.w+" "+(0==a[B]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Tc()});function df(a,b,c){Ad[r](this,b,c);this.i=a;this.H=N();this.De=[]}K(df,Ad);df[t].K=function(a,b){var c=this.H.get(a)||null;null===c&&(c=new cf(this,a,b),this.H.set(a,c));return c};df[t].Pa=function(a,b,c){this.De[w]({sl:a,Qk:b,transform:c})};
df[t].Kc=function(){var a,b,c=this.Z[La][D](this.Z),d=function(a,b){this.Z[La](b)}[D](this),g=J(function(c,l){a=l;if(this.De[B]){var p=this.De[rb]();b=p.transform;c.executeSql(p.sl,p.Qk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.Z[Fb](p)},this);0==this.Ah?this.i.readTransaction(g,c):this.i[mb](g,c);return this.Z.la};function R(a,b,c){this.i=c;this.j=a;this.Sa=b}I("lf.backstore.WebSqlRawBackStore",R,void 0);R[t].Rd=G("i");R[t].getRawDBInstance=R[t].Rd;R[t].Sd=function(){throw new P(356);};R[t].getRawTransaction=R[t].Sd;R[t].Ed=function(){return new df(this.i,new ee(this.j,O()),1)};R[t].Nc=function(a){var b=this.Ed();b.Pa("DROP TABLE "+a,[]);return b.pa()};R[t].dropTable=R[t].Nc;
R[t].sc=function(a){var b=this.Ed();b.Pa("SELECT id, value FROM "+a,[]);return b.pa()[x](function(a){for(var b=a[Cb][B],g=e(b),k=0;k<b;++k)g[k]={id:a[Cb][Na](k).id,value:ga.parse(a[Cb][Na](k)[v])};return Tc(g)})};R[t].yf=function(a,b){var c=this.Ed(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.sc(a)[x](function(a){a[E](function(a){a=b(a);c.Pa(d,[ga[yb](a[v]),a.id])});return c.pa()})};R[t].Fc=function(a,b,c){var d=We(c);return this.yf(a,function(a){a[v][b]=d;return a})};
R[t].addTableColumn=R[t].Fc;R[t].Oc=function(a,b){return this.yf(a,function(a){delete a[v][b];return a})};R[t].dropTableColumn=R[t].Oc;R[t].kd=function(a,b,c){return this.yf(a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};R[t].renameTableColumn=R[t].kd;R[t].Hb=function(a){var b={},c;for(c in a)b[c]=We(a[c]);return gd(b)};R[t].createRow=R[t].Hb;R[t].$c=G("Sa");R[t].getVersion=R[t].$c;
function ef(a){a.Pa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Cb][B]),d=0;d<c[B];++d)c[d]=a[Cb][Na](d).tbl_name;return c})}ka(R[t],function(){var a=Yc(),b=this.Ed();ef(b);var c={};b.pa()[x](J(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.sc(a)[x](function(b){c[a]=b})},this);Xc(b)[x](function(){a[Fb](c)})},this));return a.la});ka(R[t],R[t].dump);
function gf(a,b,c){this.j=a;this.o=b;this.ol=c||4194304}H=gf[t];H.Jd=function(){return new ee(this.j,O())};H.Fa=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Tc()};return new M(J(function(a,d){try{var g=ca.openDatabase(this.o[q](),"",this.o[q](),this.ol);if(null!=g)this.i=g,this.zi(b)[x](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.zi=function(a){var b=Yc(),c=new df(this.i,this.Jd(),1);c.Pa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Pa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.pa()[x](J(function(c){var g=0;c[Cb][B]&&(g=c[Cb][Na](0).v);g<this.o[ub]()?this.hf(a,g)[x](b[Fb][D](b)):g>this.o[ub]()?b[La](new P(108)):b[Fb]()},this));return b.la};H.Sb=function(a,b){if(null!=this.i)return new df(this.i,b,a);throw new P(2);};oa(H,Hb());H.Yc=function(){throw new P(512);};
H.Ug=function(){throw new P(355);};Ba(H,function(){this.Ug()});H.ed=function(){this.Ug()};H.hf=function(a,b){var c=Yc();this.Tk()[x](J(function(){a(new R(this.j,b,this.i))[x](J(function(){return this.rf()},this))[x](c[Fb][D](c))},this),c[La][D](c));return c.la};
H.Tk=function(){var a=this.o.ab(),b=new df(this.i,this.Jd(),1),c=new df(this.i,this.Jd(),1);b.Pa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.o[ub]()]);ef(b);return b.pa()[x](function(b){b[Ga](function(a){return-1!=a[Za](".")})[E](function(a){c.Pa("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[Za](".")});a.map(function(a){return a[u]()})[Ga](function(a){return-1==g[Za](a)})[E](function(a){c.Pa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.pa()})};
H.rf=function(){var a=0,b=Yc(),c=J(function(b){var c=new df(this.i,this.Jd(),0);c.Pa("SELECT MAX(id) FROM "+b,[]);return c.pa()[x](function(b){b=b[Cb][Na](0)[0];a=ba.max(b,a)})},this),d=this.o.ab().map(function(a){return c(a[u]())});Xc(d)[x](function(){b[Fb](a)},function(a){b[La](a)});return b.la};function hf(){this.h=N();this.wh=N()}H=hf[t];H.Td=function(a){var b=this.wh.get(a);Lb(b)||(b=O(),this.wh.set(a,b));return b};H.set=function(a,b){var c=this.Td(a);b[E](J(function(a){this.h.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.h.get(a)||null},this))};
H.ob=function(a,b,c){var d=[],g=ba.min(b,c),k=ba.max(b,c);a=this.Td(a);if(a[F]<k-g)a[E](function(a){a>=g&&a<=k&&(a=this.h.get(a),L(null!=a,"Inconsistent cache"),d[w](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.h.get(b),L(null!=c,"Inconsistent cache"),d[w](c));return d};va(H,function(a,b){var c=this.Td(a);b[E](function(a){this.h[Xa](a);c[Xa](a)},this)});H.Ub=function(a){return null!=a?this.Td(a)[F]:this.h[F]};
function jf(a,b){for(var c=0,d=a[B];c<d;){var g=c+d>>1;a[g]<b?c=g+1:d=g}return c==d&&a[c]==b?c:~c};function kf(a,b,c,d){a=b?a[gb]():a;if(null==c&&null==d)return a;c=ba.min(Lb(c)?c:a[B],a[B]);if(0==c)return[];d=ba.min(d||0,a[B]);return a[n](d,d+c)};function mf(){this.ta=0}mf[t].add=function(a,b){this.ta+=b};va(mf[t],function(a,b){this.ta-=b});ta(mf[t],function(){this.ta=0});mf[t].Al=function(a){this[cb]();a[E](function(a){this.ta+=a.ta},this)};function nf(a,b,c,d){this.w=a;this.O=b;this.Bf=c;this.vb=new mf;if(d){a=511;a*=a*a;if(d[B]>=a)throw new P(6,a);d=of(this,d);this.ra=d=pf(d)}else this[cb]()}var qf=[];H=nf[t];na(H,G("w"));f(H,function(){return this.ra[C]()});H.add=function(a,b){this.ra=this.ra.Bb(a,b)};H.set=function(a,b){this.ra=this.ra.Bb(a,b,!0)};va(H,function(a,b){this.ra=this.ra[jb](a,b)});H.get=function(a){return this.ra.get(a)};
H.Dd=function(a){if(null==a)return this.$a().ta;if(a instanceof fe){if(a.Cg())return this.$a().ta;if(a.Hg())return this.get(a.c)[B]}return this.ob([a])[B]};H.$a=G("vb");H.Tc=function(a,b,c,d){c=e(a);this.ra.fill({offset:b?this.vb.ta-a-d:d,count:a,xf:0},c);return b?c[gb]():c};
H.ob=function(a,b,c,d){var g=this.ra.Nd().b[0];if(!Lb(g)||0==c)return qf;b=b||!1;c=null!=c?ba.min(c,this.vb.ta):this.vb.ta;d=d||0;var k=ba.min(ba.max(this.vb.ta-d,0),c);if(0==k)return qf;if(!Lb(a)||1==a[B]&&a[0]instanceof fe&&a[0].Cg())return this.Tc(k,b,c,d);a=this.O.uh(a);var l=e(b?this.vb.ta:k),p={count:0,W:l[B],reverse:b,M:d};a[E](function(a){for(var b=this.O.he(a),b=this.O.We(a)?g:b[0],b=this.ra.mg(b),c=p[ab],d=0;null!=b&&p[ab]<p.W;)b.ob(a,p,l),p[ab]!=c?(d=0,c=p[ab]):d++,b=2==d?null:b[qb]()},
this);l[z](p[ab],k-p[ab]);return b?kf(l,b,c,d):l};ta(H,function(){this.ra=rf(this);this.vb[cb]()});H.na=function(a){return this.ra.na(a)};H.min=function(){return this.dd(J(this.O.min,this.O))};H.max=function(){return this.dd(J(this.O.max,this.O))};H.dd=function(a){var b=this.ra.Nd(),c=this.ra.sg();if(0==b.b[B]&&0==c.b[B])return null;var d=b.b[0],b=b.A[0],g=c.b[c.b[B]-1],c=c.A[c.b[B]-1];return 1==a(d,g)?[d,this.Bf?[b]:b]:[g,this.Bf?[c]:c]};H.Ma=G("Bf");H.Lc=G("O");
H.bf=function(a,b){return null!=a?-1==this.O[Ab](a,b):!1};H.Ua=function(a,b){return null!=a?0==this.O[Ab](a,b):!1};H.Ia=function(){for(var a=[],b=this.ra.Nd();b;)a[w](new dd(b.ya,[b.b,b.A])),b=b.za;return a};function sf(a,b,c,d){a=new nf(b,a,c);d=tf(d,a);a.ra=d;return a}function uf(a,b){this.ya=a;this.C=b;this.qb=0;this.za=this.Db=this.D=null;this.b=[];this.A=[];this.g=[]}function rf(a){return new uf(ed++,a)}H=uf[t];H.ka=function(){return 0==this.qb};H.Kg=function(){return null==this.D};xa(H,G("za"));
function vf(a){function b(a){return null!=a?a.ya[C]():"_"}var c=a.ya+"["+a.b[m]("|")+"]",d=a.g.map(function(a){return a.ya})[m]("|"),g=a.A[m]("/"),k=b(a.Db)+"{",k=a.ka()?k+g:k+d,k=k+"}"+b(a.D);a.za&&(a=vf(a.za),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=vf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.g[B]&&(a+=this.g[0][C]());return a});H.Nd=function(){return this.ka()?this:this.g[0].Nd()};H.sg=function(){return this.ka()?this:this.g[this.g[B]-1].sg()};
function wf(a,b){b&&(b.Db=a);a&&(a.za=b)}function of(a,b){for(var c=b[B],d=0,g=rf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.b=p.map(function(a){return a.key});g.A=p.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=rf(g.C),wf(g,l),g=l)}return k}function xf(a){var b=a[0],c=rf(b.C);c.qb=b.qb+1;c.g=a;for(b=0;b<a[B];++b)a[b].D=c,0<b&&c.b[w](a[b].b[0]);return c}
function pf(a){var b=a,c=[];do c[w](b),b=b.za;while(b);if(512>=c[B])b=xf(c);else{var d=c[B],g=0,b=rf(a.C);for(b.qb=a.qb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[n](g,g+a),l=xf(k);l.D=b;b.g[B]&&(b.b[w](k[0].b[0]),wf(b.g[b.g[B]-1],l));b.g[w](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.md(a);if(this.ka()){var c=qf;this.C.Ua(this.b[b],a)&&(c=c[Ra](this.A[b]));return c}b=this.C.Ua(this.b[b],a)?b+1:b;return this.g[b].get(a)};
H.na=function(a){var b=this.md(a);return this.C.Ua(this.b[b],a)?!0:this.ka()?!1:this.g[b].na(a)};va(H,function(a,b){this.dg(a,-1,b);if(this.Kg()){var c=this;1==this.g[B]&&(c=this.g[0],c.D=null);return c}return this});function yf(a){return a.ka()?a.b[0]:yf(a.g[0])}H.Gd=function(){this.b=[];for(var a=1;a<this.g[B];++a)this.b[w](yf(this.g[a]))};
H.dg=function(a,b,c){var d=this.md(a),g=this.ka();if(!g){var k=this.C.Ua(this.b[d],a)?d+1:d;if(this.g[k].dg(a,k,c))this.Gd();else return!1}else if(!this.C.Ua(this.b[d],a))return!1;if(this.b[B]>d&&this.C.Ua(this.b[d],a)){if(Lb(c)&&!this.C.Ma()&&g&&(k=this.A[d],c=jf(k,c),0>c?c=!1:(k[z](c,1),c=!0),c&&this.C.$a()[jb](a,1),this.A[d][B]))return!1;this.b[z](d,1);g&&(g=this.C.Ma()?1:this.A[d][B],this.A[z](d,1),this.C.$a()[jb](a,g))}256>this.b[B]&&!this.Kg()&&(this.tl()||this.Hk(b));return!0};
H.tl=function(){var a=null,b,c,d;if(this.za&&256<this.za.b[B])a=this.za,c=b=0,d=this.b[B]+1;else if(this.Db&&256<this.Db.b[B])a=this.Db,b=this.Db.b[B]-1,c=this.ka()?b:b+1,d=0;else return!1;this.b[z](d,0,a.b[b]);a.b[z](b,1);b=this.ka()?this.A:this.g;var g=null;this.ka()?g=a.A:(g=a.g,g[c].D=this);b[z](d,0,g[c]);g[z](c,1);a.ka()||(a.Gd(),this.Gd());return!0};
H.Hk=function(a){var b,c,d;this.za&&511>this.za.b[B]?(b=this.za,d=c=0):this.Db&&(b=this.Db,c=b.b[B],d=b.ka()?b.A[B]:b.g[B]);c=[c,0][Ra](this.b);e[t][z][xb](b.b,c);c=null;this.ka()?c=this.A:(c=this.g,c[E](function(a){a.D=b}));c=[d,0][Ra](c);e[t][z][xb](b.ka()?b.A:b.g,c);wf(this.Db,this.za);b.ka()||b.Gd();-1!=a&&(this.D.b[z](a,1),this.D.g[z](a,1))};
H.Bb=function(a,b,c){var d=this.md(a);if(this.ka()){if(this.C.Ua(this.b[d],a)){if(c)this.C.$a()[jb](a,this.C.Ma()?1:this.A[d][B]),this.A[d]=this.C.Ma()?b:[b];else{if(this.C.Ma())throw new P(201);d=this.A[d];c=jf(d,b);0>c?(d[z](-(c+1),0,b),b=!0):b=!1;if(!b)throw new P(109);}this.C.$a().add(a,1);return this}this.b[z](d,0,a);this.A[z](d,0,this.C.Ma()?b:[b]);this.C.$a().add(a,1);return 512==this.b[B]?this.ql():this}d=this.C.Ua(this.b[d],a)?d+1:d;a=this.g[d].Bb(a,b,c);a.ka()||1!=a.b[B]||(this.b[z](d,0,
a.b[0]),a.g[1].D=this,a.g[0].D=this,this.g[z](d,1,a.g[1]),this.g[z](d,0,a.g[0]));return 512==this.b[B]?this.pl():this};H.ql=function(){var a=rf(this.C),b=rf(this.C);b.qb=1;b.b=[this.b[256]];b.g=[this,a];b.D=this.D;this.D=b;a.b=this.b[z](256);a.A=this.A[z](256);a.D=b;wf(a,this.za);wf(this,a);return b};
H.pl=function(){var a=rf(this.C),b=rf(this.C);a.D=this.D;a.qb=this.qb+1;a.b=[this.b[256]];a.g=[this,b];this.b[z](256,1);b.D=a;b.qb=this.qb;b.b=this.b[z](256);b.g=this.g[z](257);b.g[E](function(a){a.D=b});this.D=a;wf(b,this.za);wf(this,b);return a};H.md=function(a){for(var b=0,c=this.b[B];b<c;){var d=b+c>>1;this.C.bf(this.b[d],a)?b=d+1:c=d}return b};H.mg=function(a){if(!this.ka()){var b=this.md(a);this.C.Ua(this.b[b],a)&&b++;return this.g[b].mg(a)}return this};
H.ob=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var g=this.C.Lc(),k=0,l=this.b[B]-1,p=this.b,y=d(g.xb(p[k],a)),Da=d(g.xb(p[l],a));if(1!=y&&(-1!=y||-1!=Da)){var eb=function(a,b){var c=a+b>>1;return c==a?c+1:c},Cc=function(b,c,k){if(b>=c)return 0==k?c:-1;var l=d(g.xb(p[b],a));if(0==l)return b;if(1==l)return-1;l=eb(b,c);if(l==c)return 0==k?c:-1;var y=d(g.xb(p[l],a));return 0==y?Cc(b,l,y):-1==y?Cc(l+1,c,k):Cc(b+1,l,y)},ff=function(b,c){if(b>=c)return b;var k=d(g.xb(p[c],a));if(0==k)return c;
if(-1==k)return b;k=eb(b,c);if(k==c)return b;var l=d(g.xb(p[k],a));return 0==l?ff(k,c):1==l?ff(b,k-1):-1};0!=y&&(k=Cc(k+1,l,Da));-1!=k&&(l=ff(k,l),-1!=l&&l>=k&&this.Ph(b,c,k,l+1))}};H.Ph=function(a,b,c,d){for(;c<d&&(a[gb]||!(a[ab]>=a.W));++c)if(this.C.Ma())!a[gb]&&a.M?a.M--:b[a.count++]=this.A[c];else for(var g=0;g<this.A[c][B]&&a[ab]<b[B];++g)!a[gb]&&a.M?a.M--:b[a.count++]=this.A[c][g]};
H.fill=function(a,b){if(this.ka())for(var c=0;c<this.A[B]&&0<a[ab];++c)if(0<a[wb]){if(a.offset=a[wb]-(this.C.Ma()?1:this.A[c][B]),0>a[wb])for(var d=this.A[c][B]+a[wb];d<this.A[c][B]&&0<a[ab];++d)b[a.xf++]=this.A[c][d],a.count--}else if(this.C.Ma())b[a.xf++]=this.A[c],a.count--;else for(d=0;d<this.A[c][B]&&0<a[ab];++d)b[a.xf++]=this.A[c][d],a.count--;else for(c=0;c<this.g[B]&&0<a[ab];++c)this.g[c].fill(a,b)};
function tf(a,b){for(var c=b.$a(),d=a.map(function(a){var d=new uf(a.id(),b);d.b=a.s()[0];d.A=a.s()[1];d.b[E](function(a,g){c.add(a,b.Ma()?1:d.A[g][B])});return d}),g=0;g<d[B]-1;++g)wf(d[g],d[g+1]);return 1<d[B]?pf(d[0]):d[0]};
function zf(a){if(1==a.f[B])return new Af(a.f[0].sb);a=a.f.map(function(a){return a.sb});return new Bf(a)}function Af(a){this.Cd=0==a?Cf:Df;this.cf=0==a?function(a){return null!=a?a[gb]():null}:function(a){return a||null};this.Yg=0==a?Ef:Ff}K(Af,Vd);function Df(a,b){return a>b?1:a<b?-1:0}function Cf(a,b){return Df(b,a)}function Ff(a,b){return ie(a,b)}function Ef(a,b){return ie(b,a)}H=Af[t];
H.xb=function(a,b){var c=this.cf(b),d=[null===c.c,null===c.u];if(!d[0]){var g=this.Cd(a,c.c);d[0]=c.ba?1==g:-1!=g}d[1]||(g=this.Cd(a,c.u),d[1]=c.oa?-1==g:1!=g);return d};H.compare=function(a,b){return this.Cd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Ve=function(a,b){var c=this.xb(a,b);return c[0]&&c[1]};H.Xg=function(a,b){return this.Yg(a,b)};
H.uh=function(a){return a[Ga](function(a){return null!==a})[Ya](J(function(a,c){return this.Yg(a,c)},this))};H.We=function(a){return Pb(this.cf(a).c)};H.he=function(a){a=this.cf(a);return[a.c,a.u]};f(H,function(){return this.Cd==Cf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Bf(a){this.Ka=a.map(function(a){return new Af(a)})}K(Bf,Vd);H=Bf[t];H.Ke=function(a,b,c){for(var d=0,g=0;g<this.Ka[B]&&0==d;++g)d=c(this.Ka[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.Ke(a,b,function(a,b,g){return a[Ab](b,g)})};H.min=function(a,b){return this.Ke(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.Ke(a,b,function(a,b,g){return a.max(b,g)})};H.xb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ka[B]&&(c[0]||c[1]);++d){var g=this.Ka[d].xb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.Ve=function(a,b){for(var c=!0,d=0;d<this.Ka[B]&&c;++d)c=this.Ka[d].Ve(a[d],b[d]);return c};
H.uh=function(a){var b=a[Ga](function(a){return a[Ta](Qb)});a=e(this.Ka[B]);for(var c=0;c<a[B];c++)a[c]=b.map(function(a){return a[c]});a[E](function(a,b){a[Ya](J(function(a,c){return this.Ka[b].Xg(a,c)},this))},this);b=e(b[B]);for(c=0;c<b[B];c++)b[c]=a.map(function(a){return a[c]});return b[Ya](J(function(a,b){for(var c=0,l=0;l<this.Ka[B]&&0==c;++l)c=this.Ka[l].Xg(a[l],b[l]);return c},this))};H.We=function(a){return this.Ka[0].We(a[0])};
H.he=function(a){var b=a.map(function(a,b){return this.Ka[b].he(a)[0]},this);a=a.map(function(a,b){return this.Ka[b].he(a)[1]},this);return[b,a]};function Gf(a){this.ea=a;this.rb=O();this.nd=new mf;this.vb=new mf}H=Gf[t];na(H,function(){return this.ea[u]()});H.add=function(a,b){null===a?(this.rb.add(b),this.nd.add(a,1)):this.ea.add(a,b)};H.set=function(a,b){null===a?(this.rb[cb](),this.nd[cb](),this.add(a,b)):this.ea.set(a,b)};va(H,function(a,b){if(null===a)b?(this.rb[Xa](b),this.nd[jb](a,1)):(this.rb[cb](),this.nd[cb]());else this.ea[jb](a,b)});H.get=function(a){return null===a?Nd(this.rb):this.ea.get(a)};H.Dd=function(a){return this.ea.Dd(a)};
H.$a=function(){this.vb.Al([this.ea.$a(),this.nd]);return this.vb};H.ob=function(a,b,c,d){b=this.ea.ob(a,b,c,d);return null!=a?b:b[Ra](Nd(this.rb))};ta(H,function(){this.rb[cb]();this.ea[cb]()});H.na=function(a){return null===a?0!=this.rb[F]:this.ea.na(a)};H.min=function(){return this.ea.min()};H.max=function(){return this.ea.max()};H.Ia=function(){return[new dd(-2,Nd(this.rb))][Ra](this.ea.Ia())};H.Lc=function(){return this.ea.Lc()};
function Hf(a,b){for(var c=-1,d=0;d<b[B];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new P(102);var d=b[c].s(),g=b[n](0);g[z](c,1);var c=a(g),k=new Gf(c);d[E](function(a){k.rb.add(a)});return k}H.Ma=function(){return this.ea.Ma()};function If(a){this.w=a;this.ub=O();this.O=new Af(1)}H=If[t];na(H,G("w"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.ub.add(a)};H.set=function(a,b){this.add(a,b)};va(H,function(a){this.ub[Xa](a)});H.get=function(a){return this.na(a)?[a]:[]};H.min=function(){return this.dd(J(this.O.min,this.O))};H.max=function(){return this.dd(J(this.O.max,this.O))};
H.dd=function(a){if(0==this.ub[F])return null;var b=Nd(this.ub)[Ka](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.Dd=function(){return this.ub[F]};H.ob=function(a,b,c,d){var g=a||[he()];a=Nd(this.ub)[Ga](function(a){return g[$a](function(b){return this.O.Ve(a,b)},this)},this);return kf(a,b,c,d)};ta(H,function(){this.ub[cb]()});H.na=function(a){return this.ub.has(a)};H.Ia=function(){return[new dd(0,Nd(this.ub))]};H.Lc=G("O");
function Jf(a,b){var c=new If(a);b[0].s()[E](function(a){c.add(a,a)});return c}H.Ma=Jb(!0);H.$a=function(){var a=new mf;a.ta=this.ub[F];return a};function Kf(a){this.j=a;this.Gb=a.m(Cd);this.G=a.m(Ed);this.ua=a.m(Dd)}H=Kf[t];H.Fa=function(a){var b=a.ab(),c=J(function(){if(0==b[B])return Tc();var a=b[rb]();return(a.Kb()?this.fj(a):this.gj(a))[x](c)},this);return c()};H.gj=function(a){var b=new ee(this.j,O([a]));return this.Gb.Sb(0,b).K(a[u](),J(a.rc,a)).get([])[x](J(function(b){this.ua.set(a[u](),b);this.Zk(a,b)},this))};H.Zk=function(a,b){var c=this.G.ug(a[u]());b[E](function(a){c[E](function(b){var c=a.Yb(b[u]());b.add(c,a.id())})})};
H.fj=function(a){var b=new ee(this.j,O([a])),c=this.Gb.Sb(0,b),b=c.K(a[u](),a.rc).get([])[x](J(function(b){this.ua.set(a[u](),b)},this)),d=a.Ea().map(function(a){return this.$k(a,c)},this)[Ra](this.al(a,c));return Xc(d[Ra](b))};H.$k=function(a,b){var c=b.K(a.l(),fd,1),d=zf(a);return c.get([])[x](J(function(b){L("btree"==b[0].s().type);if(1<b[B]){if(a.zg()){var c=sf[D](void 0,d,a.l(),a.bd);b=Hf(c,b[n](1))}else b=sf(d,a.l(),a.bd,b[n](1));this.G.set(a.od,b)}},this))};
H.al=function(a,b){return b.K(a.Vb(),fd,1).get([])[x](J(function(b){L("rowid"==b[0].s().type);1<b[B]&&(b=Jf(a.Vb(),b[n](1)),this.G.set(a[u](),b))},this))};function Lf(){this.X=N();this.le=N()}Lf[t].Fa=function(a){a.ab()[E](function(a){var c=[];this.le.set(a[u](),c);var d=a.Vb();if(null===this.get(d)){var g=new If(d);c[w](g);this.X.set(d,g)}a.Ea()[E](function(a){var b;b=zf(a);b=new nf(a.l(),b,a.bd);b=a.zg()?new Gf(b):b;c[w](b);this.X.set(a.l(),b)},this)},this);return Tc()};Lf[t].get=function(a){return this.X.get(a)||null};
Lf[t].set=function(a,b){var c=this.le.get(a)||null;null===c&&(c=[],this.le.set(a,c));for(var d=null,g=0;g<c[B];g++)if(c[g][u]()==b[u]()){d=g;break}null!==d&&0<c[B]?c[z](d,1,b):c[w](b);this.X.set(b[u](),b)};Lf[t].ug=function(a){return this.le.get(a)||[]};function Mf(a){this.Ac=[];Lb(a)&&this.add(a)}f(Mf[t],function(){return this.Ac.map(function(a){return a[C]()})[m](",")});Mf[t].na=function(a){return this.Ac[$a](function(b){return b[tb](a)})};Mf[t].ha=G("Ac");
Mf[t].add=function(a){if(0!=a[B])if(a=this.Ac[Ra](a),1==a[B])this.Ac=a;else{a[Ya](ie);for(var b=[],c=a[0],d=1;d<a[B];++d)if(c.Zg(a[d])){var g=a[d],k=he();if(null!==c.c&&null!==g.c){var l=ge(c.c,g.c,!0);1!=l?(k.c=c.c,k.ba=0!=l?c.ba:c.ba&&g.ba):(k.c=g.c,k.ba=g.ba)}null!==c.u&&null!==g.u&&(l=ge(c.u,g.u,!1),-1!=l?(k.u=c.u,k.oa=0!=l?c.oa:c.oa&&g.oa):(k.u=g.u,k.oa=g.oa));c=k}else b[w](c),c=a[d];b[w](c);this.Ac=b}};
function Nf(a,b){var c=[];a.ha().map(function(a){return b.ha().map(function(b){var c;if(a.Zg(b)){c=he();var l=ge(a.c,b.c,!0),l=0==l?a.ba?a:b:-1!=l?a:b;c.c=l.c;c.ba=l.ba;null===a.u||null===b.u?b=null===a.u?b:a:(l=ge(a.u,b.u,!1),b=0==l?a.oa?a:b:-1==l?a:b);c.u=b.u;c.oa=b.oa}else c=null;return c})})[E](function(a){c=c[Ra](a)});return new Mf(c[Ga](function(a){return null!==a}))};function Of(a,b){var c=[],d=null,g=null;a.Cc(function(a){var l=b(a);null==a[Bb]()?g=l:d.ma(l);var p=a[Bb]();null!==p&&p.xa()==d.xa()&&(p=c[Za](d),-1!=p&&c[z](p,1));1<a.xa()&&c[w](l);d=a.Fg()?c[c[B]-1]:l});return g}function Pf(a){return Qf(a,function(a){return a.Fg()})}function Rf(a){var b=a[Bb](),c=0;null!==b&&(c=b.ca()[Za](a),b[ib](a));var d=a.ca()[n]();d[E](function(d,k){a[ib](d);null===b||b.Ec(d,c+k)});return{parent:b,children:d}}
function Sf(a,b){a.ca()[n]()[E](function(c){a[ib](c);b.ma(c)});a.ma(b)}function Tf(a){L(1==a.xa());var b=a.mb(0);L(1==b.xa());Rf(a);Sf(b,a);return b}function Uf(a,b,c){L(1==a.xa());var d=a.mb(0);L(1<d.xa());var g=d.ca()[n]();if(!g[$a](function(a){return b(a)}))return a;Rf(a);g[E](function(g,l){if(b(g)){var p=c(a);d.ie(l);p.ma(g);d.Ec(p,l)}});return d}function Vf(a,b,c,d){var g=a[Bb]();null!==g&&(a=g.ca()[Za](a),g.ie(a),g.Ec(c,a));b.ca()[n]()[E](function(a){b[ib](a);d.ma(a)});return c}
function Qf(a,b,c){function d(a){b(a)&&g[w](a);null!=c&&c(a)||a.ca()[E](d)}var g=[];d(a);return g}function Wf(a,b){var c=b||function(a){return a[C]()+"\n"},d="";a.Cc(function(a){for(var b=0;b<a.Fj();b++)d+="-";d+=c(a)});return d};function Xf(a){De[r](this);this.ac=a;this.eb=!1}K(Xf,De);H=Xf[t];H.Rb=function(){return Of(this,function(a){if(a instanceof Xf){var b=new Xf(a.ac);b.eb=a.eb;b.vf(a.Y());return b}return a.Rb()}[D](this))};H.nb=function(a){var b=a||[];this.Cc(function(a){a!=this&&a.nb(b)}[D](this));a=O(b);return Nd(a)};H.ke=function(a){this.eb!=a&&(this.eb=a,this.ac="and"==this.ac?"or":"and",this.ca()[E](function(b){return b.ke(a)}))};H.eval=function(a){var b=this.ca().map(function(b){return b.eval(a)});return this.Ci(b)};
H.Ci=function(a){return"and"==this.ac?ne(a):oe(a)};f(H,function(){return"combined_pred_"+this.ac[C]()});function Yf(){this[cb]()}var Zf=aa[t][Wa],$f=aa[t][sb];H=Yf[t];H.set=function(a,b){this.ud(a);var c=!this.Vd(a);this.h[a]=b;if("__proto__"==a||!ag&&!Zf[r](this.h,a)){delete this.h[a];var d=hc(this.Mb,a);if(c=0>d)d=this.Mb[B];this.Mb[d]=a;this.sf[d]=b}c&&this.aa++};H.get=function(a,b){this.ud(a);if(this.Vd(a))return this.h[a];var c=hc(this.Mb,a);return 0<=c?this.sf[c]:b};
va(H,function(a){this.ud(a);if(this.Vd(a))return this.aa--,delete this.h[a],!0;a=hc(this.Mb,a);return 0<=a?(this.aa--,mc(this.Mb,a),mc(this.sf,a),!0):!1});H.addAll=function(a){ic(a.Va(),function(b){this.set(b,a.get(b))},this)};H.yc=function(){return!this.aa};H.Ub=G("aa");H.na=function(a){this.ud(a);return this.Vd(a)||0<=hc(this.Mb,a)};H.Va=function(){var a;if(bg)a=oc(aa.keys(this.h));else{a=[];for(var b in this.h)$f[r](this.h,b)&&a[w](b)}pc(a,this.Mb);return a};
H.ha=function(){for(var a=[],b=this.Va(),c=0;c<b[B];c++)a[w](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.Va(),c=0;c<b[B];c++){var d=b[c];a[w]([d,this.get(d)])}return a};ta(H,function(){this.h=ag?aa[lb](null):{};this.Mb=[];this.sf=[];this.aa=0});la(H,function(){var a=new Yf;a.addAll(this);return a});H.Vd=function(a){return"__proto__"==a?!1:ag?a in this.h:$f[r](this.h,a)};H.ud=function(a){L(Sb(a),"key must be a string.")};var ag=!!aa[lb],bg=!!aa.keys;function cg(){this[cb]()}H=cg[t];H.aa=0;ta(H,function(){this.aa=0;this.h=new Yf});la(H,function(){var a=new cg;a.Ih(this);return a});H.add=function(a,b){var c=this.h.get(a);c||this.h.set(a,c=[]);c[w](b);this.aa++};H.Ih=function(a){ic(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.h.get(a))?oc(a):[]};
va(H,function(a,b){var c=this.h.get(a);if(!c)return!1;var d=nc(c,function(a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a});d&&(this.aa--,0==c[B]&&this.h[jb](a));return d});H.yc=function(){return!this.aa};H.Ub=G("aa");H.na=function(a){return this.h.na(a)};H.Va=function(){return this.h.Va()};H.ha=function(){return vc(this.h.ha())};H.getEntries=function(){for(var a=this.Va(),b=[],c=0;c<a[B];c++)for(var d=a[c],g=this.get(d),k=0;k<g[B];k++)b[w]([d,g[k]]);return b};function dg(a,b,c){De[r](this);this.Na=a;this.Ca=b;this.J=c;this.df=null;this.Fd=ue.Ld().Le(this.Na.V(),this.J)}K(dg,De);H=dg[t];H.Rb=function(){var a=new dg(this.Na,this.Ca,this.J);a.vf(this.Y());return a};H.nb=function(a){return null!=a?(a[w](this.Na),a[w](this.Ca),a):[this.Na,this.Ca]};H.reverse=function(){var a=this.J;switch(this.J){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new dg(this.Ca,this.Na,a)};
H.eval=function(a){var b=a[A][Ga](function(a){var b=a.S(this.Na);a=a.S(this.Ca);return this.Fd(b,a)},this);return new je(b,a.U())};f(H,function(){return"join_pred("+this.Na.l()+", "+this.Ca.l()+")"});H.Mf=function(a){return-1!=a.U()[Za](this.Na.K().qa())};H.Qh=function(a){return-1!=a.U()[Za](this.Ca.K().qa())};H.eg=function(a,b){var c=null,d=null;this.Mf(a)?(this.Of(a,b),c=a,d=b):(this.Of(b,a),c=b,d=a);return[c,d]};
H.Of=function(a,b){L(this.Mf(a),"Mismatch between join predicate left operand and right relation.");L(this.Qh(b),"Mismatch between join predicate right operand and right relation.")};H.Ii=function(a){var b={};a.nb()[E](function(a){b[a[u]()]=null});return b};H.$f=function(a,b){null===this.df&&(this.df=this.Ii(this.Ca.K()));var c=new qe(new dd(-1,this.df),!1);return se(a,b,c,[this.Ca.K().qa()])};
H.Wi=function(a,b,c){var d=[a,b];c||(d=this.eg(a,b));a=d[0];b=d[1];for(var d=[],g=a.U(),k=b.U(),l=0;l<a[A][B];l++){var p=!1,y=a[A][l].S(this.Na);if(null!==y)for(var Da=0;Da<b[A][B];Da++)if(this.Fd(y,b[A][Da].S(this.Ca))){var p=!0,eb=se(a[A][l],g,b[A][Da],k);d[w](eb)}c&&!p&&d[w](this.$f(a[A][l],g))}a=a.U()[Ra](b.U());return new je(d,a)};
H.Vi=function(a,b,c){var d=[a,b];c||(d=this.eg(a,b));a=d[0];b=d[1];var d=a,g=b,k=this.Na,l=this.Ca;if(c||a[A][B]>b[A][B])d=b,g=a,k=this.Ca,l=this.Na;var p=new cg,y=[];d[A][E](function(a){var b=ha(a.S(k));p.add(b,a)});var Da=d.U(),eb=g.U();g[A][E](function(a){var b=a.S(l),d=ha(b);null!==b&&p.na(d)?p.get(d)[E](function(b){b=se(a,eb,b,Da);y[w](b)}):c&&y[w](this.$f(a,eb))}[D](this));a=a.U()[Ra](b.U());return new je(y,a)};function eg(a,b,c){return null===b?new Fe(a,b,c):Lb(b.l)?new dg(a,b,c):new Fe(a,b,c)};var fg={};I("lf.schema.DataStoreType",fg,void 0);fg.INDEXED_DB=0;fg.MEMORY=1;fg.LOCAL_STORAGE=2;fg.FIREBASE=3;fg.WEB_SQL=4;fg.OBSERVABLE_STORE=5;function gg(a,b,c,d){this.od=a;ja(this,b);this.bd=c;this.f=d}gg[t].l=function(){return this.od+"."+this[q]};gg[t].zg=function(){return this.f[$a](function(a){return a.fa.ad()})};function S(a,b,c,d){this.w=a;this.ja=c;this.F=b;this.ce=d;this.jb=null}I("lf.schema.Table",S,void 0);na(S[t],G("w"));na(S[t],S[t][u]);S[t].cb=G("jb");
S[t].qa=function(){return this.jb||this.w};S[t].Gc=function(a){var b=new this.constructor(this.w);b.jb=a;b.bl=this.bl;return b};S[t].as=S[t].Gc;S[t].createRow=S[t].Hb;S[t].deserializeRow=S[t].rc;S[t].Ea=G("ja");S[t].getIndices=S[t].Ea;S[t].nb=G("F");S[t].getColumns=S[t].nb;S[t].getConstraint=S[t].Ib;S[t].Kb=G("ce");S[t].persistentIndex=S[t].Kb;S[t].Vb=function(){return this.w+".#"};function T(a,b){wa(this,a);this.Pb=b;this.jb=null}H=T[t];na(H,function(){return this.Pb+"("+this[kb][u]()+")"});H.l=function(){return this.Pb+"("+this[kb].l()+")"};H.K=function(){return this[kb].K()};f(H,function(){return this.l()});H.V=function(){return this[kb].V()};H.cb=G("jb");H.Ea=function(){return[]};H.La=Jb(null);H.ad=Jb(!1);H.Gc=function(a){this.jb=a;return this};T[t].as=T[t].Gc;T[t].lg=function(){for(var a=[this],b=this;b instanceof T;)a[w](b[kb]),b=b[kb];return a};
function hg(a){this.jb=a||null;this.N=new S("#UnknownTable",[],[],!1)}H=hg[t];na(H,Jb("*"));H.l=function(){return this[u]()};f(H,function(){return this.l()});H.K=G("N");H.V=Jb(4);H.cb=G("jb");H.Ea=function(){return[]};H.La=Jb(null);H.ad=Jb(!1);I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);function ig(a){return new T(a||new hg,"COUNT")}I("lf.fn.count",ig,void 0);function jg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",jg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);function U(a,b){Be[r](this,"","");this.cj=b;this.Vg=a}K(U,Be);H=U[t];ma(H,function(a,b){switch(this.cj){case 1:return this.Yi(a,b);case 0:return this.Xi(a,b);default:return this.$i(a,b)}});f(H,Jb("dummy_node"));H.pd=function(){return this[C]()};H.Nf=function(a){L(-1==this.Vg||a[B]==this.Vg)};H.$i=function(a,b){return new M(J(function(c){c(this.ga(a,[],b))},this))};H.Yi=function(a,b){return this.mb(0)[Pa](a,b)[x](J(function(c){this.Nf(c);return this.ga(a,c,b)},this))};
H.Xi=function(a,b){var c=this.ca().map(function(c){return c[Pa](a,b)});return Xc(c)[x](J(function(c){var g=[];c[E](function(a){for(var b=0;b<a[B];++b)g[w](a[b])});this.Nf(g);return this.ga(a,g,b)},this))};function kg(a){U[r](this,-1,1);this.Jf=a}K(kg,U);f(kg[t],function(){return"aggregation("+this.Jf.map(function(a){return a.l()})[C]()+")"});kg[t].ga=function(a,b){b[E](function(a){(new lg(a,this.Jf)).ci()},this);return b};function lg(a,b){this.Ha=a;this.F=b}lg[t].ci=function(){this.F[E](function(a){a=a.lg()[gb]();for(var b=1;b<a[B];b++){var c=a[b],d=c.lg()[n](-1)[0],g=this.Ij(c);if(g.yg(c))break;d=mg(c.Pb,g,d);this.Ha.ph(c,d)}},this)};
lg[t].Ij=function(a){return a[kb]instanceof T?this.Ha.wc(a[kb]):this.Ha};function mg(a,b,c){var d=null;switch(a){case "MIN":d=ng(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=ng(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=og(b,c);break;case "COUNT":d=pg(b,c);break;case "SUM":d=qg(b,c);break;case "AVG":a=pg(b,c);0<a&&(d=qg(b,c)/a);break;case "GEOMEAN":d=rg(b,c);break;default:d=sg(b,c)}return d}
function ng(a,b,c){return a[A][Ka](function(a,g){var k=g.S(b);return null===k?a:null===a?k:c(a,k)},null)}function pg(a,b){return b instanceof hg?a[A][B]:a[A][Ka](function(a,d){return a+(Pb(d.S(b))?0:1)},0)}function qg(a,b){return ng(a,b,function(a,b){return b+a})}function sg(a,b){var c=[];a[A][E](function(a){a=a.S(b);null===a||c[w](a)});return 0==c[B]?null:od[xb](null,c)}
function rg(a,b){var c=0,d=a[A][Ka](function(a,d){var l=d.S(b);if(0==l||null===l)return a;c++;return a+ba.log(l)},0);return 0==c?null:ba.pow(ba.E,d/c)}function og(a,b){var c=N();a[A][E](function(a){var g=a.S(b);c.set(g,a)});return new je(yd(c),a.U())};function tg(a,b){this.Da=a;this.sa=b}tg[t].pb=G("Da");tg[t].da=G("sa");function V(){Be[r](this,"","")}K(V,Be);function ug(a,b){V[r](this);ia(this,a);ua(this,b)}K(ug,V);function vg(a,b){ug[r](this,a,b)}K(vg,ug);function wg(a){V[r](this);ia(this,a)}K(wg,V);f(wg[t],function(){return"delete("+this[h][u]()+")"});function xg(a,b){V[r](this);ia(this,a);this.Cf=b}K(xg,V);f(xg[t],function(){var a=[];this.Cf&&(a=this.Cf.map(function(a){return a.I[u]()},this));return"update("+this[h][u]()+", ["+a[m](",")+"])"});
function yg(a){V[r](this);this.Ba=a}K(yg,V);f(yg[t],function(){return"select("+this.Ba[C]()+")"});function zg(a){V[r](this);ia(this,a)}K(zg,V);f(zg[t],function(){var a="table_access("+this[h][u]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});function Ag(){V[r](this)}K(Ag,V);f(Ag[t],Jb("cross_product"));function Bg(a,b){V[r](this);this.f=a;this.Wb=b}K(Bg,V);
f(Bg[t],function(){var a="project("+this.f[C]();if(null!==this.Wb)var b=this.Wb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Cg(a){V[r](this);this.L=a}K(Cg,V);f(Cg[t],function(){return"order_by("+Je(this.L)+")"});function Dg(a){V[r](this);this.f=a}K(Dg,V);f(Dg[t],function(){return"aggregation("+this.f[C]()+")"});function Eg(a){V[r](this);this.f=a}K(Eg,V);f(Eg[t],function(){return"group_by("+this.f[C]()+")"});function Fg(a){V[r](this);this.W=a}K(Fg,V);
f(Fg[t],function(){return"limit("+this.W+")"});function Gg(a){V[r](this);this.M=a}K(Gg,V);f(Gg[t],function(){return"skip("+this.M+")"});function Hg(a,b){V[r](this);this.Ba=a;this.Ig=b}K(Hg,V);f(Hg[t],function(){return"join(type: "+(this.Ig?"outer":"inner")+", "+this.Ba[C]()+")"});function Ig(){};function Jg(){}K(Jg,Ig);Jg[t].Eb=function(a){this.$=a;this.bb(this.$);return this.$};Jg[t].bb=function(a){if(a instanceof yg){L(1==a.xa(),"SelectNode must have exactly one child.");var b=this.Pf(a.Ba),b=this.Ki(b);Vf(a,a,b[0],b[1]);a==this.$&&(this.$=b[0]);a=b[0]}a.ca()[E](function(a){this.bb(a)},this)};Jg[t].Pf=function(a){if(0==a.xa()||"and"!=a.ac)return[a];var b=a.ca()[n]().map(function(b){a[ib](b);return this.Pf(b)},this);return vc(b)};
Jg[t].Ki=function(a){var b=null,c=null;a.map(function(a,g){var k=new yg(a);0==g?b=k:c.ma(k);c=k},this);return[b,c]};function Kg(){}K(Kg,Ig);Kg[t].Eb=function(a){this.$=a;this.bb(this.$);return this.$};Kg[t].bb=function(a){if(a instanceof Ag)for(;2<a.xa();){for(var b=new Ag,c=0;2>c;c++){var d=a.ie(0);b.ma(d)}a.Ec(b,0)}a.ca()[E](function(a){this.bb(a)},this)};function Lg(){U[r](this,2,0)}K(Lg,U);f(Lg[t],Jb("cross_product"));Lg[t].ga=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.U(),l=d.U(),p=0;p<c[A][B];p++)for(var y=0;y<d[A][B];y++){var Da=se(c[A][p],k,d[A][y],l);g[w](Da)}c=c.U()[Ra](d.U());return[new je(g,c)]};function Mg(a,b){Me[r](this,a,b);this.Za=a.m(Gd);this.Jb=a.m(Hd)}K(Mg,Me);Ea(Mg[t],Jb(2));Mg[t].gf=function(a){0==this.V()?this.Jk(a):this.ld()};Mg[t].Jk=function(a){this.ge[E](function(b,c){b instanceof Ie&&this.Jb.Dh(b,a[c])},this)};Mg[t].ld=function(){var a=this.Jb.Re(this.da());0!=a[B]&&(a=new Ne(this[Va],a),this.Za.gc(a))};function Ng(a){Ge[r](this,a)}K(Ng,Ge);Ng[t].da=function(){var a=O();a.add(this.c);this.fa[zb]().kg(this.c[u]())[E](a.add[D](a));return a};la(Ng[t],function(){var a=new Ng(this.fa);a.Bd(this);a.c=this.c;return a});Aa(Ng[t],function(a){Ng.Nb[D][r](this,a);this.ve(a);return this});function Og(a){Ge[r](this,a)}K(Og,Ge);Og[t].da=function(){var a=O();a.add(this.Ga);var b=this.fa[zb]();b.Pj(this.Ga[u]())[E](a.add[D](a));this.lc&&b.kg(this.Ga[u]())[E](a.add[D](a));return a};la(Og[t],function(){var a=new Og(this.fa);a.Bd(this);a.Ga=this.Ga;this[db]&&ua(a,this[db]instanceof te?this[db]:this[db][n]());a.lc=this.lc;a.mc=this.mc;return a});
Aa(Og[t],function(a){Og.Nb[D][r](this,a);this.mc&&ua(this,this.mc instanceof te?a[this.mc.La()]:this.mc.map(function(b){return b instanceof te?a[b.La()]:b}));return this});function Pg(a){Ge[r](this,a)}K(Pg,Ge);Pg[t].da=function(){var a=O();a.add(this[h]);var b=this.set.map(function(a){return a.I.l()}),c=this.fa[zb]();c.Qj(b)[E](a.add[D](a));c.Ej(b)[E](a.add[D](a));return a};la(Pg[t],function(){var a=new Pg(this.fa);a.Bd(this);ia(a,this[h]);a.set=this.set?this.set[n]():this.set;return a});Aa(Pg[t],function(a){Pg.Nb[D][r](this,a);this.set[E](function(b){-1!=b.vd&&pa(b,a[b.vd])});this.ve(a);return this});function Qg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+hd(b)+"'";default:return"'"+b[C]()+"'"}}function Rg(a,b){var c=a.lc?"INSERT OR REPLACE":"INSERT",d=a.Ga.nb(),c=c+(" INTO "+a.Ga[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[db].map(function(a){var k=d.map(function(c){var d=a.s()[c[u]()];return b?null!=d?"#":"NULL":Qg(c.V(),d)});return c+k[m](", ")+");"})[m]("\n")}
function Sg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Tg(a,b,c,d){return a instanceof te?"?"+a.La()[C]():d?null!=a?"#":"NULL":"match"==b?"'"+a[C]()+"'":"in"==b?"("+a.map(function(a){return Qg(c,a)})[m](", ")+")":"between"==b?Qg(c,a[0])+" AND "+Qg(c,a[1]):Qg(c,a)[C]()}
function Ug(a,b){return a.ca().map(function(a){return"("+Vg(a,b)+")"})[m]("and"==a.ac?" AND ":" OR ")}function Wg(a){return[a.Na.l(),Sg(a.J),a.Ca.l()][m](" ")}function Vg(a,b){if(a instanceof Fe){var c=a.I.l(),d=Sg(a.J),g=Tg(a[v],a.J,a.I.V(),b);return"="==d&&"NULL"==g?[c,"IS NULL"][m](" "):"<>"==d&&"NULL"==g?[c,"IS NOT NULL"][m](" "):[c,d,g][m](" ")}if(a instanceof Xf)return Ug(a,b);if(a instanceof dg)return Wg(a);throw new P(357,typeof a);}function Xg(a,b){var c=Vg(a,b);return c?" WHERE "+c:""}
function Yg(a,b){var c="UPDATE "+a[h][u]()+" SET ",c=c+a.set.map(function(a){var b=a.I.l()+" = ";return-1!=a.vd?b+"?"+a.vd[C]():b+Qg(a.I.V(),a[v])[C]()})[m](", ");a.B&&(c+=Xg(a.B,b));return c+";"}
function Zg(a,b){var c="*";a.f[B]&&(c=a.f.map(function(a){return a.cb()?a.l()+" AS "+a.cb():a.l()})[m](", "));c="SELECT "+c+" FROM ";null!=a.Cb&&0!=a.Cb[F]?c+=$g(a,b):(c+=a.c.map(ah)[m](", "),a.B&&(c+=Xg(a.B,b)));if(a.L)var d=a.L.map(function(a){return a.I.l()+(0==a.sb?" DESC":" ASC")})[m](", "),c=c+(" ORDER BY "+d);a.ia&&(d=a.ia.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.W&&(c+=" LIMIT "+a.W[C]());a.M&&(c+=" SKIP "+a.M[C]());return c+";"}
function ah(a){return a.qa()!=a[u]()?a[u]()+" AS "+a.qa():a[u]()}function $g(a,b){for(var c=Qf(a.B,function(a){return a instanceof dg}),d=c.map(Wg),g=ah(a.c[0]),k=1;k<a.c[B];k++)var l=ah(a.c[k]),g=a.Cb.has(c[d[B]-k].Y())?g+(" LEFT OUTER JOIN "+l):g+(" INNER JOIN "+l),g=g+(" ON ("+d[d[B]-k]+")");c=a.B.mb(0);c instanceof dg||(g+=" WHERE "+Vg(c,b));return g}
function bh(a,b){var c=b||!1,d=a.rg();if(d instanceof Og)return Rg(d,c);if(d instanceof Ng){var g="DELETE FROM "+d.c[u]();d.B&&(g+=Xg(d.B,c));return g+";"}if(d instanceof Pg)return Yg(d,c);if(d instanceof Ie)return Zg(d,c);throw new P(358,typeof d);};function ch(a,b){this.global=a;this.Xk=a.m(Fd);this.Za=a.m(Gd);this.a=b}I("lf.query.BaseBuilder",ch,void 0);ma(ch[t],function(){try{this.kb()}catch(a){return Uc(a)}return new M(function(a,c){var d=new Mg(this[Va],[this.Zc()]);this.Za.gc(d)[x](function(c){a(c[0].Ne())},c)},this)});ma(ch[t],ch[t][Pa]);ch[t].ig=function(){var a=J(function(a){return a.pd(this.a)+"\n"},this);return Wf(this.Oe().pb(),a)};ch[t].explain=ch[t].ig;Aa(ch[t],function(a){this.a[D](a);return this});Aa(ch[t],ch[t][D]);
ch[t].wl=function(a){return bh(this,a)};ch[t].toSql=ch[t].wl;H=ch[t];H.kb=Hb();H.rg=function(){return this.a.clone()};H.Od=G("a");H.Oe=function(){null==this.ah&&(this.ah=this.Xk.Rj(this.a));return this.ah};H.Zc=function(){return{context:this.rg(),kf:this.Oe()}};H.Nj=function(){return{context:this.Od(),kf:this.Oe()}};function dh(a){ch[r](this,a,new Ng(a.m(Id)))}K(dh,ch);I("lf.query.DeleteBuilder",dh,void 0);dh[t].c=function(a){this.Uh();this.a.c=a;return this};dh[t].from=dh[t].c;dh[t].B=function(a){this.te();this.a.B=a;return this};dh[t].where=dh[t].B;dh[t].Uh=function(){if(null!=this.a.c)throw new P(515);};dh[t].te=function(){if(null!=this.a.B)throw new P(516);};dh[t].kb=function(){dh.Nb.kb[r](this);if(null==this.a.c)throw new P(517);};function eh(a,b){ch[r](this,a,new Og(a.m(Id)));this.a.lc=b||!1}K(eh,ch);I("lf.query.InsertBuilder",eh,void 0);eh[t].kb=function(){eh.Nb.kb[r](this);var a=this.a;if(null==a.Ga||null==a[db])throw new P(518);if(a.lc&&null===a.Ga.Ib().Qd())throw new P(519);};eh[t].Ga=function(a){this.Vh();this.a.Ga=a;return this};eh[t].into=eh[t].Ga;ua(eh[t],function(a){this.Wh();a instanceof te||a[$a](function(a){return a instanceof te})?this.a.mc=a:ua(this.a,a);return this});ua(eh[t],eh[t][db]);
eh[t].Vh=function(){if(null!=this.a.Ga)throw new P(520);};eh[t].Wh=function(){if(null!=this.a[db])throw new P(521);};function fh(a){return gh("and",e[t][n][r](arguments))}I("lf.op.and",fh,void 0);I("lf.op.or",function(a){return gh("or",e[t][n][r](arguments))},void 0);function gh(a,b){var c=new Xf(a);b[E](function(a){c.ma(a)});return c}I("lf.op.not",function(a){a.ke(!0);return a},void 0);function W(a,b){ch[r](this,a,new Ie(a.m(Id)));this.jg=this.oe=!1;this.a.f=b;this.li();this.ji()}K(W,ch);I("lf.query.SelectBuilder",W,void 0);H=W[t];H.kb=function(){W.Nb.kb[r](this);var a=this.a;if(null==a.c)throw new P(522);if(Lb(a.Zb)&&!Lb(a.W)||Lb(a.jc)&&!Lb(a.M))throw new P(523);this.xi()};H.li=function(){var a=this.a.f[Ga](function(a){return a instanceof T&&"DISTINCT"==a.Pb},this);if(0!=a[B]&&(1!=a[B]||1!=this.a.f[B]))throw new P(524);};H.xi=function(){null!=this.a.ia?this.pi():this.wi()};
H.pi=function(){var a=this.a.f[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.ia[B]||0==this.a.f[B])b=!0;else{var c=this.a.ia.map(function(a){return a.l()});(b=a[$a](function(a){return-1==c[Za](a)}))||(b=this.a.ia[$a](function(a){a=a.V();return 6==a||0==a}))}if(b)throw new P(525);};
H.wi=function(){var a=this.a.f[$a](function(a){return a instanceof T},this),b=this.a.f[$a](function(a){return!(a instanceof T)},this)||0==this.a.f[B];if(a&&b)throw new P(526);};H.ji=function(){this.a.f[E](function(a){if(a instanceof T&&!hh(a.Pb,a.V()))throw new P(527,a.l());},this)};H.c=function(a){if(this.jg)throw new P(515);this.jg=!0;null==this.a.c&&(this.a.c=[]);this.a.c[w][xb](this.a.c,e[t][n][r](arguments));return this};W[t].from=W[t].c;
W[t].B=function(a){if(this.oe)throw new P(516);this.oe=!0;this.ue(a);return this};W[t].where=W[t].B;W[t].ue=function(a){null!=this.a.B&&(a=fh(a,this.a.B));this.a.B=a};W[t].rk=function(a,b){if(null==this.a.c)throw new P(542);if(this.oe)throw new P(547);this.a.c[w](a);this.ue(b);return this};W[t].innerJoin=W[t].rk;
W[t].yk=function(a,b){if(!(b instanceof dg))throw new P(541);if(null==this.a.c)throw new P(542);if(this.oe)throw new P(547);this.a.c[w](a);null==this.a.Cb&&(this.a.Cb=O());var c=b;a.qa()!=b.Ca.K().qa()&&(c=b[gb]());this.a.Cb.add(c.Y());this.ue(c);return this};W[t].leftOuterJoin=W[t].yk;W[t].W=function(a){if(null!=(this.a.W||this.a.Zb))throw new P(528);if(a instanceof te)this.a.Zb=a;else{if(0>a)throw new P(531);this.a.W=a}return this};W[t].limit=W[t].W;
W[t].M=function(a){if(null!=(this.a.M||this.a.jc))throw new P(529);if(a instanceof te)this.a.jc=a;else{if(0>a)throw new P(531);this.a.M=a}return this};W[t].skip=W[t].M;W[t].L=function(a,b){null==this.a.L&&(this.a.L=[]);this.a.L[w]({I:a,sb:null!=b?b:1});return this};W[t].orderBy=W[t].L;W[t].ia=function(a){if(null!=this.a.ia)throw new P(530);null==this.a.ia&&(this.a.ia=[]);this.a.ia[w][xb](this.a.ia,e[t][n][r](arguments));return this};W[t].groupBy=W[t].ia;
function hh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(W[t],function(){var a=new W(this[Va],this.a.f);a.a=this.a.clone();a.a.Jc=null;return a});la(W[t],W[t].clone);function ih(a,b){ch[r](this,a,new Pg(a.m(Id)));ia(this.a,b)}K(ih,ch);I("lf.query.UpdateBuilder",ih,void 0);ih[t].set=function(a,b){var c={vd:b instanceof te?b.La():-1,I:a,value:b};null!=this.a.set?this.a.set[w](c):this.a.set=[c];return this};ih[t].set=ih[t].set;ih[t].B=function(a){this.te();this.a.B=a;return this};ih[t].where=ih[t].B;ih[t].te=function(){if(null!=this.a.B)throw new P(516);};
ih[t].kb=function(){ih.Nb.kb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[$a](function(a){return a[v]instanceof te}))throw new P(501);};function jh(a){this.a=a;this.Da=null}jh[t].vc=function(){null===this.Da&&(this.Da=this.Id());return this.Da};function kh(a){jh[r](this,a)}K(kh,jh);kh[t].Id=function(){return this.a.lc?new vg(this.a.Ga,this.a[db]):new ug(this.a.Ga,this.a[db])};function lh(a){jh[r](this,a)}K(lh,jh);lh[t].Id=function(){var a=new xg(this.a[h],this.a.set),b=null!=this.a.B?new yg(this.a.B.Rb()):null,c=new zg(this.a[h]);null===b?a.ma(c):(b.ma(c),a.ma(b));return a};function mh(a,b,c){this.Da=a;this.mf=b;this.fc=c}mh[t].vc=function(){this.fc[E](function(a){this.Da=a.Eb(this.Da,this.mf)},this);return this.Da};function nh(a,b){jh[r](this,a);this.fc=b}K(nh,jh);nh[t].Id=function(){var a=new wg(this.a.c),b=null!=this.a.B?new yg(this.a.B.Rb()):null,c=new zg(this.a.c);null===b?a.ma(c):(b.ma(c),a.ma(b));return(new mh(a,this.a,this.fc)).vc()};function oh(){}K(oh,Ig);oh[t].Eb=function(a,b){this.$=a;this.bb(this.$,b);return this.$};oh[t].bb=function(a,b){if(a instanceof yg&&a.Ba instanceof dg){L(1==a.xa(),"SelectNode must have exactly one child.");var c=a.Ba.Y(),d=a.mb(0);d instanceof Ag&&(c=Lb(b)&&null!=b.Cb&&b.Cb.has(c),c=new Hg(a.Ba,c),Vf(a,d,c,c),a==this.$&&(this.$=c),a=c)}a.ca()[E](function(a){this.bb(a,b)},this)};function ph(){this.re=O()}K(ph,Ig);H=ph[t];H.Xf=function(){this.re[cb]()};H.Eb=function(a){this.Xf();this.$=a;this.bb(this.$);this.Xf();return this.$};H.bb=function(a){if(this.Dg(a)){var b=a.Ba instanceof Fe?this.Wk(a):this.Vk(a);this.re.add(a);b==a&&(b=a.mb(0));null!==b&&(Pb(b[Bb]())&&(this.$=b),this.Dg(b)&&!this.re.has(b)&&this.bb(b))}else a.ca()[E](function(a){this.bb(a)},this)};
H.fe=function(a,b){var c=a;if(this.nl(a))c=Tf(a),this.fe(a,b);else if(this.ml(a)){var d=[],c=Uf(a,b,function(a){a=new yg(a.Ba);d[w](a);return a});d[E](function(a){this.fe(a,b)},this)}return c};H.Wk=function(a){var b=O([a.Ba.I.K().qa()]),c=function(a){return this.fg(a,b)}[D](this);return this.fe(a,c)};H.Vk=function(a){var b=O([a.Ba.Na.K().qa(),a.Ba.Ca.K().qa()]),c=function(a){return this.fg(a,b)}[D](this);return this.fe(a,c)};
H.fg=function(a,b){var c=O();Pf(a)[E](function(a){c.add(a[h].qa())},this);a instanceof zg&&c.add(a[h].qa());return Od(c,b)};H.Dg=function(a){return a instanceof yg&&!(a.Ba instanceof Xf)};H.ml=function(a){a=a.mb(0);return a instanceof Ag||a instanceof Hg};H.nl=function(a){return a.mb(0)instanceof yg};function qh(a,b){jh[r](this,a);this.fc=b;this.fh=this.Qg=this.th=this.Wg=this.Kf=this.xg=this.oh=this.bg=this.vh=null}K(qh,jh);H=qh[t];H.Id=function(){this.vj();var a=this.Ei();return(new mh(a,this.a,this.fc)).vc()};H.vj=function(){this.Bj();this.qj();this.zj();this.wj();this.Aj();this.uj();this.sj();this.pj();this.xj()};
H.Ei=function(){for(var a=[this.Qg,this.th,this.fh,this.Wg,this.Kf,this.xg,this.oh,this.bg],b=null,c=null,d=0;d<a[B];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ma(g),b=d)}this.vh[E](function(c){a[b].ma(c)});return c};H.Bj=function(){this.vh=this.a.c.map(function(a){return new zg(a)},this)};H.qj=function(){2<=this.a.c[B]&&(this.bg=new Ag)};H.zj=function(){this.oh=null!=this.a.B?new yg(this.a.B.Rb()):null};H.wj=function(){this.a.L&&(this.Wg=new Cg(this.a.L))};
H.uj=function(){null!=this.a.W&&(this.Qg=new Fg(this.a.W))};H.Aj=function(){null!=this.a.M&&0<this.a.M&&(this.th=new Gg(this.a.M))};H.sj=function(){null!=this.a.ia&&(this.xg=new Eg(this.a.ia))};H.pj=function(){var a=this.a.f[Ga](function(a){return a instanceof T});null!=this.a.L&&this.a.L[E](function(b){b.I instanceof T&&a[w](b.I)});0<a[B]&&(this.Kf=new Dg(a))};H.xj=function(){this.fh=new Bg(this.a.f||[],this.a.ia||null)};function rh(){this.tf=[new Jg,new Kg,new ph,new oh];this.Ge=[new Jg]}rh[t].create=function(a){var b=null;if(a instanceof Og)b=new kh(a);else if(a instanceof Ng)b=new nh(a,this.Ge);else if(a instanceof Ie)b=new qh(a,this.tf);else if(a instanceof Pg)b=new lh(a);else throw new P(513);b=b.vc();return new tg(b,a.da())};function sh(a){U[r](this,1,1);this.N=a}K(sh,U);f(sh[t],function(){return"delete("+this.N[u]()+")"});sh[t].ga=function(a,b){var c=b[0][A].map(function(a){return a.wa});a[jb](this.N,c);return[me()]};function th(a,b){U[r](this,0,-1);ia(this,b);this.G=a.m(Ed)}K(th,U);f(th[t],function(){return"get_row_count("+this[h][u]()+")"});th[t].ga=function(){var a=this.G.get(this[h].Vb()),b=new je([],[this[h][u]()]);b.ph(ig(),a.$a().ta);return[b]};function uh(a,b){U[r](this,0,-1);this.ua=a.m(Dd);this.G=a.m(Ed);ia(this,b)}K(uh,U);f(uh[t],function(){var a="table_access("+this[h][u]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});uh[t].ga=function(){var a=this.G.get(this[h].Vb()).ob();return[pe(this.ua.get(a),[this[h].qa()])]};function vh(a){this.j=a}K(vh,Ig);vh[t].Eb=function(a,b){this.$=a;if(!this.ii(b))return a;var c=Qf(a,function(a){return a instanceof uh})[0],d=new th(this.j,c[h]);Vf(c,c,d,d);return this.$};vh[t].ii=function(a){return 1==a.f[B]&&1==a.c[B]&&null==a.B&&null==a.W&&null==a.M&&null==a.ia?(a=a.f[0],a instanceof T&&"COUNT"==a.Pb&&a[kb]instanceof hg):!1};function wh(a){U[r](this,1,1);this.wg=a}K(wh,U);f(wh[t],function(){return"groupBy("+this.wg.map(function(a){return a.l()})[C]()+")"});wh[t].ga=function(a,b){return this.ei(b[0])};wh[t].ei=function(a){var b=new cg,c=function(a){return this.wg.map(function(b){return a.S(b)},this)[m](",")}[D](this);a[A][E](function(a){b.add(c(a),a)},this);return b.Va().map(function(c){return new je(b.get(c),a.U())},this)};function xh(a){L(1<a[B],"Should only be called for cross-column indices.");a=a.map(function(a){return a.ha()});a=td[xb](null,a);var b=[];sd(a,function(a){b[w](a)});return b}function yh(a){this.Xb=a}yh[t].Md=function(){return 1==this.Xb.f[B]?[he()]:[this.Xb.f.map(function(){return he()})]};function zh(a,b){this.Xb=a;this.va=b;this.Ce=this.Og=null}
zh[t].fi=function(a){var b=N();this.va.Va()[E](function(c){var d=this.va.get(c).map(function(b){return a.Pd(b)},this),g=new Mf([he()]);d[E](function(a){a=new Mf(a.vl());g=Nf(g,a)});b.set(c,g)},this);return b};zh[t].hj=function(a){for(var b=this.Xb.f[B]-1;0<=b;b--){var c=this.Xb.f[b];if(null!==(a.get(c.fa[u]())||null))break;a.set(c.fa[u](),new Mf([he()]))}};zh[t].Md=function(a){if(this.Og==a)return this.Ce;var b=this.fi(a);this.hj(b);this.Ce=1==this.Xb.f[B]?yd(b)[0].ha():xh(this.Yj(b));this.Og=a;return this.Ce};
zh[t].Yj=function(a){var b=N(),c=0;this.Xb.f[E](function(a){b.set(a.fa[u](),c);c++});return xd(a)[Ya](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};function Ah(a,b){this.xh=b;this.G=a.m(Ed)}Ah[t].Ai=function(a,b){var c=b[Ga](this.sk,this);if(0==c[B])return null;c=this.tj(c);if(0==c[B])return null;if(1==c[B])return c[0];var d=Number.MAX_VALUE;return c[Ka](function(b,c){var l=c.di(a);return l<d?(d=l,c):b},null)};Ah[t].tj=function(a){return this.xh.Ea().map(function(b){b=new Bh(this.G,b);b.Gi(a);return b},this)[Ga](function(a){return a.wk()})};Ah[t].sk=function(a){return a instanceof Fe&&a.Eg()?a.I.K()==this.xh:!1};
function Bh(a,b){this.G=a;this.Ab=b;this.lk=O(this.Ab.f.map(function(a){return a.fa[u]()}));this.af=this.va=null}H=Bh[t];H.Sj=function(){return null===this.va?[]:this.va.ha()};H.pg=function(){L(this.va);null===this.af&&(this.af=new zh(this.Ab,this.va));return this.af};H.Gi=function(a){a[E](function(a){var c=a.nb()[0][u]();this.lk.has(c)&&(null===this.va&&(this.va=new cg),this.va.add(c,a.Y()))},this)};
H.wk=function(){if(null===this.va)return!1;for(var a=!1,b=!0,c=0;c<this.Ab.f[B];c++){var d=this.va.na(this.Ab.f[c].fa[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.di=function(a){a=this.pg().Md(a);var b=this.G.get(this.Ab.l());return a[Ka](function(a,d){return a+b.Dd(d)},0)};function Ch(a,b,c,d){U[r](this,0,-1);this.G=a.m(Ed);this.index=b;this.Mg=c;this.qf=d;this.td=this.sd=!1}K(Ch,U);f(Ch[t],function(){return"index_range_scan("+this[nb].l()+", ?, "+(this.qf?"reverse":"natural")+(this.sd?", limit:?":"")+(this.td?", skip:?":"")+")"});Ch[t].pd=function(a){var b=this[C](),c=this.Mg.Md(a),b=b[fb]("?",c[C]());this.sd&&(b=b[fb]("?",a.W[C]()));this.td&&(b=b[fb]("?",a.M[C]()));return b};
Ch[t].ga=function(a,b,c){a=this.Mg.Md(c);b=this.G.get(this[nb].l());c=(1==a[B]&&a[0]instanceof fe&&a[0].Hg()?kf(b.get(a[0].c),!1,this.sd?c.W:void 0,this.td?c.M:void 0):b.ob(a,this.qf,this.sd?c.W:void 0,this.td?c.M:void 0)).map(function(a){return new dd(a,{})},this);return[pe(c,[this[nb].od])]};function Dh(a){U[r](this,1,1);this.de=a}K(Dh,U);f(Dh[t],Jb("select(?)"));Dh[t].pd=function(a){a=a.Pd(this.de);return this[C]()[fb]("?",a[C]())};Dh[t].ga=function(a,b,c){return[c.Pd(this.de).eval(b[0])]};function Eh(a,b){U[r](this,1,1);this.ua=a.m(Dd);this.N=b}K(Eh,U);f(Eh[t],function(){return"table_access_by_row_id("+this.N[u]()+")"});Eh[t].ga=function(a,b){return[pe(this.ua.get(b[0].Xj()),[this.N.qa()])]};function Fh(a){this.j=a}K(Fh,Ig);Fh[t].Eb=function(a,b){this.$=a;Qf(a,function(a){return a instanceof uh})[E](function(a){var d=this.nj(a);if(0!=d[B]){var g=(new Ah(this.j,a[h])).Ai(b,d.map(function(a){return b.Pd(a.de)}));if(null!==g){var k=N();d[E](function(a){k.set(a.de,a)},this);this.$=this.gl(g,k,a,b)}}},this);return this.$};Fh[t].nj=function(a){var b=[];for(a=a[Bb]();a;)a instanceof Dh&&b[w](a),a=a[Bb]();return b};
Fh[t].gl=function(a,b,c){a.Sj().map(function(a){return b.get(a)})[E](Rf);a=new Ch(this.j,a.Ab,a.pg(),!1);var d=new Eh(this.j,c[h]);d.ma(a);Vf(c,c,d,a);return a.pb()};function Gh(a,b){U[r](this,0,-1);this.G=a.m(Ed);this.N=b}K(Gh,U);f(Gh[t],function(){return"insert("+this.N[u]()+")"});Gh[t].ga=function(a,b,c){Hh(this.N,c[db],this.G);a.Bb(this.N,c[db]);return[pe(c[db],[this.N[u]()])]};function Hh(a,b,c){a=a.Ib().Qd();if(null===a?0:a.f[0][pb]){var d=a.f[0].fa[u]();c=c.get(a.l()).max();var g=null===c?0:c[0];b[E](function(a){if(0==a.s()[d]||null==a.s()[d])g++,a.s()[d]=g})}}function Ih(a,b){U[r](this,0,-1);this.G=a.m(Ed);this.N=b}K(Ih,U);
f(Ih[t],function(){return"insert_replace("+this.N[u]()+")"});Ih[t].ga=function(a,b,c){Hh(this.N,c[db],this.G);a.Ue(this.N,c[db]);return[pe(c[db],[this.N[u]()])]};function Jh(a,b){U[r](this,2,0);this.ee=a;this.Xe=b;this.Lf="eq"==this.ee.J?0:2}K(Jh,U);var Kh=["hash","index_nested_loop","nested_loop"];f(Jh[t],function(){return"join(type: "+(this.Xe?"outer":"inner")+", impl: "+Kh[this.Lf]+", "+this.ee[C]()+")"});Jh[t].ga=function(a,b){switch(this.Lf){case 0:return[this.ee.Vi(b[0],b[1],this.Xe)];default:return[this.ee.Wi(b[0],b[1],this.Xe)]}};function Lh(){U[r](this,1,1)}K(Lh,U);f(Lh[t],Jb("limit(?)"));Lh[t].pd=function(a){return this[C]()[fb]("?",a.W[C]())};Lh[t].ga=function(a,b,c){b[0][A][z](c.W);return b};function Mh(a){U[r](this,-1,1);this.L=a}K(Mh,U);H=Mh[t];f(H,function(){return"order_by("+Je(this.L)+")"});H.ga=function(a,b){if(1==b[B]){var c=this.jj(b[0]);(null===c?b[0]:b[0].wc(c))[A][Ya](this.Ti[D](this))}else b[Ya](this.cl[D](this));return b};H.jj=function(a){for(var b=null,c=0;c<this.L[B];c++){var d=jg(this.L[c].I);if(a.yg(d)){b=d;break}}return b};
H.O=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.L[k].I,c=this.L[k].sb,d=a(g),g=b(g);while(d==g&&k+1<this.L[B]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.cl=function(a,b){return this.O(function(b){return b instanceof T?a.wc(b):a[A][a[A][B]-1].S(b)},function(a){return a instanceof T?b.wc(a):b[A][b[A][B]-1].S(a)})};H.Ti=function(a,b){return this.O(function(b){return a.S(b)},function(a){return b.S(a)})};function Nh(a,b){this.Ha=a;this.F=b}Nh[t].vg=function(){return this.F[$a](function(a){return a instanceof T},this)?this.fk():this.gk()};
Nh[t].fk=function(){if(1==this.F[B]&&"DISTINCT"==this.F[0].Pb){var a=this.Ha.wc(this.F[0])[A].map(function(a){var b=new qe(new dd(-1,{}),this.Ha.Ye());b.uf(this.F[0],a.S(this.F[0][kb]));return b},this);return new je(a,[])}var b=new qe(new dd(-1,{}),this.Ha.Ye());this.F[E](function(a){var d=a instanceof T?this.Ha.wc(a):this.Ha[A][0].S(a);b.uf(a,d)},this);return new je([b],this.Ha.U())};
Nh[t].gk=function(){var a=e(this.Ha[A][B]),b=this.Ha.Ye();this.Ha[A][E](function(c,d){a[d]=new qe(new dd(c.wa.id(),{}),b);this.F[E](function(b){a[d].uf(b,c.S(b))},this)},this);return new je(a,this.Ha.U())};function Oh(a,b){var c=a.map(function(a){return(new Nh(a,b)).vg()[A][0]});return new je(c,a[0].U())};function Ph(a,b){U[r](this,-1,1);this.f=a;this.Wb=b}K(Ph,U);H=Ph[t];f(H,function(){var a="project("+this.f[C]();if(null!==this.Wb)var b=this.Wb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});H.ga=function(a,b){return 0==b[B]?[me()]:1==b[B]?[this.aj(b[0])]:[this.Zi(b)]};H.hk=function(){return this.f[$a](function(a){return a instanceof T})||null!==this.Wb};H.Zi=function(a){return Oh(a,this.f)};H.aj=function(a){return 0==this.f[B]?a:(new Nh(a,this.f)).vg()};function Qh(){U[r](this,1,1)}K(Qh,U);f(Qh[t],Jb("skip(?)"));Qh[t].pd=function(a){return this[C]()[fb]("?",a.M[C]())};Qh[t].ga=function(a,b,c){return[new je(b[0][A][n](c.M),b[0].U())]};function Rh(){}K(Rh,Ig);Rh[t].Eb=function(a){var b=Qf(a,function(a){return a instanceof Lh||a instanceof Qh});if(0==b[B])return a;var c=this.mj(a);if(null===c)return a;b[E](function(a){this.Gk(a,c)},this);return c.pb()};Rh[t].Gk=function(a,b){a instanceof Lh?b.sd=!0:b.td=!0;return Rf(a).parent};Rh[t].mj=function(a){a=Qf(a,function(a){return a instanceof Ch},function(a){return a instanceof Ph&&a.hk()||a instanceof Mh||1!=a.xa()||a instanceof Dh});return 0<a[B]?a[0]:null};function Sh(a){this.j=a}K(Sh,Ig);Sh[t].Eb=function(a){var b=Th(a);if(null===b)return a;a=this.Th(b);a==b&&(a=this.Sh(b));return a.pb()};Sh[t].Th=function(a){var b=a,c=Uh(a.mb(0));if(null!==c){var d;d=a.L;for(var g=null,k=c[h].Ea(),l=0;l<k[B]&&null===g;l++)g=Vh(k[l],d);d=g;if(null===d)return b;b=new Ch(this.j,d.Ab,new yh(d.Ab),d.Jg);d=new Eh(this.j,c[h]);d.ma(b);Rf(a);b=Vf(c,c,d,b)}return b};
Sh[t].Sh=function(a){var b=a,c=Wh(a.mb(0));if(null!==c){var d=Vh(c[nb],a.L);if(null===d)return b;c.qf=d.Jg;b=Rf(a).parent}return b};function Wh(a){a=Qf(a,function(a){return a instanceof Ch},function(a){return 1!=a.xa()});return 0<a[B]?a[0]:null}function Uh(a){a=Qf(a,function(a){return a instanceof uh},function(a){return 1!=a.xa()});return 0<a[B]?a[0]:null}function Th(a){a=Qf(a,function(a){return a instanceof Mh});return 0<a[B]?a[0]:null}
function Vh(a,b){if(a.f[B]!=b[B]||!b[Ta](function(b,c){return b.I[u]()==a.f[c].fa[u]()}))return null;var c=Xh(b,a);return c[0]||c[1]?{Ab:a,Jg:c[1]}:null}function Xh(a,b){var c=a[Ka](function(a,b){return a<<1|(0==b.sb?0:1)},0),d=b.f[Ka](function(a,b){return a<<1|(0==b.sb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[B],b.f[B]))-1;return[c,d]};function Yh(a,b,c){this.Da=a;this.mf=b;this.fc=c}Yh[t].vc=function(){this.fc[E](function(a){this.Da=a.Eb(this.Da,this.mf)},this);return this.Da};function Zh(a,b){U[r](this,1,1);this.N=a;this.El=b}K(Zh,U);f(Zh[t],function(){return"update("+this.N[u]()+")"});Zh[t].ga=function(a,b){var c=b[0][A].map(function(a){var b=this.N.rc(a.wa.Ia());this.El[E](function(a){b.s()[a.I[u]()]=a[v]},this);return b},this);a[Ua](this.N,c);return[me()]};function $h(a){this.j=a;this.tf=[new Fh(this.j),new Sh(this.j),new Rh,new vh(this.j)];this.Ge=[new Fh(this.j)]}$h[t].create=function(a,b){var c=a.pb();if(c instanceof vg||c instanceof ug)return this.Fe(a,b);if(c instanceof Bg||c instanceof Fg||c instanceof Gg)return this.Fe(a,b,this.tf);if(c instanceof wg||c instanceof xg)return this.Fe(a,b,this.Ge);throw new P(8);};$h[t].Fe=function(a,b,c){var d=Of(a.pb(),J(this.Ck,this));null!=c&&(d=(new Yh(d,b,c)).vc());return new Ke(d,a.da())};
$h[t].Ck=function(a){if(a instanceof Bg)return new Ph(a.f,a.Wb);if(a instanceof Eg)return new wh(a.f);if(a instanceof Dg)return new kg(a.f);if(a instanceof Cg)return new Mh(a.L);if(a instanceof Gg)return new Qh;if(a instanceof Fg)return new Lh;if(a instanceof yg)return new Dh(a.Ba.Y());if(a instanceof Ag)return new Lg;if(a instanceof Hg)return new Jh(a.Ba,a.Ig);if(a instanceof zg)return new uh(this.j,a[h]);if(a instanceof wg)return new sh(a[h]);if(a instanceof xg)return new Zh(a[h],a.Cf);if(a instanceof
vg)return new Ih(this.j,a[h]);if(a instanceof ug)return new Gh(this.j,a[h]);throw new P(514);};function ai(a){this.Ak=new rh;this.Rk=new $h(a)}ai[t].Rj=function(a){var b=this.Ak[lb](a);return this.Rk[lb](b,a)};function bi(){this.Sg=N()}H=bi[t];H.Kd=function(a){var b=this.Sg.get(a[u]())||null;null===b&&(b=new ci,this.Sg.set(a[u](),b));return b};H.ck=function(a,b,c){b[E](function(b){this.Kd(b).bk(a,c)},this)};H.hi=function(a,b,c){var d=!0;b[E](function(b){d&&(d=this.Kd(b).gi(a,c))},this);return d};H.ih=function(a,b,c){var d=this.hi(a,b,c);d&&this.ck(a,b,c);return d};H.releaseLock=function(a,b){b[E](function(b){this.Kd(b).releaseLock(a)},this)};H.Bi=function(a){a[E](function(a){this.Kd(a).gb=null},this)};
function ci(){this.ic=this.Xa=this.gb=this.Pc=null}ci[t].releaseLock=function(a){this.Pc==a&&(this.Pc=null);this.gb==a&&(this.gb=null);null===this.Xa||this.Xa[Xa](a);null===this.ic||this.ic[Xa](a)};ci[t].gi=function(a,b){var c=null===this.Xa||0==this.Xa[F];return 0==b?(null===this.ic||0==this.ic[F])&&c&&null===this.Pc&&null!==this.gb&&this.gb==a:3==b?null===this.Pc&&null===this.gb&&null!==this.Xa&&this.Xa.has(a):1==b?null===this.gb:c&&(null===this.gb||this.gb==a)};
ci[t].bk=function(a,b){0==b?(this.gb=null,this.Pc=a):3==b?(null===this.ic&&(this.ic=O()),this.ic.add(a),null===this.Xa&&(this.Xa=O()),this.Xa[Xa](a)):1==b?(null===this.Xa&&(this.Xa=O()),this.Xa.add(a)):2==b&&(this.gb=a)};function di(){this.dc=new ei;this.cd=new bi}H=di[t];H.gc=function(a){(2>a[Db]()||2>a[Db]())&&this.cd.Bi(a.da());this.dc.Bb(a);this.Ee();return a.Xc().la};H.Ee=function(){for(var a=this.dc.ha(),b=0;b<a[B];b++){var c=a[b],d=!1;if(d=0==c.V()?this.jh(c,1,3):this.jh(c,2,0))this.dc[jb](c),this.bj(c)}};H.jh=function(a,b,c){var d=!1;this.cd.ih(a.Y(),a.da(),b)&&(d=this.cd.ih(a.Y(),a.da(),c));return d};H.bj=function(a){a[Pa]()[x](J(this.Nk,this,a),J(this.Mk,this,a))};
H.Nk=function(a,b){this.cd.releaseLock(a.Y(),a.da());a.Xc()[Fb](b);this.Ee()};H.Mk=function(a,b){this.cd.releaseLock(a.Y(),a.da());a.Xc()[La](b);this.Ee()};function ei(){this.dc=[]}ei[t].Bb=function(a){tc(this.dc,a,function(a,c){var d=a[Db]()-c[Db]();return 0==d?a.Y()-c.Y():d})};ei[t].ha=function(){return this.dc[n]()};va(ei[t],function(a){var b=this.dc;a=hc(b,a);var c;(c=0<=a)&&mc(b,a);return c});function fi(a,b){this.He=ue.Ld();this.nf=a;this.$d=b;this.F=this.Pi()}fi[t].Pi=function(){if(0<this.nf.f[B])return this.nf.f;var a=[];this.nf.c[E](function(b){b.nb()[E](function(b){a[w](b)})});return a};fi[t].O=function(a,b){return this.F[Ta](function(c){return this.He.Le(c.V(),"eq")(a.S(c),b.S(c))},this)};
fi[t].Rh=function(a,b){for(var c=null===a?[]:a[A],d=kd(c,b[A],J(this.O,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[B];l++){var p=c[l];d[k]==p?k++:(p=this.$d[z](k,1),p=gi(l,p,0,this.$d),g[w](p))}d=kd(c,b[A],J(this.O,this),function(a,c){return b[A][c]});for(l=k=0;l<b[A][B];l++)p=b[A][l],d[k]==p?k++:(this.$d[z](l,0,p.wa.s()),p=gi(l,[],1,this.$d),g[w](p));return g};function gi(a,b,c,d){return{Fl:c,index:a,object:d,Hl:b,type:"splice"}};function hi(){this.tc=N()}H=hi[t];H.Pe=function(a){return Ub(a)[C]()};H.qe=function(a,b){var c=this.Pe(a.Od()),d=this.tc.get(c)||null;null===d&&(d=new ii(a),this.tc.set(c,d));d.qe(b)};H.pf=function(a,b){var c=this.Pe(a.Od()),d=this.tc.get(c)||null;L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.pf(b);L(g,"removeObserver: Inconsistent state detected.");d.jk()||this.tc[Xa](c)};
H.Re=function(a){var b=O();a[E](function(a){b.add(a[u]())});var c=[];this.tc[E](function(a){a=a.Zc();a[ob].c[$a](function(a){return b.has(a[u]())})&&c[w](a)});return c};H.Dh=function(a,b){var c=this.Pe(null!=a.Jc?a.Jc:a),c=this.tc.get(c)||null;return null!==c?(c.Dl(b),!0):!1};function ii(a){this.bi=a;this.gd=O();this.Kk=[];this.Pg=null;this.Ri=new fi(a.Od(),this.Kk)}H=ii[t];H.qe=function(a){this.gd.has(a)?dc("Attempted to register observer twice."):this.gd.add(a)};H.pf=function(a){return this.gd[Xa](a)};
H.Zc=function(){return this.bi.Nj()};H.jk=function(){return 0<this.gd[F]};H.Dl=function(a){var b=this.Ri.Rh(this.Pg,a);this.Pg=a;0<b[B]&&this.gd[E](function(a){a(b)})};function ji(a,b){var c=a.m(Id),d=b||{},g=new hf;a.tb(Dd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new af(c);break;case 5:g=new bf(c);break;case 4:g=new gf(a,c,d.webSqlDbSize);break;case 3:g=new Ve(c,d.firebase);k=!0;break;default:g=new Ze(a,c)}a.tb(Cd,g);var l=new Lf;a.tb(Ed,l);return g.Fa(d.onUpgrade)[x](function(){var b=new ai(a);a.tb(Fd,b);b=new di;a.tb(Gd,b);b=new hi;a.tb(Hd,b);return l.Fa(c)})[x](function(){k&&(new Pe(a)).rl();return(new Kf(a)).Fa(c)})};function ki(a,b){this.j=a;this.Gb=a.m(Cd);this.Za=a.m(Gd);this.Jb=a.m(Hd);this.sa=O(b);this.Wa=new ee(this.j,this.sa);this.ec=Yc();this.Qc=Yc();this.Ef=Yc()}H=ki[t];ma(H,function(){this.Ef[Fb]();return this.Qc.la});H.V=Jb(1);H.da=G("sa");H.Xc=G("ec");H.Y=function(){return Ub(this)};Ea(H,Jb(2));H.Hh=function(){this.Za.gc(this);return this.Ef.la};
H.Zh=function(a){a=a.Zc();return a.kf.pb()[Pa](this.Wa,a[ob])[x](function(a){return a[0].Ne()},J(function(a){this.Wa.Lb();var c=new Pc(a[q]);this.Qc[La](c);throw a;},this))};H.pa=function(){this.Gb.Sb(this.V(),this.Wa).pa()[x](J(function(){this.ld();this.Qc[Fb]()},this),J(function(a){this.Wa.Lb();this.Qc[La](a)},this));return this.ec.la};H.Lb=function(){this.Wa.Lb();this.Qc[Fb]();return this.ec.la};H.ld=function(){var a=this.Jb.Re(this.sa);0!=a[B]&&(a=new Ne(this.j,a),this.Za.gc(a))};function li(a){this.j=a;this.Za=a.m(Gd);this.qd=null;this.Ja=0;0==mi[F]&&this.nk()}I("lf.proc.Transaction",li,void 0);var mi=N();li[t].nk=function(){mi.set(0,O([1,4]));mi.set(1,O([2]));mi.set(2,O([3,5,6]));mi.set(3,O([2,7]));mi.set(4,O([7]));mi.set(5,O([7]));mi.set(6,O([7]))};li[t].Qa=function(a){var b=mi.get(this.Ja)||null;if(null===b||!b.has(a))throw new P(107,this.Ja,a);this.Ja=a};
ma(li[t],function(a){this.Qa(4);var b=[];try{a[E](function(a){a.kb();b[w](a.Zc())},this)}catch(c){return this.Qa(7),Uc(c)}a=new Mg(this.j,b);return this.Za.gc(a)[x](J(function(a){this.Qa(7);return a.map(function(a){return a.Ne()})},this),J(function(a){this.Qa(7);throw a;},this))});ma(li[t],li[t][Pa]);li[t].$h=function(a){this.Qa(1);this.qd=new ki(this.j,a);return this.qd.Hh()[x](J(function(){this.Qa(2)},this))};li[t].begin=li[t].$h;
li[t].Yh=function(a){this.Qa(3);return this.qd.Zh(a)[x](J(function(a){this.Qa(2);return a},this),J(function(a){this.Qa(7);throw a;},this))};li[t].attach=li[t].Yh;li[t].pa=function(){this.Qa(5);return this.qd.pa()[x](J(function(){this.Qa(7)},this))};li[t].commit=li[t].pa;li[t].Lb=function(){this.Qa(6);return this.qd.Lb()[x](J(function(){this.Qa(7)},this))};li[t].rollback=li[t].Lb;function X(a){this.j=a;this.o=a.m(Id);this.Te=!1}I("lf.proc.Database",X,void 0);X[t].Fa=function(a){this.j.tb(Id,this.o);return ji(this.j,a)[x](J(function(){this.Te=!0;return this},this))};X[t].init=X[t].Fa;X[t].zb=G("o");X[t].getSchema=X[t].zb;X[t].pc=function(){if(!this.Te)throw new P(2);};X[t].select=function(a){this.pc();return new W(this.j,1!=arguments[B]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].Bb=function(){this.pc();return new eh(this.j)};X[t].insert=X[t].Bb;
X[t].Ue=function(){this.pc();return new eh(this.j,!0)};X[t].insertOrReplace=X[t].Ue;qa(X[t],function(a){this.pc();return new ih(this.j,a)});qa(X[t],X[t][Ua]);ra(X[t],function(){this.pc();return new dh(this.j)});X[t]["delete"]=X[t][Xa];X[t].observe=function(a,b){this.j.m(Hd).qe(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.j.m(Hd).pf(a,b)};X[t].unobserve=X[t].unobserve;X[t].Ni=function(){this.pc();return new li(this.j)};X[t].createTransaction=X[t].Ni;
oa(X[t],function(){try{this.j.m(Cd)[Qa]()}catch(a){}this.j[cb]();this.Te=!1});oa(X[t],X[t][Qa]);function Y(a,b,c,d,g,k){this.N=a;this.w=b;this.Lg=c;this.Gg=d;this.Ch=g;this.jb=k||null}I("lf.schema.BaseColumn",Y,void 0);H=Y[t];na(H,G("w"));H.l=function(){return this.N.qa()+"."+this.w};f(H,function(){return this.l()});H.K=G("N");H.V=G("Ch");Y[t].getType=Y[t].V;Y[t].cb=G("jb");Y[t].Ea=function(){null==this.ja&&(this.ja=[],this.K().Ea()[E](function(a){-1!=a.f.map(function(a){return a.fa[u]()})[Za](this.w)&&this.ja[w](a)},this));return this.ja};
Y[t].La=function(){if(!Lb(this.ea)){var a=this.Ea()[Ga](function(a){return 1!=a.f[B]?!1:a.f[0].fa[u]()==this[u]()},this);this.ea=0<a[B]?a[0]:null}return this.ea};Y[t].ad=G("Gg");Y[t].isNullable=Y[t].ad;Y[t].bd=G("Lg");Y[t].Ua=function(a){return eg(this,a,"eq")};Y[t].eq=Y[t].Ua;Y[t].Tg=function(a){return eg(this,a,"neq")};Y[t].neq=Y[t].Tg;Y[t].bf=function(a){return eg(this,a,"lt")};Y[t].lt=Y[t].bf;Y[t].Bk=function(a){return eg(this,a,"lte")};Y[t].lte=Y[t].Bk;Y[t].dk=function(a){return eg(this,a,"gt")};
Y[t].gt=Y[t].dk;Y[t].ek=function(a){return eg(this,a,"gte")};Y[t].gte=Y[t].ek;Y[t].match=function(a){return eg(this,a,"match")};Y[t].match=Y[t].match;Y[t].ai=function(a,b){return eg(this,[a,b],"between")};Y[t].between=Y[t].ai;Y[t].kk=function(a){return eg(this,a,"in")};Y[t]["in"]=Y[t].kk;Y[t].vk=function(){return this.Ua(null)};Y[t].isNull=Y[t].vk;Y[t].uk=function(){return this.Tg(null)};Y[t].isNotNull=Y[t].uk;Y[t].Gc=function(a){return new Y(this.N,this.w,this.Lg,this.Gg,this.Ch,a)};Y[t].as=Y[t].Gc;function ni(){this.je=N()}var oi;ta(ni[t],function(){this.je[cb]()});ta(ni[t],ni[t][cb]);ni[t].tb=function(a,b){this.je.set(a[C](),b);return b};ni[t].registerService=ni[t].tb;ni[t].m=function(a){var b=this.je.get(a[C]())||null;if(null===b)throw new P(7,a[C]());return b};ni[t].getService=ni[t].m;ni[t].$e=function(a){return this.je.has(a[C]())};ni[t].isRegistered=ni[t].$e;function pi(a){this.o=a;this.of=N();this.$g=N();this.Yf=N();this.g=N();this.Be=N();this.qk()}H=pi[t];H.qk=function(){this.o.ab()[E](function(a){var b=O();a.Ib().Me()[E](function(c){var d=this.of.get(c.fb)||[];d[w](c);this.of.set(c.fb,d);b.add(this.o[h](c.fb));(d=this.g.get(c.fb))||(d=O());d.add(a);this.g.set(c.fb,d);this.Yf.set(a[u]()+"."+c.Qb,c.fb);c=c.fb+"."+c.hd;d=this.Be.get(c)||[];d[w](a[u]());this.Be.set(c,d)},this);0!=b[F]&&this.$g.set(a[u](),b)},this)};
H.Uj=function(a){return this.of.get(a)||null};H.hg=function(a,b){var c=b.get(a);return c?Nd(c):[]};H.Pj=function(a){return this.hg(a,this.$g)};H.Qj=function(a){var b=O();a[E](function(a){(a=this.Yf.get(a))&&b.add(a)},this);return Nd(b).map(function(a){return this.o[h](a)},this)};H.kg=function(a){return this.hg(a,this.g)};H.Ej=function(a){var b=O();a[E](function(a){(a=this.Be.get(a))&&a[E](function(a){b.add(a)})},this);return Nd(b).map(function(a){return this.o[h](a)},this)};function qi(a,b,c){this.Uk=a;this.Ik=b;this.oj=c}I("lf.schema.Constraint",qi,void 0);qi[t].Qd=G("Uk");qi[t].getPrimaryKey=qi[t].Qd;qi[t].Mj=G("Ik");qi[t].Me=G("oj");qi[t].getForeignKeys=qi[t].Me;function ri(a,b){var c=a.ref[Ja](".");if(2!=c[B])throw new P(540,b);this.Qb=a.local;this.fb=c[0];this.hd=c[1];ja(this,b);this.action=a.action;this.timing=a[Ma]};function Z(a){this.qc(a);this.He=ue.Ld();this.w=a;this.F=N();this.Af=O();this.rd=O();this.fd=O();this.Aa=null;this.ja=N();this.ce=!1;this.Hd=[]}I("lf.schema.TableBuilder",Z,void 0);function si(a){ja(this,a[q]);this.sb=a.order;this.autoIncrement=a[pb]}var ti=O([0,6]);H=Z[t];H.qc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);};H.Ic=function(a){if(a==this.w)throw new P(546,a);if(this.F.has(a)||this.ja.has(a)||this.rd.has(a))throw new P(503,this.w+"."+a);};
H.vi=function(a){var b=!1;a[E](function(a){var d=this.F.get(a[q]);b=b||a[pb];if(a[pb]&&3!=d)throw new P(504);},this);if(b&&1<a[B])throw new P(505);};H.ti=function(){if(null!==this.Aa){var a=this.ja.get(this.Aa).map(function(a){return a[q]}),b=0;if(this.Hd[$a](function(c,d){b=d;return-1!=a[Za](c.Qb)},this))throw new P(543,this.Hd[b][q]);}};
H.si=function(){if(null!==this.Aa){var a=function(a){return a[q]},b=ga[yb](this.ja.get(this.Aa).map(a));this.ja[E](function(c,d){if(d!=this.Aa){var g=c.map(a);if(ga[yb](g)==b)throw new P(544,this.w+"."+d);}},this)}};H.ui=function(){null===this.Aa||this.ja.get(this.Aa)[E](function(a){if(this.fd.has(a[q]))throw new P(545,this.w+"."+a[q]);},this)};H.Jh=function(a,b){this.qc(a);this.Ic(a);this.F.set(a,b);ti.has(b)&&this.If([a]);return this};Z[t].addColumn=Z[t].Jh;
Z[t].Lh=function(a,b){var c=this.w;this.Aa="pk"+(c[0].toUpperCase()+c.substring(1));this.qc(this.Aa);this.Ic(this.Aa);c=this.Zd(a,!0,void 0,b);this.vi(c);1==c[B]&&this.Af.add(c[0][q]);this.rd.add(this.Aa);this.ja.set(this.Aa,c);return this};Z[t].addPrimaryKey=Z[t].Lh;
Z[t].Kh=function(a,b){this.qc(a);this.Ic(a);var c=new ri(b,this.w+"."+a);Lb(c.action)||(c.action=0);Lb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new P(506);if(!this.F.has(c.Qb))throw new P(540,a);this.Hd[w](c);this.Hf(a,[c.Qb],!1);return this};Z[t].addForeignKey=Z[t].Kh;Z[t].Mh=function(a,b){this.qc(a);this.Ic(a);var c=this.Zd(b,!0);this.Uf(a,c);1==c[B]&&this.Af.add(c[0][q]);this.ja.set(a,c);this.rd.add(a);return this};Z[t].addUnique=Z[t].Mh;
Z[t].If=function(a){a=this.Zd(a,!1);this.ri(a);a[E](function(a){this.fd.add(a[q])},this);return this};Z[t].addNullable=Z[t].If;Z[t].ri=function(a){xd(this.ja)[E](function(b){var c=O();this.ja.get(b)[E](function(a){c.add(a[q])});var d=a[Ga](function(a){return c.has(a[q])});if(1<c[F]&&0<d[B])throw new P(507,b,d[m](","));},this)};Z[t].Hf=function(a,b,c,d){this.qc(a);this.Ic(a);b=this.Zd(b,!0,d);this.Uf(a,b);c&&this.rd.add(a);this.ja.set(a,b);return this};Z[t].addIndex=Z[t].Hf;
Z[t].Uf=function(a,b){if(1<b[B]){var c=b[Ga](function(a){return this.fd.has(a[q])},this);if(0<c[B])throw new P(507,a,c[m](","));}};Z[t].Kb=Ib("ce");Z[t].persistentIndex=Z[t].Kb;Z[t].zb=function(){this.ti();this.si();this.ui();return new (this.Cj())};Z[t].getSchema=Z[t].zb;Z[t].Vc=G("Hd");
Z[t].Zd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new si({name:a,order:null!=c?c:1,autoIncrement:d||!1})}):a.map(function(a){return new si(a)});g[E](function(a){if(!this.F.has(a[q]))throw new P(508,this.w,a[q]);if(b){var c=this.F.get(a[q]);if(0==c||6==c)throw new P(509,this.w,a[q]);}},this);return g};
Z[t].Cj=function(){function a(){function a(c){return b.ja.get(c).map(function(a){return{fa:this[a[q]],sb:a.sb,autoIncrement:a[pb]}},this)}var d=xd(b.F).map(function(a){this[a]=new Y(this,a,b.Af.has(a),b.fd.has(a),b.F.get(a));return this[a]},this),g=xd(b.ja).map(function(d){return new gg(b.w,d,b.rd.has(d),a[r](this,d))},this);S[r](this,b.w,d,g,b.ce);var k=null===b.Aa?null:new gg(b.w,b.Aa,!0,a[r](this,b.Aa)),l=d[Ga](function(a){return!b.fd.has(a[u]())});this.Fi=new qi(k,l,b.Vc());this.mh=b.yj(d,g)}
var b=this;K(a,S);a[t].Hb=function(a){return new this.mh(ed++,a)};a[t].createRow=a[t].Hb;a[t].rc=function(a){var b={};this.nb()[E](function(g){var k=g[u]();g=g.V();var l=a[v][k];if(0==g)if(g=l,null!=g&&""!=g){0!=g[B]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[B]/2),p=new Uint8Array(l),y=0,Da=0;y<g[B];y+=2)p[Da++]=da(g.substr(y,2),16);g=l}else g=null;else g=2==g?null!=l?new Date(l):null:l;b[k]=g},this);return new this.mh(a.id,b)};a[t].deserializeRow=a[t].rc;a[t].Ib=G("Fi");a[t].getConstraint=a[t].Ib;
return a};
Z[t].yj=function(a,b){function c(c,d){this.F=a;this.ja=b;dd[r](this,c,d)}K(c,dd);c[t].cg=function(){var a={};this.F[E](function(b){a[b[u]()]=b.ad()?null:ae[b.V()]});return a};c[t].zh=function(){var a={};this.F[E](function(b){var c=b[u]();b=b.V();var d=this.s()[c];a[c]=0==b?null!=d?hd(d):null:2==b?null!=d?d[Eb]():null:6==b?null!=d?d:null:d},this);return a};var d=J(function(a){var b=this.F.get(a[u]()),c=this.He.Kj(b);return function(b){return c(b[a[u]()])}},this),g=J(function(a){var b=a.map(function(a){return d(a.fa)});return function(a){return b.map(function(b){return b(a)})}},
this),k={};b[E](function(a){var b=a.l();a=1==a.f[B]?d(a.f[0].fa):g(a.f);k[b]=a});c[t].Yb=function(a){return-1!=a[Za]("#")?this.id():k[sb](a)?k[a](this.s()):null};return c};function ui(a,b){this.o=new vi(a,b);this.wb=N();this.Rc=!1}I("lf.schema.Builder",ui,void 0);H=ui[t];H.oi=function(a){a.Vc()[E](function(b){var c=b.fb;if(!this.wb.has(c))throw new P(536,b[q]);var c=this.wb.get(c).zb(),d=b.hd;if(!c[sb](d))throw new P(537,b[q]);if(a.zb()[b.Qb].V()!=c[d].V())throw new P(538,b[q]);if(!c[d].bd())throw new P(539,b[q]);},this)};H.ni=function(a){a.Vc()[E](function(a){this.wb.get(a.fb).Vc()[E](function(c){if(c.Qb==a.hd)throw new P(534,a[q]);},this)},this)};
H.ij=function(){this.Rc||(this.wb[E](function(a){this.oi(a);this.o.ll(a.zb())},this),yd(this.wb)[E](this.ni,this),this.mi(),this.wb[cb](),this.Rc=!0)};H.Sf=function(a,b){a.Df||(a.Df=!0,a.ff=!0,a.gg[E](function(c){c=b.get(c);if(!c.Df)this.Sf(c,b);else if(c.ff&&a!=c)throw new P(533);},this));a.ff=!1};H.mi=function(){var a=N();this.o.H[E](function(b,c){a.set(c,new wi(c))},this);this.wb[E](function(b,c){b.Vc()[E](function(b){a.get(b.fb).gg.add(c)})});yd(a)[E](function(b){this.Sf(b,a)},this)};
function wi(a){this.ff=this.Df=!1;this.gg=O();this.od=a}H.zb=function(){this.Rc||this.ij();return this.o};ui[t].getSchema=ui[t].zb;ui[t].og=function(){var a=new Bd("ns_"+this.o[q]()),b;oi||(oi=new ni);b=oi;var c=null;b.$e(a)?c=b.m(a):(c=new ni,b.tb(a,c));return c};ui[t].getGlobal=ui[t].og;ui[t].connect=function(a){var b=this.og();b.$e(Id)||b.tb(Id,this.zb());return(new X(b)).Fa(a)};ui[t].connect=ui[t].connect;
ui[t].Li=function(a){if(this.wb.has(a))throw new P(503,a);if(this.Rc)throw new P(535);this.wb.set(a,new Z(a));return this.wb.get(a)};ui[t].createTable=ui[t].Li;ui[t].wf=function(a){if(this.Rc)throw new P(535);this.o.wf(a);return this};ui[t].setPragma=ui[t].wf;function vi(a,b){this.w=a;this.Sa=b;this.H=N();this.eh={Si:!1}}I("lf.schema.DatabaseSchema",vi,void 0);ja(vi[t],G("w"));ja(vi[t],vi[t][q]);vi[t].version=G("Sa");vi[t].version=vi[t][ub];vi[t].ab=function(){return yd(this.H)};vi[t].tables=vi[t].ab;
ia(vi[t],function(a){if(!this.H.has(a))throw new P(101,a);return this.H.get(a)});ia(vi[t],vi[t][h]);vi[t].info=function(){this.Ag||(this.Ag=new pi(this));return this.Ag};vi[t].ll=function(a){this.H.set(a[u](),a)};vi[t].dh=G("eh");vi[t].pragma=vi[t].dh;vi[t].wf=Ib("eh");I("lf.schema.create",function(a,b){return new ui(a,b)},void 0);}.bind(window))()
