(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function wa(a,b){return a.child=b}function xa(a,b){return a.next=b}function ya(a,b){return a.onerror=b}function za(a,b){return a.length=b}function g(a,b){return a.toString=b}function Aa(a,b){return a.bind=b}function Ba(a,b){return a.subscribe=b}function Ca(a,b){return a.forEach=b}function Da(a,b){return a.getPriority=b}
var Ea="openCursor",Fa="filter",Ga="once",Ha="objectStoreNames",Ia="split",k="table",Ja="reduce",m="join",Ka="reject",La="timing",Ma="item",n="slice",Na="target",p="name",r="call",t="prototype",Oa="clone",Pa="exec",u="getName",Qa="close",Ra="concat",v="value",Sa="setImmediate",Ta="every",Ua="update",Wa="global",Xa="propertyIsEnumerable",Ya="delete",Za="sort",$a="indexOf",bb="some",cb="count",db="orderByChild",w="clear",eb="values",fb="replace",gb="reverse",hb="continue",ib="removeChild",jb="remove",
kb="child",lb="create",x="push",z="then",mb="keys",nb="transaction",ob="index",pb="context",A="splice",qb="autoIncrement",rb="next",sb="shift",tb="hasOwnProperty",ub="contains",vb="version",wb="objectStore",xb="offset",yb="apply",zb="stringify",B="entries",C="length",Ab="info",D="toString",Bb="compare",E="bind",Cb="getParent",Db="rows",F="forEach",Eb="getPriority",Fb="getTime",Gb="resolve",Hb="result",G="size";function Ib(){return function(){}}function Jb(a){return function(b){this[a]=b}}
function H(a){return function(){return this[a]}}function Kb(a){return function(){return a}}var I,Lb=this;function Mb(a){return void 0!==a}function Nb(){}
function Ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][D][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Xa]&&!a[Xa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Xa]&&!a[Xa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Pb(a){return null===a}function Qb(a){return null!=a}function Rb(a){var b=Ob(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Tb(a){return"string"==typeof a}function Ub(a){return"function"==Ob(a)}function Vb(a){return a[Wb]||(a[Wb]=++Xb)}var Wb="closure_uid_"+(1E9*ba.random()>>>0),Xb=0;function Yb(a,b,c){return a[r][yb](a[E],arguments)}
function Zb(a,b,c){if(!a)throw fa();if(2<arguments[C]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t].unshift[yb](c,d);return a[yb](b,c)}}return function(){return a[yb](b,arguments)}}function $b(a,b,c){$b=Function[t][E]&&-1!=Function[t][E][D]()[$a]("native code")?Yb:Zb;return $b[yb](null,arguments)}function ac(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[x][yb](b,arguments);return a[yb](this,b)}}
function J(a,b){var c=a[Ia]("."),d=Lb;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var f;c[C]&&(f=c[sb]());)!c[C]&&Mb(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}function K(a,b){function c(){}c.prototype=b[t];a.Fb=b[t];a.prototype=new c;a[t].constructor=a;a.tg=function(a,c,h){for(var l=e(arguments[C]-2),q=2;q<arguments[C];q++)l[q-2]=arguments[q];return b[t][c][yb](a,l)}};function bc(a){if(fa.captureStackTrace)fa.captureStackTrace(this,bc);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(bc,fa);ja(bc[t],"CustomError");function cc(a,b,c){this.Wf=c;this.Df=a;this.kg=b;this.qd=0;this.md=null}cc[t].get=function(){var a;0<this.qd?(this.qd--,a=this.md,this.md=a[rb],xa(a,null)):a=this.Df();return a};cc[t].put=function(a){this.kg(a);this.qd<this.Wf&&(this.qd++,xa(a,this.md),this.md=a)};var dc=e[t],ec=dc[$a]?function(a,b,c){return dc[$a][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[C]+c):c;if(Tb(a))return Tb(b)&&1==b[C]?a[$a](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},fc=dc[F]?function(a,b,c){dc[F][r](a,b,c)}:function(a,b,c){for(var d=a[C],f=Tb(a)?a[Ia](""):a,h=0;h<d;h++)h in f&&b[r](c,f[h],h,a)},gc=dc.map?function(a,b,c){return dc.map[r](a,b,c)}:function(a,b,c){for(var d=a[C],f=e(d),h=Tb(a)?a[Ia](""):a,l=0;l<d;l++)l in h&&(f[l]=b[r](c,h[l],l,a));return f},
hc=dc[Ja]?function(a,b,c,d){d&&(b=$b(b,d));return dc[Ja][r](a,b,c)}:function(a,b,c,d){var f=c;fc(a,function(c,l){f=b[r](d,f,c,l,a)});return f},ic=dc[bb]?function(a,b,c){return dc[bb][r](a,b,c)}:function(a,b,c){for(var d=a[C],f=Tb(a)?a[Ia](""):a,h=0;h<d;h++)if(h in f&&b[r](c,f[h],h,a))return!0;return!1};function jc(a,b){dc[A][r](a,b,1)}function kc(a,b){var c;a:{c=a[C];for(var d=Tb(a)?a[Ia](""):a,f=0;f<c;f++)if(f in d&&b[r](void 0,d[f],f,a)){c=f;break a}c=-1}return 0<=c?(jc(a,c),!0):!1}
function lc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function mc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Rb(d)){var f=a[C]||0,h=d[C]||0;za(a,f+h);for(var l=0;l<h;l++)a[f+l]=d[l]}else a[x](d)}}function nc(a,b,c,d){dc[A][yb](a,oc(arguments,1))}function oc(a,b,c){return 2>=arguments[C]?dc[n][r](a,b):dc[n][r](a,b,c)}function pc(a,b){return a>b?1:a<b?-1:0}
function qc(a,b,c){var d;c=c||pc;for(var f=0,h=a[C];f<h;){var l=f+h>>1,q;q=c(b,a[l]);0<q?f=l+1:(h=l,d=!q)}d=d?f:~f;0>d&&nc(a,-(d+1),0,b)}function rc(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b}function sc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Ob(d))for(var f=0;f<d[C];f+=8192)for(var h=sc[yb](null,oc(d,f,f+8192)),l=0;l<h[C];l++)b[x](h[l]);else b[x](d)}return b};function tc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};var uc;a:{var vc=Lb.navigator;if(vc){var wc=vc.userAgent;if(wc){uc=wc;break a}}uc=""};function xc(a){Lb.setTimeout(function(){throw a;},0)}var yc;
function zc(){var a=Lb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==uc[$a]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Qa]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=$b(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==uc[$a]("Trident")&&-1==uc[$a]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Mb(c[rb])){c=c[rb];var a=c.we;c.we=null;a()}};return function(a){xa(d,{we:a});d=d[rb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ib](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Lb.setTimeout(a,0)}};function Ac(){this.yd=this.kc=null}var Cc=new cc(function(){return new Bc},function(a){a.reset()},100);Ac[t].add=function(a,b){var c=Cc.get();c.set(a,b);this.yd?xa(this.yd,c):this.kc=c;this.yd=c};va(Ac[t],function(){var a=null;this.kc&&(a=this.kc,this.kc=this.kc[rb],this.kc||(this.yd=null),xa(a,null));return a});function Bc(){this.scope=this.Kd=null;xa(this,null)}Bc[t].set=function(a,b){this.Kd=a;this.scope=b;xa(this,null)};Bc[t].reset=function(){this.scope=this.Kd=null;xa(this,null)};function Dc(a,b){Ec||Fc();Gc||(Ec(),Gc=!0);Hc.add(a,b)}var Ec;function Fc(){if(Lb.Promise&&Lb.Promise[Gb]){var a=Lb.Promise[Gb](void 0);Ec=function(){a[z](Ic)}}else Ec=function(){var a=Ic;if(!Ub(Lb[Sa])||Lb.Window&&Lb.Window[t]&&Lb.Window[t][Sa]==Lb[Sa])yc||(yc=zc()),yc(a);else Lb[Sa](a)}}var Gc=!1,Hc=new Ac;function Ic(){for(var a=null;a=Hc[jb]();){try{a.Kd[r](a.scope)}catch(b){xc(b)}Cc.put(a)}Gc=!1};function L(a,b){this.Sa=0;this.af=void 0;this.Zc=this.ac=this.D=null;this.ld=this.Jd=!1;if(a!=Nb)try{var c=this;a[r](b,function(a){Jc(c,2,a)},function(a){Jc(c,3,a)})}catch(d){Jc(this,3,d)}}function Kc(){wa(this,null);this.context=this.ic=this.Ic=null;xa(this,null);this.Ad=!1}Kc[t].reset=function(){wa(this,null);this.context=this.ic=this.Ic=null;this.Ad=!1};var Lc=new cc(function(){return new Kc},function(a){a.reset()},100);function Mc(a,b,c){var d=Lc.get();d.Ic=a;d.ic=b;d.context=c;return d}
function Nc(a){if(a instanceof L)return a;var b=new L(Nb);Jc(b,2,a);return b}function Oc(a){return new L(function(b,c){c(a)})}function Pc(a,b,c){Qc(a,b,c,null)||Dc(ac(b,a))}function Rc(a){return new L(function(b,c){var d=a[C],f=[];if(d)for(var h=function(a,c){d--;f[a]=c;0==d&&b(f)},l=function(a){c(a)},q=0,y;q<a[C];q++)y=a[q],Pc(y,ac(h,q),l);else b(f)})}function Sc(){var a,b,c=new L(function(c,f){a=c;b=f});return new Tc(c,a,b)}L[t].then=function(a,b,c){return Uc(this,Ub(a)?a:null,Ub(b)?b:null,c)};
L[t].then=L[t][z];L[t].$goog_Thenable=!0;function Vc(a,b,c){Uc(a,null,b,c)}function Wc(a,b){a.ac||2!=a.Sa&&3!=a.Sa||Xc(a);a.Zc?xa(a.Zc,b):a.ac=b;a.Zc=b}function Uc(a,b,c,d){var f=Mc(null,null,null);wa(f,new L(function(a,l){f.Ic=b?function(c){try{var f=b[r](d,c);a(f)}catch(O){l(O)}}:a;f.ic=c?function(b){try{var f=c[r](d,b);!Mb(f)&&b instanceof Yc?l(b):a(f)}catch(O){l(O)}}:l}));f[kb].D=a;Wc(a,f);return f[kb]}L[t].pg=function(a){this.Sa=0;Jc(this,2,a)};L[t].qg=function(a){this.Sa=0;Jc(this,3,a)};
function Jc(a,b,c){0==a.Sa&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.Sa=1,Qc(c,a.pg,a.qg,a)||(a.af=c,a.Sa=b,a.D=null,Xc(a),3!=b||c instanceof Yc||Zc(a,c)))}function Qc(a,b,c,d){if(a instanceof L)return Wc(a,Mc(b||Nb,c||null,d)),!0;var f;if(a)try{f=!!a.$goog_Thenable}catch(h){f=!1}else f=!1;if(f)return a[z](b,c,d),!0;f=typeof a;if("object"==f&&null!=a||"function"==f)try{var l=a[z];if(Ub(l))return $c(a,l,b,c,d),!0}catch(q){return c[r](d,q),!0}return!1}
function $c(a,b,c,d,f){function h(a){q||(q=!0,d[r](f,a))}function l(a){q||(q=!0,c[r](f,a))}var q=!1;try{b[r](a,l,h)}catch(y){h(y)}}function Xc(a){a.Jd||(a.Jd=!0,Dc(a.If,a))}function ad(a){var b=null;a.ac&&(b=a.ac,a.ac=b[rb],xa(b,null));a.ac||(a.Zc=null);return b}
L[t].If=function(){for(var a=null;a=ad(this);){var b=this.Sa,c=this.af;if(3==b&&a.ic&&!a.Ad)for(var d=void 0,d=this;d&&d.ld;d=d.D)d.ld=!1;if(a[kb])a[kb].D=null,bd(a,b,c);else try{a.Ad?a.Ic[r](a[pb]):bd(a,b,c)}catch(f){cd[r](null,f)}Lc.put(a)}this.Jd=!1};function bd(a,b,c){2==b?a.Ic[r](a[pb],c):a.ic&&a.ic[r](a[pb],c)}function Zc(a,b){a.ld=!0;Dc(function(){a.ld&&cd[r](null,b)})}var cd=xc;function Yc(a){bc[r](this,a)}K(Yc,bc);ja(Yc[t],"cancel");
function Tc(a,b,c){this.ia=a;this.resolve=b;this.reject=c};/*

 Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function dd(a,b){this.na=a;this.o=b||this.Ae()}var ed=0;I=dd[t];I.id=H("na");I.Ae=function(){return{}};I.kf=H("o");I.Fa=function(){return{id:this.na,value:this.kf()}};I.Ob=function(a){return"#"==a.substr(-1)?this.na:null};function fd(a){return new dd(a.id,a[v])}function gd(a){return new dd(ed++,a||{})}function hd(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};function id(a){this.type=a}function jd(a){dd[r](this,-1,a)}K(jd,dd);function kd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var f=a[C],h=b[C],l=[],q=0;q<f+1;q++)l[q]=[],l[q][0]=0;for(var y=0;y<h+1;y++)l[0][y]=0;for(q=1;q<=f;q++)for(y=1;y<=h;y++)c(a[q-1],b[y-1])?l[q][y]=l[q-1][y-1]+1:l[q][y]=ba.max(l[q-1][y],l[q][y-1]);for(var O=[],q=f,y=h;0<q&&0<y;)c(a[q-1],b[y-1])?(O.unshift(d(q-1,y-1)),q--,y--):l[q-1][y]>l[q][y-1]?q--:y--;return O}function ld(a){return hc(arguments,function(a,c){return a+c},0)}
function md(a){return ld[yb](null,arguments)/arguments[C]}function nd(a){var b=arguments[C];if(2>b)return 0;var c=md[yb](null,arguments);return ld[yb](null,gc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function od(a){return ba.sqrt(nd[yb](null,arguments))};var pd="StopIteration"in Lb?Lb.StopIteration:{message:"StopIteration",stack:""};function qd(){}xa(qd[t],function(){throw pd;});qd[t].lc=function(){return this};function rd(a){if(a instanceof qd)return a;if("function"==typeof a.lc)return a.lc(!1);if(Rb(a)){var b=0,c=new qd;xa(c,function(){for(;;){if(b>=a[C])throw pd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function sd(a,b){if(Rb(a))try{fc(a,b,void 0)}catch(c){if(c!==pd)throw c;}else{a=rd(a);try{for(;;)b[r](void 0,a[rb](),void 0,a)}catch(d){if(d!==pd)throw d;}}}function td(a){if(ic(arguments,function(a){return!a[C]})||!arguments[C])return new qd;var b=new qd,c=arguments,d=rc(c[C]);xa(b,function(){if(d){for(var a=gc(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw pd;});return b};function ud(a,b){this.h={};this.b=[];this.La=this.$=0;var c=arguments[C];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}I=ud[t];I.Lb=H("$");I.fa=function(){vd(this);for(var a=[],b=0;b<this.b[C];b++)a[x](this.h[this.b[b]]);return a};I.Oa=function(){vd(this);return this.b[Ra]()};I.ka=function(a){return wd(this.h,a)};I.gc=function(){return 0==this.$};ta(I,function(){this.h={};za(this.b,0);this.La=this.$=0});
va(I,function(a){return wd(this.h,a)?(delete this.h[a],this.$--,this.La++,this.b[C]>2*this.$&&vd(this),!0):!1});function vd(a){if(a.$!=a.b[C]){for(var b=0,c=0;b<a.b[C];){var d=a.b[b];wd(a.h,d)&&(a.b[c++]=d);b++}za(a.b,c)}if(a.$!=a.b[C]){for(var f={},c=b=0;b<a.b[C];)d=a.b[b],wd(f,d)||(a.b[c++]=d,f[d]=1),b++;za(a.b,c)}}I.get=function(a,b){return wd(this.h,a)?this.h[a]:b};I.set=function(a,b){wd(this.h,a)||(this.$++,this.b[x](a),this.La++);this.h[a]=b};
I.addAll=function(a){var b;if(a instanceof ud)b=a.Oa(),a=a.fa();else{b=[];var c=0,d;for(d in a)b[c++]=d;a=tc(a)}for(c=0;c<b[C];c++)this.set(b[c],a[c])};Ca(I,function(a,b){for(var c=this.Oa(),d=0;d<c[C];d++){var f=c[d],h=this.get(f);a[r](b,h,f,this)}});la(I,function(){return new ud(this)});I.lc=function(a){vd(this);var b=0,c=this.La,d=this,f=new qd;xa(f,function(){if(c!=d.La)throw fa("The map has changed since the iterator was created");if(b>=d.b[C])throw pd;var f=d.b[b++];return a?f:d.h[f]});return f};
function wd(a,b){return aa[t][tb][r](a,b)};/*

 Copyright 2015 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function xd(){this.h=new ud;aa.defineProperty(this,"size",{get:function(){return this.h.Lb()}})}ta(xd[t],function(){this.h[w]()});ta(xd[t],xd[t][w]);ra(xd[t],function(a){return this.h[jb](a)});xd[t]["delete"]=xd[t][Ya];Ca(xd[t],function(a,b){return this.h[F](a,b)});Ca(xd[t],xd[t][F]);xd[t].get=function(a){return this.h.get(a)};xd[t].get=xd[t].get;xd[t].has=function(a){return this.h.ka(a)};xd[t].has=xd[t].has;xd[t].set=function(a,b){return this.h.set(a,b)};xd[t].set=xd[t].set;
function M(){return ca.Map&&ca.Map[t][eb]&&ca.Map[t][F]?new ca.Map:new xd}function yd(a){if(a instanceof xd)return a.h.Oa();var b=0,c=e(a[G]);a[F](function(a,f){c[b++]=f});return c}function zd(a){if(a instanceof xd)return a.h.fa();var b=0,c=e(a[G]);a[F](function(a){c[b++]=a});return c};var Ad={};J("lf.TransactionType",Ad);Ad.READ_ONLY=0;Ad.READ_WRITE=1;function Bd(a,b){this.Pa=a;this.lf=b;this.Y=Sc()}Bd[t].ma=function(){try{Cd(this.Pa)}catch(a){return Oc(a)}return(0==this.lf?this.oc():Dd(this))[z](function(a){this.Pa.ma();return a}[E](this))};function Dd(a){Ed(a);Fd(a);return a.oc()}function Ed(a){a.Pa.ob[F](function(a,c){var d=this.Pa.ba().get(c),d=this.J(d[u](),d.bc[E](d)),f=zd(a.ya).map(function(a){return a.id()});0<f[C]&&Vc(d[jb](f),this.Md,this);f=zd(a.oa).map(function(a){return a[1]})[Ra](zd(a.xa));Vc(d.put(f),this.Md,this)},a)}
function Fd(a){Gd(a.Pa)[F](function(a){var c=this.J(a[u](),fd),d;c.get([-1])[z](function(a){d=a;return c[jb]([])})[z](function(){c.put(d);c.put(a.Fa())},this.Md[E](this))},a)}Bd[t].Md=function(a){this.Y[Ka](a)};function Hd(a){this.lg=a}g(Hd[t],H("lg"));var Id=new Hd("backstore"),Jd=new Hd("cache"),Kd=new Hd("indexstore"),Ld=new Hd("engine"),Md=new Hd("runner"),Nd=new Hd("observerregistry"),Od=new Hd("schema");function Pd(a){if("function"==typeof a.fa)return a.fa();if(Tb(a))return a[Ia]("");if(Rb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[x](a[d]);return b}return tc(a)};function Qd(a){this.h=new ud;a&&this.addAll(a)}function Rd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Vb(a):b.substr(0,1)+a}I=Qd[t];I.Lb=function(){return this.h.Lb()};I.add=function(a){this.h.set(Rd(a),a)};I.addAll=function(a){a=Pd(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};va(I,function(a){return this.h[jb](Rd(a))});ta(I,function(){this.h[w]()});I.gc=function(){return this.h.gc()};I.contains=function(a){return this.h.ka(Rd(a))};I.fa=function(){return this.h.fa()};la(I,function(){return new Qd(this)});
I.lc=function(){return this.h.lc(!1)};function Sd(a){this.Vb=new Qd(a);aa.defineProperty(this,"size",{get:function(){return this.Vb.Lb()}})}Sd[t].add=function(a){this.Vb.add(a)};Sd[t].add=Sd[t].add;ta(Sd[t],function(){this.Vb[w]()});ta(Sd[t],Sd[t][w]);ra(Sd[t],function(a){return this.Vb[jb](a)});Sd[t]["delete"]=Sd[t][Ya];Ca(Sd[t],function(a,b){this.Vb.fa()[F](a,b)});Sd[t].has=function(a){return this.Vb[ub](a)};Sd[t].has=Sd[t].has;function N(a){return ca.Set&&ca.Set[t][eb]&&ca.Set[t][F]?Mb(a)?new ca.Set(a):new ca.Set:new Sd(a)}
function Td(a){if(a instanceof Sd)return a.Vb.fa();var b=0,c=e(a[G]);a[F](function(a){c[b++]=a});return c}function Ud(a,b){if(b[G]>a[G])return!1;var c=!0;b[F](function(b){c=c&&a.has(b)});return c};function Vd(a,b){this.na=a;this.o=b||{}}function Wd(a){var b=N();a[F](function(a){b.add(a>>9)});return Td(b)}Vd[t].W=H("na");function Xd(a,b){b[F](function(a){this.o[a.id()]=a.Fa()},a)}function Yd(a,b){b[F](function(a){delete this.o[a]},a)}Vd[t].Fa=function(){return{id:this.na,value:ga[zb](this.o)}};function Zd(a){return new Vd(a.id,ga.parse(a[v]))};function $d(a,b,c){this.V=a;this.Kb=b;this.bf=c}I=$d[t];I.get=function(a){if(0==a[C])return this.wc();var b=this.Kb;return ae(this,a)[z](function(c){return a.map(function(a){var f=c.get(a>>9);return b(f.o[a])})})};function ae(a,b){var c=M(),d=Sc(),f=Wd(b).map(function(a){return new L(function(b,d){var f;try{f=this.V.get(a)}catch(O){d(O);return}ya(f,d);sa(f,function(a){a=Zd(a[Na][Hb]);c.set(a.W(),a);b()})},this)},a);Rc(f)[z](function(){d[Gb](c)});return d.ia}
I.wc=function(){return new L(function(a,b){var c=[],d;try{d=this.V[Ea]()}catch(f){b(f);return}ya(d,b);sa(d,function(){var b=d[Hb];if(b){var f;f=Zd(b[v]).o;for(var q in f)c[x](this.Kb(f[q]));b[hb]()}else a(c)}[E](this))},this)};I.Rb=function(a){return new L(function(b,c){var d;try{d=a()}catch(f){c(f);return}sa(d,b);ya(d,c)},this)};
I.put=function(a){if(0==a[C])return Nc();var b=M();a[F](function(a){var d;d=a.id()>>9;var f=b.get(d)||null;null===f&&(f=this.bf(this.V[p],d));Xd(f,[a]);b.set(d,f)},this);a=zd(b).map(function(a){return this.Rb(function(){return this.V.put(a.Fa())}[E](this))},this);return Rc(a)};
va(I,function(a){if(0==a[C])return this.Rb(function(){return this.V[w]()}[E](this));var b=M();a[F](function(a){var d=a>>9,f=b.get(d)||null;null===f&&(f=this.bf(this.V[p],d));Yd(f,[a]);b.set(d,f)},this);a=zd(b).map(function(a){return this.Rb(function(){return 0==aa[mb](a.o)[C]?this.V[Ya](a.W()):this.V.put(a.Fa())}[E](this))},this);return Rc(a)});function be(a,b,c){a=a.m(Jd);var d=[c<<9,(c+1<<9)-1];b=a.fb(b,d[0],d[1]);c=new Vd(c);Xd(c,b);return c}function ce(a,b){return new Vd(b)};function de(){};function ee(a){this.ja=a.m(Jd);this.F=a.m(Kd);this.s=a.m(Od)}qa(ee[t],function(a){a[F](function(a){fe(this,a);ge(this,a)},this)});function ge(a,b){var c=b[u]();b.ya[F](function(a,b){this.ja[jb](c,[b])},a);b.xa[F](function(a){this.ja.set(c,[a])},a);b.oa[F](function(a){this.ja.set(c,[a[1]])},a)}function fe(a,b){var c=a.s[k](b[u]());he(b)[F](function(a){ie(this,c,a)},a)}
function ie(a,b,c){var d=[];(a.F.Oc.get(b[u]())||[])[F](function(a){try{je(a,c),d[x](a)}catch(b){throw d[F](function(a){je(a,[c[1],c[0]])},this),b;}},a)}function je(a,b){var c=null===b[1]?void 0:b[1].Ob(a[u]()),d=null===b[0]?void 0:b[0].Ob(a[u]());if(!Mb(d)&&Mb(c))a.add(c,b[1].id());else if(Mb(d)&&Mb(c)){if(null===c||null===d){if(c==d)return}else if(0==a.pc()[Bb](d,c))return;a.add(c,b[1].id());a[jb](d,b[0].id())}else Mb(d)&&!Mb(c)&&a[jb](d,b[0].id())};var ke={};J("lf.ConstraintAction",ke);ke.RESTRICT=0;ke.CASCADE=1;var le={};J("lf.ConstraintTiming",le);le.IMMEDIATE=0;le.DEFERRABLE=1;var me={};J("lf.Order",me);me.DESC=0;me.ASC=1;var ne={};J("lf.Type",ne);ne.ARRAY_BUFFER=0;ne.BOOLEAN=1;ne.DATE_TIME=2;ne.INTEGER=3;ne.NUMBER=4;ne.STRING=5;ne.OBJECT=6;var oe={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};J("lf.type.DEFAULT_VALUES",oe);function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ba.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][D]()[n](0,64)))}K(P,fa);function pe(a){this.F=a.m(Kd);this.s=a.m(Od);this.dd=null}function qe(a,b,c){var d=b.Ab().$f;c[F](function(a){d[F](function(b){if(null==a.o[b[u]()])throw new P(202,b.l());},this)},a)}function re(a,b,c,d){b.Ab().Ld()[F](function(a){a[La]==d&&se(this,a,c)},a)}function se(a,b,c){var d=te(a,b);c[F](function(a){if(ue(a[0],a[1],b[p])&&(a=a[1].o[b.Hb],null!==a&&!d.ka(a)))throw new P(203,b[p]);},a)}
function te(a,b){null===a.dd&&(a.dd=M());var c=a.dd.get(b[p])||null;null===c&&(c=a.s[k](b.$a)[b.Jc].Ha(),c=a.F.get(c.l()),a.dd.set(b[p],c));return c}function ue(a,b,c){return(null===a?null!==b:null===b)||a.Ob(c)!=b.Ob(c)}function ve(a,b,c,d){b=we(a.s[Ab](),b[u]());null!=b&&b[F](function(a){if(a[La]==d){var b=this.F.get(a[p]),l=te(this,a);c[F](function(c){if(ue(c[0],c[1],l[u]())&&b.ka(c[0].o[a.Jc]))throw new P(203,a[p]);},this)}},a)}
function xe(a,b,c,d){0!=c[C]&&(c=c.map(function(a){return[null,a]}),re(a,b,c,d))}function ye(a,b,c,d){0!=c[C]&&(re(a,b,c,d),ve(a,b,c,d))}function ze(a,b,c,d){0!=c[C]&&(c=c.map(function(a){return[a,null]}),ve(a,b,c,d))};function Ae(a){this.xa=M();this.oa=M();this.ya=M();this.u=a}I=Ae[t];na(I,H("u"));I.add=function(a){if(this.ya.has(a.id())){var b=[this.ya.get(a.id()),a];this.oa.set(a.id(),b);this.ya[Ya](a.id())}else this.xa.set(a.id(),a)};I.modify=function(a){var b=a[1],c=a[0].id();this.xa.has(c)?this.xa.set(c,b):(this.oa.has(c)&&(a=[this.oa.get(a[0].id())[0],b]),this.oa.set(c,a))};
ra(I,function(a){if(this.xa.has(a.id()))this.xa[Ya](a.id());else if(this.oa.has(a.id())){var b=this.oa.get(a.id())[0];this.oa[Ya](a.id());this.ya.set(a.id(),b)}else this.ya.set(a.id(),a)});function he(a){var b=[];a.xa[F](function(a){b[x]([null,a])});a.oa[F](function(a){b[x](a)});a.ya[F](function(a){b[x]([a,null])});return b}g(I,function(){return"["+yd(this.xa)[D]()+"], ["+yd(this.oa)[D]()+"], ["+yd(this.ya)[D]()+"]"});
function Be(a){var b=new Ae(a.u);a.xa[F](function(a){b[Ya](a)});a.ya[F](function(a){b.add(a)});a.oa[F](function(a){b.modify([a[1],a[0]])});return b}I.gc=function(){return 0==this.xa[G]&&0==this.ya[G]&&0==this.oa[G]};function Ce(a,b){this.qa=M();b[F](function(a){this.qa.set(a[u](),a)},this);this.ja=a.m(Jd);this.F=a.m(Kd);this.Ma=new pe(a);this.nd=new ee(a);this.ob=M()}function Gd(a){var b=[];yd(a.ob).map(function(a){return this.qa.get(a)},a)[F](function(a){a.Cb()&&(a.za()[F](function(a){b[x](this.F.get(a.l()))},this),b[x](this.F.get(a[u]()+".#")))},a);return b}I=Ce[t];I.ba=H("qa");function De(a){var b=[];a.qa[F](function(a){a.Cb()&&(a.za()[F](function(a){b[x](a.l())}),b[x](a[u]()+".#"))});return b}
I.tb=function(a,b){Ee(this,a);qe(this.Ma,a,b);xe(this.Ma,a,b,0);for(var c=0;c<b[C];c++)Fe(this,a,[null,b[c]])};function Fe(a,b,c){var d=b[u](),f=a.ob.get(d)||new Ae(d);a.ob.set(d,f);try{ie(a.nd,b,c)}catch(h){throw h;}b=c[0];var l=c[1];null===b&&null!==l?(a.ja.set(d,[l]),f.add(l)):null!==b&&null!==l?(a.ja.set(d,[l]),f.modify(c)):null!==b&&null===l&&(a.ja[jb](d,[b.id()]),f[Ya](b))}
qa(I,function(a,b){Ee(this,a);qe(this.Ma,a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.ja.get([d.id()])[0],d];ye(this.Ma,a,[d],0);Fe(this,a,d)}});I.Od=function(a,b){Ee(this,a);qe(this.Ma,a,b);for(var c=0;c<b[C];c++){var d=b[c],f=null,h,l=a.Ab().hd();if(null===l)h=null;else{h=this.Ma;var l=l.l(),q=d.Ob(l);h=h.F.get(l).get(q);h=0==h[C]?null:h[0]}null!=h?(f=this.ja.get([h])[0],d.na=h,ye(this.Ma,a,[[f,d]],0)):xe(this.Ma,a,[d],0);Fe(this,a,[f,d])}};
va(I,function(a,b){Ee(this,a);ze(this.Ma,a,b,0);for(var c=0;c<b[C];c++)Fe(this,a,[b[c],null])});function Cd(a){a.ob[F](function(a){var c=this.qa.get(a[u]());xe(this.Ma,c,zd(a.xa),1);ze(this.Ma,c,zd(a.ya),1);ye(this.Ma,c,zd(a.oa),1)},a)}I.ma=Ib();I.Db=function(){var a=zd(this.ob).map(function(a){return Be(a)});this.nd[Ua](a)};function Ee(a,b){if(!a.qa.has(b[u]()))throw new P(106,b[u]());};function Ge(a,b,c,d){this.c=a;this.w=b;this.aa=null===this.c?!1:c;this.la=null===this.w?!1:d}g(Ge[t],function(){return(this.aa?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.w?"unbound":this.w)+(this.la?")":"]")});function He(a){if(null===a.c&&null===a.w)return[];var b=null,c=null;null===a.c||(b=new Ge(null,a.c,!1,!a.aa));null===a.w||(c=new Ge(a.w,null,!a.la,!1));return[b,c][Fa](function(a){return null!==a})}Ge[t].reverse=function(){return new Ge(this.w,this.c,this.la,this.aa)};
function Ie(a,b){var c=Je(a.c,b.c,!0,a.aa,b.aa);if(0==c)return!0;var d=-1==c?a:b,c=1==c?a:b;return null===d.w||d.w>c.c||d.w==c.c&&!d.la&&!c.aa}function Ke(){return new Ge(null,null,!1,!1)}function Le(a){return null===a.c&&null===a.w}function Me(a){return null!=a.c&&a.c==a.w&&!a.aa&&!a.la}Ge[t].contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.la;return(null===this.c||a>this.c||a==this.c&&!this.aa)&&b};
function Je(a,b,c,d,f){function h(a){return c?a:1==a?-1:1}d=d||!1;f=f||!1;return null===a?null===b?(d?!f:f)?d?h(1):h(-1):0:h(-1):null===b?h(1):a<b?-1:a==b?(d?!f:f)?d?h(1):h(-1):0:1}function Ne(a,b){var c=Je(a.c,b.c,!0,a.aa,b.aa);0==c&&(c=Je(a.w,b.w,!1,a.la,b.la));return c};function Oe(a,b){this.entries=a;this.H=N(b);this.Xa=null}function Q(a){return Td(a.H)}function Pe(a){return a[B].map(function(a){return a.sa.o})}function Qe(a){return a[B].map(function(a){return a.sa.id()})}function Re(a,b){return a.Xa.get(b.l())}var Se=null;function Te(){null===Se&&(Se=new Oe([],[]));return Se}
function Ue(a){if(0==a[C])return Te();for(var b=a[Ja](function(a,b){return a+b[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=M();a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),f=M(),h=0;h<c[C];h++)b[Ta](function(a){return a.has(c[h].id)})&&f.set(c[h].id,c[h]);return new Oe(zd(f),Td(a[0].H))}function Ve(a){if(0==a[C])return Te();var b=M();a[F](function(a){a[B][F](function(a){b.set(a.id,a)})});return new Oe(zd(b),Td(a[0].H))}
function We(a,b){var c=1<b[C],d=a.map(function(a){return new Xe(a,c)});return new Oe(d,b)}function Xe(a,b){this.sa=a;this.id=Ye++;this.Rd=b}var Ye=0;function Ze(a,b){var c=b.Ya();return null!==c&&a.sa.o[tb](c)?a.sa.o[c]:a.Rd?a.sa.o[$e(b.J())][b[u]()]:a.sa.o[b[u]()]}function af(a,b,c){var d=b.Ya();if(null!=d)a.sa.o[d]=c;else if(a.Rd){var d=$e(b.J()),f=a.sa.o[d];null==f&&(f={},a.sa.o[d]=f);f[b[u]()]=c}else a.sa.o[b[u]()]=c}
function bf(a,b,c,d){function f(a,b){if(a.Rd){var c=a.sa.o,d;for(d in c)h[d]=c[d]}else h[b[0]]=a.sa.o}var h={};f(a,b);f(c,d);a=new dd(-1,h);return new Xe(a,!0)};J("lf.bind",function(a){return new cf(a)});function cf(a){this.ca=a}J("lf.Binder",cf);cf[t].Ha=H("ca");function df(){this.Me=ef();var a=ff();this.ec=M();this.ec.set(1,gf());this.ec.set(2,hf());this.ec.set(4,a);this.ec.set(3,a);this.ec.set(5,jf())}df.fd=function(){return df.Ie?df.Ie:df.Ie=new df};function kf(a,b,c){return(a.ec.get(b)||null).get(c)||null}function ef(){function a(a){return a}var b=M();b.set(1,function(a){return null===a?null:a?1:0});b.set(2,function(a){return null===a?null:a[Fb]()});b.set(3,a);b.set(4,a);b.set(5,a);return b}
function gf(){var a=M();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function ff(){var a=gf();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return null===a||null===c?!1:a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c[$a](a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}
function jf(){var a=ff();a.set("match",function(a,c){return null===a||null===c?!1:(new RegExp(c)).test(a)});return a}
function hf(){var a=M();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a[Fb]()>=c[0][Fb]()&&a[Fb]()<=c[1][Fb]()});a.set("eq",function(a,c){return(null===a?-1:a[Fb]())==(null===c?-1:c[Fb]())});a.set("gte",function(a,c){return null===a||null===c?!1:a[Fb]()>=c[Fb]()});a.set("gt",function(a,c){return null===a||null===c?!1:a[Fb]()>c[Fb]()});a.set("in",function(a,c){return c[bb](function(c){return c[Fb]()==a[Fb]()})});a.set("lte",function(a,c){return null===a||null===c?!1:a[Fb]()<=
c[Fb]()});a.set("lt",function(a,c){return null===a||null===c?!1:a[Fb]()<c[Fb]()});a.set("neq",function(a,c){return(null===a?-1:a[Fb]())!=(null===c?-1:c[Fb]())});return a};function mf(a,b){this.Oe=a;this.of=b}mf[t].getKey=H("Oe");la(mf[t],function(){return new mf(this.Oe,this.of)});function nf(a,b){mf[r](this,a,b);this.g=this.D=null}K(nf,mf);var of=[];I=nf[t];la(I,function(){return new nf(this.getKey(),this.of)});I.getParent=H("D");function R(a){return a.g||of}function pf(a){return R(a)[0]||null}function qf(a){for(var b=0;a[Cb]();)b++,a=a[Cb]();return b}I.gb=function(){for(var a=this;a[Cb]();)a=a[Cb]();return a};I.contains=function(a){do a=a[Cb]();while(a&&a!=this);return Boolean(a)};function rf(a,b,c){if(!1!==b[r](c,a)){a=R(a);for(var d=0;d<a[C];d++)rf(a[d],b,c)}}
function sf(a,b){tf(a,b,a.g?a.g[C]:0)}function tf(a,b,c){b.D=a;a.g=a.g||[];nc(a.g,c,0,b)}function uf(a,b){var c=a.g&&a.g[b];return c?(c.D=null,jc(a.g,b),0==a.g[C]&&(a.g=null),c):null}I.removeChild=function(a){return uf(this,ec(R(this),a))};function vf(){nf[r](this,"","");this.na=wf++}K(vf,nf);var wf=0;vf[t].W=H("na");function xf(a,b,c){vf[r](this);this.I=a;pa(this,b);this.N=c;this.cd=kf(df.fd(),this.I.O(),this.N);this.Za=!1;this.$b=b}K(xf,vf);I=xf[t];I.Ib=function(){var a=new xf(this.I,this[v],this.N);a.$b=this.$b;a.wd(this.Za);var b=this.W();a.na=b;return a};I.eb=function(a){return null!=a?(a[x](this.I),a):[this.I]};I.wd=Jb("Za");function yf(a){var b=!1;a[v]instanceof cf||(b="array"==Ob(a[v])?!a[v][bb](function(a){return a instanceof cf}):!0);if(!b)throw new P(501);}
I.eval=function(a){yf(this);if("in"==this.N)return zf(this,a);var b=a[B][Fa](function(a){return this.cd(Ze(a,this.I),this[v])!=this.Za},this);return new Oe(b,Q(a))};Aa(I,function(a){if(this.$b instanceof cf){var b=this.$b.Ha();if(a[C]<=b)throw new P(510);pa(this,a[b])}else"array"==Ob(this.$b)&&pa(this,this.$b.map(function(b){if(b instanceof cf){var d=b.Ha();if(a[C]<=d)throw new P(510);return a[b.Ha()]}return b}))});
function zf(a,b){var c=N(a[v]),d=function(a){return null===a?!1:c.has(a)!=this.Za}[E](a),f=b[B][Fa](function(a){return d(Ze(a,this.I))},a);return new Oe(f,Q(b))}g(I,function(){return"value_pred("+this.I.l()+" "+this.N+(this.Za?"(complement)":"")+" "+this[v]+")"});function Af(a){this.da=a;this.$c=this.va=null}function Bf(a,b){null===a.va&&null!=a.B&&(a.va=Cf(a.B));return a.va.get(b)||null}function Cf(a){var b=M();rf(a,function(a){b.set(a.W(),a)});return b}function Df(a,b){b.B&&(a.B=b.B.Ib());a.$c=b}Aa(Af[t],function(){return this});function Ef(a,b){var c=a.B;null!=c&&rf(c,function(a){a instanceof xf&&a[E](b)})};function Ff(a){Af[r](this,a)}K(Ff,Af);function Gf(a){var b="";a[F](function(c,d){b+=c.I.l()+" ";b+=1==c.jb?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}Ff[t].ba=function(){return N(this.c)};la(Ff[t],function(){var a=new Ff(this.da);Df(a,this);this.f&&(a.f=this.f[n]());this.c&&(a.c=this.c[n]());a.U=this.U;a.L=this.L;this.K&&(a.K=this.K[n]());this.ga&&(a.ga=this.ga[n]());this.Pb&&(a.Pb=this.Pb);this.Xb&&(a.Xb=this.Xb);a.ub=this.ub;return a});
Aa(Ff[t],function(a){Ff.Fb[E][r](this,a);null!=this.Pb&&(this.U=a[this.Pb.Ha()]);null!=this.Xb&&(this.L=a[this.Xb.Ha()]);Ef(this,a);return this});function Hf(a,b){this.wa=a;this.qa=b}Hf[t].gb=H("wa");Hf[t].Ce=Kb("plan description");Hf[t].ba=H("qa");function If(a){var b=N();a[F](function(a){a.ba()[F](b.add[E](b))});return b};function Jf(a,b){this.global=a;this.xb=a.m(Id);this.td=b.map(function(a){return a[pb]});this.Xe=b.map(function(a){return a.be});this.ye=If(this.Xe);this.mf=Kf(this);this.Tb=Sc()}function Kf(a){return a.td[bb](function(a){return!(a instanceof Ff)})?1:0}I=Jf[t];
ma(I,function(){function a(){var h=d[sb]();if(h){var l=f[c[C]];return h.gb()[Pa](b,l)[z](function(b){c[x](b[0]);return a()})}return Nc()}var b=new Ce(this[Wa],this.ye),c=[],d=this.Xe[n](),f=this.td;return a()[z](function(){return this.xb.Jb(this.mf,b).ma()}[E](this))[z](function(){this.Zd(c);return c}[E](this),function(a){b.Db();throw a;})});I.O=H("mf");I.ba=H("ye");I.xc=H("Tb");I.W=function(){return Vb(this)};I.Zd=Ib();function Lf(a,b){Jf[r](this,a,b);this.Bb=a.m(Nd)}K(Lf,Jf);Da(Lf[t],Kb(0));Lf[t].Zd=function(a){this.td[F](function(b,c){Mf(this.Bb,b,a[c])},this)};function Nf(a,b){this.j=a;this.Bb=a.m(Nd);this.Ra=a.m(Md);this.nd=new ee(a);this.ob=b;var c=a.m(Od),d=this.ob.map(function(a){return c[k](a[u]())});this.qa=N(d);this.Tb=Sc()}I=Nf[t];ma(I,function(){this.nd[Ua](this.ob);this.Mc();return Nc()});I.O=Kb(1);I.ba=H("qa");I.xc=H("Tb");I.W=function(){return Vb(this)};Da(I,Kb(1));I.Mc=function(){var a=Of(this.Bb,this.qa);0!=a[C]&&(a=new Lf(this.j,a),Pf(this.Ra,a))};function Qf(a){this.j=a;this.xb=a.m(Id);this.Ra=a.m(Md)}Qf[t].Xd=function(a){a=new Nf(this.j,a);Pf(this.Ra,a)};function S(a,b){this.La=a;this.i=b;this.Ua=M()}J("lf.backstore.FirebaseRawBackStore",S);S[t].jd=H("i");S[t].kd=function(){throw new P(351);};function Rf(a,b){var c=Sc(),d=a;b[C]&&(d=a[kb](b));d[Ga]("value",function(a){c[Gb](a.val())},function(a){c[Ka](a)});return c.ia}function Sf(a,b,c){function d(a){a?f[Ka](a):f[Gb]()}c=c||!1;var f=Sc();c?a.set(b,d):a[Ua](b,d);return f.ia}
S[t].Aa=function(a){return Rf(this.i,"@rev/R")[z](function(a){this.Ja=a;return Rf(this.i,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.Ua.set(d,b[d]),b[d]>c&&(c=b[d]);a.Va()[F](function(a){this.Ua.has(a[u]())||(b[a[u]()]=++c)},this);d=this.i[kb]("@table");return Sf(d,b)}[E](this))};
function Tf(a,b,c){var d=a.Ua.get(b);return null!=d?function(){var a={},b=Sc();this.i[db]("T").equalTo(d)[Ga]("value",function(d){d[F](function(b){var d=c(b.val());a[da(b.key(),10)]=d});b[Gb](a)});return b.ia}[r](a)[z](function(a){a["@rev"]={R:++this.Ja};return Sf(this.i,a)}[E](a)):Nc()}S[t].rc=function(a){return Tf(this,a,Kb(null))[z](function(){this.Ua[Ya](a);return Sf(this.i[kb]("@table/"+a),null,!0)}[E](this))};S[t].dropTable=S[t].rc;
S[t].mc=function(a,b,c){return Tf(this,a,function(a){var f=a.P;f[b]=c;return{R:this.Ja+1,T:a.T,P:f}}[E](this))};S[t].addTableColumn=S[t].mc;S[t].sc=function(a,b){return Tf(this,a,function(a){var d=a.P;delete d[b];return{R:this.Ja+1,T:a.T,P:d}}[E](this))};S[t].dropTableColumn=S[t].sc;S[t].Lc=function(a,b,c){return Tf(this,a,function(a){var f=a.P;f[c]=f[b];delete f[b];return{R:this.Ja+1,T:a.T,P:f}}[E](this))};S[t].renameTableColumn=S[t].Lc;S[t].yb=function(){throw new P(351);};S[t].createRow=S[t].yb;
S[t].Ac=H("La");S[t].getVersion=S[t].Ac;S[t].cc=function(a){var b=Sc();a=this.Ua.get(a);this.i[db]("T").equalTo(a)[Ga]("value",function(a){var d=[];a[F](function(a){d[x](a.val().P)});b[Gb](d)});return b.ia};ka(S[t],function(){var a={},b=yd(this.Ua).map(function(b){return this.cc(b)[z](function(d){a[b]=d})}[E](this));return Rc(b)[z](function(){return a})});ka(S[t],S[t].dump);function Uf(a,b,c){Bd[r](this,c,b);this.i=a}K(Uf,Bd);Uf[t].J=function(a){return this.i.yc(a)};
Uf[t].oc=function(){var a=this.Pa.ob;if(0==a[G])this.Y[Gb]();else{var b=this.i.Ja+1;this.i.Ja=b;var c={"@rev":{R:b}};a[F](function(a,f){var h=this.i.Ua.get(f);a.xa[F](function(a,d){c[d]={R:b,T:h,P:a.o}});a.oa[F](function(a,d){c[d]={R:b,T:h,P:a[1].o}});a.ya[F](function(a,b){c[b]=null})},this);this.i.i[Ua](c,function(c){if(null===c)this.Y[Gb]();else this.i.Ja=b-1,c=zd(a).map(function(a){return Vf(this.i,a[u]())},this),Rc(c)[z](this.Y[Ka][E](this.Y),this.Y[Ka][E](this.Y))}[E](this))}return this.Y.ia};function Wf(){this.qb=M()}function Xf(a,b){if(0==b[C])return zd(a.qb);var c=[];b[F](function(a){a=this.qb.get(a)||null;null===a||c[x](a)},a);return c}Wf[t].getData=H("qb");Wf[t].get=function(a){return Nc(Xf(this,a))};function Yf(a,b){b[F](function(a){this.qb.set(a.id(),a)},a)}Wf[t].put=function(a){Yf(this,a);return Nc()};function Zf(a,b){0==b[C]||b[C]==a.qb[G]?a.qb[w]():b[F](function(a){this.qb[Ya](a)},a)}va(Wf[t],function(a){Zf(this,a);return Nc()});
function $f(a){return 0==a.qb[G]?0:yd(a.qb)[Ja](function(a,c){return a>c?a:c},0)};function ag(a,b){this.s=a;this.tf=b;this.Kc=M();this.Ja=-1;this.H=M();this.Ua=M();this.Cd=null}I=ag[t];
I.Aa=function(a){this.i=this.tf[kb](this.s[p]());var b=a||function(){return Nc()};return Rf(this.i,"@db/version")[z](function(a){return null===a?Sf(this.i,bg(this),!0)[z](function(){var a=new S(0,this.i);return b(a)}[E](this)):a==this.s[vb]()?Rf(this.i,"@rev/R")[z](function(a){this.Ja=a;return Rf(this.i,"@table")}[E](this))[z](function(a){for(var b in a)this.Ua.set(b,a[b]);a=this.s.Va().map(function(a){return Vf(this,a[u]())},this);return Rc(a)}[E](this))[z](function(){cg(this);dg(this);return Nc()}[E](this)):
this.$d(a,b)[z](function(){return this.Aa()}[E](this))}[E](this))};I.$d=function(a,b){var c=new S(a,this.i);return c.Aa(this.s)[z](function(){return Nc()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.i[kb]("@db");return Sf(a,{version:this.s[vb]()},!0)}[E](this))};function dg(a){a.i.off();a.i.on("child_removed",a.bg[E](a));a.Dd&&(a.Dd.off(),a.Kc[w]());a.Dd=a.i[db]("R").startAt(a.Ja+1);a.Dd.on("value",a.Xd[E](a))}
function cg(a){ed=zd(a.H).map(function(a){return $f(a)})[Ja](function(a,c){return a>c?a:c},0)+1}I.bg=function(a){var b=a.val(),c=this.Kc.get(b.T)||null;null===c&&(c=N(),this.Kc.set(b.T,c));c.add(da(a.key(),10))};I.Xd=function(a){var b=a[kb]("@rev/R").val();null!=b&&b!=this.Ja&&(this.Ja=b,a=eg(this,a),a[F](function(a){var b=this.H.get(a[u]()),f=yd(a.ya);0<f[C]&&Zf(b,f);var h=zd(a.xa);a.oa[F](function(a){h[x](a[1])});Yf(b,h)},this),0<a[C]&&this.Fc(a),dg(this))};
function eg(a,b){var c=N(),d=M();a.Ua[F](function(a,b){var l=this.H.get(b),q=new Ae(b);if(this.Kc.has(a)){var y=Td(this.Kc.get(a));y[F](function(a){c.add(a)});Xf(l,y)[F](function(a){q[Ya](a)})}d.set(a,q)}[E](a));b[F](function(a){if("@rev"!=a.key()){var b=da(a.key(),10);if(!c.has(b)){a=a.val();var l=d.get(a.T),q=this.H.get(l[u]());q.getData().has(b)?l.modify([Xf(q,[b])[0],new dd(b,a.P)]):l.add(new dd(b,a.P))}}}[E](a));return zd(d)[Fa](function(a){return!a.gc()})}
function Vf(a,b){var c=Sc(),d=a.Ua.get(b);a.i[db]("T").equalTo(d)[Ga]("value",function(a){var d=new Wf,l=[];a[F](function(a){l[x](new dd(da(a.key(),10),a.val().P))});Yf(d,l);this.H.set(b,d);c[Gb]()}[E](a));return c.ia}function bg(a){var b={};b["@db"]={version:a.s[vb]()};b["@rev"]={R:1};a.Ja=1;b["@table"]={};a.s.Va()[F](function(a,d){var f=a[u]();b["@table"][f]=d;this.H.set(f,new Wf);this.Ua.set(f,d)},a);return b}I.Jb=function(a,b){return new Uf(this,a,b)};
I.yc=function(a){var b=this.H.get(a)||null;if(null!==b)return b;throw new P(101,a);};oa(I,Ib());Ba(I,Jb("Cd"));I.Fc=function(a){null!=this.Cd&&this.Cd(a)};function T(a,b,c,d){this.i=b;this.Ka=c;this.La=a;this.Xc=d}J("lf.backstore.IndexedDBRawBackStore",T);T[t].jd=H("i");T[t].getRawDBInstance=T[t].jd;T[t].kd=H("Ka");T[t].getRawTransaction=T[t].kd;T[t].rc=function(a){return new L(function(b,c){try{this.i.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};T[t].dropTable=T[t].rc;
function fg(a,b,c,d){return new L(function(a,h){var l;try{var q=this.Ka[wb](b);l=q[Ea]()}catch(y){h(y);return}sa(l,function(){var b=l[Hb];b?(c(b),b[hb]()):(d(q),a())});ya(l,h)},a)}function gg(a){var b=null;return b=a instanceof ArrayBuffer?hd(a):a instanceof Date?a[Fb]():a}function hg(a,b,c){function d(a){var b=Zd(a[v]),d=b.o,f;for(f in d){var O=fd(d[f]);c(O);d[f]=O.Fa()}a[Ua](b.Fa())}function f(a){var b=fd(a[v]);c(b);a[Ua](b.Fa())}return fg(a,b,a.Xc?d:f,Ib())}
T[t].mc=function(a,b,c){var d=gg(c);return hg(this,a,function(a){a.o[b]=d})};T[t].addTableColumn=T[t].mc;T[t].sc=function(a,b){return hg(this,a,function(a){delete a.o[b]})};T[t].dropTableColumn=T[t].sc;T[t].Lc=function(a,b,c){return hg(this,a,function(a){a.o[c]=a.o[b];delete a.o[b]})};T[t].renameTableColumn=T[t].Lc;
function ig(a,b){var c=[];return new L(function(a,f){var h;try{h=this.Ka[wb](b)[Ea]()}catch(l){f(l);return}sa(h,function(){var b=h[Hb];if(b){if(this.Xc){var f;f=Zd(b[v]).o;for(var l in f)c[x](f[l])}else c[x](b[v]);b[hb]()}else a(c)}[E](this));ya(h,f)},a)}T[t].yb=function(a){var b={},c;for(c in a)b[c]=gg(a[c]);return gd(b)};T[t].createRow=T[t].yb;T[t].Ac=H("La");T[t].getVersion=T[t].Ac;
ka(T[t],function(){for(var a=this.i[Ha],b=[],c=0;c<a[C];++c){var d=a[Ma](c);b[x](this.cc(d))}return Rc(b)[z](function(b){var c={};b[F](function(b,d){c[a[Ma](d)]=b});return c})});ka(T[t],T[t].dump);T[t].cc=function(a){return ig(this,a)[z](function(a){return a.map(function(a){return a[v]})})};function jg(a,b){this.V=a;this.Kb=b}I=jg[t];I.get=function(a){if(0==a[C])return this.wc();a=a.map(function(a){return new L(function(c,d){var f;try{f=this.V.get(a)}catch(h){d(h);return}ya(f,d);sa(f,function(a){c(this.Kb(a[Na][Hb]))}[E](this))},this)},this);return Rc(a)};I.wc=function(){return new L(function(a,b){var c=[],d;try{d=this.V[Ea]()}catch(f){b(f);return}ya(d,b);sa(d,function(){var b=d[Hb];b?(c[x](this.Kb(b[v])),b[hb]()):a(c)}[E](this))},this)};
I.Rb=function(a){return new L(function(b,c){var d;try{d=a()}catch(f){c(f);return}sa(d,b);ya(d,c)},this)};I.put=function(a){if(0==a[C])return Nc();a=a.map(function(a){return this.Rb(function(){return this.V.put(a.Fa())}[E](this))},this);return Rc(a)};
va(I,function(a){return new L(function(b,c){var d=this.V[cb]();sa(d,function(d){if(0==a[C]||d[Na][Hb]==a[C])return this.Rb(function(){return this.V[w]()}[E](this))[z](b,c);d=a.map(function(a){return this.Rb(function(){return this.V[Ya](a)}[E](this))},this);Rc(d)[z](b,c)}[E](this));ya(d,c)},this)});function kg(a,b,c,d,f){Bd[r](this,c,d);this.j=a;this.Ka=b;this.Xc=f;this.Ka.oncomplete=this.Y[Gb][E](this.Y);this.Ka.onabort=this.Y[Ka][E](this.Y)}K(kg,Bd);kg[t].J=function(a,b,c){return this.Xc?(c=null!=c?c:0,a=this.Ka[wb](a),new $d(a,b,0==c?ac(be,this.j):ce)):new jg(this.Ka[wb](a),b)};kg[t].oc=function(){return this.Y.ia};function lg(a,b){this.j=a;this.s=b;this.Yc=b.Ye().Ff||!1}I=lg[t];I.Aa=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Nc()};return new L(function(a,f){var h;try{h=b.open(this.s[p](),this.s[vb]())}catch(l){f(l);return}ya(h,f);h.onupgradeneeded=function(a){mg(this,c,a)[z](Ib(),f)}[E](this);sa(h,function(b){this.i=b[Na][Hb];this.he()[z](function(b){ed=b+1;a(this.i)}[E](this))}[E](this))},this)};
function mg(a,b,c){var d=c[Na][Hb],f=c[Na][nb];c=new T(c.oldVersion,d,f,a.Yc);ng(d);a.s.Va()[F](ac(a.Af,d,f),a);return b(c)}function ng(a){for(var b=[],c=0;c<a[Ha][C];++c){var d=a[Ha][Ma](c);-1!=d[$a](".")&&b[x](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})}I.Af=function(a,b,c){a[Ha][ub](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Cb()&&(c.za()[F](function(c){this.qc(a,b,c.l(),"btree")},this),this.qc(a,b,c.u+".#","rowid"))};
I.qc=function(a,b,c,d){a[Ha][ub](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[wb](c),(this.Yc?new $d(a,fd,ce):new jg(a,fd)).put([new jd(new id(d))]))};I.Jb=function(a,b){var c=yd(b.ba());De(b)[F](function(a){c[x](a)});var d=this.i[nb](c,0==a?"readonly":"readwrite");return new kg(this.j,d,b,a,this.Yc)};
I.he=function(a){function b(){if(0==d[C])return Nc();var a=d[sb]();return c(a)[z](b)}function c(b){return new L(function(c,d){var Va;try{Va=(a||f[nb]([b]))[wb](b)[Ea](null,"prev")}catch(ab){d(ab);return}sa(Va,function(a){(a=a[Na][Hb])&&(h=ba.max(h,l(a)));c(h)});ya(Va,function(){c(h)})})}var d=this.s.Va().map(function(a){return a[u]()}),f=this.i,h=0,l=function(a){return this.Yc?(a=Zd(a[v]),aa[mb](a.o)[Ja](function(a,b){return ba.max(a,b)},0)):a.key}[E](this);return new L(function(a){b()[z](function(){a(h)})})};
oa(I,function(){this.i[Qa]()});I.yc=function(){throw new P(511);};Ba(I,Ib());I.Fc=Ib();function og(a,b,c){Bd[r](this,c,b);this.V=a;0==b&&this.Y[Gb]()}K(og,Bd);og[t].J=function(a){return this.V.yc(a)};og[t].oc=function(){this.Y[Gb]();return this.Y.ia};function pg(a){this.s=a;this.H=M()}I=pg[t];I.Aa=function(){this.s.Va()[F](this.Pf,this);return Nc()};I.yc=function(a){var b=this.H.get(a)||null;if(null===b)throw new P(101,a);return b};I.Jb=function(a,b){return new og(this,a,b)};function qg(a,b){if(!a.H.has(b)){var c=new Wf;a.H.set(b,c);return c}return null}I.Pf=function(a){qg(this,a[u]());a.Cb()&&(a.za()[F](function(a){this.qc(a.l(),"btree")},this),this.qc(a.u+".#","rowid"))};I.qc=function(a,b){var c=qg(this,a);null===c||c.put([new jd(new id(b))])};
oa(I,Ib());Ba(I,Ib());I.Fc=Ib();function rg(a){pg[r](this,a);this.pd=null}K(rg,pg);Ba(rg[t],function(a){null===this.pd&&(this.pd=a)});rg[t].Fc=function(a){null===this.pd||this.pd(a)};function sg(a,b,c){this.Ka=a;this.u=b;this.Kb=c}sg[t].get=function(a){var b=this.Kb;tg(this.Ka,"SELECT id, value FROM "+this.u+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Db][C],f=e(d),h=0;h<d;++h)f[h]=b({id:a[Db][Ma](h).id,value:ga.parse(a[Db][Ma](h)[v])});return f});return this.Ka.ma()};sg[t].put=function(a){if(0==a[C])return Nc();var b="INSERT OR REPLACE INTO "+this.u+"(id, value) VALUES (?, ?)";a[F](function(a){tg(this.Ka,b,[a.id(),ga[zb](a.o)])},this);return Nc()};
va(sg[t],function(a){tg(this.Ka,"DELETE FROM "+this.u+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Nc()});function ug(a,b,c){Bd[r](this,b,c);this.i=a;this.H=M();this.Gd=[]}K(ug,Bd);ug[t].J=function(a,b){var c=this.H.get(a)||null;null===c&&(c=new sg(this,a,b),this.H.set(a,c));return c};function tg(a,b,c,d){a.Gd[x]({ng:b,eg:c,transform:d})}
ug[t].oc=function(){var a,b,c=this.Y[Ka][E](this.Y),d=function(a,b){this.Y[Ka](b)}[E](this),f=function(c,l){a=l;if(this.Gd[C]){var q=this.Gd[sb]();b=q.transform;c.executeSql(q.ng,q.eg,f,d)}else q=a,null!=b&&null!=a&&(q=b(a)),this.Y[Gb](q)}[E](this);0==this.lf?this.i.readTransaction(f,c):this.i[nb](f,c);return this.Y.ia};function U(a,b,c){this.i=c;this.j=a;this.La=b}J("lf.backstore.WebSqlRawBackStore",U);U[t].jd=H("i");U[t].getRawDBInstance=U[t].jd;U[t].kd=function(){throw new P(356);};U[t].getRawTransaction=U[t].kd;function vg(a){return new ug(a.i,new Ce(a.j,N()),1)}U[t].rc=function(a){var b=vg(this);tg(b,"DROP TABLE "+a,[]);return b.ma()};U[t].dropTable=U[t].rc;
U[t].cc=function(a){var b=vg(this);tg(b,"SELECT id, value FROM "+a,[]);return b.ma()[z](function(a){for(var b=a[Db][C],f=e(b),h=0;h<b;++h)f[h]={id:a[Db][Ma](h).id,value:ga.parse(a[Db][Ma](h)[v])};return Nc(f)})};function wg(a,b,c){var d=vg(a),f="UPDATE "+b+" SET value=? WHERE id=?";return a.cc(b)[z](function(a){a[F](function(a){a=c(a);tg(d,f,[ga[zb](a[v]),a.id])});return d.ma()})}U[t].mc=function(a,b,c){var d=gg(c);return wg(this,a,function(a){a[v][b]=d;return a})};U[t].addTableColumn=U[t].mc;
U[t].sc=function(a,b){return wg(this,a,function(a){delete a[v][b];return a})};U[t].dropTableColumn=U[t].sc;U[t].Lc=function(a,b,c){return wg(this,a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};U[t].renameTableColumn=U[t].Lc;U[t].yb=function(a){var b={},c;for(c in a)b[c]=gg(a[c]);return gd(b)};U[t].createRow=U[t].yb;U[t].Ac=H("La");U[t].getVersion=U[t].Ac;
function xg(a){tg(a,'SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Db][C]),d=0;d<c[C];++d)c[d]=a[Db][Ma](d).tbl_name;return c})}ka(U[t],function(){var a=Sc(),b=vg(this);xg(b);var c={};b.ma()[z](function(b){b=b[Fa](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.cc(a)[z](function(b){c[a]=b})},this);Rc(b)[z](function(){a[Gb](c)})}[E](this));return a.ia});ka(U[t],U[t].dump);function yg(a,b,c){this.j=a;this.s=b;this.mg=c||4194304}function zg(a){return new Ce(a.j,N())}I=yg[t];I.Aa=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Nc()};return new L(function(a,d){try{var f=ca.openDatabase(this.s[p](),"",this.s[p](),this.mg);if(null!=f)this.i=f,Ag(this,b)[z](a,d);else throw new P(354);}catch(h){d(h)}},this)};
function Ag(a,b){var c=Sc(),d=new ug(a.i,zg(a),1);tg(d,"CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);tg(d,"SELECT v FROM __lf_ver WHERE id = 0",[]);d.ma()[z](function(a){var d=0;a[Db][C]&&(d=a[Db][Ma](0).v);d<this.s[vb]()?this.$d(b,d)[z](c[Gb][E](c)):d>this.s[vb]()?c[Ka](new P(108)):c[Gb]()}[E](a));return c.ia}I.Jb=function(a,b){if(null!=this.i)return new ug(this.i,b,a);throw new P(2);};oa(I,Ib());I.yc=function(){throw new P(512);};Ba(I,function(){throw new P(355);});
I.Fc=function(){throw new P(355);};I.$d=function(a,b){var c=Sc();Bg(this)[z](function(){a(new U(this.j,b,this.i))[z](function(){return this.he()}[E](this))[z](c[Gb][E](c))}[E](this),c[Ka][E](c));return c.ia};
function Bg(a){var b=a.s.Va(),c=new ug(a.i,zg(a),1),d=new ug(a.i,zg(a),1);tg(c,"INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[a.s[vb]()]);xg(c);return c.ma()[z](function(a){a[Fa](function(a){return-1!=a[$a](".")})[F](function(a){tg(d,"DROP TABLE "+a,[])});var c=a[Fa](function(a){return-1==a[$a](".")});b.map(function(a){return a[u]()})[Fa](function(a){return-1==c[$a](a)})[F](function(a){tg(d,"CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return d.ma()})}
I.he=function(){var a=0,b=Sc(),c=function(b){var c=new ug(this.i,zg(this),0);tg(c,"SELECT MAX(id) FROM "+b,[]);return c.ma()[z](function(b){b=b[Db][Ma](0)[0];a=ba.max(b,a)})}[E](this),d=this.s.Va().map(function(a){return c(a[u]())});Rc(d)[z](function(){b[Gb](a)},function(a){b[Ka](a)});return b.ia};function Cg(){this.h=M();this.hf=M()}function Dg(a,b){var c=a.hf.get(b);Mb(c)||(c=N(),a.hf.set(b,c));return c}I=Cg[t];I.set=function(a,b){var c=Dg(this,a);b[F](function(a){this.h.set(a.id(),a);c.add(a.id())},this)};I.get=function(a){return a.map(function(a){return this.h.get(a)||null},this)};I.fb=function(a,b,c){var d=[],f=ba.min(b,c),h=ba.max(b,c);a=Dg(this,a);if(a[G]<h-f)a[F](function(a){a>=f&&a<=h&&(a=this.h.get(a),d[x](a))},this);else for(b=f;b<=h;++b)a.has(b)&&(c=this.h.get(b),d[x](c));return d};
va(I,function(a,b){var c=Dg(this,a);b[F](function(a){this.h[Ya](a);c[Ya](a)},this)});I.Lb=function(a){return null!=a?Dg(this,a)[G]:this.h[G]};function Eg(a,b){for(var c=0,d=a[C];c<d;){var f=c+d>>1;a[f]<b?c=f+1:d=f}return c==d&&a[c]==b?c:~c};function Fg(a,b,c,d){a=b?a[gb]():a;if(null==c&&null==d)return a;c=ba.min(Mb(c)?c:a[C],a[C]);if(0==c)return[];d=ba.min(d||0,a[C]);return a[n](d,d+c)};function Gg(){this.ra=0}Gg[t].add=function(a,b){this.ra+=b};va(Gg[t],function(a,b){this.ra-=b});ta(Gg[t],function(){this.ra=0});function Hg(a,b){a[w]();b[F](function(a){this.ra+=a.ra},a)};function Ig(a,b,c,d){this.u=a;this.S=b;this.ne=c;this.mb=new Gg;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=Jg(this,d);this.pa=d=Kg(d)}else this[w]()}var Lg=[];I=Ig[t];na(I,H("u"));g(I,function(){return this.pa[D]()});I.add=function(a,b){this.pa=this.pa.tb(a,b)};I.set=function(a,b){this.pa=this.pa.tb(a,b,!0)};va(I,function(a,b){this.pa=this.pa[jb](a,b)});I.get=function(a){return this.pa.get(a)};I.bd=function(a){if(null==a)return this.Ta().ra;if(a instanceof Ge){if(Le(a))return this.Ta().ra;if(Me(a))return this.get(a.c)[C]}return this.fb([a])[C]};
I.Ta=H("mb");I.wc=function(a,b,c,d){c=e(a);this.pa.fill({offset:b?this.mb.ra-a-d:d,count:a,le:0},c);return b?c[gb]():c};
I.fb=function(a,b,c,d){var f=Mg(this.pa).b[0];if(!Mb(f)||0==c)return Lg;b=b||!1;c=null!=c?ba.min(c,this.mb.ra):this.mb.ra;d=d||0;var h=ba.min(ba.max(this.mb.ra-d,0),c);if(0==h)return Lg;if(!Mb(a)||1==a[C]&&a[0]instanceof Ge&&Le(a[0]))return this.wc(h,b,c,d);a=this.S.ff(a);var l=e(b?this.mb.ra:h),q={count:0,U:l[C],reverse:b,L:d};a[F](function(a){for(var b=this.S.ud(a),b=this.S.Qd(a)?f:b[0],b=Ng(this.pa,b),c=q[cb],d=0;null!=b&&q[cb]<q.U;)b.fb(a,q,l),q[cb]!=c?(d=0,c=q[cb]):d++,b=2==d?null:b[rb]()},this);
l[A](q[cb],h-q[cb]);return b?Fg(l,b,c,d):l};ta(I,function(){this.pa=Og(this);this.mb[w]()});I.ka=function(a){return this.pa.ka(a)};I.min=function(){return this.Ec(this.S.min[E](this.S))};I.max=function(){return this.Ec(this.S.max[E](this.S))};I.Ec=function(a){var b=Mg(this.pa),c=Pg(this.pa);if(0==b.b[C]&&0==c.b[C])return null;var d=b.b[0],b=b.A[0],f=c.b[c.b[C]-1],c=c.A[c.b[C]-1];return 1==a(d,f)?[d,this.ne?[b]:b]:[f,this.ne?[c]:c]};I.Ia=H("ne");I.pc=H("S");
I.Ud=function(a,b){return null!=a?-1==this.S[Bb](a,b):!1};I.Na=function(a,b){return null!=a?0==this.S[Bb](a,b):!1};I.Fa=function(){for(var a=[],b=Mg(this.pa);b;)a[x](new dd(b.na,[b.b,b.A])),b=b.ta;return a};function Qg(a,b,c,d){a=new Ig(b,a,c);d=Rg(d,a);a.pa=d;return a}function Sg(a,b){this.na=a;this.C=b;this.hb=0;this.ta=this.vb=this.D=null;this.b=[];this.A=[];this.g=[]}function Og(a){return new Sg(ed++,a)}function Tg(a){return 0==a.hb}I=Sg[t];xa(I,H("ta"));
function Ug(a){function b(a){return null!=a?a.na[D]():"_"}var c=a.na+"["+a.b[m]("|")+"]",d=a.g.map(function(a){return a.na})[m]("|"),f=a.A[m]("/"),h=b(a.vb)+"{",h=Tg(a)?h+f:h+d,h=h+"}"+b(a.D);a.ta&&(a=Ug(a.ta),c=c+"  "+a[0],h=h+"  "+a[1]);return[c,h]}g(I,function(){var a="",b=Ug(this),a=a+(b[0]+"\n"+b[1]+"\n");this.g[C]&&(a+=this.g[0][D]());return a});function Mg(a){return Tg(a)?a:Mg(a.g[0])}function Pg(a){return Tg(a)?a:Pg(a.g[a.g[C]-1])}function Vg(a,b){b&&(b.vb=a);a&&(a.ta=b)}
function Jg(a,b){for(var c=b[C],d=0,f=Og(a),h=f;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,q=b[n](d,d+l);f.b=q.map(function(a){return a.key});f.A=q.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=Og(f.C),Vg(f,l),f=l)}return h}function Wg(a){var b=a[0],c=Og(b.C);c.hb=b.hb+1;c.g=a;for(b=0;b<a[C];++b)a[b].D=c,0<b&&c.b[x](a[b].b[0]);return c}
function Kg(a){var b=a,c=[];do c[x](b),b=b.ta;while(b);if(512>=c[C])b=Wg(c);else{var d=c[C],f=0,b=Og(a.C);for(b.hb=a.hb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var h=c[n](f,f+a),l=Wg(h);l.D=b;b.g[C]&&(b.b[x](h[0].b[0]),Vg(b.g[b.g[C]-1],l));b.g[x](l);f+=a;d-=a}}return b}I.get=function(a){var b=Xg(this,a);if(Tg(this)){var c=Lg;this.C.Na(this.b[b],a)&&(c=c[Ra](this.A[b]));return c}b=this.C.Na(this.b[b],a)?b+1:b;return this.g[b].get(a)};
I.ka=function(a){var b=Xg(this,a);return this.C.Na(this.b[b],a)?!0:Tg(this)?!1:this.g[b].ka(a)};va(I,function(a,b){Yg(this,a,-1,b);if(null==this.D){var c=this;1==this.g[C]&&(c=this.g[0],c.D=null);return c}return this});function Zg(a){return Tg(a)?a.b[0]:Zg(a.g[0])}function $g(a){a.b=[];for(var b=1;b<a.g[C];++b)a.b[x](Zg(a.g[b]))}
function Yg(a,b,c,d){var f=Xg(a,b),h=Tg(a);if(!h){var l=a.C.Na(a.b[f],b)?f+1:f;if(Yg(a.g[l],b,l,d))$g(a);else return!1}else if(!a.C.Na(a.b[f],b))return!1;if(a.b[C]>f&&a.C.Na(a.b[f],b)){if(Mb(d)&&!a.C.Ia()&&h&&(l=a.A[f],d=Eg(l,d),0>d?d=!1:(l[A](d,1),d=!0),d&&a.C.Ta()[jb](b,1),a.A[f][C]))return!1;a.b[A](f,1);h&&(h=a.C.Ia()?1:a.A[f][C],a.A[A](f,1),a.C.Ta()[jb](b,h))}if(256>a.b[C]&&null!=a.D){a:{b=null;if(a.ta&&256<a.ta.b[C])b=a.ta,f=d=0,h=a.b[C]+1;else if(a.vb&&256<a.vb.b[C])b=a.vb,d=a.vb.b[C]-1,f=Tg(a)?
d:d+1,h=0;else{b=!1;break a}a.b[A](h,0,b.b[d]);b.b[A](d,1);d=Tg(a)?a.A:a.g;l=null;Tg(a)?l=b.A:(l=b.g,l[f].D=a);d[A](h,0,l[f]);l[A](f,1);Tg(b)||($g(b),$g(a));b=!0}b||ah(a,c)}return!0}function ah(a,b){var c,d,f;a.ta&&511>a.ta.b[C]?(c=a.ta,f=d=0):a.vb&&(c=a.vb,d=c.b[C],f=Tg(c)?c.A[C]:c.g[C]);d=[d,0][Ra](a.b);e[t][A][yb](c.b,d);d=null;Tg(a)?d=a.A:(d=a.g,d[F](function(a){a.D=c}));d=[f,0][Ra](d);e[t][A][yb](Tg(c)?c.A:c.g,d);Vg(a.vb,a.ta);Tg(c)||$g(c);-1!=b&&(a.D.b[A](b,1),a.D.g[A](b,1))}
I.tb=function(a,b,c){var d=Xg(this,a);if(Tg(this)){if(this.C.Na(this.b[d],a)){if(c)this.C.Ta()[jb](a,this.C.Ia()?1:this.A[d][C]),this.A[d]=this.C.Ia()?b:[b];else{if(this.C.Ia())throw new P(201);d=this.A[d];c=Eg(d,b);0>c?(d[A](-(c+1),0,b),b=!0):b=!1;if(!b)throw new P(109);}this.C.Ta().add(a,1);return this}this.b[A](d,0,a);this.A[A](d,0,this.C.Ia()?b:[b]);this.C.Ta().add(a,1);512==this.b[C]?(a=Og(this.C),b=Og(this.C),b.hb=1,b.b=[this.b[256]],b.g=[this,a],b.D=this.D,this.D=b,a.b=this.b[A](256),a.A=this.A[A](256),
a.D=b,Vg(a,this.ta),Vg(this,a),a=b):a=this;return a}d=this.C.Na(this.b[d],a)?d+1:d;a=this.g[d].tb(a,b,c);Tg(a)||1!=a.b[C]||(this.b[A](d,0,a.b[0]),a.g[1].D=this,a.g[0].D=this,this.g[A](d,1,a.g[1]),this.g[A](d,0,a.g[0]));return 512==this.b[C]?bh(this):this};function bh(a){var b=Og(a.C),c=Og(a.C);b.D=a.D;b.hb=a.hb+1;b.b=[a.b[256]];b.g=[a,c];a.b[A](256,1);c.D=b;c.hb=a.hb;c.b=a.b[A](256);c.g=a.g[A](257);c.g[F](function(a){a.D=c});a.D=b;Vg(c,a.ta);Vg(a,c);return b}
function Xg(a,b){for(var c=0,d=a.b[C];c<d;){var f=c+d>>1;a.C.Ud(a.b[f],b)?c=f+1:d=f}return c}function Ng(a,b){if(!Tg(a)){var c=Xg(a,b);a.C.Na(a.b[c],b)&&c++;return Ng(a.g[c],b)}return a}
I.fb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var f=this.C.pc(),h=0,l=this.b[C]-1,q=this.b,y=d(f.pb(q[h],a)),O=d(f.pb(q[l],a));if(1!=y&&(-1!=y||-1!=O)){var Va=function(a,b){var c=a+b>>1;return c==a?c+1:c},ab=function(b,c,h){if(b>=c)return 0==h?c:-1;var l=d(f.pb(q[b],a));if(0==l)return b;if(1==l)return-1;l=Va(b,c);if(l==c)return 0==h?c:-1;var y=d(f.pb(q[l],a));return 0==y?ab(b,l,y):-1==y?ab(l+1,c,h):ab(b+1,l,y)},Sb=function(b,c){if(b>=c)return b;var h=d(f.pb(q[c],a));if(0==h)return c;
if(-1==h)return b;h=Va(b,c);if(h==c)return b;var l=d(f.pb(q[h],a));return 0==l?Sb(h,c):1==l?Sb(b,h-1):-1};0!=y&&(h=ab(h+1,l,O));-1!=h&&(l=Sb(h,l),-1!=l&&l>=h&&ch(this,b,c,h,l+1))}};function ch(a,b,c,d,f){for(;d<f&&(b[gb]||!(b[cb]>=b.U));++d)if(a.C.Ia())!b[gb]&&b.L?b.L--:c[b.count++]=a.A[d];else for(var h=0;h<a.A[d][C]&&b[cb]<c[C];++h)!b[gb]&&b.L?b.L--:c[b.count++]=a.A[d][h]}
I.fill=function(a,b){if(Tg(this))for(var c=0;c<this.A[C]&&0<a[cb];++c)if(0<a[xb]){if(a.offset=a[xb]-(this.C.Ia()?1:this.A[c][C]),0>a[xb])for(var d=this.A[c][C]+a[xb];d<this.A[c][C]&&0<a[cb];++d)b[a.le++]=this.A[c][d],a.count--}else if(this.C.Ia())b[a.le++]=this.A[c],a.count--;else for(d=0;d<this.A[c][C]&&0<a[cb];++d)b[a.le++]=this.A[c][d],a.count--;else for(c=0;c<this.g[C]&&0<a[cb];++c)this.g[c].fill(a,b)};
function Rg(a,b){for(var c=b.Ta(),d=a.map(function(a){var d=new Sg(a.id(),b);d.b=a.o[0];d.A=a.o[1];d.b[F](function(a,f){c.add(a,b.Ia()?1:d.A[f][C])});return d}),f=0;f<d[C]-1;++f)Vg(d[f],d[f+1]);return 1<d[C]?Kg(d[0]):d[0]};function dh(a){if(1==a.f[C])return new eh(a.f[0].jb);a=a.f.map(function(a){return a.jb});return new fh(a)}function eh(a){this.ad=0==a?gh:hh;this.Vd=0==a?function(a){return null!=a?a[gb]():null}:function(a){return a||null};this.ae=0==a?ih:jh}K(eh,de);function hh(a,b){return a>b?1:a<b?-1:0}function gh(a,b){return hh(b,a)}function jh(a,b){return Ne(a,b)}function ih(a,b){return Ne(b,a)}I=eh[t];
I.pb=function(a,b){var c=this.Vd(b),d=[null===c.c,null===c.w];if(!d[0]){var f=this.ad(a,c.c);d[0]=c.aa?1==f:-1!=f}d[1]||(f=this.ad(a,c.w),d[1]=c.la?-1==f:1!=f);return d};I.compare=function(a,b){return this.ad(a,b)};I.min=function(a,b){return a<b?1:a==b?0:-1};I.max=function(a,b){return a>b?1:a==b?0:-1};I.Pd=function(a,b){var c=this.pb(a,b);return c[0]&&c[1]};I.ff=function(a){return a[Fa](function(a){return null!==a})[Za](function(a,c){return this.ae(a,c)}[E](this))};I.Qd=function(a){return Pb(this.Vd(a).c)};
I.ud=function(a){a=this.Vd(a);return[a.c,a.w]};g(I,function(){return this.ad==gh?"SimpleComparator_DESC":"SimpleComparator_ASC"});function fh(a){this.Ga=a.map(function(a){return new eh(a)})}K(fh,de);function kh(a,b,c,d){for(var f=0,h=0;h<a.Ga[C]&&0==f;++h)f=d(a.Ga[h],b[h],c[h]);return f}I=fh[t];I.compare=function(a,b){return kh(this,a,b,function(a,b,f){return a[Bb](b,f)})};I.min=function(a,b){return kh(this,a,b,function(a,b,f){return a.min(b,f)})};
I.max=function(a,b){return kh(this,a,b,function(a,b,f){return a.max(b,f)})};I.pb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ga[C]&&(c[0]||c[1]);++d){var f=this.Ga[d].pb(a[d],b[d]);c[0]=c[0]&&f[0];c[1]=c[1]&&f[1]}return c};I.Pd=function(a,b){for(var c=!0,d=0;d<this.Ga[C]&&c;++d)c=this.Ga[d].Pd(a[d],b[d]);return c};
I.ff=function(a){var b=a[Fa](function(a){return a[Ta](Qb)});a=e(this.Ga[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[Za](function(a,c){return this.Ga[b].ae(a,c)}[E](this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[Za](function(a,b){for(var c=0,l=0;l<this.Ga[C]&&0==c;++l)c=this.Ga[l].ae(a[l],b[l]);return c}[E](this))};I.Qd=function(a){return this.Ga[0].Qd(a[0])};
I.ud=function(a){var b=a.map(function(a,b){return this.Ga[b].ud(a)[0]},this);a=a.map(function(a,b){return this.Ga[b].ud(a)[1]},this);return[b,a]};function lh(a){this.ca=a;this.ib=N();this.Nc=new Gg;this.mb=new Gg}I=lh[t];na(I,function(){return this.ca[u]()});I.add=function(a,b){null===a?(this.ib.add(b),this.Nc.add(a,1)):this.ca.add(a,b)};I.set=function(a,b){null===a?(this.ib[w](),this.Nc[w](),this.add(a,b)):this.ca.set(a,b)};va(I,function(a,b){if(null===a)b?(this.ib[Ya](b),this.Nc[jb](a,1)):(this.ib[w](),this.Nc[w]());else this.ca[jb](a,b)});I.get=function(a){return null===a?Td(this.ib):this.ca.get(a)};I.bd=function(a){return this.ca.bd(a)};
I.Ta=function(){Hg(this.mb,[this.ca.Ta(),this.Nc]);return this.mb};I.fb=function(a,b,c,d){b=this.ca.fb(a,b,c,d);return null!=a?b:b[Ra](Td(this.ib))};ta(I,function(){this.ib[w]();this.ca[w]()});I.ka=function(a){return null===a?0!=this.ib[G]:this.ca.ka(a)};I.min=function(){return this.ca.min()};I.max=function(){return this.ca.max()};I.Fa=function(){return[new dd(-2,Td(this.ib))][Ra](this.ca.Fa())};I.pc=function(){return this.ca.pc()};
function mh(a,b){for(var c=-1,d=0;d<b[C];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new P(102);var d=b[c].o,f=b[n](0);f[A](c,1);var c=a(f),h=new lh(c);d[F](function(a){h.ib.add(a)});return h}I.Ia=function(){return this.ca.Ia()};function nh(a){this.u=a;this.lb=N();this.S=new eh(1)}I=nh[t];na(I,H("u"));I.add=function(a){if("number"!=typeof a)throw new P(103);this.lb.add(a)};I.set=function(a,b){this.add(a,b)};va(I,function(a){this.lb[Ya](a)});I.get=function(a){return this.ka(a)?[a]:[]};I.min=function(){return this.Ec(this.S.min[E](this.S))};I.max=function(){return this.Ec(this.S.max[E](this.S))};
I.Ec=function(a){if(0==this.lb[G])return null;var b=Td(this.lb)[Ja](function(b,d){return null===b||1==a(d,b)?d:b},null);return[b,[b]]};I.bd=function(){return this.lb[G]};I.fb=function(a,b,c,d){var f=a||[Ke()];a=Td(this.lb)[Fa](function(a){return f[bb](function(b){return this.S.Pd(a,b)},this)},this);return Fg(a,b,c,d)};ta(I,function(){this.lb[w]()});I.ka=function(a){return this.lb.has(a)};I.Fa=function(){return[new dd(0,Td(this.lb))]};I.pc=H("S");
function oh(a,b){var c=new nh(a);b[0].o[F](function(a){c.add(a,a)});return c}I.Ia=Kb(!0);I.Ta=function(){var a=new Gg;a.ra=this.lb[G];return a};function ph(a){this.j=a;this.xb=a.m(Id);this.F=a.m(Kd);this.ja=a.m(Jd)}ph[t].Aa=function(a){var b=a.Va(),c=function(){if(0==b[C])return Nc();var a=b[sb]();return(a.Cb()?qh(this,a):rh(this,a))[z](c)}[E](this);return c()};function rh(a,b){var c=new Ce(a.j,N([b]));return a.xb.Jb(0,c).J(b[u](),b.bc[E](b)).get([])[z](function(a){this.ja.set(b[u](),a);sh(this,b,a)}[E](a))}function sh(a,b,c){var d=a.F.Oc.get(b[u]())||[];c[F](function(a){d[F](function(b){var c=a.Ob(b[u]());b.add(c,a.id())})})}
function qh(a,b){var c=new Ce(a.j,N([b])),d=a.xb.Jb(0,c),c=d.J(b[u](),b.bc).get([])[z](function(a){this.ja.set(b[u](),a)}[E](a)),f=b.za().map(function(a){return th(this,a,d)},a)[Ra](uh(a,b,d));return Rc(f[Ra](c))}function th(a,b,c){c=c.J(b.l(),fd,1);var d=dh(b);return c.get([])[z](function(a){if(1<a[C]){if(vh(b)){var c=Qg[E](void 0,d,b.l(),b.Cc);a=mh(c,a[n](1))}else a=Qg(d,b.l(),b.Cc,a[n](1));this.F.set(b.Pc,a)}}[E](a))}
function uh(a,b,c){return c.J(b.u+".#",fd,1).get([])[z](function(a){1<a[C]&&(a=oh(b.u+".#",a[n](1)),this.F.set(b[u](),a))}[E](a))};function wh(){this.V=M();this.Oc=M()}wh[t].Aa=function(a){a.Va()[F](function(a){var c=[];this.Oc.set(a[u](),c);var d=a.u+".#";if(null===this.get(d)){var f=new nh(d);c[x](f);this.V.set(d,f)}a.za()[F](function(a){var b;b=dh(a);b=new Ig(a.l(),b,a.Cc);b=vh(a)?new lh(b):b;c[x](b);this.V.set(a.l(),b)},this)},this);return Nc()};wh[t].get=function(a){return this.V.get(a)||null};
wh[t].set=function(a,b){var c=this.Oc.get(a)||null;null===c&&(c=[],this.Oc.set(a,c));for(var d=null,f=0;f<c[C];f++)if(c[f][u]()==b[u]()){d=f;break}null!==d&&0<c[C]?c[A](d,1,b):c[x](b);this.V.set(b[u](),b)};function xh(a){this.jc=[];Mb(a)&&this.add(a)}g(xh[t],function(){return this.jc.map(function(a){return a[D]()})[m](",")});xh[t].ka=function(a){return this.jc[bb](function(b){return b[ub](a)})};xh[t].fa=H("jc");
xh[t].add=function(a){if(0!=a[C])if(a=this.jc[Ra](a),1==a[C])this.jc=a;else{a[Za](Ne);for(var b=[],c=a[0],d=1;d<a[C];++d)if(Ie(c,a[d])){var f=a[d],h=Ke();if(null!==c.c&&null!==f.c){var l=Je(c.c,f.c,!0);1!=l?(h.c=c.c,h.aa=0!=l?c.aa:c.aa&&f.aa):(h.c=f.c,h.aa=f.aa)}null!==c.w&&null!==f.w&&(l=Je(c.w,f.w,!1),-1!=l?(h.w=c.w,h.la=0!=l?c.la:c.la&&f.la):(h.w=f.w,h.la=f.la));c=h}else b[x](c),c=a[d];b[x](c);this.jc=b}};
function yh(a,b){var c=[];a.fa().map(function(a){return b.fa().map(function(b){var c;if(Ie(a,b)){c=Ke();var l=Je(a.c,b.c,!0),l=0==l?a.aa?a:b:-1!=l?a:b;c.c=l.c;c.aa=l.aa;null===a.w||null===b.w?b=null===a.w?b:a:(l=Je(a.w,b.w,!1),b=0==l?a.la?a:b:-1==l?a:b);c.w=b.w;c.la=b.la}else c=null;return c})})[F](function(a){c=c[Ra](a)});return new xh(c[Fa](function(a){return null!==a}))};function zh(a,b){var c=[],d=null,f=null;rf(a,function(a){var l=b(a);null==a[Cb]()?f=l:sf(d,l);var q=a[Cb]();null!==q&&R(q)[C]==R(d)[C]&&(q=c[$a](d),-1!=q&&c[A](q,1));1<R(a)[C]&&c[x](l);d=R(a)[C]?l:c[c[C]-1]});return f}function Ah(a){return Bh(a,function(a){return!R(a)[C]})}function Ch(a){var b=a[Cb](),c=0;null!==b&&(c=R(b)[$a](a),b[ib](a));var d=R(a)[n]();d[F](function(d,h){a[ib](d);null===b||tf(b,d,c+h)});return{parent:b,children:d}}
function Dh(a,b){R(a)[n]()[F](function(c){a[ib](c);sf(b,c)});sf(a,b)}function Eh(a){var b=pf(a);Ch(a);Dh(b,a);return b}function Fh(a,b,c){var d=pf(a),f=R(d)[n]();if(!f[bb](function(a){return b(a)}))return a;Ch(a);f[F](function(f,l){if(b(f)){var q=c(a);uf(d,l);sf(q,f);tf(d,q,l)}});return d}function Gh(a,b,c,d){var f=a[Cb]();null!==f&&(a=R(f)[$a](a),uf(f,a),tf(f,c,a));R(b)[n]()[F](function(a){b[ib](a);sf(d,a)});return c}
function Bh(a,b,c){function d(a){b(a)&&f[x](a);null!=c&&c(a)||R(a)[F](d)}var f=[];d(a);return f}function Hh(a,b){var c=b||function(a){return a[D]()+"\n"},d="";rf(a,function(a){for(var b=0;b<qf(a);b++)d+="-";d+=c(a)});return d};function Ih(a){vf[r](this);this.Qb=a;this.Za=!1}K(Ih,vf);I=Ih[t];I.Ib=function(){return zh(this,function(a){if(a instanceof Ih){var b=new Ih(a.Qb);b.Za=a.Za;a=a.W();b.na=a;return b}return a.Ib()}[E](this))};I.eb=function(a){var b=a||[];rf(this,function(a){a!=this&&a.eb(b)}[E](this));a=N(b);return Td(a)};I.wd=function(a){this.Za!=a&&(this.Za=a,this.Qb="and"==this.Qb?"or":"and",R(this)[F](function(b){return b.wd(a)}))};
I.eval=function(a){var b=R(this).map(function(b){return b.eval(a)});return Jh(this,b)};function Jh(a,b){return"and"==a.Qb?Ue(b):Ve(b)}g(I,function(){return"combined_pred_"+this.Qb[D]()});function Kh(){this[w]()}var Lh=aa[t][Xa],Mh=aa[t][tb];I=Kh[t];I.set=function(a,b){var c=!Nh(this,a);this.h[a]=b;if("__proto__"==a||!Oh&&!Lh[r](this.h,a)){delete this.h[a];var d=ec(this.Eb,a);if(c=0>d)d=this.Eb[C];this.Eb[d]=a;this.ie[d]=b}c&&this.$++};I.get=function(a,b){if(Nh(this,a))return this.h[a];var c=ec(this.Eb,a);return 0<=c?this.ie[c]:b};va(I,function(a){if(Nh(this,a))return this.$--,delete this.h[a],!0;a=ec(this.Eb,a);return 0<=a?(this.$--,jc(this.Eb,a),jc(this.ie,a),!0):!1});
I.addAll=function(a){fc(a.Oa(),function(b){this.set(b,a.get(b))},this)};I.gc=function(){return!this.$};I.Lb=H("$");I.ka=function(a){return Nh(this,a)||0<=ec(this.Eb,a)};I.Oa=function(){var a;if(Ph)a=lc(aa[mb](this.h));else{a=[];for(var b in this.h)Mh[r](this.h,b)&&a[x](b)}mc(a,this.Eb);return a};I.fa=function(){for(var a=[],b=this.Oa(),c=0;c<b[C];c++)a[x](this.get(b[c]));return a};I.getEntries=function(){for(var a=[],b=this.Oa(),c=0;c<b[C];c++){var d=b[c];a[x]([d,this.get(d)])}return a};
ta(I,function(){this.h=Oh?aa[lb](null):{};this.Eb=[];this.ie=[];this.$=0});la(I,function(){var a=new Kh;a.addAll(this);return a});function Nh(a,b){return"__proto__"==b?!1:Oh?b in a.h:Mh[r](a.h,b)}var Oh=!!aa[lb],Ph=!!aa[mb];function Qh(){this[w]()}I=Qh[t];I.$=0;ta(I,function(){this.$=0;this.h=new Kh});la(I,function(){var a=new Qh;Rh(a,this);return a});I.add=function(a,b){var c=this.h.get(a);c||this.h.set(a,c=[]);c[x](b);this.$++};function Rh(a,b){fc(b.getEntries(),function(a){this.add(a[0],a[1])},a)}I.get=function(a){return(a=this.h.get(a))?lc(a):[]};va(I,function(a,b){var c=this.h.get(a);if(!c)return!1;var d=kc(c,function(a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a});d&&(this.$--,0==c[C]&&this.h[jb](a));return d});
I.gc=function(){return!this.$};I.Lb=H("$");I.ka=function(a){return this.h.ka(a)};I.Oa=function(){return this.h.Oa()};I.fa=function(){return sc(this.h.fa())};I.getEntries=function(){for(var a=this.Oa(),b=[],c=0;c<a[C];c++)for(var d=a[c],f=this.get(d),h=0;h<f[C];h++)b[x]([d,f[h]]);return b};function Sh(a,b,c){vf[r](this);this.Ca=a;this.Ea=b;this.N=c;this.Wd=null;a=df.fd();this.cd=kf(a,this.Ca.O(),this.N);this.Uf=a.Me.get(this.Ca.O())||null}K(Sh,vf);I=Sh[t];I.Ib=function(){var a=new Sh(this.Ca,this.Ea,this.N),b=this.W();a.na=b;return a};I.eb=function(a){return null!=a?(a[x](this.Ca),a[x](this.Ea),a):[this.Ca,this.Ea]};
I.reverse=function(){var a=this.N;switch(this.N){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new Sh(this.Ea,this.Ca,a)};I.eval=function(a){var b=a[B][Fa](function(a){var b=Ze(a,this.Ca);a=Ze(a,this.Ea);return this.cd(b,a)},this);return new Oe(b,Q(a))};g(I,function(){return"join_pred("+this.Ca.l()+", "+this.Ea.l()+")"});function Th(a,b,c){var d=null,f=null;-1!=Q(b)[$a]($e(a.Ca.J()))?(d=b,f=c):(d=c,f=b);return[d,f]}
function Uh(a){var b={};a.eb()[F](function(a){b[a[u]()]=null});return b}function Vh(a,b,c){null===a.Wd&&(a.Wd=Uh(a.Ea.J()));var d=new Xe(new dd(-1,a.Wd),!1);return bf(b,c,d,[$e(a.Ea.J())])}
function Wh(a,b,c,d){var f=[b,c];d||(f=Th(a,b,c));b=f[0];c=f[1];var f=b,h=c,l=a.Ca,q=a.Ea;if(d||b[B][C]>c[B][C])f=c,h=b,l=a.Ea,q=a.Ca;var y=new Qh,O=[];f[B][F](function(a){var b=ha(Ze(a,l));y.add(b,a)});var Va=Q(f),ab=Q(h);h[B][F](function(a){var b=Ze(a,q),c=ha(b);null!==b&&y.ka(c)?y.get(c)[F](function(b){b=bf(a,ab,b,Va);O[x](b)}):d&&O[x](Vh(this,a,ab))}[E](a));a=Q(b)[Ra](Q(c));return new Oe(O,a)}
function Xh(a,b,c,d,f){var h=d.ug.J(),l=b,q=c;-1!=Q(b)[$a]($e(h))&&(l=c,q=b);var y=[],O=Q(q),Va=Q(l);l[B][F](function(a){var b=this.Uf(Ze(a,d.vg)),b=d[ob].get(b);f.get(b)[F](function(b){b=new Xe(b,1<O[C]);b=bf(a,Va,b,O);y[x](b)},this)},a);a=Q(l)[Ra](Q(q));return new Oe(y,a)};function Yh(a,b,c){return null===b?new xf(a,b,c):Mb(b.l)?new Sh(a,b,c):new xf(a,b,c)};var Zh={};J("lf.schema.DataStoreType",Zh);Zh.INDEXED_DB=0;Zh.MEMORY=1;Zh.LOCAL_STORAGE=2;Zh.FIREBASE=3;Zh.WEB_SQL=4;Zh.OBSERVABLE_STORE=5;function $h(a,b,c,d){this.Pc=a;ja(this,b);this.Cc=c;this.f=d}$h[t].l=function(){return this.Pc+"."+this[p]};function vh(a){return a.f[bb](function(a){return a.da.Bc()})}function ai(a,b,c,d){this.u=a;this.ha=c;this.G=b;this.rd=d;this.bb=null}J("lf.schema.Table",ai);na(ai[t],H("u"));na(ai[t],ai[t][u]);ai[t].Ya=H("bb");function $e(a){return a.bb||a.u}
ai[t].nc=function(a){var b=new this.constructor(this.u);b.bb=a;b.ig=this.ig;return b};ai[t].as=ai[t].nc;ai[t].createRow=ai[t].yb;ai[t].deserializeRow=ai[t].bc;ai[t].za=H("ha");ai[t].getIndices=ai[t].za;ai[t].eb=H("G");ai[t].getColumns=ai[t].eb;ai[t].getConstraint=ai[t].Ab;ai[t].Cb=H("rd");ai[t].persistentIndex=ai[t].Cb;function bi(a,b){wa(this,a);this.Gb=b;this.bb=null}I=bi[t];na(I,function(){return this.Gb+"("+this[kb][u]()+")"});I.l=function(){return this.Gb+"("+this[kb].l()+")"};I.J=function(){return this[kb].J()};g(I,function(){return this.l()});I.O=function(){return this[kb].O()};I.Ya=H("bb");I.za=function(){return[]};I.Ha=Kb(null);I.Bc=Kb(!1);I.nc=function(a){this.bb=a;return this};bi[t].as=bi[t].nc;function ci(a){for(var b=[a];a instanceof bi;)b[x](a[kb]),a=a[kb];return b}
function di(a){this.bb=a||null;this.M=new ai("#UnknownTable",[],[],!1)}I=di[t];na(I,Kb("*"));I.l=function(){return this[u]()};g(I,function(){return this.l()});I.J=H("M");I.O=Kb(4);I.Ya=H("bb");I.za=function(){return[]};I.Ha=Kb(null);I.Bc=Kb(!1);J("lf.fn.avg",function(a){return new bi(a,"AVG")});function ei(a){return new bi(a||new di,"COUNT")}J("lf.fn.count",ei);function fi(a){return new bi(a,"DISTINCT")}J("lf.fn.distinct",fi);J("lf.fn.max",function(a){return new bi(a,"MAX")});J("lf.fn.min",function(a){return new bi(a,"MIN")});J("lf.fn.stddev",function(a){return new bi(a,"STDDEV")});J("lf.fn.sum",function(a){return new bi(a,"SUM")});J("lf.fn.geomean",function(a){return new bi(a,"GEOMEAN")});function V(a,b){nf[r](this,"","");this.Hf=b}K(V,nf);ma(V[t],function(a,b){switch(this.Hf){case 1:return gi(this,a,b);case 0:return hi(this,a,b);default:return ii(this,a,b)}});g(V[t],Kb("dummy_node"));V[t].Qc=function(){return this[D]()};function ii(a,b,c){return new L(function(a){a(this.ea(b,[],c))}[E](a))}function gi(a,b,c){return pf(a)[Pa](b,c)[z](function(a){return this.ea(b,a,c)}[E](a))}
function hi(a,b,c){var d=R(a).map(function(a){return a[Pa](b,c)});return Rc(d)[z](function(a){var d=[];a[F](function(a){for(var b=0;b<a[C];++b)d[x](a[b])});return this.ea(b,d,c)}[E](a))};function ji(a){V[r](this,0,1);this.te=a}K(ji,V);g(ji[t],function(){return"aggregation("+this.te.map(function(a){return a.l()})[D]()+")"});ji[t].ea=function(a,b){b[F](function(a){ki(new li(a,this.te))},this);return b};function li(a,b){this.Da=a;this.G=b}
function ki(a){a.G[F](function(a){a=ci(a)[gb]();for(var c=1;c<a[C];c++){var d=a[c],f=ci(d)[n](-1)[0],h=d[kb]instanceof bi?Re(this.Da,d[kb]):this.Da;if(null!==h.Xa&&h.Xa.has(d.l()))break;h=mi(d.Gb,h,f);f=this.Da;null===f.Xa&&(f.Xa=M());f.Xa.set(d.l(),h)}},a)}
function mi(a,b,c){var d=null;switch(a){case "MIN":d=ni(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=ni(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=oi(b,c);break;case "COUNT":d=pi(b,c);break;case "SUM":d=qi(b,c);break;case "AVG":a=pi(b,c);0<a&&(d=qi(b,c)/a);break;case "GEOMEAN":d=ri(b,c);break;default:d=si(b,c)}return d}function ni(a,b,c){return a[B][Ja](function(a,f){var h=Ze(f,b);return null===h?a:null===a?h:c(a,h)},null)}
function pi(a,b){return b instanceof di?a[B][C]:a[B][Ja](function(a,d){return a+(Pb(Ze(d,b))?0:1)},0)}function qi(a,b){return ni(a,b,function(a,b){return b+a})}function si(a,b){var c=[];a[B][F](function(a){a=Ze(a,b);null===a||c[x](a)});return 0==c[C]?null:od[yb](null,c)}function ri(a,b){var c=0,d=a[B][Ja](function(a,d){var l=Ze(d,b);if(0==l||null===l)return a;c++;return a+ba.log(l)},0);return 0==c?null:ba.pow(ba.E,d/c)}
function oi(a,b){var c=M();a[B][F](function(a){var f=Ze(a,b);c.set(f,a)});return new Oe(zd(c),Q(a))};function ti(a,b){this.wa=a;this.qa=b}ti[t].gb=H("wa");ti[t].ba=H("qa");function W(){nf[r](this,"","")}K(W,nf);function ui(a,b){W[r](this);ia(this,a);ua(this,b)}K(ui,W);function vi(a,b){ui[r](this,a,b)}K(vi,ui);function wi(a){W[r](this);ia(this,a)}K(wi,W);g(wi[t],function(){return"delete("+this[k][u]()+")"});function xi(a,b){W[r](this);ia(this,a);this.oe=b}K(xi,W);g(xi[t],function(){var a=[];this.oe&&(a=this.oe.map(function(a){return a.I[u]()},this));return"update("+this[k][u]()+", ["+a[m](",")+"])"});
function yi(a){W[r](this);this.X=a}K(yi,W);g(yi[t],function(){return"select("+this.X[D]()+")"});function zi(a){W[r](this);ia(this,a)}K(zi,W);g(zi[t],function(){var a="table_access("+this[k][u]();null===this[k].Ya()||(a+=" as "+this[k].Ya());return a+")"});function Ai(){W[r](this)}K(Ai,W);g(Ai[t],Kb("cross_product"));function Bi(a,b){W[r](this);this.f=a;this.Mb=b}K(Bi,W);
g(Bi[t],function(){var a="project("+this.f[D]();if(null!==this.Mb)var b=this.Mb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Ci(a){W[r](this);this.K=a}K(Ci,W);g(Ci[t],function(){return"order_by("+Gf(this.K)+")"});function Di(a){W[r](this);this.f=a}K(Di,W);g(Di[t],function(){return"aggregation("+this.f[D]()+")"});function Ei(a){W[r](this);this.f=a}K(Ei,W);g(Ei[t],function(){return"group_by("+this.f[D]()+")"});function Fi(a){W[r](this);this.U=a}K(Fi,W);
g(Fi[t],function(){return"limit("+this.U+")"});function Gi(a){W[r](this);this.L=a}K(Gi,W);g(Gi[t],function(){return"skip("+this.L+")"});function Hi(a,b){W[r](this);this.X=a;this.hc=b}K(Hi,W);g(Hi[t],function(){return"join(type: "+(this.hc?"outer":"inner")+", "+this.X[D]()+")"});function Ii(){};function Ji(){}K(Ji,Ii);Ji[t].wb=function(a){this.Z=a;this.Wa(this.Z);return this.Z};Ji[t].Wa=function(a){if(a instanceof yi){var b=Ki(this,a.X),b=Li(this,b);Gh(a,a,b[0],b[1]);a==this.Z&&(this.Z=b[0]);a=b[0]}R(a)[F](function(a){this.Wa(a)},this)};function Ki(a,b){if(0==R(b)[C]||"and"!=b.Qb)return[b];var c=R(b)[n]().map(function(a){b[ib](a);return Ki(this,a)},a);return sc(c)}function Li(a,b){var c=null,d=null;b.map(function(a,b){var l=new yi(a);0==b?c=l:sf(d,l);d=l},a);return[c,d]};function Mi(){}K(Mi,Ii);Mi[t].wb=function(a){this.Z=a;this.Wa(this.Z);return this.Z};Mi[t].Wa=function(a){if(a instanceof Ai)for(;2<R(a)[C];){for(var b=new Ai,c=0;2>c;c++){var d=uf(a,0);sf(b,d)}tf(a,b,0)}R(a)[F](function(a){this.Wa(a)},this)};function Ni(){V[r](this,0,0)}K(Ni,V);g(Ni[t],Kb("cross_product"));Ni[t].ea=function(a,b){for(var c=b[0],d=b[1],f=[],h=Q(c),l=Q(d),q=0;q<c[B][C];q++)for(var y=0;y<d[B][C];y++){var O=bf(c[B][q],h,d[B][y],l);f[x](O)}c=Q(c)[Ra](Q(d));return[new Oe(f,c)]};function Oi(a,b){Jf[r](this,a,b);this.Ra=a.m(Md);this.Bb=a.m(Nd)}K(Oi,Jf);Da(Oi[t],Kb(2));Oi[t].Zd=function(a){0==this.O()?Pi(this,a):this.Mc()};function Pi(a,b){a.td[F](function(a,d){a instanceof Ff&&Mf(this.Bb,a,b[d])},a)}Oi[t].Mc=function(){var a=Of(this.Bb,this.ba());0!=a[C]&&(a=new Lf(this[Wa],a),Pf(this.Ra,a))};function Qi(a){Af[r](this,a)}K(Qi,Af);Qi[t].ba=function(){var a=N();a.add(this.c);var b=this.da[Ab]();Ri(this.c[u](),b.g)[F](a.add[E](a));return a};la(Qi[t],function(){var a=new Qi(this.da);Df(a,this);a.c=this.c;return a});Aa(Qi[t],function(a){Qi.Fb[E][r](this,a);Ef(this,a);return this});function Si(a){Af[r](this,a)}K(Si,Af);Si[t].ba=function(){var a=N();a.add(this.Ba);var b=this.da[Ab]();Ri(this.Ba[u](),b.Ve)[F](a.add[E](a));this.Yb&&Ri(this.Ba[u](),b.g)[F](a.add[E](a));return a};la(Si[t],function(){var a=new Si(this.da);Df(a,this);a.Ba=this.Ba;this[eb]&&ua(a,this[eb]instanceof cf?this[eb]:this[eb][n]());a.Yb=this.Yb;a.Zb=this.Zb;return a});
Aa(Si[t],function(a){Si.Fb[E][r](this,a);this.Zb&&ua(this,this.Zb instanceof cf?a[this.Zb.Ha()]:this.Zb.map(function(b){return b instanceof cf?a[b.Ha()]:b}));return this});function Ti(a){Af[r](this,a)}K(Ti,Af);Ti[t].ba=function(){var a=N();a.add(this[k]);var b=this.set.map(function(a){return a.I.l()}),c=this.da[Ab]();Ui(c,b)[F](a.add[E](a));Vi(c,b)[F](a.add[E](a));return a};la(Ti[t],function(){var a=new Ti(this.da);Df(a,this);ia(a,this[k]);a.set=this.set?this.set[n]():this.set;return a});Aa(Ti[t],function(a){Ti.Fb[E][r](this,a);this.set[F](function(b){-1!=b.Wc&&pa(b,a[b.Wc])});Ef(this,a);return this});function Wi(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+hd(b)+"'";default:return"'"+b[D]()+"'"}}function Xi(a,b){var c=a.Yb?"INSERT OR REPLACE":"INSERT",d=a.Ba.eb(),c=c+(" INTO "+a.Ba[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[eb].map(function(a){var h=d.map(function(c){var d=a.o[c[u]()];return b?null!=d?"#":"NULL":Wi(c.O(),d)});return c+h[m](", ")+");"})[m]("\n")}
function Yi(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Zi(a,b,c,d){return a instanceof cf?"?"+a.Ha()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Wi(c,a)})[m](", ")+")":"between"==b?Wi(c,a[0])+" AND "+Wi(c,a[1]):Wi(c,a)[D]()}
function $i(a,b){return R(a).map(function(a){return"("+aj(a,b)+")"})[m]("and"==a.Qb?" AND ":" OR ")}function bj(a){return[a.Ca.l(),Yi(a.N),a.Ea.l()][m](" ")}function aj(a,b){if(a instanceof xf){var c=a.I.l(),d=Yi(a.N),f=Zi(a[v],a.N,a.I.O(),b);return"="==d&&"NULL"==f?[c,"IS NULL"][m](" "):"<>"==d&&"NULL"==f?[c,"IS NOT NULL"][m](" "):[c,d,f][m](" ")}if(a instanceof Ih)return $i(a,b);if(a instanceof Sh)return bj(a);throw new P(357,typeof a);}function cj(a,b){var c=aj(a,b);return c?" WHERE "+c:""}
function dj(a,b){var c="UPDATE "+a[k][u]()+" SET ",c=c+a.set.map(function(a){var b=a.I.l()+" = ";return-1!=a.Wc?b+"?"+a.Wc[D]():b+Wi(a.I.O(),a[v])[D]()})[m](", ");a.B&&(c+=cj(a.B,b));return c+";"}
function ej(a,b){var c="*";a.f[C]&&(c=a.f.map(function(a){return a.Ya()?a.l()+" AS "+a.Ya():a.l()})[m](", "));c="SELECT "+c+" FROM ";null!=a.ub&&0!=a.ub[G]?c+=fj(a,b):(c+=a.c.map(gj)[m](", "),a.B&&(c+=cj(a.B,b)));if(a.K)var d=a.K.map(function(a){return a.I.l()+(0==a.jb?" DESC":" ASC")})[m](", "),c=c+(" ORDER BY "+d);a.ga&&(d=a.ga.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.U&&(c+=" LIMIT "+a.U[D]());a.L&&(c+=" SKIP "+a.L[D]());return c+";"}
function gj(a){return $e(a)!=a[u]()?a[u]()+" AS "+$e(a):a[u]()}function fj(a,b){for(var c=Bh(a.B,function(a){return a instanceof Sh}),d=c.map(bj),f=gj(a.c[0]),h=1;h<a.c[C];h++)var l=gj(a.c[h]),f=a.ub.has(c[d[C]-h].W())?f+(" LEFT OUTER JOIN "+l):f+(" INNER JOIN "+l),f=f+(" ON ("+d[d[C]-h]+")");c=pf(a.B);c instanceof Sh||(f+=" WHERE "+aj(c,b));return f}
function hj(a,b){var c=b||!1,d=a.a[Oa]();if(d instanceof Si)return Xi(d,c);if(d instanceof Qi){var f="DELETE FROM "+d.c[u]();d.B&&(f+=cj(d.B,c));return f+";"}if(d instanceof Ti)return dj(d,c);if(d instanceof Ff)return ej(d,c);throw new P(358,typeof d);};function ij(a,b){this.global=a;this.hg=a.m(Ld);this.Ra=a.m(Md);this.a=b}J("lf.query.BaseBuilder",ij);ma(ij[t],function(){try{this.cb()}catch(a){return Oc(a)}return new L(function(a,c){var d=new Oi(this[Wa],[this.zc()]);Pf(this.Ra,d)[z](function(c){a(Pe(c[0]))},c)},this)});ma(ij[t],ij[t][Pa]);ij[t].Ce=function(){var a=function(a){return a.Qc(this.a)+"\n"}[E](this);return Hh(jj(this).gb(),a)};ij[t].explain=ij[t].Ce;Aa(ij[t],function(a){this.a[E](a);return this});Aa(ij[t],ij[t][E]);
ij[t].og=function(a){return hj(this,a)};ij[t].toSql=ij[t].og;ij[t].cb=Ib();function jj(a){if(null==a.We){var b;b=a.hg;var c=a.a,d=b.Xf[lb](c);b=b.fg[lb](d,c);a.We=b}return a.We}ij[t].zc=function(){return{context:this.a[Oa](),be:jj(this)}};function kj(a){ij[r](this,a,new Qi(a.m(Od)))}K(kj,ij);J("lf.query.DeleteBuilder",kj);kj[t].c=function(a){if(null!=this.a.c)throw new P(515);this.a.c=a;return this};kj[t].from=kj[t].c;kj[t].B=function(a){this.Bd();this.a.B=a;return this};kj[t].where=kj[t].B;kj[t].Bd=function(){if(null!=this.a.B)throw new P(516);};kj[t].cb=function(){kj.Fb.cb[r](this);if(null==this.a.c)throw new P(517);};function lj(a,b){ij[r](this,a,new Si(a.m(Od)));this.a.Yb=b||!1}K(lj,ij);J("lf.query.InsertBuilder",lj);lj[t].cb=function(){lj.Fb.cb[r](this);var a=this.a;if(null==a.Ba||null==a[eb])throw new P(518);if(a.Yb&&null===a.Ba.Ab().hd())throw new P(519);};lj[t].Ba=function(a){if(null!=this.a.Ba)throw new P(520);this.a.Ba=a;return this};lj[t].into=lj[t].Ba;ua(lj[t],function(a){if(null!=this.a[eb])throw new P(521);a instanceof cf||a[bb](function(a){return a instanceof cf})?this.a.Zb=a:ua(this.a,a);return this});
ua(lj[t],lj[t][eb]);function mj(a){return nj("and",e[t][n][r](arguments))}J("lf.op.and",mj);J("lf.op.or",function(a){return nj("or",e[t][n][r](arguments))});function nj(a,b){var c=new Ih(a);b[F](function(a){sf(c,a)});return c}J("lf.op.not",function(a){a.wd(!0);return a});function X(a,b){ij[r](this,a,new Ff(a.m(Od)));this.De=this.xd=!1;this.a.f=b;oj(this);pj(this)}K(X,ij);J("lf.query.SelectBuilder",X);X[t].cb=function(){X.Fb.cb[r](this);var a=this.a;if(null==a.c)throw new P(522);if(Mb(a.Pb)&&!Mb(a.U)||Mb(a.Xb)&&!Mb(a.L))throw new P(523);null!=this.a.ga?qj(this):rj(this)};function oj(a){var b=a.a.f[Fa](function(a){return a instanceof bi&&"DISTINCT"==a.Gb},a);if(0!=b[C]&&(1!=b[C]||1!=a.a.f[C]))throw new P(524);}
function qj(a){var b=a.a.f[Fa](function(a){return!(a instanceof bi)}).map(function(a){return a.l()}),c=!1;if(0==a.a.ga[C]||0==a.a.f[C])c=!0;else{var d=a.a.ga.map(function(a){return a.l()});(c=b[bb](function(a){return-1==d[$a](a)}))||(c=a.a.ga[bb](function(a){a=a.O();return 6==a||0==a}))}if(c)throw new P(525);}function rj(a){var b=a.a.f[bb](function(a){return a instanceof bi},a);a=a.a.f[bb](function(a){return!(a instanceof bi)},a)||0==a.a.f[C];if(b&&a)throw new P(526);}
function pj(a){a.a.f[F](function(a){if(a instanceof bi&&!sj(a.Gb,a.O()))throw new P(527,a.l());},a)}X[t].c=function(a){if(this.De)throw new P(515);this.De=!0;null==this.a.c&&(this.a.c=[]);this.a.c[x][yb](this.a.c,e[t][n][r](arguments));return this};X[t].from=X[t].c;X[t].B=function(a){if(this.xd)throw new P(516);this.xd=!0;tj(this,a);return this};X[t].where=X[t].B;function tj(a,b){if(null!=a.a.B){var c=mj(b,a.a.B);a.a.B=c}else a.a.B=b}
X[t].Qf=function(a,b){if(null==this.a.c)throw new P(542);if(this.xd)throw new P(547);this.a.c[x](a);tj(this,b);return this};X[t].innerJoin=X[t].Qf;X[t].Vf=function(a,b){if(!(b instanceof Sh))throw new P(541);if(null==this.a.c)throw new P(542);if(this.xd)throw new P(547);this.a.c[x](a);null==this.a.ub&&(this.a.ub=N());var c=b;$e(a)!=$e(b.Ea.J())&&(c=b[gb]());this.a.ub.add(c.W());tj(this,c);return this};X[t].leftOuterJoin=X[t].Vf;
X[t].U=function(a){if(null!=(this.a.U||this.a.Pb))throw new P(528);if(a instanceof cf)this.a.Pb=a;else{if(0>a)throw new P(531);this.a.U=a}return this};X[t].limit=X[t].U;X[t].L=function(a){if(null!=(this.a.L||this.a.Xb))throw new P(529);if(a instanceof cf)this.a.Xb=a;else{if(0>a)throw new P(531);this.a.L=a}return this};X[t].skip=X[t].L;X[t].K=function(a,b){null==this.a.K&&(this.a.K=[]);this.a.K[x]({I:a,jb:null!=b?b:1});return this};X[t].orderBy=X[t].K;
X[t].ga=function(a){if(null!=this.a.ga)throw new P(530);null==this.a.ga&&(this.a.ga=[]);this.a.ga[x][yb](this.a.ga,e[t][n][r](arguments));return this};X[t].groupBy=X[t].ga;function sj(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(X[t],function(){var a=new X(this[Wa],this.a.f);a.a=this.a[Oa]();a.a.$c=null;return a});la(X[t],X[t][Oa]);function uj(a,b){ij[r](this,a,new Ti(a.m(Od)));ia(this.a,b)}K(uj,ij);J("lf.query.UpdateBuilder",uj);uj[t].set=function(a,b){var c={Wc:b instanceof cf?b.Ha():-1,I:a,value:b};null!=this.a.set?this.a.set[x](c):this.a.set=[c];return this};uj[t].set=uj[t].set;uj[t].B=function(a){this.Bd();this.a.B=a;return this};uj[t].where=uj[t].B;uj[t].Bd=function(){if(null!=this.a.B)throw new P(516);};
uj[t].cb=function(){uj.Fb.cb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[bb](function(a){return a[v]instanceof cf}))throw new P(501);};function vj(a){this.a=a;this.wa=null}vj[t].fc=function(){null===this.wa&&(this.wa=this.ed());return this.wa};function wj(a){vj[r](this,a)}K(wj,vj);wj[t].ed=function(){return this.a.Yb?new vi(this.a.Ba,this.a[eb]):new ui(this.a.Ba,this.a[eb])};function xj(a){vj[r](this,a)}K(xj,vj);xj[t].ed=function(){var a=new xi(this.a[k],this.a.set),b=null!=this.a.B?new yi(this.a.B.Ib()):null,c=new zi(this.a[k]);null===b?sf(a,c):(sf(b,c),sf(a,b));return a};function yj(a,b,c){this.wa=a;this.ce=b;this.Ub=c}yj[t].fc=function(){this.Ub[F](function(a){this.wa=a.wb(this.wa,this.ce)},this);return this.wa};function zj(a,b){vj[r](this,a);this.Ub=b}K(zj,vj);zj[t].ed=function(){var a=new wi(this.a.c),b=null!=this.a.B?new yi(this.a.B.Ib()):null,c=new zi(this.a.c);null===b?sf(a,c):(sf(b,c),sf(a,b));return(new yj(a,this.a,this.Ub)).fc()};function Aj(){}K(Aj,Ii);Aj[t].wb=function(a,b){this.Z=a;this.Wa(this.Z,b);return this.Z};Aj[t].Wa=function(a,b){if(a instanceof yi&&a.X instanceof Sh){var c=a.X.W(),d=pf(a);d instanceof Ai&&(c=Mb(b)&&null!=b.ub&&b.ub.has(c),c=new Hi(a.X,c),Gh(a,d,c,c),a==this.Z&&(this.Z=c),a=c)}R(a)[F](function(a){this.Wa(a,b)},this)};function Bj(){this.Vc=N()}K(Bj,Ii);Bj[t].wb=function(a){this.Vc[w]();this.Z=a;this.Wa(this.Z);this.Vc[w]();return this.Z};Bj[t].Wa=function(a){if(Cj(a)){var b=a.X instanceof xf?Dj(this,a):Ej(this,a);this.Vc.add(a);b==a&&(b=pf(a));null!==b&&(Pb(b[Cb]())&&(this.Z=b),Cj(b)&&!this.Vc.has(b)&&this.Wa(b))}else R(a)[F](function(a){this.Wa(a)},this)};
function Fj(a,b,c){var d=b;if(pf(b)instanceof yi)d=Eh(b),Fj(a,b,c);else if(Gj(b)){var f=[],d=Fh(b,c,function(a){a=new yi(a.X);f[x](a);return a});f[F](function(a){Fj(this,a,c)},a)}return d}function Dj(a,b){var c=N([$e(b.X.I.J())]),d=function(a){return Hj(this,a,c)}[E](a);return Fj(a,b,d)}function Ej(a,b){var c=N([$e(b.X.Ca.J()),$e(b.X.Ea.J())]),d=function(a){return Hj(this,a,c)}[E](a);return Fj(a,b,d)}
function Hj(a,b,c){var d=N();Ah(b)[F](function(a){d.add($e(a[k]))},a);b instanceof zi&&d.add($e(b[k]));return Ud(d,c)}function Cj(a){return a instanceof yi&&!(a.X instanceof Ih)}function Gj(a){a=pf(a);return a instanceof Ai||a instanceof Hi};function Ij(a,b){vj[r](this,a);this.Ub=b;this.$e=this.Re=this.ef=this.Ue=this.ue=this.Ge=this.df=this.ze=this.gf=null}K(Ij,vj);
Ij[t].ed=function(){Jj(this);2<=this.a.c[C]&&(this.ze=new Ai);this.df=null!=this.a.B?new yi(this.a.B.Ib()):null;this.a.K&&(this.Ue=new Ci(this.a.K));null!=this.a.L&&0<this.a.L&&(this.ef=new Gi(this.a.L));null!=this.a.U&&(this.Re=new Fi(this.a.U));null!=this.a.ga&&(this.Ge=new Ei(this.a.ga));Kj(this);this.$e=new Bi(this.a.f||[],this.a.ga||null);var a=Lj(this);return(new yj(a,this.a,this.Ub)).fc()};
function Lj(a){for(var b=[a.Re,a.ef,a.$e,a.Ue,a.ue,a.Ge,a.df,a.ze],c=null,d=null,f=0;f<b[C];f++){var h=b[f];null!==h&&(null===d?d=h:sf(b[c],h),c=f)}a.gf[F](function(a){sf(b[c],a)});return d}function Jj(a){a.gf=a.a.c.map(function(a){return new zi(a)},a)}function Kj(a){var b=a.a.f[Fa](function(a){return a instanceof bi});null!=a.a.K&&a.a.K[F](function(a){a.I instanceof bi&&b[x](a.I)});0<b[C]&&(a.ue=new Di(b))};function Mj(){this.je=[new Ji,new Mi,new Bj,new Aj];this.Hd=[new Ji]}Mj[t].create=function(a){var b=null;if(a instanceof Si)b=new wj(a);else if(a instanceof Qi)b=new zj(a,this.Hd);else if(a instanceof Ff)b=new Ij(a,this.je);else if(a instanceof Ti)b=new xj(a);else throw new P(513);b=b.fc();return new ti(b,a.ba())};function Nj(a){V[r](this,0,1);this.M=a}K(Nj,V);g(Nj[t],function(){return"delete("+this.M[u]()+")"});Nj[t].ea=function(a,b){var c=b[0][B].map(function(a){return a.sa});a[jb](this.M,c);return[Te()]};function Oj(a,b){V[r](this,0,-1);ia(this,b);this.F=a.m(Kd)}K(Oj,V);g(Oj[t],function(){return"get_row_count("+this[k][u]()+")"});Oj[t].ea=function(){var a=this.F.get(this[k].u+".#"),b=new Oe([],[this[k][u]()]),c=ei(),a=a.Ta().ra;null===b.Xa&&(b.Xa=M());b.Xa.set(c.l(),a);return[b]};function Pj(a,b){V[r](this,0,-1);this.ja=a.m(Jd);this.F=a.m(Kd);ia(this,b)}K(Pj,V);g(Pj[t],function(){var a="table_access("+this[k][u]();null===this[k].Ya()||(a+=" as "+this[k].Ya());return a+")"});Pj[t].ea=function(){var a=this.F.get(this[k].u+".#").fb();return[We(this.ja.get(a),[$e(this[k])])]};function Qj(a){this.j=a}K(Qj,Ii);Qj[t].wb=function(a,b){this.Z=a;if(!Rj(b))return a;var c=Bh(a,function(a){return a instanceof Pj})[0],d=new Oj(this.j,c[k]);Gh(c,c,d,d);return this.Z};function Rj(a){return 1==a.f[C]&&1==a.c[C]&&null==a.B&&null==a.U&&null==a.L&&null==a.ga?(a=a.f[0],a instanceof bi&&"COUNT"==a.Gb&&a[kb]instanceof di):!1};function Tj(a){V[r](this,0,1);this.Fe=a}K(Tj,V);g(Tj[t],function(){return"groupBy("+this.Fe.map(function(a){return a.l()})[D]()+")"});Tj[t].ea=function(a,b){return Uj(this,b[0])};function Uj(a,b){var c=new Qh,d=function(a){return this.Fe.map(function(b){return Ze(a,b)},this)[m](",")}[E](a);b[B][F](function(a){c.add(d(a),a)},a);return c.Oa().map(function(a){return new Oe(c.get(a),Q(b))},a)};function Vj(a){a=a.map(function(a){return a.fa()});a=td[yb](null,a);var b=[];sd(a,function(a){b[x](a)});return b}function Wj(a){this.Nb=a}Wj[t].gd=function(){return 1==this.Nb.f[C]?[Ke()]:[this.Nb.f.map(function(){return Ke()})]};function Xj(a,b){this.Nb=a;this.va=b;this.Fd=this.Pe=null}
function Yj(a,b){var c=M();a.va.Oa()[F](function(a){var f=this.va.get(a).map(function(a){return Bf(b,a)},this),h=new xh([Ke()]);f[F](function(a){var b=null;"between"==a.N?b=new Ge(a[v][0],a[v][1],!1,!1):"eq"==a.N?(b=a[v],b=new Ge(b,b,!1,!1)):b="gte"==a.N?new Ge(a[v],null,!1,!1):"gt"==a.N?new Ge(a[v],null,!0,!1):"lte"==a.N?new Ge(null,a[v],!1,!1):new Ge(null,a[v],!1,!0);a=a.Za?He(b):[b];a=new xh(a);h=yh(h,a)});c.set(a,h)},a);return c}
Xj[t].gd=function(a){if(this.Pe==a)return this.Fd;for(var b=Yj(this,a),c=this.Nb.f[C]-1;0<=c;c--){var d=this.Nb.f[c];if(null!==(b.get(d.da[u]())||null))break;b.set(d.da[u](),new xh([Ke()]))}this.Fd=1==this.Nb.f[C]?zd(b)[0].fa():Vj(Zj(this,b));this.Pe=a;return this.Fd};function Zj(a,b){var c=M(),d=0;a.Nb.f[F](function(a){c.set(a.da[u](),d);d++});return yd(b)[Za](function(a,b){return c.get(a)-c.get(b)}).map(function(a){return b.get(a)})};function ak(a,b){this.jf=b;this.F=a.m(Kd)}function bk(a,b,c){c=c[Fa](a.Rf,a);if(0==c[C])return null;a=ck(a,c);if(0==a[C])return null;if(1==a[C])return a[0];var d=Number.MAX_VALUE;return a[Ja](function(a,c){var l=dk(c,b);return l<d?(d=l,c):a},null)}function ck(a,b){return a.jf.za().map(function(a){a=new ek(this.F,a);fk(a,b);return a},a)[Fa](function(a){if(null===a.va)a=!1;else{for(var b=!1,f=!0,h=0;h<a.sb.f[C];h++){var l=a.va.ka(a.sb.f[h].da[u]());if(b&&l){f=!1;break}l||(b=!0)}a=f}return a})}
ak[t].Rf=function(a){var b;if(b=a instanceof xf)yf(a),b=null!==a[v]&&("between"==a.N||"eq"==a.N||"gt"==a.N||"gte"==a.N||"lt"==a.N||"lte"==a.N);return b?a.I.J()==this.jf:!1};function ek(a,b){this.F=a;this.sb=b;this.Of=N(this.sb.f.map(function(a){return a.da[u]()}));this.Td=this.va=null}function gk(a){null===a.Td&&(a.Td=new Xj(a.sb,a.va));return a.Td}function fk(a,b){b[F](function(a){var b=a.eb()[0][u]();this.Of.has(b)&&(null===this.va&&(this.va=new Qh),this.va.add(b,a.W()))},a)}
function dk(a,b){var c=gk(a).gd(b),d=a.F.get(a.sb.l());return c[Ja](function(a,b){return a+d.bd(b)},0)};function hk(a,b,c,d){V[r](this,0,-1);this.F=a.m(Kd);this.index=b;this.Ne=c;this.ge=d;this.Uc=this.Tc=!1}K(hk,V);g(hk[t],function(){return"index_range_scan("+this[ob].l()+", ?, "+(this.ge?"reverse":"natural")+(this.Tc?", limit:?":"")+(this.Uc?", skip:?":"")+")"});hk[t].Qc=function(a){var b=this[D](),c=this.Ne.gd(a),b=b[fb]("?",c[D]());this.Tc&&(b=b[fb]("?",a.U[D]()));this.Uc&&(b=b[fb]("?",a.L[D]()));return b};
hk[t].ea=function(a,b,c){a=this.Ne.gd(c);b=this.F.get(this[ob].l());c=(1==a[C]&&a[0]instanceof Ge&&Me(a[0])?Fg(b.get(a[0].c),!1,this.Tc?c.U:void 0,this.Uc?c.L:void 0):b.fb(a,this.ge,this.Tc?c.U:void 0,this.Uc?c.L:void 0)).map(function(a){return new dd(a,{})},this);return[We(c,[this[ob].Pc])]};function ik(a){V[r](this,0,1);this.sd=a}K(ik,V);g(ik[t],Kb("select(?)"));ik[t].Qc=function(a){a=Bf(a,this.sd);return this[D]()[fb]("?",a[D]())};ik[t].ea=function(a,b,c){return[Bf(c,this.sd).eval(b[0])]};function jk(a,b){V[r](this,0,1);this.ja=a.m(Jd);this.M=b}K(jk,V);g(jk[t],function(){return"table_access_by_row_id("+this.M[u]()+")"});jk[t].ea=function(a,b){return[We(this.ja.get(Qe(b[0])),[$e(this.M)])]};function kk(a){this.j=a}K(kk,Ii);kk[t].wb=function(a,b){this.Z=a;Bh(a,function(a){return a instanceof Pj})[F](function(a){var d=lk(a);if(0!=d[C]){var f=bk(new ak(this.j,a[k]),b,d.map(function(a){return Bf(b,a.sd)}));if(null!==f){var h=M();d[F](function(a){h.set(a.sd,a)},this);this.Z=mk(this,f,h,a)}}},this);return this.Z};function lk(a){var b=[];for(a=a[Cb]();a;)a instanceof ik&&b[x](a),a=a[Cb]();return b}
function mk(a,b,c,d){(null===b.va?[]:b.va.fa()).map(function(a){return c.get(a)})[F](Ch);b=new hk(a.j,b.sb,gk(b),!1);a=new jk(a.j,d[k]);sf(a,b);Gh(d,d,a,b);return b.gb()};function nk(a,b){V[r](this,0,-1);this.F=a.m(Kd);this.M=b}K(nk,V);g(nk[t],function(){return"insert("+this.M[u]()+")"});nk[t].ea=function(a,b,c){ok(this.M,c[eb],this.F);a.tb(this.M,c[eb]);return[We(c[eb],[this.M[u]()])]};function ok(a,b,c){a=a.Ab().hd();if(null===a?0:a.f[0][qb]){var d=a.f[0].da[u]();c=c.get(a.l()).max();var f=null===c?0:c[0];b[F](function(a){if(0==a.o[d]||null==a.o[d])f++,a.o[d]=f})}}function pk(a,b){V[r](this,0,-1);this.F=a.m(Kd);this.M=b}K(pk,V);
g(pk[t],function(){return"insert_replace("+this.M[u]()+")"});pk[t].ea=function(a,b,c){ok(this.M,c[eb],this.F);a.Od(this.M,c[eb]);return[We(c[eb],[this.M[u]()])]};function qk(a,b,c){V[r](this,0,0);this.F=a.m(Kd);this.ja=a.m(Jd);this.X=b;this.hc=c;this.ve="eq"==this.X.N?0:2;this.Nf=null}K(qk,V);var rk=["hash","index_nested_loop","nested_loop"];g(qk[t],function(){return"join(type: "+(this.hc?"outer":"inner")+", impl: "+rk[this.ve]+", "+this.X[D]()+")"});
qk[t].ea=function(a,b){switch(this.ve){case 0:return[Wh(this.X,b[0],b[1],this.hc)];case 1:return[Xh(this.X,b[0],b[1],this.Nf,this.ja)];default:var c=this.X,d=b[0],f=b[1],h=this.hc,l=[d,f];h||(l=Th(c,d,f));for(var d=l[0],f=l[1],l=[],q=Q(d),y=Q(f),O=0;O<d[B][C];O++){var Va=!1,ab=Ze(d[B][O],c.Ca);if(null!==ab)for(var Sb=0;Sb<f[B][C];Sb++)if(c.cd(ab,Ze(f[B][Sb],c.Ea))){var Va=!0,Sj=bf(d[B][O],q,f[B][Sb],y);l[x](Sj)}h&&!Va&&l[x](Vh(c,d[B][O],q))}c=Q(d)[Ra](Q(f));return[new Oe(l,c)]}};function sk(){V[r](this,0,1)}K(sk,V);g(sk[t],Kb("limit(?)"));sk[t].Qc=function(a){return this[D]()[fb]("?",a.U[D]())};sk[t].ea=function(a,b,c){b[0][B][A](c.U);return b};function tk(a){V[r](this,0,1);this.K=a}K(tk,V);I=tk[t];g(I,function(){return"order_by("+Gf(this.K)+")"});I.ea=function(a,b){if(1==b[C]){var c;c=b[0];for(var d=null,f=0;f<this.K[C];f++){var h=fi(this.K[f].I);if(null!==c.Xa&&c.Xa.has(h.l())){d=h;break}}c=d;(null===c?b[0]:Re(b[0],c))[B][Za](this.Gf[E](this))}else b[Za](this.jg[E](this));return b};
I.S=function(a,b){var c=null,d=null,f=null,h=-1;do h++,f=this.K[h].I,c=this.K[h].jb,d=a(f),f=b(f);while(d==f&&h+1<this.K[C]);d=d<f?-1:d>f?1:0;return 1==c?d:-d};I.jg=function(a,b){return this.S(function(b){return b instanceof bi?Re(a,b):Ze(a[B][a[B][C]-1],b)},function(a){return a instanceof bi?Re(b,a):Ze(b[B][b[B][C]-1],a)})};I.Gf=function(a,b){return this.S(function(b){return Ze(a,b)},function(a){return Ze(b,a)})};function uk(a,b){this.Da=a;this.G=b}function vk(a){return a.G[bb](function(a){return a instanceof bi},a)?wk(a):xk(a)}function wk(a){if(1==a.G[C]&&"DISTINCT"==a.G[0].Gb)return a=Re(a.Da,a.G[0])[B].map(function(a){var b=new Xe(new dd(-1,{}),1<this.Da.H[G]);af(b,this.G[0],Ze(a,this.G[0][kb]));return b},a),new Oe(a,[]);var b=new Xe(new dd(-1,{}),1<a.Da.H[G]);a.G[F](function(a){var d=a instanceof bi?Re(this.Da,a):Ze(this.Da[B][0],a);af(b,a,d)},a);return new Oe([b],Q(a.Da))}
function xk(a){var b=e(a.Da[B][C]),c=1<a.Da.H[G];a.Da[B][F](function(a,f){b[f]=new Xe(new dd(a.sa.id(),{}),c);this.G[F](function(c){af(b[f],c,Ze(a,c))},this)},a);return new Oe(b,Q(a.Da))}function yk(a,b){var c=a.map(function(a){return vk(new uk(a,b))[B][0]});return new Oe(c,Q(a[0]))};function zk(a,b){V[r](this,0,1);this.f=a;this.Mb=b}K(zk,V);g(zk[t],function(){var a="project("+this.f[D]();if(null!==this.Mb)var b=this.Mb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});zk[t].ea=function(a,b){var c;0==b[C]?c=[Te()]:1==b[C]?(c=b[0],c=[0==this.f[C]?c:vk(new uk(c,this.f))]):c=[yk(b,this.f)];return c};function Ak(a){return a.f[bb](function(a){return a instanceof bi})||null!==a.Mb};function Bk(){V[r](this,0,1)}K(Bk,V);g(Bk[t],Kb("skip(?)"));Bk[t].Qc=function(a){return this[D]()[fb]("?",a.L[D]())};Bk[t].ea=function(a,b,c){return[new Oe(b[0][B][n](c.L),Q(b[0]))]};function Ck(){}K(Ck,Ii);Ck[t].wb=function(a){var b=Bh(a,function(a){return a instanceof sk||a instanceof Bk});if(0==b[C])return a;var c=Dk(a);if(null===c)return a;b[F](function(a){a instanceof sk?c.Tc=!0:c.Uc=!0;Ch(a)},this);return c.gb()};function Dk(a){a=Bh(a,function(a){return a instanceof hk},function(a){return a instanceof zk&&Ak(a)||a instanceof tk||1!=R(a)[C]||a instanceof ik});return 0<a[C]?a[0]:null};function Ek(a){this.j=a}K(Ek,Ii);Ek[t].wb=function(a){var b=Fk(a);if(null===b)return a;a:{var c=b;a=Gk(pf(b));if(null!==a){var d;d=b.K;for(var f=null,h=a[k].za(),l=0;l<h[C]&&null===f;l++)f=Hk(h[l],d);d=f;if(null===d){a=c;break a}c=new hk(this.j,d.sb,new Wj(d.sb),d.Ke);d=new jk(this.j,a[k]);sf(d,c);Ch(b);c=Gh(a,a,d,c)}a=c}if(a==b)a:if(a=b,c=Ik(pf(b)),null!==c){d=Hk(c[ob],b.K);if(null===d)break a;c.ge=d.Ke;a=Ch(b).parent}return a.gb()};
function Ik(a){a=Bh(a,function(a){return a instanceof hk},function(a){return 1!=R(a)[C]});return 0<a[C]?a[0]:null}function Gk(a){a=Bh(a,function(a){return a instanceof Pj},function(a){return 1!=R(a)[C]});return 0<a[C]?a[0]:null}function Fk(a){a=Bh(a,function(a){return a instanceof tk});return 0<a[C]?a[0]:null}function Hk(a,b){if(a.f[C]!=b[C]||!b[Ta](function(b,c){return b.I[u]()==a.f[c].da[u]()}))return null;var c=Jk(b,a);return c[0]||c[1]?{sb:a,Ke:c[1]}:null}
function Jk(a,b){var c=a[Ja](function(a,b){return a<<1|(0==b.jb?0:1)},0),d=b.f[Ja](function(a,b){return a<<1|(0==b.jb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[C],b.f[C]))-1;return[c,d]};function Kk(a,b,c){this.wa=a;this.ce=b;this.Ub=c}Kk[t].fc=function(){this.Ub[F](function(a){this.wa=a.wb(this.wa,this.ce)},this);return this.wa};function Lk(a,b){V[r](this,0,1);this.M=a;this.rg=b}K(Lk,V);g(Lk[t],function(){return"update("+this.M[u]()+")"});Lk[t].ea=function(a,b){var c=b[0][B].map(function(a){var b=this.M.bc(a.sa.Fa());this.rg[F](function(a){b.o[a.I[u]()]=a[v]},this);return b},this);a[Ua](this.M,c);return[Te()]};function Mk(a){this.j=a;this.je=[new kk(this.j),new Ek(this.j),new Ck,new Qj(this.j)];this.Hd=[new kk(this.j)]}Mk[t].create=function(a,b){var c=a.gb();if(c instanceof vi||c instanceof ui)return Nk(this,a,b);if(c instanceof Bi||c instanceof Fi||c instanceof Gi)return Nk(this,a,b,this.je);if(c instanceof wi||c instanceof xi)return Nk(this,a,b,this.Hd);throw new P(8);};function Nk(a,b,c,d){a=zh(b.gb(),a.Zf[E](a));null!=d&&(a=(new Kk(a,c,d)).fc());return new Hf(a,b.ba())}
Mk[t].Zf=function(a){if(a instanceof Bi)return new zk(a.f,a.Mb);if(a instanceof Ei)return new Tj(a.f);if(a instanceof Di)return new ji(a.f);if(a instanceof Ci)return new tk(a.K);if(a instanceof Gi)return new Bk;if(a instanceof Fi)return new sk;if(a instanceof yi)return new ik(a.X.W());if(a instanceof Ai)return new Ni;if(a instanceof Hi)return new qk(this.j,a.X,a.hc);if(a instanceof zi)return new Pj(this.j,a[k]);if(a instanceof wi)return new Nj(a[k]);if(a instanceof xi)return new Lk(a[k],a.oe);if(a instanceof
vi)return new pk(this.j,a[k]);if(a instanceof ui)return new nk(this.j,a[k]);throw new P(514);};function Ok(a){this.Xf=new Mj;this.fg=new Mk(a)};function Pk(){this.Se=M()}function Qk(a,b){var c=a.Se.get(b[u]())||null;null===c&&(c=new Rk,a.Se.set(b[u](),c));return c}function Sk(a,b,c,d){c[F](function(a){a=Qk(this,a);0==d?(a.ab=null,a.tc=b):3==d?(null===a.Wb&&(a.Wb=N()),a.Wb.add(b),null===a.Qa&&(a.Qa=N()),a.Qa[Ya](b)):1==d?(null===a.Qa&&(a.Qa=N()),a.Qa.add(b)):2==d&&(a.ab=b)},a)}
function Tk(a,b,c,d){var f=!0;c[F](function(a){if(f){a=Qk(this,a);var c=null===a.Qa||0==a.Qa[G];f=0==d?(null===a.Wb||0==a.Wb[G])&&c&&null===a.tc&&null!==a.ab&&a.ab==b:3==d?null===a.tc&&null===a.ab&&null!==a.Qa&&a.Qa.has(b):1==d?null===a.ab:c&&(null===a.ab||a.ab==b)}},a);return f}function Uk(a,b,c,d){var f=Tk(a,b,c,d);f&&Sk(a,b,c,d);return f}Pk[t].releaseLock=function(a,b){b[F](function(b){Qk(this,b).releaseLock(a)},this)};function Vk(a,b){b[F](function(a){Qk(this,a).ab=null},a)}
function Rk(){this.Wb=this.Qa=this.ab=this.tc=null}Rk[t].releaseLock=function(a){this.tc==a&&(this.tc=null);this.ab==a&&(this.ab=null);null===this.Qa||this.Qa[Ya](a);null===this.Wb||this.Wb[Ya](a)};function Wk(){this.Sb=new Xk;this.Dc=new Pk}function Pf(a,b){(2>b[Eb]()||2>b[Eb]())&&Vk(a.Dc,b.ba());a.Sb.tb(b);Yk(a);return b.xc().ia}function Yk(a){for(var b=a.Sb.fa(),c=0;c<b[C];c++){var d=b[c],f=!1;if(f=0==d.O()?Zk(a,d,1,3):Zk(a,d,2,0))a.Sb[jb](d),f=a,d[Pa]()[z](f.dg[E](f,d),f.cg[E](f,d))}}function Zk(a,b,c,d){var f=!1;Uk(a.Dc,b.W(),b.ba(),c)&&(f=Uk(a.Dc,b.W(),b.ba(),d));return f}Wk[t].dg=function(a,b){this.Dc.releaseLock(a.W(),a.ba());a.xc()[Gb](b);Yk(this)};
Wk[t].cg=function(a,b){this.Dc.releaseLock(a.W(),a.ba());a.xc()[Ka](b);Yk(this)};function Xk(){this.Sb=[]}Xk[t].tb=function(a){qc(this.Sb,a,function(a,c){var d=a[Eb]()-c[Eb]();return 0==d?a.W()-c.W():d})};Xk[t].fa=function(){return this.Sb[n]()};va(Xk[t],function(a){var b=this.Sb;a=ec(b,a);var c;(c=0<=a)&&jc(b,a);return c});function $k(a,b){this.Id=df.fd();this.de=a;this.od=b;this.G=al(this)}function al(a){if(0<a.de.f[C])return a.de.f;var b=[];a.de.c[F](function(a){a.eb()[F](function(a){b[x](a)})});return b}$k[t].S=function(a,b){return this.G[Ta](function(c){return kf(this.Id,c.O(),"eq")(Ze(a,c),Ze(b,c))},this)};
function bl(a,b,c){var d=null===b?[]:b[B],f=kd(d,c[B],a.S[E](a),function(a){return d[a]});b=[];for(var h=0,l=0;l<d[C];l++){var q=d[l];f[h]==q?h++:(q=a.od[A](h,1),q=cl(l,q,0,a.od),b[x](q))}f=kd(d,c[B],a.S[E](a),function(a,b){return c[B][b]});for(l=h=0;l<c[B][C];l++)q=c[B][l],f[h]==q?h++:(a.od[A](l,0,q.sa.o),q=cl(l,[],1,a.od),b[x](q));return b}function cl(a,b,c,d){return{sg:c,index:a,object:d,wg:b,type:"splice"}};function dl(){this.dc=M()}dl[t].zd=function(a,b){var c=Vb(a.a)[D](),d=this.dc.get(c)||null;null===d&&(d=new el(a),this.dc.set(c,d));d.zd(b)};dl[t].fe=function(a,b){var c=Vb(a.a)[D](),d=this.dc.get(c)||null;d.fe(b);0<d.Hc[G]||this.dc[Ya](c)};function Of(a,b){var c=N();b[F](function(a){c.add(a[u]())});var d=[];a.dc[F](function(a){a=a.zc();a[pb].c[bb](function(a){return c.has(a[u]())})&&d[x](a)});return d}function Mf(a,b,c){b=Vb(null!=b.$c?b.$c:b)[D]();a=a.dc.get(b)||null;null!==a&&fl(a,c)}
function el(a){this.xf=a;this.Hc=N();this.ag=[];this.Qe=null;this.Ef=new $k(a.a,this.ag)}el[t].zd=function(a){this.Hc.has(a)||this.Hc.add(a)};el[t].fe=function(a){return this.Hc[Ya](a)};el[t].zc=function(){var a=this.xf;return{context:a.a,be:jj(a)}};function fl(a,b){var c=bl(a.Ef,a.Qe,b);a.Qe=b;0<c[C]&&a.Hc[F](function(a){a(c)})};function gl(a,b){var c=a.m(Od),d=b||{},f=new Cg;a.kb(Jd,f);var f=null,h=!1;switch(d.storeType||0){case 1:f=new pg(c);break;case 5:f=new rg(c);break;case 4:f=new yg(a,c,d.webSqlDbSize);break;case 3:f=new ag(c,d.firebase);h=!0;break;default:f=new lg(a,c)}a.kb(Id,f);var l=new wh;a.kb(Kd,l);return f.Aa(d.onUpgrade)[z](function(){var b=new Ok(a);a.kb(Ld,b);b=new Wk;a.kb(Md,b);b=new dl;a.kb(Nd,b);return l.Aa(c)})[z](function(){if(h){var b=new Qf(a);b.xb.subscribe(b.Xd[E](b))}return(new ph(a)).Aa(c)})};function hl(a,b){this.j=a;this.xb=a.m(Id);this.Ra=a.m(Md);this.Bb=a.m(Nd);this.qa=N(b);this.Pa=new Ce(this.j,this.qa);this.Tb=Sc();this.uc=Sc();this.qe=Sc()}I=hl[t];ma(I,function(){this.qe[Gb]();return this.uc.ia});I.O=Kb(1);I.ba=H("qa");I.xc=H("Tb");I.W=function(){return Vb(this)};Da(I,Kb(2));function il(a){Pf(a.Ra,a);return a.qe.ia}
function jl(a,b){var c=b.zc();return c.be.gb()[Pa](a.Pa,c[pb])[z](function(a){return Pe(a[0])},function(a){this.Pa.Db();var b=new Yc(a[p]);this.uc[Ka](b);throw a;}[E](a))}I.ma=function(){this.xb.Jb(this.O(),this.Pa).ma()[z](function(){this.Mc();this.uc[Gb]()}[E](this),function(a){this.Pa.Db();this.uc[Ka](a)}[E](this));return this.Tb.ia};I.Db=function(){this.Pa.Db();this.uc[Gb]();return this.Tb.ia};I.Mc=function(){var a=Of(this.Bb,this.qa);0!=a[C]&&(a=new Lf(this.j,a),Pf(this.Ra,a))};function kl(a){this.j=a;this.Ra=a.m(Md);this.Rc=null;this.Sa=0;0==ll[G]&&(ll.set(0,N([1,4])),ll.set(1,N([2])),ll.set(2,N([3,5,6])),ll.set(3,N([2,7])),ll.set(4,N([7])),ll.set(5,N([7])),ll.set(6,N([7])))}J("lf.proc.Transaction",kl);var ll=M();function ml(a,b){var c=ll.get(a.Sa)||null;if(null===c||!c.has(b))throw new P(107,a.Sa,b);a.Sa=b}
ma(kl[t],function(a){ml(this,4);var b=[];try{a[F](function(a){a.cb();b[x](a.zc())},this)}catch(c){return ml(this,7),Oc(c)}a=new Oi(this.j,b);return Pf(this.Ra,a)[z](function(a){ml(this,7);return a.map(function(a){return Pe(a)})}[E](this),function(a){ml(this,7);throw a;}[E](this))});ma(kl[t],kl[t][Pa]);kl[t].vf=function(a){ml(this,1);this.Rc=new hl(this.j,a);return il(this.Rc)[z](function(){ml(this,2)}[E](this))};kl[t].begin=kl[t].vf;
kl[t].uf=function(a){ml(this,3);return jl(this.Rc,a)[z](function(a){ml(this,2);return a}[E](this),function(a){ml(this,7);throw a;}[E](this))};kl[t].attach=kl[t].uf;kl[t].ma=function(){ml(this,5);return this.Rc.ma()[z](function(){ml(this,7)}[E](this))};kl[t].commit=kl[t].ma;kl[t].Db=function(){ml(this,6);return this.Rc.Db()[z](function(){ml(this,7)}[E](this))};kl[t].rollback=kl[t].Db;function Y(a){this.j=a;this.s=a.m(Od);this.Nd=!1}J("lf.proc.Database",Y);Y[t].Aa=function(a){this.j.kb(Od,this.s);return gl(this.j,a)[z](function(){this.Nd=!0;return this}[E](this))};Y[t].init=Y[t].Aa;Y[t].rb=H("s");Y[t].getSchema=Y[t].rb;function nl(a){if(!a.Nd)throw new P(2);}Y[t].select=function(a){nl(this);return new X(this.j,1!=arguments[C]||null!=arguments[0]?e[t][n][r](arguments):[])};Y[t].select=Y[t].select;Y[t].tb=function(){nl(this);return new lj(this.j)};Y[t].insert=Y[t].tb;
Y[t].Od=function(){nl(this);return new lj(this.j,!0)};Y[t].insertOrReplace=Y[t].Od;qa(Y[t],function(a){nl(this);return new uj(this.j,a)});qa(Y[t],Y[t][Ua]);ra(Y[t],function(){nl(this);return new kj(this.j)});Y[t]["delete"]=Y[t][Ya];Y[t].observe=function(a,b){this.j.m(Nd).zd(a,b)};Y[t].observe=Y[t].observe;Y[t].unobserve=function(a,b){this.j.m(Nd).fe(a,b)};Y[t].unobserve=Y[t].unobserve;Y[t].Cf=function(){nl(this);return new kl(this.j)};Y[t].createTransaction=Y[t].Cf;
oa(Y[t],function(){try{this.j.m(Id)[Qa]()}catch(a){}this.j[w]();this.Nd=!1});oa(Y[t],Y[t][Qa]);function Z(a,b,c,d,f,h){this.M=a;this.u=b;this.Le=c;this.Je=d;this.nf=f;this.bb=h||null}J("lf.schema.BaseColumn",Z);I=Z[t];na(I,H("u"));I.l=function(){return $e(this.M)+"."+this.u};g(I,function(){return this.l()});I.J=H("M");I.O=H("nf");Z[t].getType=Z[t].O;Z[t].Ya=H("bb");Z[t].za=function(){null==this.ha&&(this.ha=[],this.J().za()[F](function(a){-1!=a.f.map(function(a){return a.da[u]()})[$a](this.u)&&this.ha[x](a)},this));return this.ha};
Z[t].Ha=function(){if(!Mb(this.ca)){var a=this.za()[Fa](function(a){return 1!=a.f[C]?!1:a.f[0].da[u]()==this[u]()},this);this.ca=0<a[C]?a[0]:null}return this.ca};Z[t].Bc=H("Je");Z[t].isNullable=Z[t].Bc;Z[t].Cc=H("Le");Z[t].Na=function(a){return Yh(this,a,"eq")};Z[t].eq=Z[t].Na;Z[t].Te=function(a){return Yh(this,a,"neq")};Z[t].neq=Z[t].Te;Z[t].Ud=function(a){return Yh(this,a,"lt")};Z[t].lt=Z[t].Ud;Z[t].Yf=function(a){return Yh(this,a,"lte")};Z[t].lte=Z[t].Yf;Z[t].Kf=function(a){return Yh(this,a,"gt")};
Z[t].gt=Z[t].Kf;Z[t].Lf=function(a){return Yh(this,a,"gte")};Z[t].gte=Z[t].Lf;Z[t].match=function(a){return Yh(this,a,"match")};Z[t].match=Z[t].match;Z[t].wf=function(a,b){return Yh(this,[a,b],"between")};Z[t].between=Z[t].wf;Z[t].Mf=function(a){return Yh(this,a,"in")};Z[t]["in"]=Z[t].Mf;Z[t].Tf=function(){return this.Na(null)};Z[t].isNull=Z[t].Tf;Z[t].Sf=function(){return this.Te(null)};Z[t].isNotNull=Z[t].Sf;Z[t].nc=function(a){return new Z(this.M,this.u,this.Le,this.Je,this.nf,a)};Z[t].as=Z[t].nc;function ol(){this.vd=M()}var pl;ta(ol[t],function(){this.vd[w]()});ta(ol[t],ol[t][w]);ol[t].kb=function(a,b){this.vd.set(a[D](),b);return b};ol[t].registerService=ol[t].kb;ol[t].m=function(a){var b=this.vd.get(a[D]())||null;if(null===b)throw new P(7,a[D]());return b};ol[t].getService=ol[t].m;ol[t].Sd=function(a){return this.vd.has(a[D]())};ol[t].isRegistered=ol[t].Sd;function ql(a){this.s=a;this.ee=M();this.Ve=M();this.xe=M();this.g=M();this.Ed=M();rl(this)}function rl(a){a.s.Va()[F](function(a){var c=N();a.Ab().Ld()[F](function(d){var f=this.ee.get(d.$a)||[];f[x](d);this.ee.set(d.$a,f);c.add(this.s[k](d.$a));(f=this.g.get(d.$a))||(f=N());f.add(a);this.g.set(d.$a,f);this.xe.set(a[u]()+"."+d.Hb,d.$a);d=d.$a+"."+d.Jc;f=this.Ed.get(d)||[];f[x](a[u]());this.Ed.set(d,f)},this);0!=c[G]&&this.Ve.set(a[u](),c)},a)}function we(a,b){return a.ee.get(b)||null}
function Ri(a,b){var c=b.get(a);return c?Td(c):[]}function Ui(a,b){var c=N();b[F](function(a){(a=this.xe.get(a))&&c.add(a)},a);return Td(c).map(function(a){return this.s[k](a)},a)}function Vi(a,b){var c=N();b[F](function(a){(a=this.Ed.get(a))&&a[F](function(a){c.add(a)})},a);return Td(c).map(function(a){return this.s[k](a)},a)};function sl(a,b,c){this.gg=a;this.$f=b;this.Jf=c}J("lf.schema.Constraint",sl);sl[t].hd=H("gg");sl[t].getPrimaryKey=sl[t].hd;sl[t].Ld=H("Jf");sl[t].getForeignKeys=sl[t].Ld;function tl(a,b){var c=a.ref[Ia](".");if(2!=c[C])throw new P(540,b);this.Hb=a.local;this.$a=c[0];this.Jc=c[1];ja(this,b);this.action=a.action;this.timing=a[La]};function ul(a){vl(a);this.Id=df.fd();this.u=a;this.G=M();this.me=N();this.Sc=N();this.Gc=N();this.ua=null;this.ha=M();this.rd=!1;this.zb=[]}J("lf.schema.TableBuilder",ul);function wl(a){ja(this,a[p]);this.jb=a.order;this.autoIncrement=a[qb]}var xl=N([0,6]);function vl(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);}function yl(a,b){if(b==a.u)throw new P(546,b);if(a.G.has(b)||a.ha.has(b)||a.Sc.has(b))throw new P(503,a.u+"."+b);}
function zl(a,b){var c=!1;b[F](function(a){var b=this.G.get(a[p]);c=c||a[qb];if(a[qb]&&3!=b)throw new P(504);},a);if(c&&1<b[C])throw new P(505);}function Al(a){if(null!==a.ua){var b=a.ha.get(a.ua).map(function(a){return a[p]}),c=0;if(a.zb[bb](function(a,f){c=f;return-1!=b[$a](a.Hb)},a))throw new P(543,a.zb[c][p]);}}
function Bl(a){if(null!==a.ua){var b=function(a){return a[p]},c=ga[zb](a.ha.get(a.ua).map(b));a.ha[F](function(a,f){if(f!=this.ua){var h=a.map(b);if(ga[zb](h)==c)throw new P(544,this.u+"."+f);}},a)}}function Cl(a){null===a.ua||a.ha.get(a.ua)[F](function(a){if(this.Gc.has(a[p]))throw new P(545,this.u+"."+a[p]);},a)}ul[t].pf=function(a,b){vl(a);yl(this,a);this.G.set(a,b);xl.has(b)&&this.se([a]);return this};ul[t].addColumn=ul[t].pf;
ul[t].rf=function(a,b){var c=this.u;this.ua="pk"+(c[0].toUpperCase()+c.substring(1));vl(this.ua);yl(this,this.ua);c=Dl(this,a,!0,void 0,b);zl(this,c);1==c[C]&&this.me.add(c[0][p]);this.Sc.add(this.ua);this.ha.set(this.ua,c);return this};ul[t].addPrimaryKey=ul[t].rf;
ul[t].qf=function(a,b){vl(a);yl(this,a);var c=new tl(b,this.u+"."+a);Mb(c.action)||(c.action=0);Mb(c[La])||(c.timing=0);if(1==c.action&&1==c[La])throw new P(506);if(!this.G.has(c.Hb))throw new P(540,a);this.zb[x](c);this.re(a,[c.Hb],!1);return this};ul[t].addForeignKey=ul[t].qf;ul[t].sf=function(a,b){vl(a);yl(this,a);var c=Dl(this,b,!0);El(this,a,c);1==c[C]&&this.me.add(c[0][p]);this.ha.set(a,c);this.Sc.add(a);return this};ul[t].addUnique=ul[t].sf;
ul[t].se=function(a){a=Dl(this,a,!1);Fl(this,a);a[F](function(a){this.Gc.add(a[p])},this);return this};ul[t].addNullable=ul[t].se;function Fl(a,b){yd(a.ha)[F](function(a){var d=N();this.ha.get(a)[F](function(a){d.add(a[p])});var f=b[Fa](function(a){return d.has(a[p])});if(1<d[G]&&0<f[C])throw new P(507,a,f[m](","));},a)}ul[t].re=function(a,b,c,d){vl(a);yl(this,a);b=Dl(this,b,!0,d);El(this,a,b);c&&this.Sc.add(a);this.ha.set(a,b);return this};ul[t].addIndex=ul[t].re;
function El(a,b,c){if(1<c[C]&&(a=c[Fa](function(a){return this.Gc.has(a[p])},a),0<a[C]))throw new P(507,b,a[m](","));}ul[t].Cb=Jb("rd");ul[t].persistentIndex=ul[t].Cb;ul[t].rb=function(){Al(this);Bl(this);Cl(this);return new (Gl(this))};ul[t].getSchema=ul[t].rb;function Hl(a){return a.zb}
function Dl(a,b,c,d,f){var h=b,h="string"==typeof b[0]?b.map(function(a){return new wl({name:a,order:null!=d?d:1,autoIncrement:f||!1})}):b.map(function(a){return new wl(a)});h[F](function(a){if(!this.G.has(a[p]))throw new P(508,this.u,a[p]);if(c){var b=this.G.get(a[p]);if(0==b||6==b)throw new P(509,this.u,a[p]);}},a);return h}
function Gl(a){function b(){function b(c){return a.ha.get(c).map(function(a){return{da:this[a[p]],jb:a.jb,autoIncrement:a[qb]}},this)}var d=yd(a.G).map(function(b){this[b]=new Z(this,b,a.me.has(b),a.Gc.has(b),a.G.get(b));return this[b]},this),f=yd(a.ha).map(function(d){return new $h(a.u,d,a.Sc.has(d),b[r](this,d))},this);ai[r](this,a.u,d,f,a.rd);var h=null===a.ua?null:new $h(a.u,a.ua,!0,b[r](this,a.ua)),l=d[Fa](function(b){return!a.Gc.has(b[u]())});this.zf=new sl(h,l,a.zb);this.cf=Il(a,d,f)}K(b,ai);
b[t].yb=function(a){return new this.cf(ed++,a)};b[t].createRow=b[t].yb;b[t].bc=function(a){var b={};this.eb()[F](function(f){var h=f[u]();f=f.O();var l=a[v][h];if(0==f)if(f=l,null!=f&&""!=f){0!=f[C]%2&&(f="0"+f);for(var l=new ArrayBuffer(f[C]/2),q=new Uint8Array(l),y=0,O=0;y<f[C];y+=2)q[O++]=da(f.substr(y,2),16);f=l}else f=null;else f=2==f?null!=l?new Date(l):null:l;b[h]=f},this);return new this.cf(a.id,b)};b[t].deserializeRow=b[t].bc;b[t].Ab=H("zf");b[t].getConstraint=b[t].Ab;return b}
function Il(a,b,c){function d(a,d){this.G=b;this.ha=c;dd[r](this,a,d)}K(d,dd);d[t].Ae=function(){var a={};this.G[F](function(b){a[b[u]()]=b.Bc()?null:oe[b.O()]});return a};d[t].kf=function(){var a={};this.G[F](function(b){var c=b[u]();b=b.O();var d=this.o[c];a[c]=0==b?null!=d?hd(d):null:2==b?null!=d?d[Fb]():null:6==b?null!=d?d:null:d},this);return a};var f=function(a){var b=this.G.get(a[u]()),c=this.Id.Me.get(b)||null;return function(b){return c(b[a[u]()])}}[E](a),h=function(a){var b=a.map(function(a){return f(a.da)});
return function(a){return b.map(function(b){return b(a)})}}[E](a),l={};c[F](function(a){var b=a.l();a=1==a.f[C]?f(a.f[0].da):h(a.f);l[b]=a});d[t].Ob=function(a){return-1!=a[$a]("#")?this.id():l[tb](a)?l[a](this.o):null};return d};function Jl(a,b){this.s=new Kl(a,b);this.nb=M();this.vc=!1}J("lf.schema.Builder",Jl);function Ll(a,b){b.zb[F](function(a){var d=a.$a;if(!this.nb.has(d))throw new P(536,a[p]);var d=this.nb.get(d).rb(),f=a.Jc;if(!d[tb](f))throw new P(537,a[p]);if(b.rb()[a.Hb].O()!=d[f].O())throw new P(538,a[p]);if(!d[f].Cc())throw new P(539,a[p]);},a)}Jl[t].yf=function(a){a.zb[F](function(a){Hl(this.nb.get(a.$a))[F](function(c){if(c.Hb==a.Jc)throw new P(534,a[p]);},this)},this)};
function Ml(a){a.vc||(a.nb[F](function(a){Ll(this,a);a=a.rb();this.s.H.set(a[u](),a)},a),zd(a.nb)[F](a.yf,a),Nl(a),a.nb[w](),a.vc=!0)}function Ol(a,b,c){b.pe||(b.pe=!0,b.Yd=!0,b.Be[F](function(a){a=c.get(a);if(!a.pe)Ol(this,a,c);else if(a.Yd&&b!=a)throw new P(533);},a));b.Yd=!1}function Nl(a){var b=M();a.s.H[F](function(a,d){b.set(d,new Pl(d))},a);a.nb[F](function(a,d){a.zb[F](function(a){b.get(a.$a).Be.add(d)})});zd(b)[F](function(a){Ol(this,a,b)},a)}
function Pl(a){this.Yd=this.pe=!1;this.Be=N();this.Pc=a}Jl[t].rb=function(){this.vc||Ml(this);return this.s};Jl[t].getSchema=Jl[t].rb;Jl[t].Ee=function(){var a=new Hd("ns_"+this.s[p]()),b;pl||(pl=new ol);b=pl;var c=null;b.Sd(a)?c=b.m(a):(c=new ol,b.kb(a,c));return c};Jl[t].getGlobal=Jl[t].Ee;Jl[t].connect=function(a){var b=this.Ee();b.Sd(Od)||b.kb(Od,this.rb());return(new Y(b)).Aa(a)};Jl[t].connect=Jl[t].connect;
Jl[t].Bf=function(a){if(this.nb.has(a))throw new P(503,a);if(this.vc)throw new P(535);this.nb.set(a,new ul(a));return this.nb.get(a)};Jl[t].createTable=Jl[t].Bf;Jl[t].ke=function(a){if(this.vc)throw new P(535);this.s.ke(a);return this};Jl[t].setPragma=Jl[t].ke;function Kl(a,b){this.u=a;this.La=b;this.H=M();this.Ze={Ff:!1}}J("lf.schema.DatabaseSchema",Kl);ja(Kl[t],H("u"));ja(Kl[t],Kl[t][p]);Kl[t].version=H("La");Kl[t].version=Kl[t][vb];Kl[t].Va=function(){return zd(this.H)};Kl[t].tables=Kl[t].Va;
ia(Kl[t],function(a){if(!this.H.has(a))throw new P(101,a);return this.H.get(a)});ia(Kl[t],Kl[t][k]);Kl[t].info=function(){this.He||(this.He=new ql(this));return this.He};Kl[t].Ye=H("Ze");Kl[t].pragma=Kl[t].Ye;Kl[t].ke=Jb("Ze");J("lf.schema.create",function(a,b){return new Jl(a,b)});}.bind(window))()
//# sourceMappingURL=lovefield.min.js.map
