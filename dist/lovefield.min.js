/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=Function,ha=String;function ja(a,b){return a.table=b}function ka(a,b){return a.name=b}function la(a,b){return a.dump=b}function ma(a,b){return a.clone=b}function na(a,b){return a.exec=b}function oa(a,b){return a.getName=b}function pa(a,b){return a.close=b}function qa(a,b){return a.value=b}function ra(a,b){return a.update=b}function sa(a,b){return a.delete=b}function ta(a,b){return a.onsuccess=b}
function ua(a,b){return a.clear=b}function va(a,b){return a.values=b}function wa(a,b){return a.remove=b}function xa(a,b){return a.child=b}function ya(a,b){return a.next=b}function za(a,b){return a.onerror=b}function Aa(a,b){return a.length=b}function f(a,b){return a.toString=b}function Ba(a,b){return a.bind=b}function Ca(a,b){return a.subscribe=b}function Da(a,b){return a.forEach=b}function Ea(a,b){return a.getPriority=b}
var Fa="openCursor",Ga="filter",Ha="once",Ia="objectStoreNames",Ja="split",h="table",Ka="reduce",m="join",La="reject",Ma="timing",Na="item",n="slice",Oa="unshift",Pa="target",q="name",r="call",t="prototype",Qa="exec",u="getName",Ra="close",Sa="concat",w="value",Ta="setImmediate",Ua="every",Va="update",Wa="global",Xa="propertyIsEnumerable",Ya="delete",Za="sort",$a="indexOf",ab="some",bb="count",cb="orderByChild",x="clear",db="values",eb="replace",fb="reverse",gb="continue",hb="addAll",ib="removeChild",
y="remove",kb="child",lb="create",z="push",A="then",mb="transaction",nb="index",ob="context",B="splice",pb="autoIncrement",qb="next",sb="shift",tb="hasOwnProperty",ub="contains",vb="version",wb="objectStore",xb="offset",yb="apply",C="entries",D="length",zb="info",E="toString",Ab="compare",F="bind",Bb="getParent",Cb="rows",G="forEach",Db="getPriority",Eb="getTime",Fb="resolve",Gb="result",Hb="size";function Ib(){return function(){}}function Jb(a){return function(b){this[a]=b}}
function H(a){return function(){return this[a]}}function Kb(a){return function(){return a}}var I,Lb=this;function Mb(a){return void 0!==a}function J(a,b,c){a=a[Ja](".");c=c||Lb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[D]&&(d=a[sb]());)!a[D]&&Mb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Nb(){}function Ob(a){a.De=function(){return a.qg?a.qg:a.qg=new a}}
function Pb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][E][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[D]&&"undefined"!=typeof a[B]&&"undefined"!=typeof a[Xa]&&!a[Xa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Xa]&&!a[Xa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Qb(a){return null===a}function Rb(a){return null!=a}function Sb(a){var b=Pb(a);return"array"==b||"object"==b&&"number"==typeof a[D]}function Tb(a){return"string"==typeof a}function Ub(a){return"function"==Pb(a)}function Vb(a){return a[Wb]||(a[Wb]=++Xb)}var Wb="closure_uid_"+(1E9*ba.random()>>>0),Xb=0;function Yb(a,b,c){return a[r][yb](a[F],arguments)}
function Zb(a,b,c){if(!a)throw fa();if(2<arguments[D]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t][Oa][yb](c,d);return a[yb](b,c)}}return function(){return a[yb](b,arguments)}}function K(a,b,c){K=ga[t][F]&&-1!=ga[t][F][E]()[$a]("native code")?Yb:Zb;return K[yb](null,arguments)}function $b(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[z][yb](b,arguments);return a[yb](this,b)}}
function L(a,b){function c(){}c.prototype=b[t];a.Nb=b[t];a.prototype=new c;a[t].constructor=a;a.xl=function(a,c,k){for(var l=e(arguments[D]-2),p=2;p<arguments[D];p++)l[p-2]=arguments[p];return b[t][c][yb](a,l)}}Ba(ga[t],ga[t][F]||function(a,b){if(1<arguments[D]){var c=e[t][n][r](arguments,1);c[Oa](this,a);return K[yb](null,c)}return K(this,a)});function ac(a){if(fa.captureStackTrace)fa.captureStackTrace(this,ac);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}L(ac,fa);ka(ac[t],"CustomError");function bc(a,b){for(var c=a[Ja]("%s"),d="",g=e[t][n][r](arguments,1);g[D]&&1<c[D];)d+=c[sb]()+g[sb]();return d+c[m]("%s")};function cc(a,b){b[Oa](a);ac[r](this,bc[yb](null,b));b[sb]()}L(cc,ac);ka(cc[t],"AssertionError");function dc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new cc(""+g,k||[]);}function M(a,b,c){a||dc("",null,b,e[t][n][r](arguments,2));return a}function ec(a,b){throw new cc("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function fc(a,b,c){Ub(a)||dc("Expected function but got %s: %s.",[Pb(a),a],b,e[t][n][r](arguments,2));return a};function gc(a,b,c){this.pk=c;this.Bi=a;this.Yk=b;this.Xd=0;this.Qd=null}gc[t].get=function(){var a;0<this.Xd?(this.Xd--,a=this.Qd,this.Qd=a[qb],ya(a,null)):a=this.Bi();return a};gc[t].put=function(a){this.Yk(a);this.Xd<this.pk&&(this.Xd++,ya(a,this.Qd),this.Qd=a)};var hc=e[t],ic=hc[$a]?function(a,b,c){M(null!=a[D]);return hc[$a][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[D]+c):c;if(Tb(a))return Tb(b)&&1==b[D]?a[$a](b,c):-1;for(;c<a[D];c++)if(c in a&&a[c]===b)return c;return-1},jc=hc[G]?function(a,b,c){M(null!=a[D]);hc[G][r](a,b,c)}:function(a,b,c){for(var d=a[D],g=Tb(a)?a[Ja](""):a,k=0;k<d;k++)k in g&&b[r](c,g[k],k,a)},kc=hc.map?function(a,b,c){M(null!=a[D]);return hc.map[r](a,b,c)}:function(a,b,c){for(var d=a[D],g=e(d),k=Tb(a)?a[Ja](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[r](c,k[l],l,a));return g},lc=hc[Ka]?function(a,b,c,d){M(null!=a[D]);d&&(b=K(b,d));return hc[Ka][r](a,b,c)}:function(a,b,c,d){var g=c;jc(a,function(c,l){g=b[r](d,g,c,l,a)});return g},mc=hc[ab]?function(a,b,c){M(null!=a[D]);return hc[ab][r](a,b,c)}:function(a,b,c){for(var d=a[D],g=Tb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a))return!0;return!1},nc=hc[Ua]?function(a,b,c){M(null!=a[D]);return hc[Ua][r](a,b,c)}:function(a,b,c){for(var d=a[D],g=Tb(a)?a[Ja](""):a,k=0;k<
d;k++)if(k in g&&!b[r](c,g[k],k,a))return!1;return!0};function oc(a,b){M(null!=a[D]);return 1==hc[B][r](a,b,1)[D]}function pc(a,b,c){a:{for(var d=a[D],g=Tb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(oc(a,b),!0):!1}function qc(a){var b=a[D];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function rc(a,b){for(var c=1;c<arguments[D];c++){var d=arguments[c];if(Sb(d)){var g=a[D]||0,k=d[D]||0;Aa(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[z](d)}}function sc(a,b,c,d){M(null!=a[D]);return hc[B][yb](a,tc(arguments,1))}function tc(a,b,c){M(null!=a[D]);return 2>=arguments[D]?hc[n][r](a,b):hc[n][r](a,b,c)}function uc(a,b,c,d,g){for(var k=0,l=a[D],p;k<l;){var v=k+l>>1,ia;ia=c?b[r](g,a[v],v,a):b(d,a[v]);0<ia?k=v+1:(l=v,p=!ia)}return p?k:~k}function vc(a,b){return a>b?1:a<b?-1:0}
function wc(a,b,c){c=uc(a,c||vc,!1,b);return 0>c?(sc(a,-(c+1),0,b),!0):!1}function xc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function yc(a){for(var b=[],c=0;c<arguments[D];c++){var d=arguments[c];if("array"==Pb(d))for(var g=0;g<d[D];g+=8192)for(var k=tc(d,g,g+8192),k=yc[yb](null,k),l=0;l<k[D];l++)b[z](k[l]);else b[z](d)}return b};function zc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function Ac(a,b,c){for(var d in a)if(b[r](c,a[d],d,a))return!0;return!1}function Bc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Cc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Dc;a:{var Ec=Lb.navigator;if(Ec){var Fc=Ec.userAgent;if(Fc){Dc=Fc;break a}}Dc=""};function Gc(a){Lb.setTimeout(function(){throw a;},0)}var Hc;
function Ic(){var a=Lb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==Dc[$a]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Ra]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=K(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Dc[$a]("Trident")&&-1==Dc[$a]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Mb(c[qb])){c=c[qb];var a=c.Gf;c.Gf=null;a()}};return function(a){ya(d,{Gf:a});d=d[qb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ib](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Lb.setTimeout(a,0)}};function Jc(){this.ie=this.hc=null}var Lc=new gc(function(){return new Kc},function(a){a.reset()},100);Jc[t].add=function(a,b){var c=this.Rj();c.set(a,b);this.ie?ya(this.ie,c):(M(!this.hc),this.hc=c);this.ie=c};wa(Jc[t],function(){var a=null;this.hc&&(a=this.hc,this.hc=this.hc[qb],this.hc||(this.ie=null),ya(a,null));return a});Jc[t].Zk=function(a){Lc.put(a)};Jc[t].Rj=function(){return Lc.get()};function Kc(){this.scope=this.Ae=null;ya(this,null)}
Kc[t].set=function(a,b){this.Ae=a;this.scope=b;ya(this,null)};Kc[t].reset=function(){this.scope=this.Ae=null;ya(this,null)};function Mc(a,b){Nc||Oc();Pc||(Nc(),Pc=!0);Qc.add(a,b)}var Nc;function Oc(){if(Lb.Promise&&Lb.Promise[Fb]){var a=Lb.Promise[Fb]();Nc=function(){a[A](Rc)}}else Nc=function(){var a=Rc;if(!Ub(Lb[Ta])||Lb.Window&&Lb.Window[t]&&Lb.Window[t][Ta]==Lb[Ta])Hc||(Hc=Ic()),Hc(a);else Lb[Ta](a)}}var Pc=!1,Qc=new Jc;[][z](function(){Pc=!1;Qc=new Jc});function Rc(){for(var a=null;a=Qc[y]();){try{a.Ae[r](a.scope)}catch(b){Gc(b)}Qc.Zk(a)}Pc=!1};function N(a,b){this.Ka=0;this.ah=void 0;this.wd=this.mc=this.G=null;this.Pd=this.ze=!1;if(a!=Nb)try{var c=this;a[r](b,function(a){c.Bc(2,a)},function(a){if(!(a instanceof Sc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.Bc(3,a)})}catch(d){this.Bc(3,d)}}function Tc(){xa(this,null);this.context=this.xc=this.Xb=null;ya(this,null);this.le=!1}Tc[t].reset=function(){xa(this,null);this.context=this.xc=this.Xb=null;this.le=!1};
var Uc=new gc(function(){return new Tc},function(a){a.reset()},100);function Vc(a,b,c){var d=Uc.get();d.Xb=a;d.xc=b;d.context=c;return d}function Wc(a){if(a instanceof N)return a;var b=new N(Nb);b.Bc(2,a);return b}function Xc(a){return new N(function(b,c){c(a)})}function Yc(a,b,c){Zc(a,b,c,null)||Mc($b(b,a))}function $c(a){return new N(function(b,c){var d=a[D],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,v;v=a[p];p++)Yc(v,$b(k,p),l);else b(g)})}
function ad(){var a,b,c=new N(function(c,g){a=c;b=g});return new bd(c,a,b)}N[t].then=function(a,b,c){null!=a&&fc(a,"opt_onFulfilled should be a function.");null!=b&&fc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.xf(Ub(a)?a:null,Ub(b)?b:null,c)};N[t].then=N[t][A];N[t].$goog_Thenable=!0;I=N[t];
I.ll=function(a,b,c){null!=a&&fc(a,"opt_onFulfilled should be a function.");null!=b&&fc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.wf(Vc(a||Nb,b||null,c))};I.oh=function(a,b){return this.xf(null,a,b)};I.wf=function(a){this.ak()||2!=this.Ka&&3!=this.Ka||this.eh();this.Ok(a)};
I.xf=function(a,b,c){var d=Vc(null,null,null);xa(d,new N(function(g,k){d.Xb=a?function(b){try{var d=a[r](c,b);g(d)}catch(v){k(v)}}:g;d.xc=b?function(a){try{var d=b[r](c,a);!Mb(d)&&a instanceof Sc?k(a):g(d)}catch(v){k(v)}}:k}));d[kb].G=this;this.wf(d);return d[kb]};I.ol=function(a){M(1==this.Ka);this.Ka=0;this.Bc(2,a)};I.pl=function(a){M(1==this.Ka);this.Ka=0;this.Bc(3,a)};
I.Bc=function(a,b){0==this.Ka&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ka=1,Zc(b,this.ol,this.pl,this)||(this.ah=b,this.Ka=a,this.G=null,this.eh(),3!=a||b instanceof Sc||cd(this,b)))};
function Zc(a,b,c,d){if(a instanceof N)return a.ll(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[A](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[A];if(Ub(l))return dd(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function dd(a,b,c,d,g){function k(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,k)}catch(v){k(v)}}I.eh=function(){this.ze||(this.ze=!0,Mc(this.Wi,this))};I.ak=function(){return!!this.mc};
I.Ok=function(a){M(null!=a.Xb);this.wd?ya(this.wd,a):this.mc=a;this.wd=a};I.Ik=function(){var a=null;this.mc&&(a=this.mc,this.mc=a[qb],ya(a,null));this.mc||(this.wd=null);null!=a&&M(null!=a.Xb);return a};I.Wi=function(){for(var a=null;a=this.Ik();)this.Vi(a,this.Ka,this.ah);this.ze=!1};I.Vi=function(a,b,c){3==b&&a.xc&&!a.le&&this.Wk();if(a[kb])a[kb].G=null,ed(a,b,c);else try{a.le?a.Xb[r](a[ob]):ed(a,b,c)}catch(d){fd[r](null,d)}Uc.put(a)};
function ed(a,b,c){2==b?a.Xb[r](a[ob],c):a.xc&&a.xc[r](a[ob],c)}I.Eh=Ib();I.Wk=function(){var a;for(a=this;a&&a.Pd;a=a.G)a.Pd=!1};function cd(a,b){a.Pd=!0;Mc(function(){a.Pd&&(a.Eh(b),fd[r](null,b))})}var fd=Gc;function Sc(a){ac[r](this,a)}L(Sc,ac);ka(Sc[t],"cancel");function bd(a,b,c){this.ha=a;this.resolve=b;this.reject=c};
function gd(a,b){this.za=a;this.Zb=b||this.Sf()}var hd=0;I=gd[t];I.id=H("za");I.Nh=Jb("za");I.w=H("Zb");I.Sf=function(){return{}};I.ph=H("Zb");I.Ja=function(){return{id:this.za,value:this.ph()}};I.Vb=function(a){return"#"==a.substr(-1)?this.za:null};function id(a){return new gd(a.id,a[w])}function jd(a){return new gd(hd++,a||{})}function kd(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[D];++c)var d=a[c][E](16),b=b+(2>d[D]?"0"+d:d);return b};
function ld(a){this.type=a}function md(a){gd[r](this,-1,a)}L(md,gd);
var nd={};J("lf.TransactionType",nd,void 0);nd.READ_ONLY=0;nd.READ_WRITE=1;

function od(a,b){this.Wa=a;this.qh=b;this.aa=ad()}I=od[t];I.Aj=H("Wa");I.oa=function(){try{this.Wa.$h()}catch(a){return Xc(a)}return(0==this.qh?this.Lc():this.uk())[A](K(function(a){this.Wa.oa();return a},this))};I.uk=function(){this.vk();this.tk();return this.Lc()};
I.vk=function(){var a=this.Wa.cg();a.U()[G](function(b){var c=this.Wa.fa().get(b),c=this.M(c[u](),K(c.qc,c));b=a.get(b);var d=b.Wc().f().map(function(a){return a.id()});0<d[D]&&c[y](d).oh(this.Ke,this);b=b.Yc().f().map(function(a){return a[1]})[Sa](b.Uc().f());c.put(b).oh(this.Ke,this)},this)};I.tk=function(){this.Wa.xj()[G](function(a){var b=this.M(a[u](),id),c;b.get([-1])[A](function(a){c=a;return b[y]([])})[A](function(){b.put(c);b.put(a.Ja())},K(this.Ke,this))},this)};I.Ke=function(a){this.aa[La](a)};function pd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[D],k=b[D],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var v=0;v<k+1;v++)l[0][v]=0;for(p=1;p<=g;p++)for(v=1;v<=k;v++)c(a[p-1],b[v-1])?l[p][v]=l[p-1][v-1]+1:l[p][v]=ba.max(l[p-1][v],l[p][v-1]);for(var ia=[],p=g,v=k;0<p&&0<v;)c(a[p-1],b[v-1])?(ia[Oa](d(p-1,v-1)),p--,v--):l[p-1][v]>l[p][v-1]?p--:v--;return ia}function qd(a){return lc(arguments,function(a,c){return a+c},0)}
function rd(a){return qd[yb](null,arguments)/arguments[D]}function sd(a){var b=arguments[D];if(2>b)return 0;var c=rd[yb](null,arguments);return qd[yb](null,kc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function td(a){return ba.sqrt(sd[yb](null,arguments))};var ud="StopIteration"in Lb?Lb.StopIteration:{message:"StopIteration",stack:""};function vd(){}ya(vd[t],function(){throw ud;});vd[t].Ec=function(){return this};function wd(a){if(a instanceof vd)return a;if("function"==typeof a.Ec)return a.Ec(!1);if(Sb(a)){var b=0,c=new vd;ya(c,function(){for(;;){if(b>=a[D])throw ud;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function xd(a,b,c){if(Sb(a))try{jc(a,b,c)}catch(d){if(d!==ud)throw d;}else{a=wd(a);try{for(;;)b[r](c,a[qb](),void 0,a)}catch(g){if(g!==ud)throw g;}}}function yd(a){if(mc(arguments,function(a){return!a[D]})||!arguments[D])return new vd;var b=new vd,c=arguments,d=xc(0,c[D]);ya(b,function(){if(d){for(var a=kc(d,function(a,b){return c[b][a]}),b=d[D]-1;0<=b;b--){M(d);if(d[b]<c[b][D]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw ud;});return b};function O(a,b){this.g={};this.b=[];this.Ta=this.$=0;var c=arguments[D];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[hb](a)}I=O[t];I.ya=H("$");I.f=function(){this.Jc();for(var a=[],b=0;b<this.b[D];b++)a[z](this.g[this.b[b]]);return a};I.U=function(){this.Jc();return this.b[Sa]()};I.A=function(a){return zd(this.g,a)};I.Ad=function(a){for(var b=0;b<this.b[D];b++){var c=this.b[b];if(zd(this.g,c)&&this.g[c]==a)return!0}return!1};
I.Qc=function(a,b){if(this===a)return!0;if(this.$!=a.ya())return!1;var c=b||Ad;this.Jc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Ad(a,b){return a===b}I.Ma=function(){return 0==this.$};ua(I,function(){this.g={};Aa(this.b,0);this.Ta=this.$=0});wa(I,function(a){return zd(this.g,a)?(delete this.g[a],this.$--,this.Ta++,this.b[D]>2*this.$&&this.Jc(),!0):!1});
I.Jc=function(){if(this.$!=this.b[D]){for(var a=0,b=0;a<this.b[D];){var c=this.b[a];zd(this.g,c)&&(this.b[b++]=c);a++}Aa(this.b,b)}if(this.$!=this.b[D]){for(var d={},b=a=0;a<this.b[D];)c=this.b[a],zd(d,c)||(this.b[b++]=c,d[c]=1),a++;Aa(this.b,b)}};I.get=function(a,b){return zd(this.g,a)?this.g[a]:b};I.set=function(a,b){zd(this.g,a)||(this.$++,this.b[z](a),this.Ta++);this.g[a]=b};I.addAll=function(a){var b;a instanceof O?(b=a.U(),a=a.f()):(b=Cc(a),a=Bc(a));for(var c=0;c<b[D];c++)this.set(b[c],a[c])};
Da(I,function(a,b){for(var c=this.U(),d=0;d<c[D];d++){var g=c[d],k=this.get(g);a[r](b,k,g,this)}});ma(I,function(){return new O(this)});I.Ec=function(a){this.Jc();var b=0,c=this.Ta,d=this,g=new vd;ya(g,function(){if(c!=d.Ta)throw fa("The map has changed since the iterator was created");if(b>=d.b[D])throw ud;var g=d.b[b++];return a?g:d.g[g]});return g};function zd(a,b){return aa[t][tb][r](a,b)};
function Bd(){this.g=new O;aa.defineProperty(this,"size",{get:function(){return this.g.ya()}})}ua(Bd[t],function(){this.g[x]()});ua(Bd[t],Bd[t][x]);sa(Bd[t],function(a){return this.g[y](a)});Bd[t]["delete"]=Bd[t][Ya];Da(Bd[t],function(a,b){return this.g[G](a,b)});Da(Bd[t],Bd[t][G]);Bd[t].get=function(a){return this.g.get(a)};Bd[t].get=Bd[t].get;Bd[t].has=function(a){return this.g.A(a)};Bd[t].has=Bd[t].has;Bd[t].set=function(a,b){return this.g.set(a,b)};Bd[t].set=Bd[t].set;
var Cd=ca.Map&&ca.Map[t][db]&&ca.Map[t][G]?ca.Map:Bd;function Dd(a){if(a instanceof Bd)return a.g.U();var b=0,c=e(a[Hb]);a[G](function(a,g){c[b++]=g});return c}function Ed(a){if(a instanceof Bd)return a.g.f();var b=0,c=e(a[Hb]);a[G](function(a){c[b++]=a});return c};
function Fd(a){this.$k=a}f(Fd[t],H("$k"));var Gd=new Fd("backstore"),Hd=new Fd("cache"),Id=new Fd("indexstore"),Jd=new Fd("engine"),Kd=new Fd("runner"),Ld=new Fd("observerregistry"),Md=new Fd("schema");
function Nd(a){if("function"==typeof a.ya)a=a.ya();else if(Sb(a)||Tb(a))a=a[D];else{var b=0,c;for(c in a)b++;a=b}return a}function Od(a){if("function"==typeof a.f)return a.f();if(Tb(a))return a[Ja]("");if(Sb(a)){for(var b=[],c=a[D],d=0;d<c;d++)b[z](a[d]);return b}return Bc(a)}
function Pd(a,b,c){if("function"==typeof a[Ua])return a[Ua](b,c);if(Sb(a)||Tb(a))return nc(a,b,c);var d;if("function"==typeof a.U)d=a.U();else if("function"!=typeof a.f)if(Sb(a)||Tb(a)){d=[];for(var g=a[D],k=0;k<g;k++)d[z](k)}else d=Cc(a);else d=void 0;for(var g=Od(a),k=g[D],l=0;l<k;l++)if(!b[r](c,g[l],d&&d[l],a))return!1;return!0};function P(a){this.g=new O;a&&this[hb](a)}function Qd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Vb(a):b.substr(0,1)+a}I=P[t];I.ya=function(){return this.g.ya()};I.add=function(a){this.g.set(Qd(a),a)};I.addAll=function(a){a=Od(a);for(var b=a[D],c=0;c<b;c++)this.add(a[c])};wa(I,function(a){return this.g[y](Qd(a))});ua(I,function(){this.g[x]()});I.Ma=function(){return this.g.Ma()};I.contains=function(a){return this.g.A(Qd(a))};I.ti=function(a){return Pd(a,this[ub],this)};I.f=function(){return this.g.f()};
ma(I,function(){return new P(this)});I.Qc=function(a){return this.ya()==Nd(a)&&this.lk(a)};I.lk=function(a){var b=Nd(a);if(this.ya()>b)return!1;!(a instanceof P)&&5<b&&(a=new P(a));return Pd(this,function(b){var d=a;if("function"==typeof d[ub])b=d[ub](b);else if("function"==typeof d.Ad)b=d.Ad(b);else if(Sb(d)||Tb(d))b=0<=ic(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};I.Ec=function(){return this.g.Ec(!1)};
function Rd(a,b){this.za=a;this.Zb=b||{}}function Sd(a){var b=new P;a[G](function(a){b.add(a>>9)});return b.f()}I=Rd[t];I.da=H("za");I.vc=H("Zb");I.ih=function(a){a[G](function(a){this.Zb[a.id()]=a.Ja()},this)};I.Vk=function(a){a[G](function(a){var c=this.Zb;a in c&&delete c[a]},this)};I.Ja=function(){return{id:this.za,value:JSON.stringify(this.Zb)}};function Td(a){return new Rd(a.id,JSON.parse(a[w]))};

function Ud(a,b,c){this.V=a;this.Rb=b;this.bh=c}I=Ud[t];I.get=function(a){return 0==a[D]?this.Vc():this.Ej(a)[A](K(function(b){return a.map(function(a){var d=b.get(a>>9);M(d,"Containing page is empty");return this.Rb(d.vc()[a])},this)},this))};I.Ej=function(a){var b=new Cd,c=ad();a=Sd(a).map(function(a){return new N(function(c,k){var l;try{l=this.V.get(a)}catch(p){k(p);return}za(l,k);ta(l,K(function(a){a=Td(a[Pa][Gb]);b.set(a.da(),a);c()},this))},this)},this);$c(a)[A](function(){c[Fb](b)});return c.ha};
I.Vc=function(){return new N(function(a,b){var c=[],d;try{d=this.V[Fa]()}catch(g){b(g);return}za(d,b);ta(d,K(function(){var b=d[Gb];if(b){var g=Td(b[w]).vc(),p;for(p in g)c[z](this.Rb(g[p]));b[gb]()}else a(c)},this))},this)};I.$b=function(a){return new N(function(b,c){var d;try{d=a()}catch(g){c(g);return}ta(d,b);za(d,c)},this)};
I.put=function(a){if(0==a[D])return Wc();var b=new Cd;a[G](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.bh(this.V[q],d));g.ih([a]);b.set(d,g)},this);a=Ed(b).map(function(a){return this.$b(K(function(){return this.V.put(a.Ja())},this))},this);return $c(a)};
wa(I,function(a){if(0==a[D])return this.$b(K(function(){return this.V[x]()},this));var b=new Cd;a[G](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.bh(this.V[q],d));g.Vk([a]);b.set(d,g)},this);a=Ed(b).map(function(a){return this.$b(K(function(){var b;a:{b=a.vc();for(var g in b){b=!1;break a}b=!0}return b?this.V[Ya](a.da()):this.V.put(a.Ja())},this))},this);return $c(a)});function Vd(a,b,c){a=a.o(Hd);var d=[c<<9,(c+1<<9)-1];b=a.ob(b,d[0],d[1]);c=new Rd(c);c.ih(b);return c}
function Wd(a,b){return new Rd(b)};
function Xd(){};
function Yd(a){this.ta=a.o(Hd);this.J=a.o(Id);this.s=a.o(Md)}ra(Yd[t],function(a){a[G](function(a){this.tl(a);this.ql(a)},this)});Yd[t].ql=function(a){var b=a[u]();a.Wc().f()[G](function(a){this.ta[y](b,[a.id()])},this);a.Uc()[G](function(a){this.ta.set(b,[a])},this);a.Yc()[G](function(a){this.ta.set(b,[a[1]])},this)};Yd[t].tl=function(a){var b=this.s[h](a[u]());a.uj()[G](function(a){this.uh(b,a)},this)};
Yd[t].uh=function(a,b){a.Ea().map(function(a){return this.J.get(a.l())},this)[Sa]([this.J.get(a.Sb())])[G](function(a){var d=null===b[1]?null:b[1].Vb(a[u]()),g=null===b[0]?null:b[0].Vb(a[u]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[y](g,b[0].id()):0!=a.Mc()[Ab](g,d)&&(a.add(d,b[1].id()),a[y](g,b[0].id()))})};
var Zd={};J("lf.ConstraintAction",Zd,void 0);Zd.RESTRICT=0;Zd.CASCADE=1;var $d={};J("lf.ConstraintTiming",$d,void 0);$d.IMMEDIATE=0;$d.DEFERRABLE=1;var ae={};J("lf.Order",ae,void 0);ae.DESC=0;ae.ASC=1;var be={};J("lf.Type",be,void 0);be.ARRAY_BUFFER=0;be.BOOLEAN=1;be.DATE_TIME=2;be.INTEGER=3;be.NUMBER=4;be.STRING=5;be.OBJECT=6;var ce={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};J("lf.type.DEFAULT_VALUES",ce,void 0);
function Q(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[D])for(var c=1;c<=ba.min(4,arguments[D]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][E]()[n](0,64)))}L(Q,fa);

function de(a){this.J=a.o(Id);this.s=a.o(Md)}I=de[t];I.cj=function(a,b){var c=a.Hb().Ge();return null===c?null:this.bj(c,b)};I.bj=function(a,b){var c=a.l(),d=b.Vb(c),c=this.J.get(c).get(d);return 0==c[D]?null:c[0]};I.te=function(a,b){var c=a.Hb().Cj();b[G](function(a){c[G](function(b){if(null==a.w()[b[u]()])throw new Q(202,b.l());},this)},this)};I.Lf=function(a,b,c){a.Hb().dg()[G](function(a){a[Ma]==c&&this.ji(a,b)},this)};
I.ji=function(a,b){b[G](function(b){if(ee(b[0],b[1],a[q])){b=b[1].w()[a.pc];var d=this.gg(a);if(null!==b&&!d.A(b))throw new Q(203,a[q]);}},this)};I.gg=function(a){var b=this.s[h](a.fb)[a.zc].Ea()[Ga](function(b){return 1==b.h[D]&&b.h[0].ea[u]()==a.zc})[0];return this.J.get(b.l())};function ee(a,b,c){return(null===a?null!==b:null===b)||a.Vb(c)!=b.Vb(c)}
I.Mf=function(a,b,c){a=this.s[zb]().Kj(a[u]());null!=a&&a[G](function(a){if(a[Ma]==c){var g=this.J.get(a[q]);b[G](function(b){var c=this.gg(a);if(ee(b[0],b[1],c[u]())&&g.A(b[0].w()[a.zc]))throw new Q(203,a[q]);},this)}},this)};I.re=function(a,b,c){0!=b[D]&&(b=b.map(function(a){return[null,a]}),this.Lf(a,b,c))};I.se=function(a,b,c){0!=b[D]&&(this.Lf(a,b,c),this.Mf(a,b,c))};I.Jf=function(a,b,c){0!=b[D]&&(b=b.map(function(a){return[a,null]}),this.Mf(a,b,c))};
function fe(a){this.kb=new O;this.Oa=new O;this.nb=new O;this.B=a}I=fe[t];oa(I,H("B"));I.Uc=H("kb");I.Yc=H("Oa");I.Wc=H("nb");I.add=function(a){if(this.nb.A(a.id())){var b=[this.nb.get(a.id()),a];this.Oa.set(a.id(),b);this.nb[y](a.id())}else this.kb.set(a.id(),a)};I.modify=function(a){var b=a[0],c=a[1];M(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.kb.A(b)?this.kb.set(b,c):(this.Oa.A(b)&&(a=[this.Oa.get(a[0].id())[0],c]),this.Oa.set(b,a))};
sa(I,function(a){if(this.kb.A(a.id()))this.kb[y](a.id());else if(this.Oa.A(a.id())){var b=this.Oa.get(a.id())[0];this.Oa[y](a.id());this.nb.set(a.id(),b)}else this.nb.set(a.id(),a)});I.uj=function(){var a=[];this.kb.f()[G](function(b){a[z]([null,b])},this);this.Oa.f()[G](function(b){a[z](b)},this);this.nb.f()[G](function(b){a[z]([b,null])},this);return a};f(I,function(){return"["+this.kb.U()[E]()+"], ["+this.Oa.U()[E]()+"], ["+this.nb.U()[E]()+"]"});
I.Lj=function(){var a=new fe(this.B);this.kb.f()[G](function(b){a[Ya](b)},this);this.nb.f()[G](function(b){a.add(b)},this);this.Oa.f()[G](function(b){a.modify([b[1],b[0]])},this);return a};I.Ma=function(){return this.kb.Ma()&&this.nb.Ma()&&this.Oa.Ma()};
function ge(a,b){this.sa=new O;b[G](function(a){this.sa.set(a[u](),a)},this);this.ta=a.o(Hd);this.J=a.o(Id);this.Ua=new de(a);this.Rd=new Yd(a);this.$e=this.ge=!1;this.Eb=new O}I=ge[t];I.cg=H("Eb");I.xj=function(){var a=[];this.Eb.U().map(function(a){return this.sa.get(a)},this)[G](function(b){b.ac()&&(b.Ea()[G](function(b){a[z](this.J.get(b.l()))},this),a[z](this.J.get(b[u]()+".#")))},this);return a};I.fa=H("sa");
I.yj=function(){var a=[];this.sa.f()[G](function(b){b.ac()&&(b.Ea()[G](function(b){a[z](b.l())}),a[z](b[u]()+".#"))});return a};I.Bb=function(a,b){this.Ic();this.xd(a);this.Ua.te(a,b);this.Ua.re(a,b,0);for(var c=0;c<b[D];c++)this.Sd(a,[null,b[c]])};
I.Sd=function(a,b){var c=a[u](),d=this.Eb.get(c,null)||new fe(c);this.Eb.set(c,d);try{this.Rd.uh(a,b)}catch(g){throw this.$e=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.ta.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.ta.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.ta[y](c,[k.id()]),d[Ya](k))};ra(I,function(a,b){this.Ic();this.xd(a);this.Ua.te(a,b);for(var c=0;c<b[D];c++){var d=b[c],d=[this.ta.get([d.id()])[0],d];this.Ua.se(a,[d],0);this.Sd(a,d)}});
I.Me=function(a,b){this.Ic();this.xd(a);this.Ua.te(a,b);for(var c=0;c<b[D];c++){var d=b[c],g=null,k=this.Ua.cj(a,d);null!=k?(g=this.ta.get([k])[0],d.Nh(k),this.Ua.se(a,[[g,d]],0)):this.Ua.re(a,[d],0);this.Sd(a,[g,d])}};wa(I,function(a,b){this.Ic();this.xd(a);this.Ua.Jf(a,b,0);for(var c=0;c<b[D];c++)this.Sd(a,[b[c],null])});I.$h=function(){this.Eb.f()[G](function(a){var b=this.sa.get(a[u]());this.Ua.re(b,a.Uc().f(),1);this.Ua.Jf(b,a.Wc().f(),1);this.Ua.se(b,a.Yc().f(),1)},this)};
I.oa=function(){this.Ic();this.ge=!0};I.Ic=function(){M(!this.$e,"Attemptted to use journal that needs to be rolled back.");M(!this.ge,"Attemptted to commit a terminated journal.")};I.Kb=function(){M(!this.ge,"Attempted to rollback a terminated journal.");var a=this.Eb.f().map(function(a){return a.Lj()},this);this.Rd[Va](a);this.ge=!0;this.$e=!1};I.xd=function(a){if(!this.sa.A(a[u]()))throw new Q(106,a[u]());};
function he(a,b,c,d){this.c=a;this.u=b;this.Y=null===this.c?!1:c;this.ba=null===this.u?!1:d}I=he[t];f(I,function(){return(this.Y?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.u?"unbound":this.u)+(this.ba?")":"]")});I.oi=function(){if(null===this.c&&null===this.u)return[];var a=null,b=null;null===this.c||(a=new he(null,this.c,!1,!this.Y));null===this.u||(b=new he(this.u,null,!this.ba,!1));return[a,b][Ga](function(a){return null!==a})};
I.reverse=function(){return new he(this.u,this.c,this.ba,this.Y)};I.Pg=function(a){var b=ie(this.c,a.c,!0,this.Y,a.Y);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.c||c.u==a.c&&!c.ba&&!a.Y};function je(){return new he(null,null,!1,!1)}I.rg=function(){return null===this.c&&null===this.u};I.wg=function(){return null!=this.c&&this.c==this.u&&!this.Y&&!this.ba};
I.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.ba;return(null===this.c||a>this.c||a==this.c&&!this.Y)&&b};I.Qc=function(a){return this.c==a.c&&this.Y==a.Y&&this.u==a.u&&this.ba==a.ba};function ie(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function ke(a,b){var c=ie(a.c,b.c,!0,a.Y,b.Y);0==c&&(c=ie(a.u,b.u,!1,a.ba,b.ba));return c};
function le(a,b){this.entries=a;this.I=new P(b);this.Ob=null}I=le[t];I.ik=function(a){return this.I.Qc(a.I)};function me(a,b){M(a.ik(b),"Intersection/union operations only apply to compatible relations.")}I.X=function(){return this.I.f()};I.Pe=function(){return 1<this.I.ya()};I.Ee=function(){return this[C].map(function(a){return a.wa.w()})};I.Nj=function(){return this[C].map(function(a){return a.wa.id()})};I.al=function(a,b){null===this.Ob&&(this.Ob=new O);this.Ob.set(a.l(),b)};
I.uc=function(a){M(null!==this.Ob,"getAggregationResult called before any results have been calculated.");var b=this.Ob.get(a.l(),void 0);M(Mb(b),"Could not find result for "+a.l());return b};I.Zj=function(a){return null!==this.Ob&&this.Ob.A(a.l())};var ne=null;function oe(){null===ne&&(ne=new le([],[]));return ne}
function pe(a){if(0==a[D])return oe();for(var b=a[Ka](function(b,c){me(a[0],c);return b+c[C][D]},0),c=e(b),d=0,b=a.map(function(a){var b=new O;a[C][G](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new O,k=0;k<c[D];k++)b[Ua](function(a){return a.A(c[k].id)})&&g.set(c[k].id,c[k]);return new le(g.f(),a[0].I.f())}function qe(a){if(0==a[D])return oe();var b=new O;a[G](function(c){me(a[0],c);c[C][G](function(a){b.set(a.id,a)})});return new le(b.f(),a[0].I.f())}
function re(a,b){var c=1<b[D],d=a.map(function(a){return new se(a,c)});return new le(d,b)}function se(a,b){this.wa=a;this.id=te++;this.Qe=b}var te=0;se[t].S=function(a){var b=a.bb();return null!==b&&this.wa.w()[tb](b)?this.wa.w()[b]:this.Qe?this.wa.w()[a.M().pa()][a[u]()]:this.wa.w()[a[u]()]};se[t].kf=function(a,b){var c=a.bb();if(null!=c)this.wa.w()[c]=b;else if(this.Qe){var c=a.M().pa(),d=this.wa.w()[c];null==d&&(d={},this.wa.w()[c]=d);d[a[u]()]=b}else this.wa.w()[a[u]()]=b};
function ue(a,b,c,d){function g(a,b){if(a.Qe){var c=a.wa.w(),d;for(d in c)k[d]=c[d]}else M(!k[tb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.wa.w()}var k={};g(a,b);g(c,d);a=new gd(-1,k);return new se(a,!0)};
J("lf.bind",function(a){return new ve(a)},void 0);function ve(a){this.qa=a}J("lf.Binder",ve,void 0);ve[t].yb=H("qa");
function we(){var a=xe();this.Ni=new O(1,ye(),2,ze(),4,a,3,a,5,Ae())}Ob(we);we[t].Ce=function(a,b){var c=this.Ni.get(a,null);M(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);M(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function xe(){return new O("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function Ae(){return new O("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function ze(){return new O("between",function(a,b){return a[Eb]()>=b[0][Eb]()&&a[Eb]()<=b[1][Eb]()},"eq",function(a,b){return(null===a?-1:a[Eb]())==(null===b?-1:b[Eb]())},"gte",function(a,b){return a[Eb]()>=b[Eb]()},"gt",function(a,b){return a[Eb]()>b[Eb]()},"in",function(a,b){return b[ab](function(b){return b[Eb]()==a[Eb]()})},"lte",function(a,b){return a[Eb]()<=b[Eb]()},"lt",function(a,b){return a[Eb]()<b[Eb]()},"neq",function(a,b){return(null===a?-1:a[Eb]())!=(null===b?-1:b[Eb]())})}
function ye(){return new O("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function Be(a,b){this.Dg=a;this.vh=b}Be[t].getKey=H("Dg");Be[t].Sj=H("vh");ma(Be[t],function(){return new Be(this.Dg,this.vh)});function Ce(a,b){Be[r](this,a,b);this.i=this.G=null}L(Ce,Be);var De=[];I=Ce[t];ma(I,function(){return new Ce(this.getKey(),this.Sj())});I.getParent=H("G");I.ug=function(){return!this.xa()};I.ca=function(){return this.i||De};I.wb=function(a){return this.ca()[a]||null};I.xa=function(){return this.ca()[D]};I.wj=function(){for(var a=0,b=this;b[Bb]();)a++,b=b[Bb]();return a};I.pb=function(){for(var a=this;a[Bb]();)a=a[Bb]();return a};I.contains=function(a){do a=a[Bb]();while(a&&a!=this);return Boolean(a)};
I.Cc=function(a,b){if(!1!==a[r](b,this))for(var c=this.ca(),d=0;d<c[D];d++)c[d].Cc(a,b)};I.gh=Jb("G");I.ka=function(a){this.Fc(a,this.i?this.i[D]:0)};I.Fc=function(a,b){M(!a[Bb]());a.gh(this);this.i=this.i||[];M(0<=b&&b<=this.i[D]);sc(this.i,b,0,a)};I.ce=function(a){var b=this.i&&this.i[a];return b?(b.gh(null),oc(this.i,a),0==this.i[D]&&(this.i=null),b):null};I.removeChild=function(a){return this.ce(ic(this.ca(),a))};

function Ee(){Ce[r](this,"","");this.za=Fe++}L(Ee,Ce);var Fe=0;Ee[t].da=H("za");Ee[t].lf=Jb("za");
function Ge(a,b,c){Ee[r](this);this.K=a;qa(this,b);this.L=c;this.Dd=we.De().Ce(this.K.Z(),this.L);this.cb=!1;this.lc=b}L(Ge,Ee);I=Ge[t];I.Pb=function(){var a=new Ge(this.K,this[w],this.L);a.bl(this.lc);a.fe(this.cb);a.lf(this.da());return a};I.xb=function(a){return null!=a?(a[z](this.K),a):[this.K]};I.fe=Jb("cb");I.bl=Jb("lc");I.Hf=function(){var a=!1;this[w]instanceof ve||(a="array"==Pb(this[w])?!this[w][ab](function(a){return a instanceof ve}):!0);if(!a)throw new Q(501);};
I.eval=function(a){this.Hf();if("in"==this.L)return this.Ii(a);var b=a[C][Ga](function(a){return this.Dd(a.S(this.K),this[w])!=this.cb},this);return new le(b,a.X())};Ba(I,function(a){if(this.lc instanceof ve){var b=this.lc.yb();if(a[D]<=b)throw new Q(510);qa(this,a[b])}else"array"==Pb(this.lc)&&qa(this,this.lc.map(function(b){if(b instanceof ve){if(a[D]<=b.yb())throw new Q(510);return a[b.yb()]}return b}))});
I.Ii=function(a){M("in"==this.L,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new P(this[w]),c=K(function(a){return b[ub](a)!=this.cb},this),d=a[C][Ga](function(a){return c(a.S(this.K))},this);return new le(d,a.X())};f(I,function(){return"value_pred("+this.K.l()+" "+this.L+(this.cb?"(complement)":"")+" "+this[w]+")"});I.tg=function(){this.Hf();return null!==this[w]&&("between"==this.L||"eq"==this.L||"gt"==this.L||"gte"==this.L||"lt"==this.L||"lte"==this.L)};
I.ml=function(){M(this.tg(),"Could not convert predicate to key range.");var a=null;"between"==this.L?a=new he(this[w][0],this[w][1],!1,!1):"eq"==this.L?(a=this[w],a=new he(a,a,!1,!1)):a="gte"==this.L?new he(this[w],null,!1,!1):"gt"==this.L?new he(this[w],null,!0,!1):"lte"==this.L?new he(null,this[w],!1,!1):new he(null,this[w],!1,!0);return this.cb?a.oi():[a]};
function He(a){this.ea=a;this.Kc=this.va=null}He[t].Ld=function(a){null===this.va&&null!=this.F&&(this.va=Ie(this.F));a=this.va.get(a,null);M(null!==a);return a};function Ie(a){var b=new O;a.Cc(function(a){b.set(a.da(),a)});return b}He[t].yd=function(a){a.F&&(this.F=a.F.Pb());this.Kc=a};Ba(He[t],function(){M(null==this.Kc);return this});He[t].oe=function(a){var b=this.F;null!=b&&b.Cc(function(b){b instanceof Ge&&b[F](a)})};
function Je(a){He[r](this,a)}L(Je,He);function Ke(a){var b="";a[G](function(c,d){b+=c.K.l()+" ";b+=1==c.rb?"ASC":"DESC";d<a[D]-1&&(b+=", ")});return b}Je[t].fa=function(){return new P(this.c)};ma(Je[t],function(){var a=new Je(this.ea);a.yd(this);this.h&&(a.h=this.h[n]());this.c&&(a.c=this.c[n]());a.na=this.na;a.ja=this.ja;this.N&&(a.N=this.N[n]());this.ma&&(a.ma=this.ma[n]());this.Wb&&(a.Wb=this.Wb);this.gc&&(a.gc=this.gc);a.yc=this.yc;return a});
Ba(Je[t],function(a){Je.Nb[F][r](this,a);null!=this.Wb&&(this.na=a[this.Wb.yb()]);null!=this.gc&&(this.ja=a[this.gc.yb()]);this.oe(a);return this});
function Le(a,b){this.Da=a;this.sa=b}Le[t].pb=H("Da");Le[t].Xf=Kb("plan description");Le[t].fa=H("sa");function Me(a){var b=new P;a[G](function(a){b[hb](a.fa())});return b};

function Ne(a,b){this.global=a;this.Fb=a.o(Gd);this.ae=b.map(function(a){return a[ob]});this.Sg=b.map(function(a){return a.af});this.Of=Me(this.Sg);this.rh=this.Ei();this.cc=ad()}I=Ne[t];I.Ei=function(){return this.ae[ab](function(a){return!(a instanceof Je)})?1:0};
na(I,function(){var a=new ge(this[Wa],this.Of.f()),b=[],c=this.Sg[n](),d=K(function(){var g=c[sb]();if(g){var k=this.ae[b[D]];return g.pb()[Qa](a,k)[A](function(a){b[z](a[0]);return d()})}return Wc()},this);return d()[A](K(function(){return this.Fb.Qb(this.rh,a).oa()},this))[A](K(function(){this.Ye(b);return b},this),K(function(b){a.Kb();throw b;},this))});I.Z=H("rh");I.fa=H("Of");I.Zc=H("cc");I.da=function(){return Vb(this)};I.Ye=Ib();
function Oe(a,b){Ne[r](this,a,b);this.Ib=a.o(Ld)}L(Oe,Ne);Ea(Oe[t],Kb(0));Oe[t].Ye=function(a){this.ae[G](function(b,c){this.Ib.th(b,a[c])},this)};
function Pe(a,b){this.m=a;this.Ib=a.o(Ld);this.Za=a.o(Kd);this.Rd=new Yd(a);this.Eb=b;var c=a.o(Md),d=this.Eb.map(function(a){return c[h](a[u]())});this.sa=new P(d);this.cc=ad()}I=Pe[t];na(I,function(){this.Rd[Va](this.Eb);this.ld();return Wc()});I.Z=Kb(1);I.fa=H("sa");I.Zc=H("cc");I.da=function(){return Vb(this)};Ea(I,Kb(1));I.ld=function(){var a=this.Ib.Je(this.sa.f());0!=a[D]&&(a=new Oe(this.m,a),this.Za.dc(a))};
function Qe(a){this.m=a;this.Fb=a.o(Gd);this.Za=a.o(Kd)}Qe[t].il=function(){this.Fb.subscribe(this.We[F](this))};Qe[t].We=function(a){a=new Pe(this.m,a);this.Za.dc(a)};


function Re(a,b){this.Ta=a;this.j=b;this.jb=new O}J("lf.backstore.FirebaseRawBackStore",Re,void 0);I=Re[t];I.Md=H("j");I.Nd=function(){throw new Q(351);};function Se(a,b){var c=ad(),d=a;b[D]&&(d=a[kb](b));d[Ha]("value",function(a){c[Fb](a.val())},function(a){c[La](a)});return c.ha}function Te(a,b,c){function d(a){a?g[La](a):g[Fb]()}c=c||!1;var g=ad();c?a.set(b,d):a[Va](b,d);return g.ha}
I.Fa=function(a){return Se(this.j,"@rev/R")[A](function(a){this.Ya=a;return Se(this.j,"@table")}[F](this))[A](function(b){var c=0,d;for(d in b)this.jb.set(d,b[d]),b[d]>c&&(c=b[d]);a.$a()[G](function(a){this.jb.A(a[u]())||(b[a[u]()]=++c)},this);d=this.j[kb]("@table");return Te(d,b)}[F](this))};
I.he=function(a,b){var c=this.jb.get(a);return null!=c?function(){var a={},g=ad();this.j[cb]("T").equalTo(c)[Ha]("value",function(c){c[G](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Fb](a)});return g.ha}[r](this)[A](function(a){a["@rev"]={R:++this.Ya};return Te(this.j,a)}[F](this)):Wc()};I.Oc=function(a){return this.he(a,Kb(null))[A](function(){this.jb[y](a);return Te(this.j[kb]("@table/"+a),null,!0)}[F](this))};Re[t].dropTable=Re[t].Oc;
Re[t].Gc=function(a,b,c){return this.he(a,function(a){var g=a.P;g[b]=c;return{R:this.Ya+1,T:a.T,P:g}}[F](this))};Re[t].addTableColumn=Re[t].Gc;Re[t].Pc=function(a,b){return this.he(a,function(a){var d=a.P;delete d[b];return{R:this.Ya+1,T:a.T,P:d}}[F](this))};Re[t].dropTableColumn=Re[t].Pc;Re[t].kd=function(a,b,c){return this.he(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Ya+1,T:a.T,P:g}}[F](this))};Re[t].renameTableColumn=Re[t].kd;Re[t].Gb=function(){throw new Q(351);};
Re[t].createRow=Re[t].Gb;Re[t].bd=H("Ta");Re[t].getVersion=Re[t].bd;Re[t].rc=function(a){var b=ad();a=this.jb.get(a);this.j[cb]("T").equalTo(a)[Ha]("value",function(a){var d=[];a[G](function(a){d[z](a.val().P)});b[Fb](d)});return b.ha};la(Re[t],function(){var a={},b=this.jb.U().map(function(b){return this.rc(b)[A](function(d){a[b]=d})}[F](this));return $c(b)[A](function(){return a})});la(Re[t],Re[t].dump);
function Ue(a,b,c){od[r](this,c,b);this.j=a}L(Ue,od);Ue[t].M=function(a){return this.j.$c(a)};
Ue[t].Lc=function(){var a=this.Aj().cg();if(0==a.ya())this.aa[Fb]();else{var b=this.j.Mj()+1;this.j.hh(b);var c={"@rev":{R:b}};a[G](function(a){var g=this.j.jg(a[u]());a.Uc()[G](function(a,d){c[d]={R:b,T:g,P:a.w()}});a.Yc()[G](function(a,d){c[d]={R:b,T:g,P:a[1].w()}});a.Wc()[G](function(a,b){c[b]=null})},this);this.j.Jj()[Va](c,function(c){if(null===c)this.aa[Fb]();else this.j.hh(b-1),c=a.f().map(function(a){return this.j.Xg(a[u]())},this),$c(c)[A](this.aa[La][F](this.aa),this.aa[La][F](this.aa))}[F](this))}return this.aa.ha};
function Ve(){this.vb=new Cd}I=Ve[t];I.Ie=function(a){if(0==a[D])return Ed(this.vb);var b=[];a[G](function(a){a=this.vb.get(a)||null;null===a||b[z](a)},this);return b};I.getData=H("vb");I.get=function(a){return Wc(this.Ie(a))};I.bf=function(a){a[G](function(a){this.vb.set(a.id(),a)},this)};I.put=function(a){this.bf(a);return Wc()};I.Yg=function(a){0==a[D]||a[D]==this.vb[Hb]?this.vb[x]():a[G](function(a){this.vb[Ya](a)},this)};wa(I,function(a){this.Yg(a);return Wc()});
I.Bj=function(){return 0==this.vb[Hb]?0:Dd(this.vb)[Ka](function(a,b){return a>b?a:b},0)};
function We(a,b){this.s=a;this.Dh=b;this.jd=new O;this.Ya=-1;this.I=new O;this.jb=new O;this.pe=null}I=We[t];I.Mj=H("Ya");I.hh=Jb("Ya");
I.Fa=function(a){this.j=this.Dh[kb](this.s[q]());var b=a||function(){return Wc()};return Se(this.j,"@db/version")[A](function(a){return null===a?Te(this.j,this.ui(),!0)[A](function(){var a=new Re(0,this.j);return b(a)}[F](this)):a==this.s[vb]()?Se(this.j,"@rev/R")[A](function(a){this.Ya=a;return Se(this.j,"@table")}[F](this))[A](function(a){for(var b in a)this.jb.set(b,a[b]);a=this.s.$a().map(function(a){return this.Xg(a[u]())},this);return $c(a)}[F](this))[A](function(){this.dk();this.Hg();return Wc()}[F](this)):
this.Ze(a,b)[A](function(){return this.Fa()}[F](this))}[F](this))};I.Ze=function(a,b){var c=new Re(a,this.j);return c.Fa(this.s)[A](function(){return this.sl()}[F](this))[A](function(){return b(c)})[A](function(){var a=this.j[kb]("@db");return Te(a,{version:this.s[vb]()},!0)}[F](this))};I.sl=function(){return Wc()};I.Hg=function(){this.j.off();this.j.on("child_removed",this.Bk[F](this));this.qe&&(this.qe.off(),this.jd[x]());this.qe=this.j[cb]("R").startAt(this.Ya+1);this.qe.on("value",this.We[F](this))};
I.dk=function(){hd=this.I.f().map(function(a){return a.Bj()})[Ka](function(a,b){return a>b?a:b},0)+1};I.Bk=function(a){var b=a.val(),c=this.jd.get(b.T,null);null===c&&(c=new P,this.jd.set(b.T,c));c.add(da(a.key(),10))};I.We=function(a){var b=a[kb]("@rev/R").val();null!=b&&b!=this.Ya&&(this.Ya=b,a=this.ij(a),a[G](function(a){var b=this.I.get(a[u]()),g=a.Wc().U();g[D]&&b.Yg(g);var k=a.Uc().f();a.Yc()[G](function(a){k[z](a[1])});b.bf(k)},this),a[D]&&this.gd(a),this.Hg())};
I.ij=function(a){var b=new P,c=new O;this.jb[G](function(a,g){var k=this.I.get(g),l=new fe(g);if(this.jd.A(a)){var p=this.jd.get(a).f();b[hb](p);k.Ie(p)[G](function(a){l[Ya](a)})}c.set(a,l)}[F](this));a[G](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b[ub](g)){a=a.val();var k=c.get(a.T),l=this.I.get(k[u]());l.getData().A(g)?k.modify([l.Ie([g])[0],new gd(g,a.P)]):k.add(new gd(g,a.P))}}}[F](this));return c.f()[Ga](function(a){return!a.Ma()})};
I.Xg=function(a){var b=ad(),c=this.jg(a);this.j[cb]("T").equalTo(c)[Ha]("value",function(c){var g=new Ve,k=[];c[G](function(a){k[z](new gd(da(a.key(),10),a.val().P))});g.bf(k);this.I.set(a,g);b[Fb]()}[F](this));return b.ha};I.jg=function(a){return this.jb.get(a)};I.ui=function(){var a={};a["@db"]={version:this.s[vb]()};a["@rev"]={R:1};this.Ya=1;a["@table"]={};this.s.$a()[G](function(b,c){var d=b[u]();a["@table"][d]=c;this.I.set(d,new Ve);this.jb.set(d,c)},this);return a};
I.Qb=function(a,b){return new Ue(this,a,b)};I.$c=function(a){var b=this.I.get(a,null);if(null!==b)return b;throw new Q(101,a);};I.Jj=H("j");pa(I,Ib());Ca(I,Jb("pe"));I.gd=function(a){null!=this.pe&&this.pe(a)};
function R(a,b,c,d){this.j=b;this.Sa=c;this.Ta=a;this.ud=d}J("lf.backstore.IndexedDBRawBackStore",R,void 0);R[t].Md=H("j");R[t].getRawDBInstance=R[t].Md;R[t].Nd=H("Sa");R[t].getRawTransaction=R[t].Nd;R[t].Oc=function(a){return new N(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[t].dropTable=R[t].Oc;
R[t].Fk=function(a,b,c){return new N(function(d,g){var k;try{var l=this.Sa[wb](a);k=l[Fa]()}catch(p){g(p);return}ta(k,function(){var a=k[Gb];a?(b(a),a[gb]()):(c(l),d())});za(k,g)},this)};function Xe(a){var b=null;return b=a instanceof ArrayBuffer?kd(a):a instanceof Date?a[Eb]():a}R[t].qf=function(a,b){function c(a){var c=Td(a[w]),d=c.vc(),p;for(p in d){var v=id(d[p]);b(v);d[p]=v.Ja()}a[Va](c.Ja())}function d(a){var c=id(a[w]);b(c);a[Va](c.Ja())}return this.Fk(a,this.ud?c:d,Ib())};
R[t].Gc=function(a,b,c){var d=Xe(c);return this.qf(a,function(a){a.w()[b]=d})};R[t].addTableColumn=R[t].Gc;R[t].Pc=function(a,b){return this.qf(a,function(a){delete a.w()[b]})};R[t].dropTableColumn=R[t].Pc;R[t].kd=function(a,b,c){return this.qf(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};R[t].renameTableColumn=R[t].kd;
R[t].Qj=function(a){var b=[];return new N(function(c,d){var g;try{g=this.Sa[wb](a)[Fa]()}catch(k){d(k);return}ta(g,K(function(){var a=g[Gb];if(a){if(this.ud){var d=Td(a[w]).vc(),k;for(k in d)b[z](d[k])}else b[z](a[w]);a[gb]()}else c(b)},this));za(g,d)},this)};R[t].Gb=function(a){var b={};zc(a,K(function(a,d){b[d]=Xe(a)},this));return jd(b)};R[t].createRow=R[t].Gb;R[t].bd=H("Ta");R[t].getVersion=R[t].bd;
la(R[t],function(){for(var a=this.j[Ia],b=[],c=0;c<a[D];++c){var d=a[Na](c);b[z](this.rc(d))}return $c(b)[A](function(b){var c={};b[G](function(b,d){c[a[Na](d)]=b});return c})});la(R[t],R[t].dump);R[t].rc=function(a){return this.Qj(a)[A](function(a){return a.map(function(a){return a[w]})})};
function Ye(a,b){this.V=a;this.Rb=b}I=Ye[t];I.get=function(a){if(0==a[D])return this.Vc();a=a.map(function(a){return new N(function(c,d){var g;try{g=this.V.get(a)}catch(k){d(k);return}za(g,d);ta(g,K(function(a){c(this.Rb(a[Pa][Gb]))},this))},this)},this);return $c(a)};I.Vc=function(){return new N(function(a,b){var c=[],d;try{d=this.V[Fa]()}catch(g){b(g);return}za(d,b);ta(d,K(function(){var b=d[Gb];b?(c[z](this.Rb(b[w])),b[gb]()):a(c)},this))},this)};
I.$b=function(a){return new N(function(b,c){var d;try{d=a()}catch(g){c(g);return}ta(d,b);za(d,c)},this)};I.put=function(a){if(0==a[D])return Wc();a=a.map(function(a){return this.$b(K(function(){return this.V.put(a.Ja())},this))},this);return $c(a)};
wa(I,function(a){return new N(function(b,c){var d=this.V[bb]();ta(d,K(function(d){if(0==a[D]||d[Pa][Gb]==a[D])return this.$b(K(function(){return this.V[x]()},this))[A](b,c);d=a.map(function(a){return this.$b(K(function(){return this.V[Ya](a)},this))},this);$c(d)[A](b,c)},this));za(d,c)},this)});
function Ze(a,b,c,d,g){od[r](this,c,d);this.m=a;this.Sa=b;this.ud=g;this.Sa.oncomplete=K(this.aa[Fb],this.aa);this.Sa.onabort=K(this.aa[La],this.aa)}L(Ze,od);Ze[t].M=function(a,b,c){return this.ud?(c=null!=c?c:0,a=this.Sa[wb](a),new Ud(a,b,0==c?$b(Vd,this.m):Wd)):new Ye(this.Sa[wb](a),b)};Ze[t].Lc=function(){return this.aa.ha};
function $e(a,b){this.m=a;this.s=b;this.vd=b.Tg().Gi||!1}I=$e[t];I.Fa=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new Q(352);var c=a||function(){return Wc()};return new N(function(a,g){var k;try{k=b.open(this.s[q](),this.s[vb]())}catch(l){g(l);return}za(k,g);k.onupgradeneeded=K(function(a){this.Ek(c,a)[A](Ib(),g)},this);ta(k,K(function(b){this.j=b[Pa][Gb];this.jf()[A](K(function(b){hd=b+1;a(this.j)},this))},this))},this)};
I.Ek=function(a,b){var c=b[Pa][Gb],d=b[Pa][mb],g=new R(b.oldVersion,c,d,this.vd);this.Uk(c,d);this.zi(c,d);return a(g)};I.Uk=function(a){for(var b=[],c=0;c<a[Ia][D];++c){var d=a[Ia][Na](c);-1!=d[$a](".")&&b[z](d)}b[G](function(b){try{a.deleteObjectStore(b)}catch(c){}})};I.zi=function(a,b){this.s.$a()[G]($b(this.wi,a,b),this)};I.wi=function(a,b,c){a[Ia][ub](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.ac()&&(c.Ea()[G](function(c){this.Nc(a,b,c.l(),"btree")},this),this.Nc(a,b,c.Sb(),"rowid"))};
I.Nc=function(a,b,c,d){a[Ia][ub](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[wb](c),(this.vd?new Ud(a,id,Wd):new Ye(a,id)).put([new md(new ld(d))]))};I.Qb=function(a,b){var c=b.fa().f().map(function(a){return a[u]()});b.yj()[G](function(a){c[z](a)});var d=this.j[mb](c,0==a?"readonly":"readwrite");return new Ze(this.m,d,b,a,this.vd)};
I.jf=function(a){function b(){if(0==c[D])return Wc();var a=c[sb]();return l(a)[A](b)}var c=this.s.$a().map(function(a){return a[u]()}),d=this.j,g=0,k=K(function(a){return this.vd?(a=Td(a[w]),Cc(a.vc())[Ka](function(a,b){return ba.max(a,b)},0)):a.key},this),l=K(function(b){return new N(function(c,l){var jb;try{jb=(a||d[mb]([b]))[wb](b)[Fa](null,"prev")}catch(rb){l(rb);return}ta(jb,function(a){(a=a[Pa][Gb])&&(g=ba.max(g,k(a)));c(g)});za(jb,function(){c(g)})},this)},this);return new N(function(a){b()[A](function(){a(g)})})};
pa(I,function(){this.j[Ra]()});I.$c=function(){throw new Q(511);};Ca(I,Ib());I.gd=Ib();



function af(a,b,c){od[r](this,c,b);this.V=a;0==b&&this.aa[Fb]()}L(af,od);af[t].M=function(a){return this.V.$c(a)};af[t].Lc=function(){this.aa[Fb]();return this.aa.ha};
function bf(a){this.s=a;this.I=new Cd}I=bf[t];I.Fa=function(){this.s.$a()[G](this.ek,this);return Wc()};I.$c=function(a){var b=this.I.get(a)||null;if(null===b)throw new Q(101,a);return b};I.Qb=function(a,b){return new af(this,a,b)};I.Qf=function(a){if(!this.I.has(a)){var b=new Ve;this.I.set(a,b);return b}return null};I.ek=function(a){this.Qf(a[u]());a.ac()&&(a.Ea()[G](function(a){this.Nc(a.l(),"btree")},this),this.Nc(a.Sb(),"rowid"))};I.Nc=function(a,b){var c=this.Qf(a);null===c||c.put([new md(new ld(b))])};
pa(I,Ib());Ca(I,Ib());I.gd=Ib();
function cf(a){bf[r](this,a);this.Wd=null}L(cf,bf);Ca(cf[t],function(a){null===this.Wd&&(this.Wd=a)});cf[t].gd=function(a){null===this.Wd||this.Wd(a)};
function df(a,b,c){this.Sa=a;this.B=b;this.Rb=c}df[t].get=function(a){var b=this.Rb;this.Sa.Pa("SELECT id, value FROM "+this.B+" "+(0==a[D]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Cb][D],g=e(d),k=0;k<d;++k)g[k]=b({id:a[Cb][Na](k).id,value:JSON.parse(a[Cb][Na](k)[w])});return g});return this.Sa.oa()};
df[t].put=function(a){if(0==a[D])return Wc();var b="INSERT OR REPLACE INTO "+this.B+"(id, value) VALUES (?, ?)";a[G](function(a){this.Sa.Pa(b,[a.id(),JSON.stringify(a.w())])},this);return Wc()};wa(df[t],function(a){this.Sa.Pa("DELETE FROM "+this.B+" "+(0==a[D]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Wc()});
function ef(a,b,c){od[r](this,b,c);this.j=a;this.I=new Cd;this.we=[]}L(ef,od);ef[t].M=function(a,b){var c=this.I.get(a)||null;null===c&&(c=new df(this,a,b),this.I.set(a,c));return c};ef[t].Pa=function(a,b,c){this.we[z]({jl:a,Gk:b,transform:c})};
ef[t].Lc=function(){var a,b,c=this.aa[La][F](this.aa),d=function(a,b){this.aa[La](b)}[F](this),g=K(function(c,l){a=l;if(this.we[D]){var p=this.we[sb]();b=p.transform;c.executeSql(p.jl,p.Gk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.aa[Fb](p)},this);0==this.qh?this.j.readTransaction(g,c):this.j[mb](g,c);return this.aa.ha};
function S(a,b,c){this.j=c;this.m=a;this.Ta=b}J("lf.backstore.WebSqlRawBackStore",S,void 0);S[t].Md=H("j");S[t].getRawDBInstance=S[t].Md;S[t].Nd=function(){throw new Q(356);};S[t].getRawTransaction=S[t].Nd;S[t].Cd=function(){return new ef(this.j,new ge(this.m,[]),1)};S[t].Oc=function(a){var b=this.Cd();b.Pa("DROP TABLE "+a,[]);return b.oa()};S[t].dropTable=S[t].Oc;
S[t].rc=function(a){var b=this.Cd();b.Pa("SELECT id, value FROM "+a,[]);return b.oa()[A](function(a){for(var b=a[Cb][D],g=e(b),k=0;k<b;++k)g[k]={id:a[Cb][Na](k).id,value:JSON.parse(a[Cb][Na](k)[w])};return Wc(g)})};S[t].pf=function(a,b){var c=this.Cd(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.rc(a)[A](function(a){a[G](function(a){a=b(a);c.Pa(d,[JSON.stringify(a[w]),a.id])});return c.oa()})};S[t].Gc=function(a,b,c){var d=Xe(c);return this.pf(a,function(a){a[w][b]=d;return a})};
S[t].addTableColumn=S[t].Gc;S[t].Pc=function(a,b){return this.pf(a,function(a){delete a[w][b];return a})};S[t].dropTableColumn=S[t].Pc;S[t].kd=function(a,b,c){return this.pf(a,function(a){a[w][c]=a[w][b];delete a[w][b];return a})};S[t].renameTableColumn=S[t].kd;S[t].Gb=function(a){var b={},c;for(c in a)b[c]=Xe(a[c]);return jd(b)};S[t].createRow=S[t].Gb;S[t].bd=H("Ta");S[t].getVersion=S[t].bd;
function ff(a){a.Pa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Cb][D]),d=0;d<c[D];++d)c[d]=a[Cb][Na](d).tbl_name;return c})}la(S[t],function(){var a=ad(),b=this.Cd();ff(b);var c={};b.oa()[A](K(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.rc(a)[A](function(b){c[a]=b})},this);$c(b)[A](function(){a[Fb](c)})},this));return a.ha});la(S[t],S[t].dump);
function gf(a,b,c){this.m=a;this.s=b;this.fl=c||4194304}I=gf[t];I.Gd=function(){return new ge(this.m,[])};I.Fa=function(a){if(null==ca.openDatabase)throw new Q(353);var b=a||function(){return Wc()};return new N(K(function(a,d){try{var g=ca.openDatabase(this.s[q](),"",this.s[q](),this.fl);if(null!=g)this.j=g,this.ki(b)[A](a,d);else throw new Q(354);}catch(k){d(k)}},this))};
I.ki=function(a){var b=ad(),c=new ef(this.j,this.Gd(),1);c.Pa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Pa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.oa()[A](K(function(c){var g=0;c[Cb][D]&&(g=c[Cb][Na](0).v);g<this.s[vb]()?this.Ze(a,g)[A](b[Fb][F](b)):g>this.s[vb]()?b[La](new Q(108)):b[Fb]()},this));return b.ha};I.Qb=function(a,b){if(null!=this.j)return new ef(this.j,b,a);throw new Q(2);};pa(I,Ib());I.$c=function(){throw new Q(512);};
I.Kg=function(){throw new Q(355);};Ca(I,function(){this.Kg()});I.gd=function(){this.Kg()};I.Ze=function(a,b){var c=ad();this.Jk()[A](K(function(){a(new S(this.m,b,this.j))[A](K(function(){return this.jf()},this))[A](c[Fb][F](c))},this),c[La][F](c));return c.ha};
I.Jk=function(){var a=this.s.$a(),b=new ef(this.j,this.Gd(),1),c=new ef(this.j,this.Gd(),1);b.Pa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[vb]()]);ff(b);return b.oa()[A](function(b){b[Ga](function(a){return-1!=a[$a](".")})[G](function(a){c.Pa("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[$a](".")});a.map(function(a){return a[u]()})[Ga](function(a){return-1==g[$a](a)})[G](function(a){c.Pa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.oa()})};
I.jf=function(){var a=0,b=ad(),c=K(function(b){var c=new ef(this.j,this.Gd(),0);c.Pa("SELECT MAX(id) FROM "+b,[]);return c.oa()[A](function(b){b=b[Cb][Na](0)[0];a=ba.max(b,a)})},this),d=this.s.$a().map(function(a){return c(a[u]())});$c(d)[A](function(){b[Fb](a)},function(a){b[La](a)});return b.ha};

function hf(a){this.ec=new P(a);aa.defineProperty(this,"size",{get:function(){return this.ec.ya()}})}hf[t].add=function(a){this.ec.add(a)};hf[t].add=hf[t].add;ua(hf[t],function(){this.ec[x]()});ua(hf[t],hf[t][x]);sa(hf[t],function(a){return this.ec[y](a)});hf[t]["delete"]=hf[t][Ya];Da(hf[t],function(a,b){this.ec.f()[G](a,b)});hf[t].has=function(a){return this.ec[ub](a)};hf[t].has=hf[t].has;var jf=ca.Set&&ca.Set[t][db]&&ca.Set[t][G]?ca.Set:hf;
function kf(a){if(a instanceof hf)return a.ec.f();var b=0,c=e(a[Hb]);a[G](function(a){c[b++]=a});return c};
function mf(){this.g=new Cd;this.mh=new Cd}I=mf[t];I.Od=function(a){var b=this.mh.get(a);Mb(b)||(b=new jf,this.mh.set(a,b));return b};I.set=function(a,b){var c=this.Od(a);b[G](K(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};I.get=function(a){return a.map(K(function(a){return this.g.get(a)||null},this))};
I.ob=function(a,b,c){var d=[],g=ba.min(b,c),k=ba.max(b,c);a=this.Od(a);if(a[Hb]<k-g)a[G](function(a){a>=g&&a<=k&&(a=this.g.get(a),M(null!=a,"Inconsistent cache"),d[z](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),M(null!=c,"Inconsistent cache"),d[z](c));return d};wa(I,function(a,b){var c=this.Od(a);b[G](function(a){this.g[Ya](a);c[Ya](a)},this)});I.ya=function(a){return null!=a?this.Od(a)[Hb]:this.g[Hb]};
function nf(a,b,c,d){a=b?a[fb]():a;if(null==c&&null==d)return a;c=ba.min(Mb(c)?c:a[D],a[D]);if(0==c)return[];d=ba.min(d||0,a[D]);return a[n](d,d+c)};
function of(){this.Ra=0}of[t].add=function(a,b){this.Ra+=b};wa(of[t],function(a,b){this.Ra-=b});ua(of[t],function(){this.Ra=0});of[t].rl=function(a){this[x]();a[G](function(a){this.Ra+=a.Ra},this)};
function pf(a,b,c,d){this.B=a;this.W=b;this.sf=c;this.Mb=new of;if(d){a=511;a*=a*a;if(d[D]>=a)throw new Q(6,a);d=qf(this,d);this.ra=d=rf(d)}else this[x]()}var sf=[];I=pf[t];oa(I,H("B"));f(I,function(){return this.ra[E]()});I.add=function(a,b){this.ra=this.ra.Bb(a,b)};I.set=function(a,b){this.ra=this.ra.Bb(a,b,!0)};wa(I,function(a,b){this.ra=this.ra[y](a,b)});I.get=function(a){return this.ra.get(a)};I.Bd=function(a){if(null==a)return this.ib().Ra;if(a instanceof he){if(a.rg())return this.ib().Ra;if(a.wg())return this.get(a.c)[D]}return this.ob([a])[D]};
I.ib=H("Mb");I.Vc=function(a,b,c){b=ba.min(ba.max(this.Mb.Ra-c,0),b);if(0==b)return[];var d=e(b);this.ra.fill({offset:a?this.Mb.Ra-b-c:c,count:b,nf:0},d);return a?d[fb]():d};
I.ob=function(a,b,c,d){var g=this.ra.Jd().b[0];if(!Mb(g)||0==c)return sf;if(!Mb(a)||1==a[D]&&a[0]instanceof he&&a[0].rg())return this.Vc(b||!1,c||this.Mb.Ra,d||0);var k=(c||0)+(d||0),k=0<k&&!b?k:Number.POSITIVE_INFINITY,l=[];this.W.kh(a)[G](function(a){for(var b=this.W.be(a),b=this.W.Oe(a)?g:b[0],b=this.ra.bg(b),c=0;null!=b&&l[D]<k;)0!=b.ob(a,l)?c=0:c++,b=2==c?null:b[qb]()},this);return nf(l,b,c,d)};ua(I,function(){this.ra=tf(this);this.Mb[x]()});I.A=function(a){return this.ra.A(a)};
I.min=function(){return this.fd(K(this.W.min,this.W))};I.max=function(){return this.fd(K(this.W.max,this.W))};I.fd=function(a){var b=this.ra.Jd(),c=this.ra.ig();if(0==b.b[D]&&0==c.b[D])return[null,null];var d=b.b[0],b=b.D[0],g=c.b[c.b[D]-1],c=c.D[c.b[D]-1];return 1==a(d,g)?[d,this.sf?[b]:b]:[g,this.sf?[c]:c]};I.Ha=H("sf");I.Mc=H("W");I.Te=function(a,b){return null!=a?-1==this.W[Ab](a,b):!1};I.Va=function(a,b){return null!=a?0==this.W[Ab](a,b):!1};
I.Ja=function(){for(var a=[],b=this.ra.Jd();b;)a[z](new gd(b.za,[b.b,b.D])),b=b.Aa;return a};function uf(a,b,c,d){a=new pf(b,a,c);d=vf(d,a);a.ra=d;return a}function wf(a,b){this.za=a;this.C=b;this.qb=0;this.Aa=this.Cb=this.G=null;this.b=[];this.D=[];this.i=[]}function tf(a){return new wf(hd++,a)}I=wf[t];I.ga=function(){return 0==this.qb};I.Ag=function(){return null==this.G};ya(I,H("Aa"));
function xf(a){function b(a){return null!=a?a.za[E]():"_"}var c=a.za+"["+a.b[m]("|")+"]",d=a.i.map(function(a){return a.za})[m]("|"),g=a.D[m]("/"),k=b(a.Cb)+"{",k=a.ga()?k+g:k+d,k=k+"}"+b(a.G);a.Aa&&(a=xf(a.Aa),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(I,function(){var a="",b=xf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[D]&&(a+=this.i[0][E]());return a});I.Jd=function(){return this.ga()?this:this.i[0].Jd()};I.ig=function(){return this.ga()?this:this.i[this.i[D]-1].ig()};
function yf(a,b){b&&(b.Cb=a);a&&(a.Aa=b)}function qf(a,b){for(var c=b[D],d=0,g=tf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.b=p.map(function(a){return a.key});g.D=p.map(function(a){return a[w]});d+=l;c-=l;0<c&&(l=tf(g.C),yf(g,l),g=l)}return k}function zf(a){var b=a[0],c=tf(b.C);c.qb=b.qb+1;c.i=a;for(b=0;b<a[D];++b)a[b].G=c,0<b&&c.b[z](a[b].b[0]);return c}
function rf(a){var b=a,c=[];do c[z](b),b=b.Aa;while(b);if(512>=c[D])b=zf(c);else{var d=c[D],g=0,b=tf(a.C);for(b.qb=a.qb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[n](g,g+a),l=zf(k);l.G=b;b.i[D]&&(b.b[z](k[0].b[0]),yf(b.i[b.i[D]-1],l));b.i[z](l);g+=a;d-=a}}return b}I.get=function(a){var b=this.md(a);if(this.ga()){var c=sf;this.C.Va(this.b[b],a)&&(c=c[Sa](this.D[b]));return c}b=this.C.Va(this.b[b],a)?b+1:b;return this.i[b].get(a)};
I.A=function(a){var b=this.md(a);return this.C.Va(this.b[b],a)?!0:this.ga()?!1:this.i[b].A(a)};wa(I,function(a,b){this.Tf(a,-1,b);if(this.Ag()){var c=this;1==this.i[D]&&(c=this.i[0],c.G=null);return c}return this});function Af(a){return a.ga()?a.b[0]:Af(a.i[0])}I.Ed=function(){this.b=[];for(var a=1;a<this.i[D];++a)this.b[z](Af(this.i[a]))};
I.Tf=function(a,b,c){var d=this.md(a),g=this.ga();if(!g){var k=this.C.Va(this.b[d],a)?d+1:d;if(this.i[k].Tf(a,k,c))this.Ed();else return!1}else if(!this.C.Va(this.b[d],a))return!1;if(this.b[D]>d&&this.C.Va(this.b[d],a)){if(Mb(c)&&!this.C.Ha()&&g&&(k=this.D[d],c=uc(k,vc,!1,c),0<=c&&oc(k,c)&&this.C.ib()[y](a,1),this.D[d][D]))return!1;this.b[B](d,1);g&&(g=this.C.Ha()?1:this.D[d][D],this.D[B](d,1),this.C.ib()[y](a,g))}256>this.b[D]&&!this.Ag()&&(this.kl()||this.xk(b));return!0};
I.kl=function(){var a=null,b,c,d;if(this.Aa&&256<this.Aa.b[D])a=this.Aa,c=b=0,d=this.b[D]+1;else if(this.Cb&&256<this.Cb.b[D])a=this.Cb,b=this.Cb.b[D]-1,c=this.ga()?b:b+1,d=0;else return!1;this.b[B](d,0,a.b[b]);a.b[B](b,1);b=this.ga()?this.D:this.i;var g=null;this.ga()?g=a.D:(g=a.i,g[c].G=this);b[B](d,0,g[c]);g[B](c,1);a.ga()||(a.Ed(),this.Ed());return!0};
I.xk=function(a){var b,c,d;this.Aa&&511>this.Aa.b[D]?(b=this.Aa,d=c=0):this.Cb&&(b=this.Cb,c=b.b[D],d=b.ga()?b.D[D]:b.i[D]);c=[c,0][Sa](this.b);e[t][B][yb](b.b,c);c=null;this.ga()?c=this.D:(c=this.i,c[G](function(a){a.G=b}));c=[d,0][Sa](c);e[t][B][yb](b.ga()?b.D:b.i,c);yf(this.Cb,this.Aa);b.ga()||b.Ed();-1!=a&&(this.G.b[B](a,1),this.G.i[B](a,1))};
I.Bb=function(a,b,c){var d=this.md(a);if(this.ga()){if(this.C.Va(this.b[d],a)){if(c)this.C.ib()[y](a,this.C.Ha()?1:this.D[d][D]),this.D[d]=this.C.Ha()?b:[b];else{if(this.C.Ha())throw new Q(201);if(!wc(this.D[d],b))throw new Q(109);}this.C.ib().add(a,1);return this}this.b[B](d,0,a);this.D[B](d,0,this.C.Ha()?b:[b]);this.C.ib().add(a,1);return 512==this.b[D]?this.hl():this}d=this.C.Va(this.b[d],a)?d+1:d;a=this.i[d].Bb(a,b,c);a.ga()||1!=a.b[D]||(this.b[B](d,0,a.b[0]),a.i[1].G=this,a.i[0].G=this,this.i[B](d,
1,a.i[1]),this.i[B](d,0,a.i[0]));return 512==this.b[D]?this.gl():this};I.hl=function(){var a=tf(this.C),b=tf(this.C);b.qb=1;b.b=[this.b[256]];b.i=[this,a];b.G=this.G;this.G=b;a.b=this.b[B](256);a.D=this.D[B](256);a.G=b;yf(a,this.Aa);yf(this,a);return b};I.gl=function(){var a=tf(this.C),b=tf(this.C);a.G=this.G;a.qb=this.qb+1;a.b=[this.b[256]];a.i=[this,b];this.b[B](256,1);b.G=a;b.qb=this.qb;b.b=this.b[B](256);b.i=this.i[B](257);b.i[G](function(a){a.G=b});this.G=a;yf(b,this.Aa);yf(this,b);return a};
I.md=function(a){for(var b=0,c=this.b[D];b<c;){var d=b+c>>1;this.C.Te(this.b[d],a)?b=d+1:c=d}return b};I.bg=function(a){if(!this.ga()){var b=this.md(a);this.C.Va(this.b[b],a)&&b++;return this.i[b].bg(a)}return this};
I.ob=function(a,b){function c(b,d){if(b>=d)return b;var p=k(l.ub(ia[d],a));if(0==p)return d;if(-1==p)return b;p=g(b,d);if(p==d)return b;var v=k(l.ub(ia[p],a));return 0==v?c(p,d):1==v?c(b,p-1):-1}function d(b,c,p){if(b>=c)return 0==p?c:-1;var v=k(l.ub(ia[b],a));if(0==v)return b;if(1==v)return-1;v=g(b,c);if(v==c)return 0==p?c:-1;var rb=k(l.ub(ia[v],a));return 0==rb?d(b,v,rb):-1==rb?d(v+1,c,p):d(b+1,v,rb)}function g(a,b){var c=a+b>>1;return c==a?c+1:c}function k(a){return a[0]?a[1]?0:1:-1}var l=this.C.Mc(),
p=0,v=this.b[D]-1,ia=this.b,jb=k(l.ub(ia[p],a)),rb=k(l.ub(ia[v],a));if(1==jb||-1==jb&&-1==rb)return 0;0!=jb&&(p=d(p+1,v,rb));if(-1==p)return 0;v=c(p,v);return-1==v||v<p?0:this.Fh(b,this.D[n](p,v+1))};I.Fh=function(a,b){var c=this.C.Ha()?b:yc(b);a[z][yb](a,c);return c[D]};
I.fill=function(a,b){if(this.ga())for(var c=0;c<this.D[D]&&0<a[bb];++c)if(0<a[xb]){if(a.offset=a[xb]-(this.C.Ha()?1:this.D[c][D]),0>a[xb])for(var d=this.D[c][D]+a[xb];d<this.D[c][D]&&0<a[bb];++d)b[a.nf++]=this.D[c][d],a.count--}else if(this.C.Ha())b[a.nf++]=this.D[c],a.count--;else for(d=0;d<this.D[c][D]&&0<a[bb];++d)b[a.nf++]=this.D[c][d],a.count--;else for(c=0;c<this.i[D]&&0<a[bb];++c)this.i[c].fill(a,b)};
function vf(a,b){for(var c=b.ib(),d=a.map(function(a){var d=new wf(a.id(),b);d.b=a.w()[0];d.D=a.w()[1];d.b[G](function(a,g){c.add(a,b.Ha()?1:d.D[g][D])});return d}),g=0;g<d[D]-1;++g)yf(d[g],d[g+1]);return 1<d[D]?rf(d[0]):d[0]};
function Bf(a){if(1==a.h[D])return new Cf(a.h[0].rb);a=a.h.map(function(a){return a.rb});return new Df(a)}function Cf(a){this.zd=0==a?Ef:Ff;this.Ue=0==a?function(a){return null!=a?a[fb]():null}:function(a){return a||null};this.Og=0==a?Gf:Hf}L(Cf,Xd);function Ff(a,b){return a>b?1:a<b?-1:0}function Ef(a,b){return Ff(b,a)}function Hf(a,b){return ke(a,b)}function Gf(a,b){return ke(b,a)}I=Cf[t];
I.ub=function(a,b){var c=this.Ue(b),d=[null===c.c,null===c.u];if(!d[0]){var g=this.zd(a,c.c);d[0]=c.Y?1==g:-1!=g}d[1]||(g=this.zd(a,c.u),d[1]=c.ba?-1==g:1!=g);return d};I.compare=function(a,b){return this.zd(a,b)};I.min=function(a,b){return a<b?1:a==b?0:-1};I.max=function(a,b){return a>b?1:a==b?0:-1};I.Ne=function(a,b){var c=this.ub(a,b);return c[0]&&c[1]};I.Ng=function(a,b){return this.Og(a,b)};I.kh=function(a){return a[Ga](function(a){return null!==a})[Za](K(function(a,c){return this.Og(a,c)},this))};
I.Oe=function(a){return Qb(this.Ue(a).c)};I.be=function(a){a=this.Ue(a);return[a.c,a.u]};f(I,function(){return this.zd==Ef?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Df(a){this.La=a.map(function(a){return new Cf(a)})}L(Df,Xd);I=Df[t];I.Be=function(a,b,c){for(var d=0,g=0;g<this.La[D]&&0==d;++g)d=c(this.La[g],a[g],b[g]);return d};I.compare=function(a,b){return this.Be(a,b,function(a,b,g){return a[Ab](b,g)})};I.min=function(a,b){return this.Be(a,b,function(a,b,g){return a.min(b,g)})};
I.max=function(a,b){return this.Be(a,b,function(a,b,g){return a.max(b,g)})};I.ub=function(a,b){for(var c=[!0,!0],d=0;d<this.La[D]&&(c[0]||c[1]);++d){var g=this.La[d].ub(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};I.Ne=function(a,b){for(var c=!0,d=0;d<this.La[D]&&c;++d)c=this.La[d].Ne(a[d],b[d]);return c};
I.kh=function(a){var b=a[Ga](function(a){return a[Ua](Rb)});a=e(this.La[D]);for(var c=0;c<a[D];c++)a[c]=b.map(function(a){return a[c]});a[G](function(a,b){a[Za](K(function(a,c){return this.La[b].Ng(a,c)},this))},this);b=e(b[D]);for(c=0;c<b[D];c++)b[c]=a.map(function(a){return a[c]});return b[Za](K(function(a,b){for(var c=0,l=0;l<this.La[D]&&0==c;++l)c=this.La[l].Ng(a[l],b[l]);return c},this))};I.Oe=function(a){return this.La[0].Oe(a[0])};
I.be=function(a){var b=a.map(function(a,b){return this.La[b].be(a)[0]},this);a=a.map(function(a,b){return this.La[b].be(a)[1]},this);return[b,a]};
function If(a){this.qa=a;this.eb=new P;this.nd=new of;this.Mb=new of}I=If[t];oa(I,function(){return this.qa[u]()});I.add=function(a,b){if(null===a){if(this.Ha()&&!this.eb.Ma())throw new Q(201);this.eb.add(b);this.nd.add(a,1)}else this.qa.add(a,b)};I.set=function(a,b){null===a?(this.eb[x](),this.nd[x](),this.add(a,b)):this.qa.set(a,b)};wa(I,function(a,b){if(null===a)b?(this.eb[y](b),this.nd[y](a,1)):(this.eb[x](),this.nd[x]());else this.qa[y](a,b)});I.get=function(a){return null===a?this.eb.f():this.qa.get(a)};
I.Bd=function(a){return this.qa.Bd(a)};I.ib=function(){this.Mb.rl([this.qa.ib(),this.nd]);return this.Mb};I.ob=function(a,b,c,d){b=this.qa.ob(a,b,c,d);return null!=a?b:b[Sa](this.eb.f())};ua(I,function(){this.eb[x]();this.qa[x]()});I.A=function(a){return null===a?!this.eb.Ma():this.qa.A(a)};I.min=function(){return this.qa.min()};I.max=function(){return this.qa.max()};I.Ja=function(){return[new gd(-2,this.eb.f())][Sa](this.qa.Ja())};I.Mc=function(){return this.qa.Mc()};I.Ha=function(){return this.qa.Ha()};
function Jf(a){this.B=a;this.Db=new jf;this.W=new Cf(1)}I=Jf[t];oa(I,H("B"));I.add=function(a){if("number"!=typeof a)throw new Q(103);this.Db.add(a)};I.set=function(a,b){this.add(a,b)};wa(I,function(a){this.Db[Ya](a)});I.get=function(a){return this.A(a)?[a]:[]};I.min=function(){return this.fd(K(this.W.min,this.W))};I.max=function(){return this.fd(K(this.W.max,this.W))};
I.fd=function(a){if(0==this.Db[Hb])return[null,null];var b=kf(this.Db)[Ka](K(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};I.Bd=function(){return this.Db[Hb]};I.ob=function(a,b,c,d){var g=a||[je()];a=kf(this.Db)[Ga](function(a){return g[ab](function(b){return this.W.Ne(a,b)},this)},this);return nf(a,b,c,d)};ua(I,function(){this.Db[x]()});I.A=function(a){return this.Db.has(a)};I.Ja=function(){return[new gd(0,kf(this.Db))]};I.Mc=H("W");
function Kf(a,b){var c=new Jf(a);b[0].w()[G](function(a){c.add(a,a)});return c}I.Ha=Kb(!0);I.ib=function(){throw new Q(300);};
function Lf(a){this.m=a;this.Fb=a.o(Gd);this.J=a.o(Id);this.ta=a.o(Hd)}I=Lf[t];I.Fa=function(a){var b=a.$a(),c=K(function(){if(0==b[D])return Wc();var a=b[sb]();return(a.ac()?this.Xi(a):this.Yi(a))[A](c)},this);return c()};I.Yi=function(a){var b=new ge(this.m,[a]);return this.Fb.Qb(0,b).M(a[u](),K(a.qc,a)).get([])[A](K(function(b){this.ta.set(a[u](),b);this.Pk(a,b)},this))};I.Pk=function(a,b){var c=this.J.Pj(a[u]());b[G](function(a){c[G](function(b){var c=a.Vb(b[u]());b.add(c,a.id())})})};
I.Xi=function(a){var b=new ge(this.m,[a]),c=this.Fb.Qb(0,b),b=c.M(a[u](),a.qc).get([])[A](K(function(b){this.ta.set(a[u](),b)},this)),d=a.Ea().map(function(a){return this.Qk(a,c)},this)[Sa](this.Rk(a,c));return $c(d[Sa](b))};
I.Qk=function(a,b){var c=b.M(a.l(),id,1),d=Bf(a);return c.get([])[A](K(function(b){M("btree"==b[0].w().type);if(1<b[D]){if(a.ng()){var c=uf[F](void 0,d,a.l(),a.dd),l=b[n](1),p=-1;for(b=0;b<l[D];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new Q(102);b=l[p].w();l=l[n](0);l[B](p,1);c=c(l);c=new If(c);c.eb[hb](b)}else c=uf(d,a.l(),a.dd,b[n](1));this.J.set(c)}},this))};
I.Rk=function(a,b){return b.M(a.Sb(),id,1).get([])[A](K(function(b){M("rowid"==b[0].w().type);1<b[D]&&(b=Kf(a.Sb(),b[n](1)),this.J.set(b))},this))};


function Mf(){this.V=new O}Mf[t].Fa=function(a){a.$a()[G](function(a){var c=a.Sb();if(null===this.get(c)){var d=new Jf(c);this.V.set(c,d)}a.Ea()[G](function(a){this.V.set(a.l(),Nf(a))},this)},this);return Wc()};function Nf(a){var b=Bf(a),b=new pf(a.l(),b,a.dd);return a.ng()?new If(b):b}Mf[t].get=function(a){return this.V.get(a,null)};Mf[t].set=function(a){return this.V.set(a[u](),a)};Mf[t].Pj=function(a){var b=[],c=a+".";this.V.U()[G](function(a){0==a[$a](c)&&b[z](this.V.get(a))},this);return b};
function Of(a){this.gb=[];Mb(a)&&this.add(a)}I=Of[t];f(I,function(){return this.gb.map(function(a){return a[E]()})[m](",")});I.A=function(a){return this.gb[ab](function(b){return b[ub](a)})};I.f=H("gb");
I.add=function(a){if(0!=a[D])if(a=this.gb[Sa](a),1==a[D])this.gb=a;else{a[Za](ke);for(var b=[],c=a[0],d=1;d<a[D];++d)if(c.Pg(a[d])){var g=a[d],k=je();if(null!==c.c&&null!==g.c){var l=ie(c.c,g.c,!0);1!=l?(k.c=c.c,k.Y=0!=l?c.Y:c.Y&&g.Y):(k.c=g.c,k.Y=g.Y)}null!==c.u&&null!==g.u&&(l=ie(c.u,g.u,!1),-1!=l?(k.u=c.u,k.ba=0!=l?c.ba:c.ba&&g.ba):(k.u=g.u,k.ba=g.ba));c=k}else b[z](c),c=a[d];b[z](c);this.gb=b}};
I.Qc=function(a){return this.gb[D]==a.gb[D]?0==this.gb[D]||this.gb[Ua](function(b,c){return b.Qc(a.gb[c])}):!1};function Pf(a,b){var c=[];a.f().map(function(a){return b.f().map(function(b){var c;if(a.Pg(b)){c=je();var l=ie(a.c,b.c,!0),l=0==l?a.Y?a:b:-1!=l?a:b;c.c=l.c;c.Y=l.Y;null===a.u||null===b.u?b=null===a.u?b:a:(l=ie(a.u,b.u,!1),b=0==l?a.ba?a:b:-1==l?a:b);c.u=b.u;c.ba=b.ba}else c=null;return c})})[G](function(a){c=c[Sa](a)});return new Of(c[Ga](function(a){return null!==a}))};
function Qf(a,b){var c=[],d=null,g=null;a.Cc(function(a){var l=b(a);null==a[Bb]()?g=l:d.ka(l);var p=a[Bb]();null!==p&&p.xa()==d.xa()&&(p=c[$a](d),-1!=p&&c[B](p,1));1<a.xa()&&c[z](l);d=a.ug()?c[c[D]-1]:l});return g}function Rf(a){return Sf(a,function(a){return a.ug()})}function Tf(a){var b=a[Bb](),c=0;null!==b&&(c=b.ca()[$a](a),b[ib](a));var d=a.ca()[n]();d[G](function(d,k){a[ib](d);null===b||b.Fc(d,c+k)});return{parent:b,children:d}}
function Uf(a,b){a.ca()[n]()[G](function(c){a[ib](c);b.ka(c)});a.ka(b)}function Vf(a){M(1==a.xa());var b=a.wb(0);M(1==b.xa());Tf(a);Uf(b,a);return b}function Wf(a,b,c){M(1==a.xa());var d=a.wb(0);M(1<d.xa());var g=d.ca()[n]();if(!g[ab](function(a){return b(a)}))return a;Tf(a);g[G](function(g,l){if(b(g)){var p=c(a);d.ce(l);p.ka(g);d.Fc(p,l)}});return d}function Xf(a,b,c,d){var g=a[Bb]();null!==g&&(a=g.ca()[$a](a),g.ce(a),g.Fc(c,a));b.ca()[n]()[G](function(a){b[ib](a);d.ka(a)});return c}
function Sf(a,b,c){function d(a){b(a)&&g[z](a);null!=c&&c(a)||a.ca()[G](d)}var g=[];d(a);return g}function Yf(a,b){var c=b||function(a){return a[E]()+"\n"},d="";a.Cc(function(a){for(var b=0;b<a.wj();b++)d+="-";d+=c(a)});return d};

function Zf(a){Ee[r](this);this.Yb=a;this.cb=!1}L(Zf,Ee);I=Zf[t];I.Pb=function(){return Qf(this,function(a){if(a instanceof Zf){var b=new Zf(a.Yb);b.cb=a.cb;b.lf(a.da());return b}return a.Pb()}[F](this))};I.xb=function(a){var b=a||[];this.Cc(function(a){a!=this&&a.xb(b)}[F](this));return(new P(b)).f()};I.fe=function(a){this.cb!=a&&(this.cb=a,this.Yb="and"==this.Yb?"or":"and",this.ca()[G](function(b){return b.fe(a)}))};I.eval=function(a){var b=this.ca().map(function(b){return b.eval(a)});return this.ni(b)};
I.ni=function(a){return"and"==this.Yb?pe(a):qe(a)};f(I,function(){return"combined_pred_"+this.Yb[E]()});function $f(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function ag(){this[x]()}var bg=aa[t][Xa],cg=aa[t][tb];I=ag[t];I.set=function(a,b){this.sd(a);var c=!this.cd(a);this.g[a]=b;if("__proto__"==a||!dg&&!bg[r](this.g,a)){delete this.g[a];var d=ic(this.Lb,a);if(c=0>d)d=this.Lb[D];this.Lb[d]=a;this.de[d]=b}c&&this.$++};I.get=function(a,b){this.sd(a);if(this.cd(a))return this.g[a];var c=ic(this.Lb,a);return 0<=c?this.de[c]:b};
wa(I,function(a){this.sd(a);if(this.cd(a))return this.$--,delete this.g[a],!0;a=ic(this.Lb,a);return 0<=a?(this.$--,oc(this.Lb,a),oc(this.de,a),!0):!1});I.addAll=function(a){jc(a.U(),function(b){this.set(b,a.get(b))},this)};I.Ma=function(){return!this.$};I.ya=H("$");I.A=function(a){this.sd(a);return this.cd(a)||0<=ic(this.Lb,a)};I.Ad=function(a){return Ac(this.g,function(b,c){return this.cd(c)&&$f(b,a)},this)||0<=ic(this.de,a)};
I.U=function(){var a;if(eg)a=qc(aa.keys(this.g));else{a=[];for(var b in this.g)cg[r](this.g,b)&&a[z](b)}rc(a,this.Lb);return a};I.f=function(){for(var a=[],b=this.U(),c=0;c<b[D];c++)a[z](this.get(b[c]));return a};I.getEntries=function(){for(var a=[],b=this.U(),c=0;c<b[D];c++){var d=b[c];a[z]([d,this.get(d)])}return a};ua(I,function(){this.g=dg?aa[lb](null):{};this.Lb=[];this.de=[];this.$=0});ma(I,function(){var a=new ag;a[hb](this);return a});
I.cd=function(a){return"__proto__"==a?!1:dg?a in this.g:cg[r](this.g,a)};I.sd=function(a){M(Tb(a),"key must be a string.")};var dg=!!aa[lb],eg=!!aa.keys;function fg(){this[x]()}I=fg[t];I.$=0;ua(I,function(){this.$=0;this.g=new ag});ma(I,function(){var a=new fg;a.yh(this);return a});I.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[z](b);this.$++};I.yh=function(a){jc(a.getEntries(),function(a){this.add(a[0],a[1])},this)};I.get=function(a){return(a=this.g.get(a))?qc(a):[]};wa(I,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=pc(c,function(a){return $f(b,a)});d&&(this.$--,0==c[D]&&this.g[y](a));return d});I.Ma=function(){return!this.$};
I.ya=H("$");I.A=function(a){return this.g.A(a)};I.Ad=function(a){return mc(this.g.f(),function(b){return mc(b,function(b){return $f(b,a)})})};I.U=function(){return this.g.U()};I.f=function(){return yc(this.g.f())};I.getEntries=function(){for(var a=this.U(),b=[],c=0;c<a[D];c++)for(var d=a[c],g=this.get(d),k=0;k<g[D];k++)b[z]([d,g[k]]);return b};
function gg(a,b,c){Ee[r](this);this.Na=a;this.Ca=b;this.L=c;this.Ve=null;this.Dd=we.De().Ce(this.Na.Z(),this.L)}L(gg,Ee);I=gg[t];I.Pb=function(){var a=new gg(this.Na,this.Ca,this.L);a.lf(this.da());return a};I.xb=function(a){return null!=a?(a[z](this.Na),a[z](this.Ca),a):[this.Na,this.Ca]};I.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new gg(this.Ca,this.Na,a)};
I.eval=function(a){var b=a[C][Ga](function(a){var b=a.S(this.Na);a=a.S(this.Ca);return this.Dd(b,a)},this);return new le(b,a.X())};f(I,function(){return"join_pred("+this.Na.l()+", "+this.Ca.l()+")"});I.Cf=function(a){return-1!=a.X()[$a](this.Na.M().pa())};I.Gh=function(a){return-1!=a.X()[$a](this.Ca.M().pa())};I.Di=function(a,b){var c=null,d=null;this.Cf(a)?(this.Ef(a,b),c=a,d=b):(this.Ef(b,a),c=b,d=a);return[c,d]};
I.Ef=function(a,b){M(this.Cf(a),"Mismatch between join predicate left operand and right relation.");M(this.Gh(b),"Mismatch between join predicate right operand and right relation.")};I.Ki=function(a,b,c){var d=[a,b];c||(d=this.Di(a,b));a=d[0];d=d[1];return"eq"==this.L?this.Li(a,d,c):this.Mi(a,d,c)};I.vi=function(a){var b={};a.xb()[G](function(a){b[a[u]()]=null});return b};I.Pf=function(a,b){null===this.Ve&&(this.Ve=this.vi(this.Ca.M()));var c=new se(new gd(-1,this.Ve),!1);return ue(a,b,c,[this.Ca.M().pa()])};
I.Mi=function(a,b,c){for(var d=[],g=a.X(),k=b.X(),l=0;l<a[C][D];l++){for(var p=!1,v=0;v<b[C][D];v++)if(this.Dd(a[C][l].S(this.Na),b[C][v].S(this.Ca))){var p=!0,ia=ue(a[C][l],g,b[C][v],k);d[z](ia)}c&&!p&&d[z](this.Pf(a[C][l],g))}a=a.X()[Sa](b.X());return new le(d,a)};
I.Li=function(a,b,c){var d=a,g=b,k=this.Na,l=this.Ca;if(c||a[C][D]>b[C][D])d=b,g=a,k=this.Ca,l=this.Na;var p=new fg,v=[];d[C][G](function(a){var b=ha(a.S(k));p.add(b,a)});var ia=d.X(),jb=g.X();g[C][G](function(a){var b=ha(a.S(l));p.A(b)?p.get(b)[G](function(b){b=ue(a,jb,b,ia);v[z](b)}):c&&v[z](this.Pf(a,jb))}[F](this));a=a.X()[Sa](b.X());return new le(v,a)};
function hg(a,b,c){return null===b?new Ge(a,b,c):Mb(b.l)?new gg(a,b,c):new Ge(a,b,c)};
var ig={};J("lf.schema.DataStoreType",ig,void 0);ig.INDEXED_DB=0;ig.MEMORY=1;ig.LOCAL_STORAGE=2;ig.FIREBASE=3;ig.WEB_SQL=4;ig.OBSERVABLE_STORE=5;function jg(a,b,c,d){this.of=a;ka(this,b);this.dd=c;this.h=d}jg[t].l=function(){return this.of+"."+this[q]};jg[t].ng=function(){return this.h[ab](function(a){return a.ea.wc()})};function kg(a,b,c,d){this.B=a;this.ua=c;this.H=b;this.Yd=d;this.lb=null}J("lf.schema.Table",kg,void 0);oa(kg[t],H("B"));kg[t].bb=H("lb");kg[t].pa=function(){return this.lb||this.B};
kg[t].Hc=function(a){var b=new this.constructor(this.B);b.lb=a;b.Sk=this.Sk;return b};kg[t].as=kg[t].Hc;kg[t].createRow=kg[t].Gb;kg[t].deserializeRow=kg[t].qc;kg[t].Ea=H("ua");kg[t].xb=H("H");kg[t].getConstraint=kg[t].Hb;kg[t].ac=H("Yd");kg[t].Sb=function(){return this.B+".#"};
function T(a,b){xa(this,a);this.ic=b;this.lb=null}I=T[t];oa(I,function(){return this.ic+"("+this[kb][u]()+")"});I.l=function(){return this.ic+"("+this[kb].l()+")"};I.M=function(){return this[kb].M()};f(I,function(){return this.l()});I.Z=function(){return this[kb].Z()};I.bb=H("lb");I.Ea=function(){return[]};I.wc=Kb(!1);I.Hc=function(a){this.lb=a;return this};T[t].as=T[t].Hc;T[t].ag=function(){for(var a=[this],b=this;b instanceof T;)a[z](b[kb]),b=b[kb];return a};
function lg(a){this.lb=a||null;this.O=new kg("#UnknownTable",[],[],!1)}I=lg[t];oa(I,Kb("*"));I.l=function(){return this[u]()};f(I,function(){return this.l()});I.M=H("O");I.Z=Kb(4);I.bb=H("lb");I.Ea=function(){return[]};I.wc=Kb(!1);
J("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);J("lf.fn.count",function(a){return new T(a||new lg,"COUNT")},void 0);function mg(a){return new T(a,"DISTINCT")}J("lf.fn.distinct",mg,void 0);J("lf.fn.max",function(a){return new T(a,"MAX")},void 0);J("lf.fn.min",function(a){return new T(a,"MIN")},void 0);J("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);J("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);J("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){Ce[r](this,"","");this.Ui=b;this.Lg=a}L(U,Ce);I=U[t];na(I,function(a,b){switch(this.Ui){case 1:return this.Pi(a,b);case 0:return this.Oi(a,b);default:return this.Ri(a,b)}});f(I,Kb("dummy_node"));I.od=function(){return this[E]()};I.Df=function(a){M(-1==this.Lg||a[D]==this.Lg)};I.Ri=function(a,b){return new N(K(function(c){c(this.la(a,[],b))},this))};I.Pi=function(a,b){return this.wb(0)[Qa](a,b)[A](K(function(c){this.Df(c);return this.la(a,c,b)},this))};
I.Oi=function(a,b){var c=this.ca().map(function(c){return c[Qa](a,b)});return $c(c)[A](K(function(c){var g=[];c[G](function(a){for(var b=0;b<a[D];++b)g[z](a[b])});this.Df(g);return this.la(a,g,b)},this))};
function ng(a){U[r](this,-1,1);this.Af=a}L(ng,U);f(ng[t],function(){return"aggregation("+this.Af.map(function(a){return a.l()})[E]()+")"});ng[t].la=function(a,b){b[G](function(a){(new og(a,this.Af)).Th()},this);return b};function og(a,b){this.Ia=a;this.H=b}
og[t].Th=function(){this.H[G](function(a){a=a.ag()[fb]();for(var b=1;b<a[D];b++){var c=a[b],d=c.ag()[n](-1)[0],g=this.zj(c),k=null;switch(c.ic){case "MIN":k=pg(g,d);break;case "MAX":k=qg(g,d);break;case "DISTINCT":k=rg(g,d);break;case "COUNT":k=g[C][D];break;case "SUM":k=sg(g,d);break;case "AVG":0<g[C][D]&&(k=sg(g,d)/g[C][D]);break;case "GEOMEAN":k=tg(g,d);break;default:k=ug(g,d)}this.Ia.al(c,k)}},this)};og[t].zj=function(a){return a[kb]instanceof T?this.Ia.uc(a[kb]):this.Ia};
function pg(a,b){var c=null;a[C][G](function(a){a=a.S(b);if(null===c||a<c)c=a});return c}function qg(a,b){var c=null;a[C][G](function(a){a=a.S(b);if(null===c||a>c)c=a});return c}function sg(a,b){return a[C][Ka](function(a,d){return a+d.S(b)},0)}function ug(a,b){var c=a[C].map(function(a){return a.S(b)});return td[yb](null,c)}function tg(a,b){var c=0,d=a[C][Ka](function(a,d){var l=d.S(b);return 0!=l?(c++,a+ba.log(l)):a},0);return 0==c?null:ba.pow(ba.E,d/c)}
function rg(a,b){var c=new O;a[C][G](function(a){var g=a.S(b);c.set(g,a)});return new le(c.f(),a.X())};
function vg(a,b){this.Da=a;this.sa=b}vg[t].pb=H("Da");vg[t].fa=H("sa");function V(){Ce[r](this,"","")}L(V,Ce);function wg(a,b){V[r](this);ja(this,a);va(this,b)}L(wg,V);function xg(a,b){wg[r](this,a,b)}L(xg,wg);function yg(a){V[r](this);ja(this,a)}L(yg,V);f(yg[t],function(){return"delete("+this[h][u]()+")"});function zg(a,b){V[r](this);ja(this,a);this.tf=b}L(zg,V);f(zg[t],function(){var a=[];this.tf&&(a=this.tf.map(function(a){return a.K[u]()},this));return"update("+this[h][u]()+", ["+a[m](",")+"])"});
function Ag(a){V[r](this);this.Ba=a}L(Ag,V);f(Ag[t],function(){return"select("+this.Ba[E]()+")"});function Bg(a){V[r](this);ja(this,a)}L(Bg,V);f(Bg[t],function(){var a="table_access("+this[h][u]();null===this[h].bb()||(a+=" as "+this[h].bb());return a+")"});function Cg(){V[r](this)}L(Cg,V);f(Cg[t],Kb("cross_product"));function Dg(a,b){V[r](this);this.h=a;this.Tb=b}L(Dg,V);
f(Dg[t],function(){var a="project("+this.h[E]();if(null!==this.Tb)var b=this.Tb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Eg(a){V[r](this);this.N=a}L(Eg,V);f(Eg[t],function(){return"order_by("+Ke(this.N)+")"});function Fg(a){V[r](this);this.h=a}L(Fg,V);f(Fg[t],function(){return"aggregation("+this.h[E]()+")"});function Gg(a){V[r](this);this.h=a}L(Gg,V);f(Gg[t],function(){return"group_by("+this.h[E]()+")"});function Hg(a){V[r](this);this.na=a}L(Hg,V);
f(Hg[t],function(){return"limit("+this.na+")"});function Ig(a){V[r](this);this.ja=a}L(Ig,V);f(Ig[t],function(){return"skip("+this.ja+")"});function Jg(a,b){V[r](this);this.Ba=a;this.xg=b}L(Jg,V);f(Jg[t],function(){return(this.xg?"left_outer_join":"join")+"("+this.Ba[E]()+")"});
function Kg(){};
function Lg(){}L(Lg,Kg);Lg[t].Jb=function(a){this.ia=a;this.ab(this.ia);return this.ia};Lg[t].ab=function(a){if(a instanceof Ag){M(1==a.xa(),"SelectNode must have exactly one child.");var b=this.Ff(a.Ba),b=this.xi(b);Xf(a,a,b[0],b[1]);a==this.ia&&(this.ia=b[0]);a=b[0]}a.ca()[G](function(a){this.ab(a)},this)};Lg[t].Ff=function(a){if(0==a.xa()||"and"!=a.Yb)return[a];var b=a.ca()[n]().map(function(b){a[ib](b);return this.Ff(b)},this);return yc(b)};
Lg[t].xi=function(a){var b=null,c=null;a.map(function(a,g){var k=new Ag(a);0==g?b=k:c.ka(k);c=k},this);return[b,c]};
function Mg(){}L(Mg,Kg);Mg[t].Jb=function(a){this.ia=a;this.ab(this.ia);return this.ia};Mg[t].ab=function(a){if(a instanceof Cg)for(;2<a.xa();){for(var b=new Cg,c=0;2>c;c++){var d=a.ce(0);b.ka(d)}a.Fc(b,0)}a.ca()[G](function(a){this.ab(a)},this)};
function Ng(){U[r](this,2,0)}L(Ng,U);f(Ng[t],Kb("cross_product"));Ng[t].la=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.X(),l=d.X(),p=0;p<c[C][D];p++)for(var v=0;v<d[C][D];v++){var ia=ue(c[C][p],k,d[C][v],l);g[z](ia)}c=c.X()[Sa](d.X());return[new le(g,c)]};

function Og(a,b){Ne[r](this,a,b);this.Za=a.o(Kd);this.Ib=a.o(Ld)}L(Og,Ne);Ea(Og[t],Kb(2));Og[t].Ye=function(a){0==this.Z()?this.zk(a):this.ld()};Og[t].zk=function(a){this.ae[G](function(b,c){b instanceof Je&&this.Ib.th(b,a[c])},this)};Og[t].ld=function(){var a=this.Ib.Je(this.fa().f());0!=a[D]&&(a=new Oe(this[Wa],a),this.Za.dc(a))};
function Pg(a){He[r](this,a)}L(Pg,He);Pg[t].fa=function(){var a=new P([this.c]);a[hb](this.ea[zb]().$f(this.c[u]()));return a};ma(Pg[t],function(){var a=new Pg(this.ea);a.yd(this);a.c=this.c;return a});Ba(Pg[t],function(a){Pg.Nb[F][r](this,a);this.oe(a);return this});
function Qg(a){He[r](this,a)}L(Qg,He);Qg[t].fa=function(){var a=new P([this.Ga]),b=this.ea[zb]();a[hb](b.Fj(this.Ga[u]()));this.jc&&a[hb](b.$f(this.Ga[u]()));return a};ma(Qg[t],function(){var a=new Qg(this.ea);a.yd(this);a.Ga=this.Ga;this[db]&&va(a,this[db]instanceof ve?this[db]:this[db][n]());a.jc=this.jc;a.kc=this.kc;return a});Ba(Qg[t],function(a){Qg.Nb[F][r](this,a);this.kc&&va(this,this.kc instanceof ve?a[this.kc.yb()]:this.kc.map(function(b){return b instanceof ve?a[b.yb()]:b}));return this});
function Rg(a){He[r](this,a)}L(Rg,He);Rg[t].fa=function(){var a=new P([this[h]]),b=this.set.map(function(a){return a.K.l()}),c=this.ea[zb]();a[hb](c.Gj(b));a[hb](c.vj(b));return a};ma(Rg[t],function(){var a=new Rg(this.ea);a.yd(this);ja(a,this[h]);a.set=this.set?this.set[n]():this.set;return a});Ba(Rg[t],function(a){Rg.Nb[F][r](this,a);this.set[G](function(b){-1!=b.td&&qa(b,a[b.td])});this.oe(a);return this});
function Sg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+kd(b)+"'";default:return"'"+b[E]()+"'"}}function Tg(a,b){var c=a.jc?"INSERT OR REPLACE":"INSERT",d=a.Ga.xb(),c=c+(" INTO "+a.Ga[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[db].map(function(a){var k=d.map(function(c){var d=a.w()[c[u]()];return b?null!=d?"#":"NULL":Sg(c.Z(),d)});return c+k[m](", ")+");"})[m]("\n")}
function Ug(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Vg(a,b,c,d){return a instanceof ve?"?"+a.yb()[E]():d?null!=a?"#":"NULL":"match"==b?"'"+a[E]()+"'":"in"==b?"("+a.map(function(a){return Sg(c,a)})[m](", ")+")":"between"==b?Sg(c,a[0])+" AND "+Sg(c,a[1]):Sg(c,a)[E]()}
function Wg(a,b){return a.ca().map(function(a){return"("+Xg(a,b)+")"})[m]("and"==a.Yb?" AND ":" OR ")}function Xg(a,b){if(a instanceof Ge)return[a.K.l(),Ug(a.L),Vg(a[w],a.L,a.K.Z(),b)][m](" ");if(a instanceof Zf)return Wg(a,b);if(a instanceof gg)return[a.Na.l(),Ug(a.L),a.Ca.l()][m](" ");throw new Q(357,typeof a);}function Yg(a,b){var c=Xg(a,b);return c?" WHERE "+c:""}
function Zg(a,b){var c="UPDATE "+a[h][u]()+" SET ",c=c+a.set.map(function(a){var b=a.K.l()+" = ";return-1!=a.td?b+"?"+a.td[E]():b+Sg(a.K.Z(),a[w])[E]()})[m](", ");a.F&&(c+=Yg(a.F,b));return c+";"}
function $g(a,b){var c="*";a.h[D]&&(c=a.h.map(function(a){return a.bb()?a.l()+" AS "+a.bb():a.l()})[m](", "));var d=a.c.map(function(a){return a.pa()!=a[u]()?a[u]()+" AS "+a.pa():a[u]()})[m](", "),c="SELECT "+c+" FROM "+d;a.F&&(c+=Yg(a.F,b));a.N&&(d=a.N.map(function(a){return a.K.l()+(0==a.rb?" DESC":" ASC")})[m](", "),c+=" ORDER BY "+d);a.ma&&(d=a.ma.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.na&&(c+=" LIMIT "+a.na[E]());a.ja&&(c+=" SKIP "+a.ja[E]());return c+";"}
function ah(a,b){var c=b||!1,d=a.hg();if(d instanceof Qg)return Tg(d,c);if(d instanceof Pg){var g="DELETE FROM "+d.c[u]();d.F&&(g+=Yg(d.F,c));return g+";"}if(d instanceof Rg)return Zg(d,c);if(d instanceof Je)return $g(d,c);throw new Q(358,typeof d);};
function bh(a,b){this.global=a;this.Nk=a.o(Jd);this.Za=a.o(Kd);this.a=b}J("lf.query.BaseBuilder",bh,void 0);na(bh[t],function(){try{this.mb()}catch(a){return Xc(a)}return new N(function(a,c){var d=new Og(this[Wa],[this.ad()]);this.Za.dc(d)[A](function(c){a(c[0].Ee())},c)},this)});na(bh[t],bh[t][Qa]);bh[t].Xf=function(){var a=K(function(a){return a.od(this.a)+"\n"},this);return Yf(this.Fe().pb(),a)};bh[t].explain=bh[t].Xf;Ba(bh[t],function(a){this.a[F](a);return this});Ba(bh[t],bh[t][F]);
bh[t].nl=function(a){return ah(this,a)};bh[t].toSql=bh[t].nl;I=bh[t];I.mb=Ib();I.hg=function(){return this.a.clone()};I.Kd=H("a");I.Fe=function(){null==this.Rg&&(this.Rg=this.Nk.Hj(this.a));return this.Rg};I.ad=function(){return{context:this.hg(),af:this.Fe()}};I.Dj=function(){return{context:this.Kd(),af:this.Fe()}};
function ch(a){bh[r](this,a,new Pg(a.o(Md)))}L(ch,bh);J("lf.query.DeleteBuilder",ch,void 0);ch[t].c=function(a){this.Kh();this.a.c=a;return this};ch[t].from=ch[t].c;ch[t].F=function(a){this.me();this.a.F=a;return this};ch[t].where=ch[t].F;ch[t].Kh=function(){if(null!=this.a.c)throw new Q(515);};ch[t].me=function(){if(null!=this.a.F)throw new Q(516);};ch[t].mb=function(){ch.Nb.mb[r](this);if(null==this.a.c)throw new Q(517);};
function dh(a,b){bh[r](this,a,new Qg(a.o(Md)));this.a.jc=b||!1}L(dh,bh);J("lf.query.InsertBuilder",dh,void 0);dh[t].mb=function(){dh.Nb.mb[r](this);var a=this.a;if(null==a.Ga||null==a[db])throw new Q(518);if(a.jc&&null===a.Ga.Hb().Ge())throw new Q(519);};dh[t].Ga=function(a){this.Lh();this.a.Ga=a;return this};dh[t].into=dh[t].Ga;va(dh[t],function(a){this.Mh();a instanceof ve||a[ab](function(a){return a instanceof ve})?this.a.kc=a:va(this.a,a);return this});va(dh[t],dh[t][db]);
dh[t].Lh=function(){if(null!=this.a.Ga)throw new Q(520);};dh[t].Mh=function(){if(null!=this.a[db])throw new Q(521);};
function eh(a){return fh("and",e[t][n][r](arguments))}J("lf.op.and",eh,void 0);J("lf.op.or",function(a){return fh("or",e[t][n][r](arguments))},void 0);function fh(a,b){var c=new Zf(a);b[G](function(a){c.ka(a)});return c}J("lf.op.not",function(a){a.fe(!0);return a},void 0);
function W(a,b){bh[r](this,a,new Je(a.o(Md)));this.Zf=this.wh=!1;this.a.h=b;this.ai();this.Zh()}L(W,bh);J("lf.query.SelectBuilder",W,void 0);I=W[t];I.mb=function(){W.Nb.mb[r](this);var a=this.a;if(null==a.c)throw new Q(522);if(Mb(a.Wb)&&!Mb(a.na)||Mb(a.gc)&&!Mb(a.ja))throw new Q(523);this.ii()};I.ai=function(){var a=this.a.h[Ga](function(a){return a instanceof T&&"DISTINCT"==a.ic},this);if(0!=a[D]&&(1!=a[D]||1!=this.a.h[D]))throw new Q(524);};I.ii=function(){null!=this.a.ma?this.ei():this.hi()};
I.ei=function(){var a=this.a.h[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.ma[D]||0==this.a.h[D])b=!0;else{var c=this.a.ma.map(function(a){return a.l()});(b=a[ab](function(a){return-1==c[$a](a)}))||(b=this.a.ma[ab](function(a){a=a.Z();return 6==a||0==a}))}if(b)throw new Q(525);};
I.hi=function(){var a=this.a.h[ab](function(a){return a instanceof T},this),b=this.a.h[ab](function(a){return!(a instanceof T)},this)||0==this.a.h[D];if(a&&b)throw new Q(526);};I.Zh=function(){this.a.h[G](function(a){if(a instanceof T&&!gh(a.ic,a.Z()))throw new Q(527,a.l());},this)};I.c=function(a){if(this.Zf)throw new Q(515);this.Zf=!0;null==this.a.c&&(this.a.c=[]);this.a.c[z][yb](this.a.c,e[t][n][r](arguments));return this};W[t].from=W[t].c;
W[t].F=function(a){if(this.wh)throw new Q(516);this.wh=!0;this.ne(a);return this};W[t].where=W[t].F;W[t].ne=function(a){null!=this.a.F&&(a=eh(a,this.a.F));this.a.F=a};W[t].gk=function(a,b){if(null==this.a.c)throw new Q(542);this.a.c[z](a);this.ne(b);return this};W[t].innerJoin=W[t].gk;
W[t].nk=function(a,b){if(!(b instanceof gg))throw new Q(541);if(null==this.a.c)throw new Q(542);this.a.c[z](a);null==this.a.yc&&(this.a.yc=new P);var c=b;a.pa()!=b.Ca.M().pa()&&(c=b[fb]());this.a.yc.add(c.da());this.ne(c);return this};W[t].leftOuterJoin=W[t].nk;W[t].na=function(a){if(null!=(this.a.na||this.a.Wb))throw new Q(528);if(a instanceof ve)this.a.Wb=a;else{if(0>a)throw new Q(531);this.a.na=a}return this};W[t].limit=W[t].na;
W[t].ja=function(a){if(null!=(this.a.ja||this.a.gc))throw new Q(529);if(a instanceof ve)this.a.gc=a;else{if(0>a)throw new Q(531);this.a.ja=a}return this};W[t].skip=W[t].ja;W[t].N=function(a,b){null==this.a.N&&(this.a.N=[]);this.a.N[z]({K:a,rb:null!=b?b:1});return this};W[t].orderBy=W[t].N;W[t].ma=function(a){if(null!=this.a.ma)throw new Q(530);null==this.a.ma&&(this.a.ma=[]);this.a.ma[z][yb](this.a.ma,e[t][n][r](arguments));return this};W[t].groupBy=W[t].ma;
function gh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}ma(W[t],function(){var a=new W(this[Wa],this.a.h);a.a=this.a.clone();a.a.Kc=null;return a});ma(W[t],W[t].clone);
function hh(a,b){bh[r](this,a,new Rg(a.o(Md)));ja(this.a,b)}L(hh,bh);J("lf.query.UpdateBuilder",hh,void 0);hh[t].set=function(a,b){var c={td:b instanceof ve?b.yb():-1,K:a,value:b};null!=this.a.set?this.a.set[z](c):this.a.set=[c];return this};hh[t].set=hh[t].set;hh[t].F=function(a){this.me();this.a.F=a;return this};hh[t].where=hh[t].F;hh[t].me=function(){if(null!=this.a.F)throw new Q(516);};
hh[t].mb=function(){hh.Nb.mb[r](this);if(null==this.a.set)throw new Q(532);if(this.a.set[ab](function(a){return a[w]instanceof ve}))throw new Q(501);};
function ih(a){this.a=a;this.Da=null}ih[t].tc=function(){null===this.Da&&(this.Da=this.Fd());return this.Da};function jh(a){ih[r](this,a)}L(jh,ih);jh[t].Fd=function(){return this.a.jc?new xg(this.a.Ga,this.a[db]):new wg(this.a.Ga,this.a[db])};function kh(a){ih[r](this,a)}L(kh,ih);kh[t].Fd=function(){var a=new zg(this.a[h],this.a.set),b=null!=this.a.F?new Ag(this.a.F.Pb()):null,c=new Bg(this.a[h]);null===b?a.ka(c):(b.ka(c),a.ka(b));return a};
function lh(a,b,c){this.Da=a;this.cf=b;this.hf=c}lh[t].tc=function(){this.hf[G](function(a){this.Da=a.Jb(this.Da,this.cf)},this);return this.Da};
function mh(a){ih[r](this,a)}L(mh,ih);mh[t].Fd=function(){var a=new yg(this.a.c),b=null!=this.a.F?new Ag(this.a.F.Pb()):null,c=new Bg(this.a.c);null===b?a.ka(c):(b.ka(c),a.ka(b));return(new lh(a,this.a,[new Lg])).tc()};
function nh(){}L(nh,Kg);nh[t].Jb=function(a,b){this.ia=a;this.ab(this.ia,b);return this.ia};nh[t].ab=function(a,b){if(a instanceof Ag&&a.Ba instanceof gg){M(1==a.xa(),"SelectNode must have exactly one child.");var c=a.Ba.da(),d=a.wb(0);d instanceof Cg&&(c=Mb(b)&&null!=b.yc&&b.yc[ub](c),c=new Jg(a.Ba,c),Xf(a,d,c,c),a==this.ia&&(this.ia=c),a=c)}a.ca()[G](function(a){this.ab(a,b)},this)};
function oh(){this.ke=new P}L(oh,Kg);I=oh[t];I.Jb=function(a){this.ia=a;this.ab(this.ia);this.ke[x]();return this.ia};I.ab=function(a){if(this.sg(a)){var b=a.Ba instanceof Ge?this.Mk(a):this.Lk(a);this.ke.add(a);b==a&&(b=a.wb(0));null!==b&&(Qb(b[Bb]())&&(this.ia=b),this.sg(b)&&!this.ke[ub](b)&&this.ab(b))}else a.ca()[G](function(a){this.ab(a)},this)};
I.$d=function(a,b){var c=a;if(this.el(a))c=Vf(a),this.$d(a,b);else if(this.dl(a)){var d=[],c=Wf(a,b,function(a){a=new Ag(a.Ba);d[z](a);return a});d[G](function(a){this.$d(a,b)},this)}return c};I.Mk=function(a){var b=new P([a.Ba.K.M().pa()]),c=function(a){return this.Uf(a,b)}[F](this);return this.$d(a,c)};I.Lk=function(a){var b=new P([a.Ba.Na.M().pa(),a.Ba.Ca.M().pa()]),c=function(a){return this.Uf(a,b)}[F](this);return this.$d(a,c)};
I.Uf=function(a,b){var c=new P;Rf(a)[G](function(a){c.add(a[h].pa())},this);a instanceof Bg&&c.add(a[h].pa());return c.ti(b)};I.sg=function(a){return a instanceof Ag&&!(a.Ba instanceof Zf)};I.dl=function(a){a=a.wb(0);return a instanceof Cg||a instanceof Jg};I.el=function(a){return a.wb(0)instanceof Ag};
function ph(a){ih[r](this,a);this.Wg=this.Gg=this.jh=this.Mg=this.Bf=this.mg=this.fh=this.Rf=this.lh=null}L(ph,ih);I=ph[t];I.Fd=function(){this.mj();var a=this.pi(),b=[new Lg,new Mg,new oh,new nh];return(new lh(a,this.a,b)).tc()};I.mj=function(){this.sj();this.hj();this.qj();this.nj();this.rj();this.lj();this.jj();this.gj();this.oj()};
I.pi=function(){for(var a=[this.Gg,this.jh,this.Wg,this.Mg,this.Bf,this.mg,this.fh,this.Rf],b=null,c=null,d=0;d<a[D];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ka(g),b=d)}this.lh[G](function(c){a[b].ka(c)});return c};I.sj=function(){this.lh=this.a.c.map(function(a){return new Bg(a)},this)};I.hj=function(){2<=this.a.c[D]&&(this.Rf=new Cg)};I.qj=function(){this.fh=null!=this.a.F?new Ag(this.a.F.Pb()):null};I.nj=function(){this.a.N&&(this.Mg=new Eg(this.a.N))};
I.lj=function(){null!=this.a.na&&(this.Gg=new Hg(this.a.na))};I.rj=function(){null!=this.a.ja&&0<this.a.ja&&(this.jh=new Ig(this.a.ja))};I.jj=function(){null!=this.a.ma&&(this.mg=new Gg(this.a.ma))};I.gj=function(){var a=this.a.h[Ga](function(a){return a instanceof T});null!=this.a.N&&this.a.N[G](function(b){b.K instanceof T&&a[z](b.K)});0<a[D]&&(this.Bf=new Fg(a))};I.oj=function(){this.Wg=new Dg(this.a.h||[],this.a.ma||null)};
function qh(){}qh[t].create=function(a){var b=null;if(a instanceof Qg)b=new jh(a);else if(a instanceof Pg)b=new mh(a);else if(a instanceof Je)b=new ph(a);else if(a instanceof Rg)b=new kh(a);else throw new Q(513);b=b.tc();return new vg(b,a.fa())};
function rh(a){U[r](this,1,1);this.O=a}L(rh,U);f(rh[t],function(){return"delete("+this.O[u]()+")"});rh[t].la=function(a,b){var c=b[0][C].map(function(a){return a.wa});a[y](this.O,c);return[oe()]};
function sh(a){U[r](this,1,1);this.lg=a}L(sh,U);f(sh[t],function(){return"groupBy("+this.lg.map(function(a){return a.l()})[E]()+")"});sh[t].la=function(a,b){return this.Vh(b[0])};sh[t].Vh=function(a){var b=new fg,c=function(a){return this.lg.map(function(b){return a.S(b)},this)[m](",")}[F](this);a[C][G](function(a){b.add(c(a),a)},this);return b.U().map(function(c){return new le(b.get(c),a.X())},this)};
function th(a){M(1<a[D],"Should only be called for cross-column indices.");a=a.map(function(a){return a.f()});a=yd[yb](null,a);var b=[];xd(a,function(a){b[z](a)});return b}function uh(a){this.Ub=a}uh[t].Id=function(){return 1==this.Ub.h[D]?[je()]:[this.Ub.h.map(function(){return je()})]};function vh(a,b){this.Ub=a;this.va=b;this.ve=this.Eg=null}
vh[t].Wh=function(a){var b=new O;this.va.U()[G](function(c){var d=this.va.get(c).map(function(b){return a.Ld(b)},this),g=new Of([je()]);d[G](function(a){a=new Of(a.ml());g=Pf(g,a)});b.set(c,g)},this);return b};vh[t].Zi=function(a){for(var b=this.Ub.h[D]-1;0<=b;b--){var c=this.Ub.h[b];if(null!==a.get(c.ea[u](),null))break;a.set(c.ea[u](),new Of([je()]))}};vh[t].Id=function(a){if(this.Eg==a)return this.ve;var b=this.Wh(a);this.Zi(b);this.ve=1==this.Ub.h[D]?b.f()[0].f():th(this.Oj(b));this.Eg=a;return this.ve};
vh[t].Oj=function(a){var b=new O,c=0;this.Ub.h[G](function(a){b.set(a.ea[u](),c);c++});return a.U()[Za](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function wh(a,b){this.nh=b;this.J=a.o(Id)}wh[t].li=function(a,b){var c=b[Ga](this.hk,this);if(0==c[D])return null;c=this.kj(c);if(0==c[D])return null;if(1==c[D])return c[0];var d=Number.MAX_VALUE;return c[Ka](function(b,c){var l=c.Uh(a);return l<d?(d=l,c):b},null)};wh[t].kj=function(a){return this.nh.Ea().map(function(b){b=new xh(this.J,b);b.si(a);return b},this)[Ga](function(a){return a.mk()})};wh[t].hk=function(a){return a instanceof Ge&&a.tg()?a.K.M()==this.nh:!1};
function xh(a,b){this.J=a;this.Ab=b;this.og=new P;this.og[hb](this.Ab.h.map(function(a){return a.ea[u]()}));this.Se=this.va=null}I=xh[t];I.Ij=function(){return null===this.va?[]:this.va.f()};I.fg=function(){M(this.va);null===this.Se&&(this.Se=new vh(this.Ab,this.va));return this.Se};I.si=function(a){a[G](function(a){var c=a.xb()[0][u]();this.og[ub](c)&&(null===this.va&&(this.va=new fg),this.va.add(c,a.da()))},this)};
I.mk=function(){if(null===this.va)return!1;for(var a=!1,b=!0,c=0;c<this.Ab.h[D];c++){var d=this.va.A(this.Ab.h[c].ea[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};I.Uh=function(a){a=this.fg().Id(a);var b=this.J.get(this.Ab.l());return a[Ka](function(a,d){return a+b.Bd(d)},0)};
function yh(a,b,c,d){U[r](this,0,-1);this.J=a.o(Id);this.index=b;this.Cg=c;this.gf=d;this.rd=this.qd=!1}L(yh,U);f(yh[t],function(){return"index_range_scan("+this[nb].l()+", ?, "+(this.gf?"reverse":"natural")+(this.qd?", limit:?":"")+(this.rd?", skip:?":"")+")"});yh[t].od=function(a){var b=this[E](),c=this.Cg.Id(a),b=b[eb]("?",c[E]());this.qd&&(b=b[eb]("?",a.na[E]()));this.rd&&(b=b[eb]("?",a.ja[E]()));return b};
yh[t].la=function(a,b,c){a=this.Cg.Id(c);b=this.J.get(this[nb].l());c=(1==a[D]&&a[0]instanceof he&&a[0].wg()?nf(b.get(a[0].c),!1,this.qd?c.na:void 0,this.rd?c.ja:void 0):b.ob(a,this.gf,this.qd?c.na:void 0,this.rd?c.ja:void 0)).map(function(a){return new gd(a,{})},this);return[re(c,[this[nb].of])]};
function zh(a){U[r](this,1,1);this.Zd=a}L(zh,U);f(zh[t],Kb("select(?)"));zh[t].od=function(a){a=a.Ld(this.Zd);return this[E]()[eb]("?",a[E]())};zh[t].la=function(a,b,c){return[c.Ld(this.Zd).eval(b[0])]};
function Ah(a,b){U[r](this,1,1);this.ta=a.o(Hd);this.O=b}L(Ah,U);f(Ah[t],function(){return"table_access_by_row_id("+this.O[u]()+")"});Ah[t].la=function(a,b){return[re(this.ta.get(b[0].Nj()),[this.O.pa()])]};
function Bh(a,b){U[r](this,0,-1);this.ta=a.o(Hd);this.J=a.o(Id);ja(this,b)}L(Bh,U);f(Bh[t],function(){var a="table_access("+this[h][u]();null===this[h].bb()||(a+=" as "+this[h].bb());return a+")"});Bh[t].la=function(){var a=this.J.get(this[h].Sb()).ob();return[re(this.ta.get(a),[this[h].pa()])]};
function Ch(a){this.m=a}L(Ch,Kg);Ch[t].Jb=function(a,b){this.ia=a;Sf(a,function(a){return a instanceof Bh})[G](function(a){var d=this.ej(a);if(0!=d[D]){var g=(new wh(this.m,a[h])).li(b,d.map(function(a){return b.Ld(a.Zd)}));if(null!==g){var k=new O;d[G](function(a){k.set(a.Zd,a)},this);this.ia=this.Xk(g,k,a,b)}}},this);return this.ia};Ch[t].ej=function(a){var b=[];for(a=a[Bb]();a;)a instanceof zh&&b[z](a),a=a[Bb]();return b};
Ch[t].Xk=function(a,b,c){a.Ij().map(function(a){return b.get(a)})[G](Tf);a=new yh(this.m,a.Ab,a.fg(),!1);var d=new Ah(this.m,c[h]);d.ka(a);Xf(c,c,d,a);return a.pb()};
function Dh(a,b){U[r](this,0,-1);this.J=a.o(Id);this.O=b}L(Dh,U);f(Dh[t],function(){return"insert("+this.O[u]()+")"});Dh[t].la=function(a,b,c){Eh(this.O,c[db],this.J);a.Bb(this.O,c[db]);return[re(c[db],[this.O[u]()])]};function Eh(a,b,c){a=a.Hb().Ge();if(null===a?0:a.h[0][pb]){var d=a.h[0].ea[u](),g=c.get(a.l()).max()[0]||0;b[G](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function Fh(a,b){U[r](this,0,-1);this.J=a.o(Id);this.O=b}L(Fh,U);
f(Fh[t],function(){return"insert_replace("+this.O[u]()+")"});Fh[t].la=function(a,b,c){Eh(this.O,c[db],this.J);a.Me(this.O,c[db]);return[re(c[db],[this.O[u]()])]};
function Gh(a,b){U[r](this,2,0);this.Vg=a;this.yg=b}L(Gh,U);f(Gh[t],function(){return(this.yg?"left_outer_join":"join")+"("+this.Vg[E]()+")"});Gh[t].la=function(a,b){return[this.Vg.Ki(b[0],b[1],this.yg)]};
function Hh(){U[r](this,1,1)}L(Hh,U);f(Hh[t],Kb("limit(?)"));Hh[t].od=function(a){return this[E]()[eb]("?",a.na[E]())};Hh[t].la=function(a,b,c){b[0][C][B](c.na);return b};
function Ih(a){U[r](this,-1,1);this.N=a}L(Ih,U);I=Ih[t];f(I,function(){return"order_by("+Ke(this.N)+")"});I.la=function(a,b){if(1==b[D]){var c=this.aj(b[0]);(null===c?b[0]:b[0].uc(c))[C][Za](this.Hi[F](this))}else b[Za](this.Tk[F](this));return b};I.aj=function(a){for(var b=null,c=0;c<this.N[D];c++){var d=mg(this.N[c].K);if(a.Zj(d)){b=d;break}}return b};
I.W=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.N[k].K,c=this.N[k].rb,d=a(g),g=b(g);while(d==g&&k+1<this.N[D]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};I.Tk=function(a,b){return this.W(function(b){return b instanceof T?a.uc(b):a[C][a[C][D]-1].S(b)},function(a){return a instanceof T?b.uc(a):b[C][b[C][D]-1].S(a)})};I.Hi=function(a,b){return this.W(function(b){return a.S(b)},function(a){return b.S(a)})};
function Jh(a,b){this.Ia=a;this.H=b}Jh[t].kg=function(){return this.H[ab](function(a){return a instanceof T},this)?this.Xj():this.Yj()};
Jh[t].Xj=function(){if(1==this.H[D]&&"DISTINCT"==this.H[0].ic){var a=this.Ia.uc(this.H[0])[C].map(function(a){var b=new se(new gd(-1,{}),this.Ia.Pe());b.kf(this.H[0],a.S(this.H[0][kb]));return b},this);return new le(a,[])}var b=new se(new gd(-1,{}),this.Ia.Pe());this.H[G](function(a){var d=a instanceof T?this.Ia.uc(a):this.Ia[C][0].S(a);b.kf(a,d)},this);return new le([b],this.Ia.X())};
Jh[t].Yj=function(){var a=e(this.Ia[C][D]),b=this.Ia.Pe();this.Ia[C][G](function(c,d){a[d]=new se(new gd(c.wa.id(),{}),b);this.H[G](function(b){a[d].kf(b,c.S(b))},this)},this);return new le(a,this.Ia.X())};function Kh(a,b){var c=a.map(function(a){return(new Jh(a,b)).kg()[C][0]});return new le(c,a[0].X())};
function Lh(a,b){U[r](this,-1,1);this.h=a;this.Tb=b}L(Lh,U);I=Lh[t];f(I,function(){var a="project("+this.h[E]();if(null!==this.Tb)var b=this.Tb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});I.la=function(a,b){return 0==b[D]?[oe()]:1==b[D]?[this.Si(b[0])]:[this.Qi(b)]};I.$j=function(){return this.h[ab](function(a){return a instanceof T})||null!==this.Tb};I.Qi=function(a){return Kh(a,this.h)};I.Si=function(a){return 0==this.h[D]?a:(new Jh(a,this.h)).kg()};
function Mh(){U[r](this,1,1)}L(Mh,U);f(Mh[t],Kb("skip(?)"));Mh[t].od=function(a){return this[E]()[eb]("?",a.ja[E]())};Mh[t].la=function(a,b,c){return[new le(b[0][C][n](c.ja),b[0].X())]};
function Nh(){}L(Nh,Kg);Nh[t].Jb=function(a){var b=Sf(a,function(a){return a instanceof Hh||a instanceof Mh});if(0==b[D])return a;var c=this.dj(a);if(null===c)return a;b[G](function(a){this.wk(a,c)},this);return c.pb()};Nh[t].wk=function(a,b){a instanceof Hh?b.qd=!0:b.rd=!0;return Tf(a).parent};Nh[t].dj=function(a){a=Sf(a,function(a){return a instanceof yh},function(a){return a instanceof Lh&&a.$j()||a instanceof Ih||1!=a.xa()||a instanceof zh});return 0<a[D]?a[0]:null};
function Oh(a){this.m=a}L(Oh,Kg);Oh[t].Jb=function(a){var b=Ph(a);if(null===b)return a;a=this.Jh(b);a==b&&(a=this.Ih(b));return a.pb()};Oh[t].Jh=function(a){var b=a,c=Qh(a.wb(0));if(null!==c){var d;d=a.N;for(var g=null,k=c[h].Ea(),l=0;l<k[D]&&null===g;l++)g=Rh(k[l],d);d=g;if(null===d)return b;b=new yh(this.m,d.Ab,new uh(d.Ab),d.zg);d=new Ah(this.m,c[h]);d.ka(b);Tf(a);b=Xf(c,c,d,b)}return b};
Oh[t].Ih=function(a){var b=a,c=Sh(a.wb(0));if(null!==c){var d=Rh(c[nb],a.N);if(null===d)return b;c.gf=d.zg;b=Tf(a).parent}return b};function Sh(a){a=Sf(a,function(a){return a instanceof yh},function(a){return 1!=a.xa()});return 0<a[D]?a[0]:null}function Qh(a){a=Sf(a,function(a){return a instanceof Bh},function(a){return 1!=a.xa()});return 0<a[D]?a[0]:null}function Ph(a){a=Sf(a,function(a){return a instanceof Ih});return 0<a[D]?a[0]:null}
function Rh(a,b){if(a.h[D]!=b[D]||!b[Ua](function(b,c){return b.K[u]()==a.h[c].ea[u]()}))return null;var c=Th(b,a);return c[0]||c[1]?{Ab:a,zg:c[1]}:null}function Th(a,b){var c=a[Ka](function(a,b){return a<<1|(0==b.rb?0:1)},0),d=b.h[Ka](function(a,b){return a<<1|(0==b.rb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[D],b.h[D]))-1;return[c,d]};
function Uh(a,b,c){this.Da=a;this.cf=b;this.hf=c}Uh[t].tc=function(){this.hf[G](function(a){this.Da=a.Jb(this.Da,this.cf)},this);return this.Da};
function Vh(a,b){U[r](this,1,1);this.O=a;this.vl=b}L(Vh,U);f(Vh[t],function(){return"update("+this.O[u]()+")"});Vh[t].la=function(a,b){var c=b[0][C].map(function(a){var b=this.O.qc(a.wa.Ja());this.vl[G](function(a){b.w()[a.K[u]()]=a[w]},this);return b},this);a[Va](this.O,c);return[oe()]};
function Wh(a){this.m=a}Wh[t].create=function(a,b){var c=a.pb();if(c instanceof xg||c instanceof wg)return this.ye(a,b);if(c instanceof Dg||c instanceof Hg||c instanceof Ig)return this.ye(a,b,[new Ch(this.m),new Oh(this.m),new Nh]);if(c instanceof yg||c instanceof zg)return this.ye(a,b,[new Ch(this.m)]);throw new Q(8);};Wh[t].ye=function(a,b,c){var d=Qf(a.pb(),K(this.sk,this));null!=c&&(d=(new Uh(d,b,c)).tc());return new Le(d,a.fa())};
Wh[t].sk=function(a){if(a instanceof Dg)return new Lh(a.h,a.Tb);if(a instanceof Gg)return new sh(a.h);if(a instanceof Fg)return new ng(a.h);if(a instanceof Eg)return new Ih(a.N);if(a instanceof Ig)return new Mh;if(a instanceof Hg)return new Hh;if(a instanceof Ag)return new zh(a.Ba.da());if(a instanceof Cg)return new Ng;if(a instanceof Jg)return new Gh(a.Ba,a.xg);if(a instanceof Bg)return new Bh(this.m,a[h]);if(a instanceof yg)return new rh(a[h]);if(a instanceof zg)return new Vh(a[h],a.tf);if(a instanceof
xg)return new Fh(this.m,a[h]);if(a instanceof wg)return new Dh(this.m,a[h]);throw new Q(514);};

function Xh(a){this.qk=new qh;this.Hk=new Wh(a)}Xh[t].Hj=function(a){var b=this.qk[lb](a);return this.Hk[lb](b,a)};
function Yh(){this.Ig=new O}I=Yh[t];I.Hd=function(a){var b=this.Ig.get(a[u](),null);null===b&&(b=new Zh,this.Ig.set(a[u](),b));return b};I.Uj=function(a,b,c){b[G](function(b){this.Hd(b).Tj(a,c)},this)};I.Yh=function(a,b,c){return b[Ua](function(b){return this.Hd(b).Xh(a,c)},this)};I.Zg=function(a,b,c){var d=this.Yh(a,b,c);d&&this.Uj(a,b,c);return d};I.releaseLock=function(a,b){b[G](function(b){this.Hd(b).releaseLock(a)},this)};I.mi=function(a){a[G](function(a){this.Hd(a).hb=null},this)};
function Zh(){this.fc=this.Xa=this.hb=this.Rc=null}Zh[t].releaseLock=function(a){this.Rc==a&&(this.Rc=null);this.hb==a&&(this.hb=null);null===this.Xa||this.Xa[y](a);null===this.fc||this.fc[y](a)};Zh[t].Xh=function(a,b){var c=null===this.Xa||this.Xa.Ma();return 0==b?(null===this.fc||this.fc.Ma())&&c&&null===this.Rc&&null!==this.hb&&this.hb==a:3==b?null===this.Rc&&null===this.hb&&null!==this.Xa&&this.Xa[ub](a):1==b?null===this.hb:c&&(null===this.hb||this.hb==a)};
Zh[t].Tj=function(a,b){0==b?(this.hb=null,this.Rc=a):3==b?(null===this.fc&&(this.fc=new P),this.fc.add(a),null===this.Xa&&(this.Xa=new P),this.Xa[y](a)):1==b?(null===this.Xa&&(this.Xa=new P),this.Xa.add(a)):2==b&&(this.hb=a)};
function $h(){this.bc=new ai;this.ed=new Yh}I=$h[t];I.dc=function(a){(2>a[Db]()||2>a[Db]())&&this.ed.mi(a.fa().f());this.bc.Bb(a);this.xe();return a.Zc().ha};I.xe=function(){for(var a=this.bc.f(),b=0;b<a[D];b++){var c=a[b],d=!1;if(d=0==c.Z()?this.$g(c,1,3):this.$g(c,2,0))this.bc[y](c),this.Ti(c)}};I.$g=function(a,b,c){var d=!1,g=a.fa().f();this.ed.Zg(a.da(),g,b)&&(d=this.ed.Zg(a.da(),g,c));return d};I.Ti=function(a){a[Qa]()[A](K(this.Dk,this,a),K(this.Ck,this,a))};
I.Dk=function(a,b){this.ed.releaseLock(a.da(),a.fa().f());a.Zc()[Fb](b);this.xe()};I.Ck=function(a,b){this.ed.releaseLock(a.da(),a.fa().f());a.Zc()[La](b);this.xe()};function ai(){this.bc=[]}ai[t].Bb=function(a){wc(this.bc,a,function(a,c){var d=a[Db]()-c[Db]();return 0==d?a.da()-c.da():d})};ai[t].f=function(){return this.bc[n]()};wa(ai[t],function(a){var b=this.bc;a=ic(b,a);var c;(c=0<=a)&&oc(b,a);return c});

function bi(a,b){this.Ji=we.De();this.df=a;this.Vd=b;this.H=this.Ci()}bi[t].Ci=function(){if(0<this.df.h[D])return this.df.h;var a=[];this.df.c[G](function(b){b.xb()[G](function(b){a[z](b)})});return a};bi[t].W=function(a,b){return this.H[Ua](function(c){return this.Ji.Ce(c.Z(),"eq")(a.S(c),b.S(c))},this)};
bi[t].Hh=function(a,b){for(var c=null===a?[]:a[C],d=pd(c,b[C],K(this.W,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[D];l++){var p=c[l];d[k]==p?k++:(p=this.Vd[B](k,1),p=ci(l,p,0,this.Vd),g[z](p))}d=pd(c,b[C],K(this.W,this),function(a,c){return b[C][c]});for(l=k=0;l<b[C][D];l++)p=b[C][l],d[k]==p?k++:(this.Vd[B](l,0,p.wa.w()),p=ci(l,[],1,this.Vd),g[z](p));return g};function ci(a,b,c,d){return{wl:c,index:a,object:d,yl:b,type:"splice"}};
function di(){this.sc=new O}I=di[t];I.He=function(a){return Vb(a)[E]()};I.je=function(a,b){var c=this.He(a.Kd()),d=this.sc.get(c,null);null===d&&(d=new ei(a),this.sc.set(c,d));d.je(b)};I.ff=function(a,b){var c=this.He(a.Kd()),d=this.sc.get(c,null);M(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.ff(b);M(g,"removeObserver: Inconsistent state detected.");d.bk()||this.sc[y](c)};
I.Je=function(a){var b=new P;a[G](function(a){b.add(a[u]())});var c=[];this.sc.f()[G](function(a){a=a.ad();a[ob].c[ab](function(a){return b[ub](a[u]())})&&c[z](a)});return c};I.th=function(a,b){var c=this.He(null!=a.Kc?a.Kc:a),c=this.sc.get(c,null);return null!==c?(c.ul(b),!0):!1};function ei(a){this.Sh=a;this.hd=new P;this.Ak=[];this.Fg=null;this.Fi=new bi(a.Kd(),this.Ak)}I=ei[t];I.je=function(a){this.hd[ub](a)?ec("Attempted to register observer twice."):this.hd.add(a)};I.ff=function(a){return this.hd[y](a)};
I.ad=function(){return this.Sh.Dj()};I.bk=function(){return 0<this.hd.ya()};I.ul=function(a){var b=this.Fi.Hh(this.Fg,a);this.Fg=a;0<b[D]&&this.hd.f()[G](function(a){a(b)})};
function fi(a,b){var c=a.o(Md),d=b||{},g=new mf;a.sb(Hd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new bf(c);break;case 5:g=new cf(c);break;case 4:g=new gf(a,c,d.webSqlDbSize);break;case 3:g=new We(c,d.firebase);k=!0;break;default:g=new $e(a,c)}a.sb(Gd,g);var l=new Mf;a.sb(Id,l);return g.Fa(d.onUpgrade)[A](function(){a.sb(Jd,new Xh(a));var b=new $h;a.sb(Kd,b);b=new di;a.sb(Ld,b);return l.Fa(c)})[A](function(){k&&(new Qe(a)).il();return(new Lf(a)).Fa(c)})};

function gi(a,b){this.m=a;this.Fb=a.o(Gd);this.Za=a.o(Kd);this.Ib=a.o(Ld);this.sa=new P(b);this.Wa=new ge(this.m,this.sa.f());this.cc=ad();this.Sc=ad();this.vf=ad()}I=gi[t];na(I,function(){this.vf[Fb]();return this.Sc.ha});I.Z=Kb(1);I.fa=H("sa");I.Zc=H("cc");I.da=function(){return Vb(this)};Ea(I,Kb(2));I.xh=function(){this.Za.dc(this);return this.vf.ha};
I.Ph=function(a){a=a.ad();return a.af.pb()[Qa](this.Wa,a[ob])[A](function(a){return a[0].Ee()},K(function(a){this.Wa.Kb();var c=new Sc(a[q]);this.Sc[La](c);throw a;},this))};I.oa=function(){this.Fb.Qb(this.Z(),this.Wa).oa()[A](K(function(){this.ld();this.Sc[Fb]()},this),K(function(a){this.Wa.Kb();this.Sc[La](a)},this));return this.cc.ha};I.Kb=function(){this.Wa.Kb();this.Sc[Fb]();return this.cc.ha};I.ld=function(){var a=this.Ib.Je(this.sa.f());0!=a[D]&&(a=new Oe(this.m,a),this.Za.dc(a))};
function hi(a){this.m=a;this.Za=a.o(Kd);this.pd=null;this.Ka=0}J("lf.proc.Transaction",hi,void 0);var ii=new O(0,new P([1,4]),1,new P([2]),2,new P([3,5,6]),3,new P([2,7]),4,new P([7]),5,new P([7]),6,new P([7]));hi[t].Qa=function(a){var b=ii.get(this.Ka,null);if(null===b||!b[ub](a))throw new Q(107,this.Ka,a);this.Ka=a};
na(hi[t],function(a){this.Qa(4);var b=[];try{a[G](function(a){a.mb();b[z](a.ad())},this)}catch(c){return this.Qa(7),Xc(c)}a=new Og(this.m,b);return this.Za.dc(a)[A](K(function(a){this.Qa(7);return a.map(function(a){return a.Ee()})},this),K(function(a){this.Qa(7);throw a;},this))});na(hi[t],hi[t][Qa]);hi[t].Qh=function(a){this.Qa(1);this.pd=new gi(this.m,a);return this.pd.xh()[A](K(function(){this.Qa(2)},this))};hi[t].begin=hi[t].Qh;
hi[t].Oh=function(a){this.Qa(3);return this.pd.Ph(a)[A](K(function(a){this.Qa(2);return a},this),K(function(a){this.Qa(7);throw a;},this))};hi[t].attach=hi[t].Oh;hi[t].oa=function(){this.Qa(5);return this.pd.oa()[A](K(function(){this.Qa(7)},this))};hi[t].commit=hi[t].oa;hi[t].Kb=function(){this.Qa(6);return this.pd.Kb()[A](K(function(){this.Qa(7)},this))};hi[t].rollback=hi[t].Kb;
function X(a){this.m=a;this.s=a.o(Md);this.Le=!1}J("lf.proc.Database",X,void 0);X[t].Fa=function(a){this.m.sb(Md,this.s);return fi(this.m,a)[A](K(function(){this.Le=!0;return this},this))};X[t].init=X[t].Fa;X[t].zb=H("s");X[t].getSchema=X[t].zb;X[t].nc=function(){if(!this.Le)throw new Q(2);};X[t].select=function(a){this.nc();return new W(this.m,1!=arguments[D]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].Bb=function(){this.nc();return new dh(this.m)};X[t].insert=X[t].Bb;
X[t].Me=function(){this.nc();return new dh(this.m,!0)};X[t].insertOrReplace=X[t].Me;ra(X[t],function(a){this.nc();return new hh(this.m,a)});ra(X[t],X[t][Va]);sa(X[t],function(){this.nc();return new ch(this.m)});X[t]["delete"]=X[t][Ya];X[t].observe=function(a,b){this.m.o(Ld).je(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.m.o(Ld).ff(a,b)};X[t].unobserve=X[t].unobserve;X[t].Ai=function(){this.nc();return new hi(this.m)};X[t].createTransaction=X[t].Ai;
pa(X[t],function(){try{this.m.o(Gd)[Ra]()}catch(a){}this.m[x]();this.Le=!1});pa(X[t],X[t][Ra]);
function Y(a,b,c,d,g,k){this.O=a;this.B=b;this.Bg=c;this.vg=d;this.sh=g;this.lb=k||null}J("lf.schema.BaseColumn",Y,void 0);I=Y[t];oa(I,H("B"));I.l=function(){return this.O.pa()+"."+this.B};f(I,function(){return this.l()});I.M=H("O");I.Z=H("sh");I.bb=H("lb");I.Ea=function(){null==this.ua&&(this.ua=[],this.M().Ea()[G](function(a){-1!=a.h.map(function(a){return a.ea[u]()})[$a](this.B)&&this.ua[z](a)},this));return this.ua};I.wc=H("vg");I.dd=H("Bg");I.Va=function(a){return hg(this,a,"eq")};Y[t].eq=Y[t].Va;
Y[t].Jg=function(a){return hg(this,a,"neq")};Y[t].neq=Y[t].Jg;Y[t].Te=function(a){return hg(this,a,"lt")};Y[t].lt=Y[t].Te;Y[t].rk=function(a){return hg(this,a,"lte")};Y[t].lte=Y[t].rk;Y[t].Vj=function(a){return hg(this,a,"gt")};Y[t].gt=Y[t].Vj;Y[t].Wj=function(a){return hg(this,a,"gte")};Y[t].gte=Y[t].Wj;Y[t].match=function(a){return hg(this,a,"match")};Y[t].match=Y[t].match;Y[t].Rh=function(a,b){return hg(this,[a,b],"between")};Y[t].between=Y[t].Rh;Y[t].ck=function(a){return hg(this,a,"in")};
Y[t]["in"]=Y[t].ck;Y[t].kk=function(){return this.Va(null)};Y[t].isNull=Y[t].kk;Y[t].jk=function(){return this.Jg(null)};Y[t].isNotNull=Y[t].jk;Y[t].Hc=function(a){return new Y(this.O,this.B,this.Bg,this.vg,this.sh,a)};Y[t].as=Y[t].Hc;
function ji(){this.ee=new O}var ki;ua(ji[t],function(){this.ee[x]()});ua(ji[t],ji[t][x]);ji[t].sb=function(a,b){this.ee.set(a[E](),b);return b};ji[t].registerService=ji[t].sb;ji[t].o=function(a){var b=this.ee.get(a[E](),null);if(null==b)throw new Q(7,a[E]());return b};ji[t].getService=ji[t].o;ji[t].Re=function(a){return this.ee.A(a[E]())};ji[t].isRegistered=ji[t].Re;
function li(a){this.s=a;this.ef=new Cd;this.Qg=new Cd;this.Nf=new Cd;this.i=new Cd;this.ue=new Cd;this.fk()}I=li[t];I.fk=function(){this.s.$a()[G](function(a){var b=new jf;a.Hb().dg()[G](function(c){var d=this.ef.get(c.fb)||[];d[z](c);this.ef.set(c.fb,d);b.add(this.s[h](c.fb));(d=this.i.get(c.fb))||(d=new jf);d.add(a);this.i.set(c.fb,d);this.Nf.set(a[u]()+"."+c.pc,c.fb);c=c.fb+"."+c.zc;d=this.ue.get(c)||[];d[z](a[u]());this.ue.set(c,d)},this);0!=b[Hb]&&this.Qg.set(a[u](),b)},this)};
I.Kj=function(a){return this.ef.get(a)||null};I.Wf=function(a,b){var c=b.get(a);return c?kf(c):[]};I.Fj=function(a){return this.Wf(a,this.Qg)};I.Gj=function(a){var b=new jf;a[G](function(a){(a=this.Nf.get(a))&&b.add(a)},this);return kf(b).map(function(a){return this.s[h](a)},this)};I.$f=function(a){return this.Wf(a,this.i)};I.vj=function(a){var b=new jf;a[G](function(a){(a=this.ue.get(a))&&a[G](function(a){b.add(a)})},this);return kf(b).map(function(a){return this.s[h](a)},this)};
function mi(a,b,c){this.Kk=a;this.yk=b;this.fj=c}mi[t].Ge=H("Kk");mi[t].Cj=H("yk");mi[t].dg=H("fj");
function ni(a,b){var c=a.ref[Ja](".");if(2!=c[D])throw new Q(540,b);this.pc=a.local;this.fb=c[0];this.zc=c[1];ka(this,b);this.action=a.action;this.timing=a[Ma]};
function Z(a){this.B=a;this.H=new Cd;this.rf=new jf;this.Dc=new jf;this.Ud=new jf;var b=this.B;this.Ac="pk"+(b[0].toUpperCase()+b.substring(1));this.ua=new Cd;this.Yd=!1;this.oc(a);this.Yf=[]}J("lf.schema.TableBuilder",Z,void 0);function oi(a){ka(this,a[q]);this.rb=a.order;this.autoIncrement=a[pb]}var pi=new jf([0,6]);Z[t].oc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new Q(502,a);if(this.H.has(a)||this.ua.has(a)||this.Dc.has(a))throw new Q(503,this.B+"."+a);};
Z[t].gi=function(a){var b=!1;a[G](function(a){var d=this.H.get(a[q]);b=b||a[pb];if(a[pb]&&3!=d)throw new Q(504);},this);if(b&&1<a[D])throw new Q(505);};Z[t].zh=function(a,b){this.oc(a);this.H.set(a,b);pi.has(b)&&this.zf([a]);return this};Z[t].addColumn=Z[t].zh;Z[t].Bh=function(a,b){this.oc(this.Ac);var c=this.Td(a,!0,void 0,b);this.gi(c);1==c[D]&&this.rf.add(c[0][q]);this.Dc.add(this.Ac);this.ua.set(this.Ac,c);return this};Z[t].addPrimaryKey=Z[t].Bh;
Z[t].Ah=function(a,b){this.oc(a);var c=new ni(b,this.B+"."+a);Mb(c.action)||(c.action=0);Mb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new Q(506);if(!this.H.has(c.pc))throw new Q(540,a);this.Yf[z](c);this.yf(a,[c.pc],!1);return this};Z[t].addForeignKey=Z[t].Ah;Z[t].Ch=function(a,b){this.oc(a);var c=this.Td(b,!0);this.Kf(a,c);1==c[D]&&this.rf.add(c[0][q]);this.ua.set(a,c);this.Dc.add(a);return this};Z[t].addUnique=Z[t].Ch;
Z[t].zf=function(a){a=this.Td(a,!1);this.fi(a);a[G](function(a){this.Ud.add(a[q])},this);return this};Z[t].addNullable=Z[t].zf;Z[t].fi=function(a){Dd(this.ua)[G](function(b){var c=new jf;this.ua.get(b)[G](function(a){c.add(a[q])});var d=a[Ga](function(a){return c.has(a[q])});if(1<c[Hb]&&0<d[D])throw new Q(507,b,d[m](","));},this)};Z[t].yf=function(a,b,c,d){this.oc(a);b=this.Td(b,!0,d);this.Kf(a,b);c&&this.Dc.add(a);this.ua.set(a,b);return this};Z[t].addIndex=Z[t].yf;
Z[t].Kf=function(a,b){if(1<b[D]){var c=b[Ga](function(a){return this.Ud.has(a[q])},this);if(0<c[D])throw new Q(507,a,c[m](","));}};Z[t].ac=Jb("Yd");Z[t].persistentIndex=Z[t].ac;Z[t].zb=function(){return new (this.tj())};Z[t].getSchema=Z[t].zb;Z[t].Xc=H("Yf");
Z[t].Td=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new oi({name:a,order:null!=c?c:1,autoIncrement:d||!1})}):a.map(function(a){return new oi(a)});g[G](function(a){if(!this.H.has(a[q]))throw new Q(508,this.B,a[q]);if(b){var c=this.H.get(a[q]);if(0==c||6==c)throw new Q(509,this.B,a[q]);}},this);return g};
Z[t].tj=function(){function a(){function a(c){return b.ua.get(c).map(function(a){return{ea:this[a[q]],rb:a.rb,autoIncrement:a[pb]}},this)}var d=Dd(b.H).map(function(a){this[a]=new Y(this,a,b.rf.has(a),b.Ud.has(a),b.H.get(a));return this[a]},this),g=Dd(b.ua).map(function(d){return new jg(b.B,d,b.Dc.has(d),a[r](this,d))},this);kg[r](this,b.B,d,g,b.Yd);var k=b.ua.has(b.Ac)?new jg(b.B,b.Ac,!0,a[r](this,b.Ac)):null,l=d[Ga](function(a){return!b.Ud.has(a[u]())}),p=kf(b.Dc).map(function(d){return new jg(b.B,
d,!0,a[r](this,d))},this);this.ri=new mi(k,l,b.Xc(),p);this.dh=b.pj(d,g)}var b=this;L(a,kg);a[t].Gb=function(a){return new this.dh(hd++,a)};a[t].createRow=a[t].Gb;a[t].qc=function(a){var b={};this.xb()[G](function(g){var k=g[u]();g=g.Z();var l=a[w][k];if(0==g)if(null===l)g=l;else if(g=l,""==g)g=null;else{0!=g[D]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[D]/2),p=new Uint8Array(l),v=0,ia=0;v<g[D];v+=2)p[ia++]=da(g.substr(v,2),16);g=l}else g=2==g?null===l?l:new Date(l):l;b[k]=g},this);return new this.dh(a.id,
b)};a[t].deserializeRow=a[t].qc;a[t].Hb=H("ri");a[t].getConstraint=a[t].Hb;return a};
Z[t].pj=function(a,b){function c(c,d){this.H=a;this.ua=b;gd[r](this,c,d)}L(c,gd);c[t].Sf=function(){var a={};this.H[G](function(b){a[b[u]()]=b.wc()?null:ce[b.Z()]});return a};c[t].ph=function(){var a={};this.H[G](function(b){var c=b[u]();b=b.Z();var d=this.w()[c];a[c]=0==b?null===d?d:kd(d):2==b?null===d?d:d[Eb]():d},this);return a};var d=K(function(a){var b=this.H.get(a[u]());return 2==b?function(b){b=b[a[u]()];return a.wc()&&null===b?null:b[Eb]()}:1==b?function(b){return a.wc()?(b=b[a[u]()],null===
b?null:b?1:0):b[a[u]()]?1:0}:function(b){return b[a[u]()]}},this),g=K(function(a){var b=a.map(function(a){return d(a.ea)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[G](function(a){var b=a.l();a=1==a.h[D]?d(a.h[0].ea):g(a.h);k[b]=a});c[t].Vb=function(a){return-1!=a[$a]("#")?this.id():k[tb](a)?k[a](this.w()):null};return c};
function qi(a,b){this.s=new ri(a,b);this.tb=new O;this.Tc=!1}J("lf.schema.Builder",qi,void 0);I=qi[t];I.di=function(a){a.Xc()[G](function(b){var c=b.fb;if(!this.tb.A(c))throw new Q(536,b[q]);var c=this.tb.get(c).zb(),d=b.zc;if(!c[tb](d))throw new Q(537,b[q]);if(a.zb()[b.pc].Z()!=c[d].Z())throw new Q(538,b[q]);if(!c[d].dd())throw new Q(539,b[q]);},this)};I.ci=function(a){a.Xc()[G](function(a){this.tb.get(a.fb).Xc()[G](function(c){if(c.pc==a.zc)throw new Q(534,a[q]);},this)},this)};
I.$i=function(){this.Tc||(this.tb.f()[G](function(a){this.di(a);this.s.cl(a.zb())},this),this.tb.f()[G](this.ci,this),this.bi(),this.tb[x](),this.Tc=!0)};I.If=function(a,b){a.uf||(a.uf=!0,a.Xe=!0,a.Vf[G](function(c){c=b.get(c);if(!c.uf)this.If(c,b);else if(c.Xe&&a!=c)throw new Q(533);},this));a.Xe=!1};I.bi=function(){var a=new Cd;this.s.I.U()[G](function(b){a.set(b,new si(b))},this);this.tb[G](function(b,c){b.Xc()[G](function(b){a.get(b.fb).Vf.add(c)})});Ed(a)[G](function(b){this.If(b,a)},this)};
function si(a){this.Xe=this.uf=!1;this.Vf=new jf;this.of=a}I.zb=function(){this.Tc||this.$i();return this.s};qi[t].getSchema=qi[t].zb;qi[t].eg=function(){var a=new Fd("ns_"+this.s[q]()),b;ki||(ki=new ji);b=ki;var c=null;b.Re(a)?c=b.o(a):(c=new ji,b.sb(a,c));return c};qi[t].getGlobal=qi[t].eg;qi[t].connect=function(a){var b=this.eg();b.Re(Md)||b.sb(Md,this.zb());return(new X(b)).Fa(a)};qi[t].connect=qi[t].connect;
qi[t].yi=function(a){if(this.tb.A(a))throw new Q(503,a);if(this.Tc)throw new Q(535);this.tb.set(a,new Z(a));return this.tb.get(a)};qi[t].createTable=qi[t].yi;qi[t].mf=function(a){if(this.Tc)throw new Q(535);this.s.mf(a);return this};qi[t].setPragma=qi[t].mf;function ri(a,b){this.B=a;this.Ta=b;this.I=new O;this.Ug={Gi:!1}}J("lf.schema.DatabaseSchema",ri,void 0);ka(ri[t],H("B"));ka(ri[t],ri[t][q]);ri[t].version=H("Ta");ri[t].version=ri[t][vb];ri[t].$a=function(){return this.I.f()};ri[t].tables=ri[t].$a;
ja(ri[t],function(a){if(!this.I.A(a))throw new Q(101,a);return this.I.get(a)});ja(ri[t],ri[t][h]);ri[t].info=function(){this.pg||(this.pg=new li(this));return this.pg};ri[t].cl=function(a){this.I.set(a[u](),a)};ri[t].Tg=H("Ug");ri[t].pragma=ri[t].Tg;ri[t].mf=Jb("Ug");J("lf.schema.create",function(a,b){return new qi(a,b)},void 0);}.bind(window))()
