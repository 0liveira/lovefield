(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function wa(a,b){return a.child=b}function xa(a,b){return a.next=b}function ya(a,b){return a.onerror=b}function za(a,b){return a.length=b}function g(a,b){return a.toString=b}function Aa(a,b){return a.bind=b}function Ba(a,b){return a.subscribe=b}function Ca(a,b){return a.forEach=b}function Da(a,b){return a.getPriority=b}
var Ea="openCursor",Fa="filter",Ga="once",Ha="objectStoreNames",Ia="split",k="table",Ja="reduce",m="join",Ka="reject",La="timing",Ma="item",n="slice",Na="target",p="name",r="call",t="prototype",Oa="clone",Pa="exec",u="getName",Qa="close",Ra="concat",v="value",Sa="setImmediate",Va="every",Wa="update",Xa="global",Ya="propertyIsEnumerable",Za="delete",$a="sort",ab="indexOf",bb="some",cb="count",db="orderByChild",w="clear",eb="values",fb="replace",gb="reverse",hb="continue",ib="removeChild",jb="remove",
kb="child",lb="create",x="push",z="then",mb="keys",nb="transaction",ob="index",pb="context",A="splice",qb="autoIncrement",rb="next",sb="shift",tb="hasOwnProperty",ub="contains",vb="version",wb="objectStore",xb="offset",yb="apply",zb="stringify",B="entries",C="length",Ab="info",D="toString",Bb="compare",E="bind",Cb="getParent",Db="rows",F="forEach",Eb="getPriority",Fb="getTime",Gb="resolve",Hb="result",G="size";function Ib(){return function(){}}function Jb(a){return function(b){this[a]=b}}
function H(a){return function(){return this[a]}}function Kb(a){return function(){return a}}var I,Lb=this;function Mb(a){return void 0!==a}function Nb(){}
function Ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][D][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Ya]&&!a[Ya]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Ya]&&!a[Ya]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Pb(a){return null===a}function Qb(a){return null!=a}function Rb(a){var b=Ob(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Sb(a){return"string"==typeof a}function Ub(a){return"function"==Ob(a)}function Vb(a){return a[Wb]||(a[Wb]=++Xb)}var Wb="closure_uid_"+(1E9*ba.random()>>>0),Xb=0;function Yb(a,b,c){return a[r][yb](a[E],arguments)}
function Zb(a,b,c){if(!a)throw fa();if(2<arguments[C]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t].unshift[yb](c,d);return a[yb](b,c)}}return function(){return a[yb](b,arguments)}}function $b(a,b,c){$b=Function[t][E]&&-1!=Function[t][E][D]()[ab]("native code")?Yb:Zb;return $b[yb](null,arguments)}function ac(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[x][yb](b,arguments);return a[yb](this,b)}}
function J(a,b){var c=a[Ia]("."),d=Lb;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var f;c[C]&&(f=c[sb]());)!c[C]&&Mb(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}function K(a,b){function c(){}c.prototype=b[t];a.Fb=b[t];a.prototype=new c;a[t].constructor=a;a.zg=function(a,c,h){for(var l=e(arguments[C]-2),q=2;q<arguments[C];q++)l[q-2]=arguments[q];return b[t][c][yb](a,l)}};function bc(a){if(fa.captureStackTrace)fa.captureStackTrace(this,bc);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(bc,fa);ja(bc[t],"CustomError");function cc(a,b,c){this.$f=c;this.Gf=a;this.qg=b;this.qd=0;this.md=null}cc[t].get=function(){var a;0<this.qd?(this.qd--,a=this.md,this.md=a[rb],xa(a,null)):a=this.Gf();return a};cc[t].put=function(a){this.qg(a);this.qd<this.$f&&(this.qd++,xa(a,this.md),this.md=a)};var dc=e[t],ec=dc[ab]?function(a,b,c){return dc[ab][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[C]+c):c;if(Sb(a))return Sb(b)&&1==b[C]?a[ab](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},fc=dc[F]?function(a,b,c){dc[F][r](a,b,c)}:function(a,b,c){for(var d=a[C],f=Sb(a)?a[Ia](""):a,h=0;h<d;h++)h in f&&b[r](c,f[h],h,a)},gc=dc.map?function(a,b,c){return dc.map[r](a,b,c)}:function(a,b,c){for(var d=a[C],f=e(d),h=Sb(a)?a[Ia](""):a,l=0;l<d;l++)l in h&&(f[l]=b[r](c,h[l],l,a));return f},
hc=dc[Ja]?function(a,b,c,d){d&&(b=$b(b,d));return dc[Ja][r](a,b,c)}:function(a,b,c,d){var f=c;fc(a,function(c,l){f=b[r](d,f,c,l,a)});return f},ic=dc[bb]?function(a,b,c){return dc[bb][r](a,b,c)}:function(a,b,c){for(var d=a[C],f=Sb(a)?a[Ia](""):a,h=0;h<d;h++)if(h in f&&b[r](c,f[h],h,a))return!0;return!1};function jc(a,b){dc[A][r](a,b,1)}function kc(a,b){var c;a:{c=a[C];for(var d=Sb(a)?a[Ia](""):a,f=0;f<c;f++)if(f in d&&b[r](void 0,d[f],f,a)){c=f;break a}c=-1}return 0<=c?(jc(a,c),!0):!1}
function lc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function mc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Rb(d)){var f=a[C]||0,h=d[C]||0;za(a,f+h);for(var l=0;l<h;l++)a[f+l]=d[l]}else a[x](d)}}function nc(a,b,c,d){dc[A][yb](a,oc(arguments,1))}function oc(a,b,c){return 2>=arguments[C]?dc[n][r](a,b):dc[n][r](a,b,c)}function pc(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b}
function qc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Ob(d))for(var f=0;f<d[C];f+=8192)for(var h=qc[yb](null,oc(d,f,f+8192)),l=0;l<h[C];l++)b[x](h[l]);else b[x](d)}return b};function rc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};var sc;a:{var tc=Lb.navigator;if(tc){var uc=tc.userAgent;if(uc){sc=uc;break a}}sc=""};function vc(a){Lb.setTimeout(function(){throw a;},0)}var wc;
function xc(){var a=Lb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==sc[ab]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Qa]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=$b(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==sc[ab]("Trident")&&-1==sc[ab]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Mb(c[rb])){c=c[rb];var a=c.xe;c.xe=null;a()}};return function(a){xa(d,{xe:a});d=d[rb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ib](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Lb.setTimeout(a,0)}};function yc(){this.yd=this.kc=null}var Ac=new cc(function(){return new zc},function(a){a.reset()},100);yc[t].add=function(a,b){var c=Ac.get();c.set(a,b);this.yd?xa(this.yd,c):this.kc=c;this.yd=c};va(yc[t],function(){var a=null;this.kc&&(a=this.kc,this.kc=this.kc[rb],this.kc||(this.yd=null),xa(a,null));return a});function zc(){this.scope=this.Ld=null;xa(this,null)}zc[t].set=function(a,b){this.Ld=a;this.scope=b;xa(this,null)};zc[t].reset=function(){this.scope=this.Ld=null;xa(this,null)};function Bc(a,b){Cc||Dc();Ec||(Cc(),Ec=!0);Fc.add(a,b)}var Cc;function Dc(){if(Lb.Promise&&Lb.Promise[Gb]){var a=Lb.Promise[Gb](void 0);Cc=function(){a[z](Gc)}}else Cc=function(){var a=Gc;if(!Ub(Lb[Sa])||Lb.Window&&Lb.Window[t]&&Lb.Window[t][Sa]==Lb[Sa])wc||(wc=xc()),wc(a);else Lb[Sa](a)}}var Ec=!1,Fc=new yc;function Gc(){for(var a=null;a=Fc[jb]();){try{a.Ld[r](a.scope)}catch(b){vc(b)}Ac.put(a)}Ec=!1};function L(a,b){this.Sa=0;this.ef=void 0;this.Zc=this.bc=this.C=null;this.ld=this.Kd=!1;if(a!=Nb)try{var c=this;a[r](b,function(a){Hc(c,2,a)},function(a){Hc(c,3,a)})}catch(d){Hc(this,3,d)}}function Ic(){wa(this,null);this.context=this.ic=this.Ic=null;xa(this,null);this.Bd=!1}Ic[t].reset=function(){wa(this,null);this.context=this.ic=this.Ic=null;this.Bd=!1};var Jc=new cc(function(){return new Ic},function(a){a.reset()},100);function Kc(a,b,c){var d=Jc.get();d.Ic=a;d.ic=b;d.context=c;return d}
function Lc(a){if(a instanceof L)return a;var b=new L(Nb);Hc(b,2,a);return b}function Mc(a){return new L(function(b,c){c(a)})}function Nc(a,b,c){Oc(a,b,c,null)||Bc(ac(b,a))}function Pc(a){return new L(function(b,c){var d=a[C],f=[];if(d)for(var h=function(a,c){d--;f[a]=c;0==d&&b(f)},l=function(a){c(a)},q=0,y;q<a[C];q++)y=a[q],Nc(y,ac(h,q),l);else b(f)})}function Qc(){var a,b,c=new L(function(c,f){a=c;b=f});return new Rc(c,a,b)}L[t].then=function(a,b,c){return Sc(this,Ub(a)?a:null,Ub(b)?b:null,c)};
L[t].then=L[t][z];L[t].$goog_Thenable=!0;function Tc(a,b,c){Sc(a,null,b,c)}function Uc(a,b){a.bc||2!=a.Sa&&3!=a.Sa||Vc(a);a.Zc?xa(a.Zc,b):a.bc=b;a.Zc=b}function Sc(a,b,c,d){var f=Kc(null,null,null);wa(f,new L(function(a,l){f.Ic=b?function(c){try{var f=b[r](d,c);a(f)}catch(O){l(O)}}:a;f.ic=c?function(b){try{var f=c[r](d,b);!Mb(f)&&b instanceof Wc?l(b):a(f)}catch(O){l(O)}}:l}));f[kb].C=a;Uc(a,f);return f[kb]}L[t].vg=function(a){this.Sa=0;Hc(this,2,a)};L[t].wg=function(a){this.Sa=0;Hc(this,3,a)};
function Hc(a,b,c){0==a.Sa&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.Sa=1,Oc(c,a.vg,a.wg,a)||(a.ef=c,a.Sa=b,a.C=null,Vc(a),3!=b||c instanceof Wc||Xc(a,c)))}function Oc(a,b,c,d){if(a instanceof L)return Uc(a,Kc(b||Nb,c||null,d)),!0;var f;if(a)try{f=!!a.$goog_Thenable}catch(h){f=!1}else f=!1;if(f)return a[z](b,c,d),!0;f=typeof a;if("object"==f&&null!=a||"function"==f)try{var l=a[z];if(Ub(l))return Yc(a,l,b,c,d),!0}catch(q){return c[r](d,q),!0}return!1}
function Yc(a,b,c,d,f){function h(a){q||(q=!0,d[r](f,a))}function l(a){q||(q=!0,c[r](f,a))}var q=!1;try{b[r](a,l,h)}catch(y){h(y)}}function Vc(a){a.Kd||(a.Kd=!0,Bc(a.Lf,a))}function Zc(a){var b=null;a.bc&&(b=a.bc,a.bc=b[rb],xa(b,null));a.bc||(a.Zc=null);return b}
L[t].Lf=function(){for(var a=null;a=Zc(this);){var b=this.Sa,c=this.ef;if(3==b&&a.ic&&!a.Bd)for(var d=void 0,d=this;d&&d.ld;d=d.C)d.ld=!1;if(a[kb])a[kb].C=null,$c(a,b,c);else try{a.Bd?a.Ic[r](a[pb]):$c(a,b,c)}catch(f){ad[r](null,f)}Jc.put(a)}this.Kd=!1};function $c(a,b,c){2==b?a.Ic[r](a[pb],c):a.ic&&a.ic[r](a[pb],c)}function Xc(a,b){a.ld=!0;Bc(function(){a.ld&&ad[r](null,b)})}var ad=vc;function Wc(a){bc[r](this,a)}K(Wc,bc);ja(Wc[t],"cancel");
function Rc(a,b,c){this.ia=a;this.resolve=b;this.reject=c};/*

 Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function bd(a,b){this.na=a;this.o=b||this.Ce()}var cd=0;I=bd[t];I.id=H("na");I.Ce=function(){return{}};I.nf=H("o");I.Ha=function(){return{id:this.na,value:this.nf()}};I.Pb=function(a){return"#"==a.substr(-1)?this.na:null};function dd(a){return new bd(a.id,a[v])}function ed(a){return new bd(cd++,a||{})}function fd(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};function gd(a){this.type=a}function hd(a){bd[r](this,-1,a)}K(hd,bd);function id(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var f=a[C],h=b[C],l=[],q=0;q<f+1;q++)l[q]=[],l[q][0]=0;for(var y=0;y<h+1;y++)l[0][y]=0;for(q=1;q<=f;q++)for(y=1;y<=h;y++)c(a[q-1],b[y-1])?l[q][y]=l[q-1][y-1]+1:l[q][y]=ba.max(l[q-1][y],l[q][y-1]);for(var O=[],q=f,y=h;0<q&&0<y;)c(a[q-1],b[y-1])?(O.unshift(d(q-1,y-1)),q--,y--):l[q-1][y]>l[q][y-1]?q--:y--;return O}function jd(a){return hc(arguments,function(a,c){return a+c},0)}
function kd(a){return jd[yb](null,arguments)/arguments[C]}function ld(a){var b=arguments[C];if(2>b)return 0;var c=kd[yb](null,arguments);return jd[yb](null,gc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function md(a){return ba.sqrt(ld[yb](null,arguments))};var nd="StopIteration"in Lb?Lb.StopIteration:{message:"StopIteration",stack:""};function od(){}xa(od[t],function(){throw nd;});od[t].lc=function(){return this};function pd(a){if(a instanceof od)return a;if("function"==typeof a.lc)return a.lc(!1);if(Rb(a)){var b=0,c=new od;xa(c,function(){for(;;){if(b>=a[C])throw nd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function qd(a,b){if(Rb(a))try{fc(a,b,void 0)}catch(c){if(c!==nd)throw c;}else{a=pd(a);try{for(;;)b[r](void 0,a[rb](),void 0,a)}catch(d){if(d!==nd)throw d;}}}function rd(a){if(ic(arguments,function(a){return!a[C]})||!arguments[C])return new od;var b=new od,c=arguments,d=pc(c[C]);xa(b,function(){if(d){for(var a=gc(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw nd;});return b};function sd(a,b){this.f={};this.b=[];this.La=this.$=0;var c=arguments[C];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}I=sd[t];I.Lb=H("$");I.fa=function(){td(this);for(var a=[],b=0;b<this.b[C];b++)a[x](this.f[this.b[b]]);return a};I.Oa=function(){td(this);return this.b[Ra]()};I.ka=function(a){return ud(this.f,a)};I.hc=function(){return 0==this.$};ta(I,function(){this.f={};za(this.b,0);this.La=this.$=0});
va(I,function(a){return ud(this.f,a)?(delete this.f[a],this.$--,this.La++,this.b[C]>2*this.$&&td(this),!0):!1});function td(a){if(a.$!=a.b[C]){for(var b=0,c=0;b<a.b[C];){var d=a.b[b];ud(a.f,d)&&(a.b[c++]=d);b++}za(a.b,c)}if(a.$!=a.b[C]){for(var f={},c=b=0;b<a.b[C];)d=a.b[b],ud(f,d)||(a.b[c++]=d,f[d]=1),b++;za(a.b,c)}}I.get=function(a,b){return ud(this.f,a)?this.f[a]:b};I.set=function(a,b){ud(this.f,a)||(this.$++,this.b[x](a),this.La++);this.f[a]=b};
I.addAll=function(a){var b;if(a instanceof sd)b=a.Oa(),a=a.fa();else{b=[];var c=0,d;for(d in a)b[c++]=d;a=rc(a)}for(c=0;c<b[C];c++)this.set(b[c],a[c])};Ca(I,function(a,b){for(var c=this.Oa(),d=0;d<c[C];d++){var f=c[d],h=this.get(f);a[r](b,h,f,this)}});la(I,function(){return new sd(this)});I.lc=function(a){td(this);var b=0,c=this.La,d=this,f=new od;xa(f,function(){if(c!=d.La)throw fa("The map has changed since the iterator was created");if(b>=d.b[C])throw nd;var f=d.b[b++];return a?f:d.f[f]});return f};
function ud(a,b){return aa[t][tb][r](a,b)};/*

 Copyright 2015 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function vd(){this.f=new sd;aa.defineProperty(this,"size",{get:function(){return this.f.Lb()}})}ta(vd[t],function(){this.f[w]()});ta(vd[t],vd[t][w]);ra(vd[t],function(a){return this.f[jb](a)});vd[t]["delete"]=vd[t][Za];Ca(vd[t],function(a,b){return this.f[F](a,b)});Ca(vd[t],vd[t][F]);vd[t].get=function(a){return this.f.get(a)};vd[t].get=vd[t].get;vd[t].has=function(a){return this.f.ka(a)};vd[t].has=vd[t].has;vd[t].set=function(a,b){return this.f.set(a,b)};vd[t].set=vd[t].set;
function M(){return ca.Map&&ca.Map[t][eb]&&ca.Map[t][F]?new ca.Map:new vd}function wd(a){if(a instanceof vd)return a.f.Oa();var b=0,c=e(a[G]);a[F](function(a,f){c[b++]=f});return c}function xd(a){if(a instanceof vd)return a.f.fa();var b=0,c=e(a[G]);a[F](function(a){c[b++]=a});return c};var yd={};J("lf.TransactionType",yd);yd.READ_ONLY=0;yd.READ_WRITE=1;function zd(a,b){this.Pa=a;this.of=b;this.Z=Qc()}zd[t].ma=function(){try{Ad(this.Pa)}catch(a){return Mc(a)}return(0==this.of?this.oc():Bd(this))[z](function(a){this.Pa.ma();return a}[E](this))};function Bd(a){Cd(a);Dd(a);return a.oc()}function Cd(a){a.Pa.ob[F](function(a,c){var d=this.Pa.ca().get(c),d=this.I(d[u](),d.cc[E](d)),f=xd(a.Ba).map(function(a){return a.id()});0<f[C]&&Tc(d[jb](f),this.Nd,this);f=xd(a.pa).map(function(a){return a[1]})[Ra](xd(a.Aa));Tc(d.put(f),this.Nd,this)},a)}
function Dd(a){Ed(a.Pa)[F](function(a){var c=this.I(a[u](),dd),d;c.get([-1])[z](function(a){d=a;return c[jb]([])})[z](function(){c.put(d);c.put(a.Ha())},this.Nd[E](this))},a)}zd[t].Nd=function(a){this.Z[Ka](a)};function Fd(a){this.rg=a}g(Fd[t],H("rg"));var Gd=new Fd("backstore"),Hd=new Fd("cache"),Id=new Fd("indexstore"),Jd=new Fd("engine"),Kd=new Fd("runner"),Ld=new Fd("observerregistry"),Md=new Fd("schema");function Nd(a){if("function"==typeof a.fa)return a.fa();if(Sb(a))return a[Ia]("");if(Rb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[x](a[d]);return b}return rc(a)};function Od(a){this.f=new sd;a&&this.addAll(a)}function Pd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Vb(a):b.substr(0,1)+a}I=Od[t];I.Lb=function(){return this.f.Lb()};I.add=function(a){this.f.set(Pd(a),a)};I.addAll=function(a){a=Nd(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};va(I,function(a){return this.f[jb](Pd(a))});ta(I,function(){this.f[w]()});I.hc=function(){return this.f.hc()};I.contains=function(a){return this.f.ka(Pd(a))};I.fa=function(){return this.f.fa()};la(I,function(){return new Od(this)});
I.lc=function(){return this.f.lc(!1)};function Qd(a){this.Wb=new Od(a);aa.defineProperty(this,"size",{get:function(){return this.Wb.Lb()}})}Qd[t].add=function(a){this.Wb.add(a)};Qd[t].add=Qd[t].add;ta(Qd[t],function(){this.Wb[w]()});ta(Qd[t],Qd[t][w]);ra(Qd[t],function(a){return this.Wb[jb](a)});Qd[t]["delete"]=Qd[t][Za];Ca(Qd[t],function(a,b){this.Wb.fa()[F](a,b)});Qd[t].has=function(a){return this.Wb[ub](a)};Qd[t].has=Qd[t].has;function N(a){return ca.Set&&ca.Set[t][eb]&&ca.Set[t][F]?Mb(a)?new ca.Set(a):new ca.Set:new Qd(a)}
function Rd(a){if(a instanceof Qd)return a.Wb.fa();var b=0,c=e(a[G]);a[F](function(a){c[b++]=a});return c}function Sd(a,b){if(b[G]>a[G])return!1;var c=!0;b[F](function(b){c=c&&a.has(b)});return c};function Td(a,b){this.na=a;this.o=b||{}}function Ud(a){var b=N();a[F](function(a){b.add(a>>9)});return Rd(b)}Td[t].Y=H("na");function Vd(a,b){b[F](function(a){this.o[a.id()]=a.Ha()},a)}function Wd(a,b){b[F](function(a){delete this.o[a]},a)}Td[t].Ha=function(){return{id:this.na,value:ga[zb](this.o)}};function Xd(a){return new Td(a.id,ga.parse(a[v]))};function Yd(a,b,c){this.X=a;this.Kb=b;this.ff=c}I=Yd[t];I.get=function(a){if(0==a[C])return this.wc();var b=this.Kb;return Zd(this,a)[z](function(c){return a.map(function(a){var f=c.get(a>>9);return b(f.o[a])})})};function Zd(a,b){var c=M(),d=Qc(),f=Ud(b).map(function(a){return new L(function(b,d){var f;try{f=this.X.get(a)}catch(O){d(O);return}ya(f,d);sa(f,function(a){a=Xd(a[Na][Hb]);c.set(a.Y(),a);b()})},this)},a);Pc(f)[z](function(){d[Gb](c)});return d.ia}
I.wc=function(){return new L(function(a,b){var c=[],d;try{d=this.X[Ea]()}catch(f){b(f);return}ya(d,b);sa(d,function(){var b=d[Hb];if(b){var f;f=Xd(b[v]).o;for(var q in f)c[x](this.Kb(f[q]));b[hb]()}else a(c)}[E](this))},this)};I.Sb=function(a){return new L(function(b,c){var d;try{d=a()}catch(f){c(f);return}sa(d,b);ya(d,c)},this)};
I.put=function(a){if(0==a[C])return Lc();var b=M();a[F](function(a){var d;d=a.id()>>9;var f=b.get(d)||null;null===f&&(f=this.ff(this.X[p],d));Vd(f,[a]);b.set(d,f)},this);a=xd(b).map(function(a){return this.Sb(function(){return this.X.put(a.Ha())}[E](this))},this);return Pc(a)};
va(I,function(a){if(0==a[C])return this.Sb(function(){return this.X[w]()}[E](this));var b=M();a[F](function(a){var d=a>>9,f=b.get(d)||null;null===f&&(f=this.ff(this.X[p],d));Wd(f,[a]);b.set(d,f)},this);a=xd(b).map(function(a){return this.Sb(function(){return 0==aa[mb](a.o)[C]?this.X[Za](a.Y()):this.X.put(a.Ha())}[E](this))},this);return Pc(a)});function $d(a,b,c){a=a.m(Hd);var d=[c<<9,(c+1<<9)-1];b=a.eb(b,d[0],d[1]);c=new Td(c);Vd(c,b);return c}function ae(a,b){return new Td(b)};function be(){};function ce(a){this.ja=a.m(Hd);this.F=a.m(Id);this.s=a.m(Md)}qa(ce[t],function(a){a[F](function(a){de(this,a);ee(this,a)},this)});function ee(a,b){var c=b[u]();b.Ba[F](function(a,b){this.ja[jb](c,b)},a);b.Aa[F](function(a){this.ja.set(c,a)},a);b.pa[F](function(a){this.ja.set(c,a[1])},a)}function de(a,b){var c=a.s[k](b[u]());fe(b)[F](function(a){ge(this,c,a)},a)}
function ge(a,b,c){var d=[];(a.F.Oc.get(b[u]())||[])[F](function(a){try{he(a,c),d[x](a)}catch(b){throw d[F](function(a){he(a,[c[1],c[0]])},this),b;}},a)}function he(a,b){var c=null===b[1]?void 0:b[1].Pb(a[u]()),d=null===b[0]?void 0:b[0].Pb(a[u]());if(!Mb(d)&&Mb(c))a.add(c,b[1].id());else if(Mb(d)&&Mb(c)){if(null===c||null===d){if(c==d)return}else if(0==a.pc()[Bb](d,c))return;a.add(c,b[1].id());a[jb](d,b[0].id())}else Mb(d)&&!Mb(c)&&a[jb](d,b[0].id())};var ie={};J("lf.ConstraintAction",ie);ie.RESTRICT=0;ie.CASCADE=1;var je={};J("lf.ConstraintTiming",je);je.IMMEDIATE=0;je.DEFERRABLE=1;var ke={};J("lf.Order",ke);ke.DESC=0;ke.ASC=1;var le={};J("lf.Type",le);le.ARRAY_BUFFER=0;le.BOOLEAN=1;le.DATE_TIME=2;le.INTEGER=3;le.NUMBER=4;le.STRING=5;le.OBJECT=6;var me={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};J("lf.type.DEFAULT_VALUES",me);function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ba.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][D]()[n](0,64)))}K(P,fa);function ne(a){this.F=a.m(Id);this.s=a.m(Md);this.dd=null}function oe(a,b,c){var d=b.Ab().eg;c[F](function(a){d[F](function(b){if(null==a.o[b[u]()])throw new P(202,b.l());},this)},a)}function pe(a,b,c,d){b.Ab().Md()[F](function(a){a[La]==d&&qe(this,a,c)},a)}function qe(a,b,c){var d=re(a,b);c[F](function(a){if(se(a[0],a[1],b[p])&&(a=a[1].o[b.Hb],null!==a&&!d.ka(a)))throw new P(203,b[p]);},a)}
function re(a,b){null===a.dd&&(a.dd=M());var c=a.dd.get(b[p])||null;null===c&&(c=a.s[k](b.vb)[b.Jc].va(),c=a.F.get(c.l()),a.dd.set(b[p],c));return c}function se(a,b,c){return(null===a?null!==b:null===b)||a.Pb(c)!=b.Pb(c)}function te(a,b,c,d){b=ue(a.s[Ab](),b[u]());null!=b&&b[F](function(a){if(a[La]==d){var b=this.F.get(a[p]),l=re(this,a);c[F](function(c){if(se(c[0],c[1],l[u]())&&b.ka(c[0].o[a.Jc]))throw new P(203,a[p]);},this)}},a)}
function ve(a,b,c,d){0!=c[C]&&(c=c.map(function(a){return[null,a]}),pe(a,b,c,d))}function we(a,b,c,d){0!=c[C]&&(pe(a,b,c,d),te(a,b,c,d))}function xe(a,b,c,d){0!=c[C]&&(c=c.map(function(a){return[a,null]}),te(a,b,c,d))};function ye(a){this.Aa=M();this.pa=M();this.Ba=M();this.u=a}I=ye[t];na(I,H("u"));I.add=function(a){if(this.Ba.has(a.id())){var b=[this.Ba.get(a.id()),a];this.pa.set(a.id(),b);this.Ba[Za](a.id())}else this.Aa.set(a.id(),a)};I.modify=function(a){var b=a[1],c=a[0].id();this.Aa.has(c)?this.Aa.set(c,b):(this.pa.has(c)&&(a=[this.pa.get(a[0].id())[0],b]),this.pa.set(c,a))};
ra(I,function(a){if(this.Aa.has(a.id()))this.Aa[Za](a.id());else if(this.pa.has(a.id())){var b=this.pa.get(a.id())[0];this.pa[Za](a.id());this.Ba.set(a.id(),b)}else this.Ba.set(a.id(),a)});function fe(a){var b=[];a.Aa[F](function(a){b[x]([null,a])});a.pa[F](function(a){b[x](a)});a.Ba[F](function(a){b[x]([a,null])});return b}g(I,function(){return"["+wd(this.Aa)[D]()+"], ["+wd(this.pa)[D]()+"], ["+wd(this.Ba)[D]()+"]"});
function ze(a){var b=new ye(a.u);a.Aa[F](function(a){b[Za](a)});a.Ba[F](function(a){b.add(a)});a.pa[F](function(a){b.modify([a[1],a[0]])});return b}I.hc=function(){return 0==this.Aa[G]&&0==this.Ba[G]&&0==this.pa[G]};function Ae(a,b){this.sa=M();b[F](function(a){this.sa.set(a[u](),a)},this);this.ja=a.m(Hd);this.F=a.m(Id);this.Ma=new ne(a);this.nd=new ce(a);this.ob=M()}function Ed(a){var b=[];wd(a.ob).map(function(a){return this.sa.get(a)},a)[F](function(a){a.Cb()&&(a.Ca()[F](function(a){b[x](this.F.get(a.l()))},this),b[x](this.F.get(a[u]()+".#")))},a);return b}I=Ae[t];I.ca=H("sa");function Be(a){var b=[];a.sa[F](function(a){a.Cb()&&(a.Ca()[F](function(a){b[x](a.l())}),b[x](a[u]()+".#"))});return b}
I.tb=function(a,b){Ce(this,a);oe(this.Ma,a,b);ve(this.Ma,a,b,0);for(var c=0;c<b[C];c++)De(this,a,[null,b[c]])};function De(a,b,c){var d=b[u](),f=a.ob.get(d)||new ye(d);a.ob.set(d,f);try{ge(a.nd,b,c)}catch(h){throw h;}b=c[0];var l=c[1];null===b&&null!==l?(a.ja.set(d,l),f.add(l)):null!==b&&null!==l?(a.ja.set(d,l),f.modify(c)):null!==b&&null===l&&(a.ja[jb](d,b.id()),f[Za](b))}
qa(I,function(a,b){Ce(this,a);oe(this.Ma,a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.ja.get(d.id()),d];we(this.Ma,a,[d],0);De(this,a,d)}});I.Pd=function(a,b){Ce(this,a);oe(this.Ma,a,b);for(var c=0;c<b[C];c++){var d=b[c],f=null,h,l=a.Ab().hd();if(null===l)h=null;else{h=this.Ma;var l=l.l(),q=d.Pb(l);h=h.F.get(l).get(q);h=0==h[C]?null:h[0]}null!=h?(f=this.ja.get(h),d.na=h,we(this.Ma,a,[[f,d]],0)):ve(this.Ma,a,[d],0);De(this,a,[f,d])}};
va(I,function(a,b){Ce(this,a);xe(this.Ma,a,b,0);for(var c=0;c<b[C];c++)De(this,a,[b[c],null])});function Ad(a){a.ob[F](function(a){var c=this.sa.get(a[u]());ve(this.Ma,c,xd(a.Aa),1);xe(this.Ma,c,xd(a.Ba),1);we(this.Ma,c,xd(a.pa),1)},a)}I.ma=Ib();I.Db=function(){var a=xd(this.ob).map(function(a){return ze(a)});this.nd[Wa](a)};function Ce(a,b){if(!a.sa.has(b[u]()))throw new P(106,b[u]());};function Ee(a,b,c,d){this.c=a;this.w=b;this.aa=null===this.c?!1:c;this.la=null===this.w?!1:d}g(Ee[t],function(){return(this.aa?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.w?"unbound":this.w)+(this.la?")":"]")});function Fe(a){if(null===a.c&&null===a.w)return[];var b=null,c=null;null===a.c||(b=new Ee(null,a.c,!1,!a.aa));null===a.w||(c=new Ee(a.w,null,!a.la,!1));return[b,c][Fa](function(a){return null!==a})}Ee[t].reverse=function(){return new Ee(this.w,this.c,this.la,this.aa)};
function Ge(a,b){var c=He(a.c,b.c,!0,a.aa,b.aa);if(0==c)return!0;var d=-1==c?a:b,c=1==c?a:b;return null===d.w||d.w>c.c||d.w==c.c&&!d.la&&!c.aa}function Ie(){return new Ee(null,null,!1,!1)}function Je(a){return null===a.c&&null===a.w}function Ke(a){return null!=a.c&&a.c==a.w&&!a.aa&&!a.la}Ee[t].contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.la;return(null===this.c||a>this.c||a==this.c&&!this.aa)&&b};
function He(a,b,c,d,f){function h(a){return c?a:1==a?-1:1}d=d||!1;f=f||!1;return null===a?null===b?(d?!f:f)?d?h(1):h(-1):0:h(-1):null===b?h(1):a<b?-1:a==b?(d?!f:f)?d?h(1):h(-1):0:1}function Le(a,b){var c=He(a.c,b.c,!0,a.aa,b.aa);0==c&&(c=He(a.w,b.w,!1,a.la,b.la));return c};function Me(a,b){this.entries=a;this.J=N(b);this.Xa=null}function Q(a){return Rd(a.J)}function Ne(a){return a[B].map(function(a){return a.ua.o})}function Oe(a){return a[B].map(function(a){return a.ua.id()})}function Pe(a,b){return a.Xa.get(b.l())}var Qe=null;function Re(){null===Qe&&(Qe=new Me([],[]));return Qe}
function Se(a){if(0==a[C])return Re();for(var b=a[Ja](function(a,b){return a+b[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=M();a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),f=M(),h=0;h<c[C];h++)b[Va](function(a){return a.has(c[h].id)})&&f.set(c[h].id,c[h]);return new Me(xd(f),Rd(a[0].J))}function Te(a){if(0==a[C])return Re();var b=M();a[F](function(a){a[B][F](function(a){b.set(a.id,a)})});return new Me(xd(b),Rd(a[0].J))}
function Ue(a,b){var c=1<b[C],d=a.map(function(a){return new Ve(a,c)});return new Me(d,b)}function Ve(a,b){this.ua=a;this.id=We++;this.Sd=b}var We=0;function Xe(a,b){var c=b.Ya();return null!==c&&a.ua.o[tb](c)?a.ua.o[c]:a.Sd?a.ua.o[Ye(b.I())][b[u]()]:a.ua.o[b[u]()]}function Ze(a,b,c){var d=b.Ya();if(null!=d)a.ua.o[d]=c;else if(a.Sd){var d=Ye(b.I()),f=a.ua.o[d];null==f&&(f={},a.ua.o[d]=f);f[b[u]()]=c}else a.ua.o[b[u]()]=c}
function $e(a,b,c,d){function f(a,b){if(a.Sd){var c=a.ua.o,d;for(d in c)h[d]=c[d]}else h[b[0]]=a.ua.o}var h={};f(a,b);f(c,d);a=new bd(-1,h);return new Ve(a,!0)};J("lf.bind",function(a){return new af(a)});function af(a){this.da=a}J("lf.Binder",af);af[t].va=H("da");function bf(){this.Oe=cf();var a=df();this.fc=M();this.fc.set(1,ef());this.fc.set(2,ff());this.fc.set(4,a);this.fc.set(3,a);this.fc.set(5,gf())}bf.fd=function(){return bf.Ke?bf.Ke:bf.Ke=new bf};function hf(a,b,c){return(a.fc.get(b)||null).get(c)||null}function cf(){function a(a){return a}var b=M();b.set(1,function(a){return null===a?null:a?1:0});b.set(2,function(a){return null===a?null:a[Fb]()});b.set(3,a);b.set(4,a);b.set(5,a);return b}
function ef(){var a=M();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function df(){var a=ef();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return null===a||null===c?!1:a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c[ab](a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}
function gf(){var a=df();a.set("match",function(a,c){return null===a||null===c?!1:(new RegExp(c)).test(a)});return a}
function ff(){var a=M();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a[Fb]()>=c[0][Fb]()&&a[Fb]()<=c[1][Fb]()});a.set("eq",function(a,c){return(null===a?-1:a[Fb]())==(null===c?-1:c[Fb]())});a.set("gte",function(a,c){return null===a||null===c?!1:a[Fb]()>=c[Fb]()});a.set("gt",function(a,c){return null===a||null===c?!1:a[Fb]()>c[Fb]()});a.set("in",function(a,c){return c[bb](function(c){return c[Fb]()==a[Fb]()})});a.set("lte",function(a,c){return null===a||null===c?!1:a[Fb]()<=
c[Fb]()});a.set("lt",function(a,c){return null===a||null===c?!1:a[Fb]()<c[Fb]()});a.set("neq",function(a,c){return(null===a?-1:a[Fb]())!=(null===c?-1:c[Fb]())});return a};function jf(a,b){this.Qe=a;this.rf=b}jf[t].getKey=H("Qe");la(jf[t],function(){return new jf(this.Qe,this.rf)});function kf(a,b){jf[r](this,a,b);this.h=this.C=null}K(kf,jf);var mf=[];I=kf[t];la(I,function(){return new kf(this.getKey(),this.rf)});I.getParent=H("C");function R(a){return a.h||mf}function nf(a,b){return R(a)[b]||null}function of(a){for(var b=0;a[Cb]();)b++,a=a[Cb]();return b}I.fb=function(){for(var a=this;a[Cb]();)a=a[Cb]();return a};I.contains=function(a){do a=a[Cb]();while(a&&a!=this);return Boolean(a)};function pf(a,b,c){if(!1!==b[r](c,a)){a=R(a);for(var d=0;d<a[C];d++)pf(a[d],b,c)}}
function qf(a,b){rf(a,b,a.h?a.h[C]:0)}function rf(a,b,c){b.C=a;a.h=a.h||[];nc(a.h,c,0,b)}function sf(a,b,c){var d=R(a);d[c].C=null;d[c]=b;b.C=a}function tf(a,b){var c=a.h&&a.h[b];return c?(c.C=null,jc(a.h,b),0==a.h[C]&&(a.h=null),c):null}I.removeChild=function(a){return tf(this,ec(R(this),a))};function uf(){kf[r](this,"","");this.na=vf++}K(uf,kf);var vf=0;uf[t].Y=H("na");function wf(a,b,c){uf[r](this);this.K=a;pa(this,b);this.L=c;this.cd=hf(bf.fd(),this.K.S(),this.L);this.Za=!1;this.ac=b}K(wf,uf);I=wf[t];I.Ib=function(){var a=new wf(this.K,this[v],this.L);a.ac=this.ac;a.wd(this.Za);var b=this.Y();a.na=b;return a};I.cb=function(a){return null!=a?(a[x](this.K),a):[this.K]};I.wd=Jb("Za");function xf(a){var b=!1;a[v]instanceof af||(b="array"==Ob(a[v])?!a[v][bb](function(a){return a instanceof af}):!0);if(!b)throw new P(501);}
I.eval=function(a){xf(this);if("in"==this.L)return yf(this,a);var b=a[B][Fa](function(a){return this.cd(Xe(a,this.K),this[v])!=this.Za},this);return new Me(b,Q(a))};Aa(I,function(a){if(this.ac instanceof af){var b=this.ac.va();if(a[C]<=b)throw new P(510);pa(this,a[b])}else"array"==Ob(this.ac)&&pa(this,this.ac.map(function(b){if(b instanceof af){var d=b.va();if(a[C]<=d)throw new P(510);return a[b.va()]}return b}))});
function yf(a,b){var c=N(a[v]),d=function(a){return null===a?!1:c.has(a)!=this.Za}[E](a),f=b[B][Fa](function(a){return d(Xe(a,this.K))},a);return new Me(f,Q(b))}g(I,function(){return"value_pred("+this.K.l()+" "+this.L+(this.Za?"(complement)":"")+" "+this[v]+")"});function zf(a){this.ea=a;this.$c=this.ya=null}function Af(a,b){null===a.ya&&null!=a.B&&(a.ya=Bf(a.B));return a.ya.get(b)||null}function Bf(a){var b=M();pf(a,function(a){b.set(a.Y(),a)});return b}function Cf(a,b){b.B&&(a.B=b.B.Ib());a.$c=b}Aa(zf[t],function(){return this});function Df(a,b){var c=a.B;null!=c&&pf(c,function(a){a instanceof wf&&a[E](b)})};function Ef(a){zf[r](this,a)}K(Ef,zf);function Ff(a){var b="";a[F](function(c,d){b+=c.K.l()+" ";b+=1==c.ib?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}Ef[t].ca=function(){return N(this.c)};la(Ef[t],function(){var a=new Ef(this.ea);Cf(a,this);this.g&&(a.g=this.g[n]());this.c&&(a.c=this.c[n]());a.W=this.W;a.N=this.N;this.M&&(a.M=this.M[n]());this.ga&&(a.ga=this.ga[n]());this.Qb&&(a.Qb=this.Qb);this.Yb&&(a.Yb=this.Yb);a.ub=this.ub;return a});
Aa(Ef[t],function(a){Ef.Fb[E][r](this,a);null!=this.Qb&&(this.W=a[this.Qb.va()]);null!=this.Yb&&(this.N=a[this.Yb.va()]);Df(this,a);return this});function Gf(a,b){this.za=a;this.sa=b}Gf[t].fb=H("za");Gf[t].ca=H("sa");function Hf(a){var b=N();a[F](function(a){a.ca()[F](b.add[E](b))});return b};function If(a,b){this.global=a;this.xb=a.m(Gd);this.td=b.map(function(a){return a[pb]});this.Ze=b.map(function(a){return a.ce});this.Ae=Hf(this.Ze);this.pf=Jf(this);this.Ub=Qc()}function Jf(a){return a.td[bb](function(a){return!(a instanceof Ef)})?1:0}I=If[t];
ma(I,function(){function a(){var h=d[sb]();if(h){var l=f[c[C]];return h.fb()[Pa](b,l)[z](function(b){c[x](b[0]);return a()})}return Lc()}var b=new Ae(this[Xa],this.Ae),c=[],d=this.Ze[n](),f=this.td;return a()[z](function(){return this.xb.Jb(this.pf,b).ma()}[E](this))[z](function(){this.$d(c);return c}[E](this),function(a){b.Db();throw a;})});I.S=H("pf");I.ca=H("Ae");I.xc=H("Ub");I.Y=function(){return Vb(this)};I.$d=Ib();function Kf(a,b){If[r](this,a,b);this.Bb=a.m(Ld)}K(Kf,If);Da(Kf[t],Kb(0));Kf[t].$d=function(a){this.td[F](function(b,c){Lf(this.Bb,b,a[c])},this)};function Mf(a,b){this.j=a;this.Bb=a.m(Ld);this.Ra=a.m(Kd);this.nd=new ce(a);this.ob=b;var c=a.m(Md),d=this.ob.map(function(a){return c[k](a[u]())});this.sa=N(d);this.Ub=Qc()}I=Mf[t];ma(I,function(){this.nd[Wa](this.ob);this.Mc();return Lc()});I.S=Kb(1);I.ca=H("sa");I.xc=H("Ub");I.Y=function(){return Vb(this)};Da(I,Kb(1));I.Mc=function(){var a=Nf(this.Bb,this.sa);0!=a[C]&&(a=new Kf(this.j,a),Of(this.Ra,a))};function Pf(a){this.j=a;this.xb=a.m(Gd);this.Ra=a.m(Kd)}Pf[t].Yd=function(a){a=new Mf(this.j,a);Of(this.Ra,a)};function S(a,b){this.La=a;this.i=b;this.Ua=M()}J("lf.backstore.FirebaseRawBackStore",S);S[t].jd=H("i");S[t].kd=function(){throw new P(351);};function Qf(a,b){var c=Qc(),d=a;b[C]&&(d=a[kb](b));d[Ga]("value",function(a){c[Gb](a.val())},function(a){c[Ka](a)});return c.ia}function Rf(a,b,c){function d(a){a?f[Ka](a):f[Gb]()}c=c||!1;var f=Qc();c?a.set(b,d):a[Wa](b,d);return f.ia}
S[t].Da=function(a){return Qf(this.i,"@rev/R")[z](function(a){this.Ja=a;return Qf(this.i,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.Ua.set(d,b[d]),b[d]>c&&(c=b[d]);a.Va()[F](function(a){this.Ua.has(a[u]())||(b[a[u]()]=++c)},this);d=this.i[kb]("@table");return Rf(d,b)}[E](this))};
function Sf(a,b,c){var d=a.Ua.get(b);return null!=d?function(){var a={},b=Qc();this.i[db]("T").equalTo(d)[Ga]("value",function(d){d[F](function(b){var d=c(b.val());a[da(b.key(),10)]=d});b[Gb](a)});return b.ia}[r](a)[z](function(a){a["@rev"]={R:++this.Ja};return Rf(this.i,a)}[E](a)):Lc()}S[t].rc=function(a){return Sf(this,a,Kb(null))[z](function(){this.Ua[Za](a);return Rf(this.i[kb]("@table/"+a),null,!0)}[E](this))};S[t].dropTable=S[t].rc;
S[t].mc=function(a,b,c){return Sf(this,a,function(a){var f=a.P;f[b]=c;return{R:this.Ja+1,T:a.T,P:f}}[E](this))};S[t].addTableColumn=S[t].mc;S[t].sc=function(a,b){return Sf(this,a,function(a){var d=a.P;delete d[b];return{R:this.Ja+1,T:a.T,P:d}}[E](this))};S[t].dropTableColumn=S[t].sc;S[t].Lc=function(a,b,c){return Sf(this,a,function(a){var f=a.P;f[c]=f[b];delete f[b];return{R:this.Ja+1,T:a.T,P:f}}[E](this))};S[t].renameTableColumn=S[t].Lc;S[t].yb=function(){throw new P(351);};S[t].createRow=S[t].yb;
S[t].Ac=H("La");S[t].getVersion=S[t].Ac;S[t].dc=function(a){var b=Qc();a=this.Ua.get(a);this.i[db]("T").equalTo(a)[Ga]("value",function(a){var d=[];a[F](function(a){d[x](a.val().P)});b[Gb](d)});return b.ia};ka(S[t],function(){var a={},b=wd(this.Ua).map(function(b){return this.dc(b)[z](function(d){a[b]=d})}[E](this));return Pc(b)[z](function(){return a})});ka(S[t],S[t].dump);function Tf(a,b,c){zd[r](this,c,b);this.i=a}K(Tf,zd);Tf[t].I=function(a){return this.i.yc(a)};
Tf[t].oc=function(){var a=this.Pa.ob;if(0==a[G])this.Z[Gb]();else{var b=this.i.Ja+1;this.i.Ja=b;var c={"@rev":{R:b}};a[F](function(a,f){var h=this.i.Ua.get(f);a.Aa[F](function(a,d){c[d]={R:b,T:h,P:a.o}});a.pa[F](function(a,d){c[d]={R:b,T:h,P:a[1].o}});a.Ba[F](function(a,b){c[b]=null})},this);this.i.i[Wa](c,function(c){if(null===c)this.Z[Gb]();else this.i.Ja=b-1,c=xd(a).map(function(a){return Uf(this.i,a[u]())},this),Pc(c)[z](this.Z[Ka][E](this.Z),this.Z[Ka][E](this.Z))}[E](this))}return this.Z.ia};function Vf(){this.qb=M()}function Wf(a,b){if(0==b[C])return xd(a.qb);var c=[];b[F](function(a){a=this.qb.get(a)||null;null===a||c[x](a)},a);return c}Vf[t].getData=H("qb");Vf[t].get=function(a){return Lc(Wf(this,a))};function Xf(a,b){b[F](function(a){this.qb.set(a.id(),a)},a)}Vf[t].put=function(a){Xf(this,a);return Lc()};function Yf(a,b){0==b[C]||b[C]==a.qb[G]?a.qb[w]():b[F](function(a){this.qb[Za](a)},a)}va(Vf[t],function(a){Yf(this,a);return Lc()});
function Zf(a){return 0==a.qb[G]?0:wd(a.qb)[Ja](function(a,c){return a>c?a:c},0)};function $f(a,b){this.s=a;this.wf=b;this.Kc=M();this.Ja=-1;this.J=M();this.Ua=M();this.Ed=null}I=$f[t];
I.Da=function(a){this.i=this.wf[kb](this.s[p]());var b=a||function(){return Lc()};return Qf(this.i,"@db/version")[z](function(a){return null===a?Rf(this.i,ag(this),!0)[z](function(){var a=new S(0,this.i);return b(a)}[E](this)):a==this.s[vb]()?Qf(this.i,"@rev/R")[z](function(a){this.Ja=a;return Qf(this.i,"@table")}[E](this))[z](function(a){for(var b in a)this.Ua.set(b,a[b]);a=this.s.Va().map(function(a){return Uf(this,a[u]())},this);return Pc(a)}[E](this))[z](function(){bg(this);cg(this);return Lc()}[E](this)):
this.ae(a,b)[z](function(){return this.Da()}[E](this))}[E](this))};I.ae=function(a,b){var c=new S(a,this.i);return c.Da(this.s)[z](function(){return Lc()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.i[kb]("@db");return Rf(a,{version:this.s[vb]()},!0)}[E](this))};function cg(a){a.i.off();a.i.on("child_removed",a.gg[E](a));a.Fd&&(a.Fd.off(),a.Kc[w]());a.Fd=a.i[db]("R").startAt(a.Ja+1);a.Fd.on("value",a.Yd[E](a))}
function bg(a){cd=xd(a.J).map(function(a){return Zf(a)})[Ja](function(a,c){return a>c?a:c},0)+1}I.gg=function(a){var b=a.val(),c=this.Kc.get(b.T)||null;null===c&&(c=N(),this.Kc.set(b.T,c));c.add(da(a.key(),10))};I.Yd=function(a){var b=a[kb]("@rev/R").val();null!=b&&b!=this.Ja&&(this.Ja=b,a=dg(this,a),a[F](function(a){var b=this.J.get(a[u]()),f=wd(a.Ba);0<f[C]&&Yf(b,f);var h=xd(a.Aa);a.pa[F](function(a){h[x](a[1])});Xf(b,h)},this),0<a[C]&&this.Fc(a),cg(this))};
function dg(a,b){var c=N(),d=M();a.Ua[F](function(a,b){var l=this.J.get(b),q=new ye(b);if(this.Kc.has(a)){var y=Rd(this.Kc.get(a));y[F](function(a){c.add(a)});Wf(l,y)[F](function(a){q[Za](a)})}d.set(a,q)}[E](a));b[F](function(a){if("@rev"!=a.key()){var b=da(a.key(),10);if(!c.has(b)){a=a.val();var l=d.get(a.T),q=this.J.get(l[u]());q.getData().has(b)?l.modify([Wf(q,[b])[0],new bd(b,a.P)]):l.add(new bd(b,a.P))}}}[E](a));return xd(d)[Fa](function(a){return!a.hc()})}
function Uf(a,b){var c=Qc(),d=a.Ua.get(b);a.i[db]("T").equalTo(d)[Ga]("value",function(a){var d=new Vf,l=[];a[F](function(a){l[x](new bd(da(a.key(),10),a.val().P))});Xf(d,l);this.J.set(b,d);c[Gb]()}[E](a));return c.ia}function ag(a){var b={};b["@db"]={version:a.s[vb]()};b["@rev"]={R:1};a.Ja=1;b["@table"]={};a.s.Va()[F](function(a,d){var f=a[u]();b["@table"][f]=d;this.J.set(f,new Vf);this.Ua.set(f,d)},a);return b}I.Jb=function(a,b){return new Tf(this,a,b)};
I.yc=function(a){var b=this.J.get(a)||null;if(null!==b)return b;throw new P(101,a);};oa(I,Ib());Ba(I,Jb("Ed"));I.Fc=function(a){null!=this.Ed&&this.Ed(a)};function T(a,b,c,d){this.i=b;this.Ka=c;this.La=a;this.Xc=d}J("lf.backstore.IndexedDBRawBackStore",T);T[t].jd=H("i");T[t].getRawDBInstance=T[t].jd;T[t].kd=H("Ka");T[t].getRawTransaction=T[t].kd;T[t].rc=function(a){return new L(function(b,c){try{this.i.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};T[t].dropTable=T[t].rc;
function eg(a,b,c,d){return new L(function(a,h){var l;try{var q=this.Ka[wb](b);l=q[Ea]()}catch(y){h(y);return}sa(l,function(){var b=l[Hb];b?(c(b),b[hb]()):(d(q),a())});ya(l,h)},a)}function fg(a){var b=null;return b=a instanceof ArrayBuffer?fd(a):a instanceof Date?a[Fb]():a}function gg(a,b,c){function d(a){var b=Xd(a[v]),d=b.o,f;for(f in d){var O=dd(d[f]);c(O);d[f]=O.Ha()}a[Wa](b.Ha())}function f(a){var b=dd(a[v]);c(b);a[Wa](b.Ha())}return eg(a,b,a.Xc?d:f,Ib())}
T[t].mc=function(a,b,c){var d=fg(c);return gg(this,a,function(a){a.o[b]=d})};T[t].addTableColumn=T[t].mc;T[t].sc=function(a,b){return gg(this,a,function(a){delete a.o[b]})};T[t].dropTableColumn=T[t].sc;T[t].Lc=function(a,b,c){return gg(this,a,function(a){a.o[c]=a.o[b];delete a.o[b]})};T[t].renameTableColumn=T[t].Lc;
function hg(a,b){var c=[];return new L(function(a,f){var h;try{h=this.Ka[wb](b)[Ea]()}catch(l){f(l);return}sa(h,function(){var b=h[Hb];if(b){if(this.Xc){var f;f=Xd(b[v]).o;for(var l in f)c[x](f[l])}else c[x](b[v]);b[hb]()}else a(c)}[E](this));ya(h,f)},a)}T[t].yb=function(a){var b={},c;for(c in a)b[c]=fg(a[c]);return ed(b)};T[t].createRow=T[t].yb;T[t].Ac=H("La");T[t].getVersion=T[t].Ac;
ka(T[t],function(){for(var a=this.i[Ha],b=[],c=0;c<a[C];++c){var d=a[Ma](c);b[x](this.dc(d))}return Pc(b)[z](function(b){var c={};b[F](function(b,d){c[a[Ma](d)]=b});return c})});ka(T[t],T[t].dump);T[t].dc=function(a){return hg(this,a)[z](function(a){return a.map(function(a){return a[v]})})};function ig(a,b){this.X=a;this.Kb=b}I=ig[t];I.get=function(a){if(0==a[C])return this.wc();a=a.map(function(a){return new L(function(c,d){var f;try{f=this.X.get(a)}catch(h){d(h);return}ya(f,d);sa(f,function(a){c(this.Kb(a[Na][Hb]))}[E](this))},this)},this);return Pc(a)};I.wc=function(){return new L(function(a,b){var c=[],d;try{d=this.X[Ea]()}catch(f){b(f);return}ya(d,b);sa(d,function(){var b=d[Hb];b?(c[x](this.Kb(b[v])),b[hb]()):a(c)}[E](this))},this)};
I.Sb=function(a){return new L(function(b,c){var d;try{d=a()}catch(f){c(f);return}sa(d,b);ya(d,c)},this)};I.put=function(a){if(0==a[C])return Lc();a=a.map(function(a){return this.Sb(function(){return this.X.put(a.Ha())}[E](this))},this);return Pc(a)};
va(I,function(a){return new L(function(b,c){var d=this.X[cb]();sa(d,function(d){if(0==a[C]||d[Na][Hb]==a[C])return this.Sb(function(){return this.X[w]()}[E](this))[z](b,c);d=a.map(function(a){return this.Sb(function(){return this.X[Za](a)}[E](this))},this);Pc(d)[z](b,c)}[E](this));ya(d,c)},this)});function jg(a,b,c,d,f){zd[r](this,c,d);this.j=a;this.Ka=b;this.Xc=f;this.Ka.oncomplete=this.Z[Gb][E](this.Z);this.Ka.onabort=this.Z[Ka][E](this.Z)}K(jg,zd);jg[t].I=function(a,b,c){return this.Xc?(c=null!=c?c:0,a=this.Ka[wb](a),new Yd(a,b,0==c?ac($d,this.j):ae)):new ig(this.Ka[wb](a),b)};jg[t].oc=function(){return this.Z.ia};function kg(a,b){this.j=a;this.s=b;this.Yc=b.$e().If||!1}I=kg[t];I.Da=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Lc()};return new L(function(a,f){var h;try{h=b.open(this.s[p](),this.s[vb]())}catch(l){f(l);return}ya(h,f);h.onupgradeneeded=function(a){lg(this,c,a)[z](Ib(),f)}[E](this);sa(h,function(b){this.i=b[Na][Hb];this.he()[z](function(b){cd=b+1;a(this.i)}[E](this))}[E](this))},this)};
function lg(a,b,c){var d=c[Na][Hb],f=c[Na][nb];c=new T(c.oldVersion,d,f,a.Yc);mg(d);a.s.Va()[F](ac(a.Df,d,f),a);return b(c)}function mg(a){for(var b=[],c=0;c<a[Ha][C];++c){var d=a[Ha][Ma](c);-1!=d[ab](".")&&b[x](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})}I.Df=function(a,b,c){a[Ha][ub](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Cb()&&(c.Ca()[F](function(c){this.qc(a,b,c.l(),"btree")},this),this.qc(a,b,c.u+".#","rowid"))};
I.qc=function(a,b,c,d){a[Ha][ub](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[wb](c),(this.Yc?new Yd(a,dd,ae):new ig(a,dd)).put([new hd(new gd(d))]))};I.Jb=function(a,b){var c=wd(b.ca());Be(b)[F](function(a){c[x](a)});var d=this.i[nb](c,0==a?"readonly":"readwrite");return new jg(this.j,d,b,a,this.Yc)};
I.he=function(a){function b(){if(0==d[C])return Lc();var a=d[sb]();return c(a)[z](b)}function c(b){return new L(function(c,d){var Ta;try{Ta=(a||f[nb]([b]))[wb](b)[Ea](null,"prev")}catch(Ua){d(Ua);return}sa(Ta,function(a){(a=a[Na][Hb])&&(h=ba.max(h,l(a)));c(h)});ya(Ta,function(){c(h)})})}var d=this.s.Va().map(function(a){return a[u]()}),f=this.i,h=0,l=function(a){return this.Yc?(a=Xd(a[v]),aa[mb](a.o)[Ja](function(a,b){return ba.max(a,b)},0)):a.key}[E](this);return new L(function(a){b()[z](function(){a(h)})})};
oa(I,function(){this.i[Qa]()});I.yc=function(){throw new P(511);};Ba(I,Ib());I.Fc=Ib();function ng(a,b,c){zd[r](this,c,b);this.X=a;0==b&&this.Z[Gb]()}K(ng,zd);ng[t].I=function(a){return this.X.yc(a)};ng[t].oc=function(){this.Z[Gb]();return this.Z.ia};function og(a){this.s=a;this.J=M()}I=og[t];I.Da=function(){this.s.Va()[F](this.Tf,this);return Lc()};I.yc=function(a){var b=this.J.get(a)||null;if(null===b)throw new P(101,a);return b};I.Jb=function(a,b){return new ng(this,a,b)};function pg(a,b){if(!a.J.has(b)){var c=new Vf;a.J.set(b,c);return c}return null}I.Tf=function(a){pg(this,a[u]());a.Cb()&&(a.Ca()[F](function(a){this.qc(a.l(),"btree")},this),this.qc(a.u+".#","rowid"))};I.qc=function(a,b){var c=pg(this,a);null===c||c.put([new hd(new gd(b))])};
oa(I,Ib());Ba(I,Ib());I.Fc=Ib();function qg(a){og[r](this,a);this.pd=null}K(qg,og);Ba(qg[t],function(a){null===this.pd&&(this.pd=a)});qg[t].Fc=function(a){null===this.pd||this.pd(a)};function rg(a,b,c){this.Ka=a;this.u=b;this.Kb=c}rg[t].get=function(a){var b=this.Kb;sg(this.Ka,"SELECT id, value FROM "+this.u+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Db][C],f=e(d),h=0;h<d;++h)f[h]=b({id:a[Db][Ma](h).id,value:ga.parse(a[Db][Ma](h)[v])});return f});return this.Ka.ma()};rg[t].put=function(a){if(0==a[C])return Lc();var b="INSERT OR REPLACE INTO "+this.u+"(id, value) VALUES (?, ?)";a[F](function(a){sg(this.Ka,b,[a.id(),ga[zb](a.o)])},this);return Lc()};
va(rg[t],function(a){sg(this.Ka,"DELETE FROM "+this.u+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Lc()});function tg(a,b,c){zd[r](this,b,c);this.i=a;this.J=M();this.Hd=[]}K(tg,zd);tg[t].I=function(a,b){var c=this.J.get(a)||null;null===c&&(c=new rg(this,a,b),this.J.set(a,c));return c};function sg(a,b,c,d){a.Hd[x]({tg:b,jg:c,transform:d})}
tg[t].oc=function(){var a,b,c=this.Z[Ka][E](this.Z),d=function(a,b){this.Z[Ka](b)}[E](this),f=function(c,l){a=l;if(this.Hd[C]){var q=this.Hd[sb]();b=q.transform;c.executeSql(q.tg,q.jg,f,d)}else q=a,null!=b&&null!=a&&(q=b(a)),this.Z[Gb](q)}[E](this);0==this.of?this.i.readTransaction(f,c):this.i[nb](f,c);return this.Z.ia};function U(a,b,c){this.i=c;this.j=a;this.La=b}J("lf.backstore.WebSqlRawBackStore",U);U[t].jd=H("i");U[t].getRawDBInstance=U[t].jd;U[t].kd=function(){throw new P(356);};U[t].getRawTransaction=U[t].kd;function ug(a){return new tg(a.i,new Ae(a.j,N()),1)}U[t].rc=function(a){var b=ug(this);sg(b,"DROP TABLE "+a,[]);return b.ma()};U[t].dropTable=U[t].rc;
U[t].dc=function(a){var b=ug(this);sg(b,"SELECT id, value FROM "+a,[]);return b.ma()[z](function(a){for(var b=a[Db][C],f=e(b),h=0;h<b;++h)f[h]={id:a[Db][Ma](h).id,value:ga.parse(a[Db][Ma](h)[v])};return Lc(f)})};function vg(a,b,c){var d=ug(a),f="UPDATE "+b+" SET value=? WHERE id=?";return a.dc(b)[z](function(a){a[F](function(a){a=c(a);sg(d,f,[ga[zb](a[v]),a.id])});return d.ma()})}U[t].mc=function(a,b,c){var d=fg(c);return vg(this,a,function(a){a[v][b]=d;return a})};U[t].addTableColumn=U[t].mc;
U[t].sc=function(a,b){return vg(this,a,function(a){delete a[v][b];return a})};U[t].dropTableColumn=U[t].sc;U[t].Lc=function(a,b,c){return vg(this,a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};U[t].renameTableColumn=U[t].Lc;U[t].yb=function(a){var b={},c;for(c in a)b[c]=fg(a[c]);return ed(b)};U[t].createRow=U[t].yb;U[t].Ac=H("La");U[t].getVersion=U[t].Ac;
function wg(a){sg(a,'SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Db][C]),d=0;d<c[C];++d)c[d]=a[Db][Ma](d).tbl_name;return c})}ka(U[t],function(){var a=Qc(),b=ug(this);wg(b);var c={};b.ma()[z](function(b){b=b[Fa](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.dc(a)[z](function(b){c[a]=b})},this);Pc(b)[z](function(){a[Gb](c)})}[E](this));return a.ia});ka(U[t],U[t].dump);function xg(a,b,c){this.j=a;this.s=b;this.sg=c||4194304}function yg(a){return new Ae(a.j,N())}I=xg[t];I.Da=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Lc()};return new L(function(a,d){try{var f=ca.openDatabase(this.s[p](),"",this.s[p](),this.sg);if(null!=f)this.i=f,zg(this,b)[z](a,d);else throw new P(354);}catch(h){d(h)}},this)};
function zg(a,b){var c=Qc(),d=new tg(a.i,yg(a),1);sg(d,"CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);sg(d,"SELECT v FROM __lf_ver WHERE id = 0",[]);d.ma()[z](function(a){var d=0;a[Db][C]&&(d=a[Db][Ma](0).v);d<this.s[vb]()?this.ae(b,d)[z](c[Gb][E](c)):d>this.s[vb]()?c[Ka](new P(108)):c[Gb]()}[E](a));return c.ia}I.Jb=function(a,b){if(null!=this.i)return new tg(this.i,b,a);throw new P(2);};oa(I,Ib());I.yc=function(){throw new P(512);};Ba(I,function(){throw new P(355);});
I.Fc=function(){throw new P(355);};I.ae=function(a,b){var c=Qc();Ag(this)[z](function(){a(new U(this.j,b,this.i))[z](function(){return this.he()}[E](this))[z](c[Gb][E](c))}[E](this),c[Ka][E](c));return c.ia};
function Ag(a){var b=a.s.Va(),c=new tg(a.i,yg(a),1),d=new tg(a.i,yg(a),1);sg(c,"INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[a.s[vb]()]);wg(c);return c.ma()[z](function(a){a[Fa](function(a){return-1!=a[ab](".")})[F](function(a){sg(d,"DROP TABLE "+a,[])});var c=a[Fa](function(a){return-1==a[ab](".")});b.map(function(a){return a[u]()})[Fa](function(a){return-1==c[ab](a)})[F](function(a){sg(d,"CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return d.ma()})}
I.he=function(){var a=0,b=Qc(),c=function(b){var c=new tg(this.i,yg(this),0);sg(c,"SELECT MAX(id) FROM "+b,[]);return c.ma()[z](function(b){b=b[Db][Ma](0)[0];a=ba.max(b,a)})}[E](this),d=this.s.Va().map(function(a){return c(a[u]())});Pc(d)[z](function(){b[Gb](a)},function(a){b[Ka](a)});return b.ia};function Bg(){this.f=M();this.ne=M()}function Cg(a,b){var c=a.ne.get(b);Mb(c)||(c=N(),a.ne.set(b,c));return c}I=Bg[t];I.set=function(a,b){this.f.set(b.id(),b);Cg(this,a).add(b.id())};I.ke=function(a,b){var c=Cg(this,a);b[F](function(a){this.f.set(a.id(),a);c.add(a.id())},this)};I.get=function(a){return this.f.get(a)||null};function Dg(a,b){return b.map(function(a){return this.get(a)},a)}
I.eb=function(a,b,c){var d=[],f=ba.min(b,c),h=ba.max(b,c);a=Cg(this,a);if(a[G]<h-f)a[F](function(a){a>=f&&a<=h&&(a=this.f.get(a),d[x](a))},this);else for(b=f;b<=h;++b)a.has(b)&&(c=this.f.get(b),d[x](c));return d};va(I,function(a,b){this.f[Za](b);Cg(this,a)[Za](b)});I.Lb=function(a){return null!=a?Cg(this,a)[G]:this.f[G]};ta(I,function(){this.f[w]();this.ne[w]()});function Eg(a,b,c){var d=0,f=a[C];for(c=c||Fg;d<f;){var h=d+f>>1;0>c(a[h],b)?d=h+1:f=h}return d==f&&a[d]==b?d:~d}function Fg(a,b){return a-b}function Gg(a,b,c){c=Eg(a,b,c);return 0>c?(a[A](-(c+1),0,b),!0):!1};function Hg(a,b,c,d){a=b?a[gb]():a;if(null==c&&null==d)return a;c=ba.min(Mb(c)?c:a[C],a[C]);if(0==c)return[];d=ba.min(d||0,a[C]);return a[n](d,d+c)};function Ig(){this.ta=0}Ig[t].add=function(a,b){this.ta+=b};va(Ig[t],function(a,b){this.ta-=b});ta(Ig[t],function(){this.ta=0});function Jg(a,b){a[w]();b[F](function(a){this.ta+=a.ta},a)};function Kg(a,b,c,d){this.u=a;this.U=b;this.pe=c;this.mb=new Ig;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=Lg(this,d);this.ra=d=Mg(d)}else this[w]()}var Ng=[];I=Kg[t];na(I,H("u"));g(I,function(){return this.ra[D]()});I.add=function(a,b){this.ra=this.ra.tb(a,b)};I.set=function(a,b){this.ra=this.ra.tb(a,b,!0)};va(I,function(a,b){this.ra=this.ra[jb](a,b)});I.get=function(a){return this.ra.get(a)};I.bd=function(a){if(null==a)return this.Ta().ta;if(a instanceof Ee){if(Je(a))return this.Ta().ta;if(Ke(a))return this.get(a.c)[C]}return this.eb([a])[C]};
I.Ta=H("mb");I.wc=function(a,b,c,d){c=e(a);this.ra.fill({offset:b?this.mb.ta-a-d:d,count:a,me:0},c);return b?c[gb]():c};
I.eb=function(a,b,c,d){var f=Og(this.ra).b[0];if(!Mb(f)||0==c)return Ng;b=b||!1;c=null!=c?ba.min(c,this.mb.ta):this.mb.ta;d=d||0;var h=ba.min(ba.max(this.mb.ta-d,0),c);if(0==h)return Ng;if(!Mb(a)||1==a[C]&&a[0]instanceof Ee&&Je(a[0]))return this.wc(h,b,c,d);a=this.U.kf(a);var l=e(b?this.mb.ta:h),q={count:0,W:l[C],reverse:b,N:d};a[F](function(a){for(var b=this.U.ud(a),b=this.U.Rd(a)?f:b[0],b=Pg(this.ra,b),c=q[cb],d=0;null!=b&&q[cb]<q.W;)b.eb(a,q,l),q[cb]!=c?(d=0,c=q[cb]):d++,b=2==d?null:b[rb]()},this);
l[A](q[cb],h-q[cb]);return b?Hg(l,b,c,d):l};ta(I,function(){this.ra=Qg(this);this.mb[w]()});I.ka=function(a){return this.ra.ka(a)};I.min=function(){return this.Ec(this.U.min[E](this.U))};I.max=function(){return this.Ec(this.U.max[E](this.U))};I.Ec=function(a){var b=Og(this.ra),c=Rg(this.ra);if(0==b.b[C]&&0==c.b[C])return null;var d=b.b[0],b=b.A[0],f=c.b[c.b[C]-1],c=c.A[c.b[C]-1];return 1==a(d,f)?[d,this.pe?[b]:b]:[f,this.pe?[c]:c]};I.Fa=H("pe");I.pc=H("U");
I.Vd=function(a,b){return null!=a?-1==this.U[Bb](a,b):!1};I.Na=function(a,b){return null!=a?0==this.U[Bb](a,b):!1};I.Ha=function(){for(var a=[],b=Og(this.ra);b;)a[x](new bd(b.na,[b.b,b.A])),b=b.wa;return a};function Sg(a,b,c,d){a=new Kg(b,a,c);d=Tg(d,a);a.ra=d;return a}function Ug(a,b){this.na=a;this.D=b;this.gb=0;this.wa=this.wb=this.C=null;this.b=[];this.A=[];this.h=[]}function Qg(a){return new Ug(cd++,a)}function Vg(a){return 0==a.gb}I=Ug[t];xa(I,H("wa"));
function Wg(a){function b(a){return null!=a?a.na[D]():"_"}var c=a.na+"["+a.b[m]("|")+"]",d=a.h.map(function(a){return a.na})[m]("|"),f=a.A[m]("/"),h=b(a.wb)+"{",h=Vg(a)?h+f:h+d,h=h+"}"+b(a.C);a.wa&&(a=Wg(a.wa),c=c+"  "+a[0],h=h+"  "+a[1]);return[c,h]}g(I,function(){var a="",b=Wg(this),a=a+(b[0]+"\n"+b[1]+"\n");this.h[C]&&(a+=this.h[0][D]());return a});function Og(a){return Vg(a)?a:Og(a.h[0])}function Rg(a){return Vg(a)?a:Rg(a.h[a.h[C]-1])}function Xg(a,b){b&&(b.wb=a);a&&(a.wa=b)}
function Lg(a,b){for(var c=b[C],d=0,f=Qg(a),h=f;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,q=b[n](d,d+l);f.b=q.map(function(a){return a.key});f.A=q.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=Qg(f.D),Xg(f,l),f=l)}return h}function Yg(a){var b=a[0],c=Qg(b.D);c.gb=b.gb+1;c.h=a;for(b=0;b<a[C];++b)a[b].C=c,0<b&&c.b[x](a[b].b[0]);return c}
function Mg(a){var b=a,c=[];do c[x](b),b=b.wa;while(b);if(512>=c[C])b=Yg(c);else{var d=c[C],f=0,b=Qg(a.D);for(b.gb=a.gb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var h=c[n](f,f+a),l=Yg(h);l.C=b;b.h[C]&&(b.b[x](h[0].b[0]),Xg(b.h[b.h[C]-1],l));b.h[x](l);f+=a;d-=a}}return b}I.get=function(a){var b=Zg(this,a);if(Vg(this)){var c=Ng;this.D.Na(this.b[b],a)&&(c=c[Ra](this.A[b]));return c}b=this.D.Na(this.b[b],a)?b+1:b;return this.h[b].get(a)};
I.ka=function(a){var b=Zg(this,a);return this.D.Na(this.b[b],a)?!0:Vg(this)?!1:this.h[b].ka(a)};va(I,function(a,b){$g(this,a,-1,b);if(null==this.C){var c=this;1==this.h[C]&&(c=this.h[0],c.C=null);return c}return this});function ah(a){return Vg(a)?a.b[0]:ah(a.h[0])}function bh(a){a.b=[];for(var b=1;b<a.h[C];++b)a.b[x](ah(a.h[b]))}
function $g(a,b,c,d){var f=Zg(a,b),h=Vg(a);if(!h){var l=a.D.Na(a.b[f],b)?f+1:f;if($g(a.h[l],b,l,d))bh(a);else return!1}else if(!a.D.Na(a.b[f],b))return!1;if(a.b[C]>f&&a.D.Na(a.b[f],b)){if(Mb(d)&&!a.D.Fa()&&h&&(l=a.A[f],d=Eg(l,d,void 0),0>d?d=!1:(l[A](d,1),d=!0),d&&a.D.Ta()[jb](b,1),a.A[f][C]))return!1;a.b[A](f,1);h&&(h=a.D.Fa()?1:a.A[f][C],a.A[A](f,1),a.D.Ta()[jb](b,h))}if(256>a.b[C]&&null!=a.C){a:{b=null;if(a.wa&&256<a.wa.b[C])b=a.wa,f=d=0,h=a.b[C]+1;else if(a.wb&&256<a.wb.b[C])b=a.wb,d=a.wb.b[C]-
1,f=Vg(a)?d:d+1,h=0;else{b=!1;break a}a.b[A](h,0,b.b[d]);b.b[A](d,1);d=Vg(a)?a.A:a.h;l=null;Vg(a)?l=b.A:(l=b.h,l[f].C=a);d[A](h,0,l[f]);l[A](f,1);Vg(b)||(bh(b),bh(a));b=!0}b||ch(a,c)}return!0}function ch(a,b){var c,d,f;a.wa&&511>a.wa.b[C]?(c=a.wa,f=d=0):a.wb&&(c=a.wb,d=c.b[C],f=Vg(c)?c.A[C]:c.h[C]);d=[d,0][Ra](a.b);e[t][A][yb](c.b,d);d=null;Vg(a)?d=a.A:(d=a.h,d[F](function(a){a.C=c}));d=[f,0][Ra](d);e[t][A][yb](Vg(c)?c.A:c.h,d);Xg(a.wb,a.wa);Vg(c)||bh(c);-1!=b&&(a.C.b[A](b,1),a.C.h[A](b,1))}
I.tb=function(a,b,c){var d=Zg(this,a);if(Vg(this)){if(this.D.Na(this.b[d],a)){if(c)this.D.Ta()[jb](a,this.D.Fa()?1:this.A[d][C]),this.A[d]=this.D.Fa()?b:[b];else{if(this.D.Fa())throw new P(201);if(!Gg(this.A[d],b))throw new P(109);}this.D.Ta().add(a,1);return this}this.b[A](d,0,a);this.A[A](d,0,this.D.Fa()?b:[b]);this.D.Ta().add(a,1);512==this.b[C]?(d=Qg(this.D),a=Qg(this.D),a.gb=1,a.b=[this.b[256]],a.h=[this,d],a.C=this.C,this.C=a,d.b=this.b[A](256),d.A=this.A[A](256),d.C=a,Xg(d,this.wa),Xg(this,
d),d=a):d=this;return d}d=this.D.Na(this.b[d],a)?d+1:d;a=this.h[d].tb(a,b,c);Vg(a)||1!=a.b[C]||(this.b[A](d,0,a.b[0]),a.h[1].C=this,a.h[0].C=this,this.h[A](d,1,a.h[1]),this.h[A](d,0,a.h[0]));return 512==this.b[C]?dh(this):this};function dh(a){var b=Qg(a.D),c=Qg(a.D);b.C=a.C;b.gb=a.gb+1;b.b=[a.b[256]];b.h=[a,c];a.b[A](256,1);c.C=b;c.gb=a.gb;c.b=a.b[A](256);c.h=a.h[A](257);c.h[F](function(a){a.C=c});a.C=b;Xg(c,a.wa);Xg(a,c);return b}
function Zg(a,b){for(var c=0,d=a.b[C];c<d;){var f=c+d>>1;a.D.Vd(a.b[f],b)?c=f+1:d=f}return c}function Pg(a,b){if(!Vg(a)){var c=Zg(a,b);a.D.Na(a.b[c],b)&&c++;return Pg(a.h[c],b)}return a}
I.eb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var f=this.D.pc(),h=0,l=this.b[C]-1,q=this.b,y=d(f.pb(q[h],a)),O=d(f.pb(q[l],a));if(1!=y&&(-1!=y||-1!=O)){var Ta=function(a,b){var c=a+b>>1;return c==a?c+1:c},Ua=function(b,c,h){if(b>=c)return 0==h?c:-1;var l=d(f.pb(q[b],a));if(0==l)return b;if(1==l)return-1;l=Ta(b,c);if(l==c)return 0==h?c:-1;var y=d(f.pb(q[l],a));return 0==y?Ua(b,l,y):-1==y?Ua(l+1,c,h):Ua(b+1,l,y)},Tb=function(b,c){if(b>=c)return b;var h=d(f.pb(q[c],a));if(0==h)return c;
if(-1==h)return b;h=Ta(b,c);if(h==c)return b;var l=d(f.pb(q[h],a));return 0==l?Tb(h,c):1==l?Tb(b,h-1):-1};0!=y&&(h=Ua(h+1,l,O));-1!=h&&(l=Tb(h,l),-1!=l&&l>=h&&eh(this,b,c,h,l+1))}};function eh(a,b,c,d,f){for(;d<f&&(b[gb]||!(b[cb]>=b.W));++d)if(a.D.Fa())!b[gb]&&b.N?b.N--:c[b.count++]=a.A[d];else for(var h=0;h<a.A[d][C]&&b[cb]<c[C];++h)!b[gb]&&b.N?b.N--:c[b.count++]=a.A[d][h]}
I.fill=function(a,b){if(Vg(this))for(var c=0;c<this.A[C]&&0<a[cb];++c)if(0<a[xb]){if(a.offset=a[xb]-(this.D.Fa()?1:this.A[c][C]),0>a[xb])for(var d=this.A[c][C]+a[xb];d<this.A[c][C]&&0<a[cb];++d)b[a.me++]=this.A[c][d],a.count--}else if(this.D.Fa())b[a.me++]=this.A[c],a.count--;else for(d=0;d<this.A[c][C]&&0<a[cb];++d)b[a.me++]=this.A[c][d],a.count--;else for(c=0;c<this.h[C]&&0<a[cb];++c)this.h[c].fill(a,b)};
function Tg(a,b){for(var c=b.Ta(),d=a.map(function(a){var d=new Ug(a.id(),b);d.b=a.o[0];d.A=a.o[1];d.b[F](function(a,f){c.add(a,b.Fa()?1:d.A[f][C])});return d}),f=0;f<d[C]-1;++f)Xg(d[f],d[f+1]);return 1<d[C]?Mg(d[0]):d[0]};function fh(a){if(1==a.g[C])return new gh(a.g[0].ib);a=a.g.map(function(a){return a.ib});return new hh(a)}function gh(a){this.ad=0==a?ih:jh;this.Wd=0==a?function(a){return null!=a?a[gb]():null}:function(a){return a||null};this.be=0==a?kh:lh}K(gh,be);function jh(a,b){return a>b?1:a<b?-1:0}function ih(a,b){return jh(b,a)}function lh(a,b){return Le(a,b)}function kh(a,b){return Le(b,a)}I=gh[t];
I.pb=function(a,b){var c=this.Wd(b),d=[null===c.c,null===c.w];if(!d[0]){var f=this.ad(a,c.c);d[0]=c.aa?1==f:-1!=f}d[1]||(f=this.ad(a,c.w),d[1]=c.la?-1==f:1!=f);return d};I.compare=function(a,b){return this.ad(a,b)};I.min=function(a,b){return a<b?1:a==b?0:-1};I.max=function(a,b){return a>b?1:a==b?0:-1};I.Qd=function(a,b){var c=this.pb(a,b);return c[0]&&c[1]};I.kf=function(a){return a[Fa](function(a){return null!==a})[$a](function(a,c){return this.be(a,c)}[E](this))};I.Rd=function(a){return Pb(this.Wd(a).c)};
I.ud=function(a){a=this.Wd(a);return[a.c,a.w]};g(I,function(){return this.ad==ih?"SimpleComparator_DESC":"SimpleComparator_ASC"});function hh(a){this.Ia=a.map(function(a){return new gh(a)})}K(hh,be);function mh(a,b,c,d){for(var f=0,h=0;h<a.Ia[C]&&0==f;++h)f=d(a.Ia[h],b[h],c[h]);return f}I=hh[t];I.compare=function(a,b){return mh(this,a,b,function(a,b,f){return a[Bb](b,f)})};I.min=function(a,b){return mh(this,a,b,function(a,b,f){return a.min(b,f)})};
I.max=function(a,b){return mh(this,a,b,function(a,b,f){return a.max(b,f)})};I.pb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ia[C]&&(c[0]||c[1]);++d){var f=this.Ia[d].pb(a[d],b[d]);c[0]=c[0]&&f[0];c[1]=c[1]&&f[1]}return c};I.Qd=function(a,b){for(var c=!0,d=0;d<this.Ia[C]&&c;++d)c=this.Ia[d].Qd(a[d],b[d]);return c};
I.kf=function(a){var b=a[Fa](function(a){return a[Va](Qb)});a=e(this.Ia[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[$a](function(a,c){return this.Ia[b].be(a,c)}[E](this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[$a](function(a,b){for(var c=0,l=0;l<this.Ia[C]&&0==c;++l)c=this.Ia[l].be(a[l],b[l]);return c}[E](this))};I.Rd=function(a){return this.Ia[0].Rd(a[0])};
I.ud=function(a){var b=a.map(function(a,b){return this.Ia[b].ud(a)[0]},this);a=a.map(function(a,b){return this.Ia[b].ud(a)[1]},this);return[b,a]};function nh(a){this.da=a;this.hb=N();this.Nc=new Ig;this.mb=new Ig}I=nh[t];na(I,function(){return this.da[u]()});I.add=function(a,b){null===a?(this.hb.add(b),this.Nc.add(a,1)):this.da.add(a,b)};I.set=function(a,b){null===a?(this.hb[w](),this.Nc[w](),this.add(a,b)):this.da.set(a,b)};va(I,function(a,b){if(null===a)b?(this.hb[Za](b),this.Nc[jb](a,1)):(this.hb[w](),this.Nc[w]());else this.da[jb](a,b)});I.get=function(a){return null===a?Rd(this.hb):this.da.get(a)};I.bd=function(a){return this.da.bd(a)};
I.Ta=function(){Jg(this.mb,[this.da.Ta(),this.Nc]);return this.mb};I.eb=function(a,b,c,d){b=this.da.eb(a,b,c,d);return null!=a?b:b[Ra](Rd(this.hb))};ta(I,function(){this.hb[w]();this.da[w]()});I.ka=function(a){return null===a?0!=this.hb[G]:this.da.ka(a)};I.min=function(){return this.da.min()};I.max=function(){return this.da.max()};I.Ha=function(){return[new bd(-2,Rd(this.hb))][Ra](this.da.Ha())};I.pc=function(){return this.da.pc()};
function oh(a,b){for(var c=-1,d=0;d<b[C];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new P(102);var d=b[c].o,f=b[n](0);f[A](c,1);var c=a(f),h=new nh(c);d[F](function(a){h.hb.add(a)});return h}I.Fa=function(){return this.da.Fa()};function ph(a){this.u=a;this.lb=N();this.U=new gh(1)}I=ph[t];na(I,H("u"));I.add=function(a){if("number"!=typeof a)throw new P(103);this.lb.add(a)};I.set=function(a,b){this.add(a,b)};va(I,function(a){this.lb[Za](a)});I.get=function(a){return this.ka(a)?[a]:[]};I.min=function(){return this.Ec(this.U.min[E](this.U))};I.max=function(){return this.Ec(this.U.max[E](this.U))};
I.Ec=function(a){if(0==this.lb[G])return null;var b=Rd(this.lb)[Ja](function(b,d){return null===b||1==a(d,b)?d:b},null);return[b,[b]]};I.bd=function(){return this.lb[G]};I.eb=function(a,b,c,d){var f=a||[Ie()];a=Rd(this.lb)[Fa](function(a){return f[bb](function(b){return this.U.Qd(a,b)},this)},this);return Hg(a,b,c,d)};ta(I,function(){this.lb[w]()});I.ka=function(a){return this.lb.has(a)};I.Ha=function(){return[new bd(0,Rd(this.lb))]};I.pc=H("U");
function qh(a,b){var c=new ph(a);b[0].o[F](function(a){c.add(a,a)});return c}I.Fa=Kb(!0);I.Ta=function(){var a=new Ig;a.ta=this.lb[G];return a};function rh(a){this.j=a;this.xb=a.m(Gd);this.F=a.m(Id);this.ja=a.m(Hd)}rh[t].Da=function(a){var b=a.Va(),c=function(){if(0==b[C])return Lc();var a=b[sb]();return(a.Cb()?sh(this,a):th(this,a))[z](c)}[E](this);return c()};function th(a,b){var c=new Ae(a.j,N([b]));return a.xb.Jb(0,c).I(b[u](),b.cc[E](b)).get([])[z](function(a){this.ja.ke(b[u](),a);uh(this,b,a)}[E](a))}function uh(a,b,c){var d=a.F.Oc.get(b[u]())||[];c[F](function(a){d[F](function(b){var c=a.Pb(b[u]());b.add(c,a.id())})})}
function sh(a,b){var c=new Ae(a.j,N([b])),d=a.xb.Jb(0,c),c=d.I(b[u](),b.cc).get([])[z](function(a){this.ja.ke(b[u](),a)}[E](a)),f=b.Ca().map(function(a){return vh(this,a,d)},a)[Ra](wh(a,b,d));return Pc(f[Ra](c))}function vh(a,b,c){c=c.I(b.l(),dd,1);var d=fh(b);return c.get([])[z](function(a){if(1<a[C]){if(xh(b)){var c=Sg[E](void 0,d,b.l(),b.Cc);a=oh(c,a[n](1))}else a=Sg(d,b.l(),b.Cc,a[n](1));this.F.set(b.Pc,a)}}[E](a))}
function wh(a,b,c){return c.I(b.u+".#",dd,1).get([])[z](function(a){1<a[C]&&(a=qh(b.u+".#",a[n](1)),this.F.set(b[u](),a))}[E](a))};function yh(){this.X=M();this.Oc=M()}yh[t].Da=function(a){a.Va()[F](function(a){var c=[];this.Oc.set(a[u](),c);var d=a.u+".#";if(null===this.get(d)){var f=new ph(d);c[x](f);this.X.set(d,f)}a.Ca()[F](function(a){var b;b=fh(a);b=new Kg(a.l(),b,a.Cc);b=xh(a)?new nh(b):b;c[x](b);this.X.set(a.l(),b)},this)},this);return Lc()};yh[t].get=function(a){return this.X.get(a)||null};
yh[t].set=function(a,b){var c=this.Oc.get(a)||null;null===c&&(c=[],this.Oc.set(a,c));for(var d=null,f=0;f<c[C];f++)if(c[f][u]()==b[u]()){d=f;break}null!==d&&0<c[C]?c[A](d,1,b):c[x](b);this.X.set(b[u](),b)};function zh(a){this.jc=[];Mb(a)&&this.add(a)}g(zh[t],function(){return this.jc.map(function(a){return a[D]()})[m](",")});zh[t].ka=function(a){return this.jc[bb](function(b){return b[ub](a)})};zh[t].fa=H("jc");
zh[t].add=function(a){if(0!=a[C])if(a=this.jc[Ra](a),1==a[C])this.jc=a;else{a[$a](Le);for(var b=[],c=a[0],d=1;d<a[C];++d)if(Ge(c,a[d])){var f=a[d],h=Ie();if(null!==c.c&&null!==f.c){var l=He(c.c,f.c,!0);1!=l?(h.c=c.c,h.aa=0!=l?c.aa:c.aa&&f.aa):(h.c=f.c,h.aa=f.aa)}null!==c.w&&null!==f.w&&(l=He(c.w,f.w,!1),-1!=l?(h.w=c.w,h.la=0!=l?c.la:c.la&&f.la):(h.w=f.w,h.la=f.la));c=h}else b[x](c),c=a[d];b[x](c);this.jc=b}};
function Ah(a,b){var c=[];a.fa().map(function(a){return b.fa().map(function(b){var c;if(Ge(a,b)){c=Ie();var l=He(a.c,b.c,!0),l=0==l?a.aa?a:b:-1!=l?a:b;c.c=l.c;c.aa=l.aa;null===a.w||null===b.w?b=null===a.w?b:a:(l=He(a.w,b.w,!1),b=0==l?a.la?a:b:-1==l?a:b);c.w=b.w;c.la=b.la}else c=null;return c})})[F](function(a){c=c[Ra](a)});return new zh(c[Fa](function(a){return null!==a}))};function Bh(a,b){var c=[],d=null,f=null;pf(a,function(a){var l=b(a);null==a[Cb]()?f=l:qf(d,l);var q=a[Cb]();null!==q&&R(q)[C]==R(d)[C]&&(q=c[ab](d),-1!=q&&c[A](q,1));1<R(a)[C]&&c[x](l);d=R(a)[C]?l:c[c[C]-1]});return f}function Ch(a){return Dh(a,function(a){return!R(a)[C]})}function Eh(a){var b=a[Cb](),c=0;null!==b&&(c=R(b)[ab](a),b[ib](a));var d=R(a)[n]();d[F](function(d,h){a[ib](d);null===b||rf(b,d,c+h)});return{parent:b,children:d}}
function Fh(a,b){R(a)[n]()[F](function(c){a[ib](c);qf(b,c)});qf(a,b)}function Gh(a){var b=nf(a,0);Eh(a);Fh(b,a);return b}function Hh(a,b,c){var d=nf(a,0),f=R(d)[n]();if(!f[bb](function(a){return b(a)}))return a;Eh(a);f[F](function(f,l){if(b(f)){var q=c(a);tf(d,l);qf(q,f);rf(d,q,l)}});return d}function Ih(a,b,c,d){var f=a[Cb]();null!==f&&(a=R(f)[ab](a),tf(f,a),rf(f,c,a));R(b)[n]()[F](function(a){b[ib](a);qf(d,a)});return c}
function Dh(a,b,c){function d(a){b(a)&&f[x](a);null!=c&&c(a)||R(a)[F](d)}var f=[];d(a);return f}function Jh(a,b){var c=b||function(a){return a[D]()+"\n"},d="";pf(a,function(a){for(var b=0;b<of(a);b++)d+="-";d+=c(a)});return d};function Kh(a){uf[r](this);this.Rb=a;this.Za=!1}K(Kh,uf);I=Kh[t];I.Ib=function(){return Bh(this,function(a){if(a instanceof Kh){var b=new Kh(a.Rb);b.Za=a.Za;a=a.Y();b.na=a;return b}return a.Ib()}[E](this))};I.cb=function(a){var b=a||[];pf(this,function(a){a!=this&&a.cb(b)}[E](this));a=N(b);return Rd(a)};I.wd=function(a){this.Za!=a&&(this.Za=a,this.Rb="and"==this.Rb?"or":"and",R(this)[F](function(b){return b.wd(a)}))};
I.eval=function(a){var b=R(this).map(function(b){return b.eval(a)});return Lh(this,b)};function Lh(a,b){return"and"==a.Rb?Se(b):Te(b)}g(I,function(){return"combined_pred_"+this.Rb[D]()});function Mh(){this[w]()}var Nh=aa[t][Ya],Oh=aa[t][tb];I=Mh[t];I.set=function(a,b){var c=!Ph(this,a);this.f[a]=b;if("__proto__"==a||!Qh&&!Nh[r](this.f,a)){delete this.f[a];var d=ec(this.Eb,a);if(c=0>d)d=this.Eb[C];this.Eb[d]=a;this.ie[d]=b}c&&this.$++};I.get=function(a,b){if(Ph(this,a))return this.f[a];var c=ec(this.Eb,a);return 0<=c?this.ie[c]:b};va(I,function(a){if(Ph(this,a))return this.$--,delete this.f[a],!0;a=ec(this.Eb,a);return 0<=a?(this.$--,jc(this.Eb,a),jc(this.ie,a),!0):!1});
I.addAll=function(a){fc(a.Oa(),function(b){this.set(b,a.get(b))},this)};I.hc=function(){return!this.$};I.Lb=H("$");I.ka=function(a){return Ph(this,a)||0<=ec(this.Eb,a)};I.Oa=function(){var a;if(Rh)a=lc(aa[mb](this.f));else{a=[];for(var b in this.f)Oh[r](this.f,b)&&a[x](b)}mc(a,this.Eb);return a};I.fa=function(){for(var a=[],b=this.Oa(),c=0;c<b[C];c++)a[x](this.get(b[c]));return a};I.getEntries=function(){for(var a=[],b=this.Oa(),c=0;c<b[C];c++){var d=b[c];a[x]([d,this.get(d)])}return a};
ta(I,function(){this.f=Qh?aa[lb](null):{};this.Eb=[];this.ie=[];this.$=0});la(I,function(){var a=new Mh;a.addAll(this);return a});function Ph(a,b){return"__proto__"==b?!1:Qh?b in a.f:Oh[r](a.f,b)}var Qh=!!aa[lb],Rh=!!aa[mb];function Sh(){this[w]()}I=Sh[t];I.$=0;ta(I,function(){this.$=0;this.f=new Mh});la(I,function(){var a=new Sh;Th(a,this);return a});I.add=function(a,b){var c=this.f.get(a);c||this.f.set(a,c=[]);c[x](b);this.$++};function Th(a,b){fc(b.getEntries(),function(a){this.add(a[0],a[1])},a)}I.get=function(a){return(a=this.f.get(a))?lc(a):[]};va(I,function(a,b){var c=this.f.get(a);if(!c)return!1;var d=kc(c,function(a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a});d&&(this.$--,0==c[C]&&this.f[jb](a));return d});
I.hc=function(){return!this.$};I.Lb=H("$");I.ka=function(a){return this.f.ka(a)};I.Oa=function(){return this.f.Oa()};I.fa=function(){return qc(this.f.fa())};I.getEntries=function(){for(var a=this.Oa(),b=[],c=0;c<a[C];c++)for(var d=a[c],f=this.get(d),h=0;h<f[C];h++)b[x]([d,f[h]]);return b};function Uh(a,b,c){uf[r](this);this.oa=a;this.qa=b;this.L=c;this.Xd=null;a=bf.fd();this.cd=hf(a,this.oa.S(),this.L);this.Yf=a.Oe.get(this.oa.S())||null}K(Uh,uf);I=Uh[t];I.Ib=function(){var a=new Uh(this.oa,this.qa,this.L),b=this.Y();a.na=b;return a};I.cb=function(a){return null!=a?(a[x](this.oa),a[x](this.qa),a):[this.oa,this.qa]};
I.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new Uh(this.qa,this.oa,a)};I.eval=function(a){var b=a[B][Fa](function(a){var b=Xe(a,this.oa);a=Xe(a,this.qa);return this.cd(b,a)},this);return new Me(b,Q(a))};g(I,function(){return"join_pred("+this.oa.l()+", "+this.qa.l()+")"});function Vh(a,b,c){var d=null,f=null;-1!=Q(b)[ab](Ye(a.oa.I()))?(d=b,f=c):(d=c,f=b);return[d,f]}
function Wh(a){var b={};a.cb()[F](function(a){b[a[u]()]=null});return b}function Xh(a,b,c){null===a.Xd&&(a.Xd=Wh(a.qa.I()));var d=new Ve(new bd(-1,a.Xd),!1);return $e(b,c,d,[Ye(a.qa.I())])}
function Yh(a,b,c,d){var f=[b,c];d||(f=Vh(a,b,c));b=f[0];c=f[1];var f=b,h=c,l=a.oa,q=a.qa;if(d||b[B][C]>c[B][C])f=c,h=b,l=a.qa,q=a.oa;var y=new Sh,O=[];f[B][F](function(a){var b=ha(Xe(a,l));y.add(b,a)});var Ta=Q(f),Ua=Q(h);h[B][F](function(a){var b=Xe(a,q),c=ha(b);null!==b&&y.ka(c)?y.get(c)[F](function(b){b=$e(a,Ua,b,Ta);O[x](b)}):d&&O[x](Xh(this,a,Ua))}[E](a));a=Q(b)[Ra](Q(c));return new Me(O,a)}
function Zh(a,b,c,d,f){function h(a,b){var c=new Ve(b,1<Ta[C]),c=$e(a,Ua,c,Ta);O[x](c)}var l=d.Rf.I(),q=b,y=c;-1!=Q(b)[ab](Ye(l))&&(q=c,y=b);var O=[],Ta=Q(y),Ua=Q(q);q[B][F](function(a){var b=this.Yf(Xe(a,d.dg)),b=d[ob].get(b);0!=b[C]&&(d[ob].Fa()?h(a,f.get(b[0])):Dg(f,b)[F](h[E](null,a)))},a);a=Q(q)[Ra](Q(y));return new Me(O,a)};function $h(a,b,c){return null===b?new wf(a,b,c):Mb(b.l)?new Uh(a,b,c):new wf(a,b,c)};var ai={};J("lf.schema.DataStoreType",ai);ai.INDEXED_DB=0;ai.MEMORY=1;ai.LOCAL_STORAGE=2;ai.FIREBASE=3;ai.WEB_SQL=4;ai.OBSERVABLE_STORE=5;function bi(a,b,c,d){this.Pc=a;ja(this,b);this.Cc=c;this.g=d}bi[t].l=function(){return this.Pc+"."+this[p]};function xh(a){return a.g[bb](function(a){return a.ea.Bc()})}function ci(a,b,c,d){this.u=a;this.ha=c;this.H=b;this.rd=d;this.ab=null}J("lf.schema.Table",ci);na(ci[t],H("u"));na(ci[t],ci[t][u]);ci[t].Ya=H("ab");function Ye(a){return a.ab||a.u}
ci[t].nc=function(a){var b=new this.constructor(this.u);b.ab=a;b.og=this.og;return b};ci[t].as=ci[t].nc;ci[t].createRow=ci[t].yb;ci[t].deserializeRow=ci[t].cc;ci[t].Ca=H("ha");ci[t].getIndices=ci[t].Ca;ci[t].cb=H("H");ci[t].getColumns=ci[t].cb;ci[t].getConstraint=ci[t].Ab;ci[t].Cb=H("rd");ci[t].persistentIndex=ci[t].Cb;function di(a,b){wa(this,a);this.Gb=b;this.ab=null}I=di[t];na(I,function(){return this.Gb+"("+this[kb][u]()+")"});I.l=function(){return this.Gb+"("+this[kb].l()+")"};I.I=function(){return this[kb].I()};g(I,function(){return this.l()});I.S=function(){return this[kb].S()};I.Ya=H("ab");I.Ca=function(){return[]};I.va=Kb(null);I.Bc=Kb(!1);I.nc=function(a){this.ab=a;return this};di[t].as=di[t].nc;function ei(a){for(var b=[a];a instanceof di;)b[x](a[kb]),a=a[kb];return b}
function fi(a){this.ab=a||null;this.O=new ci("#UnknownTable",[],[],!1)}I=fi[t];na(I,Kb("*"));I.l=function(){return this[u]()};g(I,function(){return this.l()});I.I=H("O");I.S=Kb(4);I.Ya=H("ab");I.Ca=function(){return[]};I.va=Kb(null);I.Bc=Kb(!1);J("lf.fn.avg",function(a){return new di(a,"AVG")});function gi(a){return new di(a||new fi,"COUNT")}J("lf.fn.count",gi);function hi(a){return new di(a,"DISTINCT")}J("lf.fn.distinct",hi);J("lf.fn.max",function(a){return new di(a,"MAX")});J("lf.fn.min",function(a){return new di(a,"MIN")});J("lf.fn.stddev",function(a){return new di(a,"STDDEV")});J("lf.fn.sum",function(a){return new di(a,"SUM")});J("lf.fn.geomean",function(a){return new di(a,"GEOMEAN")});function V(a,b){kf[r](this,"","");this.Kf=b}K(V,kf);ma(V[t],function(a,b){switch(this.Kf){case 1:return ii(this,a,b);case 0:return ji(this,a,b);default:return ki(this,a,b)}});g(V[t],Kb("dummy_node"));V[t].Qc=function(){return this[D]()};function ki(a,b,c){return new L(function(a){a(this.ba(b,[],c))}[E](a))}function ii(a,b,c){return nf(a,0)[Pa](b,c)[z](function(a){return this.ba(b,a,c)}[E](a))}
function ji(a,b,c){var d=R(a).map(function(a){return a[Pa](b,c)});return Pc(d)[z](function(a){var d=[];a[F](function(a){for(var b=0;b<a[C];++b)d[x](a[b])});return this.ba(b,d,c)}[E](a))};function li(a){V[r](this,0,1);this.ve=a}K(li,V);g(li[t],function(){return"aggregation("+this.ve.map(function(a){return a.l()})[D]()+")"});li[t].ba=function(a,b){b[F](function(a){mi(new ni(a,this.ve))},this);return b};function ni(a,b){this.Ga=a;this.H=b}
function mi(a){a.H[F](function(a){a=ei(a)[gb]();for(var c=1;c<a[C];c++){var d=a[c],f=ei(d)[n](-1)[0],h=d[kb]instanceof di?Pe(this.Ga,d[kb]):this.Ga;if(null!==h.Xa&&h.Xa.has(d.l()))break;h=oi(d.Gb,h,f);f=this.Ga;null===f.Xa&&(f.Xa=M());f.Xa.set(d.l(),h)}},a)}
function oi(a,b,c){var d=null;switch(a){case "MIN":d=pi(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=pi(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=qi(b,c);break;case "COUNT":d=ri(b,c);break;case "SUM":d=si(b,c);break;case "AVG":a=ri(b,c);0<a&&(d=si(b,c)/a);break;case "GEOMEAN":d=ti(b,c);break;default:d=ui(b,c)}return d}function pi(a,b,c){return a[B][Ja](function(a,f){var h=Xe(f,b);return null===h?a:null===a?h:c(a,h)},null)}
function ri(a,b){return b instanceof fi?a[B][C]:a[B][Ja](function(a,d){return a+(Pb(Xe(d,b))?0:1)},0)}function si(a,b){return pi(a,b,function(a,b){return b+a})}function ui(a,b){var c=[];a[B][F](function(a){a=Xe(a,b);null===a||c[x](a)});return 0==c[C]?null:md[yb](null,c)}function ti(a,b){var c=0,d=a[B][Ja](function(a,d){var l=Xe(d,b);if(0==l||null===l)return a;c++;return a+ba.log(l)},0);return 0==c?null:ba.pow(ba.E,d/c)}
function qi(a,b){var c=M();a[B][F](function(a){var f=Xe(a,b);c.set(f,a)});return new Me(xd(c),Q(a))};function vi(a,b){this.za=a;this.sa=b}vi[t].fb=H("za");vi[t].ca=H("sa");function W(){kf[r](this,"","")}K(W,kf);function wi(a,b){W[r](this);ia(this,a);ua(this,b)}K(wi,W);function xi(a,b){wi[r](this,a,b)}K(xi,wi);function yi(a){W[r](this);ia(this,a)}K(yi,W);g(yi[t],function(){return"delete("+this[k][u]()+")"});function zi(a,b){W[r](this);ia(this,a);this.qe=b}K(zi,W);g(zi[t],function(){var a=[];this.qe&&(a=this.qe.map(function(a){return a.K[u]()},this));return"update("+this[k][u]()+", ["+a[m](",")+"])"});
function Ai(a){W[r](this);this.G=a}K(Ai,W);g(Ai[t],function(){return"select("+this.G[D]()+")"});function Bi(a){W[r](this);ia(this,a)}K(Bi,W);g(Bi[t],function(){var a="table_access("+this[k][u]();null===this[k].Ya()||(a+=" as "+this[k].Ya());return a+")"});function Ci(){W[r](this)}K(Ci,W);g(Ci[t],Kb("cross_product"));function Di(a,b){W[r](this);this.g=a;this.Mb=b}K(Di,W);
g(Di[t],function(){var a="project("+this.g[D]();if(null!==this.Mb)var b=this.Mb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Ei(a){W[r](this);this.M=a}K(Ei,W);g(Ei[t],function(){return"order_by("+Ff(this.M)+")"});function Fi(a){W[r](this);this.g=a}K(Fi,W);g(Fi[t],function(){return"aggregation("+this.g[D]()+")"});function Gi(a){W[r](this);this.g=a}K(Gi,W);g(Gi[t],function(){return"group_by("+this.g[D]()+")"});function Hi(a){W[r](this);this.W=a}K(Hi,W);
g(Hi[t],function(){return"limit("+this.W+")"});function Ii(a){W[r](this);this.N=a}K(Ii,W);g(Ii[t],function(){return"skip("+this.N+")"});function Ji(a,b){W[r](this);this.G=a;this.Ob=b}K(Ji,W);g(Ji[t],function(){return"join(type: "+(this.Ob?"outer":"inner")+", "+this.G[D]()+")"});function Ki(){};function Li(){}K(Li,Ki);Li[t].kb=function(a){this.V=a;this.Wa(this.V);return this.V};Li[t].Wa=function(a){if(a instanceof Ai){var b=Mi(this,a.G),b=Ni(this,b);Ih(a,a,b[0],b[1]);a==this.V&&(this.V=b[0]);a=b[0]}R(a)[F](function(a){this.Wa(a)},this)};function Mi(a,b){if(0==R(b)[C]||"and"!=b.Rb)return[b];var c=R(b)[n]().map(function(a){b[ib](a);return Mi(this,a)},a);return qc(c)}function Ni(a,b){var c=null,d=null;b.map(function(a,b){var l=new Ai(a);0==b?c=l:qf(d,l);d=l},a);return[c,d]};function Oi(){}K(Oi,Ki);Oi[t].kb=function(a){this.V=a;this.Wa(this.V);return this.V};Oi[t].Wa=function(a){if(a instanceof Ci)for(;2<R(a)[C];){for(var b=new Ci,c=0;2>c;c++){var d=tf(a,0);qf(b,d)}rf(a,b,0)}R(a)[F](function(a){this.Wa(a)},this)};function Pi(){V[r](this,0,0)}K(Pi,V);g(Pi[t],Kb("cross_product"));Pi[t].ba=function(a,b){for(var c=b[0],d=b[1],f=[],h=Q(c),l=Q(d),q=0;q<c[B][C];q++)for(var y=0;y<d[B][C];y++){var O=$e(c[B][q],h,d[B][y],l);f[x](O)}c=Q(c)[Ra](Q(d));return[new Me(f,c)]};function Qi(a,b){If[r](this,a,b);this.Ra=a.m(Kd);this.Bb=a.m(Ld)}K(Qi,If);Da(Qi[t],Kb(2));Qi[t].$d=function(a){0==this.S()?Ri(this,a):this.Mc()};function Ri(a,b){a.td[F](function(a,d){a instanceof Ef&&Lf(this.Bb,a,b[d])},a)}Qi[t].Mc=function(){var a=Nf(this.Bb,this.ca());0!=a[C]&&(a=new Kf(this[Xa],a),Of(this.Ra,a))};function Si(a){zf[r](this,a)}K(Si,zf);Si[t].ca=function(){var a=N();a.add(this.c);var b=this.ea[Ab]();Ti(this.c[u](),b.h)[F](a.add[E](a));return a};la(Si[t],function(){var a=new Si(this.ea);Cf(a,this);a.c=this.c;return a});Aa(Si[t],function(a){Si.Fb[E][r](this,a);Df(this,a);return this});function Ui(a){zf[r](this,a)}K(Ui,zf);Ui[t].ca=function(){var a=N();a.add(this.Ea);var b=this.ea[Ab]();Ti(this.Ea[u](),b.Xe)[F](a.add[E](a));this.Zb&&Ti(this.Ea[u](),b.h)[F](a.add[E](a));return a};la(Ui[t],function(){var a=new Ui(this.ea);Cf(a,this);a.Ea=this.Ea;this[eb]&&ua(a,this[eb]instanceof af?this[eb]:this[eb][n]());a.Zb=this.Zb;a.$b=this.$b;return a});
Aa(Ui[t],function(a){Ui.Fb[E][r](this,a);this.$b&&ua(this,this.$b instanceof af?a[this.$b.va()]:this.$b.map(function(b){return b instanceof af?a[b.va()]:b}));return this});function Vi(a){zf[r](this,a)}K(Vi,zf);Vi[t].ca=function(){var a=N();a.add(this[k]);var b=this.set.map(function(a){return a.K.l()}),c=this.ea[Ab]();Wi(c,b)[F](a.add[E](a));Xi(c,b)[F](a.add[E](a));return a};la(Vi[t],function(){var a=new Vi(this.ea);Cf(a,this);ia(a,this[k]);a.set=this.set?this.set[n]():this.set;return a});Aa(Vi[t],function(a){Vi.Fb[E][r](this,a);this.set[F](function(b){-1!=b.Wc&&pa(b,a[b.Wc])});Df(this,a);return this});function Yi(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+fd(b)+"'";default:return"'"+b[D]()+"'"}}function Zi(a,b){var c=a.Zb?"INSERT OR REPLACE":"INSERT",d=a.Ea.cb(),c=c+(" INTO "+a.Ea[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[eb].map(function(a){var h=d.map(function(c){var d=a.o[c[u]()];return b?null!=d?"#":"NULL":Yi(c.S(),d)});return c+h[m](", ")+");"})[m]("\n")}
function $i(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function aj(a,b,c,d){return a instanceof af?"?"+a.va()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Yi(c,a)})[m](", ")+")":"between"==b?Yi(c,a[0])+" AND "+Yi(c,a[1]):Yi(c,a)[D]()}
function bj(a,b){return R(a).map(function(a){return"("+cj(a,b)+")"})[m]("and"==a.Rb?" AND ":" OR ")}function dj(a){return[a.oa.l(),$i(a.L),a.qa.l()][m](" ")}function cj(a,b){if(a instanceof wf){var c=a.K.l(),d=$i(a.L),f=aj(a[v],a.L,a.K.S(),b);return"="==d&&"NULL"==f?[c,"IS NULL"][m](" "):"<>"==d&&"NULL"==f?[c,"IS NOT NULL"][m](" "):[c,d,f][m](" ")}if(a instanceof Kh)return bj(a,b);if(a instanceof Uh)return dj(a);throw new P(357,typeof a);}function ej(a,b){var c=cj(a,b);return c?" WHERE "+c:""}
function fj(a,b){var c="UPDATE "+a[k][u]()+" SET ",c=c+a.set.map(function(a){var b=a.K.l()+" = ";return-1!=a.Wc?b+"?"+a.Wc[D]():b+Yi(a.K.S(),a[v])[D]()})[m](", ");a.B&&(c+=ej(a.B,b));return c+";"}
function gj(a,b){var c="*";a.g[C]&&(c=a.g.map(function(a){return a.Ya()?a.l()+" AS "+a.Ya():a.l()})[m](", "));c="SELECT "+c+" FROM ";null!=a.ub&&0!=a.ub[G]?c+=hj(a,b):(c+=a.c.map(ij)[m](", "),a.B&&(c+=ej(a.B,b)));if(a.M)var d=a.M.map(function(a){return a.K.l()+(0==a.ib?" DESC":" ASC")})[m](", "),c=c+(" ORDER BY "+d);a.ga&&(d=a.ga.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.W&&(c+=" LIMIT "+a.W[D]());a.N&&(c+=" SKIP "+a.N[D]());return c+";"}
function ij(a){return Ye(a)!=a[u]()?a[u]()+" AS "+Ye(a):a[u]()}function hj(a,b){for(var c=Dh(a.B,function(a){return a instanceof Uh}),d=c.map(dj),f=ij(a.c[0]),h=1;h<a.c[C];h++)var l=ij(a.c[h]),f=a.ub.has(c[d[C]-h].Y())?f+(" LEFT OUTER JOIN "+l):f+(" INNER JOIN "+l),f=f+(" ON ("+d[d[C]-h]+")");c=nf(a.B,0);c instanceof Uh||(f+=" WHERE "+cj(c,b));return f}
function jj(a,b){var c=b||!1,d=a.a[Oa]();if(d instanceof Ui)return Zi(d,c);if(d instanceof Si){var f="DELETE FROM "+d.c[u]();d.B&&(f+=ej(d.B,c));return f+";"}if(d instanceof Vi)return fj(d,c);if(d instanceof Ef)return gj(d,c);throw new P(358,typeof d);};function kj(a,b){this.global=a;this.ng=a.m(Jd);this.Ra=a.m(Kd);this.a=b}J("lf.query.BaseBuilder",kj);ma(kj[t],function(){try{this.bb()}catch(a){return Mc(a)}return new L(function(a,c){var d=new Qi(this[Xa],[this.zc()]);Of(this.Ra,d)[z](function(c){a(Ne(c[0]))},c)},this)});ma(kj[t],kj[t][Pa]);kj[t].Mf=function(){var a=function(a){return a.Qc(this.a)+"\n"}[E](this);return Jh(lj(this).fb(),a)};kj[t].explain=kj[t].Mf;Aa(kj[t],function(a){this.a[E](a);return this});Aa(kj[t],kj[t][E]);
kj[t].ug=function(a){return jj(this,a)};kj[t].toSql=kj[t].ug;kj[t].bb=Ib();function lj(a){if(null==a.Ye){var b;b=a.ng;var c=a.a,d=b.ag[lb](c);b=b.kg[lb](d,c);a.Ye=b}return a.Ye}kj[t].zc=function(){return{context:this.a[Oa](),ce:lj(this)}};function mj(a){kj[r](this,a,new Si(a.m(Md)))}K(mj,kj);J("lf.query.DeleteBuilder",mj);mj[t].c=function(a){if(null!=this.a.c)throw new P(515);this.a.c=a;return this};mj[t].from=mj[t].c;mj[t].B=function(a){this.Cd();this.a.B=a;return this};mj[t].where=mj[t].B;mj[t].Cd=function(){if(null!=this.a.B)throw new P(516);};mj[t].bb=function(){mj.Fb.bb[r](this);if(null==this.a.c)throw new P(517);};function nj(a,b){kj[r](this,a,new Ui(a.m(Md)));this.a.Zb=b||!1}K(nj,kj);J("lf.query.InsertBuilder",nj);nj[t].bb=function(){nj.Fb.bb[r](this);var a=this.a;if(null==a.Ea||null==a[eb])throw new P(518);if(a.Zb&&null===a.Ea.Ab().hd())throw new P(519);};nj[t].Ea=function(a){if(null!=this.a.Ea)throw new P(520);this.a.Ea=a;return this};nj[t].into=nj[t].Ea;ua(nj[t],function(a){if(null!=this.a[eb])throw new P(521);a instanceof af||a[bb](function(a){return a instanceof af})?this.a.$b=a:ua(this.a,a);return this});
ua(nj[t],nj[t][eb]);function oj(a){return pj("and",e[t][n][r](arguments))}J("lf.op.and",oj);J("lf.op.or",function(a){return pj("or",e[t][n][r](arguments))});function pj(a,b){var c=new Kh(a);b[F](function(a){qf(c,a)});return c}J("lf.op.not",function(a){a.wd(!0);return a});function X(a,b){kj[r](this,a,new Ef(a.m(Md)));this.Ee=this.xd=!1;this.a.g=b;qj(this);rj(this)}K(X,kj);J("lf.query.SelectBuilder",X);X[t].bb=function(){X.Fb.bb[r](this);var a=this.a;if(null==a.c)throw new P(522);if(Mb(a.Qb)&&!Mb(a.W)||Mb(a.Yb)&&!Mb(a.N))throw new P(523);null!=this.a.ga?sj(this):tj(this)};function qj(a){var b=a.a.g[Fa](function(a){return a instanceof di&&"DISTINCT"==a.Gb},a);if(0!=b[C]&&(1!=b[C]||1!=a.a.g[C]))throw new P(524);}
function sj(a){var b=a.a.g[Fa](function(a){return!(a instanceof di)}).map(function(a){return a.l()}),c=!1;if(0==a.a.ga[C]||0==a.a.g[C])c=!0;else{var d=a.a.ga.map(function(a){return a.l()});(c=b[bb](function(a){return-1==d[ab](a)}))||(c=a.a.ga[bb](function(a){a=a.S();return 6==a||0==a}))}if(c)throw new P(525);}function tj(a){var b=a.a.g[bb](function(a){return a instanceof di},a);a=a.a.g[bb](function(a){return!(a instanceof di)},a)||0==a.a.g[C];if(b&&a)throw new P(526);}
function rj(a){a.a.g[F](function(a){if(a instanceof di&&!uj(a.Gb,a.S()))throw new P(527,a.l());},a)}X[t].c=function(a){if(this.Ee)throw new P(515);this.Ee=!0;null==this.a.c&&(this.a.c=[]);this.a.c[x][yb](this.a.c,e[t][n][r](arguments));return this};X[t].from=X[t].c;X[t].B=function(a){if(this.xd)throw new P(516);this.xd=!0;vj(this,a);return this};X[t].where=X[t].B;function vj(a,b){if(null!=a.a.B){var c=oj(b,a.a.B);a.a.B=c}else a.a.B=b}
X[t].Uf=function(a,b){if(null==this.a.c)throw new P(542);if(this.xd)throw new P(547);this.a.c[x](a);vj(this,b);return this};X[t].innerJoin=X[t].Uf;X[t].Zf=function(a,b){if(!(b instanceof Uh))throw new P(541);if(null==this.a.c)throw new P(542);if(this.xd)throw new P(547);this.a.c[x](a);null==this.a.ub&&(this.a.ub=N());var c=b;Ye(a)!=Ye(b.qa.I())&&(c=b[gb]());this.a.ub.add(c.Y());vj(this,c);return this};X[t].leftOuterJoin=X[t].Zf;
X[t].W=function(a){if(null!=(this.a.W||this.a.Qb))throw new P(528);if(a instanceof af)this.a.Qb=a;else{if(0>a)throw new P(531);this.a.W=a}return this};X[t].limit=X[t].W;X[t].N=function(a){if(null!=(this.a.N||this.a.Yb))throw new P(529);if(a instanceof af)this.a.Yb=a;else{if(0>a)throw new P(531);this.a.N=a}return this};X[t].skip=X[t].N;X[t].M=function(a,b){null==this.a.M&&(this.a.M=[]);this.a.M[x]({K:a,ib:null!=b?b:1});return this};X[t].orderBy=X[t].M;
X[t].ga=function(a){if(null!=this.a.ga)throw new P(530);null==this.a.ga&&(this.a.ga=[]);this.a.ga[x][yb](this.a.ga,e[t][n][r](arguments));return this};X[t].groupBy=X[t].ga;function uj(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(X[t],function(){var a=new X(this[Xa],this.a.g);a.a=this.a[Oa]();a.a.$c=null;return a});la(X[t],X[t][Oa]);function wj(a,b){kj[r](this,a,new Vi(a.m(Md)));ia(this.a,b)}K(wj,kj);J("lf.query.UpdateBuilder",wj);wj[t].set=function(a,b){var c={Wc:b instanceof af?b.va():-1,K:a,value:b};null!=this.a.set?this.a.set[x](c):this.a.set=[c];return this};wj[t].set=wj[t].set;wj[t].B=function(a){this.Cd();this.a.B=a;return this};wj[t].where=wj[t].B;wj[t].Cd=function(){if(null!=this.a.B)throw new P(516);};
wj[t].bb=function(){wj.Fb.bb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[bb](function(a){return a[v]instanceof af}))throw new P(501);};function xj(a){this.a=a;this.za=null}xj[t].gc=function(){null===this.za&&(this.za=this.ed());return this.za};function yj(a){xj[r](this,a)}K(yj,xj);yj[t].ed=function(){return this.a.Zb?new xi(this.a.Ea,this.a[eb]):new wi(this.a.Ea,this.a[eb])};function zj(a){xj[r](this,a)}K(zj,xj);zj[t].ed=function(){var a=new zi(this.a[k],this.a.set),b=null!=this.a.B?new Ai(this.a.B.Ib()):null,c=new Bi(this.a[k]);null===b?qf(a,c):(qf(b,c),qf(a,b));return a};function Aj(a,b,c){this.za=a;this.de=b;this.Vb=c}Aj[t].gc=function(){this.Vb[F](function(a){this.za=a.kb(this.za,this.de)},this);return this.za};function Bj(a,b){xj[r](this,a);this.Vb=b}K(Bj,xj);Bj[t].ed=function(){var a=new yi(this.a.c),b=null!=this.a.B?new Ai(this.a.B.Ib()):null,c=new Bi(this.a.c);null===b?qf(a,c):(qf(b,c),qf(a,b));return(new Aj(a,this.a,this.Vb)).gc()};function Cj(){}K(Cj,Ki);Cj[t].kb=function(a,b){this.V=a;this.Wa(this.V,b);return this.V};Cj[t].Wa=function(a,b){if(a instanceof Ai&&a.G instanceof Uh){var c=a.G.Y(),d=nf(a,0);d instanceof Ci&&(c=Mb(b)&&null!=b.ub&&b.ub.has(c),c=new Ji(a.G,c),Ih(a,d,c,c),a==this.V&&(this.V=c),a=c)}R(a)[F](function(a){this.Wa(a,b)},this)};function Dj(){this.Vc=N()}K(Dj,Ki);Dj[t].kb=function(a){this.Vc[w]();this.V=a;this.Wa(this.V);this.Vc[w]();return this.V};Dj[t].Wa=function(a){if(Ej(a)){var b=a.G instanceof wf?Fj(this,a):Gj(this,a);this.Vc.add(a);b==a&&(b=nf(a,0));null!==b&&(Pb(b[Cb]())&&(this.V=b),Ej(b)&&!this.Vc.has(b)&&this.Wa(b))}else R(a)[F](function(a){this.Wa(a)},this)};
function Hj(a,b,c){var d=b;if(nf(b,0)instanceof Ai)d=Gh(b),Hj(a,b,c);else if(Ij(b)){var f=[],d=Hh(b,c,function(a){a=new Ai(a.G);f[x](a);return a});f[F](function(a){Hj(this,a,c)},a)}return d}function Fj(a,b){var c=N([Ye(b.G.K.I())]),d=function(a){return Jj(this,a,c)}[E](a);return Hj(a,b,d)}function Gj(a,b){var c=N([Ye(b.G.oa.I()),Ye(b.G.qa.I())]),d=function(a){return Jj(this,a,c)}[E](a);return Hj(a,b,d)}
function Jj(a,b,c){var d=N();Ch(b)[F](function(a){d.add(Ye(a[k]))},a);b instanceof Bi&&d.add(Ye(b[k]));return Sd(d,c)}function Ej(a){return a instanceof Ai&&!(a.G instanceof Kh)}function Ij(a){a=nf(a,0);return a instanceof Ci||a instanceof Ji};function Kj(a,b){xj[r](this,a);this.Vb=b;this.bf=this.Te=this.jf=this.We=this.we=this.He=this.hf=this.Be=this.lf=null}K(Kj,xj);
Kj[t].ed=function(){Lj(this);2<=this.a.c[C]&&(this.Be=new Ci);this.hf=null!=this.a.B?new Ai(this.a.B.Ib()):null;this.a.M&&(this.We=new Ei(this.a.M));null!=this.a.N&&0<this.a.N&&(this.jf=new Ii(this.a.N));null!=this.a.W&&(this.Te=new Hi(this.a.W));null!=this.a.ga&&(this.He=new Gi(this.a.ga));Mj(this);this.bf=new Di(this.a.g||[],this.a.ga||null);var a=Nj(this);return(new Aj(a,this.a,this.Vb)).gc()};
function Nj(a){for(var b=[a.Te,a.jf,a.bf,a.We,a.we,a.He,a.hf,a.Be],c=null,d=null,f=0;f<b[C];f++){var h=b[f];null!==h&&(null===d?d=h:qf(b[c],h),c=f)}a.lf[F](function(a){qf(b[c],a)});return d}function Lj(a){a.lf=a.a.c.map(function(a){return new Bi(a)},a)}function Mj(a){var b=a.a.g[Fa](function(a){return a instanceof di});null!=a.a.M&&a.a.M[F](function(a){a.K instanceof di&&b[x](a.K)});0<b[C]&&(a.we=new Fi(b))};function Oj(){this.je=[new Li,new Oi,new Dj,new Cj];this.Id=[new Li]}Oj[t].create=function(a){var b=null;if(a instanceof Ui)b=new yj(a);else if(a instanceof Si)b=new Bj(a,this.Id);else if(a instanceof Ef)b=new Kj(a,this.je);else if(a instanceof Vi)b=new zj(a);else throw new P(513);b=b.gc();return new vi(b,a.ca())};function Pj(a){V[r](this,0,1);this.O=a}K(Pj,V);g(Pj[t],function(){return"delete("+this.O[u]()+")"});Pj[t].ba=function(a,b){var c=b[0][B].map(function(a){return a.ua});a[jb](this.O,c);return[Re()]};function Qj(a,b){V[r](this,0,-1);ia(this,b);this.F=a.m(Id)}K(Qj,V);g(Qj[t],function(){return"get_row_count("+this[k][u]()+")"});Qj[t].ba=function(){var a=this.F.get(this[k].u+".#"),b=new Me([],[this[k][u]()]),c=gi(),a=a.Ta().ta;null===b.Xa&&(b.Xa=M());b.Xa.set(c.l(),a);return[b]};function Rj(a,b){V[r](this,0,-1);this.ja=a.m(Hd);this.F=a.m(Id);ia(this,b)}K(Rj,V);g(Rj[t],function(){var a="table_access("+this[k][u]();null===this[k].Ya()||(a+=" as "+this[k].Ya());return a+")"});Rj[t].ba=function(){var a=this.F.get(this[k].u+".#").eb();return[Ue(Dg(this.ja,a),[Ye(this[k])])]};function Sj(a){this.j=a}K(Sj,Ki);Sj[t].kb=function(a,b){this.V=a;if(!this.Dd(b))return a;var c=Dh(a,function(a){return a instanceof Rj})[0],d=new Qj(this.j,c[k]);Ih(c,c,d,d);return this.V};Sj[t].Dd=function(a){return 1==a.g[C]&&1==a.c[C]&&null==a.B&&null==a.W&&null==a.N&&null==a.ga?(a=a.g[0],a instanceof di&&"COUNT"==a.Gb&&a[kb]instanceof fi):!1};function Tj(a){V[r](this,0,1);this.Ge=a}K(Tj,V);g(Tj[t],function(){return"groupBy("+this.Ge.map(function(a){return a.l()})[D]()+")"});Tj[t].ba=function(a,b){return Uj(this,b[0])};function Uj(a,b){var c=new Sh,d=function(a){return this.Ge.map(function(b){return Xe(a,b)},this)[m](",")}[E](a);b[B][F](function(a){c.add(d(a),a)},a);return c.Oa().map(function(a){return new Me(c.get(a),Q(b))},a)};function Vj(a,b,c){V[r](this,0,0);this.F=a.m(Id);this.ja=a.m(Hd);this.G=b;this.Ob=c;this.Ad="eq"==this.G.L?0:2;this.Ie=null}K(Vj,V);var Wj=["hash","index_nested_loop","nested_loop"];g(Vj[t],function(){return"join(type: "+(this.Ob?"outer":"inner")+", impl: "+Wj[this.Ad]+", "+this.G[D]()+")"});
Vj[t].ba=function(a,b){switch(this.Ad){case 0:return[Yh(this.G,b[0],b[1],this.Ob)];case 1:return[Zh(this.G,b[0],b[1],this.Ie,this.ja)];default:var c=this.G,d=b[0],f=b[1],h=this.Ob,l=[d,f];h||(l=Vh(c,d,f));for(var d=l[0],f=l[1],l=[],q=Q(d),y=Q(f),O=0;O<d[B][C];O++){var Ta=!1,Ua=Xe(d[B][O],c.oa);if(null!==Ua)for(var Tb=0;Tb<f[B][C];Tb++)if(c.cd(Ua,Xe(f[B][Tb],c.qa))){var Ta=!0,Xj=$e(d[B][O],q,f[B][Tb],y);l[x](Xj)}h&&!Ta&&l[x](Xh(c,d[B][O],q))}c=Q(d)[Ra](Q(f));return[new Me(l,c)]}};
function Yj(a,b){a.Ad=1;var c=a.F.get(b.va().l());a.Ie={Rf:b,dg:b==a.G.oa?a.G.qa:a.G.oa,index:c}};function Zj(a){V[r](this,0,-1);this.df=a}K(Zj,V);g(Zj[t],function(){return"no_op_step("+Q(this.df[0])[m](",")+")"});Zj[t].ba=H("df");function ak(){}K(ak,Ki);ak[t].kb=function(a,b){this.V=a;if(!this.Dd(b))return a;Dh(a,function(a){return a instanceof Vj})[F](this.mg,this);return this.V};ak[t].Dd=function(a){return 1<a.c[C]};ak[t].mg=function(a){if("eq"==a.G.L&&!a.Ob){var b=function(b){if(!(b instanceof Rj))return null;b=Ye(b[k])==Ye(a.G.qa.I())?a.G.qa:a.G.oa;return Pb(b.va())?null:b},c=b(nf(a,0)),b=b(nf(a,1));if(null!==c||null!==b){b=null===b?c:b;Yj(a,b);var d=new Me([],[Ye(b.I())]);sf(a,new Zj([d]),b==c?0:1)}}};function bk(a){a=a.map(function(a){return a.fa()});a=rd[yb](null,a);var b=[];qd(a,function(a){b[x](a)});return b}function ck(a){this.Nb=a}ck[t].gd=function(){return 1==this.Nb.g[C]?[Ie()]:[this.Nb.g.map(function(){return Ie()})]};function dk(a,b){this.Nb=a;this.ya=b;this.Gd=this.Re=null}
function ek(a,b){var c=M();a.ya.Oa()[F](function(a){var f=this.ya.get(a).map(function(a){return Af(b,a)},this),h=new zh([Ie()]);f[F](function(a){var b=null;"between"==a.L?b=new Ee(a[v][0],a[v][1],!1,!1):"eq"==a.L?(b=a[v],b=new Ee(b,b,!1,!1)):b="gte"==a.L?new Ee(a[v],null,!1,!1):"gt"==a.L?new Ee(a[v],null,!0,!1):"lte"==a.L?new Ee(null,a[v],!1,!1):new Ee(null,a[v],!1,!0);a=a.Za?Fe(b):[b];a=new zh(a);h=Ah(h,a)});c.set(a,h)},a);return c}
dk[t].gd=function(a){if(this.Re==a)return this.Gd;for(var b=ek(this,a),c=this.Nb.g[C]-1;0<=c;c--){var d=this.Nb.g[c];if(null!==(b.get(d.ea[u]())||null))break;b.set(d.ea[u](),new zh([Ie()]))}this.Gd=1==this.Nb.g[C]?xd(b)[0].fa():bk(fk(this,b));this.Re=a;return this.Gd};function fk(a,b){var c=M(),d=0;a.Nb.g[F](function(a){c.set(a.ea[u](),d);d++});return wd(b)[$a](function(a,b){return c.get(a)-c.get(b)}).map(function(a){return b.get(a)})};function gk(a,b){this.mf=b;this.F=a.m(Id)}function hk(a,b,c){c=c[Fa](a.Vf,a);if(0==c[C])return null;a=ik(a,c);if(0==a[C])return null;if(1==a[C])return a[0];var d=Number.MAX_VALUE;return a[Ja](function(a,c){var l=jk(c,b);return l<d?(d=l,c):a},null)}function ik(a,b){return a.mf.Ca().map(function(a){a=new kk(this.F,a);lk(a,b);return a},a)[Fa](function(a){if(null===a.ya)a=!1;else{for(var b=!1,f=!0,h=0;h<a.sb.g[C];h++){var l=a.ya.ka(a.sb.g[h].ea[u]());if(b&&l){f=!1;break}l||(b=!0)}a=f}return a})}
gk[t].Vf=function(a){var b;if(b=a instanceof wf)xf(a),b=null!==a[v]&&("between"==a.L||"eq"==a.L||"gt"==a.L||"gte"==a.L||"lt"==a.L||"lte"==a.L);return b?a.K.I()==this.mf:!1};function kk(a,b){this.F=a;this.sb=b;this.Sf=N(this.sb.g.map(function(a){return a.ea[u]()}));this.Ud=this.ya=null}function mk(a){null===a.Ud&&(a.Ud=new dk(a.sb,a.ya));return a.Ud}function lk(a,b){b[F](function(a){var b=a.cb()[0][u]();this.Sf.has(b)&&(null===this.ya&&(this.ya=new Sh),this.ya.add(b,a.Y()))},a)}
function jk(a,b){var c=mk(a).gd(b),d=a.F.get(a.sb.l());return c[Ja](function(a,b){return a+d.bd(b)},0)};function nk(a,b,c,d){V[r](this,0,-1);this.F=a.m(Id);this.index=b;this.Pe=c;this.ge=d;this.Uc=this.Tc=!1}K(nk,V);g(nk[t],function(){return"index_range_scan("+this[ob].l()+", ?, "+(this.ge?"reverse":"natural")+(this.Tc?", limit:?":"")+(this.Uc?", skip:?":"")+")"});nk[t].Qc=function(a){var b=this[D](),c=this.Pe.gd(a),b=b[fb]("?",c[D]());this.Tc&&(b=b[fb]("?",a.W[D]()));this.Uc&&(b=b[fb]("?",a.N[D]()));return b};
nk[t].ba=function(a,b,c){a=this.Pe.gd(c);b=this.F.get(this[ob].l());c=(1==a[C]&&a[0]instanceof Ee&&Ke(a[0])?Hg(b.get(a[0].c),!1,this.Tc?c.W:void 0,this.Uc?c.N:void 0):b.eb(a,this.ge,this.Tc?c.W:void 0,this.Uc?c.N:void 0)).map(function(a){return new bd(a,{})},this);return[Ue(c,[this[ob].Pc])]};function ok(a){V[r](this,0,1);this.sd=a}K(ok,V);g(ok[t],Kb("select(?)"));ok[t].Qc=function(a){a=Af(a,this.sd);return this[D]()[fb]("?",a[D]())};ok[t].ba=function(a,b,c){return[Af(c,this.sd).eval(b[0])]};function pk(a,b){V[r](this,0,1);this.ja=a.m(Hd);this.O=b}K(pk,V);g(pk[t],function(){return"table_access_by_row_id("+this.O[u]()+")"});pk[t].ba=function(a,b){return[Ue(Dg(this.ja,Oe(b[0])),[Ye(this.O)])]};function qk(a){this.j=a}K(qk,Ki);qk[t].kb=function(a,b){this.V=a;Dh(a,function(a){return a instanceof Rj})[F](function(a){var d=rk(a);if(0!=d[C]){var f=hk(new gk(this.j,a[k]),b,d.map(function(a){return Af(b,a.sd)}));if(null!==f){var h=M();d[F](function(a){h.set(a.sd,a)},this);this.V=sk(this,f,h,a)}}},this);return this.V};function rk(a){var b=[];for(a=a[Cb]();a;)a instanceof ok&&b[x](a),a=a[Cb]();return b}
function sk(a,b,c,d){(null===b.ya?[]:b.ya.fa()).map(function(a){return c.get(a)})[F](Eh);b=new nk(a.j,b.sb,mk(b),!1);a=new pk(a.j,d[k]);qf(a,b);Ih(d,d,a,b);return b.fb()};function tk(a,b){V[r](this,0,-1);this.F=a.m(Id);this.O=b}K(tk,V);g(tk[t],function(){return"insert("+this.O[u]()+")"});tk[t].ba=function(a,b,c){uk(this.O,c[eb],this.F);a.tb(this.O,c[eb]);return[Ue(c[eb],[this.O[u]()])]};function uk(a,b,c){a=a.Ab().hd();if(null===a?0:a.g[0][qb]){var d=a.g[0].ea[u]();c=c.get(a.l()).max();var f=null===c?0:c[0];b[F](function(a){if(0==a.o[d]||null==a.o[d])f++,a.o[d]=f})}}function vk(a,b){V[r](this,0,-1);this.F=a.m(Id);this.O=b}K(vk,V);
g(vk[t],function(){return"insert_replace("+this.O[u]()+")"});vk[t].ba=function(a,b,c){uk(this.O,c[eb],this.F);a.Pd(this.O,c[eb]);return[Ue(c[eb],[this.O[u]()])]};function wk(){V[r](this,0,1)}K(wk,V);g(wk[t],Kb("limit(?)"));wk[t].Qc=function(a){return this[D]()[fb]("?",a.W[D]())};wk[t].ba=function(a,b,c){b[0][B][A](c.W);return b};function xk(a){V[r](this,0,1);this.M=a}K(xk,V);I=xk[t];g(I,function(){return"order_by("+Ff(this.M)+")"});I.ba=function(a,b){if(1==b[C]){var c;c=b[0];for(var d=null,f=0;f<this.M[C];f++){var h=hi(this.M[f].K);if(null!==c.Xa&&c.Xa.has(h.l())){d=h;break}}c=d;(null===c?b[0]:Pe(b[0],c))[B][$a](this.Jf[E](this))}else b[$a](this.pg[E](this));return b};
I.U=function(a,b){var c=null,d=null,f=null,h=-1;do h++,f=this.M[h].K,c=this.M[h].ib,d=a(f),f=b(f);while(d==f&&h+1<this.M[C]);d=d<f?-1:d>f?1:0;return 1==c?d:-d};I.pg=function(a,b){return this.U(function(b){return b instanceof di?Pe(a,b):Xe(a[B][a[B][C]-1],b)},function(a){return a instanceof di?Pe(b,a):Xe(b[B][b[B][C]-1],a)})};I.Jf=function(a,b){return this.U(function(b){return Xe(a,b)},function(a){return Xe(b,a)})};function yk(a,b){this.Ga=a;this.H=b}function zk(a){return a.H[bb](function(a){return a instanceof di},a)?Ak(a):Bk(a)}function Ak(a){if(1==a.H[C]&&"DISTINCT"==a.H[0].Gb)return a=Pe(a.Ga,a.H[0])[B].map(function(a){var b=new Ve(new bd(-1,{}),1<this.Ga.J[G]);Ze(b,this.H[0],Xe(a,this.H[0][kb]));return b},a),new Me(a,[]);var b=new Ve(new bd(-1,{}),1<a.Ga.J[G]);a.H[F](function(a){var d=a instanceof di?Pe(this.Ga,a):Xe(this.Ga[B][0],a);Ze(b,a,d)},a);return new Me([b],Q(a.Ga))}
function Bk(a){var b=e(a.Ga[B][C]),c=1<a.Ga.J[G];a.Ga[B][F](function(a,f){b[f]=new Ve(new bd(a.ua.id(),{}),c);this.H[F](function(c){Ze(b[f],c,Xe(a,c))},this)},a);return new Me(b,Q(a.Ga))}function Ck(a,b){var c=a.map(function(a){return zk(new yk(a,b))[B][0]});return new Me(c,Q(a[0]))};function Dk(a,b){V[r](this,0,1);this.g=a;this.Mb=b}K(Dk,V);g(Dk[t],function(){var a="project("+this.g[D]();if(null!==this.Mb)var b=this.Mb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});Dk[t].ba=function(a,b){var c;0==b[C]?c=[Re()]:1==b[C]?(c=b[0],c=[0==this.g[C]?c:zk(new yk(c,this.g))]):c=[Ck(b,this.g)];return c};function Ek(a){return a.g[bb](function(a){return a instanceof di})||null!==a.Mb};function Fk(){V[r](this,0,1)}K(Fk,V);g(Fk[t],Kb("skip(?)"));Fk[t].Qc=function(a){return this[D]()[fb]("?",a.N[D]())};Fk[t].ba=function(a,b,c){return[new Me(b[0][B][n](c.N),Q(b[0]))]};function Gk(){}K(Gk,Ki);Gk[t].kb=function(a){var b=Dh(a,function(a){return a instanceof wk||a instanceof Fk});if(0==b[C])return a;var c=Hk(a);if(null===c)return a;b[F](function(a){a instanceof wk?c.Tc=!0:c.Uc=!0;Eh(a)},this);return c.fb()};function Hk(a){a=Dh(a,function(a){return a instanceof nk},function(a){return a instanceof Dk&&Ek(a)||a instanceof xk||1!=R(a)[C]||a instanceof ok});return 0<a[C]?a[0]:null};function Ik(a){this.j=a}K(Ik,Ki);Ik[t].kb=function(a){var b=Jk(a);if(null===b)return a;a:{var c=b;a=Kk(nf(b,0));if(null!==a){var d;d=b.M;for(var f=null,h=a[k].Ca(),l=0;l<h[C]&&null===f;l++)f=Lk(h[l],d);d=f;if(null===d){a=c;break a}c=new nk(this.j,d.sb,new ck(d.sb),d.Me);d=new pk(this.j,a[k]);qf(d,c);Eh(b);c=Ih(a,a,d,c)}a=c}if(a==b)a:if(a=b,c=Mk(nf(b,0)),null!==c){d=Lk(c[ob],b.M);if(null===d)break a;c.ge=d.Me;a=Eh(b).parent}return a.fb()};
function Mk(a){a=Dh(a,function(a){return a instanceof nk},function(a){return 1!=R(a)[C]});return 0<a[C]?a[0]:null}function Kk(a){a=Dh(a,function(a){return a instanceof Rj},function(a){return 1!=R(a)[C]});return 0<a[C]?a[0]:null}function Jk(a){a=Dh(a,function(a){return a instanceof xk});return 0<a[C]?a[0]:null}function Lk(a,b){if(a.g[C]!=b[C]||!b[Va](function(b,c){return b.K[u]()==a.g[c].ea[u]()}))return null;var c=Nk(b,a);return c[0]||c[1]?{sb:a,Me:c[1]}:null}
function Nk(a,b){var c=a[Ja](function(a,b){return a<<1|(0==b.ib?0:1)},0),d=b.g[Ja](function(a,b){return a<<1|(0==b.ib?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[C],b.g[C]))-1;return[c,d]};function Ok(a,b,c){this.za=a;this.de=b;this.Vb=c}Ok[t].gc=function(){this.Vb[F](function(a){this.za=a.kb(this.za,this.de)},this);return this.za};function Pk(a,b){V[r](this,0,1);this.O=a;this.xg=b}K(Pk,V);g(Pk[t],function(){return"update("+this.O[u]()+")"});Pk[t].ba=function(a,b){var c=b[0][B].map(function(a){var b=this.O.cc(a.ua.Ha());this.xg[F](function(a){b.o[a.K[u]()]=a[v]},this);return b},this);a[Wa](this.O,c);return[Re()]};function Qk(a){this.j=a;this.je=[new ak,new qk(this.j),new Ik(this.j),new Gk,new Sj(this.j)];this.Id=[new qk(this.j)]}Qk[t].create=function(a,b){var c=a.fb();if(c instanceof xi||c instanceof wi)return Rk(this,a,b);if(c instanceof Di||c instanceof Hi||c instanceof Ii)return Rk(this,a,b,this.je);if(c instanceof yi||c instanceof zi)return Rk(this,a,b,this.Id);throw new P(8);};function Rk(a,b,c,d){a=Bh(b.fb(),a.cg[E](a));null!=d&&(a=(new Ok(a,c,d)).gc());return new Gf(a,b.ca())}
Qk[t].cg=function(a){if(a instanceof Di)return new Dk(a.g,a.Mb);if(a instanceof Gi)return new Tj(a.g);if(a instanceof Fi)return new li(a.g);if(a instanceof Ei)return new xk(a.M);if(a instanceof Ii)return new Fk;if(a instanceof Hi)return new wk;if(a instanceof Ai)return new ok(a.G.Y());if(a instanceof Ci)return new Pi;if(a instanceof Ji)return new Vj(this.j,a.G,a.Ob);if(a instanceof Bi)return new Rj(this.j,a[k]);if(a instanceof yi)return new Pj(a[k]);if(a instanceof zi)return new Pk(a[k],a.qe);if(a instanceof
xi)return new vk(this.j,a[k]);if(a instanceof wi)return new tk(this.j,a[k]);throw new P(514);};function Sk(a){this.ag=new Oj;this.kg=new Qk(a)};function Tk(){this.Ue=M()}function Uk(a,b){var c=a.Ue.get(b[u]())||null;null===c&&(c=new Vk,a.Ue.set(b[u](),c));return c}function Wk(a,b,c,d){c[F](function(a){a=Uk(this,a);0==d?(a.$a=null,a.tc=b):3==d?(null===a.Xb&&(a.Xb=N()),a.Xb.add(b),null===a.Qa&&(a.Qa=N()),a.Qa[Za](b)):1==d?(null===a.Qa&&(a.Qa=N()),a.Qa.add(b)):2==d&&(a.$a=b)},a)}
function Xk(a,b,c,d){var f=!0;c[F](function(a){if(f){a=Uk(this,a);var c=null===a.Qa||0==a.Qa[G];f=0==d?(null===a.Xb||0==a.Xb[G])&&c&&null===a.tc&&null!==a.$a&&a.$a==b:3==d?null===a.tc&&null===a.$a&&null!==a.Qa&&a.Qa.has(b):1==d?null===a.$a:c&&(null===a.$a||a.$a==b)}},a);return f}function Yk(a,b,c,d){var f=Xk(a,b,c,d);f&&Wk(a,b,c,d);return f}Tk[t].releaseLock=function(a,b){b[F](function(b){Uk(this,b).releaseLock(a)},this)};function Zk(a,b){b[F](function(a){Uk(this,a).$a=null},a)}
function Vk(){this.Xb=this.Qa=this.$a=this.tc=null}Vk[t].releaseLock=function(a){this.tc==a&&(this.tc=null);this.$a==a&&(this.$a=null);null===this.Qa||this.Qa[Za](a);null===this.Xb||this.Xb[Za](a)};function $k(){this.Tb=new al;this.Dc=new Tk}function Of(a,b){(2>b[Eb]()||2>b[Eb]())&&Zk(a.Dc,b.ca());a.Tb.tb(b);bl(a);return b.xc().ia}function bl(a){for(var b=a.Tb.fa(),c=0;c<b[C];c++){var d=b[c],f=!1;if(f=0==d.S()?cl(a,d,1,3):cl(a,d,2,0))a.Tb[jb](d),f=a,d[Pa]()[z](f.ig[E](f,d),f.hg[E](f,d))}}function cl(a,b,c,d){var f=!1;Yk(a.Dc,b.Y(),b.ca(),c)&&(f=Yk(a.Dc,b.Y(),b.ca(),d));return f}$k[t].ig=function(a,b){this.Dc.releaseLock(a.Y(),a.ca());a.xc()[Gb](b);bl(this)};
$k[t].hg=function(a,b){this.Dc.releaseLock(a.Y(),a.ca());a.xc()[Ka](b);bl(this)};function al(){this.Tb=[]}al[t].tb=function(a){Gg(this.Tb,a,function(a,c){var d=a[Eb]()-c[Eb]();return 0==d?a.Y()-c.Y():d})};al[t].fa=function(){return this.Tb[n]()};va(al[t],function(a){var b=this.Tb;a=ec(b,a);var c;(c=0<=a)&&jc(b,a);return c});function dl(a,b){this.Jd=bf.fd();this.ee=a;this.od=b;this.H=el(this)}function el(a){if(0<a.ee.g[C])return a.ee.g;var b=[];a.ee.c[F](function(a){a.cb()[F](function(a){b[x](a)})});return b}dl[t].U=function(a,b){return this.H[Va](function(c){return hf(this.Jd,c.S(),"eq")(Xe(a,c),Xe(b,c))},this)};
function fl(a,b,c){var d=null===b?[]:b[B],f=id(d,c[B],a.U[E](a),function(a){return d[a]});b=[];for(var h=0,l=0;l<d[C];l++){var q=d[l];f[h]==q?h++:(q=a.od[A](h,1),q=gl(l,q,0,a.od),b[x](q))}f=id(d,c[B],a.U[E](a),function(a,b){return c[B][b]});for(l=h=0;l<c[B][C];l++)q=c[B][l],f[h]==q?h++:(a.od[A](l,0,q.ua.o),q=gl(l,[],1,a.od),b[x](q));return b}function gl(a,b,c,d){return{yg:c,index:a,object:d,Ag:b,type:"splice"}};function hl(){this.ec=M()}hl[t].zd=function(a,b){var c=Vb(a.a)[D](),d=this.ec.get(c)||null;null===d&&(d=new il(a),this.ec.set(c,d));d.zd(b)};hl[t].fe=function(a,b){var c=Vb(a.a)[D](),d=this.ec.get(c)||null;d.fe(b);0<d.Hc[G]||this.ec[Za](c)};function Nf(a,b){var c=N();b[F](function(a){c.add(a[u]())});var d=[];a.ec[F](function(a){a=a.zc();a[pb].c[bb](function(a){return c.has(a[u]())})&&d[x](a)});return d}function Lf(a,b,c){b=Vb(null!=b.$c?b.$c:b)[D]();a=a.ec.get(b)||null;null!==a&&jl(a,c)}
function il(a){this.Af=a;this.Hc=N();this.fg=[];this.Se=null;this.Hf=new dl(a.a,this.fg)}il[t].zd=function(a){this.Hc.has(a)||this.Hc.add(a)};il[t].fe=function(a){return this.Hc[Za](a)};il[t].zc=function(){var a=this.Af;return{context:a.a,ce:lj(a)}};function jl(a,b){var c=fl(a.Hf,a.Se,b);a.Se=b;0<c[C]&&a.Hc[F](function(a){a(c)})};function kl(a,b){var c=a.m(Md),d=b||{},f=new Bg;a.jb(Hd,f);var f=null,h=!1;switch(d.storeType||0){case 1:f=new og(c);break;case 5:f=new qg(c);break;case 4:f=new xg(a,c,d.webSqlDbSize);break;case 3:f=new $f(c,d.firebase);h=!0;break;default:f=new kg(a,c)}a.jb(Gd,f);var l=new yh;a.jb(Id,l);return f.Da(d.onUpgrade)[z](function(){var b=new Sk(a);a.jb(Jd,b);b=new $k;a.jb(Kd,b);b=new hl;a.jb(Ld,b);return l.Da(c)})[z](function(){if(h){var b=new Pf(a);b.xb.subscribe(b.Yd[E](b))}return(new rh(a)).Da(c)})};function ll(a,b){this.j=a;this.xb=a.m(Gd);this.Ra=a.m(Kd);this.Bb=a.m(Ld);this.sa=N(b);this.Pa=new Ae(this.j,this.sa);this.Ub=Qc();this.uc=Qc();this.se=Qc()}I=ll[t];ma(I,function(){this.se[Gb]();return this.uc.ia});I.S=Kb(1);I.ca=H("sa");I.xc=H("Ub");I.Y=function(){return Vb(this)};Da(I,Kb(2));function ml(a){Of(a.Ra,a);return a.se.ia}
function nl(a,b){var c=b.zc();return c.ce.fb()[Pa](a.Pa,c[pb])[z](function(a){return Ne(a[0])},function(a){this.Pa.Db();var b=new Wc(a[p]);this.uc[Ka](b);throw a;}[E](a))}I.ma=function(){this.xb.Jb(this.S(),this.Pa).ma()[z](function(){this.Mc();this.uc[Gb]()}[E](this),function(a){this.Pa.Db();this.uc[Ka](a)}[E](this));return this.Ub.ia};I.Db=function(){this.Pa.Db();this.uc[Gb]();return this.Ub.ia};I.Mc=function(){var a=Nf(this.Bb,this.sa);0!=a[C]&&(a=new Kf(this.j,a),Of(this.Ra,a))};function ol(a){this.j=a;this.Ra=a.m(Kd);this.Rc=null;this.Sa=0;0==pl[G]&&(pl.set(0,N([1,4])),pl.set(1,N([2])),pl.set(2,N([3,5,6])),pl.set(3,N([2,7])),pl.set(4,N([7])),pl.set(5,N([7])),pl.set(6,N([7])))}J("lf.proc.Transaction",ol);var pl=M();function ql(a,b){var c=pl.get(a.Sa)||null;if(null===c||!c.has(b))throw new P(107,a.Sa,b);a.Sa=b}
ma(ol[t],function(a){ql(this,4);var b=[];try{a[F](function(a){a.bb();b[x](a.zc())},this)}catch(c){return ql(this,7),Mc(c)}a=new Qi(this.j,b);return Of(this.Ra,a)[z](function(a){ql(this,7);return a.map(function(a){return Ne(a)})}[E](this),function(a){ql(this,7);throw a;}[E](this))});ma(ol[t],ol[t][Pa]);ol[t].yf=function(a){ql(this,1);this.Rc=new ll(this.j,a);return ml(this.Rc)[z](function(){ql(this,2)}[E](this))};ol[t].begin=ol[t].yf;
ol[t].xf=function(a){ql(this,3);return nl(this.Rc,a)[z](function(a){ql(this,2);return a}[E](this),function(a){ql(this,7);throw a;}[E](this))};ol[t].attach=ol[t].xf;ol[t].ma=function(){ql(this,5);return this.Rc.ma()[z](function(){ql(this,7)}[E](this))};ol[t].commit=ol[t].ma;ol[t].Db=function(){ql(this,6);return this.Rc.Db()[z](function(){ql(this,7)}[E](this))};ol[t].rollback=ol[t].Db;function Y(a){this.j=a;this.s=a.m(Md);this.Od=!1}J("lf.proc.Database",Y);Y[t].Da=function(a){this.j.jb(Md,this.s);return kl(this.j,a)[z](function(){this.Od=!0;return this}[E](this))};Y[t].init=Y[t].Da;Y[t].rb=H("s");Y[t].getSchema=Y[t].rb;function rl(a){if(!a.Od)throw new P(2);}Y[t].select=function(a){rl(this);return new X(this.j,1!=arguments[C]||null!=arguments[0]?e[t][n][r](arguments):[])};Y[t].select=Y[t].select;Y[t].tb=function(){rl(this);return new nj(this.j)};Y[t].insert=Y[t].tb;
Y[t].Pd=function(){rl(this);return new nj(this.j,!0)};Y[t].insertOrReplace=Y[t].Pd;qa(Y[t],function(a){rl(this);return new wj(this.j,a)});qa(Y[t],Y[t][Wa]);ra(Y[t],function(){rl(this);return new mj(this.j)});Y[t]["delete"]=Y[t][Za];Y[t].observe=function(a,b){this.j.m(Ld).zd(a,b)};Y[t].observe=Y[t].observe;Y[t].unobserve=function(a,b){this.j.m(Ld).fe(a,b)};Y[t].unobserve=Y[t].unobserve;Y[t].Ff=function(){rl(this);return new ol(this.j)};Y[t].createTransaction=Y[t].Ff;
oa(Y[t],function(){try{this.j.m(Gd)[Qa]()}catch(a){}this.j[w]();this.Od=!1});oa(Y[t],Y[t][Qa]);function Z(a,b,c,d,f,h){this.O=a;this.u=b;this.Ne=c;this.Le=d;this.qf=f;this.ab=h||null}J("lf.schema.BaseColumn",Z);I=Z[t];na(I,H("u"));I.l=function(){return Ye(this.O)+"."+this.u};g(I,function(){return this.l()});I.I=H("O");I.S=H("qf");Z[t].getType=Z[t].S;Z[t].Ya=H("ab");Z[t].Ca=function(){null==this.ha&&(this.ha=[],this.I().Ca()[F](function(a){-1!=a.g.map(function(a){return a.ea[u]()})[ab](this.u)&&this.ha[x](a)},this));return this.ha};
Z[t].va=function(){if(!Mb(this.da)){var a=this.Ca()[Fa](function(a){return 1!=a.g[C]?!1:a.g[0].ea[u]()==this[u]()},this);this.da=0<a[C]?a[0]:null}return this.da};Z[t].Bc=H("Le");Z[t].isNullable=Z[t].Bc;Z[t].Cc=H("Ne");Z[t].Na=function(a){return $h(this,a,"eq")};Z[t].eq=Z[t].Na;Z[t].Ve=function(a){return $h(this,a,"neq")};Z[t].neq=Z[t].Ve;Z[t].Vd=function(a){return $h(this,a,"lt")};Z[t].lt=Z[t].Vd;Z[t].bg=function(a){return $h(this,a,"lte")};Z[t].lte=Z[t].bg;Z[t].Of=function(a){return $h(this,a,"gt")};
Z[t].gt=Z[t].Of;Z[t].Pf=function(a){return $h(this,a,"gte")};Z[t].gte=Z[t].Pf;Z[t].match=function(a){return $h(this,a,"match")};Z[t].match=Z[t].match;Z[t].zf=function(a,b){return $h(this,[a,b],"between")};Z[t].between=Z[t].zf;Z[t].Qf=function(a){return $h(this,a,"in")};Z[t]["in"]=Z[t].Qf;Z[t].Xf=function(){return this.Na(null)};Z[t].isNull=Z[t].Xf;Z[t].Wf=function(){return this.Ve(null)};Z[t].isNotNull=Z[t].Wf;Z[t].nc=function(a){return new Z(this.O,this.u,this.Ne,this.Le,this.qf,a)};Z[t].as=Z[t].nc;function sl(){this.vd=M()}var tl;ta(sl[t],function(){this.vd[w]()});ta(sl[t],sl[t][w]);sl[t].jb=function(a,b){this.vd.set(a[D](),b);return b};sl[t].registerService=sl[t].jb;sl[t].m=function(a){var b=this.vd.get(a[D]())||null;if(null===b)throw new P(7,a[D]());return b};sl[t].getService=sl[t].m;sl[t].Td=function(a){return this.vd.has(a[D]())};sl[t].isRegistered=sl[t].Td;function ul(){this.f=M();this.size=0}I=ul[t];I.set=function(a,b){var c=this.f.get(a)||null;null===c&&(c=N(),this.f.set(a,c));c.has(b)||(c.add(b),this.size++);return this};I.ke=function(a,b){var c=this.f.get(a)||null;null===c&&(c=N(),this.f.set(a,c));b[F](function(a){c.has(a)||(c.add(a),this.size++)},this);return this};ra(I,function(a,b){var c=this.f.get(a,null);if(null===c)return!1;var d=c[Za](b);d&&(--this.size,0==c[G]&&this.f[Za](a));return d});
I.get=function(a){a=this.f.get(a)||null;return null===a?null:Rd(a)};ta(I,function(){this.f[w]();this.size=0});I.keys=function(){return wd(this.f)};ua(I,function(){var a=[];this.f[F](function(b){a=a[Ra](Rd(b))});return a});function vl(a){this.s=a;this.cf=new ul;this.Xe=new ul;this.ze=M();this.h=new ul;this.ye=new ul;wl(this)}function wl(a){a.s.Va()[F](function(a){var c=a[u]();a.Ab().Md()[F](function(d){this.cf.set(d.vb,d);this.Xe.set(c,this.s[k](d.vb));this.h.set(d.vb,a);this.ze.set(a[u]()+"."+d.Hb,d.vb);this.ye.set(d.vb+"."+d.Jc,a[u]())},this)},a)}function ue(a,b){return a.cf.get(b)}function Ti(a,b){var c=b.get(a);return null===c?[]:c}
function Wi(a,b){var c=N();b[F](function(a){(a=this.ze.get(a))&&c.add(a)},a);return Rd(c).map(function(a){return this.s[k](a)},a)}function Xi(a,b){var c=N();b[F](function(a){(a=this.ye.get(a))&&a[F](function(a){c.add(a)})},a);return Rd(c).map(function(a){return this.s[k](a)},a)};function xl(a,b,c){this.lg=a;this.eg=b;this.Nf=c}J("lf.schema.Constraint",xl);xl[t].hd=H("lg");xl[t].getPrimaryKey=xl[t].hd;xl[t].Md=H("Nf");xl[t].getForeignKeys=xl[t].Md;function yl(a,b){var c=a.ref[Ia](".");if(2!=c[C])throw new P(540,b);this.Hb=a.local;this.vb=c[0];this.Jc=c[1];ja(this,b);this.action=a.action;this.timing=a[La]};function zl(a){Al(a);this.Jd=bf.fd();this.u=a;this.H=M();this.oe=N();this.Sc=N();this.Gc=N();this.xa=null;this.ha=M();this.rd=!1;this.zb=[]}J("lf.schema.TableBuilder",zl);function Bl(a){ja(this,a[p]);this.ib=a.order;this.autoIncrement=a[qb]}var Cl=N([0,6]);function Al(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);}function Dl(a,b){if(b==a.u)throw new P(546,b);if(a.H.has(b)||a.ha.has(b)||a.Sc.has(b))throw new P(503,a.u+"."+b);}
function El(a,b){var c=!1;b[F](function(a){var b=this.H.get(a[p]);c=c||a[qb];if(a[qb]&&3!=b)throw new P(504);},a);if(c&&1<b[C])throw new P(505);}function Fl(a){if(null!==a.xa){var b=a.ha.get(a.xa).map(function(a){return a[p]}),c=0;if(a.zb[bb](function(a,f){c=f;return-1!=b[ab](a.Hb)},a))throw new P(543,a.zb[c][p]);}}
function Gl(a){if(null!==a.xa){var b=function(a){return a[p]},c=ga[zb](a.ha.get(a.xa).map(b));a.ha[F](function(a,f){if(f!=this.xa){var h=a.map(b);if(ga[zb](h)==c)throw new P(544,this.u+"."+f);}},a)}}function Hl(a){null===a.xa||a.ha.get(a.xa)[F](function(a){if(this.Gc.has(a[p]))throw new P(545,this.u+"."+a[p]);},a)}zl[t].sf=function(a,b){Al(a);Dl(this,a);this.H.set(a,b);Cl.has(b)&&this.ue([a]);return this};zl[t].addColumn=zl[t].sf;
zl[t].uf=function(a,b){var c=this.u;this.xa="pk"+(c[0].toUpperCase()+c.substring(1));Al(this.xa);Dl(this,this.xa);c=Il(this,a,!0,void 0,b);El(this,c);1==c[C]&&this.oe.add(c[0][p]);this.Sc.add(this.xa);this.ha.set(this.xa,c);return this};zl[t].addPrimaryKey=zl[t].uf;
zl[t].tf=function(a,b){Al(a);Dl(this,a);var c=new yl(b,this.u+"."+a);Mb(c.action)||(c.action=0);Mb(c[La])||(c.timing=0);if(1==c.action&&1==c[La])throw new P(506);if(!this.H.has(c.Hb))throw new P(540,a);this.zb[x](c);this.te(a,[c.Hb],!1);return this};zl[t].addForeignKey=zl[t].tf;zl[t].vf=function(a,b){Al(a);Dl(this,a);var c=Il(this,b,!0);Jl(this,a,c);1==c[C]&&this.oe.add(c[0][p]);this.ha.set(a,c);this.Sc.add(a);return this};zl[t].addUnique=zl[t].vf;
zl[t].ue=function(a){a=Il(this,a,!1);Kl(this,a);a[F](function(a){this.Gc.add(a[p])},this);return this};zl[t].addNullable=zl[t].ue;function Kl(a,b){wd(a.ha)[F](function(a){var d=N();this.ha.get(a)[F](function(a){d.add(a[p])});var f=b[Fa](function(a){return d.has(a[p])});if(1<d[G]&&0<f[C])throw new P(507,a,f[m](","));},a)}zl[t].te=function(a,b,c,d){Al(a);Dl(this,a);b=Il(this,b,!0,d);Jl(this,a,b);c&&this.Sc.add(a);this.ha.set(a,b);return this};zl[t].addIndex=zl[t].te;
function Jl(a,b,c){if(1<c[C]&&(a=c[Fa](function(a){return this.Gc.has(a[p])},a),0<a[C]))throw new P(507,b,a[m](","));}zl[t].Cb=Jb("rd");zl[t].persistentIndex=zl[t].Cb;zl[t].rb=function(){Fl(this);Gl(this);Hl(this);return new (Ll(this))};zl[t].getSchema=zl[t].rb;function Ml(a){return a.zb}
function Il(a,b,c,d,f){var h=b,h="string"==typeof b[0]?b.map(function(a){return new Bl({name:a,order:null!=d?d:1,autoIncrement:f||!1})}):b.map(function(a){return new Bl(a)});h[F](function(a){if(!this.H.has(a[p]))throw new P(508,this.u,a[p]);if(c){var b=this.H.get(a[p]);if(0==b||6==b)throw new P(509,this.u,a[p]);}},a);return h}
function Ll(a){function b(){function b(c){return a.ha.get(c).map(function(a){return{ea:this[a[p]],ib:a.ib,autoIncrement:a[qb]}},this)}var d=wd(a.H).map(function(b){this[b]=new Z(this,b,a.oe.has(b),a.Gc.has(b),a.H.get(b));return this[b]},this),f=wd(a.ha).map(function(d){return new bi(a.u,d,a.Sc.has(d),b[r](this,d))},this);ci[r](this,a.u,d,f,a.rd);var h=null===a.xa?null:new bi(a.u,a.xa,!0,b[r](this,a.xa)),l=d[Fa](function(b){return!a.Gc.has(b[u]())});this.Cf=new xl(h,l,a.zb);this.gf=Nl(a,d,f)}K(b,ci);
b[t].yb=function(a){return new this.gf(cd++,a)};b[t].createRow=b[t].yb;b[t].cc=function(a){var b={};this.cb()[F](function(f){var h=f[u]();f=f.S();var l=a[v][h];if(0==f)if(f=l,null!=f&&""!=f){0!=f[C]%2&&(f="0"+f);for(var l=new ArrayBuffer(f[C]/2),q=new Uint8Array(l),y=0,O=0;y<f[C];y+=2)q[O++]=da(f.substr(y,2),16);f=l}else f=null;else f=2==f?null!=l?new Date(l):null:l;b[h]=f},this);return new this.gf(a.id,b)};b[t].deserializeRow=b[t].cc;b[t].Ab=H("Cf");b[t].getConstraint=b[t].Ab;return b}
function Nl(a,b,c){function d(a,d){this.H=b;this.ha=c;bd[r](this,a,d)}K(d,bd);d[t].Ce=function(){var a={};this.H[F](function(b){a[b[u]()]=b.Bc()?null:me[b.S()]});return a};d[t].nf=function(){var a={};this.H[F](function(b){var c=b[u]();b=b.S();var d=this.o[c];a[c]=0==b?null!=d?fd(d):null:2==b?null!=d?d[Fb]():null:6==b?null!=d?d:null:d},this);return a};var f=function(a){var b=this.H.get(a[u]()),c=this.Jd.Oe.get(b)||null;return function(b){return c(b[a[u]()])}}[E](a),h=function(a){var b=a.map(function(a){return f(a.ea)});
return function(a){return b.map(function(b){return b(a)})}}[E](a),l={};c[F](function(a){var b=a.l();a=1==a.g[C]?f(a.g[0].ea):h(a.g);l[b]=a});d[t].Pb=function(a){return-1!=a[ab]("#")?this.id():l[tb](a)?l[a](this.o):null};return d};function Ol(a,b){this.s=new Pl(a,b);this.nb=M();this.vc=!1}J("lf.schema.Builder",Ol);function Ql(a,b){b.zb[F](function(a){var d=a.vb;if(!this.nb.has(d))throw new P(536,a[p]);var d=this.nb.get(d).rb(),f=a.Jc;if(!d[tb](f))throw new P(537,a[p]);if(b.rb()[a.Hb].S()!=d[f].S())throw new P(538,a[p]);if(!d[f].Cc())throw new P(539,a[p]);},a)}Ol[t].Bf=function(a){a.zb[F](function(a){Ml(this.nb.get(a.vb))[F](function(c){if(c.Hb==a.Jc)throw new P(534,a[p]);},this)},this)};
function Rl(a){a.vc||(a.nb[F](function(a){Ql(this,a);a=a.rb();this.s.J.set(a[u](),a)},a),xd(a.nb)[F](a.Bf,a),Sl(a),a.nb[w](),a.vc=!0)}function Tl(a,b,c){b.re||(b.re=!0,b.Zd=!0,b.De[F](function(a){a=c.get(a);if(!a.re)Tl(this,a,c);else if(a.Zd&&b!=a)throw new P(533);},a));b.Zd=!1}function Sl(a){var b=M();a.s.J[F](function(a,d){b.set(d,new Ul(d))},a);a.nb[F](function(a,d){a.zb[F](function(a){b.get(a.vb).De.add(d)})});xd(b)[F](function(a){Tl(this,a,b)},a)}
function Ul(a){this.Zd=this.re=!1;this.De=N();this.Pc=a}Ol[t].rb=function(){this.vc||Rl(this);return this.s};Ol[t].getSchema=Ol[t].rb;Ol[t].Fe=function(){var a=new Fd("ns_"+this.s[p]()),b;tl||(tl=new sl);b=tl;var c=null;b.Td(a)?c=b.m(a):(c=new sl,b.jb(a,c));return c};Ol[t].getGlobal=Ol[t].Fe;Ol[t].connect=function(a){var b=this.Fe();b.Td(Md)||b.jb(Md,this.rb());return(new Y(b)).Da(a)};Ol[t].connect=Ol[t].connect;
Ol[t].Ef=function(a){if(this.nb.has(a))throw new P(503,a);if(this.vc)throw new P(535);this.nb.set(a,new zl(a));return this.nb.get(a)};Ol[t].createTable=Ol[t].Ef;Ol[t].le=function(a){if(this.vc)throw new P(535);this.s.le(a);return this};Ol[t].setPragma=Ol[t].le;function Pl(a,b){this.u=a;this.La=b;this.J=M();this.af={If:!1}}J("lf.schema.DatabaseSchema",Pl);ja(Pl[t],H("u"));ja(Pl[t],Pl[t][p]);Pl[t].version=H("La");Pl[t].version=Pl[t][vb];Pl[t].Va=function(){return xd(this.J)};Pl[t].tables=Pl[t].Va;
ia(Pl[t],function(a){if(!this.J.has(a))throw new P(101,a);return this.J.get(a)});ia(Pl[t],Pl[t][k]);Pl[t].info=function(){this.Je||(this.Je=new vl(this));return this.Je};Pl[t].$e=H("af");Pl[t].pragma=Pl[t].$e;Pl[t].le=Jb("af");J("lf.schema.create",function(a,b){return new Ol(a,b)});}.bind(window))()
//# sourceMappingURL=lovefield.min.js.map
