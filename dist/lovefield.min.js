(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function wa(a,b){return a.child=b}function xa(a,b){return a.next=b}function ya(a,b){return a.onerror=b}function za(a,b){return a.length=b}function g(a,b){return a.toString=b}function Aa(a,b){return a.bind=b}function Ba(a,b){return a.subscribe=b}function Ca(a,b){return a.forEach=b}function Da(a,b){return a.getPriority=b}
var Ea="openCursor",Fa="filter",Ga="once",Ha="objectStoreNames",Ia="split",k="table",Ja="reduce",m="join",Ka="reject",La="timing",Ma="item",n="slice",Na="target",p="name",r="call",t="prototype",Oa="clone",Pa="exec",u="getName",Qa="close",Ra="concat",v="value",Sa="setImmediate",Va="every",Wa="update",Xa="global",Ya="propertyIsEnumerable",Za="delete",$a="sort",ab="indexOf",bb="some",cb="count",db="orderByChild",w="clear",eb="values",fb="replace",gb="reverse",hb="continue",ib="removeChild",jb="remove",
kb="child",lb="create",x="push",z="then",mb="keys",nb="transaction",ob="index",pb="context",A="splice",qb="autoIncrement",rb="next",sb="shift",tb="hasOwnProperty",ub="contains",vb="version",wb="objectStore",xb="offset",yb="apply",zb="stringify",B="entries",C="length",Ab="info",D="toString",Bb="compare",E="bind",Cb="getParent",Db="rows",F="forEach",Eb="getPriority",Fb="getTime",Gb="resolve",Hb="result",G="size";function Ib(){return function(){}}function Jb(a){return function(b){this[a]=b}}
function H(a){return function(){return this[a]}}function Kb(a){return function(){return a}}var I,Lb=this;function Mb(a){return void 0!==a}function Nb(){}
function Ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][D][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Ya]&&!a[Ya]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Ya]&&!a[Ya]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Pb(a){return null===a}function Qb(a){return null!=a}function Rb(a){var b=Ob(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Sb(a){return"string"==typeof a}function Ub(a){return"function"==Ob(a)}function Vb(a){return a[Wb]||(a[Wb]=++Xb)}var Wb="closure_uid_"+(1E9*ba.random()>>>0),Xb=0;function Yb(a,b,c){return a[r][yb](a[E],arguments)}
function Zb(a,b,c){if(!a)throw fa();if(2<arguments[C]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t].unshift[yb](c,d);return a[yb](b,c)}}return function(){return a[yb](b,arguments)}}function $b(a,b,c){$b=Function[t][E]&&-1!=Function[t][E][D]()[ab]("native code")?Yb:Zb;return $b[yb](null,arguments)}function ac(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[x][yb](b,arguments);return a[yb](this,b)}}
function J(a,b){var c=a[Ia]("."),d=Lb;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var f;c[C]&&(f=c[sb]());)!c[C]&&Mb(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}function K(a,b){function c(){}c.prototype=b[t];a.Fb=b[t];a.prototype=new c;a[t].constructor=a;a.yg=function(a,c,h){for(var l=e(arguments[C]-2),q=2;q<arguments[C];q++)l[q-2]=arguments[q];return b[t][c][yb](a,l)}};function bc(a){if(fa.captureStackTrace)fa.captureStackTrace(this,bc);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(bc,fa);ja(bc[t],"CustomError");function cc(a,b,c){this.Zf=c;this.Ff=a;this.pg=b;this.qd=0;this.md=null}cc[t].get=function(){var a;0<this.qd?(this.qd--,a=this.md,this.md=a[rb],xa(a,null)):a=this.Ff();return a};cc[t].put=function(a){this.pg(a);this.qd<this.Zf&&(this.qd++,xa(a,this.md),this.md=a)};var dc=e[t],ec=dc[ab]?function(a,b,c){return dc[ab][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[C]+c):c;if(Sb(a))return Sb(b)&&1==b[C]?a[ab](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},fc=dc[F]?function(a,b,c){dc[F][r](a,b,c)}:function(a,b,c){for(var d=a[C],f=Sb(a)?a[Ia](""):a,h=0;h<d;h++)h in f&&b[r](c,f[h],h,a)},gc=dc.map?function(a,b,c){return dc.map[r](a,b,c)}:function(a,b,c){for(var d=a[C],f=e(d),h=Sb(a)?a[Ia](""):a,l=0;l<d;l++)l in h&&(f[l]=b[r](c,h[l],l,a));return f},
hc=dc[Ja]?function(a,b,c,d){d&&(b=$b(b,d));return dc[Ja][r](a,b,c)}:function(a,b,c,d){var f=c;fc(a,function(c,l){f=b[r](d,f,c,l,a)});return f},ic=dc[bb]?function(a,b,c){return dc[bb][r](a,b,c)}:function(a,b,c){for(var d=a[C],f=Sb(a)?a[Ia](""):a,h=0;h<d;h++)if(h in f&&b[r](c,f[h],h,a))return!0;return!1};function jc(a,b){dc[A][r](a,b,1)}function kc(a,b){var c;a:{c=a[C];for(var d=Sb(a)?a[Ia](""):a,f=0;f<c;f++)if(f in d&&b[r](void 0,d[f],f,a)){c=f;break a}c=-1}return 0<=c?(jc(a,c),!0):!1}
function lc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function mc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Rb(d)){var f=a[C]||0,h=d[C]||0;za(a,f+h);for(var l=0;l<h;l++)a[f+l]=d[l]}else a[x](d)}}function nc(a,b,c,d){dc[A][yb](a,oc(arguments,1))}function oc(a,b,c){return 2>=arguments[C]?dc[n][r](a,b):dc[n][r](a,b,c)}function pc(a,b){return a>b?1:a<b?-1:0}
function qc(a,b,c){var d;c=c||pc;for(var f=0,h=a[C];f<h;){var l=f+h>>1,q;q=c(b,a[l]);0<q?f=l+1:(h=l,d=!q)}d=d?f:~f;0>d&&nc(a,-(d+1),0,b)}function rc(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b}function sc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Ob(d))for(var f=0;f<d[C];f+=8192)for(var h=sc[yb](null,oc(d,f,f+8192)),l=0;l<h[C];l++)b[x](h[l]);else b[x](d)}return b};function tc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};var uc;a:{var vc=Lb.navigator;if(vc){var wc=vc.userAgent;if(wc){uc=wc;break a}}uc=""};function xc(a){Lb.setTimeout(function(){throw a;},0)}var yc;
function zc(){var a=Lb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==uc[ab]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Qa]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=$b(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==uc[ab]("Trident")&&-1==uc[ab]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Mb(c[rb])){c=c[rb];var a=c.ye;c.ye=null;a()}};return function(a){xa(d,{ye:a});d=d[rb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ib](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Lb.setTimeout(a,0)}};function Ac(){this.yd=this.kc=null}var Cc=new cc(function(){return new Bc},function(a){a.reset()},100);Ac[t].add=function(a,b){var c=Cc.get();c.set(a,b);this.yd?xa(this.yd,c):this.kc=c;this.yd=c};va(Ac[t],function(){var a=null;this.kc&&(a=this.kc,this.kc=this.kc[rb],this.kc||(this.yd=null),xa(a,null));return a});function Bc(){this.scope=this.Md=null;xa(this,null)}Bc[t].set=function(a,b){this.Md=a;this.scope=b;xa(this,null)};Bc[t].reset=function(){this.scope=this.Md=null;xa(this,null)};function Dc(a,b){Ec||Fc();Gc||(Ec(),Gc=!0);Hc.add(a,b)}var Ec;function Fc(){if(Lb.Promise&&Lb.Promise[Gb]){var a=Lb.Promise[Gb](void 0);Ec=function(){a[z](Ic)}}else Ec=function(){var a=Ic;if(!Ub(Lb[Sa])||Lb.Window&&Lb.Window[t]&&Lb.Window[t][Sa]==Lb[Sa])yc||(yc=zc()),yc(a);else Lb[Sa](a)}}var Gc=!1,Hc=new Ac;function Ic(){for(var a=null;a=Hc[jb]();){try{a.Md[r](a.scope)}catch(b){xc(b)}Cc.put(a)}Gc=!1};function L(a,b){this.Sa=0;this.df=void 0;this.Zc=this.bc=this.C=null;this.ld=this.Ld=!1;if(a!=Nb)try{var c=this;a[r](b,function(a){Jc(c,2,a)},function(a){Jc(c,3,a)})}catch(d){Jc(this,3,d)}}function Kc(){wa(this,null);this.context=this.ic=this.Ic=null;xa(this,null);this.Bd=!1}Kc[t].reset=function(){wa(this,null);this.context=this.ic=this.Ic=null;this.Bd=!1};var Lc=new cc(function(){return new Kc},function(a){a.reset()},100);function Mc(a,b,c){var d=Lc.get();d.Ic=a;d.ic=b;d.context=c;return d}
function Nc(a){if(a instanceof L)return a;var b=new L(Nb);Jc(b,2,a);return b}function Oc(a){return new L(function(b,c){c(a)})}function Pc(a,b,c){Qc(a,b,c,null)||Dc(ac(b,a))}function Rc(a){return new L(function(b,c){var d=a[C],f=[];if(d)for(var h=function(a,c){d--;f[a]=c;0==d&&b(f)},l=function(a){c(a)},q=0,y;q<a[C];q++)y=a[q],Pc(y,ac(h,q),l);else b(f)})}function Sc(){var a,b,c=new L(function(c,f){a=c;b=f});return new Tc(c,a,b)}L[t].then=function(a,b,c){return Uc(this,Ub(a)?a:null,Ub(b)?b:null,c)};
L[t].then=L[t][z];L[t].$goog_Thenable=!0;function Vc(a,b,c){Uc(a,null,b,c)}function Wc(a,b){a.bc||2!=a.Sa&&3!=a.Sa||Xc(a);a.Zc?xa(a.Zc,b):a.bc=b;a.Zc=b}function Uc(a,b,c,d){var f=Mc(null,null,null);wa(f,new L(function(a,l){f.Ic=b?function(c){try{var f=b[r](d,c);a(f)}catch(O){l(O)}}:a;f.ic=c?function(b){try{var f=c[r](d,b);!Mb(f)&&b instanceof Yc?l(b):a(f)}catch(O){l(O)}}:l}));f[kb].C=a;Wc(a,f);return f[kb]}L[t].ug=function(a){this.Sa=0;Jc(this,2,a)};L[t].vg=function(a){this.Sa=0;Jc(this,3,a)};
function Jc(a,b,c){0==a.Sa&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.Sa=1,Qc(c,a.ug,a.vg,a)||(a.df=c,a.Sa=b,a.C=null,Xc(a),3!=b||c instanceof Yc||Zc(a,c)))}function Qc(a,b,c,d){if(a instanceof L)return Wc(a,Mc(b||Nb,c||null,d)),!0;var f;if(a)try{f=!!a.$goog_Thenable}catch(h){f=!1}else f=!1;if(f)return a[z](b,c,d),!0;f=typeof a;if("object"==f&&null!=a||"function"==f)try{var l=a[z];if(Ub(l))return $c(a,l,b,c,d),!0}catch(q){return c[r](d,q),!0}return!1}
function $c(a,b,c,d,f){function h(a){q||(q=!0,d[r](f,a))}function l(a){q||(q=!0,c[r](f,a))}var q=!1;try{b[r](a,l,h)}catch(y){h(y)}}function Xc(a){a.Ld||(a.Ld=!0,Dc(a.Kf,a))}function ad(a){var b=null;a.bc&&(b=a.bc,a.bc=b[rb],xa(b,null));a.bc||(a.Zc=null);return b}
L[t].Kf=function(){for(var a=null;a=ad(this);){var b=this.Sa,c=this.df;if(3==b&&a.ic&&!a.Bd)for(var d=void 0,d=this;d&&d.ld;d=d.C)d.ld=!1;if(a[kb])a[kb].C=null,bd(a,b,c);else try{a.Bd?a.Ic[r](a[pb]):bd(a,b,c)}catch(f){cd[r](null,f)}Lc.put(a)}this.Ld=!1};function bd(a,b,c){2==b?a.Ic[r](a[pb],c):a.ic&&a.ic[r](a[pb],c)}function Zc(a,b){a.ld=!0;Dc(function(){a.ld&&cd[r](null,b)})}var cd=xc;function Yc(a){bc[r](this,a)}K(Yc,bc);ja(Yc[t],"cancel");
function Tc(a,b,c){this.ia=a;this.resolve=b;this.reject=c};/*

 Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function dd(a,b){this.na=a;this.o=b||this.Ce()}var ed=0;I=dd[t];I.id=H("na");I.Ce=function(){return{}};I.mf=H("o");I.Ha=function(){return{id:this.na,value:this.mf()}};I.Pb=function(a){return"#"==a.substr(-1)?this.na:null};function fd(a){return new dd(a.id,a[v])}function gd(a){return new dd(ed++,a||{})}function hd(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};function id(a){this.type=a}function jd(a){dd[r](this,-1,a)}K(jd,dd);function kd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var f=a[C],h=b[C],l=[],q=0;q<f+1;q++)l[q]=[],l[q][0]=0;for(var y=0;y<h+1;y++)l[0][y]=0;for(q=1;q<=f;q++)for(y=1;y<=h;y++)c(a[q-1],b[y-1])?l[q][y]=l[q-1][y-1]+1:l[q][y]=ba.max(l[q-1][y],l[q][y-1]);for(var O=[],q=f,y=h;0<q&&0<y;)c(a[q-1],b[y-1])?(O.unshift(d(q-1,y-1)),q--,y--):l[q-1][y]>l[q][y-1]?q--:y--;return O}function ld(a){return hc(arguments,function(a,c){return a+c},0)}
function md(a){return ld[yb](null,arguments)/arguments[C]}function nd(a){var b=arguments[C];if(2>b)return 0;var c=md[yb](null,arguments);return ld[yb](null,gc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function od(a){return ba.sqrt(nd[yb](null,arguments))};var pd="StopIteration"in Lb?Lb.StopIteration:{message:"StopIteration",stack:""};function qd(){}xa(qd[t],function(){throw pd;});qd[t].lc=function(){return this};function rd(a){if(a instanceof qd)return a;if("function"==typeof a.lc)return a.lc(!1);if(Rb(a)){var b=0,c=new qd;xa(c,function(){for(;;){if(b>=a[C])throw pd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function sd(a,b){if(Rb(a))try{fc(a,b,void 0)}catch(c){if(c!==pd)throw c;}else{a=rd(a);try{for(;;)b[r](void 0,a[rb](),void 0,a)}catch(d){if(d!==pd)throw d;}}}function td(a){if(ic(arguments,function(a){return!a[C]})||!arguments[C])return new qd;var b=new qd,c=arguments,d=rc(c[C]);xa(b,function(){if(d){for(var a=gc(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw pd;});return b};function ud(a,b){this.g={};this.b=[];this.La=this.$=0;var c=arguments[C];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}I=ud[t];I.Lb=H("$");I.fa=function(){vd(this);for(var a=[],b=0;b<this.b[C];b++)a[x](this.g[this.b[b]]);return a};I.Oa=function(){vd(this);return this.b[Ra]()};I.ka=function(a){return wd(this.g,a)};I.hc=function(){return 0==this.$};ta(I,function(){this.g={};za(this.b,0);this.La=this.$=0});
va(I,function(a){return wd(this.g,a)?(delete this.g[a],this.$--,this.La++,this.b[C]>2*this.$&&vd(this),!0):!1});function vd(a){if(a.$!=a.b[C]){for(var b=0,c=0;b<a.b[C];){var d=a.b[b];wd(a.g,d)&&(a.b[c++]=d);b++}za(a.b,c)}if(a.$!=a.b[C]){for(var f={},c=b=0;b<a.b[C];)d=a.b[b],wd(f,d)||(a.b[c++]=d,f[d]=1),b++;za(a.b,c)}}I.get=function(a,b){return wd(this.g,a)?this.g[a]:b};I.set=function(a,b){wd(this.g,a)||(this.$++,this.b[x](a),this.La++);this.g[a]=b};
I.addAll=function(a){var b;if(a instanceof ud)b=a.Oa(),a=a.fa();else{b=[];var c=0,d;for(d in a)b[c++]=d;a=tc(a)}for(c=0;c<b[C];c++)this.set(b[c],a[c])};Ca(I,function(a,b){for(var c=this.Oa(),d=0;d<c[C];d++){var f=c[d],h=this.get(f);a[r](b,h,f,this)}});la(I,function(){return new ud(this)});I.lc=function(a){vd(this);var b=0,c=this.La,d=this,f=new qd;xa(f,function(){if(c!=d.La)throw fa("The map has changed since the iterator was created");if(b>=d.b[C])throw pd;var f=d.b[b++];return a?f:d.g[f]});return f};
function wd(a,b){return aa[t][tb][r](a,b)};/*

 Copyright 2015 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function xd(){this.g=new ud;aa.defineProperty(this,"size",{get:function(){return this.g.Lb()}})}ta(xd[t],function(){this.g[w]()});ta(xd[t],xd[t][w]);ra(xd[t],function(a){return this.g[jb](a)});xd[t]["delete"]=xd[t][Za];Ca(xd[t],function(a,b){return this.g[F](a,b)});Ca(xd[t],xd[t][F]);xd[t].get=function(a){return this.g.get(a)};xd[t].get=xd[t].get;xd[t].has=function(a){return this.g.ka(a)};xd[t].has=xd[t].has;xd[t].set=function(a,b){return this.g.set(a,b)};xd[t].set=xd[t].set;
function M(){return ca.Map&&ca.Map[t][eb]&&ca.Map[t][F]?new ca.Map:new xd}function yd(a){if(a instanceof xd)return a.g.Oa();var b=0,c=e(a[G]);a[F](function(a,f){c[b++]=f});return c}function zd(a){if(a instanceof xd)return a.g.fa();var b=0,c=e(a[G]);a[F](function(a){c[b++]=a});return c};var Ad={};J("lf.TransactionType",Ad);Ad.READ_ONLY=0;Ad.READ_WRITE=1;function Bd(a,b){this.Pa=a;this.nf=b;this.Z=Sc()}Bd[t].ma=function(){try{Cd(this.Pa)}catch(a){return Oc(a)}return(0==this.nf?this.oc():Dd(this))[z](function(a){this.Pa.ma();return a}[E](this))};function Dd(a){Ed(a);Fd(a);return a.oc()}function Ed(a){a.Pa.pb[F](function(a,c){var d=this.Pa.ca().get(c),d=this.I(d[u](),d.cc[E](d)),f=zd(a.Ba).map(function(a){return a.id()});0<f[C]&&Vc(d[jb](f),this.Od,this);f=zd(a.pa).map(function(a){return a[1]})[Ra](zd(a.Aa));Vc(d.put(f),this.Od,this)},a)}
function Fd(a){Gd(a.Pa)[F](function(a){var c=this.I(a[u](),fd),d;c.get([-1])[z](function(a){d=a;return c[jb]([])})[z](function(){c.put(d);c.put(a.Ha())},this.Od[E](this))},a)}Bd[t].Od=function(a){this.Z[Ka](a)};function Hd(a){this.qg=a}g(Hd[t],H("qg"));var Id=new Hd("backstore"),Jd=new Hd("cache"),Kd=new Hd("indexstore"),Ld=new Hd("engine"),Md=new Hd("runner"),Nd=new Hd("observerregistry"),Od=new Hd("schema");function Pd(a){if("function"==typeof a.fa)return a.fa();if(Sb(a))return a[Ia]("");if(Rb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[x](a[d]);return b}return tc(a)};function Qd(a){this.g=new ud;a&&this.addAll(a)}function Rd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Vb(a):b.substr(0,1)+a}I=Qd[t];I.Lb=function(){return this.g.Lb()};I.add=function(a){this.g.set(Rd(a),a)};I.addAll=function(a){a=Pd(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};va(I,function(a){return this.g[jb](Rd(a))});ta(I,function(){this.g[w]()});I.hc=function(){return this.g.hc()};I.contains=function(a){return this.g.ka(Rd(a))};I.fa=function(){return this.g.fa()};la(I,function(){return new Qd(this)});
I.lc=function(){return this.g.lc(!1)};function Sd(a){this.Wb=new Qd(a);aa.defineProperty(this,"size",{get:function(){return this.Wb.Lb()}})}Sd[t].add=function(a){this.Wb.add(a)};Sd[t].add=Sd[t].add;ta(Sd[t],function(){this.Wb[w]()});ta(Sd[t],Sd[t][w]);ra(Sd[t],function(a){return this.Wb[jb](a)});Sd[t]["delete"]=Sd[t][Za];Ca(Sd[t],function(a,b){this.Wb.fa()[F](a,b)});Sd[t].has=function(a){return this.Wb[ub](a)};Sd[t].has=Sd[t].has;function N(a){return ca.Set&&ca.Set[t][eb]&&ca.Set[t][F]?Mb(a)?new ca.Set(a):new ca.Set:new Sd(a)}
function Td(a){if(a instanceof Sd)return a.Wb.fa();var b=0,c=e(a[G]);a[F](function(a){c[b++]=a});return c}function Ud(a,b){if(b[G]>a[G])return!1;var c=!0;b[F](function(b){c=c&&a.has(b)});return c};function Vd(a,b){this.na=a;this.o=b||{}}function Wd(a){var b=N();a[F](function(a){b.add(a>>9)});return Td(b)}Vd[t].Y=H("na");function Xd(a,b){b[F](function(a){this.o[a.id()]=a.Ha()},a)}function Yd(a,b){b[F](function(a){delete this.o[a]},a)}Vd[t].Ha=function(){return{id:this.na,value:ga[zb](this.o)}};function Zd(a){return new Vd(a.id,ga.parse(a[v]))};function $d(a,b,c){this.X=a;this.Kb=b;this.ef=c}I=$d[t];I.get=function(a){if(0==a[C])return this.wc();var b=this.Kb;return ae(this,a)[z](function(c){return a.map(function(a){var f=c.get(a>>9);return b(f.o[a])})})};function ae(a,b){var c=M(),d=Sc(),f=Wd(b).map(function(a){return new L(function(b,d){var f;try{f=this.X.get(a)}catch(O){d(O);return}ya(f,d);sa(f,function(a){a=Zd(a[Na][Hb]);c.set(a.Y(),a);b()})},this)},a);Rc(f)[z](function(){d[Gb](c)});return d.ia}
I.wc=function(){return new L(function(a,b){var c=[],d;try{d=this.X[Ea]()}catch(f){b(f);return}ya(d,b);sa(d,function(){var b=d[Hb];if(b){var f;f=Zd(b[v]).o;for(var q in f)c[x](this.Kb(f[q]));b[hb]()}else a(c)}[E](this))},this)};I.Sb=function(a){return new L(function(b,c){var d;try{d=a()}catch(f){c(f);return}sa(d,b);ya(d,c)},this)};
I.put=function(a){if(0==a[C])return Nc();var b=M();a[F](function(a){var d;d=a.id()>>9;var f=b.get(d)||null;null===f&&(f=this.ef(this.X[p],d));Xd(f,[a]);b.set(d,f)},this);a=zd(b).map(function(a){return this.Sb(function(){return this.X.put(a.Ha())}[E](this))},this);return Rc(a)};
va(I,function(a){if(0==a[C])return this.Sb(function(){return this.X[w]()}[E](this));var b=M();a[F](function(a){var d=a>>9,f=b.get(d)||null;null===f&&(f=this.ef(this.X[p],d));Yd(f,[a]);b.set(d,f)},this);a=zd(b).map(function(a){return this.Sb(function(){return 0==aa[mb](a.o)[C]?this.X[Za](a.Y()):this.X.put(a.Ha())}[E](this))},this);return Rc(a)});function be(a,b,c){a=a.m(Jd);var d=[c<<9,(c+1<<9)-1];b=a.fb(b,d[0],d[1]);c=new Vd(c);Xd(c,b);return c}function ce(a,b){return new Vd(b)};function de(){};function ee(a){this.ja=a.m(Jd);this.F=a.m(Kd);this.s=a.m(Od)}qa(ee[t],function(a){a[F](function(a){fe(this,a);ge(this,a)},this)});function ge(a,b){var c=b[u]();b.Ba[F](function(a,b){this.ja[jb](c,b)},a);b.Aa[F](function(a){this.ja.set(c,a)},a);b.pa[F](function(a){this.ja.set(c,a[1])},a)}function fe(a,b){var c=a.s[k](b[u]());he(b)[F](function(a){ie(this,c,a)},a)}
function ie(a,b,c){var d=[];(a.F.Oc.get(b[u]())||[])[F](function(a){try{je(a,c),d[x](a)}catch(b){throw d[F](function(a){je(a,[c[1],c[0]])},this),b;}},a)}function je(a,b){var c=null===b[1]?void 0:b[1].Pb(a[u]()),d=null===b[0]?void 0:b[0].Pb(a[u]());if(!Mb(d)&&Mb(c))a.add(c,b[1].id());else if(Mb(d)&&Mb(c)){if(null===c||null===d){if(c==d)return}else if(0==a.pc()[Bb](d,c))return;a.add(c,b[1].id());a[jb](d,b[0].id())}else Mb(d)&&!Mb(c)&&a[jb](d,b[0].id())};var ke={};J("lf.ConstraintAction",ke);ke.RESTRICT=0;ke.CASCADE=1;var le={};J("lf.ConstraintTiming",le);le.IMMEDIATE=0;le.DEFERRABLE=1;var me={};J("lf.Order",me);me.DESC=0;me.ASC=1;var ne={};J("lf.Type",ne);ne.ARRAY_BUFFER=0;ne.BOOLEAN=1;ne.DATE_TIME=2;ne.INTEGER=3;ne.NUMBER=4;ne.STRING=5;ne.OBJECT=6;var oe={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};J("lf.type.DEFAULT_VALUES",oe);function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ba.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][D]()[n](0,64)))}K(P,fa);function pe(a){this.F=a.m(Kd);this.s=a.m(Od);this.dd=null}function qe(a,b,c){var d=b.Ab().dg;c[F](function(a){d[F](function(b){if(null==a.o[b[u]()])throw new P(202,b.l());},this)},a)}function re(a,b,c,d){b.Ab().Nd()[F](function(a){a[La]==d&&se(this,a,c)},a)}function se(a,b,c){var d=te(a,b);c[F](function(a){if(ue(a[0],a[1],b[p])&&(a=a[1].o[b.Hb],null!==a&&!d.ka(a)))throw new P(203,b[p]);},a)}
function te(a,b){null===a.dd&&(a.dd=M());var c=a.dd.get(b[p])||null;null===c&&(c=a.s[k](b.$a)[b.Jc].va(),c=a.F.get(c.l()),a.dd.set(b[p],c));return c}function ue(a,b,c){return(null===a?null!==b:null===b)||a.Pb(c)!=b.Pb(c)}function ve(a,b,c,d){b=we(a.s[Ab](),b[u]());null!=b&&b[F](function(a){if(a[La]==d){var b=this.F.get(a[p]),l=te(this,a);c[F](function(c){if(ue(c[0],c[1],l[u]())&&b.ka(c[0].o[a.Jc]))throw new P(203,a[p]);},this)}},a)}
function xe(a,b,c,d){0!=c[C]&&(c=c.map(function(a){return[null,a]}),re(a,b,c,d))}function ye(a,b,c,d){0!=c[C]&&(re(a,b,c,d),ve(a,b,c,d))}function ze(a,b,c,d){0!=c[C]&&(c=c.map(function(a){return[a,null]}),ve(a,b,c,d))};function Ae(a){this.Aa=M();this.pa=M();this.Ba=M();this.u=a}I=Ae[t];na(I,H("u"));I.add=function(a){if(this.Ba.has(a.id())){var b=[this.Ba.get(a.id()),a];this.pa.set(a.id(),b);this.Ba[Za](a.id())}else this.Aa.set(a.id(),a)};I.modify=function(a){var b=a[1],c=a[0].id();this.Aa.has(c)?this.Aa.set(c,b):(this.pa.has(c)&&(a=[this.pa.get(a[0].id())[0],b]),this.pa.set(c,a))};
ra(I,function(a){if(this.Aa.has(a.id()))this.Aa[Za](a.id());else if(this.pa.has(a.id())){var b=this.pa.get(a.id())[0];this.pa[Za](a.id());this.Ba.set(a.id(),b)}else this.Ba.set(a.id(),a)});function he(a){var b=[];a.Aa[F](function(a){b[x]([null,a])});a.pa[F](function(a){b[x](a)});a.Ba[F](function(a){b[x]([a,null])});return b}g(I,function(){return"["+yd(this.Aa)[D]()+"], ["+yd(this.pa)[D]()+"], ["+yd(this.Ba)[D]()+"]"});
function Be(a){var b=new Ae(a.u);a.Aa[F](function(a){b[Za](a)});a.Ba[F](function(a){b.add(a)});a.pa[F](function(a){b.modify([a[1],a[0]])});return b}I.hc=function(){return 0==this.Aa[G]&&0==this.Ba[G]&&0==this.pa[G]};function Ce(a,b){this.sa=M();b[F](function(a){this.sa.set(a[u](),a)},this);this.ja=a.m(Jd);this.F=a.m(Kd);this.Ma=new pe(a);this.nd=new ee(a);this.pb=M()}function Gd(a){var b=[];yd(a.pb).map(function(a){return this.sa.get(a)},a)[F](function(a){a.Cb()&&(a.Ca()[F](function(a){b[x](this.F.get(a.l()))},this),b[x](this.F.get(a[u]()+".#")))},a);return b}I=Ce[t];I.ca=H("sa");function De(a){var b=[];a.sa[F](function(a){a.Cb()&&(a.Ca()[F](function(a){b[x](a.l())}),b[x](a[u]()+".#"))});return b}
I.ub=function(a,b){Ee(this,a);qe(this.Ma,a,b);xe(this.Ma,a,b,0);for(var c=0;c<b[C];c++)Fe(this,a,[null,b[c]])};function Fe(a,b,c){var d=b[u](),f=a.pb.get(d)||new Ae(d);a.pb.set(d,f);try{ie(a.nd,b,c)}catch(h){throw h;}b=c[0];var l=c[1];null===b&&null!==l?(a.ja.set(d,l),f.add(l)):null!==b&&null!==l?(a.ja.set(d,l),f.modify(c)):null!==b&&null===l&&(a.ja[jb](d,b.id()),f[Za](b))}
qa(I,function(a,b){Ee(this,a);qe(this.Ma,a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.ja.get(d.id()),d];ye(this.Ma,a,[d],0);Fe(this,a,d)}});I.Qd=function(a,b){Ee(this,a);qe(this.Ma,a,b);for(var c=0;c<b[C];c++){var d=b[c],f=null,h,l=a.Ab().hd();if(null===l)h=null;else{h=this.Ma;var l=l.l(),q=d.Pb(l);h=h.F.get(l).get(q);h=0==h[C]?null:h[0]}null!=h?(f=this.ja.get(h),d.na=h,ye(this.Ma,a,[[f,d]],0)):xe(this.Ma,a,[d],0);Fe(this,a,[f,d])}};
va(I,function(a,b){Ee(this,a);ze(this.Ma,a,b,0);for(var c=0;c<b[C];c++)Fe(this,a,[b[c],null])});function Cd(a){a.pb[F](function(a){var c=this.sa.get(a[u]());xe(this.Ma,c,zd(a.Aa),1);ze(this.Ma,c,zd(a.Ba),1);ye(this.Ma,c,zd(a.pa),1)},a)}I.ma=Ib();I.Db=function(){var a=zd(this.pb).map(function(a){return Be(a)});this.nd[Wa](a)};function Ee(a,b){if(!a.sa.has(b[u]()))throw new P(106,b[u]());};function Ge(a,b,c,d){this.c=a;this.w=b;this.aa=null===this.c?!1:c;this.la=null===this.w?!1:d}g(Ge[t],function(){return(this.aa?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.w?"unbound":this.w)+(this.la?")":"]")});function He(a){if(null===a.c&&null===a.w)return[];var b=null,c=null;null===a.c||(b=new Ge(null,a.c,!1,!a.aa));null===a.w||(c=new Ge(a.w,null,!a.la,!1));return[b,c][Fa](function(a){return null!==a})}Ge[t].reverse=function(){return new Ge(this.w,this.c,this.la,this.aa)};
function Ie(a,b){var c=Je(a.c,b.c,!0,a.aa,b.aa);if(0==c)return!0;var d=-1==c?a:b,c=1==c?a:b;return null===d.w||d.w>c.c||d.w==c.c&&!d.la&&!c.aa}function Ke(){return new Ge(null,null,!1,!1)}function Le(a){return null===a.c&&null===a.w}function Me(a){return null!=a.c&&a.c==a.w&&!a.aa&&!a.la}Ge[t].contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.la;return(null===this.c||a>this.c||a==this.c&&!this.aa)&&b};
function Je(a,b,c,d,f){function h(a){return c?a:1==a?-1:1}d=d||!1;f=f||!1;return null===a?null===b?(d?!f:f)?d?h(1):h(-1):0:h(-1):null===b?h(1):a<b?-1:a==b?(d?!f:f)?d?h(1):h(-1):0:1}function Ne(a,b){var c=Je(a.c,b.c,!0,a.aa,b.aa);0==c&&(c=Je(a.w,b.w,!1,a.la,b.la));return c};function Oe(a,b){this.entries=a;this.J=N(b);this.Xa=null}function Q(a){return Td(a.J)}function Pe(a){return a[B].map(function(a){return a.ua.o})}function Qe(a){return a[B].map(function(a){return a.ua.id()})}function Re(a,b){return a.Xa.get(b.l())}var Se=null;function Te(){null===Se&&(Se=new Oe([],[]));return Se}
function Ue(a){if(0==a[C])return Te();for(var b=a[Ja](function(a,b){return a+b[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=M();a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),f=M(),h=0;h<c[C];h++)b[Va](function(a){return a.has(c[h].id)})&&f.set(c[h].id,c[h]);return new Oe(zd(f),Td(a[0].J))}function Ve(a){if(0==a[C])return Te();var b=M();a[F](function(a){a[B][F](function(a){b.set(a.id,a)})});return new Oe(zd(b),Td(a[0].J))}
function We(a,b){var c=1<b[C],d=a.map(function(a){return new Xe(a,c)});return new Oe(d,b)}function Xe(a,b){this.ua=a;this.id=Ye++;this.Td=b}var Ye=0;function Ze(a,b){var c=b.Ya();return null!==c&&a.ua.o[tb](c)?a.ua.o[c]:a.Td?a.ua.o[$e(b.I())][b[u]()]:a.ua.o[b[u]()]}function af(a,b,c){var d=b.Ya();if(null!=d)a.ua.o[d]=c;else if(a.Td){var d=$e(b.I()),f=a.ua.o[d];null==f&&(f={},a.ua.o[d]=f);f[b[u]()]=c}else a.ua.o[b[u]()]=c}
function bf(a,b,c,d){function f(a,b){if(a.Td){var c=a.ua.o,d;for(d in c)h[d]=c[d]}else h[b[0]]=a.ua.o}var h={};f(a,b);f(c,d);a=new dd(-1,h);return new Xe(a,!0)};J("lf.bind",function(a){return new cf(a)});function cf(a){this.da=a}J("lf.Binder",cf);cf[t].va=H("da");function df(){this.Oe=ef();var a=ff();this.fc=M();this.fc.set(1,gf());this.fc.set(2,hf());this.fc.set(4,a);this.fc.set(3,a);this.fc.set(5,jf())}df.fd=function(){return df.Ke?df.Ke:df.Ke=new df};function kf(a,b,c){return(a.fc.get(b)||null).get(c)||null}function ef(){function a(a){return a}var b=M();b.set(1,function(a){return null===a?null:a?1:0});b.set(2,function(a){return null===a?null:a[Fb]()});b.set(3,a);b.set(4,a);b.set(5,a);return b}
function gf(){var a=M();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function ff(){var a=gf();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return null===a||null===c?!1:a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c[ab](a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}
function jf(){var a=ff();a.set("match",function(a,c){return null===a||null===c?!1:(new RegExp(c)).test(a)});return a}
function hf(){var a=M();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a[Fb]()>=c[0][Fb]()&&a[Fb]()<=c[1][Fb]()});a.set("eq",function(a,c){return(null===a?-1:a[Fb]())==(null===c?-1:c[Fb]())});a.set("gte",function(a,c){return null===a||null===c?!1:a[Fb]()>=c[Fb]()});a.set("gt",function(a,c){return null===a||null===c?!1:a[Fb]()>c[Fb]()});a.set("in",function(a,c){return c[bb](function(c){return c[Fb]()==a[Fb]()})});a.set("lte",function(a,c){return null===a||null===c?!1:a[Fb]()<=
c[Fb]()});a.set("lt",function(a,c){return null===a||null===c?!1:a[Fb]()<c[Fb]()});a.set("neq",function(a,c){return(null===a?-1:a[Fb]())!=(null===c?-1:c[Fb]())});return a};function mf(a,b){this.Qe=a;this.qf=b}mf[t].getKey=H("Qe");la(mf[t],function(){return new mf(this.Qe,this.qf)});function nf(a,b){mf[r](this,a,b);this.h=this.C=null}K(nf,mf);var of=[];I=nf[t];la(I,function(){return new nf(this.getKey(),this.qf)});I.getParent=H("C");function R(a){return a.h||of}function pf(a,b){return R(a)[b]||null}function qf(a){for(var b=0;a[Cb]();)b++,a=a[Cb]();return b}I.gb=function(){for(var a=this;a[Cb]();)a=a[Cb]();return a};I.contains=function(a){do a=a[Cb]();while(a&&a!=this);return Boolean(a)};function rf(a,b,c){if(!1!==b[r](c,a)){a=R(a);for(var d=0;d<a[C];d++)rf(a[d],b,c)}}
function sf(a,b){tf(a,b,a.h?a.h[C]:0)}function tf(a,b,c){b.C=a;a.h=a.h||[];nc(a.h,c,0,b)}function uf(a,b,c){var d=R(a);d[c].C=null;d[c]=b;b.C=a}function vf(a,b){var c=a.h&&a.h[b];return c?(c.C=null,jc(a.h,b),0==a.h[C]&&(a.h=null),c):null}I.removeChild=function(a){return vf(this,ec(R(this),a))};function wf(){nf[r](this,"","");this.na=xf++}K(wf,nf);var xf=0;wf[t].Y=H("na");function yf(a,b,c){wf[r](this);this.K=a;pa(this,b);this.L=c;this.cd=kf(df.fd(),this.K.S(),this.L);this.Za=!1;this.ac=b}K(yf,wf);I=yf[t];I.Ib=function(){var a=new yf(this.K,this[v],this.L);a.ac=this.ac;a.wd(this.Za);var b=this.Y();a.na=b;return a};I.eb=function(a){return null!=a?(a[x](this.K),a):[this.K]};I.wd=Jb("Za");function zf(a){var b=!1;a[v]instanceof cf||(b="array"==Ob(a[v])?!a[v][bb](function(a){return a instanceof cf}):!0);if(!b)throw new P(501);}
I.eval=function(a){zf(this);if("in"==this.L)return Af(this,a);var b=a[B][Fa](function(a){return this.cd(Ze(a,this.K),this[v])!=this.Za},this);return new Oe(b,Q(a))};Aa(I,function(a){if(this.ac instanceof cf){var b=this.ac.va();if(a[C]<=b)throw new P(510);pa(this,a[b])}else"array"==Ob(this.ac)&&pa(this,this.ac.map(function(b){if(b instanceof cf){var d=b.va();if(a[C]<=d)throw new P(510);return a[b.va()]}return b}))});
function Af(a,b){var c=N(a[v]),d=function(a){return null===a?!1:c.has(a)!=this.Za}[E](a),f=b[B][Fa](function(a){return d(Ze(a,this.K))},a);return new Oe(f,Q(b))}g(I,function(){return"value_pred("+this.K.l()+" "+this.L+(this.Za?"(complement)":"")+" "+this[v]+")"});function Bf(a){this.ea=a;this.$c=this.ya=null}function Cf(a,b){null===a.ya&&null!=a.B&&(a.ya=Df(a.B));return a.ya.get(b)||null}function Df(a){var b=M();rf(a,function(a){b.set(a.Y(),a)});return b}function Ef(a,b){b.B&&(a.B=b.B.Ib());a.$c=b}Aa(Bf[t],function(){return this});function Ff(a,b){var c=a.B;null!=c&&rf(c,function(a){a instanceof yf&&a[E](b)})};function Gf(a){Bf[r](this,a)}K(Gf,Bf);function Hf(a){var b="";a[F](function(c,d){b+=c.K.l()+" ";b+=1==c.jb?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}Gf[t].ca=function(){return N(this.c)};la(Gf[t],function(){var a=new Gf(this.ea);Ef(a,this);this.f&&(a.f=this.f[n]());this.c&&(a.c=this.c[n]());a.W=this.W;a.N=this.N;this.M&&(a.M=this.M[n]());this.ga&&(a.ga=this.ga[n]());this.Qb&&(a.Qb=this.Qb);this.Yb&&(a.Yb=this.Yb);a.vb=this.vb;return a});
Aa(Gf[t],function(a){Gf.Fb[E][r](this,a);null!=this.Qb&&(this.W=a[this.Qb.va()]);null!=this.Yb&&(this.N=a[this.Yb.va()]);Ff(this,a);return this});function If(a,b){this.za=a;this.sa=b}If[t].gb=H("za");If[t].ca=H("sa");function Jf(a){var b=N();a[F](function(a){a.ca()[F](b.add[E](b))});return b};function Kf(a,b){this.global=a;this.xb=a.m(Id);this.td=b.map(function(a){return a[pb]});this.Ze=b.map(function(a){return a.de});this.Ae=Jf(this.Ze);this.of=Lf(this);this.Ub=Sc()}function Lf(a){return a.td[bb](function(a){return!(a instanceof Gf)})?1:0}I=Kf[t];
ma(I,function(){function a(){var h=d[sb]();if(h){var l=f[c[C]];return h.gb()[Pa](b,l)[z](function(b){c[x](b[0]);return a()})}return Nc()}var b=new Ce(this[Xa],this.Ae),c=[],d=this.Ze[n](),f=this.td;return a()[z](function(){return this.xb.Jb(this.of,b).ma()}[E](this))[z](function(){this.ae(c);return c}[E](this),function(a){b.Db();throw a;})});I.S=H("of");I.ca=H("Ae");I.xc=H("Ub");I.Y=function(){return Vb(this)};I.ae=Ib();function Mf(a,b){Kf[r](this,a,b);this.Bb=a.m(Nd)}K(Mf,Kf);Da(Mf[t],Kb(0));Mf[t].ae=function(a){this.td[F](function(b,c){Nf(this.Bb,b,a[c])},this)};function Of(a,b){this.j=a;this.Bb=a.m(Nd);this.Ra=a.m(Md);this.nd=new ee(a);this.pb=b;var c=a.m(Od),d=this.pb.map(function(a){return c[k](a[u]())});this.sa=N(d);this.Ub=Sc()}I=Of[t];ma(I,function(){this.nd[Wa](this.pb);this.Mc();return Nc()});I.S=Kb(1);I.ca=H("sa");I.xc=H("Ub");I.Y=function(){return Vb(this)};Da(I,Kb(1));I.Mc=function(){var a=Pf(this.Bb,this.sa);0!=a[C]&&(a=new Mf(this.j,a),Qf(this.Ra,a))};function Rf(a){this.j=a;this.xb=a.m(Id);this.Ra=a.m(Md)}Rf[t].Zd=function(a){a=new Of(this.j,a);Qf(this.Ra,a)};function S(a,b){this.La=a;this.i=b;this.Ua=M()}J("lf.backstore.FirebaseRawBackStore",S);S[t].jd=H("i");S[t].kd=function(){throw new P(351);};function Sf(a,b){var c=Sc(),d=a;b[C]&&(d=a[kb](b));d[Ga]("value",function(a){c[Gb](a.val())},function(a){c[Ka](a)});return c.ia}function Tf(a,b,c){function d(a){a?f[Ka](a):f[Gb]()}c=c||!1;var f=Sc();c?a.set(b,d):a[Wa](b,d);return f.ia}
S[t].Da=function(a){return Sf(this.i,"@rev/R")[z](function(a){this.Ja=a;return Sf(this.i,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.Ua.set(d,b[d]),b[d]>c&&(c=b[d]);a.Va()[F](function(a){this.Ua.has(a[u]())||(b[a[u]()]=++c)},this);d=this.i[kb]("@table");return Tf(d,b)}[E](this))};
function Uf(a,b,c){var d=a.Ua.get(b);return null!=d?function(){var a={},b=Sc();this.i[db]("T").equalTo(d)[Ga]("value",function(d){d[F](function(b){var d=c(b.val());a[da(b.key(),10)]=d});b[Gb](a)});return b.ia}[r](a)[z](function(a){a["@rev"]={R:++this.Ja};return Tf(this.i,a)}[E](a)):Nc()}S[t].rc=function(a){return Uf(this,a,Kb(null))[z](function(){this.Ua[Za](a);return Tf(this.i[kb]("@table/"+a),null,!0)}[E](this))};S[t].dropTable=S[t].rc;
S[t].mc=function(a,b,c){return Uf(this,a,function(a){var f=a.P;f[b]=c;return{R:this.Ja+1,T:a.T,P:f}}[E](this))};S[t].addTableColumn=S[t].mc;S[t].sc=function(a,b){return Uf(this,a,function(a){var d=a.P;delete d[b];return{R:this.Ja+1,T:a.T,P:d}}[E](this))};S[t].dropTableColumn=S[t].sc;S[t].Lc=function(a,b,c){return Uf(this,a,function(a){var f=a.P;f[c]=f[b];delete f[b];return{R:this.Ja+1,T:a.T,P:f}}[E](this))};S[t].renameTableColumn=S[t].Lc;S[t].yb=function(){throw new P(351);};S[t].createRow=S[t].yb;
S[t].Ac=H("La");S[t].getVersion=S[t].Ac;S[t].dc=function(a){var b=Sc();a=this.Ua.get(a);this.i[db]("T").equalTo(a)[Ga]("value",function(a){var d=[];a[F](function(a){d[x](a.val().P)});b[Gb](d)});return b.ia};ka(S[t],function(){var a={},b=yd(this.Ua).map(function(b){return this.dc(b)[z](function(d){a[b]=d})}[E](this));return Rc(b)[z](function(){return a})});ka(S[t],S[t].dump);function Vf(a,b,c){Bd[r](this,c,b);this.i=a}K(Vf,Bd);Vf[t].I=function(a){return this.i.yc(a)};
Vf[t].oc=function(){var a=this.Pa.pb;if(0==a[G])this.Z[Gb]();else{var b=this.i.Ja+1;this.i.Ja=b;var c={"@rev":{R:b}};a[F](function(a,f){var h=this.i.Ua.get(f);a.Aa[F](function(a,d){c[d]={R:b,T:h,P:a.o}});a.pa[F](function(a,d){c[d]={R:b,T:h,P:a[1].o}});a.Ba[F](function(a,b){c[b]=null})},this);this.i.i[Wa](c,function(c){if(null===c)this.Z[Gb]();else this.i.Ja=b-1,c=zd(a).map(function(a){return Wf(this.i,a[u]())},this),Rc(c)[z](this.Z[Ka][E](this.Z),this.Z[Ka][E](this.Z))}[E](this))}return this.Z.ia};function Xf(){this.rb=M()}function Yf(a,b){if(0==b[C])return zd(a.rb);var c=[];b[F](function(a){a=this.rb.get(a)||null;null===a||c[x](a)},a);return c}Xf[t].getData=H("rb");Xf[t].get=function(a){return Nc(Yf(this,a))};function Zf(a,b){b[F](function(a){this.rb.set(a.id(),a)},a)}Xf[t].put=function(a){Zf(this,a);return Nc()};function $f(a,b){0==b[C]||b[C]==a.rb[G]?a.rb[w]():b[F](function(a){this.rb[Za](a)},a)}va(Xf[t],function(a){$f(this,a);return Nc()});
function ag(a){return 0==a.rb[G]?0:yd(a.rb)[Ja](function(a,c){return a>c?a:c},0)};function bg(a,b){this.s=a;this.vf=b;this.Kc=M();this.Ja=-1;this.J=M();this.Ua=M();this.Ed=null}I=bg[t];
I.Da=function(a){this.i=this.vf[kb](this.s[p]());var b=a||function(){return Nc()};return Sf(this.i,"@db/version")[z](function(a){return null===a?Tf(this.i,cg(this),!0)[z](function(){var a=new S(0,this.i);return b(a)}[E](this)):a==this.s[vb]()?Sf(this.i,"@rev/R")[z](function(a){this.Ja=a;return Sf(this.i,"@table")}[E](this))[z](function(a){for(var b in a)this.Ua.set(b,a[b]);a=this.s.Va().map(function(a){return Wf(this,a[u]())},this);return Rc(a)}[E](this))[z](function(){dg(this);eg(this);return Nc()}[E](this)):
this.be(a,b)[z](function(){return this.Da()}[E](this))}[E](this))};I.be=function(a,b){var c=new S(a,this.i);return c.Da(this.s)[z](function(){return Nc()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.i[kb]("@db");return Tf(a,{version:this.s[vb]()},!0)}[E](this))};function eg(a){a.i.off();a.i.on("child_removed",a.fg[E](a));a.Fd&&(a.Fd.off(),a.Kc[w]());a.Fd=a.i[db]("R").startAt(a.Ja+1);a.Fd.on("value",a.Zd[E](a))}
function dg(a){ed=zd(a.J).map(function(a){return ag(a)})[Ja](function(a,c){return a>c?a:c},0)+1}I.fg=function(a){var b=a.val(),c=this.Kc.get(b.T)||null;null===c&&(c=N(),this.Kc.set(b.T,c));c.add(da(a.key(),10))};I.Zd=function(a){var b=a[kb]("@rev/R").val();null!=b&&b!=this.Ja&&(this.Ja=b,a=fg(this,a),a[F](function(a){var b=this.J.get(a[u]()),f=yd(a.Ba);0<f[C]&&$f(b,f);var h=zd(a.Aa);a.pa[F](function(a){h[x](a[1])});Zf(b,h)},this),0<a[C]&&this.Fc(a),eg(this))};
function fg(a,b){var c=N(),d=M();a.Ua[F](function(a,b){var l=this.J.get(b),q=new Ae(b);if(this.Kc.has(a)){var y=Td(this.Kc.get(a));y[F](function(a){c.add(a)});Yf(l,y)[F](function(a){q[Za](a)})}d.set(a,q)}[E](a));b[F](function(a){if("@rev"!=a.key()){var b=da(a.key(),10);if(!c.has(b)){a=a.val();var l=d.get(a.T),q=this.J.get(l[u]());q.getData().has(b)?l.modify([Yf(q,[b])[0],new dd(b,a.P)]):l.add(new dd(b,a.P))}}}[E](a));return zd(d)[Fa](function(a){return!a.hc()})}
function Wf(a,b){var c=Sc(),d=a.Ua.get(b);a.i[db]("T").equalTo(d)[Ga]("value",function(a){var d=new Xf,l=[];a[F](function(a){l[x](new dd(da(a.key(),10),a.val().P))});Zf(d,l);this.J.set(b,d);c[Gb]()}[E](a));return c.ia}function cg(a){var b={};b["@db"]={version:a.s[vb]()};b["@rev"]={R:1};a.Ja=1;b["@table"]={};a.s.Va()[F](function(a,d){var f=a[u]();b["@table"][f]=d;this.J.set(f,new Xf);this.Ua.set(f,d)},a);return b}I.Jb=function(a,b){return new Vf(this,a,b)};
I.yc=function(a){var b=this.J.get(a)||null;if(null!==b)return b;throw new P(101,a);};oa(I,Ib());Ba(I,Jb("Ed"));I.Fc=function(a){null!=this.Ed&&this.Ed(a)};function T(a,b,c,d){this.i=b;this.Ka=c;this.La=a;this.Xc=d}J("lf.backstore.IndexedDBRawBackStore",T);T[t].jd=H("i");T[t].getRawDBInstance=T[t].jd;T[t].kd=H("Ka");T[t].getRawTransaction=T[t].kd;T[t].rc=function(a){return new L(function(b,c){try{this.i.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};T[t].dropTable=T[t].rc;
function gg(a,b,c,d){return new L(function(a,h){var l;try{var q=this.Ka[wb](b);l=q[Ea]()}catch(y){h(y);return}sa(l,function(){var b=l[Hb];b?(c(b),b[hb]()):(d(q),a())});ya(l,h)},a)}function hg(a){var b=null;return b=a instanceof ArrayBuffer?hd(a):a instanceof Date?a[Fb]():a}function ig(a,b,c){function d(a){var b=Zd(a[v]),d=b.o,f;for(f in d){var O=fd(d[f]);c(O);d[f]=O.Ha()}a[Wa](b.Ha())}function f(a){var b=fd(a[v]);c(b);a[Wa](b.Ha())}return gg(a,b,a.Xc?d:f,Ib())}
T[t].mc=function(a,b,c){var d=hg(c);return ig(this,a,function(a){a.o[b]=d})};T[t].addTableColumn=T[t].mc;T[t].sc=function(a,b){return ig(this,a,function(a){delete a.o[b]})};T[t].dropTableColumn=T[t].sc;T[t].Lc=function(a,b,c){return ig(this,a,function(a){a.o[c]=a.o[b];delete a.o[b]})};T[t].renameTableColumn=T[t].Lc;
function jg(a,b){var c=[];return new L(function(a,f){var h;try{h=this.Ka[wb](b)[Ea]()}catch(l){f(l);return}sa(h,function(){var b=h[Hb];if(b){if(this.Xc){var f;f=Zd(b[v]).o;for(var l in f)c[x](f[l])}else c[x](b[v]);b[hb]()}else a(c)}[E](this));ya(h,f)},a)}T[t].yb=function(a){var b={},c;for(c in a)b[c]=hg(a[c]);return gd(b)};T[t].createRow=T[t].yb;T[t].Ac=H("La");T[t].getVersion=T[t].Ac;
ka(T[t],function(){for(var a=this.i[Ha],b=[],c=0;c<a[C];++c){var d=a[Ma](c);b[x](this.dc(d))}return Rc(b)[z](function(b){var c={};b[F](function(b,d){c[a[Ma](d)]=b});return c})});ka(T[t],T[t].dump);T[t].dc=function(a){return jg(this,a)[z](function(a){return a.map(function(a){return a[v]})})};function kg(a,b){this.X=a;this.Kb=b}I=kg[t];I.get=function(a){if(0==a[C])return this.wc();a=a.map(function(a){return new L(function(c,d){var f;try{f=this.X.get(a)}catch(h){d(h);return}ya(f,d);sa(f,function(a){c(this.Kb(a[Na][Hb]))}[E](this))},this)},this);return Rc(a)};I.wc=function(){return new L(function(a,b){var c=[],d;try{d=this.X[Ea]()}catch(f){b(f);return}ya(d,b);sa(d,function(){var b=d[Hb];b?(c[x](this.Kb(b[v])),b[hb]()):a(c)}[E](this))},this)};
I.Sb=function(a){return new L(function(b,c){var d;try{d=a()}catch(f){c(f);return}sa(d,b);ya(d,c)},this)};I.put=function(a){if(0==a[C])return Nc();a=a.map(function(a){return this.Sb(function(){return this.X.put(a.Ha())}[E](this))},this);return Rc(a)};
va(I,function(a){return new L(function(b,c){var d=this.X[cb]();sa(d,function(d){if(0==a[C]||d[Na][Hb]==a[C])return this.Sb(function(){return this.X[w]()}[E](this))[z](b,c);d=a.map(function(a){return this.Sb(function(){return this.X[Za](a)}[E](this))},this);Rc(d)[z](b,c)}[E](this));ya(d,c)},this)});function lg(a,b,c,d,f){Bd[r](this,c,d);this.j=a;this.Ka=b;this.Xc=f;this.Ka.oncomplete=this.Z[Gb][E](this.Z);this.Ka.onabort=this.Z[Ka][E](this.Z)}K(lg,Bd);lg[t].I=function(a,b,c){return this.Xc?(c=null!=c?c:0,a=this.Ka[wb](a),new $d(a,b,0==c?ac(be,this.j):ce)):new kg(this.Ka[wb](a),b)};lg[t].oc=function(){return this.Z.ia};function mg(a,b){this.j=a;this.s=b;this.Yc=b.$e().Hf||!1}I=mg[t];I.Da=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Nc()};return new L(function(a,f){var h;try{h=b.open(this.s[p](),this.s[vb]())}catch(l){f(l);return}ya(h,f);h.onupgradeneeded=function(a){ng(this,c,a)[z](Ib(),f)}[E](this);sa(h,function(b){this.i=b[Na][Hb];this.je()[z](function(b){ed=b+1;a(this.i)}[E](this))}[E](this))},this)};
function ng(a,b,c){var d=c[Na][Hb],f=c[Na][nb];c=new T(c.oldVersion,d,f,a.Yc);og(d);a.s.Va()[F](ac(a.Cf,d,f),a);return b(c)}function og(a){for(var b=[],c=0;c<a[Ha][C];++c){var d=a[Ha][Ma](c);-1!=d[ab](".")&&b[x](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})}I.Cf=function(a,b,c){a[Ha][ub](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Cb()&&(c.Ca()[F](function(c){this.qc(a,b,c.l(),"btree")},this),this.qc(a,b,c.u+".#","rowid"))};
I.qc=function(a,b,c,d){a[Ha][ub](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[wb](c),(this.Yc?new $d(a,fd,ce):new kg(a,fd)).put([new jd(new id(d))]))};I.Jb=function(a,b){var c=yd(b.ca());De(b)[F](function(a){c[x](a)});var d=this.i[nb](c,0==a?"readonly":"readwrite");return new lg(this.j,d,b,a,this.Yc)};
I.je=function(a){function b(){if(0==d[C])return Nc();var a=d[sb]();return c(a)[z](b)}function c(b){return new L(function(c,d){var Ta;try{Ta=(a||f[nb]([b]))[wb](b)[Ea](null,"prev")}catch(Ua){d(Ua);return}sa(Ta,function(a){(a=a[Na][Hb])&&(h=ba.max(h,l(a)));c(h)});ya(Ta,function(){c(h)})})}var d=this.s.Va().map(function(a){return a[u]()}),f=this.i,h=0,l=function(a){return this.Yc?(a=Zd(a[v]),aa[mb](a.o)[Ja](function(a,b){return ba.max(a,b)},0)):a.key}[E](this);return new L(function(a){b()[z](function(){a(h)})})};
oa(I,function(){this.i[Qa]()});I.yc=function(){throw new P(511);};Ba(I,Ib());I.Fc=Ib();function pg(a,b,c){Bd[r](this,c,b);this.X=a;0==b&&this.Z[Gb]()}K(pg,Bd);pg[t].I=function(a){return this.X.yc(a)};pg[t].oc=function(){this.Z[Gb]();return this.Z.ia};function qg(a){this.s=a;this.J=M()}I=qg[t];I.Da=function(){this.s.Va()[F](this.Sf,this);return Nc()};I.yc=function(a){var b=this.J.get(a)||null;if(null===b)throw new P(101,a);return b};I.Jb=function(a,b){return new pg(this,a,b)};function rg(a,b){if(!a.J.has(b)){var c=new Xf;a.J.set(b,c);return c}return null}I.Sf=function(a){rg(this,a[u]());a.Cb()&&(a.Ca()[F](function(a){this.qc(a.l(),"btree")},this),this.qc(a.u+".#","rowid"))};I.qc=function(a,b){var c=rg(this,a);null===c||c.put([new jd(new id(b))])};
oa(I,Ib());Ba(I,Ib());I.Fc=Ib();function sg(a){qg[r](this,a);this.pd=null}K(sg,qg);Ba(sg[t],function(a){null===this.pd&&(this.pd=a)});sg[t].Fc=function(a){null===this.pd||this.pd(a)};function tg(a,b,c){this.Ka=a;this.u=b;this.Kb=c}tg[t].get=function(a){var b=this.Kb;ug(this.Ka,"SELECT id, value FROM "+this.u+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Db][C],f=e(d),h=0;h<d;++h)f[h]=b({id:a[Db][Ma](h).id,value:ga.parse(a[Db][Ma](h)[v])});return f});return this.Ka.ma()};tg[t].put=function(a){if(0==a[C])return Nc();var b="INSERT OR REPLACE INTO "+this.u+"(id, value) VALUES (?, ?)";a[F](function(a){ug(this.Ka,b,[a.id(),ga[zb](a.o)])},this);return Nc()};
va(tg[t],function(a){ug(this.Ka,"DELETE FROM "+this.u+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Nc()});function vg(a,b,c){Bd[r](this,b,c);this.i=a;this.J=M();this.Id=[]}K(vg,Bd);vg[t].I=function(a,b){var c=this.J.get(a)||null;null===c&&(c=new tg(this,a,b),this.J.set(a,c));return c};function ug(a,b,c,d){a.Id[x]({sg:b,ig:c,transform:d})}
vg[t].oc=function(){var a,b,c=this.Z[Ka][E](this.Z),d=function(a,b){this.Z[Ka](b)}[E](this),f=function(c,l){a=l;if(this.Id[C]){var q=this.Id[sb]();b=q.transform;c.executeSql(q.sg,q.ig,f,d)}else q=a,null!=b&&null!=a&&(q=b(a)),this.Z[Gb](q)}[E](this);0==this.nf?this.i.readTransaction(f,c):this.i[nb](f,c);return this.Z.ia};function U(a,b,c){this.i=c;this.j=a;this.La=b}J("lf.backstore.WebSqlRawBackStore",U);U[t].jd=H("i");U[t].getRawDBInstance=U[t].jd;U[t].kd=function(){throw new P(356);};U[t].getRawTransaction=U[t].kd;function wg(a){return new vg(a.i,new Ce(a.j,N()),1)}U[t].rc=function(a){var b=wg(this);ug(b,"DROP TABLE "+a,[]);return b.ma()};U[t].dropTable=U[t].rc;
U[t].dc=function(a){var b=wg(this);ug(b,"SELECT id, value FROM "+a,[]);return b.ma()[z](function(a){for(var b=a[Db][C],f=e(b),h=0;h<b;++h)f[h]={id:a[Db][Ma](h).id,value:ga.parse(a[Db][Ma](h)[v])};return Nc(f)})};function xg(a,b,c){var d=wg(a),f="UPDATE "+b+" SET value=? WHERE id=?";return a.dc(b)[z](function(a){a[F](function(a){a=c(a);ug(d,f,[ga[zb](a[v]),a.id])});return d.ma()})}U[t].mc=function(a,b,c){var d=hg(c);return xg(this,a,function(a){a[v][b]=d;return a})};U[t].addTableColumn=U[t].mc;
U[t].sc=function(a,b){return xg(this,a,function(a){delete a[v][b];return a})};U[t].dropTableColumn=U[t].sc;U[t].Lc=function(a,b,c){return xg(this,a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};U[t].renameTableColumn=U[t].Lc;U[t].yb=function(a){var b={},c;for(c in a)b[c]=hg(a[c]);return gd(b)};U[t].createRow=U[t].yb;U[t].Ac=H("La");U[t].getVersion=U[t].Ac;
function yg(a){ug(a,'SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Db][C]),d=0;d<c[C];++d)c[d]=a[Db][Ma](d).tbl_name;return c})}ka(U[t],function(){var a=Sc(),b=wg(this);yg(b);var c={};b.ma()[z](function(b){b=b[Fa](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.dc(a)[z](function(b){c[a]=b})},this);Rc(b)[z](function(){a[Gb](c)})}[E](this));return a.ia});ka(U[t],U[t].dump);function zg(a,b,c){this.j=a;this.s=b;this.rg=c||4194304}function Ag(a){return new Ce(a.j,N())}I=zg[t];I.Da=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Nc()};return new L(function(a,d){try{var f=ca.openDatabase(this.s[p](),"",this.s[p](),this.rg);if(null!=f)this.i=f,Bg(this,b)[z](a,d);else throw new P(354);}catch(h){d(h)}},this)};
function Bg(a,b){var c=Sc(),d=new vg(a.i,Ag(a),1);ug(d,"CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);ug(d,"SELECT v FROM __lf_ver WHERE id = 0",[]);d.ma()[z](function(a){var d=0;a[Db][C]&&(d=a[Db][Ma](0).v);d<this.s[vb]()?this.be(b,d)[z](c[Gb][E](c)):d>this.s[vb]()?c[Ka](new P(108)):c[Gb]()}[E](a));return c.ia}I.Jb=function(a,b){if(null!=this.i)return new vg(this.i,b,a);throw new P(2);};oa(I,Ib());I.yc=function(){throw new P(512);};Ba(I,function(){throw new P(355);});
I.Fc=function(){throw new P(355);};I.be=function(a,b){var c=Sc();Cg(this)[z](function(){a(new U(this.j,b,this.i))[z](function(){return this.je()}[E](this))[z](c[Gb][E](c))}[E](this),c[Ka][E](c));return c.ia};
function Cg(a){var b=a.s.Va(),c=new vg(a.i,Ag(a),1),d=new vg(a.i,Ag(a),1);ug(c,"INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[a.s[vb]()]);yg(c);return c.ma()[z](function(a){a[Fa](function(a){return-1!=a[ab](".")})[F](function(a){ug(d,"DROP TABLE "+a,[])});var c=a[Fa](function(a){return-1==a[ab](".")});b.map(function(a){return a[u]()})[Fa](function(a){return-1==c[ab](a)})[F](function(a){ug(d,"CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return d.ma()})}
I.je=function(){var a=0,b=Sc(),c=function(b){var c=new vg(this.i,Ag(this),0);ug(c,"SELECT MAX(id) FROM "+b,[]);return c.ma()[z](function(b){b=b[Db][Ma](0)[0];a=ba.max(b,a)})}[E](this),d=this.s.Va().map(function(a){return c(a[u]())});Rc(d)[z](function(){b[Gb](a)},function(a){b[Ka](a)});return b.ia};function Dg(){this.g=M();this.oe=M()}function Eg(a,b){var c=a.oe.get(b);Mb(c)||(c=N(),a.oe.set(b,c));return c}I=Dg[t];I.set=function(a,b){this.g.set(b.id(),b);Eg(this,a).add(b.id())};function Fg(a,b,c){var d=Eg(a,b);c[F](function(a){this.g.set(a.id(),a);d.add(a.id())},a)}I.get=function(a){return this.g.get(a)||null};function Gg(a,b){return b.map(function(a){return this.get(a)},a)}
I.fb=function(a,b,c){var d=[],f=ba.min(b,c),h=ba.max(b,c);a=Eg(this,a);if(a[G]<h-f)a[F](function(a){a>=f&&a<=h&&(a=this.g.get(a),d[x](a))},this);else for(b=f;b<=h;++b)a.has(b)&&(c=this.g.get(b),d[x](c));return d};va(I,function(a,b){this.g[Za](b);Eg(this,a)[Za](b)});I.Lb=function(a){return null!=a?Eg(this,a)[G]:this.g[G]};ta(I,function(){this.g[w]();this.oe[w]()});function Hg(a,b){for(var c=0,d=a[C];c<d;){var f=c+d>>1;a[f]<b?c=f+1:d=f}return c==d&&a[c]==b?c:~c};function Ig(a,b,c,d){a=b?a[gb]():a;if(null==c&&null==d)return a;c=ba.min(Mb(c)?c:a[C],a[C]);if(0==c)return[];d=ba.min(d||0,a[C]);return a[n](d,d+c)};function Jg(){this.ta=0}Jg[t].add=function(a,b){this.ta+=b};va(Jg[t],function(a,b){this.ta-=b});ta(Jg[t],function(){this.ta=0});function Kg(a,b){a[w]();b[F](function(a){this.ta+=a.ta},a)};function Lg(a,b,c,d){this.u=a;this.U=b;this.qe=c;this.nb=new Jg;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=Mg(this,d);this.ra=d=Ng(d)}else this[w]()}var Og=[];I=Lg[t];na(I,H("u"));g(I,function(){return this.ra[D]()});I.add=function(a,b){this.ra=this.ra.ub(a,b)};I.set=function(a,b){this.ra=this.ra.ub(a,b,!0)};va(I,function(a,b){this.ra=this.ra[jb](a,b)});I.get=function(a){return this.ra.get(a)};I.bd=function(a){if(null==a)return this.Ta().ta;if(a instanceof Ge){if(Le(a))return this.Ta().ta;if(Me(a))return this.get(a.c)[C]}return this.fb([a])[C]};
I.Ta=H("nb");I.wc=function(a,b,c,d){c=e(a);this.ra.fill({offset:b?this.nb.ta-a-d:d,count:a,ne:0},c);return b?c[gb]():c};
I.fb=function(a,b,c,d){var f=Pg(this.ra).b[0];if(!Mb(f)||0==c)return Og;b=b||!1;c=null!=c?ba.min(c,this.nb.ta):this.nb.ta;d=d||0;var h=ba.min(ba.max(this.nb.ta-d,0),c);if(0==h)return Og;if(!Mb(a)||1==a[C]&&a[0]instanceof Ge&&Le(a[0]))return this.wc(h,b,c,d);a=this.U.jf(a);var l=e(b?this.nb.ta:h),q={count:0,W:l[C],reverse:b,N:d};a[F](function(a){for(var b=this.U.ud(a),b=this.U.Sd(a)?f:b[0],b=Qg(this.ra,b),c=q[cb],d=0;null!=b&&q[cb]<q.W;)b.fb(a,q,l),q[cb]!=c?(d=0,c=q[cb]):d++,b=2==d?null:b[rb]()},this);
l[A](q[cb],h-q[cb]);return b?Ig(l,b,c,d):l};ta(I,function(){this.ra=Rg(this);this.nb[w]()});I.ka=function(a){return this.ra.ka(a)};I.min=function(){return this.Ec(this.U.min[E](this.U))};I.max=function(){return this.Ec(this.U.max[E](this.U))};I.Ec=function(a){var b=Pg(this.ra),c=Sg(this.ra);if(0==b.b[C]&&0==c.b[C])return null;var d=b.b[0],b=b.A[0],f=c.b[c.b[C]-1],c=c.A[c.b[C]-1];return 1==a(d,f)?[d,this.qe?[b]:b]:[f,this.qe?[c]:c]};I.Fa=H("qe");I.pc=H("U");
I.Wd=function(a,b){return null!=a?-1==this.U[Bb](a,b):!1};I.Na=function(a,b){return null!=a?0==this.U[Bb](a,b):!1};I.Ha=function(){for(var a=[],b=Pg(this.ra);b;)a[x](new dd(b.na,[b.b,b.A])),b=b.wa;return a};function Tg(a,b,c,d){a=new Lg(b,a,c);d=Ug(d,a);a.ra=d;return a}function Vg(a,b){this.na=a;this.D=b;this.hb=0;this.wa=this.wb=this.C=null;this.b=[];this.A=[];this.h=[]}function Rg(a){return new Vg(ed++,a)}function Wg(a){return 0==a.hb}I=Vg[t];xa(I,H("wa"));
function Xg(a){function b(a){return null!=a?a.na[D]():"_"}var c=a.na+"["+a.b[m]("|")+"]",d=a.h.map(function(a){return a.na})[m]("|"),f=a.A[m]("/"),h=b(a.wb)+"{",h=Wg(a)?h+f:h+d,h=h+"}"+b(a.C);a.wa&&(a=Xg(a.wa),c=c+"  "+a[0],h=h+"  "+a[1]);return[c,h]}g(I,function(){var a="",b=Xg(this),a=a+(b[0]+"\n"+b[1]+"\n");this.h[C]&&(a+=this.h[0][D]());return a});function Pg(a){return Wg(a)?a:Pg(a.h[0])}function Sg(a){return Wg(a)?a:Sg(a.h[a.h[C]-1])}function Yg(a,b){b&&(b.wb=a);a&&(a.wa=b)}
function Mg(a,b){for(var c=b[C],d=0,f=Rg(a),h=f;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,q=b[n](d,d+l);f.b=q.map(function(a){return a.key});f.A=q.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=Rg(f.D),Yg(f,l),f=l)}return h}function Zg(a){var b=a[0],c=Rg(b.D);c.hb=b.hb+1;c.h=a;for(b=0;b<a[C];++b)a[b].C=c,0<b&&c.b[x](a[b].b[0]);return c}
function Ng(a){var b=a,c=[];do c[x](b),b=b.wa;while(b);if(512>=c[C])b=Zg(c);else{var d=c[C],f=0,b=Rg(a.D);for(b.hb=a.hb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var h=c[n](f,f+a),l=Zg(h);l.C=b;b.h[C]&&(b.b[x](h[0].b[0]),Yg(b.h[b.h[C]-1],l));b.h[x](l);f+=a;d-=a}}return b}I.get=function(a){var b=$g(this,a);if(Wg(this)){var c=Og;this.D.Na(this.b[b],a)&&(c=c[Ra](this.A[b]));return c}b=this.D.Na(this.b[b],a)?b+1:b;return this.h[b].get(a)};
I.ka=function(a){var b=$g(this,a);return this.D.Na(this.b[b],a)?!0:Wg(this)?!1:this.h[b].ka(a)};va(I,function(a,b){ah(this,a,-1,b);if(null==this.C){var c=this;1==this.h[C]&&(c=this.h[0],c.C=null);return c}return this});function bh(a){return Wg(a)?a.b[0]:bh(a.h[0])}function ch(a){a.b=[];for(var b=1;b<a.h[C];++b)a.b[x](bh(a.h[b]))}
function ah(a,b,c,d){var f=$g(a,b),h=Wg(a);if(!h){var l=a.D.Na(a.b[f],b)?f+1:f;if(ah(a.h[l],b,l,d))ch(a);else return!1}else if(!a.D.Na(a.b[f],b))return!1;if(a.b[C]>f&&a.D.Na(a.b[f],b)){if(Mb(d)&&!a.D.Fa()&&h&&(l=a.A[f],d=Hg(l,d),0>d?d=!1:(l[A](d,1),d=!0),d&&a.D.Ta()[jb](b,1),a.A[f][C]))return!1;a.b[A](f,1);h&&(h=a.D.Fa()?1:a.A[f][C],a.A[A](f,1),a.D.Ta()[jb](b,h))}if(256>a.b[C]&&null!=a.C){a:{b=null;if(a.wa&&256<a.wa.b[C])b=a.wa,f=d=0,h=a.b[C]+1;else if(a.wb&&256<a.wb.b[C])b=a.wb,d=a.wb.b[C]-1,f=Wg(a)?
d:d+1,h=0;else{b=!1;break a}a.b[A](h,0,b.b[d]);b.b[A](d,1);d=Wg(a)?a.A:a.h;l=null;Wg(a)?l=b.A:(l=b.h,l[f].C=a);d[A](h,0,l[f]);l[A](f,1);Wg(b)||(ch(b),ch(a));b=!0}b||dh(a,c)}return!0}function dh(a,b){var c,d,f;a.wa&&511>a.wa.b[C]?(c=a.wa,f=d=0):a.wb&&(c=a.wb,d=c.b[C],f=Wg(c)?c.A[C]:c.h[C]);d=[d,0][Ra](a.b);e[t][A][yb](c.b,d);d=null;Wg(a)?d=a.A:(d=a.h,d[F](function(a){a.C=c}));d=[f,0][Ra](d);e[t][A][yb](Wg(c)?c.A:c.h,d);Yg(a.wb,a.wa);Wg(c)||ch(c);-1!=b&&(a.C.b[A](b,1),a.C.h[A](b,1))}
I.ub=function(a,b,c){var d=$g(this,a);if(Wg(this)){if(this.D.Na(this.b[d],a)){if(c)this.D.Ta()[jb](a,this.D.Fa()?1:this.A[d][C]),this.A[d]=this.D.Fa()?b:[b];else{if(this.D.Fa())throw new P(201);d=this.A[d];c=Hg(d,b);0>c?(d[A](-(c+1),0,b),b=!0):b=!1;if(!b)throw new P(109);}this.D.Ta().add(a,1);return this}this.b[A](d,0,a);this.A[A](d,0,this.D.Fa()?b:[b]);this.D.Ta().add(a,1);512==this.b[C]?(a=Rg(this.D),b=Rg(this.D),b.hb=1,b.b=[this.b[256]],b.h=[this,a],b.C=this.C,this.C=b,a.b=this.b[A](256),a.A=this.A[A](256),
a.C=b,Yg(a,this.wa),Yg(this,a),a=b):a=this;return a}d=this.D.Na(this.b[d],a)?d+1:d;a=this.h[d].ub(a,b,c);Wg(a)||1!=a.b[C]||(this.b[A](d,0,a.b[0]),a.h[1].C=this,a.h[0].C=this,this.h[A](d,1,a.h[1]),this.h[A](d,0,a.h[0]));return 512==this.b[C]?eh(this):this};function eh(a){var b=Rg(a.D),c=Rg(a.D);b.C=a.C;b.hb=a.hb+1;b.b=[a.b[256]];b.h=[a,c];a.b[A](256,1);c.C=b;c.hb=a.hb;c.b=a.b[A](256);c.h=a.h[A](257);c.h[F](function(a){a.C=c});a.C=b;Yg(c,a.wa);Yg(a,c);return b}
function $g(a,b){for(var c=0,d=a.b[C];c<d;){var f=c+d>>1;a.D.Wd(a.b[f],b)?c=f+1:d=f}return c}function Qg(a,b){if(!Wg(a)){var c=$g(a,b);a.D.Na(a.b[c],b)&&c++;return Qg(a.h[c],b)}return a}
I.fb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var f=this.D.pc(),h=0,l=this.b[C]-1,q=this.b,y=d(f.qb(q[h],a)),O=d(f.qb(q[l],a));if(1!=y&&(-1!=y||-1!=O)){var Ta=function(a,b){var c=a+b>>1;return c==a?c+1:c},Ua=function(b,c,h){if(b>=c)return 0==h?c:-1;var l=d(f.qb(q[b],a));if(0==l)return b;if(1==l)return-1;l=Ta(b,c);if(l==c)return 0==h?c:-1;var y=d(f.qb(q[l],a));return 0==y?Ua(b,l,y):-1==y?Ua(l+1,c,h):Ua(b+1,l,y)},Tb=function(b,c){if(b>=c)return b;var h=d(f.qb(q[c],a));if(0==h)return c;
if(-1==h)return b;h=Ta(b,c);if(h==c)return b;var l=d(f.qb(q[h],a));return 0==l?Tb(h,c):1==l?Tb(b,h-1):-1};0!=y&&(h=Ua(h+1,l,O));-1!=h&&(l=Tb(h,l),-1!=l&&l>=h&&fh(this,b,c,h,l+1))}};function fh(a,b,c,d,f){for(;d<f&&(b[gb]||!(b[cb]>=b.W));++d)if(a.D.Fa())!b[gb]&&b.N?b.N--:c[b.count++]=a.A[d];else for(var h=0;h<a.A[d][C]&&b[cb]<c[C];++h)!b[gb]&&b.N?b.N--:c[b.count++]=a.A[d][h]}
I.fill=function(a,b){if(Wg(this))for(var c=0;c<this.A[C]&&0<a[cb];++c)if(0<a[xb]){if(a.offset=a[xb]-(this.D.Fa()?1:this.A[c][C]),0>a[xb])for(var d=this.A[c][C]+a[xb];d<this.A[c][C]&&0<a[cb];++d)b[a.ne++]=this.A[c][d],a.count--}else if(this.D.Fa())b[a.ne++]=this.A[c],a.count--;else for(d=0;d<this.A[c][C]&&0<a[cb];++d)b[a.ne++]=this.A[c][d],a.count--;else for(c=0;c<this.h[C]&&0<a[cb];++c)this.h[c].fill(a,b)};
function Ug(a,b){for(var c=b.Ta(),d=a.map(function(a){var d=new Vg(a.id(),b);d.b=a.o[0];d.A=a.o[1];d.b[F](function(a,f){c.add(a,b.Fa()?1:d.A[f][C])});return d}),f=0;f<d[C]-1;++f)Yg(d[f],d[f+1]);return 1<d[C]?Ng(d[0]):d[0]};function gh(a){if(1==a.f[C])return new hh(a.f[0].jb);a=a.f.map(function(a){return a.jb});return new ih(a)}function hh(a){this.ad=0==a?jh:kh;this.Xd=0==a?function(a){return null!=a?a[gb]():null}:function(a){return a||null};this.ce=0==a?lh:mh}K(hh,de);function kh(a,b){return a>b?1:a<b?-1:0}function jh(a,b){return kh(b,a)}function mh(a,b){return Ne(a,b)}function lh(a,b){return Ne(b,a)}I=hh[t];
I.qb=function(a,b){var c=this.Xd(b),d=[null===c.c,null===c.w];if(!d[0]){var f=this.ad(a,c.c);d[0]=c.aa?1==f:-1!=f}d[1]||(f=this.ad(a,c.w),d[1]=c.la?-1==f:1!=f);return d};I.compare=function(a,b){return this.ad(a,b)};I.min=function(a,b){return a<b?1:a==b?0:-1};I.max=function(a,b){return a>b?1:a==b?0:-1};I.Rd=function(a,b){var c=this.qb(a,b);return c[0]&&c[1]};I.jf=function(a){return a[Fa](function(a){return null!==a})[$a](function(a,c){return this.ce(a,c)}[E](this))};I.Sd=function(a){return Pb(this.Xd(a).c)};
I.ud=function(a){a=this.Xd(a);return[a.c,a.w]};g(I,function(){return this.ad==jh?"SimpleComparator_DESC":"SimpleComparator_ASC"});function ih(a){this.Ia=a.map(function(a){return new hh(a)})}K(ih,de);function nh(a,b,c,d){for(var f=0,h=0;h<a.Ia[C]&&0==f;++h)f=d(a.Ia[h],b[h],c[h]);return f}I=ih[t];I.compare=function(a,b){return nh(this,a,b,function(a,b,f){return a[Bb](b,f)})};I.min=function(a,b){return nh(this,a,b,function(a,b,f){return a.min(b,f)})};
I.max=function(a,b){return nh(this,a,b,function(a,b,f){return a.max(b,f)})};I.qb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ia[C]&&(c[0]||c[1]);++d){var f=this.Ia[d].qb(a[d],b[d]);c[0]=c[0]&&f[0];c[1]=c[1]&&f[1]}return c};I.Rd=function(a,b){for(var c=!0,d=0;d<this.Ia[C]&&c;++d)c=this.Ia[d].Rd(a[d],b[d]);return c};
I.jf=function(a){var b=a[Fa](function(a){return a[Va](Qb)});a=e(this.Ia[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[$a](function(a,c){return this.Ia[b].ce(a,c)}[E](this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[$a](function(a,b){for(var c=0,l=0;l<this.Ia[C]&&0==c;++l)c=this.Ia[l].ce(a[l],b[l]);return c}[E](this))};I.Sd=function(a){return this.Ia[0].Sd(a[0])};
I.ud=function(a){var b=a.map(function(a,b){return this.Ia[b].ud(a)[0]},this);a=a.map(function(a,b){return this.Ia[b].ud(a)[1]},this);return[b,a]};function oh(a){this.da=a;this.ib=N();this.Nc=new Jg;this.nb=new Jg}I=oh[t];na(I,function(){return this.da[u]()});I.add=function(a,b){null===a?(this.ib.add(b),this.Nc.add(a,1)):this.da.add(a,b)};I.set=function(a,b){null===a?(this.ib[w](),this.Nc[w](),this.add(a,b)):this.da.set(a,b)};va(I,function(a,b){if(null===a)b?(this.ib[Za](b),this.Nc[jb](a,1)):(this.ib[w](),this.Nc[w]());else this.da[jb](a,b)});I.get=function(a){return null===a?Td(this.ib):this.da.get(a)};I.bd=function(a){return this.da.bd(a)};
I.Ta=function(){Kg(this.nb,[this.da.Ta(),this.Nc]);return this.nb};I.fb=function(a,b,c,d){b=this.da.fb(a,b,c,d);return null!=a?b:b[Ra](Td(this.ib))};ta(I,function(){this.ib[w]();this.da[w]()});I.ka=function(a){return null===a?0!=this.ib[G]:this.da.ka(a)};I.min=function(){return this.da.min()};I.max=function(){return this.da.max()};I.Ha=function(){return[new dd(-2,Td(this.ib))][Ra](this.da.Ha())};I.pc=function(){return this.da.pc()};
function ph(a,b){for(var c=-1,d=0;d<b[C];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new P(102);var d=b[c].o,f=b[n](0);f[A](c,1);var c=a(f),h=new oh(c);d[F](function(a){h.ib.add(a)});return h}I.Fa=function(){return this.da.Fa()};function qh(a){this.u=a;this.mb=N();this.U=new hh(1)}I=qh[t];na(I,H("u"));I.add=function(a){if("number"!=typeof a)throw new P(103);this.mb.add(a)};I.set=function(a,b){this.add(a,b)};va(I,function(a){this.mb[Za](a)});I.get=function(a){return this.ka(a)?[a]:[]};I.min=function(){return this.Ec(this.U.min[E](this.U))};I.max=function(){return this.Ec(this.U.max[E](this.U))};
I.Ec=function(a){if(0==this.mb[G])return null;var b=Td(this.mb)[Ja](function(b,d){return null===b||1==a(d,b)?d:b},null);return[b,[b]]};I.bd=function(){return this.mb[G]};I.fb=function(a,b,c,d){var f=a||[Ke()];a=Td(this.mb)[Fa](function(a){return f[bb](function(b){return this.U.Rd(a,b)},this)},this);return Ig(a,b,c,d)};ta(I,function(){this.mb[w]()});I.ka=function(a){return this.mb.has(a)};I.Ha=function(){return[new dd(0,Td(this.mb))]};I.pc=H("U");
function rh(a,b){var c=new qh(a);b[0].o[F](function(a){c.add(a,a)});return c}I.Fa=Kb(!0);I.Ta=function(){var a=new Jg;a.ta=this.mb[G];return a};function sh(a){this.j=a;this.xb=a.m(Id);this.F=a.m(Kd);this.ja=a.m(Jd)}sh[t].Da=function(a){var b=a.Va(),c=function(){if(0==b[C])return Nc();var a=b[sb]();return(a.Cb()?th(this,a):uh(this,a))[z](c)}[E](this);return c()};function uh(a,b){var c=new Ce(a.j,N([b]));return a.xb.Jb(0,c).I(b[u](),b.cc[E](b)).get([])[z](function(a){Fg(this.ja,b[u](),a);vh(this,b,a)}[E](a))}function vh(a,b,c){var d=a.F.Oc.get(b[u]())||[];c[F](function(a){d[F](function(b){var c=a.Pb(b[u]());b.add(c,a.id())})})}
function th(a,b){var c=new Ce(a.j,N([b])),d=a.xb.Jb(0,c),c=d.I(b[u](),b.cc).get([])[z](function(a){Fg(this.ja,b[u](),a)}[E](a)),f=b.Ca().map(function(a){return wh(this,a,d)},a)[Ra](xh(a,b,d));return Rc(f[Ra](c))}function wh(a,b,c){c=c.I(b.l(),fd,1);var d=gh(b);return c.get([])[z](function(a){if(1<a[C]){if(yh(b)){var c=Tg[E](void 0,d,b.l(),b.Cc);a=ph(c,a[n](1))}else a=Tg(d,b.l(),b.Cc,a[n](1));this.F.set(b.Pc,a)}}[E](a))}
function xh(a,b,c){return c.I(b.u+".#",fd,1).get([])[z](function(a){1<a[C]&&(a=rh(b.u+".#",a[n](1)),this.F.set(b[u](),a))}[E](a))};function zh(){this.X=M();this.Oc=M()}zh[t].Da=function(a){a.Va()[F](function(a){var c=[];this.Oc.set(a[u](),c);var d=a.u+".#";if(null===this.get(d)){var f=new qh(d);c[x](f);this.X.set(d,f)}a.Ca()[F](function(a){var b;b=gh(a);b=new Lg(a.l(),b,a.Cc);b=yh(a)?new oh(b):b;c[x](b);this.X.set(a.l(),b)},this)},this);return Nc()};zh[t].get=function(a){return this.X.get(a)||null};
zh[t].set=function(a,b){var c=this.Oc.get(a)||null;null===c&&(c=[],this.Oc.set(a,c));for(var d=null,f=0;f<c[C];f++)if(c[f][u]()==b[u]()){d=f;break}null!==d&&0<c[C]?c[A](d,1,b):c[x](b);this.X.set(b[u](),b)};function Ah(a){this.jc=[];Mb(a)&&this.add(a)}g(Ah[t],function(){return this.jc.map(function(a){return a[D]()})[m](",")});Ah[t].ka=function(a){return this.jc[bb](function(b){return b[ub](a)})};Ah[t].fa=H("jc");
Ah[t].add=function(a){if(0!=a[C])if(a=this.jc[Ra](a),1==a[C])this.jc=a;else{a[$a](Ne);for(var b=[],c=a[0],d=1;d<a[C];++d)if(Ie(c,a[d])){var f=a[d],h=Ke();if(null!==c.c&&null!==f.c){var l=Je(c.c,f.c,!0);1!=l?(h.c=c.c,h.aa=0!=l?c.aa:c.aa&&f.aa):(h.c=f.c,h.aa=f.aa)}null!==c.w&&null!==f.w&&(l=Je(c.w,f.w,!1),-1!=l?(h.w=c.w,h.la=0!=l?c.la:c.la&&f.la):(h.w=f.w,h.la=f.la));c=h}else b[x](c),c=a[d];b[x](c);this.jc=b}};
function Bh(a,b){var c=[];a.fa().map(function(a){return b.fa().map(function(b){var c;if(Ie(a,b)){c=Ke();var l=Je(a.c,b.c,!0),l=0==l?a.aa?a:b:-1!=l?a:b;c.c=l.c;c.aa=l.aa;null===a.w||null===b.w?b=null===a.w?b:a:(l=Je(a.w,b.w,!1),b=0==l?a.la?a:b:-1==l?a:b);c.w=b.w;c.la=b.la}else c=null;return c})})[F](function(a){c=c[Ra](a)});return new Ah(c[Fa](function(a){return null!==a}))};function Ch(a,b){var c=[],d=null,f=null;rf(a,function(a){var l=b(a);null==a[Cb]()?f=l:sf(d,l);var q=a[Cb]();null!==q&&R(q)[C]==R(d)[C]&&(q=c[ab](d),-1!=q&&c[A](q,1));1<R(a)[C]&&c[x](l);d=R(a)[C]?l:c[c[C]-1]});return f}function Dh(a){return Eh(a,function(a){return!R(a)[C]})}function Fh(a){var b=a[Cb](),c=0;null!==b&&(c=R(b)[ab](a),b[ib](a));var d=R(a)[n]();d[F](function(d,h){a[ib](d);null===b||tf(b,d,c+h)});return{parent:b,children:d}}
function Gh(a,b){R(a)[n]()[F](function(c){a[ib](c);sf(b,c)});sf(a,b)}function Hh(a){var b=pf(a,0);Fh(a);Gh(b,a);return b}function Ih(a,b,c){var d=pf(a,0),f=R(d)[n]();if(!f[bb](function(a){return b(a)}))return a;Fh(a);f[F](function(f,l){if(b(f)){var q=c(a);vf(d,l);sf(q,f);tf(d,q,l)}});return d}function Jh(a,b,c,d){var f=a[Cb]();null!==f&&(a=R(f)[ab](a),vf(f,a),tf(f,c,a));R(b)[n]()[F](function(a){b[ib](a);sf(d,a)});return c}
function Eh(a,b,c){function d(a){b(a)&&f[x](a);null!=c&&c(a)||R(a)[F](d)}var f=[];d(a);return f}function Kh(a,b){var c=b||function(a){return a[D]()+"\n"},d="";rf(a,function(a){for(var b=0;b<qf(a);b++)d+="-";d+=c(a)});return d};function Lh(a){wf[r](this);this.Rb=a;this.Za=!1}K(Lh,wf);I=Lh[t];I.Ib=function(){return Ch(this,function(a){if(a instanceof Lh){var b=new Lh(a.Rb);b.Za=a.Za;a=a.Y();b.na=a;return b}return a.Ib()}[E](this))};I.eb=function(a){var b=a||[];rf(this,function(a){a!=this&&a.eb(b)}[E](this));a=N(b);return Td(a)};I.wd=function(a){this.Za!=a&&(this.Za=a,this.Rb="and"==this.Rb?"or":"and",R(this)[F](function(b){return b.wd(a)}))};
I.eval=function(a){var b=R(this).map(function(b){return b.eval(a)});return Mh(this,b)};function Mh(a,b){return"and"==a.Rb?Ue(b):Ve(b)}g(I,function(){return"combined_pred_"+this.Rb[D]()});function Nh(){this[w]()}var Oh=aa[t][Ya],Ph=aa[t][tb];I=Nh[t];I.set=function(a,b){var c=!Qh(this,a);this.g[a]=b;if("__proto__"==a||!Rh&&!Oh[r](this.g,a)){delete this.g[a];var d=ec(this.Eb,a);if(c=0>d)d=this.Eb[C];this.Eb[d]=a;this.ke[d]=b}c&&this.$++};I.get=function(a,b){if(Qh(this,a))return this.g[a];var c=ec(this.Eb,a);return 0<=c?this.ke[c]:b};va(I,function(a){if(Qh(this,a))return this.$--,delete this.g[a],!0;a=ec(this.Eb,a);return 0<=a?(this.$--,jc(this.Eb,a),jc(this.ke,a),!0):!1});
I.addAll=function(a){fc(a.Oa(),function(b){this.set(b,a.get(b))},this)};I.hc=function(){return!this.$};I.Lb=H("$");I.ka=function(a){return Qh(this,a)||0<=ec(this.Eb,a)};I.Oa=function(){var a;if(Sh)a=lc(aa[mb](this.g));else{a=[];for(var b in this.g)Ph[r](this.g,b)&&a[x](b)}mc(a,this.Eb);return a};I.fa=function(){for(var a=[],b=this.Oa(),c=0;c<b[C];c++)a[x](this.get(b[c]));return a};I.getEntries=function(){for(var a=[],b=this.Oa(),c=0;c<b[C];c++){var d=b[c];a[x]([d,this.get(d)])}return a};
ta(I,function(){this.g=Rh?aa[lb](null):{};this.Eb=[];this.ke=[];this.$=0});la(I,function(){var a=new Nh;a.addAll(this);return a});function Qh(a,b){return"__proto__"==b?!1:Rh?b in a.g:Ph[r](a.g,b)}var Rh=!!aa[lb],Sh=!!aa[mb];function Th(){this[w]()}I=Th[t];I.$=0;ta(I,function(){this.$=0;this.g=new Nh});la(I,function(){var a=new Th;Uh(a,this);return a});I.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[x](b);this.$++};function Uh(a,b){fc(b.getEntries(),function(a){this.add(a[0],a[1])},a)}I.get=function(a){return(a=this.g.get(a))?lc(a):[]};va(I,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=kc(c,function(a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a});d&&(this.$--,0==c[C]&&this.g[jb](a));return d});
I.hc=function(){return!this.$};I.Lb=H("$");I.ka=function(a){return this.g.ka(a)};I.Oa=function(){return this.g.Oa()};I.fa=function(){return sc(this.g.fa())};I.getEntries=function(){for(var a=this.Oa(),b=[],c=0;c<a[C];c++)for(var d=a[c],f=this.get(d),h=0;h<f[C];h++)b[x]([d,f[h]]);return b};function Vh(a,b,c){wf[r](this);this.oa=a;this.qa=b;this.L=c;this.Yd=null;a=df.fd();this.cd=kf(a,this.oa.S(),this.L);this.Xf=a.Oe.get(this.oa.S())||null}K(Vh,wf);I=Vh[t];I.Ib=function(){var a=new Vh(this.oa,this.qa,this.L),b=this.Y();a.na=b;return a};I.eb=function(a){return null!=a?(a[x](this.oa),a[x](this.qa),a):[this.oa,this.qa]};
I.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new Vh(this.qa,this.oa,a)};I.eval=function(a){var b=a[B][Fa](function(a){var b=Ze(a,this.oa);a=Ze(a,this.qa);return this.cd(b,a)},this);return new Oe(b,Q(a))};g(I,function(){return"join_pred("+this.oa.l()+", "+this.qa.l()+")"});function Wh(a,b,c){var d=null,f=null;-1!=Q(b)[ab]($e(a.oa.I()))?(d=b,f=c):(d=c,f=b);return[d,f]}
function Xh(a){var b={};a.eb()[F](function(a){b[a[u]()]=null});return b}function Yh(a,b,c){null===a.Yd&&(a.Yd=Xh(a.qa.I()));var d=new Xe(new dd(-1,a.Yd),!1);return bf(b,c,d,[$e(a.qa.I())])}
function Zh(a,b,c,d){var f=[b,c];d||(f=Wh(a,b,c));b=f[0];c=f[1];var f=b,h=c,l=a.oa,q=a.qa;if(d||b[B][C]>c[B][C])f=c,h=b,l=a.qa,q=a.oa;var y=new Th,O=[];f[B][F](function(a){var b=ha(Ze(a,l));y.add(b,a)});var Ta=Q(f),Ua=Q(h);h[B][F](function(a){var b=Ze(a,q),c=ha(b);null!==b&&y.ka(c)?y.get(c)[F](function(b){b=bf(a,Ua,b,Ta);O[x](b)}):d&&O[x](Yh(this,a,Ua))}[E](a));a=Q(b)[Ra](Q(c));return new Oe(O,a)}
function $h(a,b,c,d,f){function h(a,b){var c=new Xe(b,1<Ta[C]),c=bf(a,Ua,c,Ta);O[x](c)}var l=d.Qf.I(),q=b,y=c;-1!=Q(b)[ab]($e(l))&&(q=c,y=b);var O=[],Ta=Q(y),Ua=Q(q);q[B][F](function(a){var b=this.Xf(Ze(a,d.cg)),b=d[ob].get(b);0!=b[C]&&(d[ob].Fa()?h(a,f.get(b[0])):Gg(f,b)[F](h[E](null,a)))},a);a=Q(q)[Ra](Q(y));return new Oe(O,a)};function ai(a,b,c){return null===b?new yf(a,b,c):Mb(b.l)?new Vh(a,b,c):new yf(a,b,c)};var bi={};J("lf.schema.DataStoreType",bi);bi.INDEXED_DB=0;bi.MEMORY=1;bi.LOCAL_STORAGE=2;bi.FIREBASE=3;bi.WEB_SQL=4;bi.OBSERVABLE_STORE=5;function ci(a,b,c,d){this.Pc=a;ja(this,b);this.Cc=c;this.f=d}ci[t].l=function(){return this.Pc+"."+this[p]};function yh(a){return a.f[bb](function(a){return a.ea.Bc()})}function di(a,b,c,d){this.u=a;this.ha=c;this.H=b;this.rd=d;this.bb=null}J("lf.schema.Table",di);na(di[t],H("u"));na(di[t],di[t][u]);di[t].Ya=H("bb");function $e(a){return a.bb||a.u}
di[t].nc=function(a){var b=new this.constructor(this.u);b.bb=a;b.ng=this.ng;return b};di[t].as=di[t].nc;di[t].createRow=di[t].yb;di[t].deserializeRow=di[t].cc;di[t].Ca=H("ha");di[t].getIndices=di[t].Ca;di[t].eb=H("H");di[t].getColumns=di[t].eb;di[t].getConstraint=di[t].Ab;di[t].Cb=H("rd");di[t].persistentIndex=di[t].Cb;function ei(a,b){wa(this,a);this.Gb=b;this.bb=null}I=ei[t];na(I,function(){return this.Gb+"("+this[kb][u]()+")"});I.l=function(){return this.Gb+"("+this[kb].l()+")"};I.I=function(){return this[kb].I()};g(I,function(){return this.l()});I.S=function(){return this[kb].S()};I.Ya=H("bb");I.Ca=function(){return[]};I.va=Kb(null);I.Bc=Kb(!1);I.nc=function(a){this.bb=a;return this};ei[t].as=ei[t].nc;function fi(a){for(var b=[a];a instanceof ei;)b[x](a[kb]),a=a[kb];return b}
function gi(a){this.bb=a||null;this.O=new di("#UnknownTable",[],[],!1)}I=gi[t];na(I,Kb("*"));I.l=function(){return this[u]()};g(I,function(){return this.l()});I.I=H("O");I.S=Kb(4);I.Ya=H("bb");I.Ca=function(){return[]};I.va=Kb(null);I.Bc=Kb(!1);J("lf.fn.avg",function(a){return new ei(a,"AVG")});function hi(a){return new ei(a||new gi,"COUNT")}J("lf.fn.count",hi);function ii(a){return new ei(a,"DISTINCT")}J("lf.fn.distinct",ii);J("lf.fn.max",function(a){return new ei(a,"MAX")});J("lf.fn.min",function(a){return new ei(a,"MIN")});J("lf.fn.stddev",function(a){return new ei(a,"STDDEV")});J("lf.fn.sum",function(a){return new ei(a,"SUM")});J("lf.fn.geomean",function(a){return new ei(a,"GEOMEAN")});function V(a,b){nf[r](this,"","");this.Jf=b}K(V,nf);ma(V[t],function(a,b){switch(this.Jf){case 1:return ji(this,a,b);case 0:return ki(this,a,b);default:return li(this,a,b)}});g(V[t],Kb("dummy_node"));V[t].Qc=function(){return this[D]()};function li(a,b,c){return new L(function(a){a(this.ba(b,[],c))}[E](a))}function ji(a,b,c){return pf(a,0)[Pa](b,c)[z](function(a){return this.ba(b,a,c)}[E](a))}
function ki(a,b,c){var d=R(a).map(function(a){return a[Pa](b,c)});return Rc(d)[z](function(a){var d=[];a[F](function(a){for(var b=0;b<a[C];++b)d[x](a[b])});return this.ba(b,d,c)}[E](a))};function mi(a){V[r](this,0,1);this.we=a}K(mi,V);g(mi[t],function(){return"aggregation("+this.we.map(function(a){return a.l()})[D]()+")"});mi[t].ba=function(a,b){b[F](function(a){ni(new oi(a,this.we))},this);return b};function oi(a,b){this.Ga=a;this.H=b}
function ni(a){a.H[F](function(a){a=fi(a)[gb]();for(var c=1;c<a[C];c++){var d=a[c],f=fi(d)[n](-1)[0],h=d[kb]instanceof ei?Re(this.Ga,d[kb]):this.Ga;if(null!==h.Xa&&h.Xa.has(d.l()))break;h=pi(d.Gb,h,f);f=this.Ga;null===f.Xa&&(f.Xa=M());f.Xa.set(d.l(),h)}},a)}
function pi(a,b,c){var d=null;switch(a){case "MIN":d=qi(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=qi(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=ri(b,c);break;case "COUNT":d=si(b,c);break;case "SUM":d=ti(b,c);break;case "AVG":a=si(b,c);0<a&&(d=ti(b,c)/a);break;case "GEOMEAN":d=ui(b,c);break;default:d=vi(b,c)}return d}function qi(a,b,c){return a[B][Ja](function(a,f){var h=Ze(f,b);return null===h?a:null===a?h:c(a,h)},null)}
function si(a,b){return b instanceof gi?a[B][C]:a[B][Ja](function(a,d){return a+(Pb(Ze(d,b))?0:1)},0)}function ti(a,b){return qi(a,b,function(a,b){return b+a})}function vi(a,b){var c=[];a[B][F](function(a){a=Ze(a,b);null===a||c[x](a)});return 0==c[C]?null:od[yb](null,c)}function ui(a,b){var c=0,d=a[B][Ja](function(a,d){var l=Ze(d,b);if(0==l||null===l)return a;c++;return a+ba.log(l)},0);return 0==c?null:ba.pow(ba.E,d/c)}
function ri(a,b){var c=M();a[B][F](function(a){var f=Ze(a,b);c.set(f,a)});return new Oe(zd(c),Q(a))};function wi(a,b){this.za=a;this.sa=b}wi[t].gb=H("za");wi[t].ca=H("sa");function W(){nf[r](this,"","")}K(W,nf);function xi(a,b){W[r](this);ia(this,a);ua(this,b)}K(xi,W);function yi(a,b){xi[r](this,a,b)}K(yi,xi);function zi(a){W[r](this);ia(this,a)}K(zi,W);g(zi[t],function(){return"delete("+this[k][u]()+")"});function Ai(a,b){W[r](this);ia(this,a);this.re=b}K(Ai,W);g(Ai[t],function(){var a=[];this.re&&(a=this.re.map(function(a){return a.K[u]()},this));return"update("+this[k][u]()+", ["+a[m](",")+"])"});
function Bi(a){W[r](this);this.G=a}K(Bi,W);g(Bi[t],function(){return"select("+this.G[D]()+")"});function Ci(a){W[r](this);ia(this,a)}K(Ci,W);g(Ci[t],function(){var a="table_access("+this[k][u]();null===this[k].Ya()||(a+=" as "+this[k].Ya());return a+")"});function Di(){W[r](this)}K(Di,W);g(Di[t],Kb("cross_product"));function Ei(a,b){W[r](this);this.f=a;this.Mb=b}K(Ei,W);
g(Ei[t],function(){var a="project("+this.f[D]();if(null!==this.Mb)var b=this.Mb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Fi(a){W[r](this);this.M=a}K(Fi,W);g(Fi[t],function(){return"order_by("+Hf(this.M)+")"});function Gi(a){W[r](this);this.f=a}K(Gi,W);g(Gi[t],function(){return"aggregation("+this.f[D]()+")"});function Hi(a){W[r](this);this.f=a}K(Hi,W);g(Hi[t],function(){return"group_by("+this.f[D]()+")"});function Ii(a){W[r](this);this.W=a}K(Ii,W);
g(Ii[t],function(){return"limit("+this.W+")"});function Ji(a){W[r](this);this.N=a}K(Ji,W);g(Ji[t],function(){return"skip("+this.N+")"});function Ki(a,b){W[r](this);this.G=a;this.Ob=b}K(Ki,W);g(Ki[t],function(){return"join(type: "+(this.Ob?"outer":"inner")+", "+this.G[D]()+")"});function Li(){};function Mi(){}K(Mi,Li);Mi[t].lb=function(a){this.V=a;this.Wa(this.V);return this.V};Mi[t].Wa=function(a){if(a instanceof Bi){var b=Ni(this,a.G),b=Oi(this,b);Jh(a,a,b[0],b[1]);a==this.V&&(this.V=b[0]);a=b[0]}R(a)[F](function(a){this.Wa(a)},this)};function Ni(a,b){if(0==R(b)[C]||"and"!=b.Rb)return[b];var c=R(b)[n]().map(function(a){b[ib](a);return Ni(this,a)},a);return sc(c)}function Oi(a,b){var c=null,d=null;b.map(function(a,b){var l=new Bi(a);0==b?c=l:sf(d,l);d=l},a);return[c,d]};function Pi(){}K(Pi,Li);Pi[t].lb=function(a){this.V=a;this.Wa(this.V);return this.V};Pi[t].Wa=function(a){if(a instanceof Di)for(;2<R(a)[C];){for(var b=new Di,c=0;2>c;c++){var d=vf(a,0);sf(b,d)}tf(a,b,0)}R(a)[F](function(a){this.Wa(a)},this)};function Qi(){V[r](this,0,0)}K(Qi,V);g(Qi[t],Kb("cross_product"));Qi[t].ba=function(a,b){for(var c=b[0],d=b[1],f=[],h=Q(c),l=Q(d),q=0;q<c[B][C];q++)for(var y=0;y<d[B][C];y++){var O=bf(c[B][q],h,d[B][y],l);f[x](O)}c=Q(c)[Ra](Q(d));return[new Oe(f,c)]};function Ri(a,b){Kf[r](this,a,b);this.Ra=a.m(Md);this.Bb=a.m(Nd)}K(Ri,Kf);Da(Ri[t],Kb(2));Ri[t].ae=function(a){0==this.S()?Si(this,a):this.Mc()};function Si(a,b){a.td[F](function(a,d){a instanceof Gf&&Nf(this.Bb,a,b[d])},a)}Ri[t].Mc=function(){var a=Pf(this.Bb,this.ca());0!=a[C]&&(a=new Mf(this[Xa],a),Qf(this.Ra,a))};function Ti(a){Bf[r](this,a)}K(Ti,Bf);Ti[t].ca=function(){var a=N();a.add(this.c);var b=this.ea[Ab]();Ui(this.c[u](),b.h)[F](a.add[E](a));return a};la(Ti[t],function(){var a=new Ti(this.ea);Ef(a,this);a.c=this.c;return a});Aa(Ti[t],function(a){Ti.Fb[E][r](this,a);Ff(this,a);return this});function Vi(a){Bf[r](this,a)}K(Vi,Bf);Vi[t].ca=function(){var a=N();a.add(this.Ea);var b=this.ea[Ab]();Ui(this.Ea[u](),b.Xe)[F](a.add[E](a));this.Zb&&Ui(this.Ea[u](),b.h)[F](a.add[E](a));return a};la(Vi[t],function(){var a=new Vi(this.ea);Ef(a,this);a.Ea=this.Ea;this[eb]&&ua(a,this[eb]instanceof cf?this[eb]:this[eb][n]());a.Zb=this.Zb;a.$b=this.$b;return a});
Aa(Vi[t],function(a){Vi.Fb[E][r](this,a);this.$b&&ua(this,this.$b instanceof cf?a[this.$b.va()]:this.$b.map(function(b){return b instanceof cf?a[b.va()]:b}));return this});function Wi(a){Bf[r](this,a)}K(Wi,Bf);Wi[t].ca=function(){var a=N();a.add(this[k]);var b=this.set.map(function(a){return a.K.l()}),c=this.ea[Ab]();Xi(c,b)[F](a.add[E](a));Yi(c,b)[F](a.add[E](a));return a};la(Wi[t],function(){var a=new Wi(this.ea);Ef(a,this);ia(a,this[k]);a.set=this.set?this.set[n]():this.set;return a});Aa(Wi[t],function(a){Wi.Fb[E][r](this,a);this.set[F](function(b){-1!=b.Wc&&pa(b,a[b.Wc])});Ff(this,a);return this});function Zi(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+hd(b)+"'";default:return"'"+b[D]()+"'"}}function $i(a,b){var c=a.Zb?"INSERT OR REPLACE":"INSERT",d=a.Ea.eb(),c=c+(" INTO "+a.Ea[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[eb].map(function(a){var h=d.map(function(c){var d=a.o[c[u]()];return b?null!=d?"#":"NULL":Zi(c.S(),d)});return c+h[m](", ")+");"})[m]("\n")}
function aj(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function bj(a,b,c,d){return a instanceof cf?"?"+a.va()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Zi(c,a)})[m](", ")+")":"between"==b?Zi(c,a[0])+" AND "+Zi(c,a[1]):Zi(c,a)[D]()}
function cj(a,b){return R(a).map(function(a){return"("+dj(a,b)+")"})[m]("and"==a.Rb?" AND ":" OR ")}function ej(a){return[a.oa.l(),aj(a.L),a.qa.l()][m](" ")}function dj(a,b){if(a instanceof yf){var c=a.K.l(),d=aj(a.L),f=bj(a[v],a.L,a.K.S(),b);return"="==d&&"NULL"==f?[c,"IS NULL"][m](" "):"<>"==d&&"NULL"==f?[c,"IS NOT NULL"][m](" "):[c,d,f][m](" ")}if(a instanceof Lh)return cj(a,b);if(a instanceof Vh)return ej(a);throw new P(357,typeof a);}function fj(a,b){var c=dj(a,b);return c?" WHERE "+c:""}
function gj(a,b){var c="UPDATE "+a[k][u]()+" SET ",c=c+a.set.map(function(a){var b=a.K.l()+" = ";return-1!=a.Wc?b+"?"+a.Wc[D]():b+Zi(a.K.S(),a[v])[D]()})[m](", ");a.B&&(c+=fj(a.B,b));return c+";"}
function hj(a,b){var c="*";a.f[C]&&(c=a.f.map(function(a){return a.Ya()?a.l()+" AS "+a.Ya():a.l()})[m](", "));c="SELECT "+c+" FROM ";null!=a.vb&&0!=a.vb[G]?c+=ij(a,b):(c+=a.c.map(jj)[m](", "),a.B&&(c+=fj(a.B,b)));if(a.M)var d=a.M.map(function(a){return a.K.l()+(0==a.jb?" DESC":" ASC")})[m](", "),c=c+(" ORDER BY "+d);a.ga&&(d=a.ga.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.W&&(c+=" LIMIT "+a.W[D]());a.N&&(c+=" SKIP "+a.N[D]());return c+";"}
function jj(a){return $e(a)!=a[u]()?a[u]()+" AS "+$e(a):a[u]()}function ij(a,b){for(var c=Eh(a.B,function(a){return a instanceof Vh}),d=c.map(ej),f=jj(a.c[0]),h=1;h<a.c[C];h++)var l=jj(a.c[h]),f=a.vb.has(c[d[C]-h].Y())?f+(" LEFT OUTER JOIN "+l):f+(" INNER JOIN "+l),f=f+(" ON ("+d[d[C]-h]+")");c=pf(a.B,0);c instanceof Vh||(f+=" WHERE "+dj(c,b));return f}
function kj(a,b){var c=b||!1,d=a.a[Oa]();if(d instanceof Vi)return $i(d,c);if(d instanceof Ti){var f="DELETE FROM "+d.c[u]();d.B&&(f+=fj(d.B,c));return f+";"}if(d instanceof Wi)return gj(d,c);if(d instanceof Gf)return hj(d,c);throw new P(358,typeof d);};function lj(a,b){this.global=a;this.mg=a.m(Ld);this.Ra=a.m(Md);this.a=b}J("lf.query.BaseBuilder",lj);ma(lj[t],function(){try{this.cb()}catch(a){return Oc(a)}return new L(function(a,c){var d=new Ri(this[Xa],[this.zc()]);Qf(this.Ra,d)[z](function(c){a(Pe(c[0]))},c)},this)});ma(lj[t],lj[t][Pa]);lj[t].Lf=function(){var a=function(a){return a.Qc(this.a)+"\n"}[E](this);return Kh(mj(this).gb(),a)};lj[t].explain=lj[t].Lf;Aa(lj[t],function(a){this.a[E](a);return this});Aa(lj[t],lj[t][E]);
lj[t].tg=function(a){return kj(this,a)};lj[t].toSql=lj[t].tg;lj[t].cb=Ib();function mj(a){if(null==a.Ye){var b;b=a.mg;var c=a.a,d=b.$f[lb](c);b=b.jg[lb](d,c);a.Ye=b}return a.Ye}lj[t].zc=function(){return{context:this.a[Oa](),de:mj(this)}};function nj(a){lj[r](this,a,new Ti(a.m(Od)))}K(nj,lj);J("lf.query.DeleteBuilder",nj);nj[t].c=function(a){if(null!=this.a.c)throw new P(515);this.a.c=a;return this};nj[t].from=nj[t].c;nj[t].B=function(a){this.Cd();this.a.B=a;return this};nj[t].where=nj[t].B;nj[t].Cd=function(){if(null!=this.a.B)throw new P(516);};nj[t].cb=function(){nj.Fb.cb[r](this);if(null==this.a.c)throw new P(517);};function oj(a,b){lj[r](this,a,new Vi(a.m(Od)));this.a.Zb=b||!1}K(oj,lj);J("lf.query.InsertBuilder",oj);oj[t].cb=function(){oj.Fb.cb[r](this);var a=this.a;if(null==a.Ea||null==a[eb])throw new P(518);if(a.Zb&&null===a.Ea.Ab().hd())throw new P(519);};oj[t].Ea=function(a){if(null!=this.a.Ea)throw new P(520);this.a.Ea=a;return this};oj[t].into=oj[t].Ea;ua(oj[t],function(a){if(null!=this.a[eb])throw new P(521);a instanceof cf||a[bb](function(a){return a instanceof cf})?this.a.$b=a:ua(this.a,a);return this});
ua(oj[t],oj[t][eb]);function pj(a){return qj("and",e[t][n][r](arguments))}J("lf.op.and",pj);J("lf.op.or",function(a){return qj("or",e[t][n][r](arguments))});function qj(a,b){var c=new Lh(a);b[F](function(a){sf(c,a)});return c}J("lf.op.not",function(a){a.wd(!0);return a});function X(a,b){lj[r](this,a,new Gf(a.m(Od)));this.Ee=this.xd=!1;this.a.f=b;rj(this);sj(this)}K(X,lj);J("lf.query.SelectBuilder",X);X[t].cb=function(){X.Fb.cb[r](this);var a=this.a;if(null==a.c)throw new P(522);if(Mb(a.Qb)&&!Mb(a.W)||Mb(a.Yb)&&!Mb(a.N))throw new P(523);null!=this.a.ga?tj(this):uj(this)};function rj(a){var b=a.a.f[Fa](function(a){return a instanceof ei&&"DISTINCT"==a.Gb},a);if(0!=b[C]&&(1!=b[C]||1!=a.a.f[C]))throw new P(524);}
function tj(a){var b=a.a.f[Fa](function(a){return!(a instanceof ei)}).map(function(a){return a.l()}),c=!1;if(0==a.a.ga[C]||0==a.a.f[C])c=!0;else{var d=a.a.ga.map(function(a){return a.l()});(c=b[bb](function(a){return-1==d[ab](a)}))||(c=a.a.ga[bb](function(a){a=a.S();return 6==a||0==a}))}if(c)throw new P(525);}function uj(a){var b=a.a.f[bb](function(a){return a instanceof ei},a);a=a.a.f[bb](function(a){return!(a instanceof ei)},a)||0==a.a.f[C];if(b&&a)throw new P(526);}
function sj(a){a.a.f[F](function(a){if(a instanceof ei&&!vj(a.Gb,a.S()))throw new P(527,a.l());},a)}X[t].c=function(a){if(this.Ee)throw new P(515);this.Ee=!0;null==this.a.c&&(this.a.c=[]);this.a.c[x][yb](this.a.c,e[t][n][r](arguments));return this};X[t].from=X[t].c;X[t].B=function(a){if(this.xd)throw new P(516);this.xd=!0;wj(this,a);return this};X[t].where=X[t].B;function wj(a,b){if(null!=a.a.B){var c=pj(b,a.a.B);a.a.B=c}else a.a.B=b}
X[t].Tf=function(a,b){if(null==this.a.c)throw new P(542);if(this.xd)throw new P(547);this.a.c[x](a);wj(this,b);return this};X[t].innerJoin=X[t].Tf;X[t].Yf=function(a,b){if(!(b instanceof Vh))throw new P(541);if(null==this.a.c)throw new P(542);if(this.xd)throw new P(547);this.a.c[x](a);null==this.a.vb&&(this.a.vb=N());var c=b;$e(a)!=$e(b.qa.I())&&(c=b[gb]());this.a.vb.add(c.Y());wj(this,c);return this};X[t].leftOuterJoin=X[t].Yf;
X[t].W=function(a){if(null!=(this.a.W||this.a.Qb))throw new P(528);if(a instanceof cf)this.a.Qb=a;else{if(0>a)throw new P(531);this.a.W=a}return this};X[t].limit=X[t].W;X[t].N=function(a){if(null!=(this.a.N||this.a.Yb))throw new P(529);if(a instanceof cf)this.a.Yb=a;else{if(0>a)throw new P(531);this.a.N=a}return this};X[t].skip=X[t].N;X[t].M=function(a,b){null==this.a.M&&(this.a.M=[]);this.a.M[x]({K:a,jb:null!=b?b:1});return this};X[t].orderBy=X[t].M;
X[t].ga=function(a){if(null!=this.a.ga)throw new P(530);null==this.a.ga&&(this.a.ga=[]);this.a.ga[x][yb](this.a.ga,e[t][n][r](arguments));return this};X[t].groupBy=X[t].ga;function vj(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(X[t],function(){var a=new X(this[Xa],this.a.f);a.a=this.a[Oa]();a.a.$c=null;return a});la(X[t],X[t][Oa]);function xj(a,b){lj[r](this,a,new Wi(a.m(Od)));ia(this.a,b)}K(xj,lj);J("lf.query.UpdateBuilder",xj);xj[t].set=function(a,b){var c={Wc:b instanceof cf?b.va():-1,K:a,value:b};null!=this.a.set?this.a.set[x](c):this.a.set=[c];return this};xj[t].set=xj[t].set;xj[t].B=function(a){this.Cd();this.a.B=a;return this};xj[t].where=xj[t].B;xj[t].Cd=function(){if(null!=this.a.B)throw new P(516);};
xj[t].cb=function(){xj.Fb.cb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[bb](function(a){return a[v]instanceof cf}))throw new P(501);};function yj(a){this.a=a;this.za=null}yj[t].gc=function(){null===this.za&&(this.za=this.ed());return this.za};function zj(a){yj[r](this,a)}K(zj,yj);zj[t].ed=function(){return this.a.Zb?new yi(this.a.Ea,this.a[eb]):new xi(this.a.Ea,this.a[eb])};function Aj(a){yj[r](this,a)}K(Aj,yj);Aj[t].ed=function(){var a=new Ai(this.a[k],this.a.set),b=null!=this.a.B?new Bi(this.a.B.Ib()):null,c=new Ci(this.a[k]);null===b?sf(a,c):(sf(b,c),sf(a,b));return a};function Bj(a,b,c){this.za=a;this.ee=b;this.Vb=c}Bj[t].gc=function(){this.Vb[F](function(a){this.za=a.lb(this.za,this.ee)},this);return this.za};function Cj(a,b){yj[r](this,a);this.Vb=b}K(Cj,yj);Cj[t].ed=function(){var a=new zi(this.a.c),b=null!=this.a.B?new Bi(this.a.B.Ib()):null,c=new Ci(this.a.c);null===b?sf(a,c):(sf(b,c),sf(a,b));return(new Bj(a,this.a,this.Vb)).gc()};function Dj(){}K(Dj,Li);Dj[t].lb=function(a,b){this.V=a;this.Wa(this.V,b);return this.V};Dj[t].Wa=function(a,b){if(a instanceof Bi&&a.G instanceof Vh){var c=a.G.Y(),d=pf(a,0);d instanceof Di&&(c=Mb(b)&&null!=b.vb&&b.vb.has(c),c=new Ki(a.G,c),Jh(a,d,c,c),a==this.V&&(this.V=c),a=c)}R(a)[F](function(a){this.Wa(a,b)},this)};function Ej(){this.Vc=N()}K(Ej,Li);Ej[t].lb=function(a){this.Vc[w]();this.V=a;this.Wa(this.V);this.Vc[w]();return this.V};Ej[t].Wa=function(a){if(Fj(a)){var b=a.G instanceof yf?Gj(this,a):Hj(this,a);this.Vc.add(a);b==a&&(b=pf(a,0));null!==b&&(Pb(b[Cb]())&&(this.V=b),Fj(b)&&!this.Vc.has(b)&&this.Wa(b))}else R(a)[F](function(a){this.Wa(a)},this)};
function Ij(a,b,c){var d=b;if(pf(b,0)instanceof Bi)d=Hh(b),Ij(a,b,c);else if(Jj(b)){var f=[],d=Ih(b,c,function(a){a=new Bi(a.G);f[x](a);return a});f[F](function(a){Ij(this,a,c)},a)}return d}function Gj(a,b){var c=N([$e(b.G.K.I())]),d=function(a){return Kj(this,a,c)}[E](a);return Ij(a,b,d)}function Hj(a,b){var c=N([$e(b.G.oa.I()),$e(b.G.qa.I())]),d=function(a){return Kj(this,a,c)}[E](a);return Ij(a,b,d)}
function Kj(a,b,c){var d=N();Dh(b)[F](function(a){d.add($e(a[k]))},a);b instanceof Ci&&d.add($e(b[k]));return Ud(d,c)}function Fj(a){return a instanceof Bi&&!(a.G instanceof Lh)}function Jj(a){a=pf(a,0);return a instanceof Di||a instanceof Ki};function Lj(a,b){yj[r](this,a);this.Vb=b;this.bf=this.Te=this.hf=this.We=this.xe=this.He=this.gf=this.Be=this.kf=null}K(Lj,yj);
Lj[t].ed=function(){Mj(this);2<=this.a.c[C]&&(this.Be=new Di);this.gf=null!=this.a.B?new Bi(this.a.B.Ib()):null;this.a.M&&(this.We=new Fi(this.a.M));null!=this.a.N&&0<this.a.N&&(this.hf=new Ji(this.a.N));null!=this.a.W&&(this.Te=new Ii(this.a.W));null!=this.a.ga&&(this.He=new Hi(this.a.ga));Nj(this);this.bf=new Ei(this.a.f||[],this.a.ga||null);var a=Oj(this);return(new Bj(a,this.a,this.Vb)).gc()};
function Oj(a){for(var b=[a.Te,a.hf,a.bf,a.We,a.xe,a.He,a.gf,a.Be],c=null,d=null,f=0;f<b[C];f++){var h=b[f];null!==h&&(null===d?d=h:sf(b[c],h),c=f)}a.kf[F](function(a){sf(b[c],a)});return d}function Mj(a){a.kf=a.a.c.map(function(a){return new Ci(a)},a)}function Nj(a){var b=a.a.f[Fa](function(a){return a instanceof ei});null!=a.a.M&&a.a.M[F](function(a){a.K instanceof ei&&b[x](a.K)});0<b[C]&&(a.xe=new Gi(b))};function Pj(){this.le=[new Mi,new Pi,new Ej,new Dj];this.Jd=[new Mi]}Pj[t].create=function(a){var b=null;if(a instanceof Vi)b=new zj(a);else if(a instanceof Ti)b=new Cj(a,this.Jd);else if(a instanceof Gf)b=new Lj(a,this.le);else if(a instanceof Wi)b=new Aj(a);else throw new P(513);b=b.gc();return new wi(b,a.ca())};function Qj(a){V[r](this,0,1);this.O=a}K(Qj,V);g(Qj[t],function(){return"delete("+this.O[u]()+")"});Qj[t].ba=function(a,b){var c=b[0][B].map(function(a){return a.ua});a[jb](this.O,c);return[Te()]};function Rj(a,b){V[r](this,0,-1);ia(this,b);this.F=a.m(Kd)}K(Rj,V);g(Rj[t],function(){return"get_row_count("+this[k][u]()+")"});Rj[t].ba=function(){var a=this.F.get(this[k].u+".#"),b=new Oe([],[this[k][u]()]),c=hi(),a=a.Ta().ta;null===b.Xa&&(b.Xa=M());b.Xa.set(c.l(),a);return[b]};function Sj(a,b){V[r](this,0,-1);this.ja=a.m(Jd);this.F=a.m(Kd);ia(this,b)}K(Sj,V);g(Sj[t],function(){var a="table_access("+this[k][u]();null===this[k].Ya()||(a+=" as "+this[k].Ya());return a+")"});Sj[t].ba=function(){var a=this.F.get(this[k].u+".#").fb();return[We(Gg(this.ja,a),[$e(this[k])])]};function Tj(a){this.j=a}K(Tj,Li);Tj[t].lb=function(a,b){this.V=a;if(!this.Dd(b))return a;var c=Eh(a,function(a){return a instanceof Sj})[0],d=new Rj(this.j,c[k]);Jh(c,c,d,d);return this.V};Tj[t].Dd=function(a){return 1==a.f[C]&&1==a.c[C]&&null==a.B&&null==a.W&&null==a.N&&null==a.ga?(a=a.f[0],a instanceof ei&&"COUNT"==a.Gb&&a[kb]instanceof gi):!1};function Uj(a){V[r](this,0,1);this.Ge=a}K(Uj,V);g(Uj[t],function(){return"groupBy("+this.Ge.map(function(a){return a.l()})[D]()+")"});Uj[t].ba=function(a,b){return Vj(this,b[0])};function Vj(a,b){var c=new Th,d=function(a){return this.Ge.map(function(b){return Ze(a,b)},this)[m](",")}[E](a);b[B][F](function(a){c.add(d(a),a)},a);return c.Oa().map(function(a){return new Oe(c.get(a),Q(b))},a)};function Wj(a,b,c){V[r](this,0,0);this.F=a.m(Kd);this.ja=a.m(Jd);this.G=b;this.Ob=c;this.Ad="eq"==this.G.L?0:2;this.Ie=null}K(Wj,V);var Yj=["hash","index_nested_loop","nested_loop"];g(Wj[t],function(){return"join(type: "+(this.Ob?"outer":"inner")+", impl: "+Yj[this.Ad]+", "+this.G[D]()+")"});
Wj[t].ba=function(a,b){switch(this.Ad){case 0:return[Zh(this.G,b[0],b[1],this.Ob)];case 1:return[$h(this.G,b[0],b[1],this.Ie,this.ja)];default:var c=this.G,d=b[0],f=b[1],h=this.Ob,l=[d,f];h||(l=Wh(c,d,f));for(var d=l[0],f=l[1],l=[],q=Q(d),y=Q(f),O=0;O<d[B][C];O++){var Ta=!1,Ua=Ze(d[B][O],c.oa);if(null!==Ua)for(var Tb=0;Tb<f[B][C];Tb++)if(c.cd(Ua,Ze(f[B][Tb],c.qa))){var Ta=!0,Xj=bf(d[B][O],q,f[B][Tb],y);l[x](Xj)}h&&!Ta&&l[x](Yh(c,d[B][O],q))}c=Q(d)[Ra](Q(f));return[new Oe(l,c)]}};
function Zj(a,b){a.Ad=1;var c=a.F.get(b.va().l());a.Ie={Qf:b,cg:b==a.G.oa?a.G.qa:a.G.oa,index:c}};function ak(a){V[r](this,0,-1);this.cf=a}K(ak,V);g(ak[t],function(){return"no_op_step("+Q(this.cf[0])[m](",")+")"});ak[t].ba=H("cf");function bk(){}K(bk,Li);bk[t].lb=function(a,b){this.V=a;if(!this.Dd(b))return a;Eh(a,function(a){return a instanceof Wj})[F](this.lg,this);return this.V};bk[t].Dd=function(a){return 1<a.c[C]};bk[t].lg=function(a){if("eq"==a.G.L&&!a.Ob){var b=function(b){if(!(b instanceof Sj))return null;b=$e(b[k])==$e(a.G.qa.I())?a.G.qa:a.G.oa;return Pb(b.va())?null:b},c=b(pf(a,0)),b=b(pf(a,1));if(null!==c||null!==b){b=null===b?c:b;Zj(a,b);var d=new Oe([],[$e(b.I())]);uf(a,new ak([d]),b==c?0:1)}}};function ck(a){a=a.map(function(a){return a.fa()});a=td[yb](null,a);var b=[];sd(a,function(a){b[x](a)});return b}function dk(a){this.Nb=a}dk[t].gd=function(){return 1==this.Nb.f[C]?[Ke()]:[this.Nb.f.map(function(){return Ke()})]};function ek(a,b){this.Nb=a;this.ya=b;this.Hd=this.Re=null}
function fk(a,b){var c=M();a.ya.Oa()[F](function(a){var f=this.ya.get(a).map(function(a){return Cf(b,a)},this),h=new Ah([Ke()]);f[F](function(a){var b=null;"between"==a.L?b=new Ge(a[v][0],a[v][1],!1,!1):"eq"==a.L?(b=a[v],b=new Ge(b,b,!1,!1)):b="gte"==a.L?new Ge(a[v],null,!1,!1):"gt"==a.L?new Ge(a[v],null,!0,!1):"lte"==a.L?new Ge(null,a[v],!1,!1):new Ge(null,a[v],!1,!0);a=a.Za?He(b):[b];a=new Ah(a);h=Bh(h,a)});c.set(a,h)},a);return c}
ek[t].gd=function(a){if(this.Re==a)return this.Hd;for(var b=fk(this,a),c=this.Nb.f[C]-1;0<=c;c--){var d=this.Nb.f[c];if(null!==(b.get(d.ea[u]())||null))break;b.set(d.ea[u](),new Ah([Ke()]))}this.Hd=1==this.Nb.f[C]?zd(b)[0].fa():ck(gk(this,b));this.Re=a;return this.Hd};function gk(a,b){var c=M(),d=0;a.Nb.f[F](function(a){c.set(a.ea[u](),d);d++});return yd(b)[$a](function(a,b){return c.get(a)-c.get(b)}).map(function(a){return b.get(a)})};function hk(a,b){this.lf=b;this.F=a.m(Kd)}function ik(a,b,c){c=c[Fa](a.Uf,a);if(0==c[C])return null;a=jk(a,c);if(0==a[C])return null;if(1==a[C])return a[0];var d=Number.MAX_VALUE;return a[Ja](function(a,c){var l=kk(c,b);return l<d?(d=l,c):a},null)}function jk(a,b){return a.lf.Ca().map(function(a){a=new lk(this.F,a);mk(a,b);return a},a)[Fa](function(a){if(null===a.ya)a=!1;else{for(var b=!1,f=!0,h=0;h<a.tb.f[C];h++){var l=a.ya.ka(a.tb.f[h].ea[u]());if(b&&l){f=!1;break}l||(b=!0)}a=f}return a})}
hk[t].Uf=function(a){var b;if(b=a instanceof yf)zf(a),b=null!==a[v]&&("between"==a.L||"eq"==a.L||"gt"==a.L||"gte"==a.L||"lt"==a.L||"lte"==a.L);return b?a.K.I()==this.lf:!1};function lk(a,b){this.F=a;this.tb=b;this.Rf=N(this.tb.f.map(function(a){return a.ea[u]()}));this.Vd=this.ya=null}function nk(a){null===a.Vd&&(a.Vd=new ek(a.tb,a.ya));return a.Vd}function mk(a,b){b[F](function(a){var b=a.eb()[0][u]();this.Rf.has(b)&&(null===this.ya&&(this.ya=new Th),this.ya.add(b,a.Y()))},a)}
function kk(a,b){var c=nk(a).gd(b),d=a.F.get(a.tb.l());return c[Ja](function(a,b){return a+d.bd(b)},0)};function ok(a,b,c,d){V[r](this,0,-1);this.F=a.m(Kd);this.index=b;this.Pe=c;this.ie=d;this.Uc=this.Tc=!1}K(ok,V);g(ok[t],function(){return"index_range_scan("+this[ob].l()+", ?, "+(this.ie?"reverse":"natural")+(this.Tc?", limit:?":"")+(this.Uc?", skip:?":"")+")"});ok[t].Qc=function(a){var b=this[D](),c=this.Pe.gd(a),b=b[fb]("?",c[D]());this.Tc&&(b=b[fb]("?",a.W[D]()));this.Uc&&(b=b[fb]("?",a.N[D]()));return b};
ok[t].ba=function(a,b,c){a=this.Pe.gd(c);b=this.F.get(this[ob].l());c=(1==a[C]&&a[0]instanceof Ge&&Me(a[0])?Ig(b.get(a[0].c),!1,this.Tc?c.W:void 0,this.Uc?c.N:void 0):b.fb(a,this.ie,this.Tc?c.W:void 0,this.Uc?c.N:void 0)).map(function(a){return new dd(a,{})},this);return[We(c,[this[ob].Pc])]};function pk(a){V[r](this,0,1);this.sd=a}K(pk,V);g(pk[t],Kb("select(?)"));pk[t].Qc=function(a){a=Cf(a,this.sd);return this[D]()[fb]("?",a[D]())};pk[t].ba=function(a,b,c){return[Cf(c,this.sd).eval(b[0])]};function qk(a,b){V[r](this,0,1);this.ja=a.m(Jd);this.O=b}K(qk,V);g(qk[t],function(){return"table_access_by_row_id("+this.O[u]()+")"});qk[t].ba=function(a,b){return[We(Gg(this.ja,Qe(b[0])),[$e(this.O)])]};function rk(a){this.j=a}K(rk,Li);rk[t].lb=function(a,b){this.V=a;Eh(a,function(a){return a instanceof Sj})[F](function(a){var d=sk(a);if(0!=d[C]){var f=ik(new hk(this.j,a[k]),b,d.map(function(a){return Cf(b,a.sd)}));if(null!==f){var h=M();d[F](function(a){h.set(a.sd,a)},this);this.V=tk(this,f,h,a)}}},this);return this.V};function sk(a){var b=[];for(a=a[Cb]();a;)a instanceof pk&&b[x](a),a=a[Cb]();return b}
function tk(a,b,c,d){(null===b.ya?[]:b.ya.fa()).map(function(a){return c.get(a)})[F](Fh);b=new ok(a.j,b.tb,nk(b),!1);a=new qk(a.j,d[k]);sf(a,b);Jh(d,d,a,b);return b.gb()};function uk(a,b){V[r](this,0,-1);this.F=a.m(Kd);this.O=b}K(uk,V);g(uk[t],function(){return"insert("+this.O[u]()+")"});uk[t].ba=function(a,b,c){vk(this.O,c[eb],this.F);a.ub(this.O,c[eb]);return[We(c[eb],[this.O[u]()])]};function vk(a,b,c){a=a.Ab().hd();if(null===a?0:a.f[0][qb]){var d=a.f[0].ea[u]();c=c.get(a.l()).max();var f=null===c?0:c[0];b[F](function(a){if(0==a.o[d]||null==a.o[d])f++,a.o[d]=f})}}function wk(a,b){V[r](this,0,-1);this.F=a.m(Kd);this.O=b}K(wk,V);
g(wk[t],function(){return"insert_replace("+this.O[u]()+")"});wk[t].ba=function(a,b,c){vk(this.O,c[eb],this.F);a.Qd(this.O,c[eb]);return[We(c[eb],[this.O[u]()])]};function xk(){V[r](this,0,1)}K(xk,V);g(xk[t],Kb("limit(?)"));xk[t].Qc=function(a){return this[D]()[fb]("?",a.W[D]())};xk[t].ba=function(a,b,c){b[0][B][A](c.W);return b};function yk(a){V[r](this,0,1);this.M=a}K(yk,V);I=yk[t];g(I,function(){return"order_by("+Hf(this.M)+")"});I.ba=function(a,b){if(1==b[C]){var c;c=b[0];for(var d=null,f=0;f<this.M[C];f++){var h=ii(this.M[f].K);if(null!==c.Xa&&c.Xa.has(h.l())){d=h;break}}c=d;(null===c?b[0]:Re(b[0],c))[B][$a](this.If[E](this))}else b[$a](this.og[E](this));return b};
I.U=function(a,b){var c=null,d=null,f=null,h=-1;do h++,f=this.M[h].K,c=this.M[h].jb,d=a(f),f=b(f);while(d==f&&h+1<this.M[C]);d=d<f?-1:d>f?1:0;return 1==c?d:-d};I.og=function(a,b){return this.U(function(b){return b instanceof ei?Re(a,b):Ze(a[B][a[B][C]-1],b)},function(a){return a instanceof ei?Re(b,a):Ze(b[B][b[B][C]-1],a)})};I.If=function(a,b){return this.U(function(b){return Ze(a,b)},function(a){return Ze(b,a)})};function zk(a,b){this.Ga=a;this.H=b}function Ak(a){return a.H[bb](function(a){return a instanceof ei},a)?Bk(a):Ck(a)}function Bk(a){if(1==a.H[C]&&"DISTINCT"==a.H[0].Gb)return a=Re(a.Ga,a.H[0])[B].map(function(a){var b=new Xe(new dd(-1,{}),1<this.Ga.J[G]);af(b,this.H[0],Ze(a,this.H[0][kb]));return b},a),new Oe(a,[]);var b=new Xe(new dd(-1,{}),1<a.Ga.J[G]);a.H[F](function(a){var d=a instanceof ei?Re(this.Ga,a):Ze(this.Ga[B][0],a);af(b,a,d)},a);return new Oe([b],Q(a.Ga))}
function Ck(a){var b=e(a.Ga[B][C]),c=1<a.Ga.J[G];a.Ga[B][F](function(a,f){b[f]=new Xe(new dd(a.ua.id(),{}),c);this.H[F](function(c){af(b[f],c,Ze(a,c))},this)},a);return new Oe(b,Q(a.Ga))}function Dk(a,b){var c=a.map(function(a){return Ak(new zk(a,b))[B][0]});return new Oe(c,Q(a[0]))};function Ek(a,b){V[r](this,0,1);this.f=a;this.Mb=b}K(Ek,V);g(Ek[t],function(){var a="project("+this.f[D]();if(null!==this.Mb)var b=this.Mb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});Ek[t].ba=function(a,b){var c;0==b[C]?c=[Te()]:1==b[C]?(c=b[0],c=[0==this.f[C]?c:Ak(new zk(c,this.f))]):c=[Dk(b,this.f)];return c};function Fk(a){return a.f[bb](function(a){return a instanceof ei})||null!==a.Mb};function Gk(){V[r](this,0,1)}K(Gk,V);g(Gk[t],Kb("skip(?)"));Gk[t].Qc=function(a){return this[D]()[fb]("?",a.N[D]())};Gk[t].ba=function(a,b,c){return[new Oe(b[0][B][n](c.N),Q(b[0]))]};function Hk(){}K(Hk,Li);Hk[t].lb=function(a){var b=Eh(a,function(a){return a instanceof xk||a instanceof Gk});if(0==b[C])return a;var c=Ik(a);if(null===c)return a;b[F](function(a){a instanceof xk?c.Tc=!0:c.Uc=!0;Fh(a)},this);return c.gb()};function Ik(a){a=Eh(a,function(a){return a instanceof ok},function(a){return a instanceof Ek&&Fk(a)||a instanceof yk||1!=R(a)[C]||a instanceof pk});return 0<a[C]?a[0]:null};function Jk(a){this.j=a}K(Jk,Li);Jk[t].lb=function(a){var b=Kk(a);if(null===b)return a;a:{var c=b;a=Lk(pf(b,0));if(null!==a){var d;d=b.M;for(var f=null,h=a[k].Ca(),l=0;l<h[C]&&null===f;l++)f=Mk(h[l],d);d=f;if(null===d){a=c;break a}c=new ok(this.j,d.tb,new dk(d.tb),d.Me);d=new qk(this.j,a[k]);sf(d,c);Fh(b);c=Jh(a,a,d,c)}a=c}if(a==b)a:if(a=b,c=Nk(pf(b,0)),null!==c){d=Mk(c[ob],b.M);if(null===d)break a;c.ie=d.Me;a=Fh(b).parent}return a.gb()};
function Nk(a){a=Eh(a,function(a){return a instanceof ok},function(a){return 1!=R(a)[C]});return 0<a[C]?a[0]:null}function Lk(a){a=Eh(a,function(a){return a instanceof Sj},function(a){return 1!=R(a)[C]});return 0<a[C]?a[0]:null}function Kk(a){a=Eh(a,function(a){return a instanceof yk});return 0<a[C]?a[0]:null}function Mk(a,b){if(a.f[C]!=b[C]||!b[Va](function(b,c){return b.K[u]()==a.f[c].ea[u]()}))return null;var c=Ok(b,a);return c[0]||c[1]?{tb:a,Me:c[1]}:null}
function Ok(a,b){var c=a[Ja](function(a,b){return a<<1|(0==b.jb?0:1)},0),d=b.f[Ja](function(a,b){return a<<1|(0==b.jb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[C],b.f[C]))-1;return[c,d]};function Pk(a,b,c){this.za=a;this.ee=b;this.Vb=c}Pk[t].gc=function(){this.Vb[F](function(a){this.za=a.lb(this.za,this.ee)},this);return this.za};function Qk(a,b){V[r](this,0,1);this.O=a;this.wg=b}K(Qk,V);g(Qk[t],function(){return"update("+this.O[u]()+")"});Qk[t].ba=function(a,b){var c=b[0][B].map(function(a){var b=this.O.cc(a.ua.Ha());this.wg[F](function(a){b.o[a.K[u]()]=a[v]},this);return b},this);a[Wa](this.O,c);return[Te()]};function Rk(a){this.j=a;this.le=[new bk,new rk(this.j),new Jk(this.j),new Hk,new Tj(this.j)];this.Jd=[new rk(this.j)]}Rk[t].create=function(a,b){var c=a.gb();if(c instanceof yi||c instanceof xi)return Sk(this,a,b);if(c instanceof Ei||c instanceof Ii||c instanceof Ji)return Sk(this,a,b,this.le);if(c instanceof zi||c instanceof Ai)return Sk(this,a,b,this.Jd);throw new P(8);};function Sk(a,b,c,d){a=Ch(b.gb(),a.bg[E](a));null!=d&&(a=(new Pk(a,c,d)).gc());return new If(a,b.ca())}
Rk[t].bg=function(a){if(a instanceof Ei)return new Ek(a.f,a.Mb);if(a instanceof Hi)return new Uj(a.f);if(a instanceof Gi)return new mi(a.f);if(a instanceof Fi)return new yk(a.M);if(a instanceof Ji)return new Gk;if(a instanceof Ii)return new xk;if(a instanceof Bi)return new pk(a.G.Y());if(a instanceof Di)return new Qi;if(a instanceof Ki)return new Wj(this.j,a.G,a.Ob);if(a instanceof Ci)return new Sj(this.j,a[k]);if(a instanceof zi)return new Qj(a[k]);if(a instanceof Ai)return new Qk(a[k],a.re);if(a instanceof
yi)return new wk(this.j,a[k]);if(a instanceof xi)return new uk(this.j,a[k]);throw new P(514);};function Tk(a){this.$f=new Pj;this.jg=new Rk(a)};function Uk(){this.Ue=M()}function Vk(a,b){var c=a.Ue.get(b[u]())||null;null===c&&(c=new Wk,a.Ue.set(b[u](),c));return c}function Xk(a,b,c,d){c[F](function(a){a=Vk(this,a);0==d?(a.ab=null,a.tc=b):3==d?(null===a.Xb&&(a.Xb=N()),a.Xb.add(b),null===a.Qa&&(a.Qa=N()),a.Qa[Za](b)):1==d?(null===a.Qa&&(a.Qa=N()),a.Qa.add(b)):2==d&&(a.ab=b)},a)}
function Yk(a,b,c,d){var f=!0;c[F](function(a){if(f){a=Vk(this,a);var c=null===a.Qa||0==a.Qa[G];f=0==d?(null===a.Xb||0==a.Xb[G])&&c&&null===a.tc&&null!==a.ab&&a.ab==b:3==d?null===a.tc&&null===a.ab&&null!==a.Qa&&a.Qa.has(b):1==d?null===a.ab:c&&(null===a.ab||a.ab==b)}},a);return f}function Zk(a,b,c,d){var f=Yk(a,b,c,d);f&&Xk(a,b,c,d);return f}Uk[t].releaseLock=function(a,b){b[F](function(b){Vk(this,b).releaseLock(a)},this)};function $k(a,b){b[F](function(a){Vk(this,a).ab=null},a)}
function Wk(){this.Xb=this.Qa=this.ab=this.tc=null}Wk[t].releaseLock=function(a){this.tc==a&&(this.tc=null);this.ab==a&&(this.ab=null);null===this.Qa||this.Qa[Za](a);null===this.Xb||this.Xb[Za](a)};function al(){this.Tb=new bl;this.Dc=new Uk}function Qf(a,b){(2>b[Eb]()||2>b[Eb]())&&$k(a.Dc,b.ca());a.Tb.ub(b);cl(a);return b.xc().ia}function cl(a){for(var b=a.Tb.fa(),c=0;c<b[C];c++){var d=b[c],f=!1;if(f=0==d.S()?dl(a,d,1,3):dl(a,d,2,0))a.Tb[jb](d),f=a,d[Pa]()[z](f.hg[E](f,d),f.gg[E](f,d))}}function dl(a,b,c,d){var f=!1;Zk(a.Dc,b.Y(),b.ca(),c)&&(f=Zk(a.Dc,b.Y(),b.ca(),d));return f}al[t].hg=function(a,b){this.Dc.releaseLock(a.Y(),a.ca());a.xc()[Gb](b);cl(this)};
al[t].gg=function(a,b){this.Dc.releaseLock(a.Y(),a.ca());a.xc()[Ka](b);cl(this)};function bl(){this.Tb=[]}bl[t].ub=function(a){qc(this.Tb,a,function(a,c){var d=a[Eb]()-c[Eb]();return 0==d?a.Y()-c.Y():d})};bl[t].fa=function(){return this.Tb[n]()};va(bl[t],function(a){var b=this.Tb;a=ec(b,a);var c;(c=0<=a)&&jc(b,a);return c});function el(a,b){this.Kd=df.fd();this.fe=a;this.od=b;this.H=fl(this)}function fl(a){if(0<a.fe.f[C])return a.fe.f;var b=[];a.fe.c[F](function(a){a.eb()[F](function(a){b[x](a)})});return b}el[t].U=function(a,b){return this.H[Va](function(c){return kf(this.Kd,c.S(),"eq")(Ze(a,c),Ze(b,c))},this)};
function gl(a,b,c){var d=null===b?[]:b[B],f=kd(d,c[B],a.U[E](a),function(a){return d[a]});b=[];for(var h=0,l=0;l<d[C];l++){var q=d[l];f[h]==q?h++:(q=a.od[A](h,1),q=hl(l,q,0,a.od),b[x](q))}f=kd(d,c[B],a.U[E](a),function(a,b){return c[B][b]});for(l=h=0;l<c[B][C];l++)q=c[B][l],f[h]==q?h++:(a.od[A](l,0,q.ua.o),q=hl(l,[],1,a.od),b[x](q));return b}function hl(a,b,c,d){return{xg:c,index:a,object:d,zg:b,type:"splice"}};function il(){this.ec=M()}il[t].zd=function(a,b){var c=Vb(a.a)[D](),d=this.ec.get(c)||null;null===d&&(d=new jl(a),this.ec.set(c,d));d.zd(b)};il[t].he=function(a,b){var c=Vb(a.a)[D](),d=this.ec.get(c)||null;d.he(b);0<d.Hc[G]||this.ec[Za](c)};function Pf(a,b){var c=N();b[F](function(a){c.add(a[u]())});var d=[];a.ec[F](function(a){a=a.zc();a[pb].c[bb](function(a){return c.has(a[u]())})&&d[x](a)});return d}function Nf(a,b,c){b=Vb(null!=b.$c?b.$c:b)[D]();a=a.ec.get(b)||null;null!==a&&kl(a,c)}
function jl(a){this.zf=a;this.Hc=N();this.eg=[];this.Se=null;this.Gf=new el(a.a,this.eg)}jl[t].zd=function(a){this.Hc.has(a)||this.Hc.add(a)};jl[t].he=function(a){return this.Hc[Za](a)};jl[t].zc=function(){var a=this.zf;return{context:a.a,de:mj(a)}};function kl(a,b){var c=gl(a.Gf,a.Se,b);a.Se=b;0<c[C]&&a.Hc[F](function(a){a(c)})};function ll(a,b){var c=a.m(Od),d=b||{},f=new Dg;a.kb(Jd,f);var f=null,h=!1;switch(d.storeType||0){case 1:f=new qg(c);break;case 5:f=new sg(c);break;case 4:f=new zg(a,c,d.webSqlDbSize);break;case 3:f=new bg(c,d.firebase);h=!0;break;default:f=new mg(a,c)}a.kb(Id,f);var l=new zh;a.kb(Kd,l);return f.Da(d.onUpgrade)[z](function(){var b=new Tk(a);a.kb(Ld,b);b=new al;a.kb(Md,b);b=new il;a.kb(Nd,b);return l.Da(c)})[z](function(){if(h){var b=new Rf(a);b.xb.subscribe(b.Zd[E](b))}return(new sh(a)).Da(c)})};function ml(a,b){this.j=a;this.xb=a.m(Id);this.Ra=a.m(Md);this.Bb=a.m(Nd);this.sa=N(b);this.Pa=new Ce(this.j,this.sa);this.Ub=Sc();this.uc=Sc();this.te=Sc()}I=ml[t];ma(I,function(){this.te[Gb]();return this.uc.ia});I.S=Kb(1);I.ca=H("sa");I.xc=H("Ub");I.Y=function(){return Vb(this)};Da(I,Kb(2));function nl(a){Qf(a.Ra,a);return a.te.ia}
function ol(a,b){var c=b.zc();return c.de.gb()[Pa](a.Pa,c[pb])[z](function(a){return Pe(a[0])},function(a){this.Pa.Db();var b=new Yc(a[p]);this.uc[Ka](b);throw a;}[E](a))}I.ma=function(){this.xb.Jb(this.S(),this.Pa).ma()[z](function(){this.Mc();this.uc[Gb]()}[E](this),function(a){this.Pa.Db();this.uc[Ka](a)}[E](this));return this.Ub.ia};I.Db=function(){this.Pa.Db();this.uc[Gb]();return this.Ub.ia};I.Mc=function(){var a=Pf(this.Bb,this.sa);0!=a[C]&&(a=new Mf(this.j,a),Qf(this.Ra,a))};function pl(a){this.j=a;this.Ra=a.m(Md);this.Rc=null;this.Sa=0;0==ql[G]&&(ql.set(0,N([1,4])),ql.set(1,N([2])),ql.set(2,N([3,5,6])),ql.set(3,N([2,7])),ql.set(4,N([7])),ql.set(5,N([7])),ql.set(6,N([7])))}J("lf.proc.Transaction",pl);var ql=M();function rl(a,b){var c=ql.get(a.Sa)||null;if(null===c||!c.has(b))throw new P(107,a.Sa,b);a.Sa=b}
ma(pl[t],function(a){rl(this,4);var b=[];try{a[F](function(a){a.cb();b[x](a.zc())},this)}catch(c){return rl(this,7),Oc(c)}a=new Ri(this.j,b);return Qf(this.Ra,a)[z](function(a){rl(this,7);return a.map(function(a){return Pe(a)})}[E](this),function(a){rl(this,7);throw a;}[E](this))});ma(pl[t],pl[t][Pa]);pl[t].xf=function(a){rl(this,1);this.Rc=new ml(this.j,a);return nl(this.Rc)[z](function(){rl(this,2)}[E](this))};pl[t].begin=pl[t].xf;
pl[t].wf=function(a){rl(this,3);return ol(this.Rc,a)[z](function(a){rl(this,2);return a}[E](this),function(a){rl(this,7);throw a;}[E](this))};pl[t].attach=pl[t].wf;pl[t].ma=function(){rl(this,5);return this.Rc.ma()[z](function(){rl(this,7)}[E](this))};pl[t].commit=pl[t].ma;pl[t].Db=function(){rl(this,6);return this.Rc.Db()[z](function(){rl(this,7)}[E](this))};pl[t].rollback=pl[t].Db;function Y(a){this.j=a;this.s=a.m(Od);this.Pd=!1}J("lf.proc.Database",Y);Y[t].Da=function(a){this.j.kb(Od,this.s);return ll(this.j,a)[z](function(){this.Pd=!0;return this}[E](this))};Y[t].init=Y[t].Da;Y[t].sb=H("s");Y[t].getSchema=Y[t].sb;function sl(a){if(!a.Pd)throw new P(2);}Y[t].select=function(a){sl(this);return new X(this.j,1!=arguments[C]||null!=arguments[0]?e[t][n][r](arguments):[])};Y[t].select=Y[t].select;Y[t].ub=function(){sl(this);return new oj(this.j)};Y[t].insert=Y[t].ub;
Y[t].Qd=function(){sl(this);return new oj(this.j,!0)};Y[t].insertOrReplace=Y[t].Qd;qa(Y[t],function(a){sl(this);return new xj(this.j,a)});qa(Y[t],Y[t][Wa]);ra(Y[t],function(){sl(this);return new nj(this.j)});Y[t]["delete"]=Y[t][Za];Y[t].observe=function(a,b){this.j.m(Nd).zd(a,b)};Y[t].observe=Y[t].observe;Y[t].unobserve=function(a,b){this.j.m(Nd).he(a,b)};Y[t].unobserve=Y[t].unobserve;Y[t].Ef=function(){sl(this);return new pl(this.j)};Y[t].createTransaction=Y[t].Ef;
oa(Y[t],function(){try{this.j.m(Id)[Qa]()}catch(a){}this.j[w]();this.Pd=!1});oa(Y[t],Y[t][Qa]);function Z(a,b,c,d,f,h){this.O=a;this.u=b;this.Ne=c;this.Le=d;this.pf=f;this.bb=h||null}J("lf.schema.BaseColumn",Z);I=Z[t];na(I,H("u"));I.l=function(){return $e(this.O)+"."+this.u};g(I,function(){return this.l()});I.I=H("O");I.S=H("pf");Z[t].getType=Z[t].S;Z[t].Ya=H("bb");Z[t].Ca=function(){null==this.ha&&(this.ha=[],this.I().Ca()[F](function(a){-1!=a.f.map(function(a){return a.ea[u]()})[ab](this.u)&&this.ha[x](a)},this));return this.ha};
Z[t].va=function(){if(!Mb(this.da)){var a=this.Ca()[Fa](function(a){return 1!=a.f[C]?!1:a.f[0].ea[u]()==this[u]()},this);this.da=0<a[C]?a[0]:null}return this.da};Z[t].Bc=H("Le");Z[t].isNullable=Z[t].Bc;Z[t].Cc=H("Ne");Z[t].Na=function(a){return ai(this,a,"eq")};Z[t].eq=Z[t].Na;Z[t].Ve=function(a){return ai(this,a,"neq")};Z[t].neq=Z[t].Ve;Z[t].Wd=function(a){return ai(this,a,"lt")};Z[t].lt=Z[t].Wd;Z[t].ag=function(a){return ai(this,a,"lte")};Z[t].lte=Z[t].ag;Z[t].Nf=function(a){return ai(this,a,"gt")};
Z[t].gt=Z[t].Nf;Z[t].Of=function(a){return ai(this,a,"gte")};Z[t].gte=Z[t].Of;Z[t].match=function(a){return ai(this,a,"match")};Z[t].match=Z[t].match;Z[t].yf=function(a,b){return ai(this,[a,b],"between")};Z[t].between=Z[t].yf;Z[t].Pf=function(a){return ai(this,a,"in")};Z[t]["in"]=Z[t].Pf;Z[t].Wf=function(){return this.Na(null)};Z[t].isNull=Z[t].Wf;Z[t].Vf=function(){return this.Ve(null)};Z[t].isNotNull=Z[t].Vf;Z[t].nc=function(a){return new Z(this.O,this.u,this.Ne,this.Le,this.pf,a)};Z[t].as=Z[t].nc;function tl(){this.vd=M()}var ul;ta(tl[t],function(){this.vd[w]()});ta(tl[t],tl[t][w]);tl[t].kb=function(a,b){this.vd.set(a[D](),b);return b};tl[t].registerService=tl[t].kb;tl[t].m=function(a){var b=this.vd.get(a[D]())||null;if(null===b)throw new P(7,a[D]());return b};tl[t].getService=tl[t].m;tl[t].Ud=function(a){return this.vd.has(a[D]())};tl[t].isRegistered=tl[t].Ud;function vl(a){this.s=a;this.ge=M();this.Xe=M();this.ze=M();this.h=M();this.Gd=M();wl(this)}function wl(a){a.s.Va()[F](function(a){var c=N();a.Ab().Nd()[F](function(d){var f=this.ge.get(d.$a)||[];f[x](d);this.ge.set(d.$a,f);c.add(this.s[k](d.$a));(f=this.h.get(d.$a))||(f=N());f.add(a);this.h.set(d.$a,f);this.ze.set(a[u]()+"."+d.Hb,d.$a);d=d.$a+"."+d.Jc;f=this.Gd.get(d)||[];f[x](a[u]());this.Gd.set(d,f)},this);0!=c[G]&&this.Xe.set(a[u](),c)},a)}function we(a,b){return a.ge.get(b)||null}
function Ui(a,b){var c=b.get(a);return c?Td(c):[]}function Xi(a,b){var c=N();b[F](function(a){(a=this.ze.get(a))&&c.add(a)},a);return Td(c).map(function(a){return this.s[k](a)},a)}function Yi(a,b){var c=N();b[F](function(a){(a=this.Gd.get(a))&&a[F](function(a){c.add(a)})},a);return Td(c).map(function(a){return this.s[k](a)},a)};function xl(a,b,c){this.kg=a;this.dg=b;this.Mf=c}J("lf.schema.Constraint",xl);xl[t].hd=H("kg");xl[t].getPrimaryKey=xl[t].hd;xl[t].Nd=H("Mf");xl[t].getForeignKeys=xl[t].Nd;function yl(a,b){var c=a.ref[Ia](".");if(2!=c[C])throw new P(540,b);this.Hb=a.local;this.$a=c[0];this.Jc=c[1];ja(this,b);this.action=a.action;this.timing=a[La]};function zl(a){Al(a);this.Kd=df.fd();this.u=a;this.H=M();this.pe=N();this.Sc=N();this.Gc=N();this.xa=null;this.ha=M();this.rd=!1;this.zb=[]}J("lf.schema.TableBuilder",zl);function Bl(a){ja(this,a[p]);this.jb=a.order;this.autoIncrement=a[qb]}var Cl=N([0,6]);function Al(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);}function Dl(a,b){if(b==a.u)throw new P(546,b);if(a.H.has(b)||a.ha.has(b)||a.Sc.has(b))throw new P(503,a.u+"."+b);}
function El(a,b){var c=!1;b[F](function(a){var b=this.H.get(a[p]);c=c||a[qb];if(a[qb]&&3!=b)throw new P(504);},a);if(c&&1<b[C])throw new P(505);}function Fl(a){if(null!==a.xa){var b=a.ha.get(a.xa).map(function(a){return a[p]}),c=0;if(a.zb[bb](function(a,f){c=f;return-1!=b[ab](a.Hb)},a))throw new P(543,a.zb[c][p]);}}
function Gl(a){if(null!==a.xa){var b=function(a){return a[p]},c=ga[zb](a.ha.get(a.xa).map(b));a.ha[F](function(a,f){if(f!=this.xa){var h=a.map(b);if(ga[zb](h)==c)throw new P(544,this.u+"."+f);}},a)}}function Hl(a){null===a.xa||a.ha.get(a.xa)[F](function(a){if(this.Gc.has(a[p]))throw new P(545,this.u+"."+a[p]);},a)}zl[t].rf=function(a,b){Al(a);Dl(this,a);this.H.set(a,b);Cl.has(b)&&this.ve([a]);return this};zl[t].addColumn=zl[t].rf;
zl[t].tf=function(a,b){var c=this.u;this.xa="pk"+(c[0].toUpperCase()+c.substring(1));Al(this.xa);Dl(this,this.xa);c=Il(this,a,!0,void 0,b);El(this,c);1==c[C]&&this.pe.add(c[0][p]);this.Sc.add(this.xa);this.ha.set(this.xa,c);return this};zl[t].addPrimaryKey=zl[t].tf;
zl[t].sf=function(a,b){Al(a);Dl(this,a);var c=new yl(b,this.u+"."+a);Mb(c.action)||(c.action=0);Mb(c[La])||(c.timing=0);if(1==c.action&&1==c[La])throw new P(506);if(!this.H.has(c.Hb))throw new P(540,a);this.zb[x](c);this.ue(a,[c.Hb],!1);return this};zl[t].addForeignKey=zl[t].sf;zl[t].uf=function(a,b){Al(a);Dl(this,a);var c=Il(this,b,!0);Jl(this,a,c);1==c[C]&&this.pe.add(c[0][p]);this.ha.set(a,c);this.Sc.add(a);return this};zl[t].addUnique=zl[t].uf;
zl[t].ve=function(a){a=Il(this,a,!1);Kl(this,a);a[F](function(a){this.Gc.add(a[p])},this);return this};zl[t].addNullable=zl[t].ve;function Kl(a,b){yd(a.ha)[F](function(a){var d=N();this.ha.get(a)[F](function(a){d.add(a[p])});var f=b[Fa](function(a){return d.has(a[p])});if(1<d[G]&&0<f[C])throw new P(507,a,f[m](","));},a)}zl[t].ue=function(a,b,c,d){Al(a);Dl(this,a);b=Il(this,b,!0,d);Jl(this,a,b);c&&this.Sc.add(a);this.ha.set(a,b);return this};zl[t].addIndex=zl[t].ue;
function Jl(a,b,c){if(1<c[C]&&(a=c[Fa](function(a){return this.Gc.has(a[p])},a),0<a[C]))throw new P(507,b,a[m](","));}zl[t].Cb=Jb("rd");zl[t].persistentIndex=zl[t].Cb;zl[t].sb=function(){Fl(this);Gl(this);Hl(this);return new (Ll(this))};zl[t].getSchema=zl[t].sb;function Ml(a){return a.zb}
function Il(a,b,c,d,f){var h=b,h="string"==typeof b[0]?b.map(function(a){return new Bl({name:a,order:null!=d?d:1,autoIncrement:f||!1})}):b.map(function(a){return new Bl(a)});h[F](function(a){if(!this.H.has(a[p]))throw new P(508,this.u,a[p]);if(c){var b=this.H.get(a[p]);if(0==b||6==b)throw new P(509,this.u,a[p]);}},a);return h}
function Ll(a){function b(){function b(c){return a.ha.get(c).map(function(a){return{ea:this[a[p]],jb:a.jb,autoIncrement:a[qb]}},this)}var d=yd(a.H).map(function(b){this[b]=new Z(this,b,a.pe.has(b),a.Gc.has(b),a.H.get(b));return this[b]},this),f=yd(a.ha).map(function(d){return new ci(a.u,d,a.Sc.has(d),b[r](this,d))},this);di[r](this,a.u,d,f,a.rd);var h=null===a.xa?null:new ci(a.u,a.xa,!0,b[r](this,a.xa)),l=d[Fa](function(b){return!a.Gc.has(b[u]())});this.Bf=new xl(h,l,a.zb);this.ff=Nl(a,d,f)}K(b,di);
b[t].yb=function(a){return new this.ff(ed++,a)};b[t].createRow=b[t].yb;b[t].cc=function(a){var b={};this.eb()[F](function(f){var h=f[u]();f=f.S();var l=a[v][h];if(0==f)if(f=l,null!=f&&""!=f){0!=f[C]%2&&(f="0"+f);for(var l=new ArrayBuffer(f[C]/2),q=new Uint8Array(l),y=0,O=0;y<f[C];y+=2)q[O++]=da(f.substr(y,2),16);f=l}else f=null;else f=2==f?null!=l?new Date(l):null:l;b[h]=f},this);return new this.ff(a.id,b)};b[t].deserializeRow=b[t].cc;b[t].Ab=H("Bf");b[t].getConstraint=b[t].Ab;return b}
function Nl(a,b,c){function d(a,d){this.H=b;this.ha=c;dd[r](this,a,d)}K(d,dd);d[t].Ce=function(){var a={};this.H[F](function(b){a[b[u]()]=b.Bc()?null:oe[b.S()]});return a};d[t].mf=function(){var a={};this.H[F](function(b){var c=b[u]();b=b.S();var d=this.o[c];a[c]=0==b?null!=d?hd(d):null:2==b?null!=d?d[Fb]():null:6==b?null!=d?d:null:d},this);return a};var f=function(a){var b=this.H.get(a[u]()),c=this.Kd.Oe.get(b)||null;return function(b){return c(b[a[u]()])}}[E](a),h=function(a){var b=a.map(function(a){return f(a.ea)});
return function(a){return b.map(function(b){return b(a)})}}[E](a),l={};c[F](function(a){var b=a.l();a=1==a.f[C]?f(a.f[0].ea):h(a.f);l[b]=a});d[t].Pb=function(a){return-1!=a[ab]("#")?this.id():l[tb](a)?l[a](this.o):null};return d};function Ol(a,b){this.s=new Pl(a,b);this.ob=M();this.vc=!1}J("lf.schema.Builder",Ol);function Ql(a,b){b.zb[F](function(a){var d=a.$a;if(!this.ob.has(d))throw new P(536,a[p]);var d=this.ob.get(d).sb(),f=a.Jc;if(!d[tb](f))throw new P(537,a[p]);if(b.sb()[a.Hb].S()!=d[f].S())throw new P(538,a[p]);if(!d[f].Cc())throw new P(539,a[p]);},a)}Ol[t].Af=function(a){a.zb[F](function(a){Ml(this.ob.get(a.$a))[F](function(c){if(c.Hb==a.Jc)throw new P(534,a[p]);},this)},this)};
function Rl(a){a.vc||(a.ob[F](function(a){Ql(this,a);a=a.sb();this.s.J.set(a[u](),a)},a),zd(a.ob)[F](a.Af,a),Sl(a),a.ob[w](),a.vc=!0)}function Tl(a,b,c){b.se||(b.se=!0,b.$d=!0,b.De[F](function(a){a=c.get(a);if(!a.se)Tl(this,a,c);else if(a.$d&&b!=a)throw new P(533);},a));b.$d=!1}function Sl(a){var b=M();a.s.J[F](function(a,d){b.set(d,new Ul(d))},a);a.ob[F](function(a,d){a.zb[F](function(a){b.get(a.$a).De.add(d)})});zd(b)[F](function(a){Tl(this,a,b)},a)}
function Ul(a){this.$d=this.se=!1;this.De=N();this.Pc=a}Ol[t].sb=function(){this.vc||Rl(this);return this.s};Ol[t].getSchema=Ol[t].sb;Ol[t].Fe=function(){var a=new Hd("ns_"+this.s[p]()),b;ul||(ul=new tl);b=ul;var c=null;b.Ud(a)?c=b.m(a):(c=new tl,b.kb(a,c));return c};Ol[t].getGlobal=Ol[t].Fe;Ol[t].connect=function(a){var b=this.Fe();b.Ud(Od)||b.kb(Od,this.sb());return(new Y(b)).Da(a)};Ol[t].connect=Ol[t].connect;
Ol[t].Df=function(a){if(this.ob.has(a))throw new P(503,a);if(this.vc)throw new P(535);this.ob.set(a,new zl(a));return this.ob.get(a)};Ol[t].createTable=Ol[t].Df;Ol[t].me=function(a){if(this.vc)throw new P(535);this.s.me(a);return this};Ol[t].setPragma=Ol[t].me;function Pl(a,b){this.u=a;this.La=b;this.J=M();this.af={Hf:!1}}J("lf.schema.DatabaseSchema",Pl);ja(Pl[t],H("u"));ja(Pl[t],Pl[t][p]);Pl[t].version=H("La");Pl[t].version=Pl[t][vb];Pl[t].Va=function(){return zd(this.J)};Pl[t].tables=Pl[t].Va;
ia(Pl[t],function(a){if(!this.J.has(a))throw new P(101,a);return this.J.get(a)});ia(Pl[t],Pl[t][k]);Pl[t].info=function(){this.Je||(this.Je=new vl(this));return this.Je};Pl[t].$e=H("af");Pl[t].pragma=Pl[t].$e;Pl[t].me=Jb("af");J("lf.schema.create",function(a,b){return new Ol(a,b)});}.bind(window))()
//# sourceMappingURL=lovefield.min.js.map
