/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=Function,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function xa(a,b){return a.child=b}function ya(a,b){return a.next=b}function za(a,b){return a.onerror=b}function Aa(a,b){return a.length=b}function f(a,b){return a.toString=b}function Ba(a,b){return a.bind=b}function Ca(a,b){return a.subscribe=b}function Da(a,b){return a.forEach=b}function Ea(a,b){return a.getPriority=b}
var Fa="openCursor",Ga="filter",Ha="once",Ia="objectStoreNames",Ja="split",h="table",Ka="reduce",m="join",La="reject",Ma="timing",Na="item",n="slice",Oa="unshift",Pa="target",q="name",r="call",t="prototype",Qa="exec",u="getName",Ra="close",Sa="concat",v="value",Ta="setImmediate",Ua="every",Va="update",Wa="global",Xa="propertyIsEnumerable",Ya="delete",Za="sort",$a="indexOf",ab="some",bb="count",cb="orderByChild",w="clear",db="values",eb="replace",fb="reverse",gb="continue",hb="addAll",ib="removeChild",
x="remove",jb="child",kb="create",z="push",A="then",lb="transaction",mb="index",nb="context",B="splice",ob="autoIncrement",pb="next",rb="shift",sb="hasOwnProperty",tb="contains",ub="version",vb="objectStore",wb="offset",xb="apply",C="entries",D="length",yb="info",E="toString",zb="compare",F="bind",Ab="getParent",Bb="rows",G="forEach",Cb="getPriority",Db="getTime",Eb="resolve",Fb="result",Gb="size";function Hb(){return function(){}}function Ib(a){return function(b){this[a]=b}}
function H(a){return function(){return this[a]}}function Jb(a){return function(){return a}}var I,Kb=this;function Lb(a){return void 0!==a}function J(a,b,c){a=a[Ja](".");c=c||Kb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[D]&&(d=a[rb]());)!a[D]&&Lb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Mb(){}function Nb(a){a.De=function(){return a.qg?a.qg:a.qg=new a}}
function Ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][E][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[D]&&"undefined"!=typeof a[B]&&"undefined"!=typeof a[Xa]&&!a[Xa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Xa]&&!a[Xa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Pb(a){return null===a}function Qb(a){return null!=a}function Rb(a){var b=Ob(a);return"array"==b||"object"==b&&"number"==typeof a[D]}function Sb(a){return"string"==typeof a}function Tb(a){return"function"==Ob(a)}function Ub(a){return a[Vb]||(a[Vb]=++Wb)}var Vb="closure_uid_"+(1E9*ba.random()>>>0),Wb=0;function Xb(a,b,c){return a[r][xb](a[F],arguments)}
function Yb(a,b,c){if(!a)throw fa();if(2<arguments[D]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t][Oa][xb](c,d);return a[xb](b,c)}}return function(){return a[xb](b,arguments)}}function K(a,b,c){K=ga[t][F]&&-1!=ga[t][F][E]()[$a]("native code")?Xb:Yb;return K[xb](null,arguments)}function Zb(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[z][xb](b,arguments);return a[xb](this,b)}}
function L(a,b){function c(){}c.prototype=b[t];a.Nb=b[t];a.prototype=new c;a[t].constructor=a;a.xl=function(a,c,k){for(var l=e(arguments[D]-2),p=2;p<arguments[D];p++)l[p-2]=arguments[p];return b[t][c][xb](a,l)}}Ba(ga[t],ga[t][F]||function(a,b){if(1<arguments[D]){var c=e[t][n][r](arguments,1);c[Oa](this,a);return K[xb](null,c)}return K(this,a)});function $b(a){if(fa.captureStackTrace)fa.captureStackTrace(this,$b);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}L($b,fa);ja($b[t],"CustomError");function ac(a,b){for(var c=a[Ja]("%s"),d="",g=e[t][n][r](arguments,1);g[D]&&1<c[D];)d+=c[rb]()+g[rb]();return d+c[m]("%s")};function bc(a,b){b[Oa](a);$b[r](this,ac[xb](null,b));b[rb]()}L(bc,$b);ja(bc[t],"AssertionError");function cc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new bc(""+g,k||[]);}function M(a,b,c){a||cc("",null,b,e[t][n][r](arguments,2));return a}function dc(a,b){throw new bc("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function ec(a,b,c){Tb(a)||cc("Expected function but got %s: %s.",[Ob(a),a],b,e[t][n][r](arguments,2));return a};function fc(a,b,c){this.pk=c;this.Bi=a;this.Yk=b;this.Xd=0;this.Qd=null}fc[t].get=function(){var a;0<this.Xd?(this.Xd--,a=this.Qd,this.Qd=a[pb],ya(a,null)):a=this.Bi();return a};fc[t].put=function(a){this.Yk(a);this.Xd<this.pk&&(this.Xd++,ya(a,this.Qd),this.Qd=a)};var gc=e[t],hc=gc[$a]?function(a,b,c){M(null!=a[D]);return gc[$a][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[D]+c):c;if(Sb(a))return Sb(b)&&1==b[D]?a[$a](b,c):-1;for(;c<a[D];c++)if(c in a&&a[c]===b)return c;return-1},ic=gc[G]?function(a,b,c){M(null!=a[D]);gc[G][r](a,b,c)}:function(a,b,c){for(var d=a[D],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)k in g&&b[r](c,g[k],k,a)},jc=gc.map?function(a,b,c){M(null!=a[D]);return gc.map[r](a,b,c)}:function(a,b,c){for(var d=a[D],g=e(d),k=Sb(a)?a[Ja](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[r](c,k[l],l,a));return g},kc=gc[Ka]?function(a,b,c,d){M(null!=a[D]);d&&(b=K(b,d));return gc[Ka][r](a,b,c)}:function(a,b,c,d){var g=c;ic(a,function(c,l){g=b[r](d,g,c,l,a)});return g},lc=gc[ab]?function(a,b,c){M(null!=a[D]);return gc[ab][r](a,b,c)}:function(a,b,c){for(var d=a[D],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a))return!0;return!1},mc=gc[Ua]?function(a,b,c){M(null!=a[D]);return gc[Ua][r](a,b,c)}:function(a,b,c){for(var d=a[D],g=Sb(a)?a[Ja](""):a,k=0;k<
d;k++)if(k in g&&!b[r](c,g[k],k,a))return!1;return!0};function nc(a,b){M(null!=a[D]);return 1==gc[B][r](a,b,1)[D]}function oc(a,b,c){a:{for(var d=a[D],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(nc(a,b),!0):!1}function pc(a){var b=a[D];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function qc(a,b){for(var c=1;c<arguments[D];c++){var d=arguments[c];if(Rb(d)){var g=a[D]||0,k=d[D]||0;Aa(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[z](d)}}function rc(a,b,c,d){M(null!=a[D]);return gc[B][xb](a,sc(arguments,1))}function sc(a,b,c){M(null!=a[D]);return 2>=arguments[D]?gc[n][r](a,b):gc[n][r](a,b,c)}function tc(a,b,c,d,g){for(var k=0,l=a[D],p;k<l;){var y=k+l>>1,wa;wa=c?b[r](g,a[y],y,a):b(d,a[y]);0<wa?k=y+1:(l=y,p=!wa)}return p?k:~k}function uc(a,b){return a>b?1:a<b?-1:0}
function vc(a,b,c){c=tc(a,c||uc,!1,b);return 0>c?(rc(a,-(c+1),0,b),!0):!1}function wc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function xc(a){for(var b=[],c=0;c<arguments[D];c++){var d=arguments[c];if("array"==Ob(d))for(var g=0;g<d[D];g+=8192)for(var k=sc(d,g,g+8192),k=xc[xb](null,k),l=0;l<k[D];l++)b[z](k[l]);else b[z](d)}return b};function yc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function zc(a,b,c){for(var d in a)if(b[r](c,a[d],d,a))return!0;return!1}function Ac(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Cc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Dc;a:{var Ec=Kb.navigator;if(Ec){var Fc=Ec.userAgent;if(Fc){Dc=Fc;break a}}Dc=""};function Gc(a){Kb.setTimeout(function(){throw a;},0)}var Hc;
function Ic(){var a=Kb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==Dc[$a]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Ra]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=K(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Dc[$a]("Trident")&&-1==Dc[$a]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Lb(c[pb])){c=c[pb];var a=c.Gf;c.Gf=null;a()}};return function(a){ya(d,{Gf:a});d=d[pb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ib](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Kb.setTimeout(a,0)}};function Jc(){this.ie=this.hc=null}var Lc=new fc(function(){return new Kc},function(a){a.reset()},100);Jc[t].add=function(a,b){var c=this.Rj();c.set(a,b);this.ie?ya(this.ie,c):(M(!this.hc),this.hc=c);this.ie=c};va(Jc[t],function(){var a=null;this.hc&&(a=this.hc,this.hc=this.hc[pb],this.hc||(this.ie=null),ya(a,null));return a});Jc[t].Zk=function(a){Lc.put(a)};Jc[t].Rj=function(){return Lc.get()};function Kc(){this.scope=this.Ae=null;ya(this,null)}
Kc[t].set=function(a,b){this.Ae=a;this.scope=b;ya(this,null)};Kc[t].reset=function(){this.scope=this.Ae=null;ya(this,null)};function Mc(a,b){Nc||Oc();Pc||(Nc(),Pc=!0);Qc.add(a,b)}var Nc;function Oc(){if(Kb.Promise&&Kb.Promise[Eb]){var a=Kb.Promise[Eb]();Nc=function(){a[A](Rc)}}else Nc=function(){var a=Rc;if(!Tb(Kb[Ta])||Kb.Window&&Kb.Window[t]&&Kb.Window[t][Ta]==Kb[Ta])Hc||(Hc=Ic()),Hc(a);else Kb[Ta](a)}}var Pc=!1,Qc=new Jc;[][z](function(){Pc=!1;Qc=new Jc});function Rc(){for(var a=null;a=Qc[x]();){try{a.Ae[r](a.scope)}catch(b){Gc(b)}Qc.Zk(a)}Pc=!1};function N(a,b){this.La=0;this.ah=void 0;this.wd=this.mc=this.G=null;this.Pd=this.ze=!1;if(a!=Mb)try{var c=this;a[r](b,function(a){c.Bc(2,a)},function(a){if(!(a instanceof Sc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.Bc(3,a)})}catch(d){this.Bc(3,d)}}function Tc(){xa(this,null);this.context=this.xc=this.Xb=null;ya(this,null);this.le=!1}Tc[t].reset=function(){xa(this,null);this.context=this.xc=this.Xb=null;this.le=!1};
var Uc=new fc(function(){return new Tc},function(a){a.reset()},100);function Vc(a,b,c){var d=Uc.get();d.Xb=a;d.xc=b;d.context=c;return d}function Wc(a){if(a instanceof N)return a;var b=new N(Mb);b.Bc(2,a);return b}function Xc(a){return new N(function(b,c){c(a)})}function Yc(a,b,c){Zc(a,b,c,null)||Mc(Zb(b,a))}function $c(a){return new N(function(b,c){var d=a[D],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;y=a[p];p++)Yc(y,Zb(k,p),l);else b(g)})}
function ad(){var a,b,c=new N(function(c,g){a=c;b=g});return new bd(c,a,b)}N[t].then=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.xf(Tb(a)?a:null,Tb(b)?b:null,c)};N[t].then=N[t][A];N[t].$goog_Thenable=!0;I=N[t];
I.ll=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.wf(Vc(a||Mb,b||null,c))};I.oh=function(a,b){return this.xf(null,a,b)};I.wf=function(a){this.ak()||2!=this.La&&3!=this.La||this.eh();this.Ok(a)};
I.xf=function(a,b,c){var d=Vc(null,null,null);xa(d,new N(function(g,k){d.Xb=a?function(b){try{var d=a[r](c,b);g(d)}catch(y){k(y)}}:g;d.xc=b?function(a){try{var d=b[r](c,a);!Lb(d)&&a instanceof Sc?k(a):g(d)}catch(y){k(y)}}:k}));d[jb].G=this;this.wf(d);return d[jb]};I.ol=function(a){M(1==this.La);this.La=0;this.Bc(2,a)};I.pl=function(a){M(1==this.La);this.La=0;this.Bc(3,a)};
I.Bc=function(a,b){0==this.La&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.La=1,Zc(b,this.ol,this.pl,this)||(this.ah=b,this.La=a,this.G=null,this.eh(),3!=a||b instanceof Sc||cd(this,b)))};
function Zc(a,b,c,d){if(a instanceof N)return a.ll(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[A](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[A];if(Tb(l))return dd(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function dd(a,b,c,d,g){function k(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,k)}catch(y){k(y)}}I.eh=function(){this.ze||(this.ze=!0,Mc(this.Wi,this))};I.ak=function(){return!!this.mc};
I.Ok=function(a){M(null!=a.Xb);this.wd?ya(this.wd,a):this.mc=a;this.wd=a};I.Ik=function(){var a=null;this.mc&&(a=this.mc,this.mc=a[pb],ya(a,null));this.mc||(this.wd=null);null!=a&&M(null!=a.Xb);return a};I.Wi=function(){for(var a=null;a=this.Ik();)this.Vi(a,this.La,this.ah);this.ze=!1};I.Vi=function(a,b,c){3==b&&a.xc&&!a.le&&this.Wk();if(a[jb])a[jb].G=null,ed(a,b,c);else try{a.le?a.Xb[r](a[nb]):ed(a,b,c)}catch(d){fd[r](null,d)}Uc.put(a)};
function ed(a,b,c){2==b?a.Xb[r](a[nb],c):a.xc&&a.xc[r](a[nb],c)}I.Eh=Hb();I.Wk=function(){var a;for(a=this;a&&a.Pd;a=a.G)a.Pd=!1};function cd(a,b){a.Pd=!0;Mc(function(){a.Pd&&(a.Eh(b),fd[r](null,b))})}var fd=Gc;function Sc(a){$b[r](this,a)}L(Sc,$b);ja(Sc[t],"cancel");function bd(a,b,c){this.ja=a;this.resolve=b;this.reject=c};
function gd(a,b){this.za=a;this.Zb=b||this.Sf()}var hd=0;I=gd[t];I.id=H("za");I.Nh=Ib("za");I.w=H("Zb");I.Sf=function(){return{}};I.ph=H("Zb");I.Ka=function(){return{id:this.za,value:this.ph()}};I.Vb=function(a){return"#"==a.substr(-1)?this.za:null};function id(a){return new gd(a.id,a[v])}function jd(a){return new gd(hd++,a||{})}function kd(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[D];++c)var d=a[c][E](16),b=b+(2>d[D]?"0"+d:d);return b};
function ld(a){this.type=a}function md(a){gd[r](this,-1,a)}L(md,gd);
var nd={};J("lf.TransactionType",nd,void 0);nd.READ_ONLY=0;nd.READ_WRITE=1;

function od(a,b){this.Wa=a;this.qh=b;this.ca=ad()}I=od[t];I.Aj=H("Wa");I.oa=function(){try{this.Wa.$h()}catch(a){return Xc(a)}return(0==this.qh?this.Kc():this.uk())[A](K(function(a){this.Wa.oa();return a},this))};I.uk=function(){this.vk();this.tk();return this.Kc()};
I.vk=function(){var a=this.Wa.cg();a.U()[G](function(b){var c=this.Wa.ha().get(b),c=this.M(c[u](),K(c.qc,c));b=a.get(b);var d=b.Vc().f().map(function(a){return a.id()});0<d[D]&&c[x](d).oh(this.Ke,this);b=b.Xc().f().map(function(a){return a[1]})[Sa](b.Tc().f());c.put(b).oh(this.Ke,this)},this)};I.tk=function(){this.Wa.xj()[G](function(a){var b=this.M(a[u](),id),c;b.get([-1])[A](function(a){c=a;return b[x]([])})[A](function(){b.put(c);b.put(a.Ka())},K(this.Ke,this))},this)};I.Ke=function(a){this.ca[La](a)};function pd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[D],k=b[D],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<k+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=k;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var wa=[],p=g,y=k;0<p&&0<y;)c(a[p-1],b[y-1])?(wa[Oa](d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return wa}function qd(a){return kc(arguments,function(a,c){return a+c},0)}
function rd(a){return qd[xb](null,arguments)/arguments[D]}function sd(a){var b=arguments[D];if(2>b)return 0;var c=rd[xb](null,arguments);return qd[xb](null,jc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function td(a){return ba.sqrt(sd[xb](null,arguments))};var ud="StopIteration"in Kb?Kb.StopIteration:{message:"StopIteration",stack:""};function vd(){}ya(vd[t],function(){throw ud;});vd[t].Dc=function(){return this};function wd(a){if(a instanceof vd)return a;if("function"==typeof a.Dc)return a.Dc(!1);if(Rb(a)){var b=0,c=new vd;ya(c,function(){for(;;){if(b>=a[D])throw ud;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function xd(a,b,c){if(Rb(a))try{ic(a,b,c)}catch(d){if(d!==ud)throw d;}else{a=wd(a);try{for(;;)b[r](c,a[pb](),void 0,a)}catch(g){if(g!==ud)throw g;}}}function yd(a){if(lc(arguments,function(a){return!a[D]})||!arguments[D])return new vd;var b=new vd,c=arguments,d=wc(0,c[D]);ya(b,function(){if(d){for(var a=jc(d,function(a,b){return c[b][a]}),b=d[D]-1;0<=b;b--){M(d);if(d[b]<c[b][D]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw ud;});return b};function O(a,b){this.g={};this.b=[];this.Ta=this.aa=0;var c=arguments[D];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[hb](a)}I=O[t];I.ya=H("aa");I.f=function(){this.Ic();for(var a=[],b=0;b<this.b[D];b++)a[z](this.g[this.b[b]]);return a};I.U=function(){this.Ic();return this.b[Sa]()};I.B=function(a){return zd(this.g,a)};I.Ad=function(a){for(var b=0;b<this.b[D];b++){var c=this.b[b];if(zd(this.g,c)&&this.g[c]==a)return!0}return!1};
I.Pc=function(a,b){if(this===a)return!0;if(this.aa!=a.ya())return!1;var c=b||Ad;this.Ic();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Ad(a,b){return a===b}I.Na=function(){return 0==this.aa};ta(I,function(){this.g={};Aa(this.b,0);this.Ta=this.aa=0});va(I,function(a){return zd(this.g,a)?(delete this.g[a],this.aa--,this.Ta++,this.b[D]>2*this.aa&&this.Ic(),!0):!1});
I.Ic=function(){if(this.aa!=this.b[D]){for(var a=0,b=0;a<this.b[D];){var c=this.b[a];zd(this.g,c)&&(this.b[b++]=c);a++}Aa(this.b,b)}if(this.aa!=this.b[D]){for(var d={},b=a=0;a<this.b[D];)c=this.b[a],zd(d,c)||(this.b[b++]=c,d[c]=1),a++;Aa(this.b,b)}};I.get=function(a,b){return zd(this.g,a)?this.g[a]:b};I.set=function(a,b){zd(this.g,a)||(this.aa++,this.b[z](a),this.Ta++);this.g[a]=b};I.addAll=function(a){var b;a instanceof O?(b=a.U(),a=a.f()):(b=Cc(a),a=Ac(a));for(var c=0;c<b[D];c++)this.set(b[c],a[c])};
Da(I,function(a,b){for(var c=this.U(),d=0;d<c[D];d++){var g=c[d],k=this.get(g);a[r](b,k,g,this)}});la(I,function(){return new O(this)});I.Dc=function(a){this.Ic();var b=0,c=this.Ta,d=this,g=new vd;ya(g,function(){if(c!=d.Ta)throw fa("The map has changed since the iterator was created");if(b>=d.b[D])throw ud;var g=d.b[b++];return a?g:d.g[g]});return g};function zd(a,b){return aa[t][sb][r](a,b)};
function Bd(){this.g=new O;aa.defineProperty(this,"size",{get:function(){return this.g.ya()}})}ta(Bd[t],function(){this.g[w]()});ta(Bd[t],Bd[t][w]);ra(Bd[t],function(a){return this.g[x](a)});Bd[t]["delete"]=Bd[t][Ya];Da(Bd[t],function(a,b){return this.g[G](a,b)});Da(Bd[t],Bd[t][G]);Bd[t].get=function(a){return this.g.get(a)};Bd[t].get=Bd[t].get;Bd[t].has=function(a){return this.g.B(a)};Bd[t].has=Bd[t].has;Bd[t].set=function(a,b){return this.g.set(a,b)};Bd[t].set=Bd[t].set;
var Cd=ca.Map&&ca.Map[t][db]&&ca.Map[t][G]?ca.Map:Bd;function Dd(a){if(a instanceof Bd)return a.g.U();var b=0,c=e(a[Gb]);a[G](function(a,g){c[b++]=g});return c}function Ed(a){if(a instanceof Bd)return a.g.f();var b=0,c=e(a[Gb]);a[G](function(a){c[b++]=a});return c};
function Fd(a){this.$k=a}f(Fd[t],H("$k"));var Gd=new Fd("backstore"),Hd=new Fd("cache"),Id=new Fd("indexstore"),Jd=new Fd("engine"),Kd=new Fd("runner"),Ld=new Fd("observerregistry"),Md=new Fd("schema");
function Nd(a){if("function"==typeof a.ya)a=a.ya();else if(Rb(a)||Sb(a))a=a[D];else{var b=0,c;for(c in a)b++;a=b}return a}function Od(a){if("function"==typeof a.f)return a.f();if(Sb(a))return a[Ja]("");if(Rb(a)){for(var b=[],c=a[D],d=0;d<c;d++)b[z](a[d]);return b}return Ac(a)}
function Pd(a,b,c){if("function"==typeof a[Ua])return a[Ua](b,c);if(Rb(a)||Sb(a))return mc(a,b,c);var d;if("function"==typeof a.U)d=a.U();else if("function"!=typeof a.f)if(Rb(a)||Sb(a)){d=[];for(var g=a[D],k=0;k<g;k++)d[z](k)}else d=Cc(a);else d=void 0;for(var g=Od(a),k=g[D],l=0;l<k;l++)if(!b[r](c,g[l],d&&d[l],a))return!1;return!0};function P(a){this.g=new O;a&&this[hb](a)}function Qd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Ub(a):b.substr(0,1)+a}I=P[t];I.ya=function(){return this.g.ya()};I.add=function(a){this.g.set(Qd(a),a)};I.addAll=function(a){a=Od(a);for(var b=a[D],c=0;c<b;c++)this.add(a[c])};va(I,function(a){return this.g[x](Qd(a))});ta(I,function(){this.g[w]()});I.Na=function(){return this.g.Na()};I.contains=function(a){return this.g.B(Qd(a))};I.ti=function(a){return Pd(a,this[tb],this)};I.f=function(){return this.g.f()};
la(I,function(){return new P(this)});I.Pc=function(a){return this.ya()==Nd(a)&&this.lk(a)};I.lk=function(a){var b=Nd(a);if(this.ya()>b)return!1;!(a instanceof P)&&5<b&&(a=new P(a));return Pd(this,function(b){var d=a;if("function"==typeof d[tb])b=d[tb](b);else if("function"==typeof d.Ad)b=d.Ad(b);else if(Rb(d)||Sb(d))b=0<=hc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};I.Dc=function(){return this.g.Dc(!1)};
function Rd(a,b){this.za=a;this.Zb=b||{}}function Sd(a){var b=new P;a[G](function(a){b.add(a>>9)});return b.f()}I=Rd[t];I.fa=H("za");I.vc=H("Zb");I.ih=function(a){a[G](function(a){this.Zb[a.id()]=a.Ka()},this)};I.Vk=function(a){a[G](function(a){var c=this.Zb;a in c&&delete c[a]},this)};I.Ka=function(){return{id:this.za,value:JSON.stringify(this.Zb)}};function Td(a){return new Rd(a.id,JSON.parse(a[v]))};

function Ud(a,b,c){this.W=a;this.Rb=b;this.bh=c}I=Ud[t];I.get=function(a){return 0==a[D]?this.Uc():this.Ej(a)[A](K(function(b){return a.map(function(a){var d=b.get(a>>9);M(d,"Containing page is empty");return this.Rb(d.vc()[a])},this)},this))};I.Ej=function(a){var b=new Cd,c=ad();a=Sd(a).map(function(a){return new N(function(c,k){var l;try{l=this.W.get(a)}catch(p){k(p);return}za(l,k);sa(l,K(function(a){a=Td(a[Pa][Fb]);b.set(a.fa(),a);c()},this))},this)},this);$c(a)[A](function(){c[Eb](b)});return c.ja};
I.Uc=function(){return new N(function(a,b){var c=[],d;try{d=this.W[Fa]()}catch(g){b(g);return}za(d,b);sa(d,K(function(){var b=d[Fb];if(b){var g=Td(b[v]).vc(),p;for(p in g)c[z](this.Rb(g[p]));b[gb]()}else a(c)},this))},this)};I.$b=function(a){return new N(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};
I.put=function(a){if(0==a[D])return Wc();var b=new Cd;a[G](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.bh(this.W[q],d));g.ih([a]);b.set(d,g)},this);a=Ed(b).map(function(a){return this.$b(K(function(){return this.W.put(a.Ka())},this))},this);return $c(a)};
va(I,function(a){if(0==a[D])return this.$b(K(function(){return this.W[w]()},this));var b=new Cd;a[G](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.bh(this.W[q],d));g.Vk([a]);b.set(d,g)},this);a=Ed(b).map(function(a){return this.$b(K(function(){var b;a:{b=a.vc();for(var g in b){b=!1;break a}b=!0}return b?this.W[Ya](a.fa()):this.W.put(a.Ka())},this))},this);return $c(a)});function Vd(a,b,c){a=a.o(Hd);var d=[c<<9,(c+1<<9)-1];b=a.ob(b,d[0],d[1]);c=new Rd(c);c.ih(b);return c}
function Wd(a,b){return new Rd(b)};
function Xd(){};
function Yd(a){this.ta=a.o(Hd);this.J=a.o(Id);this.s=a.o(Md)}qa(Yd[t],function(a){a[G](function(a){this.tl(a);this.ql(a)},this)});Yd[t].ql=function(a){var b=a[u]();a.Vc().f()[G](function(a){this.ta[x](b,[a.id()])},this);a.Tc()[G](function(a){this.ta.set(b,[a])},this);a.Xc()[G](function(a){this.ta.set(b,[a[1]])},this)};Yd[t].tl=function(a){var b=this.s[h](a[u]());a.uj()[G](function(a){this.uh(b,a)},this)};
Yd[t].uh=function(a,b){a.Fa().map(function(a){return this.J.get(a.l())},this)[Sa]([this.J.get(a.Sb())])[G](function(a){var d=null===b[1]?null:b[1].Vb(a[u]()),g=null===b[0]?null:b[0].Vb(a[u]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[x](g,b[0].id()):0!=a.Lc()[zb](g,d)&&(a.add(d,b[1].id()),a[x](g,b[0].id()))})};
var Zd={};J("lf.ConstraintAction",Zd,void 0);Zd.RESTRICT=0;Zd.CASCADE=1;var $d={};J("lf.ConstraintTiming",$d,void 0);$d.IMMEDIATE=0;$d.DEFERRABLE=1;var ae={};J("lf.Order",ae,void 0);ae.DESC=0;ae.ASC=1;var be={};J("lf.Type",be,void 0);be.ARRAY_BUFFER=0;be.BOOLEAN=1;be.DATE_TIME=2;be.INTEGER=3;be.NUMBER=4;be.STRING=5;be.OBJECT=6;var ce={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};J("lf.type.DEFAULT_VALUES",ce,void 0);
function Q(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[D])for(var c=1;c<=ba.min(4,arguments[D]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][E]()[n](0,64)))}L(Q,fa);

function de(a){this.J=a.o(Id);this.s=a.o(Md)}I=de[t];I.cj=function(a,b){var c=a.Ib().Ge();return null===c?null:this.bj(c,b)};I.bj=function(a,b){var c=a.l(),d=b.Vb(c),c=this.J.get(c).get(d);return 0==c[D]?null:c[0]};I.te=function(a,b){var c=a.Ib().Cj();b[G](function(a){c[G](function(b){if(null==a.w()[b[u]()])throw new Q(202,b.l());},this)},this)};I.Lf=function(a,b,c){a.Ib().dg()[G](function(a){a[Ma]==c&&this.ji(a,b)},this)};
I.ji=function(a,b){b[G](function(b){if(ee(b[0],b[1],a[q])){b=b[1].w()[a.pc];var d=this.gg(a);if(null!==b&&!d.B(b))throw new Q(203,a[q]);}},this)};I.gg=function(a){var b=this.s[h](a.fb)[a.zc].Fa()[Ga](function(b){return 1==b.h[D]&&b.h[0].ga[u]()==a.zc})[0];return this.J.get(b.l())};function ee(a,b,c){return(null===a?null!==b:null===b)||a.Vb(c)!=b.Vb(c)}
I.Mf=function(a,b,c){a=this.s[yb]().Kj(a[u]());null!=a&&a[G](function(a){if(a[Ma]==c){var g=this.J.get(a[q]);b[G](function(b){var c=this.gg(a);if(ee(b[0],b[1],c[u]())&&g.B(b[0].w()[a.zc]))throw new Q(203,a[q]);},this)}},this)};I.re=function(a,b,c){0!=b[D]&&(b=b.map(function(a){return[null,a]}),this.Lf(a,b,c))};I.se=function(a,b,c){0!=b[D]&&(this.Lf(a,b,c),this.Mf(a,b,c))};I.Jf=function(a,b,c){0!=b[D]&&(b=b.map(function(a){return[a,null]}),this.Mf(a,b,c))};
function fe(a){this.kb=new O;this.Pa=new O;this.nb=new O;this.D=a}I=fe[t];na(I,H("D"));I.Tc=H("kb");I.Xc=H("Pa");I.Vc=H("nb");I.add=function(a){if(this.nb.B(a.id())){var b=[this.nb.get(a.id()),a];this.Pa.set(a.id(),b);this.nb[x](a.id())}else this.kb.set(a.id(),a)};I.modify=function(a){var b=a[0],c=a[1];M(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.kb.B(b)?this.kb.set(b,c):(this.Pa.B(b)&&(a=[this.Pa.get(a[0].id())[0],c]),this.Pa.set(b,a))};
ra(I,function(a){if(this.kb.B(a.id()))this.kb[x](a.id());else if(this.Pa.B(a.id())){var b=this.Pa.get(a.id())[0];this.Pa[x](a.id());this.nb.set(a.id(),b)}else this.nb.set(a.id(),a)});I.uj=function(){var a=[];this.kb.f()[G](function(b){a[z]([null,b])},this);this.Pa.f()[G](function(b){a[z](b)},this);this.nb.f()[G](function(b){a[z]([b,null])},this);return a};f(I,function(){return"["+this.kb.U()[E]()+"], ["+this.Pa.U()[E]()+"], ["+this.nb.U()[E]()+"]"});
I.Lj=function(){var a=new fe(this.D);this.kb.f()[G](function(b){a[Ya](b)},this);this.nb.f()[G](function(b){a.add(b)},this);this.Pa.f()[G](function(b){a.modify([b[1],b[0]])},this);return a};I.Na=function(){return this.kb.Na()&&this.nb.Na()&&this.Pa.Na()};
function ge(a,b){this.sa=new O;b[G](function(a){this.sa.set(a[u](),a)},this);this.ta=a.o(Hd);this.J=a.o(Id);this.Ua=new de(a);this.Rd=new Yd(a);this.$e=this.ge=!1;this.Fb=new O}I=ge[t];I.cg=H("Fb");I.xj=function(){var a=[];this.Fb.U().map(function(a){return this.sa.get(a)},this)[G](function(b){b.ac()&&(b.Fa()[G](function(b){a[z](this.J.get(b.l()))},this),a[z](this.J.get(b[u]()+".#")))},this);return a};I.ha=H("sa");
I.yj=function(){var a=[];this.sa.f()[G](function(b){b.ac()&&(b.Fa()[G](function(b){a[z](b.l())}),a[z](b[u]()+".#"))});return a};I.Cb=function(a,b){this.Hc();this.xd(a);this.Ua.te(a,b);this.Ua.re(a,b,0);for(var c=0;c<b[D];c++)this.Sd(a,[null,b[c]])};
I.Sd=function(a,b){var c=a[u](),d=this.Fb.get(c,null)||new fe(c);this.Fb.set(c,d);try{this.Rd.uh(a,b)}catch(g){throw this.$e=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.ta.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.ta.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.ta[x](c,[k.id()]),d[Ya](k))};qa(I,function(a,b){this.Hc();this.xd(a);this.Ua.te(a,b);for(var c=0;c<b[D];c++){var d=b[c],d=[this.ta.get([d.id()])[0],d];this.Ua.se(a,[d],0);this.Sd(a,d)}});
I.Me=function(a,b){this.Hc();this.xd(a);this.Ua.te(a,b);for(var c=0;c<b[D];c++){var d=b[c],g=null,k=this.Ua.cj(a,d);null!=k?(g=this.ta.get([k])[0],d.Nh(k),this.Ua.se(a,[[g,d]],0)):this.Ua.re(a,[d],0);this.Sd(a,[g,d])}};va(I,function(a,b){this.Hc();this.xd(a);this.Ua.Jf(a,b,0);for(var c=0;c<b[D];c++)this.Sd(a,[b[c],null])});I.$h=function(){this.Fb.f()[G](function(a){var b=this.sa.get(a[u]());this.Ua.re(b,a.Tc().f(),1);this.Ua.Jf(b,a.Vc().f(),1);this.Ua.se(b,a.Xc().f(),1)},this)};
I.oa=function(){this.Hc();this.ge=!0};I.Hc=function(){M(!this.$e,"Attemptted to use journal that needs to be rolled back.");M(!this.ge,"Attemptted to commit a terminated journal.")};I.Lb=function(){M(!this.ge,"Attempted to rollback a terminated journal.");var a=this.Fb.f().map(function(a){return a.Lj()},this);this.Rd[Va](a);this.ge=!0;this.$e=!1};I.xd=function(a){if(!this.sa.B(a[u]()))throw new Q(106,a[u]());};
function he(a,b,c,d){this.c=a;this.u=b;this.Z=null===this.c?!1:c;this.da=null===this.u?!1:d}I=he[t];f(I,function(){return(this.Z?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.u?"unbound":this.u)+(this.da?")":"]")});I.oi=function(){if(null===this.c&&null===this.u)return[];var a=null,b=null;null===this.c||(a=new he(null,this.c,!1,!this.Z));null===this.u||(b=new he(this.u,null,!this.da,!1));return[a,b][Ga](function(a){return null!==a})};
I.reverse=function(){return new he(this.u,this.c,this.da,this.Z)};I.Pg=function(a){var b=ie(this.c,a.c,!0,this.Z,a.Z);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.c||c.u==a.c&&!c.da&&!a.Z};function je(){return new he(null,null,!1,!1)}I.rg=function(){return null===this.c&&null===this.u};I.wg=function(){return null!=this.c&&this.c==this.u&&!this.Z&&!this.da};
I.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.da;return(null===this.c||a>this.c||a==this.c&&!this.Z)&&b};I.Pc=function(a){return this.c==a.c&&this.Z==a.Z&&this.u==a.u&&this.da==a.da};function ie(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function ke(a,b){var c=ie(a.c,b.c,!0,a.Z,b.Z);0==c&&(c=ie(a.u,b.u,!1,a.da,b.da));return c};
function le(a,b){this.entries=a;this.I=new P(b);this.Ob=null}I=le[t];I.ik=function(a){return this.I.Pc(a.I)};function me(a,b){M(a.ik(b),"Intersection/union operations only apply to compatible relations.")}I.Y=function(){return this.I.f()};I.Pe=function(){return 1<this.I.ya()};I.Ee=function(){return this[C].map(function(a){return a.wa.w()})};I.Nj=function(){return this[C].map(function(a){return a.wa.id()})};I.al=function(a,b){null===this.Ob&&(this.Ob=new O);this.Ob.set(a.l(),b)};
I.uc=function(a){M(null!==this.Ob,"getAggregationResult called before any results have been calculated.");var b=this.Ob.get(a.l(),void 0);M(Lb(b),"Could not find result for "+a.l());return b};I.Zj=function(a){return null!==this.Ob&&this.Ob.B(a.l())};var ne=null;function oe(){null===ne&&(ne=new le([],[]));return ne}
function pe(a){if(0==a[D])return oe();for(var b=a[Ka](function(b,c){me(a[0],c);return b+c[C][D]},0),c=e(b),d=0,b=a.map(function(a){var b=new O;a[C][G](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new O,k=0;k<c[D];k++)b[Ua](function(a){return a.B(c[k].id)})&&g.set(c[k].id,c[k]);return new le(g.f(),a[0].I.f())}function qe(a){if(0==a[D])return oe();var b=new O;a[G](function(c){me(a[0],c);c[C][G](function(a){b.set(a.id,a)})});return new le(b.f(),a[0].I.f())}
function re(a,b){var c=1<b[D],d=a.map(function(a){return new se(a,c)});return new le(d,b)}function se(a,b){this.wa=a;this.id=te++;this.Qe=b}var te=0;se[t].S=function(a){var b=a.bb();return null!==b&&this.wa.w()[sb](b)?this.wa.w()[b]:this.Qe?this.wa.w()[a.M().pa()][a[u]()]:this.wa.w()[a[u]()]};se[t].kf=function(a,b){var c=a.bb();if(null!=c)this.wa.w()[c]=b;else if(this.Qe){var c=a.M().pa(),d=this.wa.w()[c];null==d&&(d={},this.wa.w()[c]=d);d[a[u]()]=b}else this.wa.w()[a[u]()]=b};
function ue(a,b,c,d){function g(a,b){if(a.Qe){var c=a.wa.w(),d;for(d in c)k[d]=c[d]}else M(!k[sb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.wa.w()}var k={};g(a,b);g(c,d);a=new gd(-1,k);return new se(a,!0)};
J("lf.bind",function(a){return new ve(a)},void 0);function ve(a){this.qa=a}J("lf.Binder",ve,void 0);ve[t].zb=H("qa");
function we(){var a=xe();this.Ni=new O(1,ye(),2,ze(),4,a,3,a,5,Ae())}Nb(we);we[t].Ce=function(a,b){var c=this.Ni.get(a,null);M(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);M(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function xe(){return new O("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function Ae(){return new O("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function ze(){return new O("between",function(a,b){return a[Db]()>=b[0][Db]()&&a[Db]()<=b[1][Db]()},"eq",function(a,b){return(null===a?-1:a[Db]())==(null===b?-1:b[Db]())},"gte",function(a,b){return a[Db]()>=b[Db]()},"gt",function(a,b){return a[Db]()>b[Db]()},"in",function(a,b){return b[ab](function(b){return b[Db]()==a[Db]()})},"lte",function(a,b){return a[Db]()<=b[Db]()},"lt",function(a,b){return a[Db]()<b[Db]()},"neq",function(a,b){return(null===a?-1:a[Db]())!=(null===b?-1:b[Db]())})}
function ye(){return new O("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function Be(a,b){this.Dg=a;this.vh=b}Be[t].getKey=H("Dg");Be[t].Sj=H("vh");la(Be[t],function(){return new Be(this.Dg,this.vh)});function Ce(a,b){Be[r](this,a,b);this.i=this.G=null}L(Ce,Be);var De=[];I=Ce[t];la(I,function(){return new Ce(this.getKey(),this.Sj())});I.getParent=H("G");I.ug=function(){return!this.xa()};I.ea=function(){return this.i||De};I.xb=function(a){return this.ea()[a]||null};I.xa=function(){return this.ea()[D]};I.wj=function(){for(var a=0,b=this;b[Ab]();)a++,b=b[Ab]();return a};I.pb=function(){for(var a=this;a[Ab]();)a=a[Ab]();return a};I.contains=function(a){do a=a[Ab]();while(a&&a!=this);return Boolean(a)};
I.Cc=function(a,b){if(!1!==a[r](b,this))for(var c=this.ea(),d=0;d<c[D];d++)c[d].Cc(a,b)};I.gh=Ib("G");I.la=function(a){this.Ec(a,this.i?this.i[D]:0)};I.Ec=function(a,b){M(!a[Ab]());a.gh(this);this.i=this.i||[];M(0<=b&&b<=this.i[D]);rc(this.i,b,0,a)};I.ce=function(a){var b=this.i&&this.i[a];return b?(b.gh(null),nc(this.i,a),0==this.i[D]&&(this.i=null),b):null};I.removeChild=function(a){return this.ce(hc(this.ea(),a))};

function Ee(){Ce[r](this,"","");this.za=Fe++}L(Ee,Ce);var Fe=0;Ee[t].fa=H("za");Ee[t].lf=Ib("za");
function Ge(a,b,c){Ee[r](this);this.K=a;pa(this,b);this.L=c;this.Dd=we.De().Ce(this.K.$(),this.L);this.cb=!1;this.lc=b}L(Ge,Ee);I=Ge[t];I.Pb=function(){var a=new Ge(this.K,this[v],this.L);a.bl(this.lc);a.fe(this.cb);a.lf(this.fa());return a};I.yb=function(a){return null!=a?(a[z](this.K),a):[this.K]};I.fe=Ib("cb");I.bl=Ib("lc");I.Hf=function(){var a=!1;this[v]instanceof ve||(a="array"==Ob(this[v])?!this[v][ab](function(a){return a instanceof ve}):!0);if(!a)throw new Q(501);};
I.eval=function(a){this.Hf();if("in"==this.L)return this.Ii(a);var b=a[C][Ga](function(a){return this.Dd(a.S(this.K),this[v])!=this.cb},this);return new le(b,a.Y())};Ba(I,function(a){if(this.lc instanceof ve){var b=this.lc.zb();if(a[D]<=b)throw new Q(510);pa(this,a[b])}else"array"==Ob(this.lc)&&pa(this,this.lc.map(function(b){if(b instanceof ve){if(a[D]<=b.zb())throw new Q(510);return a[b.zb()]}return b}))});
I.Ii=function(a){M("in"==this.L,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new P(this[v]),c=K(function(a){return b[tb](a)!=this.cb},this),d=a[C][Ga](function(a){return c(a.S(this.K))},this);return new le(d,a.Y())};f(I,function(){return"value_pred("+this.K.l()+" "+this.L+(this.cb?"(complement)":"")+" "+this[v]+")"});I.tg=function(){this.Hf();return null!==this[v]&&("between"==this.L||"eq"==this.L||"gt"==this.L||"gte"==this.L||"lt"==this.L||"lte"==this.L)};
I.ml=function(){M(this.tg(),"Could not convert predicate to key range.");var a=null;"between"==this.L?a=new he(this[v][0],this[v][1],!1,!1):"eq"==this.L?(a=this[v],a=new he(a,a,!1,!1)):a="gte"==this.L?new he(this[v],null,!1,!1):"gt"==this.L?new he(this[v],null,!0,!1):"lte"==this.L?new he(null,this[v],!1,!1):new he(null,this[v],!1,!0);return this.cb?a.oi():[a]};
function He(a){this.ga=a;this.Jc=this.va=null}He[t].Ld=function(a){null===this.va&&null!=this.F&&(this.va=Ie(this.F));a=this.va.get(a,null);M(null!==a);return a};function Ie(a){var b=new O;a.Cc(function(a){b.set(a.fa(),a)});return b}He[t].yd=function(a){a.F&&(this.F=a.F.Pb());this.Jc=a};Ba(He[t],function(){M(null==this.Jc);return this});He[t].oe=function(a){var b=this.F;null!=b&&b.Cc(function(b){b instanceof Ge&&b[F](a)})};
function Je(a){He[r](this,a)}L(Je,He);function Ke(a){var b="";a[G](function(c,d){b+=c.K.l()+" ";b+=1==c.rb?"ASC":"DESC";d<a[D]-1&&(b+=", ")});return b}Je[t].ha=function(){return new P(this.c)};la(Je[t],function(){var a=new Je(this.ga);a.yd(this);this.h&&(a.h=this.h[n]());this.c&&(a.c=this.c[n]());a.ba=this.ba;a.V=this.V;this.N&&(a.N=this.N[n]());this.na&&(a.na=this.na[n]());this.Wb&&(a.Wb=this.Wb);this.gc&&(a.gc=this.gc);a.yc=this.yc;return a});
Ba(Je[t],function(a){Je.Nb[F][r](this,a);null!=this.Wb&&(this.ba=a[this.Wb.zb()]);null!=this.gc&&(this.V=a[this.gc.zb()]);this.oe(a);return this});
function Le(a,b){this.Da=a;this.sa=b}Le[t].pb=H("Da");Le[t].Xf=Jb("plan description");Le[t].ha=H("sa");function Me(a){var b=new P;a[G](function(a){b[hb](a.ha())});return b};

function Ne(a,b){this.global=a;this.Gb=a.o(Gd);this.ae=b.map(function(a){return a[nb]});this.Sg=b.map(function(a){return a.af});this.Of=Me(this.Sg);this.rh=this.Ei();this.cc=ad()}I=Ne[t];I.Ei=function(){return this.ae[ab](function(a){return!(a instanceof Je)})?1:0};
ma(I,function(){var a=new ge(this[Wa],this.Of.f()),b=[],c=this.Sg[n](),d=K(function(){var g=c[rb]();if(g){var k=this.ae[b[D]];return g.pb()[Qa](a,k)[A](function(a){b[z](a[0]);return d()})}return Wc()},this);return d()[A](K(function(){return this.Gb.Qb(this.rh,a).oa()},this))[A](K(function(){this.Ye(b);return b},this),K(function(b){a.Lb();throw b;},this))});I.$=H("rh");I.ha=H("Of");I.Yc=H("cc");I.fa=function(){return Ub(this)};I.Ye=Hb();
function Oe(a,b){Ne[r](this,a,b);this.Jb=a.o(Ld)}L(Oe,Ne);Ea(Oe[t],Jb(0));Oe[t].Ye=function(a){this.ae[G](function(b,c){this.Jb.th(b,a[c])},this)};
function Pe(a,b){this.m=a;this.Jb=a.o(Ld);this.Za=a.o(Kd);this.Rd=new Yd(a);this.Fb=b;var c=a.o(Md),d=this.Fb.map(function(a){return c[h](a[u]())});this.sa=new P(d);this.cc=ad()}I=Pe[t];ma(I,function(){this.Rd[Va](this.Fb);this.kd();return Wc()});I.$=Jb(1);I.ha=H("sa");I.Yc=H("cc");I.fa=function(){return Ub(this)};Ea(I,Jb(1));I.kd=function(){var a=this.Jb.Je(this.sa.f());0!=a[D]&&(a=new Oe(this.m,a),this.Za.dc(a))};
function Qe(a){this.m=a;this.Gb=a.o(Gd);this.Za=a.o(Kd)}Qe[t].il=function(){this.Gb.subscribe(this.We[F](this))};Qe[t].We=function(a){a=new Pe(this.m,a);this.Za.dc(a)};


function Re(a,b){this.Ta=a;this.j=b;this.jb=new O}J("lf.backstore.FirebaseRawBackStore",Re,void 0);I=Re[t];I.Md=H("j");I.Nd=function(){throw new Q(351);};function Se(a,b){var c=ad(),d=a;b[D]&&(d=a[jb](b));d[Ha]("value",function(a){c[Eb](a.val())},function(a){c[La](a)});return c.ja}function Te(a,b,c){function d(a){a?g[La](a):g[Eb]()}c=c||!1;var g=ad();c?a.set(b,d):a[Va](b,d);return g.ja}
I.Ga=function(a){return Se(this.j,"@rev/R")[A](function(a){this.Ya=a;return Se(this.j,"@table")}[F](this))[A](function(b){var c=0,d;for(d in b)this.jb.set(d,b[d]),b[d]>c&&(c=b[d]);a.$a()[G](function(a){this.jb.B(a[u]())||(b[a[u]()]=++c)},this);d=this.j[jb]("@table");return Te(d,b)}[F](this))};
I.he=function(a,b){var c=this.jb.get(a);return null!=c?function(){var a={},g=ad();this.j[cb]("T").equalTo(c)[Ha]("value",function(c){c[G](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Eb](a)});return g.ja}[r](this)[A](function(a){a["@rev"]={R:++this.Ya};return Te(this.j,a)}[F](this)):Wc()};I.Nc=function(a){return this.he(a,Jb(null))[A](function(){this.jb[x](a);return Te(this.j[jb]("@table/"+a),null,!0)}[F](this))};Re[t].dropTable=Re[t].Nc;
Re[t].Fc=function(a,b,c){return this.he(a,function(a){var g=a.P;g[b]=c;return{R:this.Ya+1,T:a.T,P:g}}[F](this))};Re[t].addTableColumn=Re[t].Fc;Re[t].Oc=function(a,b){return this.he(a,function(a){var d=a.P;delete d[b];return{R:this.Ya+1,T:a.T,P:d}}[F](this))};Re[t].dropTableColumn=Re[t].Oc;Re[t].jd=function(a,b,c){return this.he(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Ya+1,T:a.T,P:g}}[F](this))};Re[t].renameTableColumn=Re[t].jd;Re[t].Hb=function(){throw new Q(351);};
Re[t].createRow=Re[t].Hb;Re[t].ad=H("Ta");Re[t].getVersion=Re[t].ad;Re[t].rc=function(a){var b=ad();a=this.jb.get(a);this.j[cb]("T").equalTo(a)[Ha]("value",function(a){var d=[];a[G](function(a){d[z](a.val().P)});b[Eb](d)});return b.ja};ka(Re[t],function(){var a={},b=this.jb.U().map(function(b){return this.rc(b)[A](function(d){a[b]=d})}[F](this));return $c(b)[A](function(){return a})});ka(Re[t],Re[t].dump);
function Ue(a,b,c){od[r](this,c,b);this.j=a}L(Ue,od);Ue[t].M=function(a){return this.j.Zc(a)};
Ue[t].Kc=function(){var a=this.Aj().cg();if(0==a.ya())this.ca[Eb]();else{var b=this.j.Mj()+1;this.j.hh(b);var c={"@rev":{R:b}};a[G](function(a){var g=this.j.jg(a[u]());a.Tc()[G](function(a,d){c[d]={R:b,T:g,P:a.w()}});a.Xc()[G](function(a,d){c[d]={R:b,T:g,P:a[1].w()}});a.Vc()[G](function(a,b){c[b]=null})},this);this.j.Jj()[Va](c,function(c){if(null===c)this.ca[Eb]();else this.j.hh(b-1),c=a.f().map(function(a){return this.j.Xg(a[u]())},this),$c(c)[A](this.ca[La][F](this.ca),this.ca[La][F](this.ca))}[F](this))}return this.ca.ja};
function Ve(){this.wb=new Cd}I=Ve[t];I.Ie=function(a){if(0==a[D])return Ed(this.wb);var b=[];a[G](function(a){a=this.wb.get(a)||null;null===a||b[z](a)},this);return b};I.getData=H("wb");I.get=function(a){return Wc(this.Ie(a))};I.bf=function(a){a[G](function(a){this.wb.set(a.id(),a)},this)};I.put=function(a){this.bf(a);return Wc()};I.Yg=function(a){0==a[D]||a[D]==this.wb[Gb]?this.wb[w]():a[G](function(a){this.wb[Ya](a)},this)};va(I,function(a){this.Yg(a);return Wc()});
I.Bj=function(){return 0==this.wb[Gb]?0:Dd(this.wb)[Ka](function(a,b){return a>b?a:b},0)};
function We(a,b){this.s=a;this.Dh=b;this.hd=new O;this.Ya=-1;this.I=new O;this.jb=new O;this.pe=null}I=We[t];I.Mj=H("Ya");I.hh=Ib("Ya");
I.Ga=function(a){this.j=this.Dh[jb](this.s[q]());var b=a||function(){return Wc()};return Se(this.j,"@db/version")[A](function(a){return null===a?Te(this.j,this.ui(),!0)[A](function(){var a=new Re(0,this.j);return b(a)}[F](this)):a==this.s[ub]()?Se(this.j,"@rev/R")[A](function(a){this.Ya=a;return Se(this.j,"@table")}[F](this))[A](function(a){for(var b in a)this.jb.set(b,a[b]);a=this.s.$a().map(function(a){return this.Xg(a[u]())},this);return $c(a)}[F](this))[A](function(){this.dk();this.Hg();return Wc()}[F](this)):
this.Ze(a,b)[A](function(){return this.Ga()}[F](this))}[F](this))};I.Ze=function(a,b){var c=new Re(a,this.j);return c.Ga(this.s)[A](function(){return this.sl()}[F](this))[A](function(){return b(c)})[A](function(){var a=this.j[jb]("@db");return Te(a,{version:this.s[ub]()},!0)}[F](this))};I.sl=function(){return Wc()};I.Hg=function(){this.j.off();this.j.on("child_removed",this.Bk[F](this));this.qe&&(this.qe.off(),this.hd[w]());this.qe=this.j[cb]("R").startAt(this.Ya+1);this.qe.on("value",this.We[F](this))};
I.dk=function(){hd=this.I.f().map(function(a){return a.Bj()})[Ka](function(a,b){return a>b?a:b},0)+1};I.Bk=function(a){var b=a.val(),c=this.hd.get(b.T,null);null===c&&(c=new P,this.hd.set(b.T,c));c.add(da(a.key(),10))};I.We=function(a){var b=a[jb]("@rev/R").val();null!=b&&b!=this.Ya&&(this.Ya=b,a=this.ij(a),a[G](function(a){var b=this.I.get(a[u]()),g=a.Vc().U();g[D]&&b.Yg(g);var k=a.Tc().f();a.Xc()[G](function(a){k[z](a[1])});b.bf(k)},this),a[D]&&this.fd(a),this.Hg())};
I.ij=function(a){var b=new P,c=new O;this.jb[G](function(a,g){var k=this.I.get(g),l=new fe(g);if(this.hd.B(a)){var p=this.hd.get(a).f();b[hb](p);k.Ie(p)[G](function(a){l[Ya](a)})}c.set(a,l)}[F](this));a[G](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b[tb](g)){a=a.val();var k=c.get(a.T),l=this.I.get(k[u]());l.getData().B(g)?k.modify([l.Ie([g])[0],new gd(g,a.P)]):k.add(new gd(g,a.P))}}}[F](this));return c.f()[Ga](function(a){return!a.Na()})};
I.Xg=function(a){var b=ad(),c=this.jg(a);this.j[cb]("T").equalTo(c)[Ha]("value",function(c){var g=new Ve,k=[];c[G](function(a){k[z](new gd(da(a.key(),10),a.val().P))});g.bf(k);this.I.set(a,g);b[Eb]()}[F](this));return b.ja};I.jg=function(a){return this.jb.get(a)};I.ui=function(){var a={};a["@db"]={version:this.s[ub]()};a["@rev"]={R:1};this.Ya=1;a["@table"]={};this.s.$a()[G](function(b,c){var d=b[u]();a["@table"][d]=c;this.I.set(d,new Ve);this.jb.set(d,c)},this);return a};
I.Qb=function(a,b){return new Ue(this,a,b)};I.Zc=function(a){var b=this.I.get(a,null);if(null!==b)return b;throw new Q(101,a);};I.Jj=H("j");oa(I,Hb());Ca(I,Ib("pe"));I.fd=function(a){null!=this.pe&&this.pe(a)};
function R(a,b,c,d){this.j=b;this.Sa=c;this.Ta=a;this.ud=d}J("lf.backstore.IndexedDBRawBackStore",R,void 0);R[t].Md=H("j");R[t].getRawDBInstance=R[t].Md;R[t].Nd=H("Sa");R[t].getRawTransaction=R[t].Nd;R[t].Nc=function(a){return new N(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[t].dropTable=R[t].Nc;
R[t].Fk=function(a,b,c){return new N(function(d,g){var k;try{var l=this.Sa[vb](a);k=l[Fa]()}catch(p){g(p);return}sa(k,function(){var a=k[Fb];a?(b(a),a[gb]()):(c(l),d())});za(k,g)},this)};function Xe(a){var b=null;return b=a instanceof ArrayBuffer?kd(a):a instanceof Date?a[Db]():a}R[t].qf=function(a,b){function c(a){var c=Td(a[v]),d=c.vc(),p;for(p in d){var y=id(d[p]);b(y);d[p]=y.Ka()}a[Va](c.Ka())}function d(a){var c=id(a[v]);b(c);a[Va](c.Ka())}return this.Fk(a,this.ud?c:d,Hb())};
R[t].Fc=function(a,b,c){var d=Xe(c);return this.qf(a,function(a){a.w()[b]=d})};R[t].addTableColumn=R[t].Fc;R[t].Oc=function(a,b){return this.qf(a,function(a){delete a.w()[b]})};R[t].dropTableColumn=R[t].Oc;R[t].jd=function(a,b,c){return this.qf(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};R[t].renameTableColumn=R[t].jd;
R[t].Qj=function(a){var b=[];return new N(function(c,d){var g;try{g=this.Sa[vb](a)[Fa]()}catch(k){d(k);return}sa(g,K(function(){var a=g[Fb];if(a){if(this.ud){var d=Td(a[v]).vc(),k;for(k in d)b[z](d[k])}else b[z](a[v]);a[gb]()}else c(b)},this));za(g,d)},this)};R[t].Hb=function(a){var b={};yc(a,K(function(a,d){b[d]=Xe(a)},this));return jd(b)};R[t].createRow=R[t].Hb;R[t].ad=H("Ta");R[t].getVersion=R[t].ad;
ka(R[t],function(){for(var a=this.j[Ia],b=[],c=0;c<a[D];++c){var d=a[Na](c);b[z](this.rc(d))}return $c(b)[A](function(b){var c={};b[G](function(b,d){c[a[Na](d)]=b});return c})});ka(R[t],R[t].dump);R[t].rc=function(a){return this.Qj(a)[A](function(a){return a.map(function(a){return a[v]})})};
function Ye(a,b){this.W=a;this.Rb=b}I=Ye[t];I.get=function(a){if(0==a[D])return this.Uc();a=a.map(function(a){return new N(function(c,d){var g;try{g=this.W.get(a)}catch(k){d(k);return}za(g,d);sa(g,K(function(a){c(this.Rb(a[Pa][Fb]))},this))},this)},this);return $c(a)};I.Uc=function(){return new N(function(a,b){var c=[],d;try{d=this.W[Fa]()}catch(g){b(g);return}za(d,b);sa(d,K(function(){var b=d[Fb];b?(c[z](this.Rb(b[v])),b[gb]()):a(c)},this))},this)};
I.$b=function(a){return new N(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};I.put=function(a){if(0==a[D])return Wc();a=a.map(function(a){return this.$b(K(function(){return this.W.put(a.Ka())},this))},this);return $c(a)};
va(I,function(a){return new N(function(b,c){var d=this.W[bb]();sa(d,K(function(d){if(0==a[D]||d[Pa][Fb]==a[D])return this.$b(K(function(){return this.W[w]()},this))[A](b,c);d=a.map(function(a){return this.$b(K(function(){return this.W[Ya](a)},this))},this);$c(d)[A](b,c)},this));za(d,c)},this)});
function Ze(a,b,c,d,g){od[r](this,c,d);this.m=a;this.Sa=b;this.ud=g;this.Sa.oncomplete=K(this.ca[Eb],this.ca);this.Sa.onabort=K(this.ca[La],this.ca)}L(Ze,od);Ze[t].M=function(a,b,c){return this.ud?(c=null!=c?c:0,a=this.Sa[vb](a),new Ud(a,b,0==c?Zb(Vd,this.m):Wd)):new Ye(this.Sa[vb](a),b)};Ze[t].Kc=function(){return this.ca.ja};
function $e(a,b){this.m=a;this.s=b;this.vd=b.Tg().Gi||!1}I=$e[t];I.Ga=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new Q(352);var c=a||function(){return Wc()};return new N(function(a,g){var k;try{k=b.open(this.s[q](),this.s[ub]())}catch(l){g(l);return}za(k,g);k.onupgradeneeded=K(function(a){this.Ek(c,a)[A](Hb(),g)},this);sa(k,K(function(b){this.j=b[Pa][Fb];this.jf()[A](K(function(b){hd=b+1;a(this.j)},this))},this))},this)};
I.Ek=function(a,b){var c=b[Pa][Fb],d=b[Pa][lb],g=new R(b.oldVersion,c,d,this.vd);this.Uk(c,d);this.zi(c,d);return a(g)};I.Uk=function(a){for(var b=[],c=0;c<a[Ia][D];++c){var d=a[Ia][Na](c);-1!=d[$a](".")&&b[z](d)}b[G](function(b){try{a.deleteObjectStore(b)}catch(c){}})};I.zi=function(a,b){this.s.$a()[G](Zb(this.wi,a,b),this)};I.wi=function(a,b,c){a[Ia][tb](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.ac()&&(c.Fa()[G](function(c){this.Mc(a,b,c.l(),"btree")},this),this.Mc(a,b,c.Sb(),"rowid"))};
I.Mc=function(a,b,c,d){a[Ia][tb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[vb](c),(this.vd?new Ud(a,id,Wd):new Ye(a,id)).put([new md(new ld(d))]))};I.Qb=function(a,b){var c=b.ha().f().map(function(a){return a[u]()});b.yj()[G](function(a){c[z](a)});var d=this.j[lb](c,0==a?"readonly":"readwrite");return new Ze(this.m,d,b,a,this.vd)};
I.jf=function(a){function b(){if(0==c[D])return Wc();var a=c[rb]();return l(a)[A](b)}var c=this.s.$a().map(function(a){return a[u]()}),d=this.j,g=0,k=K(function(a){return this.vd?(a=Td(a[v]),Cc(a.vc())[Ka](function(a,b){return ba.max(a,b)},0)):a.key},this),l=K(function(b){return new N(function(c,l){var qb;try{qb=(a||d[lb]([b]))[vb](b)[Fa](null,"prev")}catch(Bc){l(Bc);return}sa(qb,function(a){(a=a[Pa][Fb])&&(g=ba.max(g,k(a)));c(g)});za(qb,function(){c(g)})},this)},this);return new N(function(a){b()[A](function(){a(g)})})};
oa(I,function(){this.j[Ra]()});I.Zc=function(){throw new Q(511);};Ca(I,Hb());I.fd=Hb();



function af(a,b,c){od[r](this,c,b);this.W=a;0==b&&this.ca[Eb]()}L(af,od);af[t].M=function(a){return this.W.Zc(a)};af[t].Kc=function(){this.ca[Eb]();return this.ca.ja};
function bf(a){this.s=a;this.I=new Cd}I=bf[t];I.Ga=function(){this.s.$a()[G](this.ek,this);return Wc()};I.Zc=function(a){var b=this.I.get(a)||null;if(null===b)throw new Q(101,a);return b};I.Qb=function(a,b){return new af(this,a,b)};I.Qf=function(a){if(!this.I.has(a)){var b=new Ve;this.I.set(a,b);return b}return null};I.ek=function(a){this.Qf(a[u]());a.ac()&&(a.Fa()[G](function(a){this.Mc(a.l(),"btree")},this),this.Mc(a.Sb(),"rowid"))};I.Mc=function(a,b){var c=this.Qf(a);null===c||c.put([new md(new ld(b))])};
oa(I,Hb());Ca(I,Hb());I.fd=Hb();
function cf(a){bf[r](this,a);this.Wd=null}L(cf,bf);Ca(cf[t],function(a){null===this.Wd&&(this.Wd=a)});cf[t].fd=function(a){null===this.Wd||this.Wd(a)};
function ef(a,b,c){this.Sa=a;this.D=b;this.Rb=c}ef[t].get=function(a){var b=this.Rb;this.Sa.Qa("SELECT id, value FROM "+this.D+" "+(0==a[D]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Bb][D],g=e(d),k=0;k<d;++k)g[k]=b({id:a[Bb][Na](k).id,value:JSON.parse(a[Bb][Na](k)[v])});return g});return this.Sa.oa()};
ef[t].put=function(a){if(0==a[D])return Wc();var b="INSERT OR REPLACE INTO "+this.D+"(id, value) VALUES (?, ?)";a[G](function(a){this.Sa.Qa(b,[a.id(),JSON.stringify(a.w())])},this);return Wc()};va(ef[t],function(a){this.Sa.Qa("DELETE FROM "+this.D+" "+(0==a[D]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Wc()});
function ff(a,b,c){od[r](this,b,c);this.j=a;this.I=new Cd;this.we=[]}L(ff,od);ff[t].M=function(a,b){var c=this.I.get(a)||null;null===c&&(c=new ef(this,a,b),this.I.set(a,c));return c};ff[t].Qa=function(a,b,c){this.we[z]({jl:a,Gk:b,transform:c})};
ff[t].Kc=function(){var a,b,c=this.ca[La][F](this.ca),d=function(a,b){this.ca[La](b)}[F](this),g=K(function(c,l){a=l;if(this.we[D]){var p=this.we[rb]();b=p.transform;c.executeSql(p.jl,p.Gk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ca[Eb](p)},this);0==this.qh?this.j.readTransaction(g,c):this.j[lb](g,c);return this.ca.ja};
function S(a,b,c){this.j=c;this.m=a;this.Ta=b}J("lf.backstore.WebSqlRawBackStore",S,void 0);S[t].Md=H("j");S[t].getRawDBInstance=S[t].Md;S[t].Nd=function(){throw new Q(356);};S[t].getRawTransaction=S[t].Nd;S[t].Cd=function(){return new ff(this.j,new ge(this.m,[]),1)};S[t].Nc=function(a){var b=this.Cd();b.Qa("DROP TABLE "+a,[]);return b.oa()};S[t].dropTable=S[t].Nc;
S[t].rc=function(a){var b=this.Cd();b.Qa("SELECT id, value FROM "+a,[]);return b.oa()[A](function(a){for(var b=a[Bb][D],g=e(b),k=0;k<b;++k)g[k]={id:a[Bb][Na](k).id,value:JSON.parse(a[Bb][Na](k)[v])};return Wc(g)})};S[t].pf=function(a,b){var c=this.Cd(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.rc(a)[A](function(a){a[G](function(a){a=b(a);c.Qa(d,[JSON.stringify(a[v]),a.id])});return c.oa()})};S[t].Fc=function(a,b,c){var d=Xe(c);return this.pf(a,function(a){a[v][b]=d;return a})};
S[t].addTableColumn=S[t].Fc;S[t].Oc=function(a,b){return this.pf(a,function(a){delete a[v][b];return a})};S[t].dropTableColumn=S[t].Oc;S[t].jd=function(a,b,c){return this.pf(a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};S[t].renameTableColumn=S[t].jd;S[t].Hb=function(a){var b={},c;for(c in a)b[c]=Xe(a[c]);return jd(b)};S[t].createRow=S[t].Hb;S[t].ad=H("Ta");S[t].getVersion=S[t].ad;
function gf(a){a.Qa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Bb][D]),d=0;d<c[D];++d)c[d]=a[Bb][Na](d).tbl_name;return c})}ka(S[t],function(){var a=ad(),b=this.Cd();gf(b);var c={};b.oa()[A](K(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.rc(a)[A](function(b){c[a]=b})},this);$c(b)[A](function(){a[Eb](c)})},this));return a.ja});ka(S[t],S[t].dump);
function hf(a,b,c){this.m=a;this.s=b;this.fl=c||4194304}I=hf[t];I.Gd=function(){return new ge(this.m,[])};I.Ga=function(a){if(null==ca.openDatabase)throw new Q(353);var b=a||function(){return Wc()};return new N(K(function(a,d){try{var g=ca.openDatabase(this.s[q](),"",this.s[q](),this.fl);if(null!=g)this.j=g,this.ki(b)[A](a,d);else throw new Q(354);}catch(k){d(k)}},this))};
I.ki=function(a){var b=ad(),c=new ff(this.j,this.Gd(),1);c.Qa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Qa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.oa()[A](K(function(c){var g=0;c[Bb][D]&&(g=c[Bb][Na](0).v);g<this.s[ub]()?this.Ze(a,g)[A](b[Eb][F](b)):g>this.s[ub]()?b[La](new Q(108)):b[Eb]()},this));return b.ja};I.Qb=function(a,b){if(null!=this.j)return new ff(this.j,b,a);throw new Q(2);};oa(I,Hb());I.Zc=function(){throw new Q(512);};
I.Kg=function(){throw new Q(355);};Ca(I,function(){this.Kg()});I.fd=function(){this.Kg()};I.Ze=function(a,b){var c=ad();this.Jk()[A](K(function(){a(new S(this.m,b,this.j))[A](K(function(){return this.jf()},this))[A](c[Eb][F](c))},this),c[La][F](c));return c.ja};
I.Jk=function(){var a=this.s.$a(),b=new ff(this.j,this.Gd(),1),c=new ff(this.j,this.Gd(),1);b.Qa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[ub]()]);gf(b);return b.oa()[A](function(b){b[Ga](function(a){return-1!=a[$a](".")})[G](function(a){c.Qa("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[$a](".")});a.map(function(a){return a[u]()})[Ga](function(a){return-1==g[$a](a)})[G](function(a){c.Qa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.oa()})};
I.jf=function(){var a=0,b=ad(),c=K(function(b){var c=new ff(this.j,this.Gd(),0);c.Qa("SELECT MAX(id) FROM "+b,[]);return c.oa()[A](function(b){b=b[Bb][Na](0)[0];a=ba.max(b,a)})},this),d=this.s.$a().map(function(a){return c(a[u]())});$c(d)[A](function(){b[Eb](a)},function(a){b[La](a)});return b.ja};

function jf(a){this.ec=new P(a);aa.defineProperty(this,"size",{get:function(){return this.ec.ya()}})}jf[t].add=function(a){this.ec.add(a)};jf[t].add=jf[t].add;ta(jf[t],function(){this.ec[w]()});ta(jf[t],jf[t][w]);ra(jf[t],function(a){return this.ec[x](a)});jf[t]["delete"]=jf[t][Ya];Da(jf[t],function(a,b){this.ec.f()[G](a,b)});jf[t].has=function(a){return this.ec[tb](a)};jf[t].has=jf[t].has;var kf=ca.Set&&ca.Set[t][db]&&ca.Set[t][G]?ca.Set:jf;
function mf(a){if(a instanceof jf)return a.ec.f();var b=0,c=e(a[Gb]);a[G](function(a){c[b++]=a});return c};
function nf(){this.g=new Cd;this.mh=new Cd}I=nf[t];I.Od=function(a){var b=this.mh.get(a);Lb(b)||(b=new kf,this.mh.set(a,b));return b};I.set=function(a,b){var c=this.Od(a);b[G](K(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};I.get=function(a){return a.map(K(function(a){return this.g.get(a)||null},this))};
I.ob=function(a,b,c){var d=[],g=ba.min(b,c),k=ba.max(b,c);a=this.Od(a);if(a[Gb]<k-g)a[G](function(a){a>=g&&a<=k&&(a=this.g.get(a),M(null!=a,"Inconsistent cache"),d[z](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),M(null!=c,"Inconsistent cache"),d[z](c));return d};va(I,function(a,b){var c=this.Od(a);b[G](function(a){this.g[Ya](a);c[Ya](a)},this)});I.ya=function(a){return null!=a?this.Od(a)[Gb]:this.g[Gb]};
function of(a,b,c,d){a=b?a[fb]():a;if(null==c&&null==d)return a;c=ba.min(Lb(c)?c:a[D],a[D]);if(0==c)return[];d=ba.min(d||0,a[D]);return a[n](d,d+c)};
function pf(){this.Ea=0}pf[t].add=function(a,b){this.Ea+=b};va(pf[t],function(a,b){this.Ea-=b});ta(pf[t],function(){this.Ea=0});pf[t].rl=function(a){this[w]();a[G](function(a){this.Ea+=a.Ea},this)};
function qf(a,b,c,d){this.D=a;this.X=b;this.sf=c;this.tb=new pf;if(d){a=511;a*=a*a;if(d[D]>=a)throw new Q(6,a);d=rf(this,d);this.ra=d=sf(d)}else this[w]()}var tf=[];I=qf[t];na(I,H("D"));f(I,function(){return this.ra[E]()});I.add=function(a,b){this.ra=this.ra.Cb(a,b)};I.set=function(a,b){this.ra=this.ra.Cb(a,b,!0)};va(I,function(a,b){this.ra=this.ra[x](a,b)});I.get=function(a){return this.ra.get(a)};I.Bd=function(a){if(null==a)return this.ib().Ea;if(a instanceof he){if(a.rg())return this.ib().Ea;if(a.wg())return this.get(a.c)[D]}return this.ob([a])[D]};
I.ib=H("tb");I.Uc=function(a,b,c,d){c=e(a);this.ra.fill({offset:b?this.tb.Ea-a-d:d,count:a,nf:0},c);return b?c[fb]():c};
I.ob=function(a,b,c,d){var g=this.ra.Jd().b[0];if(!Lb(g)||0==c)return tf;b=b||!1;c=null!=c?ba.min(c,this.tb.Ea):this.tb.Ea;d=d||0;var k=ba.min(ba.max(this.tb.Ea-d,0),c);if(0==k)return tf;if(!Lb(a)||1==a[D]&&a[0]instanceof he&&a[0].rg())return this.Uc(k,b,c,d);a=this.X.kh(a);var l=e(b?this.tb.Ea:k),p={count:0,ba:l[D],reverse:b,V:d};a[G](function(a){for(var b=this.X.be(a),b=this.X.Oe(a)?g:b[0],b=this.ra.bg(b),c=p[bb],d=0;null!=b&&p[bb]<p.ba;)b.ob(a,p,l),p[bb]!=c?(d=0,c=p[bb]):d++,b=2==d?null:b[pb]()},
this);l[B](p[bb],k-p[bb]);return b?of(l,b,c,d):l};ta(I,function(){this.ra=uf(this);this.tb[w]()});I.B=function(a){return this.ra.B(a)};I.min=function(){return this.ed(K(this.X.min,this.X))};I.max=function(){return this.ed(K(this.X.max,this.X))};I.ed=function(a){var b=this.ra.Jd(),c=this.ra.ig();if(0==b.b[D]&&0==c.b[D])return[null,null];var d=b.b[0],b=b.A[0],g=c.b[c.b[D]-1],c=c.A[c.b[D]-1];return 1==a(d,g)?[d,this.sf?[b]:b]:[g,this.sf?[c]:c]};I.Ia=H("sf");I.Lc=H("X");
I.Te=function(a,b){return null!=a?-1==this.X[zb](a,b):!1};I.Va=function(a,b){return null!=a?0==this.X[zb](a,b):!1};I.Ka=function(){for(var a=[],b=this.ra.Jd();b;)a[z](new gd(b.za,[b.b,b.A])),b=b.Aa;return a};function vf(a,b,c,d){a=new qf(b,a,c);d=wf(d,a);a.ra=d;return a}function xf(a,b){this.za=a;this.C=b;this.qb=0;this.Aa=this.Db=this.G=null;this.b=[];this.A=[];this.i=[]}function uf(a){return new xf(hd++,a)}I=xf[t];I.ia=function(){return 0==this.qb};I.Ag=function(){return null==this.G};ya(I,H("Aa"));
function yf(a){function b(a){return null!=a?a.za[E]():"_"}var c=a.za+"["+a.b[m]("|")+"]",d=a.i.map(function(a){return a.za})[m]("|"),g=a.A[m]("/"),k=b(a.Db)+"{",k=a.ia()?k+g:k+d,k=k+"}"+b(a.G);a.Aa&&(a=yf(a.Aa),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(I,function(){var a="",b=yf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[D]&&(a+=this.i[0][E]());return a});I.Jd=function(){return this.ia()?this:this.i[0].Jd()};I.ig=function(){return this.ia()?this:this.i[this.i[D]-1].ig()};
function zf(a,b){b&&(b.Db=a);a&&(a.Aa=b)}function rf(a,b){for(var c=b[D],d=0,g=uf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.b=p.map(function(a){return a.key});g.A=p.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=uf(g.C),zf(g,l),g=l)}return k}function Af(a){var b=a[0],c=uf(b.C);c.qb=b.qb+1;c.i=a;for(b=0;b<a[D];++b)a[b].G=c,0<b&&c.b[z](a[b].b[0]);return c}
function sf(a){var b=a,c=[];do c[z](b),b=b.Aa;while(b);if(512>=c[D])b=Af(c);else{var d=c[D],g=0,b=uf(a.C);for(b.qb=a.qb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[n](g,g+a),l=Af(k);l.G=b;b.i[D]&&(b.b[z](k[0].b[0]),zf(b.i[b.i[D]-1],l));b.i[z](l);g+=a;d-=a}}return b}I.get=function(a){var b=this.ld(a);if(this.ia()){var c=tf;this.C.Va(this.b[b],a)&&(c=c[Sa](this.A[b]));return c}b=this.C.Va(this.b[b],a)?b+1:b;return this.i[b].get(a)};
I.B=function(a){var b=this.ld(a);return this.C.Va(this.b[b],a)?!0:this.ia()?!1:this.i[b].B(a)};va(I,function(a,b){this.Tf(a,-1,b);if(this.Ag()){var c=this;1==this.i[D]&&(c=this.i[0],c.G=null);return c}return this});function Bf(a){return a.ia()?a.b[0]:Bf(a.i[0])}I.Ed=function(){this.b=[];for(var a=1;a<this.i[D];++a)this.b[z](Bf(this.i[a]))};
I.Tf=function(a,b,c){var d=this.ld(a),g=this.ia();if(!g){var k=this.C.Va(this.b[d],a)?d+1:d;if(this.i[k].Tf(a,k,c))this.Ed();else return!1}else if(!this.C.Va(this.b[d],a))return!1;if(this.b[D]>d&&this.C.Va(this.b[d],a)){if(Lb(c)&&!this.C.Ia()&&g&&(k=this.A[d],c=tc(k,uc,!1,c),0<=c&&nc(k,c)&&this.C.ib()[x](a,1),this.A[d][D]))return!1;this.b[B](d,1);g&&(g=this.C.Ia()?1:this.A[d][D],this.A[B](d,1),this.C.ib()[x](a,g))}256>this.b[D]&&!this.Ag()&&(this.kl()||this.xk(b));return!0};
I.kl=function(){var a=null,b,c,d;if(this.Aa&&256<this.Aa.b[D])a=this.Aa,c=b=0,d=this.b[D]+1;else if(this.Db&&256<this.Db.b[D])a=this.Db,b=this.Db.b[D]-1,c=this.ia()?b:b+1,d=0;else return!1;this.b[B](d,0,a.b[b]);a.b[B](b,1);b=this.ia()?this.A:this.i;var g=null;this.ia()?g=a.A:(g=a.i,g[c].G=this);b[B](d,0,g[c]);g[B](c,1);a.ia()||(a.Ed(),this.Ed());return!0};
I.xk=function(a){var b,c,d;this.Aa&&511>this.Aa.b[D]?(b=this.Aa,d=c=0):this.Db&&(b=this.Db,c=b.b[D],d=b.ia()?b.A[D]:b.i[D]);c=[c,0][Sa](this.b);e[t][B][xb](b.b,c);c=null;this.ia()?c=this.A:(c=this.i,c[G](function(a){a.G=b}));c=[d,0][Sa](c);e[t][B][xb](b.ia()?b.A:b.i,c);zf(this.Db,this.Aa);b.ia()||b.Ed();-1!=a&&(this.G.b[B](a,1),this.G.i[B](a,1))};
I.Cb=function(a,b,c){var d=this.ld(a);if(this.ia()){if(this.C.Va(this.b[d],a)){if(c)this.C.ib()[x](a,this.C.Ia()?1:this.A[d][D]),this.A[d]=this.C.Ia()?b:[b];else{if(this.C.Ia())throw new Q(201);if(!vc(this.A[d],b))throw new Q(109);}this.C.ib().add(a,1);return this}this.b[B](d,0,a);this.A[B](d,0,this.C.Ia()?b:[b]);this.C.ib().add(a,1);return 512==this.b[D]?this.hl():this}d=this.C.Va(this.b[d],a)?d+1:d;a=this.i[d].Cb(a,b,c);a.ia()||1!=a.b[D]||(this.b[B](d,0,a.b[0]),a.i[1].G=this,a.i[0].G=this,this.i[B](d,
1,a.i[1]),this.i[B](d,0,a.i[0]));return 512==this.b[D]?this.gl():this};I.hl=function(){var a=uf(this.C),b=uf(this.C);b.qb=1;b.b=[this.b[256]];b.i=[this,a];b.G=this.G;this.G=b;a.b=this.b[B](256);a.A=this.A[B](256);a.G=b;zf(a,this.Aa);zf(this,a);return b};I.gl=function(){var a=uf(this.C),b=uf(this.C);a.G=this.G;a.qb=this.qb+1;a.b=[this.b[256]];a.i=[this,b];this.b[B](256,1);b.G=a;b.qb=this.qb;b.b=this.b[B](256);b.i=this.i[B](257);b.i[G](function(a){a.G=b});this.G=a;zf(b,this.Aa);zf(this,b);return a};
I.ld=function(a){for(var b=0,c=this.b[D];b<c;){var d=b+c>>1;this.C.Te(this.b[d],a)?b=d+1:c=d}return b};I.bg=function(a){if(!this.ia()){var b=this.ld(a);this.C.Va(this.b[b],a)&&b++;return this.i[b].bg(a)}return this};
I.ob=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var g=this.C.Lc(),k=0,l=this.b[D]-1,p=this.b,y=d(g.vb(p[k],a)),wa=d(g.vb(p[l],a));if(1!=y&&(-1!=y||-1!=wa)){var qb=function(a,b){var c=a+b>>1;return c==a?c+1:c},Bc=function(b,c,k){if(b>=c)return 0==k?c:-1;var l=d(g.vb(p[b],a));if(0==l)return b;if(1==l)return-1;l=qb(b,c);if(l==c)return 0==k?c:-1;var y=d(g.vb(p[l],a));return 0==y?Bc(b,l,y):-1==y?Bc(l+1,c,k):Bc(b+1,l,y)},df=function(b,c){if(b>=c)return b;var k=d(g.vb(p[c],a));if(0==k)return c;
if(-1==k)return b;k=qb(b,c);if(k==c)return b;var l=d(g.vb(p[k],a));return 0==l?df(k,c):1==l?df(b,k-1):-1};0!=y&&(k=Bc(k+1,l,wa));-1!=k&&(l=df(k,l),-1!=l&&l>=k&&this.Fh(b,c,k,l+1))}};I.Fh=function(a,b,c,d){for(;c<d&&(a[fb]||!(a[bb]>=a.ba));++c)if(this.C.Ia())!a[fb]&&a.V?a.V--:b[a.count++]=this.A[c];else for(var g=0;g<this.A[c][D]&&a[bb]<b[D];++g)!a[fb]&&a.V?a.V--:b[a.count++]=this.A[c][g]};
I.fill=function(a,b){if(this.ia())for(var c=0;c<this.A[D]&&0<a[bb];++c)if(0<a[wb]){if(a.offset=a[wb]-(this.C.Ia()?1:this.A[c][D]),0>a[wb])for(var d=this.A[c][D]+a[wb];d<this.A[c][D]&&0<a[bb];++d)b[a.nf++]=this.A[c][d],a.count--}else if(this.C.Ia())b[a.nf++]=this.A[c],a.count--;else for(d=0;d<this.A[c][D]&&0<a[bb];++d)b[a.nf++]=this.A[c][d],a.count--;else for(c=0;c<this.i[D]&&0<a[bb];++c)this.i[c].fill(a,b)};
function wf(a,b){for(var c=b.ib(),d=a.map(function(a){var d=new xf(a.id(),b);d.b=a.w()[0];d.A=a.w()[1];d.b[G](function(a,g){c.add(a,b.Ia()?1:d.A[g][D])});return d}),g=0;g<d[D]-1;++g)zf(d[g],d[g+1]);return 1<d[D]?sf(d[0]):d[0]};
function Cf(a){if(1==a.h[D])return new Df(a.h[0].rb);a=a.h.map(function(a){return a.rb});return new Ef(a)}function Df(a){this.zd=0==a?Ff:Gf;this.Ue=0==a?function(a){return null!=a?a[fb]():null}:function(a){return a||null};this.Og=0==a?Hf:If}L(Df,Xd);function Gf(a,b){return a>b?1:a<b?-1:0}function Ff(a,b){return Gf(b,a)}function If(a,b){return ke(a,b)}function Hf(a,b){return ke(b,a)}I=Df[t];
I.vb=function(a,b){var c=this.Ue(b),d=[null===c.c,null===c.u];if(!d[0]){var g=this.zd(a,c.c);d[0]=c.Z?1==g:-1!=g}d[1]||(g=this.zd(a,c.u),d[1]=c.da?-1==g:1!=g);return d};I.compare=function(a,b){return this.zd(a,b)};I.min=function(a,b){return a<b?1:a==b?0:-1};I.max=function(a,b){return a>b?1:a==b?0:-1};I.Ne=function(a,b){var c=this.vb(a,b);return c[0]&&c[1]};I.Ng=function(a,b){return this.Og(a,b)};I.kh=function(a){return a[Ga](function(a){return null!==a})[Za](K(function(a,c){return this.Og(a,c)},this))};
I.Oe=function(a){return Pb(this.Ue(a).c)};I.be=function(a){a=this.Ue(a);return[a.c,a.u]};f(I,function(){return this.zd==Ff?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Ef(a){this.Ma=a.map(function(a){return new Df(a)})}L(Ef,Xd);I=Ef[t];I.Be=function(a,b,c){for(var d=0,g=0;g<this.Ma[D]&&0==d;++g)d=c(this.Ma[g],a[g],b[g]);return d};I.compare=function(a,b){return this.Be(a,b,function(a,b,g){return a[zb](b,g)})};I.min=function(a,b){return this.Be(a,b,function(a,b,g){return a.min(b,g)})};
I.max=function(a,b){return this.Be(a,b,function(a,b,g){return a.max(b,g)})};I.vb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ma[D]&&(c[0]||c[1]);++d){var g=this.Ma[d].vb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};I.Ne=function(a,b){for(var c=!0,d=0;d<this.Ma[D]&&c;++d)c=this.Ma[d].Ne(a[d],b[d]);return c};
I.kh=function(a){var b=a[Ga](function(a){return a[Ua](Qb)});a=e(this.Ma[D]);for(var c=0;c<a[D];c++)a[c]=b.map(function(a){return a[c]});a[G](function(a,b){a[Za](K(function(a,c){return this.Ma[b].Ng(a,c)},this))},this);b=e(b[D]);for(c=0;c<b[D];c++)b[c]=a.map(function(a){return a[c]});return b[Za](K(function(a,b){for(var c=0,l=0;l<this.Ma[D]&&0==c;++l)c=this.Ma[l].Ng(a[l],b[l]);return c},this))};I.Oe=function(a){return this.Ma[0].Oe(a[0])};
I.be=function(a){var b=a.map(function(a,b){return this.Ma[b].be(a)[0]},this);a=a.map(function(a,b){return this.Ma[b].be(a)[1]},this);return[b,a]};
function Jf(a){this.qa=a;this.eb=new P;this.md=new pf;this.tb=new pf}I=Jf[t];na(I,function(){return this.qa[u]()});I.add=function(a,b){if(null===a){if(this.Ia()&&!this.eb.Na())throw new Q(201);this.eb.add(b);this.md.add(a,1)}else this.qa.add(a,b)};I.set=function(a,b){null===a?(this.eb[w](),this.md[w](),this.add(a,b)):this.qa.set(a,b)};va(I,function(a,b){if(null===a)b?(this.eb[x](b),this.md[x](a,1)):(this.eb[w](),this.md[w]());else this.qa[x](a,b)});I.get=function(a){return null===a?this.eb.f():this.qa.get(a)};
I.Bd=function(a){return this.qa.Bd(a)};I.ib=function(){this.tb.rl([this.qa.ib(),this.md]);return this.tb};I.ob=function(a,b,c,d){b=this.qa.ob(a,b,c,d);return null!=a?b:b[Sa](this.eb.f())};ta(I,function(){this.eb[w]();this.qa[w]()});I.B=function(a){return null===a?!this.eb.Na():this.qa.B(a)};I.min=function(){return this.qa.min()};I.max=function(){return this.qa.max()};I.Ka=function(){return[new gd(-2,this.eb.f())][Sa](this.qa.Ka())};I.Lc=function(){return this.qa.Lc()};I.Ia=function(){return this.qa.Ia()};
function Kf(a){this.D=a;this.Eb=new kf;this.X=new Df(1)}I=Kf[t];na(I,H("D"));I.add=function(a){if("number"!=typeof a)throw new Q(103);this.Eb.add(a)};I.set=function(a,b){this.add(a,b)};va(I,function(a){this.Eb[Ya](a)});I.get=function(a){return this.B(a)?[a]:[]};I.min=function(){return this.ed(K(this.X.min,this.X))};I.max=function(){return this.ed(K(this.X.max,this.X))};
I.ed=function(a){if(0==this.Eb[Gb])return[null,null];var b=mf(this.Eb)[Ka](K(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};I.Bd=function(){return this.Eb[Gb]};I.ob=function(a,b,c,d){var g=a||[je()];a=mf(this.Eb)[Ga](function(a){return g[ab](function(b){return this.X.Ne(a,b)},this)},this);return of(a,b,c,d)};ta(I,function(){this.Eb[w]()});I.B=function(a){return this.Eb.has(a)};I.Ka=function(){return[new gd(0,mf(this.Eb))]};I.Lc=H("X");
function Lf(a,b){var c=new Kf(a);b[0].w()[G](function(a){c.add(a,a)});return c}I.Ia=Jb(!0);I.ib=function(){throw new Q(300);};
function Mf(a){this.m=a;this.Gb=a.o(Gd);this.J=a.o(Id);this.ta=a.o(Hd)}I=Mf[t];I.Ga=function(a){var b=a.$a(),c=K(function(){if(0==b[D])return Wc();var a=b[rb]();return(a.ac()?this.Xi(a):this.Yi(a))[A](c)},this);return c()};I.Yi=function(a){var b=new ge(this.m,[a]);return this.Gb.Qb(0,b).M(a[u](),K(a.qc,a)).get([])[A](K(function(b){this.ta.set(a[u](),b);this.Pk(a,b)},this))};I.Pk=function(a,b){var c=this.J.Pj(a[u]());b[G](function(a){c[G](function(b){var c=a.Vb(b[u]());b.add(c,a.id())})})};
I.Xi=function(a){var b=new ge(this.m,[a]),c=this.Gb.Qb(0,b),b=c.M(a[u](),a.qc).get([])[A](K(function(b){this.ta.set(a[u](),b)},this)),d=a.Fa().map(function(a){return this.Qk(a,c)},this)[Sa](this.Rk(a,c));return $c(d[Sa](b))};
I.Qk=function(a,b){var c=b.M(a.l(),id,1),d=Cf(a);return c.get([])[A](K(function(b){M("btree"==b[0].w().type);if(1<b[D]){if(a.ng()){var c=vf[F](void 0,d,a.l(),a.cd),l=b[n](1),p=-1;for(b=0;b<l[D];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new Q(102);b=l[p].w();l=l[n](0);l[B](p,1);c=c(l);c=new Jf(c);c.eb[hb](b)}else c=vf(d,a.l(),a.cd,b[n](1));this.J.set(c)}},this))};
I.Rk=function(a,b){return b.M(a.Sb(),id,1).get([])[A](K(function(b){M("rowid"==b[0].w().type);1<b[D]&&(b=Lf(a.Sb(),b[n](1)),this.J.set(b))},this))};


function Nf(){this.W=new O}Nf[t].Ga=function(a){a.$a()[G](function(a){var c=a.Sb();if(null===this.get(c)){var d=new Kf(c);this.W.set(c,d)}a.Fa()[G](function(a){this.W.set(a.l(),Of(a))},this)},this);return Wc()};function Of(a){var b=Cf(a),b=new qf(a.l(),b,a.cd);return a.ng()?new Jf(b):b}Nf[t].get=function(a){return this.W.get(a,null)};Nf[t].set=function(a){return this.W.set(a[u](),a)};Nf[t].Pj=function(a){var b=[],c=a+".";this.W.U()[G](function(a){0==a[$a](c)&&b[z](this.W.get(a))},this);return b};
function Pf(a){this.gb=[];Lb(a)&&this.add(a)}I=Pf[t];f(I,function(){return this.gb.map(function(a){return a[E]()})[m](",")});I.B=function(a){return this.gb[ab](function(b){return b[tb](a)})};I.f=H("gb");
I.add=function(a){if(0!=a[D])if(a=this.gb[Sa](a),1==a[D])this.gb=a;else{a[Za](ke);for(var b=[],c=a[0],d=1;d<a[D];++d)if(c.Pg(a[d])){var g=a[d],k=je();if(null!==c.c&&null!==g.c){var l=ie(c.c,g.c,!0);1!=l?(k.c=c.c,k.Z=0!=l?c.Z:c.Z&&g.Z):(k.c=g.c,k.Z=g.Z)}null!==c.u&&null!==g.u&&(l=ie(c.u,g.u,!1),-1!=l?(k.u=c.u,k.da=0!=l?c.da:c.da&&g.da):(k.u=g.u,k.da=g.da));c=k}else b[z](c),c=a[d];b[z](c);this.gb=b}};
I.Pc=function(a){return this.gb[D]==a.gb[D]?0==this.gb[D]||this.gb[Ua](function(b,c){return b.Pc(a.gb[c])}):!1};function Qf(a,b){var c=[];a.f().map(function(a){return b.f().map(function(b){var c;if(a.Pg(b)){c=je();var l=ie(a.c,b.c,!0),l=0==l?a.Z?a:b:-1!=l?a:b;c.c=l.c;c.Z=l.Z;null===a.u||null===b.u?b=null===a.u?b:a:(l=ie(a.u,b.u,!1),b=0==l?a.da?a:b:-1==l?a:b);c.u=b.u;c.da=b.da}else c=null;return c})})[G](function(a){c=c[Sa](a)});return new Pf(c[Ga](function(a){return null!==a}))};
function Rf(a,b){var c=[],d=null,g=null;a.Cc(function(a){var l=b(a);null==a[Ab]()?g=l:d.la(l);var p=a[Ab]();null!==p&&p.xa()==d.xa()&&(p=c[$a](d),-1!=p&&c[B](p,1));1<a.xa()&&c[z](l);d=a.ug()?c[c[D]-1]:l});return g}function Sf(a){return Tf(a,function(a){return a.ug()})}function Uf(a){var b=a[Ab](),c=0;null!==b&&(c=b.ea()[$a](a),b[ib](a));var d=a.ea()[n]();d[G](function(d,k){a[ib](d);null===b||b.Ec(d,c+k)});return{parent:b,children:d}}
function Vf(a,b){a.ea()[n]()[G](function(c){a[ib](c);b.la(c)});a.la(b)}function Wf(a){M(1==a.xa());var b=a.xb(0);M(1==b.xa());Uf(a);Vf(b,a);return b}function Xf(a,b,c){M(1==a.xa());var d=a.xb(0);M(1<d.xa());var g=d.ea()[n]();if(!g[ab](function(a){return b(a)}))return a;Uf(a);g[G](function(g,l){if(b(g)){var p=c(a);d.ce(l);p.la(g);d.Ec(p,l)}});return d}function Yf(a,b,c,d){var g=a[Ab]();null!==g&&(a=g.ea()[$a](a),g.ce(a),g.Ec(c,a));b.ea()[n]()[G](function(a){b[ib](a);d.la(a)});return c}
function Tf(a,b,c){function d(a){b(a)&&g[z](a);null!=c&&c(a)||a.ea()[G](d)}var g=[];d(a);return g}function Zf(a,b){var c=b||function(a){return a[E]()+"\n"},d="";a.Cc(function(a){for(var b=0;b<a.wj();b++)d+="-";d+=c(a)});return d};

function $f(a){Ee[r](this);this.Yb=a;this.cb=!1}L($f,Ee);I=$f[t];I.Pb=function(){return Rf(this,function(a){if(a instanceof $f){var b=new $f(a.Yb);b.cb=a.cb;b.lf(a.fa());return b}return a.Pb()}[F](this))};I.yb=function(a){var b=a||[];this.Cc(function(a){a!=this&&a.yb(b)}[F](this));return(new P(b)).f()};I.fe=function(a){this.cb!=a&&(this.cb=a,this.Yb="and"==this.Yb?"or":"and",this.ea()[G](function(b){return b.fe(a)}))};I.eval=function(a){var b=this.ea().map(function(b){return b.eval(a)});return this.ni(b)};
I.ni=function(a){return"and"==this.Yb?pe(a):qe(a)};f(I,function(){return"combined_pred_"+this.Yb[E]()});function ag(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function bg(){this[w]()}var cg=aa[t][Xa],dg=aa[t][sb];I=bg[t];I.set=function(a,b){this.sd(a);var c=!this.bd(a);this.g[a]=b;if("__proto__"==a||!eg&&!cg[r](this.g,a)){delete this.g[a];var d=hc(this.Mb,a);if(c=0>d)d=this.Mb[D];this.Mb[d]=a;this.de[d]=b}c&&this.aa++};I.get=function(a,b){this.sd(a);if(this.bd(a))return this.g[a];var c=hc(this.Mb,a);return 0<=c?this.de[c]:b};
va(I,function(a){this.sd(a);if(this.bd(a))return this.aa--,delete this.g[a],!0;a=hc(this.Mb,a);return 0<=a?(this.aa--,nc(this.Mb,a),nc(this.de,a),!0):!1});I.addAll=function(a){ic(a.U(),function(b){this.set(b,a.get(b))},this)};I.Na=function(){return!this.aa};I.ya=H("aa");I.B=function(a){this.sd(a);return this.bd(a)||0<=hc(this.Mb,a)};I.Ad=function(a){return zc(this.g,function(b,c){return this.bd(c)&&ag(b,a)},this)||0<=hc(this.de,a)};
I.U=function(){var a;if(fg)a=pc(aa.keys(this.g));else{a=[];for(var b in this.g)dg[r](this.g,b)&&a[z](b)}qc(a,this.Mb);return a};I.f=function(){for(var a=[],b=this.U(),c=0;c<b[D];c++)a[z](this.get(b[c]));return a};I.getEntries=function(){for(var a=[],b=this.U(),c=0;c<b[D];c++){var d=b[c];a[z]([d,this.get(d)])}return a};ta(I,function(){this.g=eg?aa[kb](null):{};this.Mb=[];this.de=[];this.aa=0});la(I,function(){var a=new bg;a[hb](this);return a});
I.bd=function(a){return"__proto__"==a?!1:eg?a in this.g:dg[r](this.g,a)};I.sd=function(a){M(Sb(a),"key must be a string.")};var eg=!!aa[kb],fg=!!aa.keys;function gg(){this[w]()}I=gg[t];I.aa=0;ta(I,function(){this.aa=0;this.g=new bg});la(I,function(){var a=new gg;a.yh(this);return a});I.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[z](b);this.aa++};I.yh=function(a){ic(a.getEntries(),function(a){this.add(a[0],a[1])},this)};I.get=function(a){return(a=this.g.get(a))?pc(a):[]};va(I,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=oc(c,function(a){return ag(b,a)});d&&(this.aa--,0==c[D]&&this.g[x](a));return d});I.Na=function(){return!this.aa};
I.ya=H("aa");I.B=function(a){return this.g.B(a)};I.Ad=function(a){return lc(this.g.f(),function(b){return lc(b,function(b){return ag(b,a)})})};I.U=function(){return this.g.U()};I.f=function(){return xc(this.g.f())};I.getEntries=function(){for(var a=this.U(),b=[],c=0;c<a[D];c++)for(var d=a[c],g=this.get(d),k=0;k<g[D];k++)b[z]([d,g[k]]);return b};
function hg(a,b,c){Ee[r](this);this.Oa=a;this.Ca=b;this.L=c;this.Ve=null;this.Dd=we.De().Ce(this.Oa.$(),this.L)}L(hg,Ee);I=hg[t];I.Pb=function(){var a=new hg(this.Oa,this.Ca,this.L);a.lf(this.fa());return a};I.yb=function(a){return null!=a?(a[z](this.Oa),a[z](this.Ca),a):[this.Oa,this.Ca]};I.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new hg(this.Ca,this.Oa,a)};
I.eval=function(a){var b=a[C][Ga](function(a){var b=a.S(this.Oa);a=a.S(this.Ca);return this.Dd(b,a)},this);return new le(b,a.Y())};f(I,function(){return"join_pred("+this.Oa.l()+", "+this.Ca.l()+")"});I.Cf=function(a){return-1!=a.Y()[$a](this.Oa.M().pa())};I.Gh=function(a){return-1!=a.Y()[$a](this.Ca.M().pa())};I.Di=function(a,b){var c=null,d=null;this.Cf(a)?(this.Ef(a,b),c=a,d=b):(this.Ef(b,a),c=b,d=a);return[c,d]};
I.Ef=function(a,b){M(this.Cf(a),"Mismatch between join predicate left operand and right relation.");M(this.Gh(b),"Mismatch between join predicate right operand and right relation.")};I.Ki=function(a,b,c){var d=[a,b];c||(d=this.Di(a,b));a=d[0];d=d[1];return"eq"==this.L?this.Li(a,d,c):this.Mi(a,d,c)};I.vi=function(a){var b={};a.yb()[G](function(a){b[a[u]()]=null});return b};I.Pf=function(a,b){null===this.Ve&&(this.Ve=this.vi(this.Ca.M()));var c=new se(new gd(-1,this.Ve),!1);return ue(a,b,c,[this.Ca.M().pa()])};
I.Mi=function(a,b,c){for(var d=[],g=a.Y(),k=b.Y(),l=0;l<a[C][D];l++){for(var p=!1,y=0;y<b[C][D];y++)if(this.Dd(a[C][l].S(this.Oa),b[C][y].S(this.Ca))){var p=!0,wa=ue(a[C][l],g,b[C][y],k);d[z](wa)}c&&!p&&d[z](this.Pf(a[C][l],g))}a=a.Y()[Sa](b.Y());return new le(d,a)};
I.Li=function(a,b,c){var d=a,g=b,k=this.Oa,l=this.Ca;if(c||a[C][D]>b[C][D])d=b,g=a,k=this.Ca,l=this.Oa;var p=new gg,y=[];d[C][G](function(a){var b=ha(a.S(k));p.add(b,a)});var wa=d.Y(),qb=g.Y();g[C][G](function(a){var b=ha(a.S(l));p.B(b)?p.get(b)[G](function(b){b=ue(a,qb,b,wa);y[z](b)}):c&&y[z](this.Pf(a,qb))}[F](this));a=a.Y()[Sa](b.Y());return new le(y,a)};
function ig(a,b,c){return null===b?new Ge(a,b,c):Lb(b.l)?new hg(a,b,c):new Ge(a,b,c)};
var jg={};J("lf.schema.DataStoreType",jg,void 0);jg.INDEXED_DB=0;jg.MEMORY=1;jg.LOCAL_STORAGE=2;jg.FIREBASE=3;jg.WEB_SQL=4;jg.OBSERVABLE_STORE=5;function kg(a,b,c,d){this.of=a;ja(this,b);this.cd=c;this.h=d}kg[t].l=function(){return this.of+"."+this[q]};kg[t].ng=function(){return this.h[ab](function(a){return a.ga.wc()})};function lg(a,b,c,d){this.D=a;this.ua=c;this.H=b;this.Yd=d;this.lb=null}J("lf.schema.Table",lg,void 0);na(lg[t],H("D"));lg[t].bb=H("lb");lg[t].pa=function(){return this.lb||this.D};
lg[t].Gc=function(a){var b=new this.constructor(this.D);b.lb=a;b.Sk=this.Sk;return b};lg[t].as=lg[t].Gc;lg[t].createRow=lg[t].Hb;lg[t].deserializeRow=lg[t].qc;lg[t].Fa=H("ua");lg[t].yb=H("H");lg[t].getConstraint=lg[t].Ib;lg[t].ac=H("Yd");lg[t].Sb=function(){return this.D+".#"};
function T(a,b){xa(this,a);this.ic=b;this.lb=null}I=T[t];na(I,function(){return this.ic+"("+this[jb][u]()+")"});I.l=function(){return this.ic+"("+this[jb].l()+")"};I.M=function(){return this[jb].M()};f(I,function(){return this.l()});I.$=function(){return this[jb].$()};I.bb=H("lb");I.Fa=function(){return[]};I.wc=Jb(!1);I.Gc=function(a){this.lb=a;return this};T[t].as=T[t].Gc;T[t].ag=function(){for(var a=[this],b=this;b instanceof T;)a[z](b[jb]),b=b[jb];return a};
function mg(a){this.lb=a||null;this.O=new lg("#UnknownTable",[],[],!1)}I=mg[t];na(I,Jb("*"));I.l=function(){return this[u]()};f(I,function(){return this.l()});I.M=H("O");I.$=Jb(4);I.bb=H("lb");I.Fa=function(){return[]};I.wc=Jb(!1);
J("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);J("lf.fn.count",function(a){return new T(a||new mg,"COUNT")},void 0);function ng(a){return new T(a,"DISTINCT")}J("lf.fn.distinct",ng,void 0);J("lf.fn.max",function(a){return new T(a,"MAX")},void 0);J("lf.fn.min",function(a){return new T(a,"MIN")},void 0);J("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);J("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);J("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){Ce[r](this,"","");this.Ui=b;this.Lg=a}L(U,Ce);I=U[t];ma(I,function(a,b){switch(this.Ui){case 1:return this.Pi(a,b);case 0:return this.Oi(a,b);default:return this.Ri(a,b)}});f(I,Jb("dummy_node"));I.nd=function(){return this[E]()};I.Df=function(a){M(-1==this.Lg||a[D]==this.Lg)};I.Ri=function(a,b){return new N(K(function(c){c(this.ma(a,[],b))},this))};I.Pi=function(a,b){return this.xb(0)[Qa](a,b)[A](K(function(c){this.Df(c);return this.ma(a,c,b)},this))};
I.Oi=function(a,b){var c=this.ea().map(function(c){return c[Qa](a,b)});return $c(c)[A](K(function(c){var g=[];c[G](function(a){for(var b=0;b<a[D];++b)g[z](a[b])});this.Df(g);return this.ma(a,g,b)},this))};
function og(a){U[r](this,-1,1);this.Af=a}L(og,U);f(og[t],function(){return"aggregation("+this.Af.map(function(a){return a.l()})[E]()+")"});og[t].ma=function(a,b){b[G](function(a){(new pg(a,this.Af)).Th()},this);return b};function pg(a,b){this.Ja=a;this.H=b}
pg[t].Th=function(){this.H[G](function(a){a=a.ag()[fb]();for(var b=1;b<a[D];b++){var c=a[b],d=c.ag()[n](-1)[0],g=this.zj(c),k=null;switch(c.ic){case "MIN":k=qg(g,d);break;case "MAX":k=rg(g,d);break;case "DISTINCT":k=sg(g,d);break;case "COUNT":k=g[C][D];break;case "SUM":k=tg(g,d);break;case "AVG":0<g[C][D]&&(k=tg(g,d)/g[C][D]);break;case "GEOMEAN":k=ug(g,d);break;default:k=vg(g,d)}this.Ja.al(c,k)}},this)};pg[t].zj=function(a){return a[jb]instanceof T?this.Ja.uc(a[jb]):this.Ja};
function qg(a,b){var c=null;a[C][G](function(a){a=a.S(b);if(null===c||a<c)c=a});return c}function rg(a,b){var c=null;a[C][G](function(a){a=a.S(b);if(null===c||a>c)c=a});return c}function tg(a,b){return a[C][Ka](function(a,d){return a+d.S(b)},0)}function vg(a,b){var c=a[C].map(function(a){return a.S(b)});return td[xb](null,c)}function ug(a,b){var c=0,d=a[C][Ka](function(a,d){var l=d.S(b);return 0!=l?(c++,a+ba.log(l)):a},0);return 0==c?null:ba.pow(ba.E,d/c)}
function sg(a,b){var c=new O;a[C][G](function(a){var g=a.S(b);c.set(g,a)});return new le(c.f(),a.Y())};
function wg(a,b){this.Da=a;this.sa=b}wg[t].pb=H("Da");wg[t].ha=H("sa");function V(){Ce[r](this,"","")}L(V,Ce);function xg(a,b){V[r](this);ia(this,a);ua(this,b)}L(xg,V);function yg(a,b){xg[r](this,a,b)}L(yg,xg);function zg(a){V[r](this);ia(this,a)}L(zg,V);f(zg[t],function(){return"delete("+this[h][u]()+")"});function Ag(a,b){V[r](this);ia(this,a);this.tf=b}L(Ag,V);f(Ag[t],function(){var a=[];this.tf&&(a=this.tf.map(function(a){return a.K[u]()},this));return"update("+this[h][u]()+", ["+a[m](",")+"])"});
function Bg(a){V[r](this);this.Ba=a}L(Bg,V);f(Bg[t],function(){return"select("+this.Ba[E]()+")"});function Cg(a){V[r](this);ia(this,a)}L(Cg,V);f(Cg[t],function(){var a="table_access("+this[h][u]();null===this[h].bb()||(a+=" as "+this[h].bb());return a+")"});function Dg(){V[r](this)}L(Dg,V);f(Dg[t],Jb("cross_product"));function Eg(a,b){V[r](this);this.h=a;this.Tb=b}L(Eg,V);
f(Eg[t],function(){var a="project("+this.h[E]();if(null!==this.Tb)var b=this.Tb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Fg(a){V[r](this);this.N=a}L(Fg,V);f(Fg[t],function(){return"order_by("+Ke(this.N)+")"});function Gg(a){V[r](this);this.h=a}L(Gg,V);f(Gg[t],function(){return"aggregation("+this.h[E]()+")"});function Hg(a){V[r](this);this.h=a}L(Hg,V);f(Hg[t],function(){return"group_by("+this.h[E]()+")"});function Ig(a){V[r](this);this.ba=a}L(Ig,V);
f(Ig[t],function(){return"limit("+this.ba+")"});function Jg(a){V[r](this);this.V=a}L(Jg,V);f(Jg[t],function(){return"skip("+this.V+")"});function Kg(a,b){V[r](this);this.Ba=a;this.xg=b}L(Kg,V);f(Kg[t],function(){return(this.xg?"left_outer_join":"join")+"("+this.Ba[E]()+")"});
function Lg(){};
function Mg(){}L(Mg,Lg);Mg[t].Kb=function(a){this.ka=a;this.ab(this.ka);return this.ka};Mg[t].ab=function(a){if(a instanceof Bg){M(1==a.xa(),"SelectNode must have exactly one child.");var b=this.Ff(a.Ba),b=this.xi(b);Yf(a,a,b[0],b[1]);a==this.ka&&(this.ka=b[0]);a=b[0]}a.ea()[G](function(a){this.ab(a)},this)};Mg[t].Ff=function(a){if(0==a.xa()||"and"!=a.Yb)return[a];var b=a.ea()[n]().map(function(b){a[ib](b);return this.Ff(b)},this);return xc(b)};
Mg[t].xi=function(a){var b=null,c=null;a.map(function(a,g){var k=new Bg(a);0==g?b=k:c.la(k);c=k},this);return[b,c]};
function Ng(){}L(Ng,Lg);Ng[t].Kb=function(a){this.ka=a;this.ab(this.ka);return this.ka};Ng[t].ab=function(a){if(a instanceof Dg)for(;2<a.xa();){for(var b=new Dg,c=0;2>c;c++){var d=a.ce(0);b.la(d)}a.Ec(b,0)}a.ea()[G](function(a){this.ab(a)},this)};
function Og(){U[r](this,2,0)}L(Og,U);f(Og[t],Jb("cross_product"));Og[t].ma=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.Y(),l=d.Y(),p=0;p<c[C][D];p++)for(var y=0;y<d[C][D];y++){var wa=ue(c[C][p],k,d[C][y],l);g[z](wa)}c=c.Y()[Sa](d.Y());return[new le(g,c)]};

function Pg(a,b){Ne[r](this,a,b);this.Za=a.o(Kd);this.Jb=a.o(Ld)}L(Pg,Ne);Ea(Pg[t],Jb(2));Pg[t].Ye=function(a){0==this.$()?this.zk(a):this.kd()};Pg[t].zk=function(a){this.ae[G](function(b,c){b instanceof Je&&this.Jb.th(b,a[c])},this)};Pg[t].kd=function(){var a=this.Jb.Je(this.ha().f());0!=a[D]&&(a=new Oe(this[Wa],a),this.Za.dc(a))};
function Qg(a){He[r](this,a)}L(Qg,He);Qg[t].ha=function(){var a=new P([this.c]);a[hb](this.ga[yb]().$f(this.c[u]()));return a};la(Qg[t],function(){var a=new Qg(this.ga);a.yd(this);a.c=this.c;return a});Ba(Qg[t],function(a){Qg.Nb[F][r](this,a);this.oe(a);return this});
function Rg(a){He[r](this,a)}L(Rg,He);Rg[t].ha=function(){var a=new P([this.Ha]),b=this.ga[yb]();a[hb](b.Fj(this.Ha[u]()));this.jc&&a[hb](b.$f(this.Ha[u]()));return a};la(Rg[t],function(){var a=new Rg(this.ga);a.yd(this);a.Ha=this.Ha;this[db]&&ua(a,this[db]instanceof ve?this[db]:this[db][n]());a.jc=this.jc;a.kc=this.kc;return a});Ba(Rg[t],function(a){Rg.Nb[F][r](this,a);this.kc&&ua(this,this.kc instanceof ve?a[this.kc.zb()]:this.kc.map(function(b){return b instanceof ve?a[b.zb()]:b}));return this});
function Sg(a){He[r](this,a)}L(Sg,He);Sg[t].ha=function(){var a=new P([this[h]]),b=this.set.map(function(a){return a.K.l()}),c=this.ga[yb]();a[hb](c.Gj(b));a[hb](c.vj(b));return a};la(Sg[t],function(){var a=new Sg(this.ga);a.yd(this);ia(a,this[h]);a.set=this.set?this.set[n]():this.set;return a});Ba(Sg[t],function(a){Sg.Nb[F][r](this,a);this.set[G](function(b){-1!=b.td&&pa(b,a[b.td])});this.oe(a);return this});
function Tg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+kd(b)+"'";default:return"'"+b[E]()+"'"}}function Ug(a,b){var c=a.jc?"INSERT OR REPLACE":"INSERT",d=a.Ha.yb(),c=c+(" INTO "+a.Ha[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[db].map(function(a){var k=d.map(function(c){var d=a.w()[c[u]()];return b?null!=d?"#":"NULL":Tg(c.$(),d)});return c+k[m](", ")+");"})[m]("\n")}
function Vg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Wg(a,b,c,d){return a instanceof ve?"?"+a.zb()[E]():d?null!=a?"#":"NULL":"match"==b?"'"+a[E]()+"'":"in"==b?"("+a.map(function(a){return Tg(c,a)})[m](", ")+")":"between"==b?Tg(c,a[0])+" AND "+Tg(c,a[1]):Tg(c,a)[E]()}
function Xg(a,b){return a.ea().map(function(a){return"("+Yg(a,b)+")"})[m]("and"==a.Yb?" AND ":" OR ")}function Yg(a,b){if(a instanceof Ge)return[a.K.l(),Vg(a.L),Wg(a[v],a.L,a.K.$(),b)][m](" ");if(a instanceof $f)return Xg(a,b);if(a instanceof hg)return[a.Oa.l(),Vg(a.L),a.Ca.l()][m](" ");throw new Q(357,typeof a);}function Zg(a,b){var c=Yg(a,b);return c?" WHERE "+c:""}
function $g(a,b){var c="UPDATE "+a[h][u]()+" SET ",c=c+a.set.map(function(a){var b=a.K.l()+" = ";return-1!=a.td?b+"?"+a.td[E]():b+Tg(a.K.$(),a[v])[E]()})[m](", ");a.F&&(c+=Zg(a.F,b));return c+";"}
function ah(a,b){var c="*";a.h[D]&&(c=a.h.map(function(a){return a.bb()?a.l()+" AS "+a.bb():a.l()})[m](", "));var d=a.c.map(function(a){return a.pa()!=a[u]()?a[u]()+" AS "+a.pa():a[u]()})[m](", "),c="SELECT "+c+" FROM "+d;a.F&&(c+=Zg(a.F,b));a.N&&(d=a.N.map(function(a){return a.K.l()+(0==a.rb?" DESC":" ASC")})[m](", "),c+=" ORDER BY "+d);a.na&&(d=a.na.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.ba&&(c+=" LIMIT "+a.ba[E]());a.V&&(c+=" SKIP "+a.V[E]());return c+";"}
function bh(a,b){var c=b||!1,d=a.hg();if(d instanceof Rg)return Ug(d,c);if(d instanceof Qg){var g="DELETE FROM "+d.c[u]();d.F&&(g+=Zg(d.F,c));return g+";"}if(d instanceof Sg)return $g(d,c);if(d instanceof Je)return ah(d,c);throw new Q(358,typeof d);};
function ch(a,b){this.global=a;this.Nk=a.o(Jd);this.Za=a.o(Kd);this.a=b}J("lf.query.BaseBuilder",ch,void 0);ma(ch[t],function(){try{this.mb()}catch(a){return Xc(a)}return new N(function(a,c){var d=new Pg(this[Wa],[this.$c()]);this.Za.dc(d)[A](function(c){a(c[0].Ee())},c)},this)});ma(ch[t],ch[t][Qa]);ch[t].Xf=function(){var a=K(function(a){return a.nd(this.a)+"\n"},this);return Zf(this.Fe().pb(),a)};ch[t].explain=ch[t].Xf;Ba(ch[t],function(a){this.a[F](a);return this});Ba(ch[t],ch[t][F]);
ch[t].nl=function(a){return bh(this,a)};ch[t].toSql=ch[t].nl;I=ch[t];I.mb=Hb();I.hg=function(){return this.a.clone()};I.Kd=H("a");I.Fe=function(){null==this.Rg&&(this.Rg=this.Nk.Hj(this.a));return this.Rg};I.$c=function(){return{context:this.hg(),af:this.Fe()}};I.Dj=function(){return{context:this.Kd(),af:this.Fe()}};
function dh(a){ch[r](this,a,new Qg(a.o(Md)))}L(dh,ch);J("lf.query.DeleteBuilder",dh,void 0);dh[t].c=function(a){this.Kh();this.a.c=a;return this};dh[t].from=dh[t].c;dh[t].F=function(a){this.me();this.a.F=a;return this};dh[t].where=dh[t].F;dh[t].Kh=function(){if(null!=this.a.c)throw new Q(515);};dh[t].me=function(){if(null!=this.a.F)throw new Q(516);};dh[t].mb=function(){dh.Nb.mb[r](this);if(null==this.a.c)throw new Q(517);};
function eh(a,b){ch[r](this,a,new Rg(a.o(Md)));this.a.jc=b||!1}L(eh,ch);J("lf.query.InsertBuilder",eh,void 0);eh[t].mb=function(){eh.Nb.mb[r](this);var a=this.a;if(null==a.Ha||null==a[db])throw new Q(518);if(a.jc&&null===a.Ha.Ib().Ge())throw new Q(519);};eh[t].Ha=function(a){this.Lh();this.a.Ha=a;return this};eh[t].into=eh[t].Ha;ua(eh[t],function(a){this.Mh();a instanceof ve||a[ab](function(a){return a instanceof ve})?this.a.kc=a:ua(this.a,a);return this});ua(eh[t],eh[t][db]);
eh[t].Lh=function(){if(null!=this.a.Ha)throw new Q(520);};eh[t].Mh=function(){if(null!=this.a[db])throw new Q(521);};
function fh(a){return gh("and",e[t][n][r](arguments))}J("lf.op.and",fh,void 0);J("lf.op.or",function(a){return gh("or",e[t][n][r](arguments))},void 0);function gh(a,b){var c=new $f(a);b[G](function(a){c.la(a)});return c}J("lf.op.not",function(a){a.fe(!0);return a},void 0);
function W(a,b){ch[r](this,a,new Je(a.o(Md)));this.Zf=this.wh=!1;this.a.h=b;this.ai();this.Zh()}L(W,ch);J("lf.query.SelectBuilder",W,void 0);I=W[t];I.mb=function(){W.Nb.mb[r](this);var a=this.a;if(null==a.c)throw new Q(522);if(Lb(a.Wb)&&!Lb(a.ba)||Lb(a.gc)&&!Lb(a.V))throw new Q(523);this.ii()};I.ai=function(){var a=this.a.h[Ga](function(a){return a instanceof T&&"DISTINCT"==a.ic},this);if(0!=a[D]&&(1!=a[D]||1!=this.a.h[D]))throw new Q(524);};I.ii=function(){null!=this.a.na?this.ei():this.hi()};
I.ei=function(){var a=this.a.h[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.na[D]||0==this.a.h[D])b=!0;else{var c=this.a.na.map(function(a){return a.l()});(b=a[ab](function(a){return-1==c[$a](a)}))||(b=this.a.na[ab](function(a){a=a.$();return 6==a||0==a}))}if(b)throw new Q(525);};
I.hi=function(){var a=this.a.h[ab](function(a){return a instanceof T},this),b=this.a.h[ab](function(a){return!(a instanceof T)},this)||0==this.a.h[D];if(a&&b)throw new Q(526);};I.Zh=function(){this.a.h[G](function(a){if(a instanceof T&&!hh(a.ic,a.$()))throw new Q(527,a.l());},this)};I.c=function(a){if(this.Zf)throw new Q(515);this.Zf=!0;null==this.a.c&&(this.a.c=[]);this.a.c[z][xb](this.a.c,e[t][n][r](arguments));return this};W[t].from=W[t].c;
W[t].F=function(a){if(this.wh)throw new Q(516);this.wh=!0;this.ne(a);return this};W[t].where=W[t].F;W[t].ne=function(a){null!=this.a.F&&(a=fh(a,this.a.F));this.a.F=a};W[t].gk=function(a,b){if(null==this.a.c)throw new Q(542);this.a.c[z](a);this.ne(b);return this};W[t].innerJoin=W[t].gk;
W[t].nk=function(a,b){if(!(b instanceof hg))throw new Q(541);if(null==this.a.c)throw new Q(542);this.a.c[z](a);null==this.a.yc&&(this.a.yc=new P);var c=b;a.pa()!=b.Ca.M().pa()&&(c=b[fb]());this.a.yc.add(c.fa());this.ne(c);return this};W[t].leftOuterJoin=W[t].nk;W[t].ba=function(a){if(null!=(this.a.ba||this.a.Wb))throw new Q(528);if(a instanceof ve)this.a.Wb=a;else{if(0>a)throw new Q(531);this.a.ba=a}return this};W[t].limit=W[t].ba;
W[t].V=function(a){if(null!=(this.a.V||this.a.gc))throw new Q(529);if(a instanceof ve)this.a.gc=a;else{if(0>a)throw new Q(531);this.a.V=a}return this};W[t].skip=W[t].V;W[t].N=function(a,b){null==this.a.N&&(this.a.N=[]);this.a.N[z]({K:a,rb:null!=b?b:1});return this};W[t].orderBy=W[t].N;W[t].na=function(a){if(null!=this.a.na)throw new Q(530);null==this.a.na&&(this.a.na=[]);this.a.na[z][xb](this.a.na,e[t][n][r](arguments));return this};W[t].groupBy=W[t].na;
function hh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(W[t],function(){var a=new W(this[Wa],this.a.h);a.a=this.a.clone();a.a.Jc=null;return a});la(W[t],W[t].clone);
function ih(a,b){ch[r](this,a,new Sg(a.o(Md)));ia(this.a,b)}L(ih,ch);J("lf.query.UpdateBuilder",ih,void 0);ih[t].set=function(a,b){var c={td:b instanceof ve?b.zb():-1,K:a,value:b};null!=this.a.set?this.a.set[z](c):this.a.set=[c];return this};ih[t].set=ih[t].set;ih[t].F=function(a){this.me();this.a.F=a;return this};ih[t].where=ih[t].F;ih[t].me=function(){if(null!=this.a.F)throw new Q(516);};
ih[t].mb=function(){ih.Nb.mb[r](this);if(null==this.a.set)throw new Q(532);if(this.a.set[ab](function(a){return a[v]instanceof ve}))throw new Q(501);};
function jh(a){this.a=a;this.Da=null}jh[t].tc=function(){null===this.Da&&(this.Da=this.Fd());return this.Da};function kh(a){jh[r](this,a)}L(kh,jh);kh[t].Fd=function(){return this.a.jc?new yg(this.a.Ha,this.a[db]):new xg(this.a.Ha,this.a[db])};function lh(a){jh[r](this,a)}L(lh,jh);lh[t].Fd=function(){var a=new Ag(this.a[h],this.a.set),b=null!=this.a.F?new Bg(this.a.F.Pb()):null,c=new Cg(this.a[h]);null===b?a.la(c):(b.la(c),a.la(b));return a};
function mh(a,b,c){this.Da=a;this.cf=b;this.hf=c}mh[t].tc=function(){this.hf[G](function(a){this.Da=a.Kb(this.Da,this.cf)},this);return this.Da};
function nh(a){jh[r](this,a)}L(nh,jh);nh[t].Fd=function(){var a=new zg(this.a.c),b=null!=this.a.F?new Bg(this.a.F.Pb()):null,c=new Cg(this.a.c);null===b?a.la(c):(b.la(c),a.la(b));return(new mh(a,this.a,[new Mg])).tc()};
function oh(){}L(oh,Lg);oh[t].Kb=function(a,b){this.ka=a;this.ab(this.ka,b);return this.ka};oh[t].ab=function(a,b){if(a instanceof Bg&&a.Ba instanceof hg){M(1==a.xa(),"SelectNode must have exactly one child.");var c=a.Ba.fa(),d=a.xb(0);d instanceof Dg&&(c=Lb(b)&&null!=b.yc&&b.yc[tb](c),c=new Kg(a.Ba,c),Yf(a,d,c,c),a==this.ka&&(this.ka=c),a=c)}a.ea()[G](function(a){this.ab(a,b)},this)};
function ph(){this.ke=new P}L(ph,Lg);I=ph[t];I.Kb=function(a){this.ka=a;this.ab(this.ka);this.ke[w]();return this.ka};I.ab=function(a){if(this.sg(a)){var b=a.Ba instanceof Ge?this.Mk(a):this.Lk(a);this.ke.add(a);b==a&&(b=a.xb(0));null!==b&&(Pb(b[Ab]())&&(this.ka=b),this.sg(b)&&!this.ke[tb](b)&&this.ab(b))}else a.ea()[G](function(a){this.ab(a)},this)};
I.$d=function(a,b){var c=a;if(this.el(a))c=Wf(a),this.$d(a,b);else if(this.dl(a)){var d=[],c=Xf(a,b,function(a){a=new Bg(a.Ba);d[z](a);return a});d[G](function(a){this.$d(a,b)},this)}return c};I.Mk=function(a){var b=new P([a.Ba.K.M().pa()]),c=function(a){return this.Uf(a,b)}[F](this);return this.$d(a,c)};I.Lk=function(a){var b=new P([a.Ba.Oa.M().pa(),a.Ba.Ca.M().pa()]),c=function(a){return this.Uf(a,b)}[F](this);return this.$d(a,c)};
I.Uf=function(a,b){var c=new P;Sf(a)[G](function(a){c.add(a[h].pa())},this);a instanceof Cg&&c.add(a[h].pa());return c.ti(b)};I.sg=function(a){return a instanceof Bg&&!(a.Ba instanceof $f)};I.dl=function(a){a=a.xb(0);return a instanceof Dg||a instanceof Kg};I.el=function(a){return a.xb(0)instanceof Bg};
function qh(a){jh[r](this,a);this.Wg=this.Gg=this.jh=this.Mg=this.Bf=this.mg=this.fh=this.Rf=this.lh=null}L(qh,jh);I=qh[t];I.Fd=function(){this.mj();var a=this.pi(),b=[new Mg,new Ng,new ph,new oh];return(new mh(a,this.a,b)).tc()};I.mj=function(){this.sj();this.hj();this.qj();this.nj();this.rj();this.lj();this.jj();this.gj();this.oj()};
I.pi=function(){for(var a=[this.Gg,this.jh,this.Wg,this.Mg,this.Bf,this.mg,this.fh,this.Rf],b=null,c=null,d=0;d<a[D];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].la(g),b=d)}this.lh[G](function(c){a[b].la(c)});return c};I.sj=function(){this.lh=this.a.c.map(function(a){return new Cg(a)},this)};I.hj=function(){2<=this.a.c[D]&&(this.Rf=new Dg)};I.qj=function(){this.fh=null!=this.a.F?new Bg(this.a.F.Pb()):null};I.nj=function(){this.a.N&&(this.Mg=new Fg(this.a.N))};
I.lj=function(){null!=this.a.ba&&(this.Gg=new Ig(this.a.ba))};I.rj=function(){null!=this.a.V&&0<this.a.V&&(this.jh=new Jg(this.a.V))};I.jj=function(){null!=this.a.na&&(this.mg=new Hg(this.a.na))};I.gj=function(){var a=this.a.h[Ga](function(a){return a instanceof T});null!=this.a.N&&this.a.N[G](function(b){b.K instanceof T&&a[z](b.K)});0<a[D]&&(this.Bf=new Gg(a))};I.oj=function(){this.Wg=new Eg(this.a.h||[],this.a.na||null)};
function rh(){}rh[t].create=function(a){var b=null;if(a instanceof Rg)b=new kh(a);else if(a instanceof Qg)b=new nh(a);else if(a instanceof Je)b=new qh(a);else if(a instanceof Sg)b=new lh(a);else throw new Q(513);b=b.tc();return new wg(b,a.ha())};
function sh(a){U[r](this,1,1);this.O=a}L(sh,U);f(sh[t],function(){return"delete("+this.O[u]()+")"});sh[t].ma=function(a,b){var c=b[0][C].map(function(a){return a.wa});a[x](this.O,c);return[oe()]};
function th(a){U[r](this,1,1);this.lg=a}L(th,U);f(th[t],function(){return"groupBy("+this.lg.map(function(a){return a.l()})[E]()+")"});th[t].ma=function(a,b){return this.Vh(b[0])};th[t].Vh=function(a){var b=new gg,c=function(a){return this.lg.map(function(b){return a.S(b)},this)[m](",")}[F](this);a[C][G](function(a){b.add(c(a),a)},this);return b.U().map(function(c){return new le(b.get(c),a.Y())},this)};
function uh(a){M(1<a[D],"Should only be called for cross-column indices.");a=a.map(function(a){return a.f()});a=yd[xb](null,a);var b=[];xd(a,function(a){b[z](a)});return b}function vh(a){this.Ub=a}vh[t].Id=function(){return 1==this.Ub.h[D]?[je()]:[this.Ub.h.map(function(){return je()})]};function wh(a,b){this.Ub=a;this.va=b;this.ve=this.Eg=null}
wh[t].Wh=function(a){var b=new O;this.va.U()[G](function(c){var d=this.va.get(c).map(function(b){return a.Ld(b)},this),g=new Pf([je()]);d[G](function(a){a=new Pf(a.ml());g=Qf(g,a)});b.set(c,g)},this);return b};wh[t].Zi=function(a){for(var b=this.Ub.h[D]-1;0<=b;b--){var c=this.Ub.h[b];if(null!==a.get(c.ga[u](),null))break;a.set(c.ga[u](),new Pf([je()]))}};wh[t].Id=function(a){if(this.Eg==a)return this.ve;var b=this.Wh(a);this.Zi(b);this.ve=1==this.Ub.h[D]?b.f()[0].f():uh(this.Oj(b));this.Eg=a;return this.ve};
wh[t].Oj=function(a){var b=new O,c=0;this.Ub.h[G](function(a){b.set(a.ga[u](),c);c++});return a.U()[Za](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function xh(a,b){this.nh=b;this.J=a.o(Id)}xh[t].li=function(a,b){var c=b[Ga](this.hk,this);if(0==c[D])return null;c=this.kj(c);if(0==c[D])return null;if(1==c[D])return c[0];var d=Number.MAX_VALUE;return c[Ka](function(b,c){var l=c.Uh(a);return l<d?(d=l,c):b},null)};xh[t].kj=function(a){return this.nh.Fa().map(function(b){b=new yh(this.J,b);b.si(a);return b},this)[Ga](function(a){return a.mk()})};xh[t].hk=function(a){return a instanceof Ge&&a.tg()?a.K.M()==this.nh:!1};
function yh(a,b){this.J=a;this.Bb=b;this.og=new P;this.og[hb](this.Bb.h.map(function(a){return a.ga[u]()}));this.Se=this.va=null}I=yh[t];I.Ij=function(){return null===this.va?[]:this.va.f()};I.fg=function(){M(this.va);null===this.Se&&(this.Se=new wh(this.Bb,this.va));return this.Se};I.si=function(a){a[G](function(a){var c=a.yb()[0][u]();this.og[tb](c)&&(null===this.va&&(this.va=new gg),this.va.add(c,a.fa()))},this)};
I.mk=function(){if(null===this.va)return!1;for(var a=!1,b=!0,c=0;c<this.Bb.h[D];c++){var d=this.va.B(this.Bb.h[c].ga[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};I.Uh=function(a){a=this.fg().Id(a);var b=this.J.get(this.Bb.l());return a[Ka](function(a,d){return a+b.Bd(d)},0)};
function zh(a,b,c,d){U[r](this,0,-1);this.J=a.o(Id);this.index=b;this.Cg=c;this.gf=d;this.rd=this.qd=!1}L(zh,U);f(zh[t],function(){return"index_range_scan("+this[mb].l()+", ?, "+(this.gf?"reverse":"natural")+(this.qd?", limit:?":"")+(this.rd?", skip:?":"")+")"});zh[t].nd=function(a){var b=this[E](),c=this.Cg.Id(a),b=b[eb]("?",c[E]());this.qd&&(b=b[eb]("?",a.ba[E]()));this.rd&&(b=b[eb]("?",a.V[E]()));return b};
zh[t].ma=function(a,b,c){a=this.Cg.Id(c);b=this.J.get(this[mb].l());c=(1==a[D]&&a[0]instanceof he&&a[0].wg()?of(b.get(a[0].c),!1,this.qd?c.ba:void 0,this.rd?c.V:void 0):b.ob(a,this.gf,this.qd?c.ba:void 0,this.rd?c.V:void 0)).map(function(a){return new gd(a,{})},this);return[re(c,[this[mb].of])]};
function Ah(a){U[r](this,1,1);this.Zd=a}L(Ah,U);f(Ah[t],Jb("select(?)"));Ah[t].nd=function(a){a=a.Ld(this.Zd);return this[E]()[eb]("?",a[E]())};Ah[t].ma=function(a,b,c){return[c.Ld(this.Zd).eval(b[0])]};
function Bh(a,b){U[r](this,1,1);this.ta=a.o(Hd);this.O=b}L(Bh,U);f(Bh[t],function(){return"table_access_by_row_id("+this.O[u]()+")"});Bh[t].ma=function(a,b){return[re(this.ta.get(b[0].Nj()),[this.O.pa()])]};
function Ch(a,b){U[r](this,0,-1);this.ta=a.o(Hd);this.J=a.o(Id);ia(this,b)}L(Ch,U);f(Ch[t],function(){var a="table_access("+this[h][u]();null===this[h].bb()||(a+=" as "+this[h].bb());return a+")"});Ch[t].ma=function(){var a=this.J.get(this[h].Sb()).ob();return[re(this.ta.get(a),[this[h].pa()])]};
function Dh(a){this.m=a}L(Dh,Lg);Dh[t].Kb=function(a,b){this.ka=a;Tf(a,function(a){return a instanceof Ch})[G](function(a){var d=this.ej(a);if(0!=d[D]){var g=(new xh(this.m,a[h])).li(b,d.map(function(a){return b.Ld(a.Zd)}));if(null!==g){var k=new O;d[G](function(a){k.set(a.Zd,a)},this);this.ka=this.Xk(g,k,a,b)}}},this);return this.ka};Dh[t].ej=function(a){var b=[];for(a=a[Ab]();a;)a instanceof Ah&&b[z](a),a=a[Ab]();return b};
Dh[t].Xk=function(a,b,c){a.Ij().map(function(a){return b.get(a)})[G](Uf);a=new zh(this.m,a.Bb,a.fg(),!1);var d=new Bh(this.m,c[h]);d.la(a);Yf(c,c,d,a);return a.pb()};
function Eh(a,b){U[r](this,0,-1);this.J=a.o(Id);this.O=b}L(Eh,U);f(Eh[t],function(){return"insert("+this.O[u]()+")"});Eh[t].ma=function(a,b,c){Fh(this.O,c[db],this.J);a.Cb(this.O,c[db]);return[re(c[db],[this.O[u]()])]};function Fh(a,b,c){a=a.Ib().Ge();if(null===a?0:a.h[0][ob]){var d=a.h[0].ga[u](),g=c.get(a.l()).max()[0]||0;b[G](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function Gh(a,b){U[r](this,0,-1);this.J=a.o(Id);this.O=b}L(Gh,U);
f(Gh[t],function(){return"insert_replace("+this.O[u]()+")"});Gh[t].ma=function(a,b,c){Fh(this.O,c[db],this.J);a.Me(this.O,c[db]);return[re(c[db],[this.O[u]()])]};
function Hh(a,b){U[r](this,2,0);this.Vg=a;this.yg=b}L(Hh,U);f(Hh[t],function(){return(this.yg?"left_outer_join":"join")+"("+this.Vg[E]()+")"});Hh[t].ma=function(a,b){return[this.Vg.Ki(b[0],b[1],this.yg)]};
function Ih(){U[r](this,1,1)}L(Ih,U);f(Ih[t],Jb("limit(?)"));Ih[t].nd=function(a){return this[E]()[eb]("?",a.ba[E]())};Ih[t].ma=function(a,b,c){b[0][C][B](c.ba);return b};
function Jh(a){U[r](this,-1,1);this.N=a}L(Jh,U);I=Jh[t];f(I,function(){return"order_by("+Ke(this.N)+")"});I.ma=function(a,b){if(1==b[D]){var c=this.aj(b[0]);(null===c?b[0]:b[0].uc(c))[C][Za](this.Hi[F](this))}else b[Za](this.Tk[F](this));return b};I.aj=function(a){for(var b=null,c=0;c<this.N[D];c++){var d=ng(this.N[c].K);if(a.Zj(d)){b=d;break}}return b};
I.X=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.N[k].K,c=this.N[k].rb,d=a(g),g=b(g);while(d==g&&k+1<this.N[D]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};I.Tk=function(a,b){return this.X(function(b){return b instanceof T?a.uc(b):a[C][a[C][D]-1].S(b)},function(a){return a instanceof T?b.uc(a):b[C][b[C][D]-1].S(a)})};I.Hi=function(a,b){return this.X(function(b){return a.S(b)},function(a){return b.S(a)})};
function Kh(a,b){this.Ja=a;this.H=b}Kh[t].kg=function(){return this.H[ab](function(a){return a instanceof T},this)?this.Xj():this.Yj()};
Kh[t].Xj=function(){if(1==this.H[D]&&"DISTINCT"==this.H[0].ic){var a=this.Ja.uc(this.H[0])[C].map(function(a){var b=new se(new gd(-1,{}),this.Ja.Pe());b.kf(this.H[0],a.S(this.H[0][jb]));return b},this);return new le(a,[])}var b=new se(new gd(-1,{}),this.Ja.Pe());this.H[G](function(a){var d=a instanceof T?this.Ja.uc(a):this.Ja[C][0].S(a);b.kf(a,d)},this);return new le([b],this.Ja.Y())};
Kh[t].Yj=function(){var a=e(this.Ja[C][D]),b=this.Ja.Pe();this.Ja[C][G](function(c,d){a[d]=new se(new gd(c.wa.id(),{}),b);this.H[G](function(b){a[d].kf(b,c.S(b))},this)},this);return new le(a,this.Ja.Y())};function Lh(a,b){var c=a.map(function(a){return(new Kh(a,b)).kg()[C][0]});return new le(c,a[0].Y())};
function Mh(a,b){U[r](this,-1,1);this.h=a;this.Tb=b}L(Mh,U);I=Mh[t];f(I,function(){var a="project("+this.h[E]();if(null!==this.Tb)var b=this.Tb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});I.ma=function(a,b){return 0==b[D]?[oe()]:1==b[D]?[this.Si(b[0])]:[this.Qi(b)]};I.$j=function(){return this.h[ab](function(a){return a instanceof T})||null!==this.Tb};I.Qi=function(a){return Lh(a,this.h)};I.Si=function(a){return 0==this.h[D]?a:(new Kh(a,this.h)).kg()};
function Nh(){U[r](this,1,1)}L(Nh,U);f(Nh[t],Jb("skip(?)"));Nh[t].nd=function(a){return this[E]()[eb]("?",a.V[E]())};Nh[t].ma=function(a,b,c){return[new le(b[0][C][n](c.V),b[0].Y())]};
function Oh(){}L(Oh,Lg);Oh[t].Kb=function(a){var b=Tf(a,function(a){return a instanceof Ih||a instanceof Nh});if(0==b[D])return a;var c=this.dj(a);if(null===c)return a;b[G](function(a){this.wk(a,c)},this);return c.pb()};Oh[t].wk=function(a,b){a instanceof Ih?b.qd=!0:b.rd=!0;return Uf(a).parent};Oh[t].dj=function(a){a=Tf(a,function(a){return a instanceof zh},function(a){return a instanceof Mh&&a.$j()||a instanceof Jh||1!=a.xa()||a instanceof Ah});return 0<a[D]?a[0]:null};
function Ph(a){this.m=a}L(Ph,Lg);Ph[t].Kb=function(a){var b=Qh(a);if(null===b)return a;a=this.Jh(b);a==b&&(a=this.Ih(b));return a.pb()};Ph[t].Jh=function(a){var b=a,c=Rh(a.xb(0));if(null!==c){var d;d=a.N;for(var g=null,k=c[h].Fa(),l=0;l<k[D]&&null===g;l++)g=Sh(k[l],d);d=g;if(null===d)return b;b=new zh(this.m,d.Bb,new vh(d.Bb),d.zg);d=new Bh(this.m,c[h]);d.la(b);Uf(a);b=Yf(c,c,d,b)}return b};
Ph[t].Ih=function(a){var b=a,c=Th(a.xb(0));if(null!==c){var d=Sh(c[mb],a.N);if(null===d)return b;c.gf=d.zg;b=Uf(a).parent}return b};function Th(a){a=Tf(a,function(a){return a instanceof zh},function(a){return 1!=a.xa()});return 0<a[D]?a[0]:null}function Rh(a){a=Tf(a,function(a){return a instanceof Ch},function(a){return 1!=a.xa()});return 0<a[D]?a[0]:null}function Qh(a){a=Tf(a,function(a){return a instanceof Jh});return 0<a[D]?a[0]:null}
function Sh(a,b){if(a.h[D]!=b[D]||!b[Ua](function(b,c){return b.K[u]()==a.h[c].ga[u]()}))return null;var c=Uh(b,a);return c[0]||c[1]?{Bb:a,zg:c[1]}:null}function Uh(a,b){var c=a[Ka](function(a,b){return a<<1|(0==b.rb?0:1)},0),d=b.h[Ka](function(a,b){return a<<1|(0==b.rb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[D],b.h[D]))-1;return[c,d]};
function Vh(a,b,c){this.Da=a;this.cf=b;this.hf=c}Vh[t].tc=function(){this.hf[G](function(a){this.Da=a.Kb(this.Da,this.cf)},this);return this.Da};
function Wh(a,b){U[r](this,1,1);this.O=a;this.vl=b}L(Wh,U);f(Wh[t],function(){return"update("+this.O[u]()+")"});Wh[t].ma=function(a,b){var c=b[0][C].map(function(a){var b=this.O.qc(a.wa.Ka());this.vl[G](function(a){b.w()[a.K[u]()]=a[v]},this);return b},this);a[Va](this.O,c);return[oe()]};
function Xh(a){this.m=a}Xh[t].create=function(a,b){var c=a.pb();if(c instanceof yg||c instanceof xg)return this.ye(a,b);if(c instanceof Eg||c instanceof Ig||c instanceof Jg)return this.ye(a,b,[new Dh(this.m),new Ph(this.m),new Oh]);if(c instanceof zg||c instanceof Ag)return this.ye(a,b,[new Dh(this.m)]);throw new Q(8);};Xh[t].ye=function(a,b,c){var d=Rf(a.pb(),K(this.sk,this));null!=c&&(d=(new Vh(d,b,c)).tc());return new Le(d,a.ha())};
Xh[t].sk=function(a){if(a instanceof Eg)return new Mh(a.h,a.Tb);if(a instanceof Hg)return new th(a.h);if(a instanceof Gg)return new og(a.h);if(a instanceof Fg)return new Jh(a.N);if(a instanceof Jg)return new Nh;if(a instanceof Ig)return new Ih;if(a instanceof Bg)return new Ah(a.Ba.fa());if(a instanceof Dg)return new Og;if(a instanceof Kg)return new Hh(a.Ba,a.xg);if(a instanceof Cg)return new Ch(this.m,a[h]);if(a instanceof zg)return new sh(a[h]);if(a instanceof Ag)return new Wh(a[h],a.tf);if(a instanceof
yg)return new Gh(this.m,a[h]);if(a instanceof xg)return new Eh(this.m,a[h]);throw new Q(514);};

function Yh(a){this.qk=new rh;this.Hk=new Xh(a)}Yh[t].Hj=function(a){var b=this.qk[kb](a);return this.Hk[kb](b,a)};
function Zh(){this.Ig=new O}I=Zh[t];I.Hd=function(a){var b=this.Ig.get(a[u](),null);null===b&&(b=new $h,this.Ig.set(a[u](),b));return b};I.Uj=function(a,b,c){b[G](function(b){this.Hd(b).Tj(a,c)},this)};I.Yh=function(a,b,c){return b[Ua](function(b){return this.Hd(b).Xh(a,c)},this)};I.Zg=function(a,b,c){var d=this.Yh(a,b,c);d&&this.Uj(a,b,c);return d};I.releaseLock=function(a,b){b[G](function(b){this.Hd(b).releaseLock(a)},this)};I.mi=function(a){a[G](function(a){this.Hd(a).hb=null},this)};
function $h(){this.fc=this.Xa=this.hb=this.Qc=null}$h[t].releaseLock=function(a){this.Qc==a&&(this.Qc=null);this.hb==a&&(this.hb=null);null===this.Xa||this.Xa[x](a);null===this.fc||this.fc[x](a)};$h[t].Xh=function(a,b){var c=null===this.Xa||this.Xa.Na();return 0==b?(null===this.fc||this.fc.Na())&&c&&null===this.Qc&&null!==this.hb&&this.hb==a:3==b?null===this.Qc&&null===this.hb&&null!==this.Xa&&this.Xa[tb](a):1==b?null===this.hb:c&&(null===this.hb||this.hb==a)};
$h[t].Tj=function(a,b){0==b?(this.hb=null,this.Qc=a):3==b?(null===this.fc&&(this.fc=new P),this.fc.add(a),null===this.Xa&&(this.Xa=new P),this.Xa[x](a)):1==b?(null===this.Xa&&(this.Xa=new P),this.Xa.add(a)):2==b&&(this.hb=a)};
function ai(){this.bc=new bi;this.dd=new Zh}I=ai[t];I.dc=function(a){(2>a[Cb]()||2>a[Cb]())&&this.dd.mi(a.ha().f());this.bc.Cb(a);this.xe();return a.Yc().ja};I.xe=function(){for(var a=this.bc.f(),b=0;b<a[D];b++){var c=a[b],d=!1;if(d=0==c.$()?this.$g(c,1,3):this.$g(c,2,0))this.bc[x](c),this.Ti(c)}};I.$g=function(a,b,c){var d=!1,g=a.ha().f();this.dd.Zg(a.fa(),g,b)&&(d=this.dd.Zg(a.fa(),g,c));return d};I.Ti=function(a){a[Qa]()[A](K(this.Dk,this,a),K(this.Ck,this,a))};
I.Dk=function(a,b){this.dd.releaseLock(a.fa(),a.ha().f());a.Yc()[Eb](b);this.xe()};I.Ck=function(a,b){this.dd.releaseLock(a.fa(),a.ha().f());a.Yc()[La](b);this.xe()};function bi(){this.bc=[]}bi[t].Cb=function(a){vc(this.bc,a,function(a,c){var d=a[Cb]()-c[Cb]();return 0==d?a.fa()-c.fa():d})};bi[t].f=function(){return this.bc[n]()};va(bi[t],function(a){var b=this.bc;a=hc(b,a);var c;(c=0<=a)&&nc(b,a);return c});

function ci(a,b){this.Ji=we.De();this.df=a;this.Vd=b;this.H=this.Ci()}ci[t].Ci=function(){if(0<this.df.h[D])return this.df.h;var a=[];this.df.c[G](function(b){b.yb()[G](function(b){a[z](b)})});return a};ci[t].X=function(a,b){return this.H[Ua](function(c){return this.Ji.Ce(c.$(),"eq")(a.S(c),b.S(c))},this)};
ci[t].Hh=function(a,b){for(var c=null===a?[]:a[C],d=pd(c,b[C],K(this.X,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[D];l++){var p=c[l];d[k]==p?k++:(p=this.Vd[B](k,1),p=di(l,p,0,this.Vd),g[z](p))}d=pd(c,b[C],K(this.X,this),function(a,c){return b[C][c]});for(l=k=0;l<b[C][D];l++)p=b[C][l],d[k]==p?k++:(this.Vd[B](l,0,p.wa.w()),p=di(l,[],1,this.Vd),g[z](p));return g};function di(a,b,c,d){return{wl:c,index:a,object:d,yl:b,type:"splice"}};
function ei(){this.sc=new O}I=ei[t];I.He=function(a){return Ub(a)[E]()};I.je=function(a,b){var c=this.He(a.Kd()),d=this.sc.get(c,null);null===d&&(d=new fi(a),this.sc.set(c,d));d.je(b)};I.ff=function(a,b){var c=this.He(a.Kd()),d=this.sc.get(c,null);M(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.ff(b);M(g,"removeObserver: Inconsistent state detected.");d.bk()||this.sc[x](c)};
I.Je=function(a){var b=new P;a[G](function(a){b.add(a[u]())});var c=[];this.sc.f()[G](function(a){a=a.$c();a[nb].c[ab](function(a){return b[tb](a[u]())})&&c[z](a)});return c};I.th=function(a,b){var c=this.He(null!=a.Jc?a.Jc:a),c=this.sc.get(c,null);return null!==c?(c.ul(b),!0):!1};function fi(a){this.Sh=a;this.gd=new P;this.Ak=[];this.Fg=null;this.Fi=new ci(a.Kd(),this.Ak)}I=fi[t];I.je=function(a){this.gd[tb](a)?dc("Attempted to register observer twice."):this.gd.add(a)};I.ff=function(a){return this.gd[x](a)};
I.$c=function(){return this.Sh.Dj()};I.bk=function(){return 0<this.gd.ya()};I.ul=function(a){var b=this.Fi.Hh(this.Fg,a);this.Fg=a;0<b[D]&&this.gd.f()[G](function(a){a(b)})};
function gi(a,b){var c=a.o(Md),d=b||{},g=new nf;a.sb(Hd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new bf(c);break;case 5:g=new cf(c);break;case 4:g=new hf(a,c,d.webSqlDbSize);break;case 3:g=new We(c,d.firebase);k=!0;break;default:g=new $e(a,c)}a.sb(Gd,g);var l=new Nf;a.sb(Id,l);return g.Ga(d.onUpgrade)[A](function(){a.sb(Jd,new Yh(a));var b=new ai;a.sb(Kd,b);b=new ei;a.sb(Ld,b);return l.Ga(c)})[A](function(){k&&(new Qe(a)).il();return(new Mf(a)).Ga(c)})};

function hi(a,b){this.m=a;this.Gb=a.o(Gd);this.Za=a.o(Kd);this.Jb=a.o(Ld);this.sa=new P(b);this.Wa=new ge(this.m,this.sa.f());this.cc=ad();this.Rc=ad();this.vf=ad()}I=hi[t];ma(I,function(){this.vf[Eb]();return this.Rc.ja});I.$=Jb(1);I.ha=H("sa");I.Yc=H("cc");I.fa=function(){return Ub(this)};Ea(I,Jb(2));I.xh=function(){this.Za.dc(this);return this.vf.ja};
I.Ph=function(a){a=a.$c();return a.af.pb()[Qa](this.Wa,a[nb])[A](function(a){return a[0].Ee()},K(function(a){this.Wa.Lb();var c=new Sc(a[q]);this.Rc[La](c);throw a;},this))};I.oa=function(){this.Gb.Qb(this.$(),this.Wa).oa()[A](K(function(){this.kd();this.Rc[Eb]()},this),K(function(a){this.Wa.Lb();this.Rc[La](a)},this));return this.cc.ja};I.Lb=function(){this.Wa.Lb();this.Rc[Eb]();return this.cc.ja};I.kd=function(){var a=this.Jb.Je(this.sa.f());0!=a[D]&&(a=new Oe(this.m,a),this.Za.dc(a))};
function ii(a){this.m=a;this.Za=a.o(Kd);this.od=null;this.La=0}J("lf.proc.Transaction",ii,void 0);var ji=new O(0,new P([1,4]),1,new P([2]),2,new P([3,5,6]),3,new P([2,7]),4,new P([7]),5,new P([7]),6,new P([7]));ii[t].Ra=function(a){var b=ji.get(this.La,null);if(null===b||!b[tb](a))throw new Q(107,this.La,a);this.La=a};
ma(ii[t],function(a){this.Ra(4);var b=[];try{a[G](function(a){a.mb();b[z](a.$c())},this)}catch(c){return this.Ra(7),Xc(c)}a=new Pg(this.m,b);return this.Za.dc(a)[A](K(function(a){this.Ra(7);return a.map(function(a){return a.Ee()})},this),K(function(a){this.Ra(7);throw a;},this))});ma(ii[t],ii[t][Qa]);ii[t].Qh=function(a){this.Ra(1);this.od=new hi(this.m,a);return this.od.xh()[A](K(function(){this.Ra(2)},this))};ii[t].begin=ii[t].Qh;
ii[t].Oh=function(a){this.Ra(3);return this.od.Ph(a)[A](K(function(a){this.Ra(2);return a},this),K(function(a){this.Ra(7);throw a;},this))};ii[t].attach=ii[t].Oh;ii[t].oa=function(){this.Ra(5);return this.od.oa()[A](K(function(){this.Ra(7)},this))};ii[t].commit=ii[t].oa;ii[t].Lb=function(){this.Ra(6);return this.od.Lb()[A](K(function(){this.Ra(7)},this))};ii[t].rollback=ii[t].Lb;
function X(a){this.m=a;this.s=a.o(Md);this.Le=!1}J("lf.proc.Database",X,void 0);X[t].Ga=function(a){this.m.sb(Md,this.s);return gi(this.m,a)[A](K(function(){this.Le=!0;return this},this))};X[t].init=X[t].Ga;X[t].Ab=H("s");X[t].getSchema=X[t].Ab;X[t].nc=function(){if(!this.Le)throw new Q(2);};X[t].select=function(a){this.nc();return new W(this.m,1!=arguments[D]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].Cb=function(){this.nc();return new eh(this.m)};X[t].insert=X[t].Cb;
X[t].Me=function(){this.nc();return new eh(this.m,!0)};X[t].insertOrReplace=X[t].Me;qa(X[t],function(a){this.nc();return new ih(this.m,a)});qa(X[t],X[t][Va]);ra(X[t],function(){this.nc();return new dh(this.m)});X[t]["delete"]=X[t][Ya];X[t].observe=function(a,b){this.m.o(Ld).je(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.m.o(Ld).ff(a,b)};X[t].unobserve=X[t].unobserve;X[t].Ai=function(){this.nc();return new ii(this.m)};X[t].createTransaction=X[t].Ai;
oa(X[t],function(){try{this.m.o(Gd)[Ra]()}catch(a){}this.m[w]();this.Le=!1});oa(X[t],X[t][Ra]);
function Y(a,b,c,d,g,k){this.O=a;this.D=b;this.Bg=c;this.vg=d;this.sh=g;this.lb=k||null}J("lf.schema.BaseColumn",Y,void 0);I=Y[t];na(I,H("D"));I.l=function(){return this.O.pa()+"."+this.D};f(I,function(){return this.l()});I.M=H("O");I.$=H("sh");I.bb=H("lb");I.Fa=function(){null==this.ua&&(this.ua=[],this.M().Fa()[G](function(a){-1!=a.h.map(function(a){return a.ga[u]()})[$a](this.D)&&this.ua[z](a)},this));return this.ua};I.wc=H("vg");I.cd=H("Bg");I.Va=function(a){return ig(this,a,"eq")};Y[t].eq=Y[t].Va;
Y[t].Jg=function(a){return ig(this,a,"neq")};Y[t].neq=Y[t].Jg;Y[t].Te=function(a){return ig(this,a,"lt")};Y[t].lt=Y[t].Te;Y[t].rk=function(a){return ig(this,a,"lte")};Y[t].lte=Y[t].rk;Y[t].Vj=function(a){return ig(this,a,"gt")};Y[t].gt=Y[t].Vj;Y[t].Wj=function(a){return ig(this,a,"gte")};Y[t].gte=Y[t].Wj;Y[t].match=function(a){return ig(this,a,"match")};Y[t].match=Y[t].match;Y[t].Rh=function(a,b){return ig(this,[a,b],"between")};Y[t].between=Y[t].Rh;Y[t].ck=function(a){return ig(this,a,"in")};
Y[t]["in"]=Y[t].ck;Y[t].kk=function(){return this.Va(null)};Y[t].isNull=Y[t].kk;Y[t].jk=function(){return this.Jg(null)};Y[t].isNotNull=Y[t].jk;Y[t].Gc=function(a){return new Y(this.O,this.D,this.Bg,this.vg,this.sh,a)};Y[t].as=Y[t].Gc;
function ki(){this.ee=new O}var li;ta(ki[t],function(){this.ee[w]()});ta(ki[t],ki[t][w]);ki[t].sb=function(a,b){this.ee.set(a[E](),b);return b};ki[t].registerService=ki[t].sb;ki[t].o=function(a){var b=this.ee.get(a[E](),null);if(null==b)throw new Q(7,a[E]());return b};ki[t].getService=ki[t].o;ki[t].Re=function(a){return this.ee.B(a[E]())};ki[t].isRegistered=ki[t].Re;
function mi(a){this.s=a;this.ef=new Cd;this.Qg=new Cd;this.Nf=new Cd;this.i=new Cd;this.ue=new Cd;this.fk()}I=mi[t];I.fk=function(){this.s.$a()[G](function(a){var b=new kf;a.Ib().dg()[G](function(c){var d=this.ef.get(c.fb)||[];d[z](c);this.ef.set(c.fb,d);b.add(this.s[h](c.fb));(d=this.i.get(c.fb))||(d=new kf);d.add(a);this.i.set(c.fb,d);this.Nf.set(a[u]()+"."+c.pc,c.fb);c=c.fb+"."+c.zc;d=this.ue.get(c)||[];d[z](a[u]());this.ue.set(c,d)},this);0!=b[Gb]&&this.Qg.set(a[u](),b)},this)};
I.Kj=function(a){return this.ef.get(a)||null};I.Wf=function(a,b){var c=b.get(a);return c?mf(c):[]};I.Fj=function(a){return this.Wf(a,this.Qg)};I.Gj=function(a){var b=new kf;a[G](function(a){(a=this.Nf.get(a))&&b.add(a)},this);return mf(b).map(function(a){return this.s[h](a)},this)};I.$f=function(a){return this.Wf(a,this.i)};I.vj=function(a){var b=new kf;a[G](function(a){(a=this.ue.get(a))&&a[G](function(a){b.add(a)})},this);return mf(b).map(function(a){return this.s[h](a)},this)};
function ni(a,b,c){this.Kk=a;this.yk=b;this.fj=c}ni[t].Ge=H("Kk");ni[t].Cj=H("yk");ni[t].dg=H("fj");
function oi(a,b){var c=a.ref[Ja](".");if(2!=c[D])throw new Q(540,b);this.pc=a.local;this.fb=c[0];this.zc=c[1];ja(this,b);this.action=a.action;this.timing=a[Ma]};
function Z(a){this.D=a;this.H=new Cd;this.rf=new kf;this.pd=new kf;this.Ud=new kf;var b=this.D;this.Ac="pk"+(b[0].toUpperCase()+b.substring(1));this.ua=new Cd;this.Yd=!1;this.oc(a);this.Yf=[]}J("lf.schema.TableBuilder",Z,void 0);function pi(a){ja(this,a[q]);this.rb=a.order;this.autoIncrement=a[ob]}var qi=new kf([0,6]);Z[t].oc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new Q(502,a);if(this.H.has(a)||this.ua.has(a)||this.pd.has(a))throw new Q(503,this.D+"."+a);};
Z[t].gi=function(a){var b=!1;a[G](function(a){var d=this.H.get(a[q]);b=b||a[ob];if(a[ob]&&3!=d)throw new Q(504);},this);if(b&&1<a[D])throw new Q(505);};Z[t].zh=function(a,b){this.oc(a);this.H.set(a,b);qi.has(b)&&this.zf([a]);return this};Z[t].addColumn=Z[t].zh;Z[t].Bh=function(a,b){this.oc(this.Ac);var c=this.Td(a,!0,void 0,b);this.gi(c);1==c[D]&&this.rf.add(c[0][q]);this.pd.add(this.Ac);this.ua.set(this.Ac,c);return this};Z[t].addPrimaryKey=Z[t].Bh;
Z[t].Ah=function(a,b){this.oc(a);var c=new oi(b,this.D+"."+a);Lb(c.action)||(c.action=0);Lb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new Q(506);if(!this.H.has(c.pc))throw new Q(540,a);this.Yf[z](c);this.yf(a,[c.pc],!1);return this};Z[t].addForeignKey=Z[t].Ah;Z[t].Ch=function(a,b){this.oc(a);var c=this.Td(b,!0);this.Kf(a,c);1==c[D]&&this.rf.add(c[0][q]);this.ua.set(a,c);this.pd.add(a);return this};Z[t].addUnique=Z[t].Ch;
Z[t].zf=function(a){a=this.Td(a,!1);this.fi(a);a[G](function(a){this.Ud.add(a[q])},this);return this};Z[t].addNullable=Z[t].zf;Z[t].fi=function(a){Dd(this.ua)[G](function(b){var c=new kf;this.ua.get(b)[G](function(a){c.add(a[q])});var d=a[Ga](function(a){return c.has(a[q])});if(1<c[Gb]&&0<d[D])throw new Q(507,b,d[m](","));},this)};Z[t].yf=function(a,b,c,d){this.oc(a);b=this.Td(b,!0,d);this.Kf(a,b);c&&this.pd.add(a);this.ua.set(a,b);return this};Z[t].addIndex=Z[t].yf;
Z[t].Kf=function(a,b){if(1<b[D]){var c=b[Ga](function(a){return this.Ud.has(a[q])},this);if(0<c[D])throw new Q(507,a,c[m](","));}};Z[t].ac=Ib("Yd");Z[t].persistentIndex=Z[t].ac;Z[t].Ab=function(){return new (this.tj())};Z[t].getSchema=Z[t].Ab;Z[t].Wc=H("Yf");
Z[t].Td=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new pi({name:a,order:null!=c?c:1,autoIncrement:d||!1})}):a.map(function(a){return new pi(a)});g[G](function(a){if(!this.H.has(a[q]))throw new Q(508,this.D,a[q]);if(b){var c=this.H.get(a[q]);if(0==c||6==c)throw new Q(509,this.D,a[q]);}},this);return g};
Z[t].tj=function(){function a(){function a(c){return b.ua.get(c).map(function(a){return{ga:this[a[q]],rb:a.rb,autoIncrement:a[ob]}},this)}var d=Dd(b.H).map(function(a){this[a]=new Y(this,a,b.rf.has(a),b.Ud.has(a),b.H.get(a));return this[a]},this),g=Dd(b.ua).map(function(d){return new kg(b.D,d,b.pd.has(d),a[r](this,d))},this);lg[r](this,b.D,d,g,b.Yd);var k=b.ua.has(b.Ac)?new kg(b.D,b.Ac,!0,a[r](this,b.Ac)):null,l=d[Ga](function(a){return!b.Ud.has(a[u]())});this.ri=new ni(k,l,b.Wc());this.dh=b.pj(d,
g)}var b=this;L(a,lg);a[t].Hb=function(a){return new this.dh(hd++,a)};a[t].createRow=a[t].Hb;a[t].qc=function(a){var b={};this.yb()[G](function(g){var k=g[u]();g=g.$();var l=a[v][k];if(0==g)if(null===l)g=l;else if(g=l,""==g)g=null;else{0!=g[D]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[D]/2),p=new Uint8Array(l),y=0,wa=0;y<g[D];y+=2)p[wa++]=da(g.substr(y,2),16);g=l}else g=2==g?null===l?l:new Date(l):l;b[k]=g},this);return new this.dh(a.id,b)};a[t].deserializeRow=a[t].qc;a[t].Ib=H("ri");a[t].getConstraint=
a[t].Ib;return a};
Z[t].pj=function(a,b){function c(c,d){this.H=a;this.ua=b;gd[r](this,c,d)}L(c,gd);c[t].Sf=function(){var a={};this.H[G](function(b){a[b[u]()]=b.wc()?null:ce[b.$()]});return a};c[t].ph=function(){var a={};this.H[G](function(b){var c=b[u]();b=b.$();var d=this.w()[c];a[c]=0==b?null!=d?kd(d):null:2==b?null!=d?d[Db]():null:d},this);return a};var d=K(function(a){var b=this.H.get(a[u]());return 2==b?function(b){b=b[a[u]()];return a.wc()&&null===b?null:b[Db]()}:1==b?function(b){return a.wc()?(b=b[a[u]()],
null===b?null:b?1:0):b[a[u]()]?1:0}:function(b){return b[a[u]()]}},this),g=K(function(a){var b=a.map(function(a){return d(a.ga)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[G](function(a){var b=a.l();a=1==a.h[D]?d(a.h[0].ga):g(a.h);k[b]=a});c[t].Vb=function(a){return-1!=a[$a]("#")?this.id():k[sb](a)?k[a](this.w()):null};return c};
function ri(a,b){this.s=new si(a,b);this.ub=new O;this.Sc=!1}J("lf.schema.Builder",ri,void 0);I=ri[t];I.di=function(a){a.Wc()[G](function(b){var c=b.fb;if(!this.ub.B(c))throw new Q(536,b[q]);var c=this.ub.get(c).Ab(),d=b.zc;if(!c[sb](d))throw new Q(537,b[q]);if(a.Ab()[b.pc].$()!=c[d].$())throw new Q(538,b[q]);if(!c[d].cd())throw new Q(539,b[q]);},this)};I.ci=function(a){a.Wc()[G](function(a){this.ub.get(a.fb).Wc()[G](function(c){if(c.pc==a.zc)throw new Q(534,a[q]);},this)},this)};
I.$i=function(){this.Sc||(this.ub.f()[G](function(a){this.di(a);this.s.cl(a.Ab())},this),this.ub.f()[G](this.ci,this),this.bi(),this.ub[w](),this.Sc=!0)};I.If=function(a,b){a.uf||(a.uf=!0,a.Xe=!0,a.Vf[G](function(c){c=b.get(c);if(!c.uf)this.If(c,b);else if(c.Xe&&a!=c)throw new Q(533);},this));a.Xe=!1};I.bi=function(){var a=new Cd;this.s.I.U()[G](function(b){a.set(b,new ti(b))},this);this.ub[G](function(b,c){b.Wc()[G](function(b){a.get(b.fb).Vf.add(c)})});Ed(a)[G](function(b){this.If(b,a)},this)};
function ti(a){this.Xe=this.uf=!1;this.Vf=new kf;this.of=a}I.Ab=function(){this.Sc||this.$i();return this.s};ri[t].getSchema=ri[t].Ab;ri[t].eg=function(){var a=new Fd("ns_"+this.s[q]()),b;li||(li=new ki);b=li;var c=null;b.Re(a)?c=b.o(a):(c=new ki,b.sb(a,c));return c};ri[t].getGlobal=ri[t].eg;ri[t].connect=function(a){var b=this.eg();b.Re(Md)||b.sb(Md,this.Ab());return(new X(b)).Ga(a)};ri[t].connect=ri[t].connect;
ri[t].yi=function(a){if(this.ub.B(a))throw new Q(503,a);if(this.Sc)throw new Q(535);this.ub.set(a,new Z(a));return this.ub.get(a)};ri[t].createTable=ri[t].yi;ri[t].mf=function(a){if(this.Sc)throw new Q(535);this.s.mf(a);return this};ri[t].setPragma=ri[t].mf;function si(a,b){this.D=a;this.Ta=b;this.I=new O;this.Ug={Gi:!1}}J("lf.schema.DatabaseSchema",si,void 0);ja(si[t],H("D"));ja(si[t],si[t][q]);si[t].version=H("Ta");si[t].version=si[t][ub];si[t].$a=function(){return this.I.f()};si[t].tables=si[t].$a;
ia(si[t],function(a){if(!this.I.B(a))throw new Q(101,a);return this.I.get(a)});ia(si[t],si[t][h]);si[t].info=function(){this.pg||(this.pg=new mi(this));return this.pg};si[t].cl=function(a){this.I.set(a[u](),a)};si[t].Tg=H("Ug");si[t].pragma=si[t].Tg;si[t].mf=Ib("Ug");J("lf.schema.create",function(a,b){return new ri(a,b)},void 0);}.bind(window))()
