/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=Function,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function xa(a,b){return a.child=b}function ya(a,b){return a.next=b}function za(a,b){return a.onerror=b}function Aa(a,b){return a.length=b}function f(a,b){return a.toString=b}function Ba(a,b){return a.bind=b}function Ca(a,b){return a.subscribe=b}function Da(a,b){return a.forEach=b}function Ea(a,b){return a.getPriority=b}
var Fa="openCursor",Ga="filter",Ha="once",Ia="objectStoreNames",Ja="split",h="table",Ka="reduce",m="join",La="reject",Ma="timing",Na="item",n="slice",Oa="unshift",Pa="target",q="name",r="call",t="prototype",Qa="exec",u="getName",Ra="close",Sa="concat",v="value",Ta="setImmediate",Ua="every",Va="update",Wa="global",Xa="propertyIsEnumerable",Ya="delete",Za="sort",$a="indexOf",ab="some",bb="orderByChild",cb="clear",db="values",eb="replace",fb="reverse",gb="continue",hb="addAll",ib="removeChild",w="remove",
jb="child",kb="create",x="push",z="then",lb="transaction",mb="index",nb="context",A="splice",ob="autoIncrement",pb="next",qb="shift",rb="hasOwnProperty",sb="contains",tb="version",ub="objectStore",vb="apply",B="entries",C="length",wb="info",D="toString",xb="compare",E="bind",yb="getParent",zb="rows",F="forEach",Ab="getPriority",Bb="getTime",Cb="resolve",Db="result",Eb="size";function Fb(){return function(){}}function Gb(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Hb(a){return function(){return a}}var H,Ib=this;function Jb(a){return void 0!==a}function I(a,b,c){a=a[Ja](".");c=c||Ib;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[C]&&(d=a[qb]());)!a[C]&&Jb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Kb(){}function Lb(a){a.Fe=function(){return a.qg?a.qg:a.qg=new a}}
function Mb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][D][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Xa]&&!a[Xa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Xa]&&!a[Xa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Nb(a){return null===a}function Ob(a){return null!=a}function Pb(a){var b=Mb(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Qb(a){return"string"==typeof a}function Rb(a){return"function"==Mb(a)}function Sb(a){return a[Tb]||(a[Tb]=++Vb)}var Tb="closure_uid_"+(1E9*ba.random()>>>0),Vb=0;function Wb(a,b,c){return a[r][vb](a[E],arguments)}
function Xb(a,b,c){if(!a)throw fa();if(2<arguments[C]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t][Oa][vb](c,d);return a[vb](b,c)}}return function(){return a[vb](b,arguments)}}function J(a,b,c){J=ga[t][E]&&-1!=ga[t][E][D]()[$a]("native code")?Wb:Xb;return J[vb](null,arguments)}function Yb(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[x][vb](b,arguments);return a[vb](this,b)}}
function K(a,b){function c(){}c.prototype=b[t];a.Jb=b[t];a.prototype=new c;a[t].constructor=a;a.ul=function(a,c,k){for(var l=e(arguments[C]-2),p=2;p<arguments[C];p++)l[p-2]=arguments[p];return b[t][c][vb](a,l)}}Ba(ga[t],ga[t][E]||function(a,b){if(1<arguments[C]){var c=e[t][n][r](arguments,1);c[Oa](this,a);return J[vb](null,c)}return J(this,a)});function Zb(a){if(fa.captureStackTrace)fa.captureStackTrace(this,Zb);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(Zb,fa);ja(Zb[t],"CustomError");function $b(a,b){for(var c=a[Ja]("%s"),d="",g=e[t][n][r](arguments,1);g[C]&&1<c[C];)d+=c[qb]()+g[qb]();return d+c[m]("%s")};function ac(a,b){b[Oa](a);Zb[r](this,$b[vb](null,b));b[qb]()}K(ac,Zb);ja(ac[t],"AssertionError");function bc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new ac(""+g,k||[]);}function L(a,b,c){a||bc("",null,b,e[t][n][r](arguments,2));return a}function cc(a,b){throw new ac("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function dc(a,b,c){Rb(a)||bc("Expected function but got %s: %s.",[Mb(a),a],b,e[t][n][r](arguments,2));return a};function ec(a,b,c){this.lk=c;this.yi=a;this.Vk=b;this.Vd=0;this.Od=null}ec[t].get=function(){var a;0<this.Vd?(this.Vd--,a=this.Od,this.Od=a[pb],ya(a,null)):a=this.yi();return a};ec[t].put=function(a){this.Vk(a);this.Vd<this.lk&&(this.Vd++,ya(a,this.Od),this.Od=a)};var fc=e[t],gc=fc[$a]?function(a,b,c){L(null!=a[C]);return fc[$a][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[C]+c):c;if(Qb(a))return Qb(b)&&1==b[C]?a[$a](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},hc=fc[F]?function(a,b,c){L(null!=a[C]);fc[F][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Qb(a)?a[Ja](""):a,k=0;k<d;k++)k in g&&b[r](c,g[k],k,a)},ic=fc.map?function(a,b,c){L(null!=a[C]);return fc.map[r](a,b,c)}:function(a,b,c){for(var d=a[C],g=e(d),k=Qb(a)?a[Ja](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[r](c,k[l],l,a));return g},jc=fc[Ka]?function(a,b,c,d){L(null!=a[C]);d&&(b=J(b,d));return fc[Ka][r](a,b,c)}:function(a,b,c,d){var g=c;hc(a,function(c,l){g=b[r](d,g,c,l,a)});return g},kc=fc[ab]?function(a,b,c){L(null!=a[C]);return fc[ab][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Qb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a))return!0;return!1},lc=fc[Ua]?function(a,b,c){L(null!=a[C]);return fc[Ua][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Qb(a)?a[Ja](""):a,k=0;k<
d;k++)if(k in g&&!b[r](c,g[k],k,a))return!1;return!0};function mc(a,b){L(null!=a[C]);return 1==fc[A][r](a,b,1)[C]}function nc(a,b,c){a:{for(var d=a[C],g=Qb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(mc(a,b),!0):!1}function oc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function pc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Pb(d)){var g=a[C]||0,k=d[C]||0;Aa(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[x](d)}}function qc(a,b,c,d){L(null!=a[C]);return fc[A][vb](a,rc(arguments,1))}function rc(a,b,c){L(null!=a[C]);return 2>=arguments[C]?fc[n][r](a,b):fc[n][r](a,b,c)}function sc(a,b,c,d,g){for(var k=0,l=a[C],p;k<l;){var y=k+l>>1,wa;wa=c?b[r](g,a[y],y,a):b(d,a[y]);0<wa?k=y+1:(l=y,p=!wa)}return p?k:~k}function tc(a,b){return a>b?1:a<b?-1:0}
function uc(a,b,c){c=sc(a,c||tc,!1,b);return 0>c?(qc(a,-(c+1),0,b),!0):!1}function vc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function wc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Mb(d))for(var g=0;g<d[C];g+=8192)for(var k=rc(d,g,g+8192),k=wc[vb](null,k),l=0;l<k[C];l++)b[x](k[l]);else b[x](d)}return b};function xc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function yc(a,b,c){for(var d in a)if(b[r](c,a[d],d,a))return!0;return!1}function zc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ac(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Bc;a:{var Cc=Ib.navigator;if(Cc){var Dc=Cc.userAgent;if(Dc){Bc=Dc;break a}}Bc=""};function Ec(a){Ib.setTimeout(function(){throw a;},0)}var Fc;
function Gc(){var a=Ib.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==Bc[$a]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Ra]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Bc[$a]("Trident")&&-1==Bc[$a]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Jb(c[pb])){c=c[pb];var a=c.Gf;c.Gf=null;a()}};return function(a){ya(d,{Gf:a});d=d[pb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ib](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Ib.setTimeout(a,0)}};function Hc(){this.he=this.ec=null}var Jc=new ec(function(){return new Ic},function(a){a.reset()},100);Hc[t].add=function(a,b){var c=this.Nj();c.set(a,b);this.he?ya(this.he,c):(L(!this.ec),this.ec=c);this.he=c};va(Hc[t],function(){var a=null;this.ec&&(a=this.ec,this.ec=this.ec[pb],this.ec||(this.he=null),ya(a,null));return a});Hc[t].Wk=function(a){Jc.put(a)};Hc[t].Nj=function(){return Jc.get()};function Ic(){this.scope=this.Ae=null;ya(this,null)}
Ic[t].set=function(a,b){this.Ae=a;this.scope=b;ya(this,null)};Ic[t].reset=function(){this.scope=this.Ae=null;ya(this,null)};function Kc(a,b){Lc||Mc();Nc||(Lc(),Nc=!0);Oc.add(a,b)}var Lc;function Mc(){if(Ib.Promise&&Ib.Promise[Cb]){var a=Ib.Promise[Cb]();Lc=function(){a[z](Pc)}}else Lc=function(){var a=Pc;if(!Rb(Ib[Ta])||Ib.Window&&Ib.Window[t]&&Ib.Window[t][Ta]==Ib[Ta])Fc||(Fc=Gc()),Fc(a);else Ib[Ta](a)}}var Nc=!1,Oc=new Hc;[][x](function(){Nc=!1;Oc=new Hc});function Pc(){for(var a=null;a=Oc[w]();){try{a.Ae[r](a.scope)}catch(b){Ec(b)}Oc.Wk(a)}Nc=!1};function M(a,b){this.La=0;this.Zg=void 0;this.ud=this.jc=this.D=null;this.Nd=this.ze=!1;if(a!=Kb)try{var c=this;a[r](b,function(a){c.zc(2,a)},function(a){if(!(a instanceof Qc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.zc(3,a)})}catch(d){this.zc(3,d)}}function Rc(){xa(this,null);this.context=this.vc=this.Ub=null;ya(this,null);this.ke=!1}Rc[t].reset=function(){xa(this,null);this.context=this.vc=this.Ub=null;this.ke=!1};
var Sc=new ec(function(){return new Rc},function(a){a.reset()},100);function Tc(a,b,c){var d=Sc.get();d.Ub=a;d.vc=b;d.context=c;return d}function Uc(a){if(a instanceof M)return a;var b=new M(Kb);b.zc(2,a);return b}function Vc(a){return new M(function(b,c){c(a)})}function Wc(a,b,c){Xc(a,b,c,null)||Kc(Yb(b,a))}function Yc(a){return new M(function(b,c){var d=a[C],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;y=a[p];p++)Wc(y,Yb(k,p),l);else b(g)})}
function Zc(){var a,b,c=new M(function(c,g){a=c;b=g});return new $c(c,a,b)}M[t].then=function(a,b,c){null!=a&&dc(a,"opt_onFulfilled should be a function.");null!=b&&dc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.wf(Rb(a)?a:null,Rb(b)?b:null,c)};M[t].then=M[t][z];M[t].$goog_Thenable=!0;H=M[t];
H.il=function(a,b,c){null!=a&&dc(a,"opt_onFulfilled should be a function.");null!=b&&dc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.vf(Tc(a||Kb,b||null,c))};H.mh=function(a,b){return this.wf(null,a,b)};H.vf=function(a){this.Xj()||2!=this.La&&3!=this.La||this.bh();this.Lk(a)};
H.wf=function(a,b,c){var d=Tc(null,null,null);xa(d,new M(function(g,k){d.Ub=a?function(b){try{var d=a[r](c,b);g(d)}catch(y){k(y)}}:g;d.vc=b?function(a){try{var d=b[r](c,a);!Jb(d)&&a instanceof Qc?k(a):g(d)}catch(y){k(y)}}:k}));d[jb].D=this;this.vf(d);return d[jb]};H.ll=function(a){L(1==this.La);this.La=0;this.zc(2,a)};H.ml=function(a){L(1==this.La);this.La=0;this.zc(3,a)};
H.zc=function(a,b){0==this.La&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.La=1,Xc(b,this.ll,this.ml,this)||(this.Zg=b,this.La=a,this.D=null,this.bh(),3!=a||b instanceof Qc||ad(this,b)))};
function Xc(a,b,c,d){if(a instanceof M)return a.il(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[z](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[z];if(Rb(l))return bd(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function bd(a,b,c,d,g){function k(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,k)}catch(y){k(y)}}H.bh=function(){this.ze||(this.ze=!0,Kc(this.Si,this))};H.Xj=function(){return!!this.jc};
H.Lk=function(a){L(null!=a.Ub);this.ud?ya(this.ud,a):this.jc=a;this.ud=a};H.Fk=function(){var a=null;this.jc&&(a=this.jc,this.jc=a[pb],ya(a,null));this.jc||(this.ud=null);null!=a&&L(null!=a.Ub);return a};H.Si=function(){for(var a=null;a=this.Fk();)this.Ri(a,this.La,this.Zg);this.ze=!1};H.Ri=function(a,b,c){3==b&&a.vc&&!a.ke&&this.Tk();if(a[jb])a[jb].D=null,cd(a,b,c);else try{a.ke?a.Ub[r](a[nb]):cd(a,b,c)}catch(d){dd[r](null,d)}Sc.put(a)};
function cd(a,b,c){2==b?a.Ub[r](a[nb],c):a.vc&&a.vc[r](a[nb],c)}H.Ch=Fb();H.Tk=function(){var a;for(a=this;a&&a.Nd;a=a.D)a.Nd=!1};function ad(a,b){a.Nd=!0;Kc(function(){a.Nd&&(a.Ch(b),dd[r](null,b))})}var dd=Ec;function Qc(a){Zb[r](this,a)}K(Qc,Zb);ja(Qc[t],"cancel");function $c(a,b,c){this.ga=a;this.resolve=b;this.reject=c};
function ed(a,b){this.za=a;this.Wb=b||this.Rf()}var fd=0;H=ed[t];H.id=G("za");H.Kh=Gb("za");H.u=G("Wb");H.Rf=function(){return{}};H.nh=G("Wb");H.Ka=function(){return{id:this.za,value:this.nh()}};H.Sb=function(a){return"#"==a.substr(-1)?this.za:null};function gd(a){return new ed(a.id,a[v])}function hd(a){return new ed(fd++,a||{})}function id(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};
function jd(a){this.type=a}function kd(a){ed[r](this,-1,a)}K(kd,ed);
var ld={};I("lf.TransactionType",ld,void 0);ld.READ_ONLY=0;ld.READ_WRITE=1;

function md(a,b){this.Va=a;this.oh=b;this.aa=Zc()}H=md[t];H.wj=G("Va");H.oa=function(){try{this.Va.Xh()}catch(a){return Vc(a)}return(0==this.oh?this.Lc():this.rk())[z](J(function(a){this.Va.oa();return a},this))};H.rk=function(){this.sk();this.qk();return this.Lc()};
H.sk=function(){var a=this.Va.cg();a.M()[F](function(b){var c=this.Va.fa().get(b),c=this.V(c[u](),J(c.nc,c));b=a.get(b);var d=b.Vc().c().map(function(a){return a.id()});0<d[C]&&c[w](d).mh(this.Me,this);b=b.Xc().c().map(function(a){return a[1]})[Sa](b.Uc().c());c.put(b).mh(this.Me,this)},this)};H.qk=function(){this.Va.tj()[F](function(a){var b=this.V(a[u](),gd),c;b.get([-1])[z](function(a){c=a;return b[w]([])})[z](function(){b.put(c);b.put(a.Ka())},J(this.Me,this))},this)};H.Me=function(a){this.aa[La](a)};function nd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[C],k=b[C],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<k+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=k;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var wa=[],p=g,y=k;0<p&&0<y;)c(a[p-1],b[y-1])?(wa[Oa](d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return wa}function od(a){return jc(arguments,function(a,c){return a+c},0)}
function pd(a){return od[vb](null,arguments)/arguments[C]}function qd(a){var b=arguments[C];if(2>b)return 0;var c=pd[vb](null,arguments);return od[vb](null,ic(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function rd(a){return ba.sqrt(qd[vb](null,arguments))};var sd="StopIteration"in Ib?Ib.StopIteration:{message:"StopIteration",stack:""};function td(){}ya(td[t],function(){throw sd;});td[t].Ec=function(){return this};function ud(a){if(a instanceof td)return a;if("function"==typeof a.Ec)return a.Ec(!1);if(Pb(a)){var b=0,c=new td;ya(c,function(){for(;;){if(b>=a[C])throw sd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function vd(a,b,c){if(Pb(a))try{hc(a,b,c)}catch(d){if(d!==sd)throw d;}else{a=ud(a);try{for(;;)b[r](c,a[pb](),void 0,a)}catch(g){if(g!==sd)throw g;}}}function wd(a){if(kc(arguments,function(a){return!a[C]})||!arguments[C])return new td;var b=new td,c=arguments,d=vc(0,c[C]);ya(b,function(){if(d){for(var a=ic(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){L(d);if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw sd;});return b};function N(a,b){this.g={};this.b=[];this.Sa=this.$=0;var c=arguments[C];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[hb](a)}H=N[t];H.pa=G("$");H.c=function(){this.Jc();for(var a=[],b=0;b<this.b[C];b++)a[x](this.g[this.b[b]]);return a};H.M=function(){this.Jc();return this.b[Sa]()};H.A=function(a){return xd(this.g,a)};H.yd=function(a){for(var b=0;b<this.b[C];b++){var c=this.b[b];if(xd(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Qc=function(a,b){if(this===a)return!0;if(this.$!=a.pa())return!1;var c=b||yd;this.Jc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function yd(a,b){return a===b}H.Ha=function(){return 0==this.$};ta(H,function(){this.g={};Aa(this.b,0);this.Sa=this.$=0});va(H,function(a){return xd(this.g,a)?(delete this.g[a],this.$--,this.Sa++,this.b[C]>2*this.$&&this.Jc(),!0):!1});
H.Jc=function(){if(this.$!=this.b[C]){for(var a=0,b=0;a<this.b[C];){var c=this.b[a];xd(this.g,c)&&(this.b[b++]=c);a++}Aa(this.b,b)}if(this.$!=this.b[C]){for(var d={},b=a=0;a<this.b[C];)c=this.b[a],xd(d,c)||(this.b[b++]=c,d[c]=1),a++;Aa(this.b,b)}};H.get=function(a,b){return xd(this.g,a)?this.g[a]:b};H.set=function(a,b){xd(this.g,a)||(this.$++,this.b[x](a),this.Sa++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.M(),a=a.c()):(b=Ac(a),a=zc(a));for(var c=0;c<b[C];c++)this.set(b[c],a[c])};
Da(H,function(a,b){for(var c=this.M(),d=0;d<c[C];d++){var g=c[d],k=this.get(g);a[r](b,k,g,this)}});la(H,function(){return new N(this)});H.Ec=function(a){this.Jc();var b=0,c=this.Sa,d=this,g=new td;ya(g,function(){if(c!=d.Sa)throw fa("The map has changed since the iterator was created");if(b>=d.b[C])throw sd;var g=d.b[b++];return a?g:d.g[g]});return g};function xd(a,b){return aa[t][rb][r](a,b)};
function zd(a){this.Xk=a}f(zd[t],G("Xk"));var Ad=new zd("backstore"),Bd=new zd("cache"),Cd=new zd("indexstore"),Dd=new zd("engine"),Ed=new zd("runner"),Fd=new zd("observerregistry"),Gd=new zd("schema");
function Hd(a){if("function"==typeof a.pa)a=a.pa();else if(Pb(a)||Qb(a))a=a[C];else{var b=0,c;for(c in a)b++;a=b}return a}function Id(a){if("function"==typeof a.c)return a.c();if(Qb(a))return a[Ja]("");if(Pb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[x](a[d]);return b}return zc(a)}
function Jd(a,b,c){if("function"==typeof a[Ua])return a[Ua](b,c);if(Pb(a)||Qb(a))return lc(a,b,c);var d;if("function"==typeof a.M)d=a.M();else if("function"!=typeof a.c)if(Pb(a)||Qb(a)){d=[];for(var g=a[C],k=0;k<g;k++)d[x](k)}else d=Ac(a);else d=void 0;for(var g=Id(a),k=g[C],l=0;l<k;l++)if(!b[r](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new N;a&&this[hb](a)}function Kd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Sb(a):b.substr(0,1)+a}H=O[t];H.pa=function(){return this.g.pa()};H.add=function(a){this.g.set(Kd(a),a)};H.addAll=function(a){a=Id(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};va(H,function(a){return this.g[w](Kd(a))});ta(H,function(){this.g[cb]()});H.Ha=function(){return this.g.Ha()};H.contains=function(a){return this.g.A(Kd(a))};H.pi=function(a){return Jd(a,this[sb],this)};H.c=function(){return this.g.c()};
la(H,function(){return new O(this)});H.Qc=function(a){return this.pa()==Hd(a)&&this.ik(a)};H.ik=function(a){var b=Hd(a);if(this.pa()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Jd(this,function(b){var d=a;if("function"==typeof d[sb])b=d[sb](b);else if("function"==typeof d.yd)b=d.yd(b);else if(Pb(d)||Qb(d))b=0<=gc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Ec=function(){return this.g.Ec(!1)};
function Ld(a,b){this.za=a;this.Wb=b||{}}function Md(a){var b=new O;a[F](function(a){b.add(a>>9)});return b.c()}H=Ld[t];H.da=G("za");H.sc=G("Wb");H.gh=function(a){a[F](function(a){this.Wb[a.id()]=a.Ka()},this)};H.Sk=function(a){a[F](function(a){var c=this.Wb;a in c&&delete c[a]},this)};H.Ka=function(){return{id:this.za,value:JSON.stringify(this.Wb)}};function Nd(a){return new Ld(a.id,JSON.parse(a[v]))};

function Od(a,b,c){this.W=a;this.Ob=b;this.$g=c}H=Od[t];H.get=function(a){return 0==a[C]?this.De():this.Aj(a)[z](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Ob(d.sc()[a])},this)},this))};H.Aj=function(a){var b=new N,c=Zc();a=Md(a).map(function(a){return new M(function(c,k){var l;try{l=this.W.get(a)}catch(p){k(p);return}za(l,k);sa(l,J(function(a){a=Nd(a[Pa][Db]);b.set(a.da(),a);c()},this))},this)},this);Yc(a)[z](function(){c[Cb](b)});return c.ga};
H.De=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Fa]()}catch(g){b(g);return}za(d,b);sa(d,J(function(){var b=d[Db];if(b){var g=Nd(b[v]).sc(),p;for(p in g)c[x](this.Ob(g[p]));b[gb]()}else a(c)},this))},this)};H.Xb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};
H.put=function(a){if(0==a[C])return Uc();var b=new N;a[F](function(a){var d;d=a.id()>>9;var g=b.get(d,null);null===g&&(g=this.$g(this.W[q],d));g.gh([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Xb(J(function(){return this.W.put(a.Ka())},this))},this);return Yc(a)};
va(H,function(a){if(0==a[C])return this.Xb(J(function(){return this.W[cb]()},this));var b=new N;a[F](function(a){var d=a>>9,g=b.get(d,null);null===g&&(g=this.$g(this.W[q],d));g.Sk([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Xb(J(function(){var b;a:{b=a.sc();for(var g in b){b=!1;break a}b=!0}return b?this.W[Ya](a.da()):this.W.put(a.Ka())},this))},this);return Yc(a)});function Pd(a,b,c){a=a.o(Bd);var d=[c<<9,(c+1<<9)-1];b=a.bb(b,d[0],d[1]);c=new Ld(c);c.gh(b);return c}
function Qd(a,b){return new Ld(b)};
function Rd(){};
function Sd(a){this.sa=a.o(Bd);this.H=a.o(Cd);this.s=a.o(Gd)}qa(Sd[t],function(a){a[F](function(a){this.ql(a);this.nl(a)},this)});Sd[t].nl=function(a){var b=a[u]();a.Vc().c()[F](function(a){this.sa[w](b,[a.id()])},this);a.Uc()[F](function(a){this.sa.set(b,[a])},this);a.Xc()[F](function(a){this.sa.set(b,[a[1]])},this)};Sd[t].ql=function(a){var b=this.s[h](a[u]());a.qj()[F](function(a){this.sh(b,a)},this)};
Sd[t].sh=function(a,b){a.Ea().map(function(a){return this.H.get(a.l())},this)[Sa]([this.H.get(a.Pb())])[F](function(a){var d=null===b[1]?null:b[1].Sb(a[u]()),g=null===b[0]?null:b[0].Sb(a[u]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[w](g,b[0].id()):0!=a.Mc()[xb](g,d)&&(a.add(d,b[1].id()),a[w](g,b[0].id()))})};
var Td={};I("lf.ConstraintAction",Td,void 0);Td.RESTRICT=0;Td.CASCADE=1;var Ud={};I("lf.ConstraintTiming",Ud,void 0);Ud.IMMEDIATE=0;Ud.DEFERRABLE=1;var Vd={};I("lf.Order",Vd,void 0);Vd.DESC=0;Vd.ASC=1;var Wd={};I("lf.Type",Wd,void 0);Wd.ARRAY_BUFFER=0;Wd.BOOLEAN=1;Wd.DATE_TIME=2;Wd.INTEGER=3;Wd.NUMBER=4;Wd.STRING=5;Wd.OBJECT=6;var Xd={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",Xd,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ba.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][D]()[n](0,64)))}K(P,fa);

function Yd(a){this.H=a.o(Cd);this.s=a.o(Gd)}H=Yd[t];H.Zi=function(a,b){var c=a.Eb().Ie();return null===c?null:this.Yi(c,b)};H.Yi=function(a,b){var c=a.l(),d=b.Sb(c),c=this.H.get(c).get(d);return 0==c[C]?null:c[0]};H.se=function(a,b){var c=a.Eb().yj();b[F](function(a){c[F](function(b){if(null==a.u()[b[u]()])throw new P(202,b.l());},this)},this)};H.Lf=function(a,b,c){a.Eb().dg()[F](function(a){a[Ma]==c&&this.gi(a,b)},this)};
H.gi=function(a,b){b[F](function(b){if(Zd(b[0],b[1],a[q])){b=b[1].u()[a.mc];var d=this.gg(a);if(null!==b&&!d.A(b))throw new P(203,a[q]);}},this)};H.gg=function(a){var b=this.s[h](a.fb)[a.xc].Ea()[Ga](function(b){return 1==b.h[C]&&b.h[0].ea[u]()==a.xc})[0];return this.H.get(b.l())};function Zd(a,b,c){return(null===a?null!==b:null===b)||a.Sb(c)!=b.Sb(c)}
H.Mf=function(a,b,c){a=this.s[wb]().Gj(a[u]());null!=a&&a[F](function(a){if(a[Ma]==c){var g=this.H.get(a[q]);b[F](function(b){var c=this.gg(a);if(Zd(b[0],b[1],c[u]())&&g.A(b[0].u()[a.xc]))throw new P(203,a[q]);},this)}},this)};H.qe=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[null,a]}),this.Lf(a,b,c))};H.re=function(a,b,c){0!=b[C]&&(this.Lf(a,b,c),this.Mf(a,b,c))};H.Jf=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[a,null]}),this.Mf(a,b,c))};
function $d(a){this.jb=new N;this.Na=new N;this.mb=new N;this.B=a}H=$d[t];na(H,G("B"));H.Uc=G("jb");H.Xc=G("Na");H.Vc=G("mb");H.add=function(a){if(this.mb.A(a.id())){var b=[this.mb.get(a.id()),a];this.Na.set(a.id(),b);this.mb[w](a.id())}else this.jb.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.jb.A(b)?this.jb.set(b,c):(this.Na.A(b)&&(a=[this.Na.get(a[0].id())[0],c]),this.Na.set(b,a))};
ra(H,function(a){if(this.jb.A(a.id()))this.jb[w](a.id());else if(this.Na.A(a.id())){var b=this.Na.get(a.id())[0];this.Na[w](a.id());this.mb.set(a.id(),b)}else this.mb.set(a.id(),a)});H.qj=function(){var a=[];this.jb.c()[F](function(b){a[x]([null,b])},this);this.Na.c()[F](function(b){a[x](b)},this);this.mb.c()[F](function(b){a[x]([b,null])},this);return a};f(H,function(){return"["+this.jb.M()[D]()+"], ["+this.Na.M()[D]()+"], ["+this.mb.M()[D]()+"]"});
H.Hj=function(){var a=new $d(this.B);this.jb.c()[F](function(b){a[Ya](b)},this);this.mb.c()[F](function(b){a.add(b)},this);this.Na.c()[F](function(b){a.modify([b[1],b[0]])},this);return a};H.Ha=function(){return this.jb.Ha()&&this.mb.Ha()&&this.Na.Ha()};
function ae(a,b){this.ra=new N;b[F](function(a){this.ra.set(a[u](),a)},this);this.sa=a.o(Bd);this.H=a.o(Cd);this.Ta=new Yd(a);this.Pd=new Sd(a);this.$e=this.fe=!1;this.Bb=new N}H=ae[t];H.cg=G("Bb");H.tj=function(){var a=[];this.Bb.M().map(function(a){return this.ra.get(a)},this)[F](function(b){b.Yb()&&(b.Ea()[F](function(b){a[x](this.H.get(b.l()))},this),a[x](this.H.get(b[u]()+".#")))},this);return a};H.fa=G("ra");
H.uj=function(){var a=[];this.ra.c()[F](function(b){b.Yb()&&(b.Ea()[F](function(b){a[x](b.l())}),a[x](b[u]()+".#"))});return a};H.yb=function(a,b){this.Ic();this.vd(a);this.Ta.se(a,b);this.Ta.qe(a,b,0);for(var c=0;c<b[C];c++)this.Qd(a,[null,b[c]])};
H.Qd=function(a,b){var c=a[u](),d=this.Bb.get(c,null)||new $d(c);this.Bb.set(c,d);try{this.Pd.sh(a,b)}catch(g){throw this.$e=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.sa.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.sa.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.sa[w](c,[k.id()]),d[Ya](k))};qa(H,function(a,b){this.Ic();this.vd(a);this.Ta.se(a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.sa.get([d.id()])[0],d];this.Ta.re(a,[d],0);this.Qd(a,d)}});
H.Oe=function(a,b){this.Ic();this.vd(a);this.Ta.se(a,b);for(var c=0;c<b[C];c++){var d=b[c],g=null,k=this.Ta.Zi(a,d);null!=k?(g=this.sa.get([k])[0],d.Kh(k),this.Ta.re(a,[[g,d]],0)):this.Ta.qe(a,[d],0);this.Qd(a,[g,d])}};va(H,function(a,b){this.Ic();this.vd(a);this.Ta.Jf(a,b,0);for(var c=0;c<b[C];c++)this.Qd(a,[b[c],null])});H.Xh=function(){this.Bb.c()[F](function(a){var b=this.ra.get(a[u]());this.Ta.qe(b,a.Uc().c(),1);this.Ta.Jf(b,a.Vc().c(),1);this.Ta.re(b,a.Xc().c(),1)},this)};
H.oa=function(){this.Ic();this.fe=!0};H.Ic=function(){L(!this.$e,"Attemptted to use journal that needs to be rolled back.");L(!this.fe,"Attemptted to commit a terminated journal.")};H.Hb=function(){L(!this.fe,"Attempted to rollback a terminated journal.");var a=this.Bb.c().map(function(a){return a.Hj()},this);this.Pd[Va](a);this.fe=!0;this.$e=!1};H.vd=function(a){if(!this.ra.A(a[u]()))throw new P(106,a[u]());};
function be(a,b,c,d){this.f=a;this.w=b;this.Y=null===this.f?!1:c;this.ba=null===this.w?!1:d}H=be[t];f(H,function(){return(this.Y?"(":"[")+(null===this.f?"unbound":this.f)+", "+(null===this.w?"unbound":this.w)+(this.ba?")":"]")});H.li=function(){if(null===this.f&&null===this.w)return[];var a=null,b=null;null===this.f||(a=new be(null,this.f,!1,!this.Y));null===this.w||(b=new be(this.w,null,!this.ba,!1));return[a,b][Ga](function(a){return null!==a})};
H.reverse=function(){return new be(this.w,this.f,this.ba,this.Y)};H.Ng=function(a){var b=ce(this.f,a.f,!0,this.Y,a.Y);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.w||c.w>a.f||c.w==a.f&&!c.ba&&!a.Y};function de(){return new be(null,null,!1,!1)}H.hk=function(){return null!=this.f&&this.f==this.w&&!this.Y&&!this.ba};H.contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.ba;return(null===this.f||a>this.f||a==this.f&&!this.Y)&&b};
H.Qc=function(a){return this.f==a.f&&this.Y==a.Y&&this.w==a.w&&this.ba==a.ba};function ce(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function ee(a,b){var c=ce(a.f,b.f,!0,a.Y,b.Y);0==c&&(c=ce(a.w,b.w,!1,a.ba,b.ba));return c};
function fe(a,b){this.entries=a;this.G=new O(b);this.Lb=null}H=fe[t];H.ek=function(a){return this.G.Qc(a.G)};function ge(a,b){L(a.ek(b),"Intersection/union operations only apply to compatible relations.")}H.X=function(){return this.G.c()};H.Qe=function(){return 1<this.G.pa()};H.Ge=function(){return this[B].map(function(a){return a.xa.u()})};H.Jj=function(){return this[B].map(function(a){return a.xa.id()})};H.Yk=function(a,b){null===this.Lb&&(this.Lb=new N);this.Lb.set(a.l(),b)};
H.rc=function(a){L(null!==this.Lb,"getAggregationResult called before any results have been calculated.");var b=this.Lb.get(a.l(),void 0);L(Jb(b),"Could not find result for "+a.l());return b};H.Vj=function(a){return null!==this.Lb&&this.Lb.A(a.l())};var he=null;function ie(){null===he&&(he=new fe([],[]));return he}
function je(a){if(0==a[C])return ie();for(var b=a[Ka](function(b,c){ge(a[0],c);return b+c[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,k=0;k<c[C];k++)b[Ua](function(a){return a.A(c[k].id)})&&g.set(c[k].id,c[k]);return new fe(g.c(),a[0].G.c())}function ke(a){if(0==a[C])return ie();var b=new N;a[F](function(c){ge(a[0],c);c[B][F](function(a){b.set(a.id,a)})});return new fe(b.c(),a[0].G.c())}
function le(a,b){var c=1<b[C],d=a.map(function(a){return new me(a,c)});return new fe(d,b)}function me(a,b){this.xa=a;this.id=ne++;this.Re=b}var ne=0;me[t].U=function(a){var b=a.ab();return null!==b&&this.xa.u()[rb](b)?this.xa.u()[b]:this.Re?this.xa.u()[a.V().ta()][a[u]()]:this.xa.u()[a[u]()]};me[t].kf=function(a,b){var c=a.ab();if(null!=c)this.xa.u()[c]=b;else if(this.Re){var c=a.V().ta(),d=this.xa.u()[c];null==d&&(d={},this.xa.u()[c]=d);d[a[u]()]=b}else this.xa.u()[a[u]()]=b};
function oe(a,b,c,d){function g(a,b){if(a.Re){var c=a.xa.u(),d;for(d in c)k[d]=c[d]}else L(!k[rb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.xa.u()}var k={};g(a,b);g(c,d);a=new ed(-1,k);return new me(a,!0)};
I("lf.bind",function(a){return new pe(a)},void 0);function pe(a){this.qa=a}I("lf.Binder",pe,void 0);pe[t].vb=G("qa");
function qe(){var a=re();this.Ji=new N(1,se(),2,te(),4,a,3,a,5,ue())}Lb(qe);qe[t].Ee=function(a,b){var c=this.Ji.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function re(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function ue(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function te(){return new N("between",function(a,b){return a[Bb]()>=b[0][Bb]()&&a[Bb]()<=b[1][Bb]()},"eq",function(a,b){return(null===a?-1:a[Bb]())==(null===b?-1:b[Bb]())},"gte",function(a,b){return a[Bb]()>=b[Bb]()},"gt",function(a,b){return a[Bb]()>b[Bb]()},"in",function(a,b){return b[ab](function(b){return b[Bb]()==a[Bb]()})},"lte",function(a,b){return a[Bb]()<=b[Bb]()},"lt",function(a,b){return a[Bb]()<b[Bb]()},"neq",function(a,b){return(null===a?-1:a[Bb]())!=(null===b?-1:b[Bb]())})}
function se(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function ve(a,b){this.Bg=a;this.th=b}ve[t].getKey=G("Bg");ve[t].Oj=G("th");la(ve[t],function(){return new ve(this.Bg,this.th)});function we(a,b){ve[r](this,a,b);this.i=this.D=null}K(we,ve);var xe=[];H=we[t];la(H,function(){return new we(this.getKey(),this.Oj())});H.getParent=G("D");H.tg=function(){return!this.ya()};H.ca=function(){return this.i||xe};H.tb=function(a){return this.ca()[a]||null};H.ya=function(){return this.ca()[C]};H.sj=function(){for(var a=0,b=this;b[yb]();)a++,b=b[yb]();return a};H.nb=function(){for(var a=this;a[yb]();)a=a[yb]();return a};H.contains=function(a){do a=a[yb]();while(a&&a!=this);return Boolean(a)};
H.Cc=function(a,b){if(!1!==a[r](b,this))for(var c=this.ca(),d=0;d<c[C];d++)c[d].Cc(a,b)};H.eh=Gb("D");H.ja=function(a){this.Fc(a,this.i?this.i[C]:0)};H.Fc=function(a,b){L(!a[yb]());a.eh(this);this.i=this.i||[];L(0<=b&&b<=this.i[C]);qc(this.i,b,0,a)};H.ae=function(a){var b=this.i&&this.i[a];return b?(b.eh(null),mc(this.i,a),0==this.i[C]&&(this.i=null),b):null};H.removeChild=function(a){return this.ae(gc(this.ca(),a))};

function ye(){we[r](this,"","");this.za=ze++}K(ye,we);var ze=0;ye[t].da=G("za");ye[t].lf=Gb("za");
function Ae(a,b,c){ye[r](this);this.K=a;pa(this,b);this.L=c;this.Bd=qe.Fe().Ee(this.K.Z(),this.L);this.cb=!1;this.ic=b}K(Ae,ye);H=Ae[t];H.Mb=function(){var a=new Ae(this.K,this[v],this.L);a.Zk(this.ic);a.de(this.cb);a.lf(this.da());return a};H.ub=function(a){return null!=a?(a[x](this.K),a):[this.K]};H.de=Gb("cb");H.Zk=Gb("ic");H.Hf=function(){var a=!1;this[v]instanceof pe||(a="array"==Mb(this[v])?!this[v][ab](function(a){return a instanceof pe}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Hf();if("in"==this.L)return this.Fi(a);var b=a[B][Ga](function(a){return this.Bd(a.U(this.K),this[v])!=this.cb},this);return new fe(b,a.X())};Ba(H,function(a){if(this.ic instanceof pe){var b=this.ic.vb();if(a[C]<=b)throw new P(510);pa(this,a[b])}else"array"==Mb(this.ic)&&pa(this,this.ic.map(function(b){if(b instanceof pe){if(a[C]<=b.vb())throw new P(510);return a[b.vb()]}return b}))});
H.Fi=function(a){L("in"==this.L,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[v]),c=J(function(a){return b[sb](a)!=this.cb},this),d=a[B][Ga](function(a){return c(a.U(this.K))},this);return new fe(d,a.X())};f(H,function(){return"value_pred("+this.K.l()+" "+this.L+(this.cb?"(complement)":"")+" "+this[v]+")"});H.sg=function(){this.Hf();return null!==this[v]&&("between"==this.L||"eq"==this.L||"gt"==this.L||"gte"==this.L||"lt"==this.L||"lte"==this.L)};
H.jl=function(){L(this.sg(),"Could not convert predicate to key range.");var a=null;"between"==this.L?a=new be(this[v][0],this[v][1],!1,!1):"eq"==this.L?(a=this[v],a=new be(a,a,!1,!1)):a="gte"==this.L?new be(this[v],null,!1,!1):"gt"==this.L?new be(this[v],null,!0,!1):"lte"==this.L?new be(null,this[v],!1,!1):new be(null,this[v],!1,!0);return this.cb?a.li():[a]};
function Be(a){this.ea=a;this.Kc=this.va=null}Be[t].Jd=function(a){null===this.va&&null!=this.C&&(this.va=Ce(this.C));a=this.va.get(a,null);L(null!==a);return a};function Ce(a){var b=new N;a.Cc(function(a){b.set(a.da(),a)});return b}Be[t].wd=function(a){a.C&&(this.C=a.C.Mb());this.Kc=a};Ba(Be[t],function(){L(null==this.Kc);return this});Be[t].ne=function(a){var b=this.C;null!=b&&b.Cc(function(b){b instanceof Ae&&b[E](a)})};
function De(a){Be[r](this,a)}K(De,Be);function Ee(a){var b="";a[F](function(c,d){b+=c.K.l()+" ";b+=1==c.pb?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}De[t].fa=function(){return new O(this.f)};la(De[t],function(){var a=new De(this.ea);a.wd(this);this.h&&(a.h=this.h[n]());this.f&&(a.f=this.f[n]());a.na=this.na;a.ia=this.ia;this.N&&(a.N=this.N[n]());this.la&&(a.la=this.la[n]());this.Tb&&(a.Tb=this.Tb);this.dc&&(a.dc=this.dc);a.wc=this.wc;return a});
Ba(De[t],function(a){De.Jb[E][r](this,a);null!=this.Tb&&(this.na=a[this.Tb.vb()]);null!=this.dc&&(this.ia=a[this.dc.vb()]);this.ne(a);return this});
function Fe(a,b){this.Ca=a;this.ra=b}Fe[t].nb=G("Ca");Fe[t].Xf=Hb("plan description");Fe[t].fa=G("ra");function Ge(a){var b=new O;a[F](function(a){b[hb](a.fa())});return b};

function He(a,b){this.global=a;this.Cb=a.o(Ad);this.Zd=b.map(function(a){return a[nb]});this.Qg=b.map(function(a){return a.af});this.Of=Ge(this.Qg);this.ph=this.Bi();this.$b=Zc()}H=He[t];H.Bi=function(){return this.Zd[ab](function(a){return!(a instanceof De)})?1:0};
ma(H,function(){var a=new ae(this[Wa],this.Of.c()),b=[],c=this.Qg[n](),d=J(function(){var g=c[qb]();if(g){var k=this.Zd[b[C]];return g.nb()[Qa](a,k)[z](function(a){b[x](a[0]);return d()})}return Uc()},this);return d()[z](J(function(){return this.Cb.Nb(this.ph,a).oa()},this))[z](J(function(){this.Ye(b);return b},this),J(function(b){a.Hb();throw b;},this))});H.Z=G("ph");H.fa=G("Of");H.Yc=G("$b");H.da=function(){return Sb(this)};H.Ye=Fb();
function Ie(a,b){He[r](this,a,b);this.Fb=a.o(Fd)}K(Ie,He);Ea(Ie[t],Hb(0));Ie[t].Ye=function(a){this.Zd[F](function(b,c){this.Fb.rh(b,a[c])},this)};
function Je(a,b){this.m=a;this.Fb=a.o(Fd);this.Ya=a.o(Ed);this.Pd=new Sd(a);this.Bb=b;var c=a.o(Gd),d=this.Bb.map(function(a){return c[h](a[u]())});this.ra=new O(d);this.$b=Zc()}H=Je[t];ma(H,function(){this.Pd[Va](this.Bb);this.kd();return Uc()});H.Z=Hb(1);H.fa=G("ra");H.Yc=G("$b");H.da=function(){return Sb(this)};Ea(H,Hb(1));H.kd=function(){var a=this.Fb.Le(this.ra.c());0!=a[C]&&(a=new Ie(this.m,a),this.Ya.ac(a))};
function Ke(a){this.m=a;this.Cb=a.o(Ad);this.Ya=a.o(Ed)}Ke[t].fl=function(){this.Cb.subscribe(this.We[E](this))};Ke[t].We=function(a){a=new Je(this.m,a);this.Ya.ac(a)};


function Q(a,b){this.Sa=a;this.j=b;this.ib=new N}I("lf.backstore.FirebaseRawBackStore",Q,void 0);H=Q[t];H.Kd=G("j");H.Ld=function(){throw new P(351);};function Le(a,b){var c=Zc(),d=a;b[C]&&(d=a[jb](b));d[Ha]("value",function(a){c[Cb](a.val())},function(a){c[La](a)});return c.ga}function Me(a,b,c){function d(a){a?g[La](a):g[Cb]()}c=c||!1;var g=Zc();c?a.set(b,d):a[Va](b,d);return g.ga}
H.Fa=function(a){return Le(this.j,"@rev/R")[z](function(a){this.Xa=a;return Le(this.j,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.ib.set(d,b[d]),b[d]>c&&(c=b[d]);a.Za()[F](function(a){this.ib.A(a[u]())||(b[a[u]()]=++c)},this);d=this.j[jb]("@table");return Me(d,b)}[E](this))};
H.ge=function(a,b){var c=this.ib.get(a);return null!=c?function(){var a={},g=Zc();this.j[bb]("T").equalTo(c)[Ha]("value",function(c){c[F](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Cb](a)});return g.ga}[r](this)[z](function(a){a["@rev"]={R:++this.Xa};return Me(this.j,a)}[E](this)):Uc()};H.Oc=function(a){return this.ge(a,Hb(null))[z](function(){this.ib[w](a);return Me(this.j[jb]("@table/"+a),null,!0)}[E](this))};Q[t].dropTable=Q[t].Oc;
Q[t].Gc=function(a,b,c){return this.ge(a,function(a){var g=a.P;g[b]=c;return{R:this.Xa+1,T:a.T,P:g}}[E](this))};Q[t].addTableColumn=Q[t].Gc;Q[t].Pc=function(a,b){return this.ge(a,function(a){var d=a.P;delete d[b];return{R:this.Xa+1,T:a.T,P:d}}[E](this))};Q[t].dropTableColumn=Q[t].Pc;Q[t].jd=function(a,b,c){return this.ge(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Xa+1,T:a.T,P:g}}[E](this))};Q[t].renameTableColumn=Q[t].jd;Q[t].Db=function(){throw new P(351);};Q[t].createRow=Q[t].Db;
Q[t].ad=G("Sa");Q[t].getVersion=Q[t].ad;Q[t].oc=function(a){var b=Zc();a=this.ib.get(a);this.j[bb]("T").equalTo(a)[Ha]("value",function(a){var d=[];a[F](function(a){d[x](a.val().P)});b[Cb](d)});return b.ga};ka(Q[t],function(){var a={},b=this.ib.M().map(function(b){return this.oc(b)[z](function(d){a[b]=d})}[E](this));return Yc(b)[z](function(){return a})});ka(Q[t],Q[t].dump);
function Ne(a,b,c){md[r](this,c,b);this.j=a}K(Ne,md);Ne[t].V=function(a){return this.j.Zc(a)};
Ne[t].Lc=function(){var a=this.wj().cg();if(0==a.pa())this.aa[Cb]();else{var b=this.j.Ij()+1;this.j.fh(b);var c={"@rev":{R:b}};a[F](function(a){var g=this.j.jg(a[u]());a.Uc()[F](function(a,d){c[d]={R:b,T:g,P:a.u()}});a.Xc()[F](function(a,d){c[d]={R:b,T:g,P:a[1].u()}});a.Vc()[F](function(a,b){c[b]=null})},this);this.j.Fj()[Va](c,function(c){if(null===c)this.aa[Cb]();else this.j.fh(b-1),c=a.c().map(function(a){return this.j.Vg(a[u]())},this),Yc(c)[z](this.aa[La][E](this.aa),this.aa[La][E](this.aa))}[E](this))}return this.aa.ga};
function Oe(){this.sb=new N}H=Oe[t];H.Ke=function(a){if(0==a[C])return this.sb.c();var b=[];a[F](function(a){a=this.sb.get(a,null);null===a||b[x](a)},this);return b};H.getData=G("sb");H.get=function(a){return Uc(this.Ke(a))};H.bf=function(a){a[F](function(a){this.sb.set(a.id(),a)},this)};H.put=function(a){this.bf(a);return Uc()};H.Wg=function(a){0==a[C]||a[C]==this.sb.pa()?this.sb[cb]():a[F](function(a){this.sb[w](a)},this)};va(H,function(a){this.Wg(a);return Uc()});
H.xj=function(){return this.sb.Ha()?0:this.sb.M()[Ka](function(a,b){return a>b?a:b},0)};
function Pe(a,b){this.s=a;this.Bh=b;this.hd=new N;this.Xa=-1;this.G=new N;this.ib=new N;this.oe=null}H=Pe[t];H.Ij=G("Xa");H.fh=Gb("Xa");
H.Fa=function(a){this.j=this.Bh[jb](this.s[q]());var b=a||function(){return Uc()};return Le(this.j,"@db/version")[z](function(a){return null===a?Me(this.j,this.ri(),!0)[z](function(){var a=new Q(0,this.j);return b(a)}[E](this)):a==this.s[tb]()?Le(this.j,"@rev/R")[z](function(a){this.Xa=a;return Le(this.j,"@table")}[E](this))[z](function(a){for(var b in a)this.ib.set(b,a[b]);a=this.s.Za().map(function(a){return this.Vg(a[u]())},this);return Yc(a)}[E](this))[z](function(){this.$j();this.Fg();return Uc()}[E](this)):
this.Ze(a,b)[z](function(){return this.Fa()}[E](this))}[E](this))};H.Ze=function(a,b){var c=new Q(a,this.j);return c.Fa(this.s)[z](function(){return this.pl()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.j[jb]("@db");return Me(a,{version:this.s[tb]()},!0)}[E](this))};H.pl=function(){return Uc()};H.Fg=function(){this.j.off();this.j.on("child_removed",this.yk[E](this));this.pe&&(this.pe.off(),this.hd[cb]());this.pe=this.j[bb]("R").startAt(this.Xa+1);this.pe.on("value",this.We[E](this))};
H.$j=function(){fd=this.G.c().map(function(a){return a.xj()})[Ka](function(a,b){return a>b?a:b},0)+1};H.yk=function(a){var b=a.val(),c=this.hd.get(b.T,null);null===c&&(c=new O,this.hd.set(b.T,c));c.add(da(a.key(),10))};H.We=function(a){var b=a[jb]("@rev/R").val();null!=b&&b!=this.Xa&&(this.Xa=b,a=this.ej(a),a[F](function(a){var b=this.G.get(a[u]()),g=a.Vc().M();g[C]&&b.Wg(g);var k=a.Uc().c();a.Xc()[F](function(a){k[x](a[1])});b.bf(k)},this),a[C]&&this.fd(a),this.Fg())};
H.ej=function(a){var b=new O,c=new N;this.ib[F](function(a,g){var k=this.G.get(g),l=new $d(g);if(this.hd.A(a)){var p=this.hd.get(a).c();b[hb](p);k.Ke(p)[F](function(a){l[Ya](a)})}c.set(a,l)}[E](this));a[F](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b[sb](g)){a=a.val();var k=c.get(a.T),l=this.G.get(k[u]());l.getData().A(g)?k.modify([l.Ke([g])[0],new ed(g,a.P)]):k.add(new ed(g,a.P))}}}[E](this));return c.c()[Ga](function(a){return!a.Ha()})};
H.Vg=function(a){var b=Zc(),c=this.jg(a);this.j[bb]("T").equalTo(c)[Ha]("value",function(c){var g=new Oe,k=[];c[F](function(a){k[x](new ed(da(a.key(),10),a.val().P))});g.bf(k);this.G.set(a,g);b[Cb]()}[E](this));return b.ga};H.jg=function(a){return this.ib.get(a)};H.ri=function(){var a={};a["@db"]={version:this.s[tb]()};a["@rev"]={R:1};this.Xa=1;a["@table"]={};this.s.Za()[F](function(b,c){var d=b[u]();a["@table"][d]=c;this.G.set(d,new Oe);this.ib.set(d,c)},this);return a};
H.Nb=function(a,b){return new Ne(this,a,b)};H.Zc=function(a){var b=this.G.get(a,null);if(null!==b)return b;throw new P(101,a);};H.Fj=G("j");oa(H,Fb());Ca(H,Gb("oe"));H.fd=function(a){null!=this.oe&&this.oe(a)};
function R(a,b,c,d){this.j=b;this.Ra=c;this.Sa=a;this.sd=d}I("lf.backstore.IndexedDBRawBackStore",R,void 0);R[t].Kd=G("j");R[t].getRawDBInstance=R[t].Kd;R[t].Ld=G("Ra");R[t].getRawTransaction=R[t].Ld;R[t].Oc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[t].dropTable=R[t].Oc;
R[t].Ck=function(a,b,c){return new M(function(d,g){var k;try{var l=this.Ra[ub](a);k=l[Fa]()}catch(p){g(p);return}sa(k,function(){var a=k[Db];a?(b(a),a[gb]()):(c(l),d())});za(k,g)},this)};function Qe(a){var b=null;return b=a instanceof ArrayBuffer?id(a):a instanceof Date?a[Bb]():a}R[t].pf=function(a,b){function c(a){var c=Nd(a[v]),d=c.sc(),p;for(p in d){var y=gd(d[p]);b(y);d[p]=y.Ka()}a[Va](c.Ka())}function d(a){var c=gd(a[v]);b(c);a[Va](c.Ka())}return this.Ck(a,this.sd?c:d,Fb())};
R[t].Gc=function(a,b,c){var d=Qe(c);return this.pf(a,function(a){a.u()[b]=d})};R[t].addTableColumn=R[t].Gc;R[t].Pc=function(a,b){return this.pf(a,function(a){delete a.u()[b]})};R[t].dropTableColumn=R[t].Pc;R[t].jd=function(a,b,c){return this.pf(a,function(a){a.u()[c]=a.u()[b];delete a.u()[b]})};R[t].renameTableColumn=R[t].jd;
R[t].Mj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Ra[ub](a)[Fa]()}catch(k){d(k);return}sa(g,J(function(){var a=g[Db];if(a){if(this.sd){var d=Nd(a[v]).sc(),k;for(k in d)b[x](d[k])}else b[x](a[v]);a[gb]()}else c(b)},this));za(g,d)},this)};R[t].Db=function(a){var b={};xc(a,J(function(a,d){b[d]=Qe(a)},this));return hd(b)};R[t].createRow=R[t].Db;R[t].ad=G("Sa");R[t].getVersion=R[t].ad;
ka(R[t],function(){for(var a=this.j[Ia],b=[],c=0;c<a[C];++c){var d=a[Na](c);b[x](this.oc(d))}return Yc(b)[z](function(b){var c={};b[F](function(b,d){c[a[Na](d)]=b});return c})});ka(R[t],R[t].dump);R[t].oc=function(a){return this.Mj(a)[z](function(a){return a.map(function(a){return a[v]})})};
function Re(a,b){this.W=a;this.Ob=b}H=Re[t];H.get=function(a){if(0==a[C])return this.De();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.W.get(a)}catch(k){d(k);return}za(g,d);sa(g,J(function(a){c(this.Ob(a[Pa][Db]))},this))},this)},this);return Yc(a)};H.De=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Fa]()}catch(g){b(g);return}za(d,b);sa(d,J(function(){var b=d[Db];b?(c[x](this.Ob(b[v])),b[gb]()):a(c)},this))},this)};
H.Xb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};H.put=function(a){if(0==a[C])return Uc();a=a.map(function(a){return this.Xb(J(function(){return this.W.put(a.Ka())},this))},this);return Yc(a)};
va(H,function(a){return new M(function(b,c){var d=this.W.count();sa(d,J(function(d){if(0==a[C]||d[Pa][Db]==a[C])return this.Xb(J(function(){return this.W[cb]()},this))[z](b,c);d=a.map(function(a){return this.Xb(J(function(){return this.W[Ya](a)},this))},this);Yc(d)[z](b,c)},this));za(d,c)},this)});
function Se(a,b,c,d,g){md[r](this,c,d);this.m=a;this.Ra=b;this.sd=g;this.Ra.oncomplete=J(this.aa[Cb],this.aa);this.Ra.onabort=J(this.aa[La],this.aa)}K(Se,md);Se[t].V=function(a,b,c){return this.sd?(c=null!=c?c:0,a=this.Ra[ub](a),new Od(a,b,0==c?Yb(Pd,this.m):Qd)):new Re(this.Ra[ub](a),b)};Se[t].Lc=function(){return this.aa.ga};
function Te(a,b){this.m=a;this.s=b;this.td=b.Rg().Di||!1}H=Te[t];H.Fa=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Uc()};return new M(function(a,g){var k;try{k=b.open(this.s[q](),this.s[tb]())}catch(l){g(l);return}za(k,g);k.onupgradeneeded=J(function(a){this.Bk(c,a)[z](Fb(),g)},this);sa(k,J(function(b){this.j=b[Pa][Db];this.jf()[z](J(function(b){fd=b+1;a(this.j)},this))},this))},this)};
H.Bk=function(a,b){var c=b[Pa][Db],d=b[Pa][lb],g=new R(b.oldVersion,c,d,this.td);this.Rk(c,d);this.wi(c,d);return a(g)};H.Rk=function(a){for(var b=[],c=0;c<a[Ia][C];++c){var d=a[Ia][Na](c);-1!=d[$a](".")&&b[x](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.wi=function(a,b){this.s.Za()[F](Yb(this.ti,a,b),this)};H.ti=function(a,b,c){a[Ia][sb](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Yb()&&(c.Ea()[F](function(c){this.Nc(a,b,c.l(),"btree")},this),this.Nc(a,b,c.Pb(),"rowid"))};
H.Nc=function(a,b,c,d){a[Ia][sb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[ub](c),(this.td?new Od(a,gd,Qd):new Re(a,gd)).put([new kd(new jd(d))]))};H.Nb=function(a,b){var c=b.fa().c().map(function(a){return a[u]()});b.uj()[F](function(a){c[x](a)});var d=this.j[lb](c,0==a?"readonly":"readwrite");return new Se(this.m,d,b,a,this.td)};
H.jf=function(a){function b(){if(0==c[C])return Uc();var a=c[qb]();return l(a)[z](b)}var c=this.s.Za().map(function(a){return a[u]()}),d=this.j,g=0,k=J(function(a){return this.td?(a=Nd(a[v]),Ac(a.sc())[Ka](function(a,b){return ba.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var Ub;try{Ub=(a||d[lb]([b]))[ub](b)[Fa](null,"prev")}catch(lh){l(lh);return}sa(Ub,function(a){(a=a[Pa][Db])&&(g=ba.max(g,k(a)));c(g)});za(Ub,function(){c(g)})},this)},this);return new M(function(a){b()[z](function(){a(g)})})};
oa(H,function(){this.j[Ra]()});H.Zc=function(){throw new P(511);};Ca(H,Fb());H.fd=Fb();



function Ue(a,b,c){md[r](this,c,b);this.W=a;0==b&&this.aa[Cb]()}K(Ue,md);Ue[t].V=function(a){return this.W.Zc(a)};Ue[t].Lc=function(){this.aa[Cb]();return this.aa.ga};
function Ve(a){this.s=a;this.G=new N}H=Ve[t];H.Fa=function(){this.s.Za()[F](this.ak,this);return Uc()};H.Zc=function(a){var b=this.G.get(a,null);if(null===b)throw new P(101,a);return b};H.Nb=function(a,b){return new Ue(this,a,b)};H.Pf=function(a){if(!this.G.A(a)){var b=new Oe;this.G.set(a,b);return b}return null};H.ak=function(a){this.Pf(a[u]());a.Yb()&&(a.Ea()[F](function(a){this.Nc(a.l(),"btree")},this),this.Nc(a.Pb(),"rowid"))};H.Nc=function(a,b){var c=this.Pf(a);null===c||c.put([new kd(new jd(b))])};
oa(H,Fb());Ca(H,Fb());H.fd=Fb();
function We(a){Ve[r](this,a);this.Ud=null}K(We,Ve);Ca(We[t],function(a){null===this.Ud&&(this.Ud=a)});We[t].fd=function(a){null===this.Ud||this.Ud(a)};
function Xe(a,b,c){this.Ra=a;this.B=b;this.Ob=c}Xe[t].get=function(a){var b=this.Ob;this.Ra.Pa("SELECT id, value FROM "+this.B+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[zb][C],g=e(d),k=0;k<d;++k)g[k]=b({id:a[zb][Na](k).id,value:JSON.parse(a[zb][Na](k)[v])});return g});return this.Ra.oa()};
Xe[t].put=function(a){if(0==a[C])return Uc();var b="INSERT OR REPLACE INTO "+this.B+"(id, value) VALUES (?, ?)";a[F](function(a){this.Ra.Pa(b,[a.id(),JSON.stringify(a.u())])},this);return Uc()};va(Xe[t],function(a){this.Ra.Pa("DELETE FROM "+this.B+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Uc()});
function Ye(a,b,c){md[r](this,b,c);this.j=a;this.G=new N;this.ve=[]}K(Ye,md);Ye[t].V=function(a,b){var c=this.G.get(a,null);null===c&&(c=new Xe(this,a,b),this.G.set(a,c));return c};Ye[t].Pa=function(a,b,c){this.ve[x]({gl:a,Dk:b,transform:c})};
Ye[t].Lc=function(){var a,b,c=this.aa[La][E](this.aa),d=function(a,b){this.aa[La](b)}[E](this),g=J(function(c,l){a=l;if(this.ve[C]){var p=this.ve[qb]();b=p.transform;c.executeSql(p.gl,p.Dk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.aa[Cb](p)},this);0==this.oh?this.j.readTransaction(g,c):this.j[lb](g,c);return this.aa.ga};
function S(a,b,c){this.j=c;this.m=a;this.Sa=b}I("lf.backstore.WebSqlRawBackStore",S,void 0);S[t].Kd=G("j");S[t].getRawDBInstance=S[t].Kd;S[t].Ld=function(){throw new P(356);};S[t].getRawTransaction=S[t].Ld;S[t].Ad=function(){return new Ye(this.j,new ae(this.m,[]),1)};S[t].Oc=function(a){var b=this.Ad();b.Pa("DROP TABLE "+a,[]);return b.oa()};S[t].dropTable=S[t].Oc;
S[t].oc=function(a){var b=this.Ad();b.Pa("SELECT id, value FROM "+a,[]);return b.oa()[z](function(a){for(var b=a[zb][C],g=e(b),k=0;k<b;++k)g[k]={id:a[zb][Na](k).id,value:JSON.parse(a[zb][Na](k)[v])};return Uc(g)})};S[t].of=function(a,b){var c=this.Ad(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.oc(a)[z](function(a){a[F](function(a){a=b(a);c.Pa(d,[JSON.stringify(a[v]),a.id])});return c.oa()})};S[t].Gc=function(a,b,c){var d=Qe(c);return this.of(a,function(a){a[v][b]=d;return a})};
S[t].addTableColumn=S[t].Gc;S[t].Pc=function(a,b){return this.of(a,function(a){delete a[v][b];return a})};S[t].dropTableColumn=S[t].Pc;S[t].jd=function(a,b,c){return this.of(a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};S[t].renameTableColumn=S[t].jd;S[t].Db=function(a){var b={},c;for(c in a)b[c]=Qe(a[c]);return hd(b)};S[t].createRow=S[t].Db;S[t].ad=G("Sa");S[t].getVersion=S[t].ad;
function Ze(a){a.Pa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[zb][C]),d=0;d<c[C];++d)c[d]=a[zb][Na](d).tbl_name;return c})}ka(S[t],function(){var a=Zc(),b=this.Ad();Ze(b);var c={};b.oa()[z](J(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.oc(a)[z](function(b){c[a]=b})},this);Yc(b)[z](function(){a[Cb](c)})},this));return a.ga});ka(S[t],S[t].dump);
function $e(a,b,c){this.m=a;this.s=b;this.cl=c||4194304}H=$e[t];H.Ed=function(){return new ae(this.m,[])};H.Fa=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Uc()};return new M(J(function(a,d){try{var g=ca.openDatabase(this.s[q](),"",this.s[q](),this.cl);if(null!=g)this.j=g,this.hi(b)[z](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.hi=function(a){var b=Zc(),c=new Ye(this.j,this.Ed(),1);c.Pa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Pa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.oa()[z](J(function(c){var g=0;c[zb][C]&&(g=c[zb][Na](0).v);g<this.s[tb]()?this.Ze(a,g)[z](b[Cb][E](b)):g>this.s[tb]()?b[La](new P(108)):b[Cb]()},this));return b.ga};H.Nb=function(a,b){if(null!=this.j)return new Ye(this.j,b,a);throw new P(2);};oa(H,Fb());H.Zc=function(){throw new P(512);};
H.Ig=function(){throw new P(355);};Ca(H,function(){this.Ig()});H.fd=function(){this.Ig()};H.Ze=function(a,b){var c=Zc();this.Gk()[z](J(function(){a(new S(this.m,b,this.j))[z](J(function(){return this.jf()},this))[z](c[Cb][E](c))},this),c[La][E](c));return c.ga};
H.Gk=function(){var a=this.s.Za(),b=new Ye(this.j,this.Ed(),1),c=new Ye(this.j,this.Ed(),1);b.Pa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[tb]()]);Ze(b);return b.oa()[z](function(b){b[Ga](function(a){return-1!=a[$a](".")})[F](function(a){c.Pa("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[$a](".")});a.map(function(a){return a[u]()})[Ga](function(a){return-1==g[$a](a)})[F](function(a){c.Pa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.oa()})};
H.jf=function(){var a=0,b=Zc(),c=J(function(b){var c=new Ye(this.j,this.Ed(),0);c.Pa("SELECT MAX(id) FROM "+b,[]);return c.oa()[z](function(b){b=b[zb][Na](0)[0];a=ba.max(b,a)})},this),d=this.s.Za().map(function(a){return c(a[u]())});Yc(d)[z](function(){b[Cb](a)},function(a){b[La](a)});return b.ga};

function af(){this.g=new N;aa.defineProperty(this,"size",{get:function(){return this.g.pa()}})}ta(af[t],function(){this.g[cb]()});ta(af[t],af[t][cb]);ra(af[t],function(a){return this.g[w](a)});af[t]["delete"]=af[t][Ya];Da(af[t],function(a,b){return this.g[F](a,b)});Da(af[t],af[t][F]);af[t].get=function(a){return this.g.get(a)};af[t].get=af[t].get;af[t].has=function(a){return this.g.A(a)};af[t].has=af[t].has;af[t].set=function(a,b){return this.g.set(a,b)};af[t].set=af[t].set;
var bf=ca.Map&&ca.Map[t][db]&&ca.Map[t][F]?ca.Map:af;function cf(a){if(a instanceof af)return a.g.M();var b=0,c=e(a[Eb]);a[F](function(a,g){c[b++]=g});return c}function df(a){if(a instanceof af)return a.g.c();var b=0,c=e(a[Eb]);a[F](function(a){c[b++]=a});return c};
function ef(a){this.bc=new O(a);aa.defineProperty(this,"size",{get:function(){return this.bc.pa()}})}ef[t].add=function(a){this.bc.add(a)};ef[t].add=ef[t].add;ta(ef[t],function(){this.bc[cb]()});ta(ef[t],ef[t][cb]);ra(ef[t],function(a){return this.bc[w](a)});ef[t]["delete"]=ef[t][Ya];Da(ef[t],function(a,b){this.bc.c()[F](a,b)});ef[t].has=function(a){return this.bc[sb](a)};ef[t].has=ef[t].has;var ff=ca.Set&&ca.Set[t][db]&&ca.Set[t][F]?ca.Set:ef;
function gf(a){if(a instanceof ef)return a.bc.c();var b=0,c=e(a[Eb]);a[F](function(a){c[b++]=a});return c};
function hf(){this.g=new bf;this.kh=new bf}H=hf[t];H.Md=function(a){var b=this.kh.get(a);Jb(b)||(b=new ff,this.kh.set(a,b));return b};H.set=function(a,b){var c=this.Md(a);b[F](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.bb=function(a,b,c){var d=[],g=ba.min(b,c),k=ba.max(b,c);a=this.Md(a);if(a[Eb]<k-g)a[F](function(a){a>=g&&a<=k&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[x](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[x](c));return d};va(H,function(a,b){var c=this.Md(a);b[F](function(a){this.g[Ya](a);c[Ya](a)},this)});H.pa=function(a){return null!=a?this.Md(a)[Eb]:this.g[Eb]};
function jf(a,b,c,d){a=b?a[fb]():a;if(null==c&&null==d)return a;c=ba.min(Jb(c)?c:a[C],a[C]);if(0==c)return[];d=ba.min(d||0,a[C]);return a[n](d,d+c)};
function kf(){this.Kb=0}kf[t].add=function(a,b){this.Kb+=b||1};va(kf[t],function(a,b){this.Kb-=b});ta(kf[t],function(){this.Kb=0});kf[t].ol=function(a){this[cb]();a[F](function(a){this.Kb+=a.Kb},this)};
function mf(a,b,c,d){this.B=a;this.S=b;this.rf=c;this.Bc=new kf;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=nf(this,d);this.wa=d=of(d)}else this[cb]()}var pf=[];H=mf[t];na(H,G("B"));f(H,function(){return this.wa[D]()});H.add=function(a,b){this.wa=this.wa.yb(a,b);this.Bc.add(a)};H.set=function(a,b){this.wa=this.wa.yb(a,b,!0)};va(H,function(a,b){this.wa=this.wa[w](a,b)});H.get=function(a){return this.wa.get(a)};H.zd=function(a){return null!=a?this.bb([a])[C]:this.bb()[C]};H.Ac=G("Bc");
H.bb=function(a,b,c,d){var g=this.wa.Hd().b[0];if(!Jb(g)||0==c)return pf;var k=(c||0)+(d||0),k=0<k&&!b?k:Number.POSITIVE_INFINITY,l=[];(Jb(a)?this.S.ih(a):[this.S.Ce()])[F](function(a){for(var b=this.S.$d(a),b=this.S.Pe(a)?g:b[0],b=this.wa.bg(b),c=0;null!=b&&l[C]<k;)0!=b.bb(a,l)?c=0:c++,b=2==c?null:b[pb]()},this);return jf(l,b,c,d)};ta(H,function(){this.wa=qf(this);this.Bc[cb]()});H.A=function(a){return this.wa.A(a)};H.min=function(){return this.ed(J(this.S.min,this.S))};
H.max=function(){return this.ed(J(this.S.max,this.S))};H.ed=function(a){var b=this.wa.Hd(),c=this.wa.ig();if(0==b.b[C]&&0==c.b[C])return[null,null];var d=b.b[0],b=b.J[0],g=c.b[c.b[C]-1],c=c.J[c.b[C]-1];return 1==a(d,g)?[d,this.rf?[b]:b]:[g,this.rf?[c]:c]};H.eb=G("rf");H.Mc=G("S");H.Ue=function(a,b){return null!=a?-1==this.S[xb](a,b):!1};H.Ua=function(a,b){return null!=a?0==this.S[xb](a,b):!1};H.Ka=function(){for(var a=[],b=this.wa.Hd();b;)a[x](new ed(b.za,[b.b,b.J])),b=b.Aa;return a};
function rf(a,b,c,d){a=new mf(b,a,c);d=sf(d,a);a.wa=d;return a}function tf(a,b){this.za=a;this.I=b;this.ob=0;this.Aa=this.zb=this.D=null;this.b=[];this.J=[];this.i=[]}function qf(a){return new tf(fd++,a)}H=tf[t];H.ma=function(){return 0==this.ob};H.yg=function(){return null==this.D};ya(H,G("Aa"));
function uf(a){function b(a){return null!=a?a.za[D]():"_"}var c=a.za+"["+a.b[m]("|")+"]",d=a.i.map(function(a){return a.za})[m]("|"),g=a.J[m]("/"),k=b(a.zb)+"{",k=a.ma()?k+g:k+d,k=k+"}"+b(a.D);a.Aa&&(a=uf(a.Aa),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=uf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[C]&&(a+=this.i[0][D]());return a});H.Hd=function(){return this.ma()?this:this.i[0].Hd()};H.ig=function(){return this.ma()?this:this.i[this.i[C]-1].ig()};
function vf(a,b){b&&(b.zb=a);a&&(a.Aa=b)}function nf(a,b){for(var c=b[C],d=0,g=qf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.b=p.map(function(a){return a.key});g.J=p.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=qf(g.I),vf(g,l),g=l)}return k}function wf(a){var b=a[0],c=qf(b.I);c.ob=b.ob+1;c.i=a;for(b=0;b<a[C];++b)a[b].D=c,0<b&&c.b[x](a[b].b[0]);return c}
function of(a){var b=a,c=[];do c[x](b),b=b.Aa;while(b);if(512>=c[C])b=wf(c);else{var d=c[C],g=0,b=qf(a.I);for(b.ob=a.ob+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[n](g,g+a),l=wf(k);l.D=b;b.i[C]&&(b.b[x](k[0].b[0]),vf(b.i[b.i[C]-1],l));b.i[x](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.ld(a);if(this.ma()){var c=pf;this.I.Ua(this.b[b],a)&&(c=c[Sa](this.J[b]));return c}b=this.I.Ua(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.A=function(a){var b=this.ld(a);return this.I.Ua(this.b[b],a)?!0:this.ma()?!1:this.i[b].A(a)};va(H,function(a,b){this.Sf(a,-1,b);if(this.yg()){var c=this;1==this.i[C]&&(c=this.i[0],c.D=null);return c}return this});function xf(a){return a.ma()?a.b[0]:xf(a.i[0])}H.Cd=function(){this.b=[];for(var a=1;a<this.i[C];++a)this.b[x](xf(this.i[a]))};
H.Sf=function(a,b,c){var d=this.ld(a),g=this.ma();if(!g){var k=this.I.Ua(this.b[d],a)?d+1:d;if(this.i[k].Sf(a,k,c))this.Cd();else return!1}else if(!this.I.Ua(this.b[d],a))return!1;if(this.b[C]>d&&this.I.Ua(this.b[d],a)){if(Jb(c)&&!this.I.eb()&&g&&(k=this.J[d],c=sc(k,tc,!1,c),0<=c&&mc(k,c)&&this.I.Ac()[w](a,1),this.J[d][C]))return!1;this.b[A](d,1);g&&(g=this.I.eb()?1:this.J[d][C],this.J[A](d,1),this.I.Ac()[w](a,g))}256>this.b[C]&&!this.yg()&&(this.hl()||this.uk(b));return!0};
H.hl=function(){var a=null,b,c,d;if(this.Aa&&256<this.Aa.b[C])a=this.Aa,c=b=0,d=this.b[C]+1;else if(this.zb&&256<this.zb.b[C])a=this.zb,b=this.zb.b[C]-1,c=this.ma()?b:b+1,d=0;else return!1;this.b[A](d,0,a.b[b]);a.b[A](b,1);b=this.ma()?this.J:this.i;var g=null;this.ma()?g=a.J:(g=a.i,g[c].D=this);b[A](d,0,g[c]);g[A](c,1);a.ma()||(a.Cd(),this.Cd());return!0};
H.uk=function(a){var b,c,d;this.Aa&&511>this.Aa.b[C]?(b=this.Aa,d=c=0):this.zb&&(b=this.zb,c=b.b[C],d=b.ma()?b.J[C]:b.i[C]);c=[c,0][Sa](this.b);e[t][A][vb](b.b,c);c=null;this.ma()?c=this.J:(c=this.i,c[F](function(a){a.D=b}));c=[d,0][Sa](c);e[t][A][vb](b.ma()?b.J:b.i,c);vf(this.zb,this.Aa);b.ma()||b.Cd();-1!=a&&(this.D.b[A](a,1),this.D.i[A](a,1))};
H.yb=function(a,b,c){var d=this.ld(a);if(this.ma()){if(this.I.Ua(this.b[d],a)){if(c)return this.J[d]=this.I.eb()?b:[b],this;if(this.I.eb())throw new P(201);if(this.J[d])return uc(this.J[d],b),this;this.J[d]=[b]}this.b[A](d,0,a);this.J[A](d,0,this.I.eb()?b:[b]);return 512==this.b[C]?this.el():this}d=this.I.Ua(this.b[d],a)?d+1:d;a=this.i[d].yb(a,b,c);a.ma()||1!=a.b[C]||(this.b[A](d,0,a.b[0]),a.i[1].D=this,a.i[0].D=this,this.i[A](d,1,a.i[1]),this.i[A](d,0,a.i[0]));return 512==this.b[C]?this.dl():this};
H.el=function(){var a=qf(this.I),b=qf(this.I);b.ob=1;b.b=[this.b[256]];b.i=[this,a];b.D=this.D;this.D=b;a.b=this.b[A](256);a.J=this.J[A](256);a.D=b;vf(a,this.Aa);vf(this,a);return b};H.dl=function(){var a=qf(this.I),b=qf(this.I);a.D=this.D;a.ob=this.ob+1;a.b=[this.b[256]];a.i=[this,b];this.b[A](256,1);b.D=a;b.ob=this.ob;b.b=this.b[A](256);b.i=this.i[A](257);b.i[F](function(a){a.D=b});this.D=a;vf(b,this.Aa);vf(this,b);return a};
H.ld=function(a){for(var b=0,c=this.b[C];b<c;){var d=b+c>>1;this.I.Ue(this.b[d],a)?b=d+1:c=d}return b};H.bg=function(a){if(!this.ma()){var b=this.ld(a);this.I.Ua(this.b[b],a)&&b++;return this.i[b].bg(a)}return this};
H.bb=function(a,b){var c=-1,d=this.b[C]-1,g=this.I.Mc(),k=J(function(b){for(;b<this.b[C];++b){var k=g.tc(this.b[b],a);if(-1!=c){if(!k){d=b-1;break}}else k&&(c=b)}},this);g.tc(this.b[0],a)?c=0:k(1);if(-1==c)return 0;g.tc(this.b[d],a)||k(c);return d==this.b[C]-1?this.Bf(b,this.J[n](c)):d>=c?this.Bf(b,this.J[n](c,d+1)):0};H.Bf=function(a,b){var c=this.I.eb()?b:wc(b);a[x][vb](a,c);return c[C]};
function sf(a,b){for(var c=b.Ac(),d=a.map(function(a){var d=new tf(a.id(),b);d.b=a.u()[0];d.J=a.u()[1];d.b[F](function(a,g){c.add(a,b.eb()?1:d.J[g][C])});return d}),g=0;g<d[C]-1;++g)vf(d[g],d[g+1]);return 1<d[C]?of(d[0]):d[0]};
function yf(a){if(1==a.h[C])return new zf(a.h[0].pb);a=a.h.map(function(a){return a.pb});return new Af(a)}function zf(a){this.xd=0==a?Bf:Cf;this.Ve=0==a?function(a){return null!=a?a[fb]():null}:function(a){return a||null};this.Mg=0==a?Df:Ef}K(zf,Rd);function Cf(a,b){return a>b?1:a<b?-1:0}function Bf(a,b){return Cf(b,a)}function Ef(a,b){return ee(a,b)}function Df(a,b){return ee(b,a)}H=zf[t];
H.we=function(a,b){var c=this.Ve(b),d=[null===c.f,null===c.w];if(!d[0]){var g=this.xd(a,c.f);d[0]=c.Y?1==g:-1!=g}d[1]||(g=this.xd(a,c.w),d[1]=c.ba?-1==g:1!=g);return d};H.compare=function(a,b){return this.xd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.tc=function(a,b){var c=this.we(a,b);return c[0]&&c[1]};H.Ce=function(){return de()};H.Lg=function(a,b){return this.Mg(a,b)};
H.ih=function(a){return a[Ga](function(a){return null!==a})[Za](J(function(a,c){return this.Mg(a,c)},this))};H.Pe=function(a){return Nb(this.Ve(a).f)};H.$d=function(a){a=this.Ve(a);return[a.f,a.w]};f(H,function(){return this.xd==Bf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Af(a){this.Da=a.map(function(a){return new zf(a)})}K(Af,Rd);H=Af[t];H.Be=function(a,b,c){for(var d=0,g=0;g<this.Da[C]&&0==d;++g)d=c(this.Da[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.Be(a,b,function(a,b,g){return a[xb](b,g)})};H.min=function(a,b){return this.Be(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.Be(a,b,function(a,b,g){return a.max(b,g)})};H.we=function(a,b){for(var c=[!0,!0],d=0;d<this.Da[C]&&(c[0]||c[1]);++d){var g=this.Da[d].we(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.tc=function(a,b){for(var c=!0,d=0;d<this.Da[C]&&c;++d)c=this.Da[d].tc(a[d],b[d]);return c};H.Ce=function(){return this.Da.map(function(a){return a.Ce()})};
H.ih=function(a){var b=a[Ga](function(a){return a[Ua](Ob)});a=e(this.Da[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[Za](J(function(a,c){return this.Da[b].Lg(a,c)},this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[Za](J(function(a,b){for(var c=0,l=0;l<this.Da[C]&&0==c;++l)c=this.Da[l].Lg(a[l],b[l]);return c},this))};H.Pe=function(a){return this.Da[0].Pe(a[0])};
H.$d=function(a){var b=a.map(function(a,b){return this.Da[b].$d(a)[0]},this);a=a.map(function(a,b){return this.Da[b].$d(a)[1]},this);return[b,a]};
function Ff(a){this.qa=a;this.Oa=new O;this.ee=new kf;this.Bc=new kf}H=Ff[t];na(H,function(){return this.qa[u]()});H.add=function(a,b){if(null===a){if(this.eb()&&!this.Oa.Ha())throw new P(201);this.Oa.add(b);this.ee.add(a)}else this.qa.add(a,b)};H.set=function(a,b){null===a?(this.Oa[cb](),this.Oa.add(b)):this.qa.set(a,b)};va(H,function(a,b){if(null===a)b?(this.ee[w](a,1),this.Oa[w](b)):(this.ee[w](a,this.Oa.pa()),this.Oa[cb]());else this.qa[w](a,b)});
H.get=function(a){return null===a?this.Oa.c():this.qa.get(a)};H.zd=function(a){return this.qa.zd(a)};H.Ac=function(){this.Bc.ol([this.qa.Ac(),this.ee]);return this.Bc};H.bb=function(a,b,c,d){b=this.qa.bb(a,b,c,d);return null!=a?b:b[Sa](this.Oa.c())};ta(H,function(){this.Oa[cb]();this.qa[cb]()});H.A=function(a){return null===a?!this.Oa.Ha():this.qa.A(a)};H.min=function(){return this.qa.min()};H.max=function(){return this.qa.max()};H.Ka=function(){return[new ed(-2,this.Oa.c())][Sa](this.qa.Ka())};
H.Mc=function(){return this.qa.Mc()};H.eb=function(){return this.qa.eb()};
function Gf(a){this.B=a;this.Ab=new ff;this.S=new zf(1)}H=Gf[t];na(H,G("B"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.Ab.add(a)};H.set=function(a,b){this.add(a,b)};va(H,function(a){this.Ab[Ya](a)});H.get=function(a){return this.A(a)?[a]:[]};H.min=function(){return this.ed(J(this.S.min,this.S))};H.max=function(){return this.ed(J(this.S.max,this.S))};
H.ed=function(a){if(0==this.Ab[Eb])return[null,null];var b=gf(this.Ab)[Ka](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.zd=function(){return this.Ab[Eb]};H.bb=function(a,b,c,d){var g=a||[de()];a=gf(this.Ab)[Ga](function(a){return g[ab](function(b){return this.S.tc(a,b)},this)},this);return jf(a,b,c,d)};ta(H,function(){this.Ab[cb]()});H.A=function(a){return this.Ab.has(a)};H.Ka=function(){return[new ed(0,gf(this.Ab))]};H.Mc=G("S");
function Hf(a,b){var c=new Gf(a);b[0].u()[F](function(a){c.add(a,a)});return c}H.eb=Hb(!0);H.Ac=function(){throw new P(300);};
function If(a){this.m=a;this.Cb=a.o(Ad);this.H=a.o(Cd);this.sa=a.o(Bd)}H=If[t];H.Fa=function(a){var b=a.Za(),c=J(function(){if(0==b[C])return Uc();var a=b[qb]();return(a.Yb()?this.Ti(a):this.Ui(a))[z](c)},this);return c()};H.Ui=function(a){var b=new ae(this.m,[a]);return this.Cb.Nb(0,b).V(a[u](),J(a.nc,a)).get([])[z](J(function(b){this.sa.set(a[u](),b);this.Mk(a,b)},this))};H.Mk=function(a,b){var c=this.H.Lj(a[u]());b[F](function(a){c[F](function(b){var c=a.Sb(b[u]());b.add(c,a.id())})})};
H.Ti=function(a){var b=new ae(this.m,[a]),c=this.Cb.Nb(0,b),b=c.V(a[u](),a.nc).get([])[z](J(function(b){this.sa.set(a[u](),b)},this)),d=a.Ea().map(function(a){return this.Nk(a,c)},this)[Sa](this.Ok(a,c));return Yc(d[Sa](b))};
H.Nk=function(a,b){var c=b.V(a.l(),gd,1),d=yf(a);return c.get([])[z](J(function(b){L("btree"==b[0].u().type);if(1<b[C]){if(a.ng()){var c=rf[E](void 0,d,a.l(),a.cd),l=b[n](1),p=-1;for(b=0;b<l[C];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new P(102);b=l[p].u();l=l[n](0);l[A](p,1);c=c(l);c=new Ff(c);c.Oa[hb](b)}else c=rf(d,a.l(),a.cd,b[n](1));this.H.set(c)}},this))};
H.Ok=function(a,b){return b.V(a.Pb(),gd,1).get([])[z](J(function(b){L("rowid"==b[0].u().type);1<b[C]&&(b=Hf(a.Pb(),b[n](1)),this.H.set(b))},this))};


function Jf(){this.W=new N}Jf[t].Fa=function(a){a.Za()[F](function(a){var c=a.Pb();if(null===this.get(c)){var d=new Gf(c);this.W.set(c,d)}a.Ea()[F](function(a){this.W.set(a.l(),Kf(a))},this)},this);return Uc()};function Kf(a){var b=yf(a),b=new mf(a.l(),b,a.cd);return a.ng()?new Ff(b):b}Jf[t].get=function(a){return this.W.get(a,null)};Jf[t].set=function(a){return this.W.set(a[u](),a)};Jf[t].Lj=function(a){var b=[],c=a+".";this.W.M()[F](function(a){0==a[$a](c)&&b[x](this.W.get(a))},this);return b};
function Lf(a){this.gb=[];Jb(a)&&this.add(a)}H=Lf[t];f(H,function(){return this.gb.map(function(a){return a[D]()})[m](",")});H.A=function(a){return this.gb[ab](function(b){return b[sb](a)})};H.c=G("gb");
H.add=function(a){if(0!=a[C])if(a=this.gb[Sa](a),1==a[C])this.gb=a;else{a[Za](ee);for(var b=[],c=a[0],d=1;d<a[C];++d)if(c.Ng(a[d])){var g=a[d],k=de();if(null!==c.f&&null!==g.f){var l=ce(c.f,g.f,!0);1!=l?(k.f=c.f,k.Y=0!=l?c.Y:c.Y&&g.Y):(k.f=g.f,k.Y=g.Y)}null!==c.w&&null!==g.w&&(l=ce(c.w,g.w,!1),-1!=l?(k.w=c.w,k.ba=0!=l?c.ba:c.ba&&g.ba):(k.w=g.w,k.ba=g.ba));c=k}else b[x](c),c=a[d];b[x](c);this.gb=b}};
H.Qc=function(a){return this.gb[C]==a.gb[C]?0==this.gb[C]||this.gb[Ua](function(b,c){return b.Qc(a.gb[c])}):!1};function Mf(a,b){var c=[];a.c().map(function(a){return b.c().map(function(b){var c;if(a.Ng(b)){c=de();var l=ce(a.f,b.f,!0),l=0==l?a.Y?a:b:-1!=l?a:b;c.f=l.f;c.Y=l.Y;null===a.w||null===b.w?b=null===a.w?b:a:(l=ce(a.w,b.w,!1),b=0==l?a.ba?a:b:-1==l?a:b);c.w=b.w;c.ba=b.ba}else c=null;return c})})[F](function(a){c=c[Sa](a)});return new Lf(c[Ga](function(a){return null!==a}))};
function Nf(a,b){var c=[],d=null,g=null;a.Cc(function(a){var l=b(a);null==a[yb]()?g=l:d.ja(l);var p=a[yb]();null!==p&&p.ya()==d.ya()&&(p=c[$a](d),-1!=p&&c[A](p,1));1<a.ya()&&c[x](l);d=a.tg()?c[c[C]-1]:l});return g}function Of(a){return Pf(a,function(a){return a.tg()})}function Qf(a){var b=a[yb](),c=0;null!==b&&(c=b.ca()[$a](a),b[ib](a));var d=a.ca()[n]();d[F](function(d,k){a[ib](d);null===b||b.Fc(d,c+k)});return{parent:b,children:d}}
function Rf(a,b){a.ca()[n]()[F](function(c){a[ib](c);b.ja(c)});a.ja(b)}function Sf(a){L(1==a.ya());var b=a.tb(0);L(1==b.ya());Qf(a);Rf(b,a);return b}function Tf(a,b,c){L(1==a.ya());var d=a.tb(0);L(1<d.ya());var g=d.ca()[n]();if(!g[ab](function(a){return b(a)}))return a;Qf(a);g[F](function(g,l){if(b(g)){var p=c(a);d.ae(l);p.ja(g);d.Fc(p,l)}});return d}function Uf(a,b,c,d){var g=a[yb]();null!==g&&(a=g.ca()[$a](a),g.ae(a),g.Fc(c,a));b.ca()[n]()[F](function(a){b[ib](a);d.ja(a)});return c}
function Pf(a,b,c){function d(a){b(a)&&g[x](a);null!=c&&c(a)||a.ca()[F](d)}var g=[];d(a);return g}function Vf(a,b){var c=b||function(a){return a[D]()+"\n"},d="";a.Cc(function(a){for(var b=0;b<a.sj();b++)d+="-";d+=c(a)});return d};

function Wf(a){ye[r](this);this.Vb=a;this.cb=!1}K(Wf,ye);H=Wf[t];H.Mb=function(){return Nf(this,function(a){if(a instanceof Wf){var b=new Wf(a.Vb);b.cb=a.cb;b.lf(a.da());return b}return a.Mb()}[E](this))};H.ub=function(a){var b=a||[];this.Cc(function(a){a!=this&&a.ub(b)}[E](this));return(new O(b)).c()};H.de=function(a){this.cb!=a&&(this.cb=a,this.Vb="and"==this.Vb?"or":"and",this.ca()[F](function(b){return b.de(a)}))};H.eval=function(a){var b=this.ca().map(function(b){return b.eval(a)});return this.ki(b)};
H.ki=function(a){return"and"==this.Vb?je(a):ke(a)};f(H,function(){return"combined_pred_"+this.Vb[D]()});function Xf(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function Yf(){this[cb]()}var Zf=aa[t][Xa],$f=aa[t][rb];H=Yf[t];H.set=function(a,b){this.qd(a);var c=!this.bd(a);this.g[a]=b;if("__proto__"==a||!ag&&!Zf[r](this.g,a)){delete this.g[a];var d=gc(this.Ib,a);if(c=0>d)d=this.Ib[C];this.Ib[d]=a;this.be[d]=b}c&&this.$++};H.get=function(a,b){this.qd(a);if(this.bd(a))return this.g[a];var c=gc(this.Ib,a);return 0<=c?this.be[c]:b};
va(H,function(a){this.qd(a);if(this.bd(a))return this.$--,delete this.g[a],!0;a=gc(this.Ib,a);return 0<=a?(this.$--,mc(this.Ib,a),mc(this.be,a),!0):!1});H.addAll=function(a){hc(a.M(),function(b){this.set(b,a.get(b))},this)};H.Ha=function(){return!this.$};H.pa=G("$");H.A=function(a){this.qd(a);return this.bd(a)||0<=gc(this.Ib,a)};H.yd=function(a){return yc(this.g,function(b,c){return this.bd(c)&&Xf(b,a)},this)||0<=gc(this.be,a)};
H.M=function(){var a;if(bg)a=oc(aa.keys(this.g));else{a=[];for(var b in this.g)$f[r](this.g,b)&&a[x](b)}pc(a,this.Ib);return a};H.c=function(){for(var a=[],b=this.M(),c=0;c<b[C];c++)a[x](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.M(),c=0;c<b[C];c++){var d=b[c];a[x]([d,this.get(d)])}return a};ta(H,function(){this.g=ag?aa[kb](null):{};this.Ib=[];this.be=[];this.$=0});la(H,function(){var a=new Yf;a[hb](this);return a});
H.bd=function(a){return"__proto__"==a?!1:ag?a in this.g:$f[r](this.g,a)};H.qd=function(a){L(Qb(a),"key must be a string.")};var ag=!!aa[kb],bg=!!aa.keys;function cg(){this[cb]()}H=cg[t];H.$=0;ta(H,function(){this.$=0;this.g=new Yf});la(H,function(){var a=new cg;a.wh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[x](b);this.$++};H.wh=function(a){hc(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?oc(a):[]};va(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=nc(c,function(a){return Xf(b,a)});d&&(this.$--,0==c[C]&&this.g[w](a));return d});H.Ha=function(){return!this.$};
H.pa=G("$");H.A=function(a){return this.g.A(a)};H.yd=function(a){return kc(this.g.c(),function(b){return kc(b,function(b){return Xf(b,a)})})};H.M=function(){return this.g.M()};H.c=function(){return wc(this.g.c())};H.getEntries=function(){for(var a=this.M(),b=[],c=0;c<a[C];c++)for(var d=a[c],g=this.get(d),k=0;k<g[C];k++)b[x]([d,g[k]]);return b};
function dg(a,b,c){ye[r](this);this.Ma=a;this.Ja=b;this.L=c;this.Bd=qe.Fe().Ee(this.Ma.Z(),this.L)}K(dg,ye);H=dg[t];H.Mb=function(){var a=new dg(this.Ma,this.Ja,this.L);a.lf(this.da());return a};H.ub=function(a){return null!=a?(a[x](this.Ma),a[x](this.Ja),a):[this.Ma,this.Ja]};H.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new dg(this.Ja,this.Ma,a)};
H.eval=function(a){var b=a[B][Ga](function(a){var b=a.U(this.Ma);a=a.U(this.Ja);return this.Bd(b,a)},this);return new fe(b,a.X())};f(H,function(){return"join_pred("+this.Ma.l()+", "+this.Ja.l()+")"});H.Cf=function(a){return-1!=a.X()[$a](this.Ma.V().ta())};H.Dh=function(a){return-1!=a.X()[$a](this.Ja.V().ta())};H.Ai=function(a,b){var c=null,d=null;this.Cf(a)?(this.Ef(a,b),c=a,d=b):(this.Ef(b,a),c=b,d=a);return[c,d]};
H.Ef=function(a,b){L(this.Cf(a),"Mismatch between join predicate left operand and right relation.");L(this.Dh(b),"Mismatch between join predicate right operand and right relation.")};H.Hi=function(a,b,c){var d=[a,b];c||(d=this.Ai(a,b));a=d[0];d=d[1];return c?this.Vf(a,d,c):"eq"==this.L?this.Ii(a,d):this.Vf(a,d,c)};H.si=function(a){var b={};a.ub()[F](function(a){b[a[u]()]=null});return b};
H.Vf=function(a,b,c){for(var d=[],g=null,k=a.X(),l=b.X(),p=0;p<a[B][C];p++){for(var y=!1,wa=0;wa<b[B][C];wa++)if(this.Bd(a[B][p].U(this.Ma),b[B][wa].U(this.Ja))){var y=!0,Ub=oe(a[B][p],k,b[B][wa],l);d[x](Ub)}c&&!y&&(null===g&&(g=this.si(this.Ja.V())),y=new me(new ed(-1,g),!1),Ub=oe(a[B][p],k,y,l),d[x](Ub))}a=a.X()[Sa](b.X());return new fe(d,a)};
H.Ii=function(a,b){var c=a,d=b,g=this.Ma,k=this.Ja;a[B][C]>b[B][C]&&(c=b,d=a,g=this.Ja,k=this.Ma);var l=new cg,p=[];c[B][F](function(a){var b=ha(a.U(g));l.add(b,a)});var y=c.X(),wa=d.X();d[B][F](function(a){var b=ha(a.U(k));l.A(b)&&l.get(b)[F](function(b){b=oe(a,wa,b,y);p[x](b)})});c=a.X()[Sa](b.X());return new fe(p,c)};
function eg(a,b,c){return null===b?new Ae(a,b,c):Jb(b.l)?new dg(a,b,c):new Ae(a,b,c)};
var fg={};I("lf.schema.DataStoreType",fg,void 0);fg.INDEXED_DB=0;fg.MEMORY=1;fg.LOCAL_STORAGE=2;fg.FIREBASE=3;fg.WEB_SQL=4;fg.OBSERVABLE_STORE=5;function gg(a,b,c,d){this.nf=a;ja(this,b);this.cd=c;this.h=d}gg[t].l=function(){return this.nf+"."+this[q]};gg[t].ng=function(){return this.h[ab](function(a){return a.ea.uc()})};function hg(a,b,c,d){this.B=a;this.ua=c;this.F=b;this.Wd=d;this.kb=null}I("lf.schema.Table",hg,void 0);na(hg[t],G("B"));hg[t].ab=G("kb");hg[t].ta=function(){return this.kb||this.B};
hg[t].Hc=function(a){var b=new this.constructor(this.B);b.kb=a;b.Pk=this.Pk;return b};hg[t].as=hg[t].Hc;hg[t].createRow=hg[t].Db;hg[t].deserializeRow=hg[t].nc;hg[t].Ea=G("ua");hg[t].ub=G("F");hg[t].getConstraint=hg[t].Eb;hg[t].Yb=G("Wd");hg[t].Pb=function(){return this.B+".#"};
function T(a,b){xa(this,a);this.fc=b;this.kb=null}H=T[t];na(H,function(){return this.fc+"("+this[jb][u]()+")"});H.l=function(){return this.fc+"("+this[jb].l()+")"};H.V=function(){return this[jb].V()};f(H,function(){return this.l()});H.Z=function(){return this[jb].Z()};H.ab=G("kb");H.Ea=function(){return[]};H.uc=Hb(!1);H.Hc=function(a){this.kb=a;return this};T[t].as=T[t].Hc;T[t].ag=function(){for(var a=[this],b=this;b instanceof T;)a[x](b[jb]),b=b[jb];return a};
function ig(a){this.kb=a||null;this.O=new hg("#UnknownTable",[],[],!1)}H=ig[t];na(H,Hb("*"));H.l=function(){return this[u]()};f(H,function(){return this.l()});H.V=G("O");H.Z=Hb(4);H.ab=G("kb");H.Ea=function(){return[]};H.uc=Hb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new ig,"COUNT")},void 0);function jg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",jg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){we[r](this,"","");this.Qi=b;this.Jg=a}K(U,we);H=U[t];ma(H,function(a,b){switch(this.Qi){case 1:return this.Li(a,b);case 0:return this.Ki(a,b);default:return this.Ni(a,b)}});f(H,Hb("dummy_node"));H.md=function(){return this[D]()};H.Df=function(a){L(-1==this.Jg||a[C]==this.Jg)};H.Ni=function(a,b){return new M(J(function(c){c(this.ka(a,[],b))},this))};H.Li=function(a,b){return this.tb(0)[Qa](a,b)[z](J(function(c){this.Df(c);return this.ka(a,c,b)},this))};
H.Ki=function(a,b){var c=this.ca().map(function(c){return c[Qa](a,b)});return Yc(c)[z](J(function(c){var g=[];c[F](function(a){for(var b=0;b<a[C];++b)g[x](a[b])});this.Df(g);return this.ka(a,g,b)},this))};
function kg(a){U[r](this,-1,1);this.zf=a}K(kg,U);f(kg[t],function(){return"aggregation("+this.zf.map(function(a){return a.l()})[D]()+")"});kg[t].ka=function(a,b){b[F](function(a){(new lg(a,this.zf)).Qh()},this);return b};function lg(a,b){this.Ia=a;this.F=b}
lg[t].Qh=function(){this.F[F](function(a){a=a.ag()[fb]();for(var b=1;b<a[C];b++){var c=a[b],d=c.ag()[n](-1)[0],g=this.vj(c),k=null;switch(c.fc){case "MIN":k=mg(g,d);break;case "MAX":k=ng(g,d);break;case "DISTINCT":k=og(g,d);break;case "COUNT":k=g[B][C];break;case "SUM":k=pg(g,d);break;case "AVG":0<g[B][C]&&(k=pg(g,d)/g[B][C]);break;case "GEOMEAN":k=qg(g,d);break;default:k=rg(g,d)}this.Ia.Yk(c,k)}},this)};lg[t].vj=function(a){return a[jb]instanceof T?this.Ia.rc(a[jb]):this.Ia};
function mg(a,b){var c=null;a[B][F](function(a){a=a.U(b);if(null===c||a<c)c=a});return c}function ng(a,b){var c=null;a[B][F](function(a){a=a.U(b);if(null===c||a>c)c=a});return c}function pg(a,b){return a[B][Ka](function(a,d){return a+d.U(b)},0)}function rg(a,b){var c=a[B].map(function(a){return a.U(b)});return rd[vb](null,c)}function qg(a,b){var c=0,d=a[B][Ka](function(a,d){var l=d.U(b);return 0!=l?(c++,a+ba.log(l)):a},0);return 0==c?null:ba.pow(ba.E,d/c)}
function og(a,b){var c=new N;a[B][F](function(a){var g=a.U(b);c.set(g,a)});return new fe(c.c(),a.X())};
function sg(a,b){this.Ca=a;this.ra=b}sg[t].nb=G("Ca");sg[t].fa=G("ra");function V(){we[r](this,"","")}K(V,we);function tg(a,b){V[r](this);ia(this,a);ua(this,b)}K(tg,V);function ug(a,b){tg[r](this,a,b)}K(ug,tg);function vg(a){V[r](this);ia(this,a)}K(vg,V);f(vg[t],function(){return"delete("+this[h][u]()+")"});function wg(a,b){V[r](this);ia(this,a);this.sf=b}K(wg,V);f(wg[t],function(){var a=[];this.sf&&(a=this.sf.map(function(a){return a.K[u]()},this));return"update("+this[h][u]()+", ["+a[m](",")+"])"});
function xg(a){V[r](this);this.Ba=a}K(xg,V);f(xg[t],function(){return"select("+this.Ba[D]()+")"});function yg(a){V[r](this);ia(this,a)}K(yg,V);f(yg[t],function(){var a="table_access("+this[h][u]();null===this[h].ab()||(a+=" as "+this[h].ab());return a+")"});function zg(){V[r](this)}K(zg,V);f(zg[t],Hb("cross_product"));function Ag(a,b){V[r](this);this.h=a;this.Qb=b}K(Ag,V);
f(Ag[t],function(){var a="project("+this.h[D]();if(null!==this.Qb)var b=this.Qb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Bg(a){V[r](this);this.N=a}K(Bg,V);f(Bg[t],function(){return"order_by("+Ee(this.N)+")"});function Cg(a){V[r](this);this.h=a}K(Cg,V);f(Cg[t],function(){return"aggregation("+this.h[D]()+")"});function Dg(a){V[r](this);this.h=a}K(Dg,V);f(Dg[t],function(){return"group_by("+this.h[D]()+")"});function Eg(a){V[r](this);this.na=a}K(Eg,V);
f(Eg[t],function(){return"limit("+this.na+")"});function Fg(a){V[r](this);this.ia=a}K(Fg,V);f(Fg[t],function(){return"skip("+this.ia+")"});function Gg(a,b){V[r](this);this.Ba=a;this.vg=b}K(Gg,V);f(Gg[t],function(){return(this.vg?"left_outer_join":"join")+"("+this.Ba[D]()+")"});
function Hg(){};
function Ig(){}K(Ig,Hg);Ig[t].Gb=function(a){this.ha=a;this.$a(this.ha);return this.ha};Ig[t].$a=function(a){if(a instanceof xg){L(1==a.ya(),"SelectNode must have exactly one child.");var b=this.Ff(a.Ba),b=this.ui(b);Uf(a,a,b[0],b[1]);a==this.ha&&(this.ha=b[0]);a=b[0]}a.ca()[F](function(a){this.$a(a)},this)};Ig[t].Ff=function(a){if(0==a.ya()||"and"!=a.Vb)return[a];var b=a.ca()[n]().map(function(b){a[ib](b);return this.Ff(b)},this);return wc(b)};
Ig[t].ui=function(a){var b=null,c=null;a.map(function(a,g){var k=new xg(a);0==g?b=k:c.ja(k);c=k},this);return[b,c]};
function Jg(){}K(Jg,Hg);Jg[t].Gb=function(a){this.ha=a;this.$a(this.ha);return this.ha};Jg[t].$a=function(a){if(a instanceof zg)for(;2<a.ya();){for(var b=new zg,c=0;2>c;c++){var d=a.ae(0);b.ja(d)}a.Fc(b,0)}a.ca()[F](function(a){this.$a(a)},this)};
function Kg(){U[r](this,2,0)}K(Kg,U);f(Kg[t],Hb("cross_product"));Kg[t].ka=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.X(),l=d.X(),p=0;p<c[B][C];p++)for(var y=0;y<d[B][C];y++){var wa=oe(c[B][p],k,d[B][y],l);g[x](wa)}c=c.X()[Sa](d.X());return[new fe(g,c)]};

function Lg(a,b){He[r](this,a,b);this.Ya=a.o(Ed);this.Fb=a.o(Fd)}K(Lg,He);Ea(Lg[t],Hb(2));Lg[t].Ye=function(a){0==this.Z()?this.wk(a):this.kd()};Lg[t].wk=function(a){this.Zd[F](function(b,c){b instanceof De&&this.Fb.rh(b,a[c])},this)};Lg[t].kd=function(){var a=this.Fb.Le(this.fa().c());0!=a[C]&&(a=new Ie(this[Wa],a),this.Ya.ac(a))};
function Mg(a){Be[r](this,a)}K(Mg,Be);Mg[t].fa=function(){var a=new O([this.f]);a[hb](this.ea[wb]().$f(this.f[u]()));return a};la(Mg[t],function(){var a=new Mg(this.ea);a.wd(this);a.f=this.f;return a});Ba(Mg[t],function(a){Mg.Jb[E][r](this,a);this.ne(a);return this});
function Ng(a){Be[r](this,a)}K(Ng,Be);Ng[t].fa=function(){var a=new O([this.Ga]),b=this.ea[wb]();a[hb](b.Bj(this.Ga[u]()));this.gc&&a[hb](b.$f(this.Ga[u]()));return a};la(Ng[t],function(){var a=new Ng(this.ea);a.wd(this);a.Ga=this.Ga;this[db]&&ua(a,this[db]instanceof pe?this[db]:this[db][n]());a.gc=this.gc;a.hc=this.hc;return a});Ba(Ng[t],function(a){Ng.Jb[E][r](this,a);this.hc&&ua(this,this.hc instanceof pe?a[this.hc.vb()]:this.hc.map(function(b){return b instanceof pe?a[b.vb()]:b}));return this});
function Og(a){Be[r](this,a)}K(Og,Be);Og[t].fa=function(){var a=new O([this[h]]),b=this.set.map(function(a){return a.K.l()}),c=this.ea[wb]();a[hb](c.Cj(b));a[hb](c.rj(b));return a};la(Og[t],function(){var a=new Og(this.ea);a.wd(this);ia(a,this[h]);a.set=this.set?this.set[n]():this.set;return a});Ba(Og[t],function(a){Og.Jb[E][r](this,a);this.set[F](function(b){-1!=b.rd&&pa(b,a[b.rd])});this.ne(a);return this});
function Pg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+id(b)+"'";default:return"'"+b[D]()+"'"}}function Qg(a,b){var c=a.gc?"INSERT OR REPLACE":"INSERT",d=a.Ga.ub(),c=c+(" INTO "+a.Ga[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[db].map(function(a){var k=d.map(function(c){var d=a.u()[c[u]()];return b?null!=d?"#":"NULL":Pg(c.Z(),d)});return c+k[m](", ")+");"})[m]("\n")}
function Rg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Sg(a,b,c,d){return a instanceof pe?"?"+a.vb()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Pg(c,a)})[m](", ")+")":"between"==b?Pg(c,a[0])+" AND "+Pg(c,a[1]):Pg(c,a)[D]()}
function Tg(a,b){return a.ca().map(function(a){return"("+Ug(a,b)+")"})[m]("and"==a.Vb?" AND ":" OR ")}function Ug(a,b){if(a instanceof Ae)return[a.K.l(),Rg(a.L),Sg(a[v],a.L,a.K.Z(),b)][m](" ");if(a instanceof Wf)return Tg(a,b);if(a instanceof dg)return[a.Ma.l(),Rg(a.L),a.Ja.l()][m](" ");throw new P(357,typeof a);}function Vg(a,b){var c=Ug(a,b);return c?" WHERE "+c:""}
function Wg(a,b){var c="UPDATE "+a[h][u]()+" SET ",c=c+a.set.map(function(a){var b=a.K.l()+" = ";return-1!=a.rd?b+"?"+a.rd[D]():b+Pg(a.K.Z(),a[v])[D]()})[m](", ");a.C&&(c+=Vg(a.C,b));return c+";"}
function Xg(a,b){var c="*";a.h[C]&&(c=a.h.map(function(a){return a.ab()?a.l()+" AS "+a.ab():a.l()})[m](", "));var d=a.f.map(function(a){return a.ta()!=a[u]()?a[u]()+" AS "+a.ta():a[u]()})[m](", "),c="SELECT "+c+" FROM "+d;a.C&&(c+=Vg(a.C,b));a.N&&(d=a.N.map(function(a){return a.K.l()+(0==a.pb?" DESC":" ASC")})[m](", "),c+=" ORDER BY "+d);a.la&&(d=a.la.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.na&&(c+=" LIMIT "+a.na[D]());a.ia&&(c+=" SKIP "+a.ia[D]());return c+";"}
function Yg(a,b){var c=b||!1,d=a.hg();if(d instanceof Ng)return Qg(d,c);if(d instanceof Mg){var g="DELETE FROM "+d.f[u]();d.C&&(g+=Vg(d.C,c));return g+";"}if(d instanceof Og)return Wg(d,c);if(d instanceof De)return Xg(d,c);throw new P(358,typeof d);};
function Zg(a,b){this.global=a;this.Kk=a.o(Dd);this.Ya=a.o(Ed);this.a=b}I("lf.query.BaseBuilder",Zg,void 0);ma(Zg[t],function(){try{this.lb()}catch(a){return Vc(a)}return new M(function(a,c){var d=new Lg(this[Wa],[this.$c()]);this.Ya.ac(d)[z](function(c){a(c[0].Ge())},c)},this)});ma(Zg[t],Zg[t][Qa]);Zg[t].Xf=function(){var a=J(function(a){return a.md(this.a)+"\n"},this);return Vf(this.He().nb(),a)};Zg[t].explain=Zg[t].Xf;Ba(Zg[t],function(a){this.a[E](a);return this});Ba(Zg[t],Zg[t][E]);
Zg[t].kl=function(a){return Yg(this,a)};Zg[t].toSql=Zg[t].kl;H=Zg[t];H.lb=Fb();H.hg=function(){return this.a.clone()};H.Id=G("a");H.He=function(){null==this.Pg&&(this.Pg=this.Kk.Dj(this.a));return this.Pg};H.$c=function(){return{context:this.hg(),af:this.He()}};H.zj=function(){return{context:this.Id(),af:this.He()}};
function $g(a){Zg[r](this,a,new Mg(a.o(Gd)))}K($g,Zg);I("lf.query.DeleteBuilder",$g,void 0);$g[t].f=function(a){this.Hh();this.a.f=a;return this};$g[t].from=$g[t].f;$g[t].C=function(a){this.le();this.a.C=a;return this};$g[t].where=$g[t].C;$g[t].Hh=function(){if(null!=this.a.f)throw new P(515);};$g[t].le=function(){if(null!=this.a.C)throw new P(516);};$g[t].lb=function(){$g.Jb.lb[r](this);if(null==this.a.f)throw new P(517);};
function ah(a,b){Zg[r](this,a,new Ng(a.o(Gd)));this.a.gc=b||!1}K(ah,Zg);I("lf.query.InsertBuilder",ah,void 0);ah[t].lb=function(){ah.Jb.lb[r](this);var a=this.a;if(null==a.Ga||null==a[db])throw new P(518);if(a.gc&&null===a.Ga.Eb().Ie())throw new P(519);};ah[t].Ga=function(a){this.Ih();this.a.Ga=a;return this};ah[t].into=ah[t].Ga;ua(ah[t],function(a){this.Jh();a instanceof pe||a[ab](function(a){return a instanceof pe})?this.a.hc=a:ua(this.a,a);return this});ua(ah[t],ah[t][db]);
ah[t].Ih=function(){if(null!=this.a.Ga)throw new P(520);};ah[t].Jh=function(){if(null!=this.a[db])throw new P(521);};
function bh(a){return ch("and",e[t][n][r](arguments))}I("lf.op.and",bh,void 0);I("lf.op.or",function(a){return ch("or",e[t][n][r](arguments))},void 0);function ch(a,b){var c=new Wf(a);b[F](function(a){c.ja(a)});return c}I("lf.op.not",function(a){a.de(!0);return a},void 0);
function W(a,b){Zg[r](this,a,new De(a.o(Gd)));this.Zf=this.uh=!1;this.a.h=b;this.Yh();this.Wh()}K(W,Zg);I("lf.query.SelectBuilder",W,void 0);H=W[t];H.lb=function(){W.Jb.lb[r](this);var a=this.a;if(null==a.f)throw new P(522);if(Jb(a.Tb)&&!Jb(a.na)||Jb(a.dc)&&!Jb(a.ia))throw new P(523);this.fi()};H.Yh=function(){var a=this.a.h[Ga](function(a){return a instanceof T&&"DISTINCT"==a.fc},this);if(0!=a[C]&&(1!=a[C]||1!=this.a.h[C]))throw new P(524);};H.fi=function(){null!=this.a.la?this.bi():this.ei()};
H.bi=function(){var a=this.a.h[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.la[C]||0==this.a.h[C])b=!0;else{var c=this.a.la.map(function(a){return a.l()});(b=a[ab](function(a){return-1==c[$a](a)}))||(b=this.a.la[ab](function(a){a=a.Z();return 6==a||0==a}))}if(b)throw new P(525);};
H.ei=function(){var a=this.a.h[ab](function(a){return a instanceof T},this),b=this.a.h[ab](function(a){return!(a instanceof T)},this)||0==this.a.h[C];if(a&&b)throw new P(526);};H.Wh=function(){this.a.h[F](function(a){if(a instanceof T&&!dh(a.fc,a.Z()))throw new P(527,a.l());},this)};H.f=function(a){if(this.Zf)throw new P(515);this.Zf=!0;null==this.a.f&&(this.a.f=[]);this.a.f[x][vb](this.a.f,e[t][n][r](arguments));return this};W[t].from=W[t].f;
W[t].C=function(a){if(this.uh)throw new P(516);this.uh=!0;this.me(a);return this};W[t].where=W[t].C;W[t].me=function(a){null!=this.a.C&&(a=bh(a,this.a.C));this.a.C=a};W[t].ck=function(a,b){if(null==this.a.f)throw new P(542);this.a.f[x](a);this.me(b);return this};W[t].innerJoin=W[t].ck;
W[t].kk=function(a,b){if(!(b instanceof dg))throw new P(541);if(null==this.a.f)throw new P(542);this.a.f[x](a);null==this.a.wc&&(this.a.wc=new O);var c=b;a.ta()!=b.Ja.V().ta()&&(c=b[fb]());this.a.wc.add(c.da());this.me(c);return this};W[t].leftOuterJoin=W[t].kk;W[t].na=function(a){if(null!=(this.a.na||this.a.Tb))throw new P(528);if(a instanceof pe)this.a.Tb=a;else{if(0>a)throw new P(531);this.a.na=a}return this};W[t].limit=W[t].na;
W[t].ia=function(a){if(null!=(this.a.ia||this.a.dc))throw new P(529);if(a instanceof pe)this.a.dc=a;else{if(0>a)throw new P(531);this.a.ia=a}return this};W[t].skip=W[t].ia;W[t].N=function(a,b){null==this.a.N&&(this.a.N=[]);this.a.N[x]({K:a,pb:null!=b?b:1});return this};W[t].orderBy=W[t].N;W[t].la=function(a){if(null!=this.a.la)throw new P(530);null==this.a.la&&(this.a.la=[]);this.a.la[x][vb](this.a.la,e[t][n][r](arguments));return this};W[t].groupBy=W[t].la;
function dh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(W[t],function(){var a=new W(this[Wa],this.a.h);a.a=this.a.clone();a.a.Kc=null;return a});la(W[t],W[t].clone);
function eh(a,b){Zg[r](this,a,new Og(a.o(Gd)));ia(this.a,b)}K(eh,Zg);I("lf.query.UpdateBuilder",eh,void 0);eh[t].set=function(a,b){var c={rd:b instanceof pe?b.vb():-1,K:a,value:b};null!=this.a.set?this.a.set[x](c):this.a.set=[c];return this};eh[t].set=eh[t].set;eh[t].C=function(a){this.le();this.a.C=a;return this};eh[t].where=eh[t].C;eh[t].le=function(){if(null!=this.a.C)throw new P(516);};
eh[t].lb=function(){eh.Jb.lb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[ab](function(a){return a[v]instanceof pe}))throw new P(501);};
function fh(a){this.a=a;this.Ca=null}fh[t].qc=function(){null===this.Ca&&(this.Ca=this.Dd());return this.Ca};function gh(a){fh[r](this,a)}K(gh,fh);gh[t].Dd=function(){return this.a.gc?new ug(this.a.Ga,this.a[db]):new tg(this.a.Ga,this.a[db])};function hh(a){fh[r](this,a)}K(hh,fh);hh[t].Dd=function(){var a=new wg(this.a[h],this.a.set),b=null!=this.a.C?new xg(this.a.C.Mb()):null,c=new yg(this.a[h]);null===b?a.ja(c):(b.ja(c),a.ja(b));return a};
function ih(a,b,c){this.Ca=a;this.cf=b;this.hf=c}ih[t].qc=function(){this.hf[F](function(a){this.Ca=a.Gb(this.Ca,this.cf)},this);return this.Ca};
function jh(a){fh[r](this,a)}K(jh,fh);jh[t].Dd=function(){var a=new vg(this.a.f),b=null!=this.a.C?new xg(this.a.C.Mb()):null,c=new yg(this.a.f);null===b?a.ja(c):(b.ja(c),a.ja(b));return(new ih(a,this.a,[new Ig])).qc()};
function kh(){}K(kh,Hg);kh[t].Gb=function(a,b){this.ha=a;this.$a(this.ha,b);return this.ha};kh[t].$a=function(a,b){if(a instanceof xg&&a.Ba instanceof dg){L(1==a.ya(),"SelectNode must have exactly one child.");var c=a.Ba.da(),d=a.tb(0);d instanceof zg&&(c=Jb(b)&&null!=b.wc&&b.wc[sb](c),c=new Gg(a.Ba,c),Uf(a,d,c,c),a==this.ha&&(this.ha=c),a=c)}a.ca()[F](function(a){this.$a(a,b)},this)};
function mh(){this.je=new O}K(mh,Hg);H=mh[t];H.Gb=function(a){this.ha=a;this.$a(this.ha);this.je[cb]();return this.ha};H.$a=function(a){if(this.rg(a)){var b=a.Ba instanceof Ae?this.Jk(a):this.Ik(a);this.je.add(a);b==a&&(b=a.tb(0));null!==b&&(Nb(b[yb]())&&(this.ha=b),this.rg(b)&&!this.je[sb](b)&&this.$a(b))}else a.ca()[F](function(a){this.$a(a)},this)};
H.Yd=function(a,b){var c=a;if(this.bl(a))c=Sf(a),this.Yd(a,b);else if(this.al(a)){var d=[],c=Tf(a,b,function(a){a=new xg(a.Ba);d[x](a);return a});d[F](function(a){this.Yd(a,b)},this)}return c};H.Jk=function(a){var b=new O([a.Ba.K.V().ta()]),c=function(a){return this.Tf(a,b)}[E](this);return this.Yd(a,c)};H.Ik=function(a){var b=new O([a.Ba.Ma.V().ta(),a.Ba.Ja.V().ta()]),c=function(a){return this.Tf(a,b)}[E](this);return this.Yd(a,c)};
H.Tf=function(a,b){var c=new O;Of(a)[F](function(a){c.add(a[h].ta())},this);a instanceof yg&&c.add(a[h].ta());return c.pi(b)};H.rg=function(a){return a instanceof xg&&!(a.Ba instanceof Wf)};H.al=function(a){a=a.tb(0);return a instanceof zg||a instanceof Gg};H.bl=function(a){return a.tb(0)instanceof xg};
function nh(a){fh[r](this,a);this.Ug=this.Eg=this.hh=this.Kg=this.Af=this.mg=this.dh=this.Qf=this.jh=null}K(nh,fh);H=nh[t];H.Dd=function(){this.ij();var a=this.mi(),b=[new Ig,new Jg,new mh,new kh];return(new ih(a,this.a,b)).qc()};H.ij=function(){this.oj();this.dj();this.mj();this.jj();this.nj();this.hj();this.fj();this.cj();this.kj()};
H.mi=function(){for(var a=[this.Eg,this.hh,this.Ug,this.Kg,this.Af,this.mg,this.dh,this.Qf],b=null,c=null,d=0;d<a[C];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ja(g),b=d)}this.jh[F](function(c){a[b].ja(c)});return c};H.oj=function(){this.jh=this.a.f.map(function(a){return new yg(a)},this)};H.dj=function(){2<=this.a.f[C]&&(this.Qf=new zg)};H.mj=function(){this.dh=null!=this.a.C?new xg(this.a.C.Mb()):null};H.jj=function(){this.a.N&&(this.Kg=new Bg(this.a.N))};
H.hj=function(){null!=this.a.na&&(this.Eg=new Eg(this.a.na))};H.nj=function(){null!=this.a.ia&&0<this.a.ia&&(this.hh=new Fg(this.a.ia))};H.fj=function(){null!=this.a.la&&(this.mg=new Dg(this.a.la))};H.cj=function(){var a=this.a.h[Ga](function(a){return a instanceof T});null!=this.a.N&&this.a.N[F](function(b){b.K instanceof T&&a[x](b.K)});0<a[C]&&(this.Af=new Cg(a))};H.kj=function(){this.Ug=new Ag(this.a.h||[],this.a.la||null)};
function oh(){}oh[t].create=function(a){var b=null;if(a instanceof Ng)b=new gh(a);else if(a instanceof Mg)b=new jh(a);else if(a instanceof De)b=new nh(a);else if(a instanceof Og)b=new hh(a);else throw new P(513);b=b.qc();return new sg(b,a.fa())};
function ph(a){U[r](this,1,1);this.O=a}K(ph,U);f(ph[t],function(){return"delete("+this.O[u]()+")"});ph[t].ka=function(a,b){var c=b[0][B].map(function(a){return a.xa});a[w](this.O,c);return[ie()]};
function qh(a){U[r](this,1,1);this.lg=a}K(qh,U);f(qh[t],function(){return"groupBy("+this.lg.map(function(a){return a.l()})[D]()+")"});qh[t].ka=function(a,b){return this.Sh(b[0])};qh[t].Sh=function(a){var b=new cg,c=function(a){return this.lg.map(function(b){return a.U(b)},this)[m](",")}[E](this);a[B][F](function(a){b.add(c(a),a)},this);return b.M().map(function(c){return new fe(b.get(c),a.X())},this)};
function rh(a){L(1<a[C],"Should only be called for cross-column indices.");a=a.map(function(a){return a.c()});a=wd[vb](null,a);var b=[];vd(a,function(a){b[x](a)});return b}function sh(a){this.Rb=a}sh[t].Gd=function(){return 1==this.Rb.h[C]?[de()]:[this.Rb.h.map(function(){return de()})]};function th(a,b){this.Rb=a;this.va=b;this.ue=this.Cg=null}
th[t].Th=function(a){var b=new N;this.va.M()[F](function(c){var d=this.va.get(c).map(function(b){return a.Jd(b)},this),g=new Lf([de()]);d[F](function(a){a=new Lf(a.jl());g=Mf(g,a)});b.set(c,g)},this);return b};th[t].Vi=function(a){for(var b=this.Rb.h[C]-1;0<=b;b--){var c=this.Rb.h[b];if(null!==a.get(c.ea[u](),null))break;a.set(c.ea[u](),new Lf([de()]))}};th[t].Gd=function(a){if(this.Cg==a)return this.ue;var b=this.Th(a);this.Vi(b);this.ue=1==this.Rb.h[C]?b.c()[0].c():rh(this.Kj(b));this.Cg=a;return this.ue};
th[t].Kj=function(a){var b=new N,c=0;this.Rb.h[F](function(a){b.set(a.ea[u](),c);c++});return a.M()[Za](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function uh(a,b){this.lh=b;this.H=a.o(Cd)}uh[t].ii=function(a,b){var c=b[Ga](this.dk,this);if(0==c[C])return null;c=this.gj(c);if(0==c[C])return null;if(1==c[C])return c[0];var d=Number.MAX_VALUE;return c[Ka](function(b,c){var l=c.Rh(a);return l<d?(d=l,c):b},null)};uh[t].gj=function(a){return this.lh.Ea().map(function(b){b=new vh(this.H,b);b.oi(a);return b},this)[Ga](function(a){return a.jk()})};uh[t].dk=function(a){return a instanceof Ae&&a.sg()?a.K.V()==this.lh:!1};
function vh(a,b){this.H=a;this.xb=b;this.og=new O;this.og[hb](this.xb.h.map(function(a){return a.ea[u]()}));this.Te=this.va=null}H=vh[t];H.Ej=function(){return null===this.va?[]:this.va.c()};H.fg=function(){L(this.va);null===this.Te&&(this.Te=new th(this.xb,this.va));return this.Te};H.oi=function(a){a[F](function(a){var c=a.ub()[0][u]();this.og[sb](c)&&(null===this.va&&(this.va=new cg),this.va.add(c,a.da()))},this)};
H.jk=function(){if(null===this.va)return!1;for(var a=!1,b=!0,c=0;c<this.xb.h[C];c++){var d=this.va.A(this.xb.h[c].ea[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.Rh=function(a){a=this.fg().Gd(a);var b=this.H.get(this.xb.l());return a[Ka](function(a,d){return a+b.zd(d)},0)};
function wh(a,b,c,d){U[r](this,0,-1);this.H=a.o(Cd);this.index=b;this.Ag=c;this.gf=d;this.pd=this.od=!1}K(wh,U);f(wh[t],function(){return"index_range_scan("+this[mb].l()+", ?, "+(this.gf?"reverse":"natural")+(this.od?", limit:?":"")+(this.pd?", skip:?":"")+")"});wh[t].md=function(a){var b=this[D](),c=this.Ag.Gd(a),b=b[eb]("?",c[D]());this.od&&(b=b[eb]("?",a.na[D]()));this.pd&&(b=b[eb]("?",a.ia[D]()));return b};
wh[t].ka=function(a,b,c){a=this.Ag.Gd(c);b=this.H.get(this[mb].l());c=(1==a[C]&&a[0]instanceof be&&a[0].hk()?jf(b.get(a[0].f),!1,this.od?c.na:void 0,this.pd?c.ia:void 0):b.bb(a,this.gf,this.od?c.na:void 0,this.pd?c.ia:void 0)).map(function(a){return new ed(a,{})},this);return[le(c,[this[mb].nf])]};
function xh(a){U[r](this,1,1);this.Xd=a}K(xh,U);f(xh[t],Hb("select(?)"));xh[t].md=function(a){a=a.Jd(this.Xd);return this[D]()[eb]("?",a[D]())};xh[t].ka=function(a,b,c){return[c.Jd(this.Xd).eval(b[0])]};
function yh(a,b){U[r](this,1,1);this.sa=a.o(Bd);this.O=b}K(yh,U);f(yh[t],function(){return"table_access_by_row_id("+this.O[u]()+")"});yh[t].ka=function(a,b){return[le(this.sa.get(b[0].Jj()),[this.O.ta()])]};
function zh(a,b){U[r](this,0,-1);this.sa=a.o(Bd);this.H=a.o(Cd);ia(this,b)}K(zh,U);f(zh[t],function(){var a="table_access("+this[h][u]();null===this[h].ab()||(a+=" as "+this[h].ab());return a+")"});zh[t].ka=function(){var a=this.H.get(this[h].Pb()).bb();return[le(this.sa.get(a),[this[h].ta()])]};
function Ah(a){this.m=a}K(Ah,Hg);Ah[t].Gb=function(a,b){this.ha=a;Pf(a,function(a){return a instanceof zh})[F](function(a){var d=this.aj(a);if(0!=d[C]){var g=(new uh(this.m,a[h])).ii(b,d.map(function(a){return b.Jd(a.Xd)}));if(null!==g){var k=new N;d[F](function(a){k.set(a.Xd,a)},this);this.ha=this.Uk(g,k,a,b)}}},this);return this.ha};Ah[t].aj=function(a){var b=[];for(a=a[yb]();a;)a instanceof xh&&b[x](a),a=a[yb]();return b};
Ah[t].Uk=function(a,b,c){a.Ej().map(function(a){return b.get(a)})[F](Qf);a=new wh(this.m,a.xb,a.fg(),!1);var d=new yh(this.m,c[h]);d.ja(a);Uf(c,c,d,a);return a.nb()};
function Bh(a,b){U[r](this,0,-1);this.H=a.o(Cd);this.O=b}K(Bh,U);f(Bh[t],function(){return"insert("+this.O[u]()+")"});Bh[t].ka=function(a,b,c){Ch(this.O,c[db],this.H);a.yb(this.O,c[db]);return[le(c[db],[this.O[u]()])]};function Ch(a,b,c){a=a.Eb().Ie();if(null===a?0:a.h[0][ob]){var d=a.h[0].ea[u](),g=c.get(a.l()).max()[0]||0;b[F](function(a){if(0==a.u()[d]||null==a.u()[d])g++,a.u()[d]=g})}}function Dh(a,b){U[r](this,0,-1);this.H=a.o(Cd);this.O=b}K(Dh,U);
f(Dh[t],function(){return"insert_replace("+this.O[u]()+")"});Dh[t].ka=function(a,b,c){Ch(this.O,c[db],this.H);a.Oe(this.O,c[db]);return[le(c[db],[this.O[u]()])]};
function Eh(a,b){U[r](this,2,0);this.Tg=a;this.wg=b}K(Eh,U);f(Eh[t],function(){return(this.wg?"left_outer_join":"join")+"("+this.Tg[D]()+")"});Eh[t].ka=function(a,b){return[this.Tg.Hi(b[0],b[1],this.wg)]};
function Fh(){U[r](this,1,1)}K(Fh,U);f(Fh[t],Hb("limit(?)"));Fh[t].md=function(a){return this[D]()[eb]("?",a.na[D]())};Fh[t].ka=function(a,b,c){b[0][B][A](c.na);return b};
function Gh(a){U[r](this,-1,1);this.N=a}K(Gh,U);H=Gh[t];f(H,function(){return"order_by("+Ee(this.N)+")"});H.ka=function(a,b){if(1==b[C]){var c=this.Xi(b[0]);(null===c?b[0]:b[0].rc(c))[B][Za](this.Ei[E](this))}else b[Za](this.Qk[E](this));return b};H.Xi=function(a){for(var b=null,c=0;c<this.N[C];c++){var d=jg(this.N[c].K);if(a.Vj(d)){b=d;break}}return b};
H.S=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.N[k].K,c=this.N[k].pb,d=a(g),g=b(g);while(d==g&&k+1<this.N[C]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.Qk=function(a,b){return this.S(function(b){return b instanceof T?a.rc(b):a[B][a[B][C]-1].U(b)},function(a){return a instanceof T?b.rc(a):b[B][b[B][C]-1].U(a)})};H.Ei=function(a,b){return this.S(function(b){return a.U(b)},function(a){return b.U(a)})};
function Hh(a,b){this.Ia=a;this.F=b}Hh[t].kg=function(){return this.F[ab](function(a){return a instanceof T},this)?this.Tj():this.Uj()};
Hh[t].Tj=function(){if(1==this.F[C]&&"DISTINCT"==this.F[0].fc){var a=this.Ia.rc(this.F[0])[B].map(function(a){var b=new me(new ed(-1,{}),this.Ia.Qe());b.kf(this.F[0],a.U(this.F[0][jb]));return b},this);return new fe(a,[])}var b=new me(new ed(-1,{}),this.Ia.Qe());this.F[F](function(a){var d=a instanceof T?this.Ia.rc(a):this.Ia[B][0].U(a);b.kf(a,d)},this);return new fe([b],this.Ia.X())};
Hh[t].Uj=function(){var a=e(this.Ia[B][C]),b=this.Ia.Qe();this.Ia[B][F](function(c,d){a[d]=new me(new ed(c.xa.id(),{}),b);this.F[F](function(b){a[d].kf(b,c.U(b))},this)},this);return new fe(a,this.Ia.X())};function Ih(a,b){var c=a.map(function(a){return(new Hh(a,b)).kg()[B][0]});return new fe(c,a[0].X())};
function Jh(a,b){U[r](this,-1,1);this.h=a;this.Qb=b}K(Jh,U);H=Jh[t];f(H,function(){var a="project("+this.h[D]();if(null!==this.Qb)var b=this.Qb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});H.ka=function(a,b){return 0==b[C]?[ie()]:1==b[C]?[this.Oi(b[0])]:[this.Mi(b)]};H.Wj=function(){return this.h[ab](function(a){return a instanceof T})||null!==this.Qb};H.Mi=function(a){return Ih(a,this.h)};H.Oi=function(a){return 0==this.h[C]?a:(new Hh(a,this.h)).kg()};
function Kh(){U[r](this,1,1)}K(Kh,U);f(Kh[t],Hb("skip(?)"));Kh[t].md=function(a){return this[D]()[eb]("?",a.ia[D]())};Kh[t].ka=function(a,b,c){return[new fe(b[0][B][n](c.ia),b[0].X())]};
function Lh(){}K(Lh,Hg);Lh[t].Gb=function(a){var b=Pf(a,function(a){return a instanceof Fh||a instanceof Kh});if(0==b[C])return a;var c=this.$i(a);if(null===c)return a;b[F](function(a){this.tk(a,c)},this);return c.nb()};Lh[t].tk=function(a,b){a instanceof Fh?b.od=!0:b.pd=!0;return Qf(a).parent};Lh[t].$i=function(a){a=Pf(a,function(a){return a instanceof wh},function(a){return a instanceof Jh&&a.Wj()||a instanceof Gh||1!=a.ya()||a instanceof xh});return 0<a[C]?a[0]:null};
function Mh(a){this.m=a}K(Mh,Hg);Mh[t].Gb=function(a){var b=Nh(a);if(null===b)return a;a=this.Gh(b);a==b&&(a=this.Fh(b));return a.nb()};Mh[t].Gh=function(a){var b=a,c=Oh(a.tb(0));if(null!==c){var d;d=a.N;for(var g=null,k=c[h].Ea(),l=0;l<k[C]&&null===g;l++)g=Ph(k[l],d);d=g;if(null===d)return b;b=new wh(this.m,d.xb,new sh(d.xb),d.xg);d=new yh(this.m,c[h]);d.ja(b);Qf(a);b=Uf(c,c,d,b)}return b};
Mh[t].Fh=function(a){var b=a,c=Qh(a.tb(0));if(null!==c){var d=Ph(c[mb],a.N);if(null===d)return b;c.gf=d.xg;b=Qf(a).parent}return b};function Qh(a){a=Pf(a,function(a){return a instanceof wh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Oh(a){a=Pf(a,function(a){return a instanceof zh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Nh(a){a=Pf(a,function(a){return a instanceof Gh});return 0<a[C]?a[0]:null}
function Ph(a,b){if(a.h[C]!=b[C]||!b[Ua](function(b,c){return b.K[u]()==a.h[c].ea[u]()}))return null;var c=Rh(b,a);return c[0]||c[1]?{xb:a,xg:c[1]}:null}function Rh(a,b){var c=a[Ka](function(a,b){return a<<1|(0==b.pb?0:1)},0),d=b.h[Ka](function(a,b){return a<<1|(0==b.pb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[C],b.h[C]))-1;return[c,d]};
function Sh(a,b,c){this.Ca=a;this.cf=b;this.hf=c}Sh[t].qc=function(){this.hf[F](function(a){this.Ca=a.Gb(this.Ca,this.cf)},this);return this.Ca};
function Th(a,b){U[r](this,1,1);this.O=a;this.sl=b}K(Th,U);f(Th[t],function(){return"update("+this.O[u]()+")"});Th[t].ka=function(a,b){var c=b[0][B].map(function(a){var b=this.O.nc(a.xa.Ka());this.sl[F](function(a){b.u()[a.K[u]()]=a[v]},this);return b},this);a[Va](this.O,c);return[ie()]};
function Uh(a){this.m=a}Uh[t].create=function(a,b){var c=a.nb();if(c instanceof ug||c instanceof tg)return this.ye(a,b);if(c instanceof Ag||c instanceof Eg||c instanceof Fg)return this.ye(a,b,[new Ah(this.m),new Mh(this.m),new Lh]);if(c instanceof vg||c instanceof wg)return this.ye(a,b,[new Ah(this.m)]);throw new P(8);};Uh[t].ye=function(a,b,c){var d=Nf(a.nb(),J(this.pk,this));null!=c&&(d=(new Sh(d,b,c)).qc());return new Fe(d,a.fa())};
Uh[t].pk=function(a){if(a instanceof Ag)return new Jh(a.h,a.Qb);if(a instanceof Dg)return new qh(a.h);if(a instanceof Cg)return new kg(a.h);if(a instanceof Bg)return new Gh(a.N);if(a instanceof Fg)return new Kh;if(a instanceof Eg)return new Fh;if(a instanceof xg)return new xh(a.Ba.da());if(a instanceof zg)return new Kg;if(a instanceof Gg)return new Eh(a.Ba,a.vg);if(a instanceof yg)return new zh(this.m,a[h]);if(a instanceof vg)return new ph(a[h]);if(a instanceof wg)return new Th(a[h],a.sf);if(a instanceof
ug)return new Dh(this.m,a[h]);if(a instanceof tg)return new Bh(this.m,a[h]);throw new P(514);};

function Vh(a){this.mk=new oh;this.Ek=new Uh(a)}Vh[t].Dj=function(a){var b=this.mk[kb](a);return this.Ek[kb](b,a)};
function Wh(){this.Gg=new N}H=Wh[t];H.Fd=function(a){var b=this.Gg.get(a[u](),null);null===b&&(b=new Xh,this.Gg.set(a[u](),b));return b};H.Qj=function(a,b,c){b[F](function(b){this.Fd(b).Pj(a,c)},this)};H.Vh=function(a,b,c){return b[Ua](function(b){return this.Fd(b).Uh(a,c)},this)};H.Xg=function(a,b,c){var d=this.Vh(a,b,c);d&&this.Qj(a,b,c);return d};H.releaseLock=function(a,b){b[F](function(b){this.Fd(b).releaseLock(a)},this)};H.ji=function(a){a[F](function(a){this.Fd(a).hb=null},this)};
function Xh(){this.cc=this.Wa=this.hb=this.Rc=null}Xh[t].releaseLock=function(a){this.Rc==a&&(this.Rc=null);this.hb==a&&(this.hb=null);null===this.Wa||this.Wa[w](a);null===this.cc||this.cc[w](a)};Xh[t].Uh=function(a,b){var c=null===this.Wa||this.Wa.Ha();return 0==b?(null===this.cc||this.cc.Ha())&&c&&null===this.Rc&&null!==this.hb&&this.hb==a:3==b?null===this.Rc&&null===this.hb&&null!==this.Wa&&this.Wa[sb](a):1==b?null===this.hb:c&&(null===this.hb||this.hb==a)};
Xh[t].Pj=function(a,b){0==b?(this.hb=null,this.Rc=a):3==b?(null===this.cc&&(this.cc=new O),this.cc.add(a),null===this.Wa&&(this.Wa=new O),this.Wa[w](a)):1==b?(null===this.Wa&&(this.Wa=new O),this.Wa.add(a)):2==b&&(this.hb=a)};
function Yh(){this.Zb=new Zh;this.dd=new Wh}H=Yh[t];H.ac=function(a){(2>a[Ab]()||2>a[Ab]())&&this.dd.ji(a.fa().c());this.Zb.yb(a);this.xe();return a.Yc().ga};H.xe=function(){for(var a=this.Zb.c(),b=0;b<a[C];b++){var c=a[b],d=!1;if(d=0==c.Z()?this.Yg(c,1,3):this.Yg(c,2,0))this.Zb[w](c),this.Pi(c)}};H.Yg=function(a,b,c){var d=!1,g=a.fa().c();this.dd.Xg(a.da(),g,b)&&(d=this.dd.Xg(a.da(),g,c));return d};H.Pi=function(a){a[Qa]()[z](J(this.Ak,this,a),J(this.zk,this,a))};
H.Ak=function(a,b){this.dd.releaseLock(a.da(),a.fa().c());a.Yc()[Cb](b);this.xe()};H.zk=function(a,b){this.dd.releaseLock(a.da(),a.fa().c());a.Yc()[La](b);this.xe()};function Zh(){this.Zb=[]}Zh[t].yb=function(a){uc(this.Zb,a,function(a,c){var d=a[Ab]()-c[Ab]();return 0==d?a.da()-c.da():d})};Zh[t].c=function(){return this.Zb[n]()};va(Zh[t],function(a){var b=this.Zb;a=gc(b,a);var c;(c=0<=a)&&mc(b,a);return c});

function $h(a,b){this.Gi=qe.Fe();this.df=a;this.Td=b;this.F=this.zi()}$h[t].zi=function(){if(0<this.df.h[C])return this.df.h;var a=[];this.df.f[F](function(b){b.ub()[F](function(b){a[x](b)})});return a};$h[t].S=function(a,b){return this.F[Ua](function(c){return this.Gi.Ee(c.Z(),"eq")(a.U(c),b.U(c))},this)};
$h[t].Eh=function(a,b){for(var c=null===a?[]:a[B],d=nd(c,b[B],J(this.S,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[C];l++){var p=c[l];d[k]==p?k++:(p=this.Td[A](k,1),p=ai(l,p,0,this.Td),g[x](p))}d=nd(c,b[B],J(this.S,this),function(a,c){return b[B][c]});for(l=k=0;l<b[B][C];l++)p=b[B][l],d[k]==p?k++:(this.Td[A](l,0,p.xa.u()),p=ai(l,[],1,this.Td),g[x](p));return g};function ai(a,b,c,d){return{tl:c,index:a,object:d,vl:b,type:"splice"}};
function bi(){this.pc=new N}H=bi[t];H.Je=function(a){return Sb(a)[D]()};H.ie=function(a,b){var c=this.Je(a.Id()),d=this.pc.get(c,null);null===d&&(d=new ci(a),this.pc.set(c,d));d.ie(b)};H.ff=function(a,b){var c=this.Je(a.Id()),d=this.pc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.ff(b);L(g,"removeObserver: Inconsistent state detected.");d.Yj()||this.pc[w](c)};
H.Le=function(a){var b=new O;a[F](function(a){b.add(a[u]())});var c=[];this.pc.c()[F](function(a){a=a.$c();a[nb].f[ab](function(a){return b[sb](a[u]())})&&c[x](a)});return c};H.rh=function(a,b){var c=this.Je(null!=a.Kc?a.Kc:a),c=this.pc.get(c,null);return null!==c?(c.rl(b),!0):!1};function ci(a){this.Ph=a;this.gd=new O;this.xk=[];this.Dg=null;this.Ci=new $h(a.Id(),this.xk)}H=ci[t];H.ie=function(a){this.gd[sb](a)?cc("Attempted to register observer twice."):this.gd.add(a)};H.ff=function(a){return this.gd[w](a)};
H.$c=function(){return this.Ph.zj()};H.Yj=function(){return 0<this.gd.pa()};H.rl=function(a){var b=this.Ci.Eh(this.Dg,a);this.Dg=a;0<b[C]&&this.gd.c()[F](function(a){a(b)})};
function di(a,b){var c=a.o(Gd),d=b||{},g=new hf;a.qb(Bd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new Ve(c);break;case 5:g=new We(c);break;case 4:g=new $e(a,c,d.webSqlDbSize);break;case 3:g=new Pe(c,d.firebase);k=!0;break;default:g=new Te(a,c)}a.qb(Ad,g);var l=new Jf;a.qb(Cd,l);return g.Fa(d.onUpgrade)[z](function(){a.qb(Dd,new Vh(a));var b=new Yh;a.qb(Ed,b);b=new bi;a.qb(Fd,b);return l.Fa(c)})[z](function(){k&&(new Ke(a)).fl();return(new If(a)).Fa(c)})};

function ei(a,b){this.m=a;this.Cb=a.o(Ad);this.Ya=a.o(Ed);this.Fb=a.o(Fd);this.ra=new O(b);this.Va=new ae(this.m,this.ra.c());this.$b=Zc();this.Sc=Zc();this.uf=Zc()}H=ei[t];ma(H,function(){this.uf[Cb]();return this.Sc.ga});H.Z=Hb(1);H.fa=G("ra");H.Yc=G("$b");H.da=function(){return Sb(this)};Ea(H,Hb(2));H.vh=function(){this.Ya.ac(this);return this.uf.ga};
H.Mh=function(a){a=a.$c();return a.af.nb()[Qa](this.Va,a[nb])[z](function(a){return a[0].Ge()},J(function(a){this.Va.Hb();var c=new Qc(a[q]);this.Sc[La](c);throw a;},this))};H.oa=function(){this.Cb.Nb(this.Z(),this.Va).oa()[z](J(function(){this.kd();this.Sc[Cb]()},this),J(function(a){this.Va.Hb();this.Sc[La](a)},this));return this.$b.ga};H.Hb=function(){this.Va.Hb();this.Sc[Cb]();return this.$b.ga};H.kd=function(){var a=this.Fb.Le(this.ra.c());0!=a[C]&&(a=new Ie(this.m,a),this.Ya.ac(a))};
function fi(a){this.m=a;this.Ya=a.o(Ed);this.nd=null;this.La=0}I("lf.proc.Transaction",fi,void 0);var gi=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));fi[t].Qa=function(a){var b=gi.get(this.La,null);if(null===b||!b[sb](a))throw new P(107,this.La,a);this.La=a};
ma(fi[t],function(a){this.Qa(4);var b=[];try{a[F](function(a){a.lb();b[x](a.$c())},this)}catch(c){return this.Qa(7),Vc(c)}a=new Lg(this.m,b);return this.Ya.ac(a)[z](J(function(a){this.Qa(7);return a.map(function(a){return a.Ge()})},this),J(function(a){this.Qa(7);throw a;},this))});ma(fi[t],fi[t][Qa]);fi[t].Nh=function(a){this.Qa(1);this.nd=new ei(this.m,a);return this.nd.vh()[z](J(function(){this.Qa(2)},this))};fi[t].begin=fi[t].Nh;
fi[t].Lh=function(a){this.Qa(3);return this.nd.Mh(a)[z](J(function(a){this.Qa(2);return a},this),J(function(a){this.Qa(7);throw a;},this))};fi[t].attach=fi[t].Lh;fi[t].oa=function(){this.Qa(5);return this.nd.oa()[z](J(function(){this.Qa(7)},this))};fi[t].commit=fi[t].oa;fi[t].Hb=function(){this.Qa(6);return this.nd.Hb()[z](J(function(){this.Qa(7)},this))};fi[t].rollback=fi[t].Hb;
function X(a){this.m=a;this.s=a.o(Gd);this.Ne=!1}I("lf.proc.Database",X,void 0);X[t].Fa=function(a){this.m.qb(Gd,this.s);return di(this.m,a)[z](J(function(){this.Ne=!0;return this},this))};X[t].init=X[t].Fa;X[t].wb=G("s");X[t].getSchema=X[t].wb;X[t].kc=function(){if(!this.Ne)throw new P(2);};X[t].select=function(a){this.kc();return new W(this.m,1!=arguments[C]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].yb=function(){this.kc();return new ah(this.m)};X[t].insert=X[t].yb;
X[t].Oe=function(){this.kc();return new ah(this.m,!0)};X[t].insertOrReplace=X[t].Oe;qa(X[t],function(a){this.kc();return new eh(this.m,a)});qa(X[t],X[t][Va]);ra(X[t],function(){this.kc();return new $g(this.m)});X[t]["delete"]=X[t][Ya];X[t].observe=function(a,b){this.m.o(Fd).ie(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.m.o(Fd).ff(a,b)};X[t].unobserve=X[t].unobserve;X[t].xi=function(){this.kc();return new fi(this.m)};X[t].createTransaction=X[t].xi;
oa(X[t],function(){try{this.m.o(Ad)[Ra]()}catch(a){}this.m[cb]();this.Ne=!1});oa(X[t],X[t][Ra]);
function Y(a,b,c,d,g,k){this.O=a;this.B=b;this.zg=c;this.ug=d;this.qh=g;this.kb=k||null}I("lf.schema.BaseColumn",Y,void 0);H=Y[t];na(H,G("B"));H.l=function(){return this.O.ta()+"."+this.B};f(H,function(){return this.l()});H.V=G("O");H.Z=G("qh");H.ab=G("kb");H.Ea=function(){null==this.ua&&(this.ua=[],this.V().Ea()[F](function(a){-1!=a.h.map(function(a){return a.ea[u]()})[$a](this.B)&&this.ua[x](a)},this));return this.ua};H.uc=G("ug");H.cd=G("zg");H.Ua=function(a){return eg(this,a,"eq")};Y[t].eq=Y[t].Ua;
Y[t].Hg=function(a){return eg(this,a,"neq")};Y[t].neq=Y[t].Hg;Y[t].Ue=function(a){return eg(this,a,"lt")};Y[t].lt=Y[t].Ue;Y[t].nk=function(a){return eg(this,a,"lte")};Y[t].lte=Y[t].nk;Y[t].Rj=function(a){return eg(this,a,"gt")};Y[t].gt=Y[t].Rj;Y[t].Sj=function(a){return eg(this,a,"gte")};Y[t].gte=Y[t].Sj;Y[t].match=function(a){return eg(this,a,"match")};Y[t].match=Y[t].match;Y[t].Oh=function(a,b){return eg(this,[a,b],"between")};Y[t].between=Y[t].Oh;Y[t].Zj=function(a){return eg(this,a,"in")};
Y[t]["in"]=Y[t].Zj;Y[t].gk=function(){return this.Ua(null)};Y[t].isNull=Y[t].gk;Y[t].fk=function(){return this.Hg(null)};Y[t].isNotNull=Y[t].fk;Y[t].Hc=function(a){return new Y(this.O,this.B,this.zg,this.ug,this.qh,a)};Y[t].as=Y[t].Hc;
function hi(){this.ce=new N}var ii;ta(hi[t],function(){this.ce[cb]()});ta(hi[t],hi[t][cb]);hi[t].qb=function(a,b){this.ce.set(a[D](),b);return b};hi[t].registerService=hi[t].qb;hi[t].o=function(a){var b=this.ce.get(a[D](),null);if(null==b)throw new P(7,a[D]());return b};hi[t].getService=hi[t].o;hi[t].Se=function(a){return this.ce.A(a[D]())};hi[t].isRegistered=hi[t].Se;
function ji(a){this.s=a;this.ef=new bf;this.Og=new bf;this.Nf=new bf;this.i=new bf;this.te=new bf;this.bk()}H=ji[t];H.bk=function(){this.s.Za()[F](function(a){var b=new ff;a.Eb().dg()[F](function(c){var d=this.ef.get(c.fb)||[];d[x](c);this.ef.set(c.fb,d);b.add(this.s[h](c.fb));(d=this.i.get(c.fb))||(d=new ff);d.add(a);this.i.set(c.fb,d);this.Nf.set(a[u]()+"."+c.mc,c.fb);c=c.fb+"."+c.xc;d=this.te.get(c)||[];d[x](a[u]());this.te.set(c,d)},this);0!=b[Eb]&&this.Og.set(a[u](),b)},this)};
H.Gj=function(a){return this.ef.get(a)||null};H.Wf=function(a,b){var c=b.get(a);return c?gf(c):[]};H.Bj=function(a){return this.Wf(a,this.Og)};H.Cj=function(a){var b=new ff;a[F](function(a){(a=this.Nf.get(a))&&b.add(a)},this);return gf(b).map(function(a){return this.s[h](a)},this)};H.$f=function(a){return this.Wf(a,this.i)};H.rj=function(a){var b=new ff;a[F](function(a){(a=this.te.get(a))&&a[F](function(a){b.add(a)})},this);return gf(b).map(function(a){return this.s[h](a)},this)};
function ki(a,b,c){this.Hk=a;this.vk=b;this.bj=c}ki[t].Ie=G("Hk");ki[t].yj=G("vk");ki[t].dg=G("bj");
function li(a,b){var c=a.ref[Ja](".");if(2!=c[C])throw new P(540,b);this.mc=a.local;this.fb=c[0];this.xc=c[1];ja(this,b);this.action=a.action;this.timing=a[Ma]};
function Z(a){this.B=a;this.F=new bf;this.qf=new ff;this.Dc=new ff;this.Sd=new ff;var b=this.B;this.yc="pk"+(b[0].toUpperCase()+b.substring(1));this.ua=new bf;this.Wd=!1;this.lc(a);this.Yf=[]}I("lf.schema.TableBuilder",Z,void 0);function mi(a){ja(this,a[q]);this.pb=a.order;this.autoIncrement=a[ob]}var ni=new ff([0,6]);Z[t].lc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);if(this.F.has(a)||this.ua.has(a)||this.Dc.has(a))throw new P(503,this.B+"."+a);};
Z[t].di=function(a){var b=!1;a[F](function(a){var d=this.F.get(a[q]);b=b||a[ob];if(a[ob]&&3!=d)throw new P(504);},this);if(b&&1<a[C])throw new P(505);};Z[t].xh=function(a,b){this.lc(a);this.F.set(a,b);ni.has(b)&&this.yf([a]);return this};Z[t].addColumn=Z[t].xh;Z[t].zh=function(a,b){this.lc(this.yc);var c=this.Rd(a,!0,void 0,b);this.di(c);1==c[C]&&this.qf.add(c[0][q]);this.Dc.add(this.yc);this.ua.set(this.yc,c);return this};Z[t].addPrimaryKey=Z[t].zh;
Z[t].yh=function(a,b){this.lc(a);var c=new li(b,this.B+"."+a);Jb(c.action)||(c.action=0);Jb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new P(506);if(!this.F.has(c.mc))throw new P(540,a);this.Yf[x](c);this.xf(a,[c.mc],!1);return this};Z[t].addForeignKey=Z[t].yh;Z[t].Ah=function(a,b){this.lc(a);var c=this.Rd(b,!0);this.Kf(a,c);1==c[C]&&this.qf.add(c[0][q]);this.ua.set(a,c);this.Dc.add(a);return this};Z[t].addUnique=Z[t].Ah;
Z[t].yf=function(a){a=this.Rd(a,!1);this.ci(a);a[F](function(a){this.Sd.add(a[q])},this);return this};Z[t].addNullable=Z[t].yf;Z[t].ci=function(a){cf(this.ua)[F](function(b){var c=new ff;this.ua.get(b)[F](function(a){c.add(a[q])});var d=a[Ga](function(a){return c.has(a[q])});if(1<c[Eb]&&0<d[C])throw new P(507,b,d[m](","));},this)};Z[t].xf=function(a,b,c,d){this.lc(a);b=this.Rd(b,!0,d);this.Kf(a,b);c&&this.Dc.add(a);this.ua.set(a,b);return this};Z[t].addIndex=Z[t].xf;
Z[t].Kf=function(a,b){if(1<b[C]){var c=b[Ga](function(a){return this.Sd.has(a[q])},this);if(0<c[C])throw new P(507,a,c[m](","));}};Z[t].Yb=Gb("Wd");Z[t].persistentIndex=Z[t].Yb;Z[t].wb=function(){return new (this.pj())};Z[t].getSchema=Z[t].wb;Z[t].Wc=G("Yf");
Z[t].Rd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new mi({name:a,order:c||1,autoIncrement:d||!1})}):a.map(function(a){return new mi(a)});g[F](function(a){if(!this.F.has(a[q]))throw new P(508,this.B,a[q]);if(b){var c=this.F.get(a[q]);if(0==c||6==c)throw new P(509,this.B,a[q]);}},this);return g};
Z[t].pj=function(){function a(){function a(c){return b.ua.get(c).map(function(a){return{ea:this[a[q]],pb:a.pb,autoIncrement:a[ob]}},this)}var d=cf(b.F).map(function(a){this[a]=new Y(this,a,b.qf.has(a),b.Sd.has(a),b.F.get(a));return this[a]},this),g=cf(b.ua).map(function(d){return new gg(b.B,d,b.Dc.has(d),a[r](this,d))},this);hg[r](this,b.B,d,g,b.Wd);var k=b.ua.has(b.yc)?new gg(b.B,b.yc,!0,a[r](this,b.yc)):null,l=d[Ga](function(a){return!b.Sd.has(a[u]())}),p=gf(b.Dc).map(function(d){return new gg(b.B,
d,!0,a[r](this,d))},this);this.ni=new ki(k,l,b.Wc(),p);this.ah=b.lj(d,g)}var b=this;K(a,hg);a[t].Db=function(a){return new this.ah(fd++,a)};a[t].createRow=a[t].Db;a[t].nc=function(a){var b={};this.ub()[F](function(g){var k=g[u]();g=g.Z();var l=a[v][k];if(0==g)if(null===l)g=l;else if(g=l,""==g)g=null;else{0!=g[C]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[C]/2),p=new Uint8Array(l),y=0,wa=0;y<g[C];y+=2)p[wa++]=da(g.substr(y,2),16);g=l}else g=2==g?null===l?l:new Date(l):l;b[k]=g},this);return new this.ah(a.id,
b)};a[t].deserializeRow=a[t].nc;a[t].Eb=G("ni");a[t].getConstraint=a[t].Eb;return a};
Z[t].lj=function(a,b){function c(c,d){this.F=a;this.ua=b;ed[r](this,c,d)}K(c,ed);c[t].Rf=function(){var a={};this.F[F](function(b){a[b[u]()]=b.uc()?null:Xd[b.Z()]});return a};c[t].nh=function(){var a={};this.F[F](function(b){var c=b[u]();b=b.Z();var d=this.u()[c];a[c]=0==b?null===d?d:id(d):2==b?null===d?d:d[Bb]():d},this);return a};var d=J(function(a){var b=this.F.get(a[u]());return 2==b?function(b){b=b[a[u]()];return a.uc()&&null===b?null:b[Bb]()}:1==b?function(b){return a.uc()?(b=b[a[u]()],null===
b?null:b?1:0):b[a[u]()]?1:0}:function(b){return b[a[u]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ea)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[F](function(a){var b=a.l();a=1==a.h[C]?d(a.h[0].ea):g(a.h);k[b]=a});c[t].Sb=function(a){return-1!=a[$a]("#")?this.id():k[rb](a)?k[a](this.u()):null};return c};
function oi(a,b){this.s=new pi(a,b);this.rb=new N;this.Tc=!1}I("lf.schema.Builder",oi,void 0);H=oi[t];H.ai=function(a){a.Wc()[F](function(b){var c=b.fb;if(!this.rb.A(c))throw new P(536,b[q]);var c=this.rb.get(c).wb(),d=b.xc;if(!c[rb](d))throw new P(537,b[q]);if(a.wb()[b.mc].Z()!=c[d].Z())throw new P(538,b[q]);if(!c[d].cd())throw new P(539,b[q]);},this)};H.$h=function(a){a.Wc()[F](function(a){this.rb.get(a.fb).Wc()[F](function(c){if(c.mc==a.xc)throw new P(534,a[q]);},this)},this)};
H.Wi=function(){this.Tc||(this.rb.c()[F](function(a){this.ai(a);this.s.$k(a.wb())},this),this.rb.c()[F](this.$h,this),this.Zh(),this.rb[cb](),this.Tc=!0)};H.If=function(a,b){a.tf||(a.tf=!0,a.Xe=!0,a.Uf[F](function(c){c=b.get(c);if(!c.tf)this.If(c,b);else if(c.Xe&&a!=c)throw new P(533);},this));a.Xe=!1};H.Zh=function(){var a=new bf;this.s.G.M()[F](function(b){a.set(b,new qi(b))},this);this.rb[F](function(b,c){b.Wc()[F](function(b){a.get(b.fb).Uf.add(c)})});df(a)[F](function(b){this.If(b,a)},this)};
function qi(a){this.Xe=this.tf=!1;this.Uf=new ff;this.nf=a}H.wb=function(){this.Tc||this.Wi();return this.s};oi[t].getSchema=oi[t].wb;oi[t].eg=function(){var a=new zd("ns_"+this.s[q]()),b;ii||(ii=new hi);b=ii;var c=null;b.Se(a)?c=b.o(a):(c=new hi,b.qb(a,c));return c};oi[t].getGlobal=oi[t].eg;oi[t].connect=function(a){var b=this.eg();b.Se(Gd)||b.qb(Gd,this.wb());return(new X(b)).Fa(a)};oi[t].connect=oi[t].connect;
oi[t].vi=function(a){if(this.rb.A(a))throw new P(503,a);if(this.Tc)throw new P(535);this.rb.set(a,new Z(a));return this.rb.get(a)};oi[t].createTable=oi[t].vi;oi[t].mf=function(a){if(this.Tc)throw new P(535);this.s.mf(a);return this};oi[t].setPragma=oi[t].mf;function pi(a,b){this.B=a;this.Sa=b;this.G=new N;this.Sg={Di:!1}}I("lf.schema.DatabaseSchema",pi,void 0);ja(pi[t],G("B"));ja(pi[t],pi[t][q]);pi[t].version=G("Sa");pi[t].version=pi[t][tb];pi[t].Za=function(){return this.G.c()};pi[t].tables=pi[t].Za;
ia(pi[t],function(a){if(!this.G.A(a))throw new P(101,a);return this.G.get(a)});ia(pi[t],pi[t][h]);pi[t].info=function(){this.pg||(this.pg=new ji(this));return this.pg};pi[t].$k=function(a){this.G.set(a[u](),a)};pi[t].Rg=G("Sg");pi[t].pragma=pi[t].Rg;pi[t].mf=Gb("Sg");I("lf.schema.create",function(a,b){return new oi(a,b)},void 0);}.bind(window))()
