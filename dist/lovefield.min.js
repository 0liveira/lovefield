/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=String;function ha(a,b){return a.table=b}function ia(a,b){return a.name=b}function ja(a,b){return a.dump=b}function ka(a,b){return a.clone=b}function la(a,b){return a.exec=b}function ma(a,b){return a.getName=b}function na(a,b){return a.close=b}function oa(a,b){return a.value=b}function pa(a,b){return a.update=b}function qa(a,b){return a.delete=b}function ra(a,b){return a.onsuccess=b}
function sa(a,b){return a.clear=b}function ta(a,b){return a.values=b}function ua(a,b){return a.remove=b}function va(a,b){return a.child=b}function xa(a,b){return a.next=b}function ya(a,b){return a.onerror=b}function za(a,b){return a.length=b}function f(a,b){return a.toString=b}function Aa(a,b){return a.bind=b}function Ba(a,b){return a.subscribe=b}function Ca(a,b){return a.forEach=b}function Da(a,b){return a.getPriority=b}
var Ea="openCursor",Fa="filter",Ga="once",Ha="objectStoreNames",Ia="split",k="table",Ja="reduce",Ka="join",La="reject",Ma="timing",Na="item",m="slice",Oa="target",n="name",q="call",r="prototype",Pa="exec",t="getName",Qa="close",Ra="concat",u="value",Sa="setImmediate",Ta="every",Ua="update",Va="global",Wa="propertyIsEnumerable",Xa="delete",Ya="sort",Za="indexOf",$a="some",ab="count",bb="orderByChild",v="clear",cb="values",db="replace",eb="reverse",fb="continue",gb="addAll",hb="removeChild",w="remove",
ib="child",jb="create",x="push",z="then",kb="transaction",lb="index",mb="context",A="splice",nb="autoIncrement",ob="next",pb="shift",rb="hasOwnProperty",sb="contains",tb="version",ub="objectStore",vb="offset",wb="apply",B="entries",C="length",xb="info",D="toString",yb="compare",E="bind",zb="getParent",Ab="rows",F="forEach",Bb="getPriority",Cb="getTime",Db="resolve",Eb="result",Fb="size";function Gb(){return function(){}}function Hb(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Ib(a){return function(){return a}}var H,Jb=this;function Kb(a){return void 0!==a}function I(a,b,c){a=a[Ia](".");c=c||Jb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[C]&&(d=a[pb]());)!a[C]&&Kb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Lb(){}function Mb(a){a.Ge=function(){return a.qg?a.qg:a.qg=new a}}
function Nb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[r][D][q](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Wa]&&!a[Wa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[q]&&"undefined"!=typeof a[Wa]&&!a[Wa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[q])return"object";return b}
function Ob(a){return null===a}function Pb(a){return null!=a}function Qb(a){var b=Nb(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Rb(a){return"string"==typeof a}function Sb(a){return"function"==Nb(a)}function Tb(a){return a[Ub]||(a[Ub]=++Vb)}var Ub="closure_uid_"+(1E9*ba.random()>>>0),Vb=0;function Wb(a,b,c){return a[q][wb](a[E],arguments)}
function Xb(a,b,c){if(!a)throw fa();if(2<arguments[C]){var d=e[r][m][q](arguments,2);return function(){var c=e[r][m][q](arguments);e[r].unshift[wb](c,d);return a[wb](b,c)}}return function(){return a[wb](b,arguments)}}function J(a,b,c){J=Function[r][E]&&-1!=Function[r][E][D]()[Za]("native code")?Wb:Xb;return J[wb](null,arguments)}function Yb(a,b){var c=e[r][m][q](arguments,1);return function(){var b=c[m]();b[x][wb](b,arguments);return a[wb](this,b)}}
function K(a,b){function c(){}c.prototype=b[r];a.Pb=b[r];a.prototype=new c;a[r].constructor=a;a.yl=function(a,c,h){for(var l=e(arguments[C]-2),p=2;p<arguments[C];p++)l[p-2]=arguments[p];return b[r][c][wb](a,l)}};function Zb(a){if(fa.captureStackTrace)fa.captureStackTrace(this,Zb);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ga(a))}K(Zb,fa);ia(Zb[r],"CustomError");function $b(a,b){for(var c=a[Ia]("%s"),d="",g=e[r][m][q](arguments,1);g[C]&&1<c[C];)d+=c[pb]()+g[pb]();return d+c[Ka]("%s")};function ac(a,b){b.unshift(a);Zb[q](this,$b[wb](null,b));b[pb]()}K(ac,Zb);ia(ac[r],"AssertionError");function bc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),h=d;else a&&(g+=": "+a,h=b);throw new ac(""+g,h||[]);}function L(a,b,c){a||bc("",null,b,e[r][m][q](arguments,2));return a}function cc(a,b){throw new ac("Failure"+(a?": "+a:""),e[r][m][q](arguments,1));}function dc(a,b,c){Sb(a)||bc("Expected function but got %s: %s.",[Nb(a),a],b,e[r][m][q](arguments,2));return a};function ec(a,b,c){this.qk=c;this.Ci=a;this.Zk=b;this.Zd=0;this.Sd=null}ec[r].get=function(){var a;0<this.Zd?(this.Zd--,a=this.Sd,this.Sd=a[ob],xa(a,null)):a=this.Ci();return a};ec[r].put=function(a){this.Zk(a);this.Zd<this.qk&&(this.Zd++,xa(a,this.Sd),this.Sd=a)};var fc=e[r],gc=fc[Za]?function(a,b,c){L(null!=a[C]);return fc[Za][q](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[C]+c):c;if(Rb(a))return Rb(b)&&1==b[C]?a[Za](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},hc=fc[F]?function(a,b,c){L(null!=a[C]);fc[F][q](a,b,c)}:function(a,b,c){for(var d=a[C],g=Rb(a)?a[Ia](""):a,h=0;h<d;h++)h in g&&b[q](c,g[h],h,a)},ic=fc.map?function(a,b,c){L(null!=a[C]);return fc.map[q](a,b,c)}:function(a,b,c){for(var d=a[C],g=e(d),h=Rb(a)?a[Ia](""):a,l=0;l<
d;l++)l in h&&(g[l]=b[q](c,h[l],l,a));return g},jc=fc[Ja]?function(a,b,c,d){L(null!=a[C]);d&&(b=J(b,d));return fc[Ja][q](a,b,c)}:function(a,b,c,d){var g=c;hc(a,function(c,l){g=b[q](d,g,c,l,a)});return g},kc=fc[$a]?function(a,b,c){L(null!=a[C]);return fc[$a][q](a,b,c)}:function(a,b,c){for(var d=a[C],g=Rb(a)?a[Ia](""):a,h=0;h<d;h++)if(h in g&&b[q](c,g[h],h,a))return!0;return!1},lc=fc[Ta]?function(a,b,c){L(null!=a[C]);return fc[Ta][q](a,b,c)}:function(a,b,c){for(var d=a[C],g=Rb(a)?a[Ia](""):a,h=0;h<
d;h++)if(h in g&&!b[q](c,g[h],h,a))return!1;return!0};function mc(a,b){L(null!=a[C]);return 1==fc[A][q](a,b,1)[C]}function nc(a,b,c){a:{for(var d=a[C],g=Rb(a)?a[Ia](""):a,h=0;h<d;h++)if(h in g&&b[q](c,g[h],h,a)){b=h;break a}b=-1}return 0<=b?(mc(a,b),!0):!1}function oc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function pc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Qb(d)){var g=a[C]||0,h=d[C]||0;za(a,g+h);for(var l=0;l<h;l++)a[g+l]=d[l]}else a[x](d)}}function qc(a,b,c,d){L(null!=a[C]);return fc[A][wb](a,rc(arguments,1))}function rc(a,b,c){L(null!=a[C]);return 2>=arguments[C]?fc[m][q](a,b):fc[m][q](a,b,c)}function sc(a,b,c,d,g){for(var h=0,l=a[C],p;h<l;){var y=h+l>>1,wa;wa=c?b[q](g,a[y],y,a):b(d,a[y]);0<wa?h=y+1:(l=y,p=!wa)}return p?h:~h}function tc(a,b){return a>b?1:a<b?-1:0}
function uc(a,b,c){c=sc(a,c||tc,!1,b);return 0>c?(qc(a,-(c+1),0,b),!0):!1}function vc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function wc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Nb(d))for(var g=0;g<d[C];g+=8192)for(var h=rc(d,g,g+8192),h=wc[wb](null,h),l=0;l<h[C];l++)b[x](h[l]);else b[x](d)}return b};function xc(a,b,c){for(var d in a)b[q](c,a[d],d,a)}function yc(a,b,c){for(var d in a)if(b[q](c,a[d],d,a))return!0;return!1}function zc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ac(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Bc;a:{var Dc=Jb.navigator;if(Dc){var Ec=Dc.userAgent;if(Ec){Bc=Ec;break a}}Bc=""};function Fc(a){Jb.setTimeout(function(){throw a;},0)}var Gc;
function Hc(){var a=Jb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==Bc[Za]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Qa]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Bc[Za]("Trident")&&-1==Bc[Za]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Kb(c[ob])){c=c[ob];var a=c.If;c.If=null;a()}};return function(a){xa(d,{If:a});d=d[ob];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[hb](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Jb.setTimeout(a,0)}};function Ic(){this.ke=this.kc=null}var Kc=new ec(function(){return new Jc},function(a){a.reset()},100);Ic[r].add=function(a,b){var c=this.Sj();c.set(a,b);this.ke?xa(this.ke,c):(L(!this.kc),this.kc=c);this.ke=c};ua(Ic[r],function(){var a=null;this.kc&&(a=this.kc,this.kc=this.kc[ob],this.kc||(this.ke=null),xa(a,null));return a});Ic[r].$k=function(a){Kc.put(a)};Ic[r].Sj=function(){return Kc.get()};function Jc(){this.scope=this.Ce=null;xa(this,null)}
Jc[r].set=function(a,b){this.Ce=a;this.scope=b;xa(this,null)};Jc[r].reset=function(){this.scope=this.Ce=null;xa(this,null)};function Lc(a,b){Mc||Nc();Oc||(Mc(),Oc=!0);Pc.add(a,b)}var Mc;function Nc(){if(Jb.Promise&&Jb.Promise[Db]){var a=Jb.Promise[Db]();Mc=function(){a[z](Qc)}}else Mc=function(){var a=Qc;if(!Sb(Jb[Sa])||Jb.Window&&Jb.Window[r]&&Jb.Window[r][Sa]==Jb[Sa])Gc||(Gc=Hc()),Gc(a);else Jb[Sa](a)}}var Oc=!1,Pc=new Ic;[][x](function(){Oc=!1;Pc=new Ic});function Qc(){for(var a=null;a=Pc[w]();){try{a.Ce[q](a.scope)}catch(b){Fc(b)}Pc.$k(a)}Oc=!1};function M(a,b){this.La=0;this.ah=void 0;this.wd=this.pc=this.G=null;this.Rd=this.Be=!1;if(a!=Lb)try{var c=this;a[q](b,function(a){c.Bc(2,a)},function(a){if(!(a instanceof Rc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.Bc(3,a)})}catch(d){this.Bc(3,d)}}function Sc(){va(this,null);this.context=this.yc=this.ac=null;xa(this,null);this.ne=!1}Sc[r].reset=function(){va(this,null);this.context=this.yc=this.ac=null;this.ne=!1};
var Tc=new ec(function(){return new Sc},function(a){a.reset()},100);function Uc(a,b,c){var d=Tc.get();d.ac=a;d.yc=b;d.context=c;return d}function Vc(a){if(a instanceof M)return a;var b=new M(Lb);b.Bc(2,a);return b}function Wc(a){return new M(function(b,c){c(a)})}function Xc(a,b,c){Yc(a,b,c,null)||Lc(Yb(b,a))}function Zc(a){return new M(function(b,c){var d=a[C],g=[];if(d)for(var h=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;y=a[p];p++)Xc(y,Yb(h,p),l);else b(g)})}
function $c(){var a,b,c=new M(function(c,g){a=c;b=g});return new ad(c,a,b)}M[r].then=function(a,b,c){null!=a&&dc(a,"opt_onFulfilled should be a function.");null!=b&&dc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.zf(Sb(a)?a:null,Sb(b)?b:null,c)};M[r].then=M[r][z];M[r].$goog_Thenable=!0;H=M[r];
H.ml=function(a,b,c){null!=a&&dc(a,"opt_onFulfilled should be a function.");null!=b&&dc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.yf(Uc(a||Lb,b||null,c))};H.oh=function(a,b){return this.zf(null,a,b)};H.yf=function(a){this.bk()||2!=this.La&&3!=this.La||this.eh();this.Pk(a)};
H.zf=function(a,b,c){var d=Uc(null,null,null);va(d,new M(function(g,h){d.ac=a?function(b){try{var d=a[q](c,b);g(d)}catch(y){h(y)}}:g;d.yc=b?function(a){try{var d=b[q](c,a);!Kb(d)&&a instanceof Rc?h(a):g(d)}catch(y){h(y)}}:h}));d[ib].G=this;this.yf(d);return d[ib]};H.pl=function(a){L(1==this.La);this.La=0;this.Bc(2,a)};H.ql=function(a){L(1==this.La);this.La=0;this.Bc(3,a)};
H.Bc=function(a,b){0==this.La&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.La=1,Yc(b,this.pl,this.ql,this)||(this.ah=b,this.La=a,this.G=null,this.eh(),3!=a||b instanceof Rc||bd(this,b)))};
function Yc(a,b,c,d){if(a instanceof M)return a.ml(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(h){g=!1}else g=!1;if(g)return a[z](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[z];if(Sb(l))return cd(a,l,b,c,d),!0}catch(p){return c[q](d,p),!0}return!1}function cd(a,b,c,d,g){function h(a){p||(p=!0,d[q](g,a))}function l(a){p||(p=!0,c[q](g,a))}var p=!1;try{b[q](a,l,h)}catch(y){h(y)}}H.eh=function(){this.Be||(this.Be=!0,Lc(this.Xi,this))};H.bk=function(){return!!this.pc};
H.Pk=function(a){L(null!=a.ac);this.wd?xa(this.wd,a):this.pc=a;this.wd=a};H.Jk=function(){var a=null;this.pc&&(a=this.pc,this.pc=a[ob],xa(a,null));this.pc||(this.wd=null);null!=a&&L(null!=a.ac);return a};H.Xi=function(){for(var a=null;a=this.Jk();)this.Wi(a,this.La,this.ah);this.Be=!1};H.Wi=function(a,b,c){3==b&&a.yc&&!a.ne&&this.Xk();if(a[ib])a[ib].G=null,dd(a,b,c);else try{a.ne?a.ac[q](a[mb]):dd(a,b,c)}catch(d){ed[q](null,d)}Tc.put(a)};
function dd(a,b,c){2==b?a.ac[q](a[mb],c):a.yc&&a.yc[q](a[mb],c)}H.Eh=Gb();H.Xk=function(){var a;for(a=this;a&&a.Rd;a=a.G)a.Rd=!1};function bd(a,b){a.Rd=!0;Lc(function(){a.Rd&&(a.Eh(b),ed[q](null,b))})}var ed=Fc;function Rc(a){Zb[q](this,a)}K(Rc,Zb);ia(Rc[r],"cancel");function ad(a,b,c){this.ja=a;this.resolve=b;this.reject=c};
function fd(a,b){this.Aa=a;this.cc=b||this.Uf()}var gd=0;H=fd[r];H.id=G("Aa");H.Nh=Hb("Aa");H.w=G("cc");H.Uf=function(){return{}};H.ph=G("cc");H.Ka=function(){return{id:this.Aa,value:this.ph()}};H.Zb=function(a){return"#"==a.substr(-1)?this.Aa:null};function hd(a){return new fd(a.id,a[u])}function id(a){return new fd(gd++,a||{})}function jd(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};
function kd(a){this.type=a}function ld(a){fd[q](this,-1,a)}K(ld,fd);
var md={};I("lf.TransactionType",md,void 0);md.READ_ONLY=0;md.READ_WRITE=1;

function nd(a,b){this.Wa=a;this.qh=b;this.ca=$c()}H=nd[r];H.Bj=G("Wa");H.oa=function(){try{this.Wa.$h()}catch(a){return Wc(a)}return(0==this.qh?this.Kc():this.vk())[z](J(function(a){this.Wa.oa();return a},this))};H.vk=function(){this.wk();this.uk();return this.Kc()};
H.wk=function(){var a=this.Wa.dg();a.U()[F](function(b){var c=this.Wa.ha().get(b),c=this.M(c[t](),J(c.sc,c));b=a.get(b);var d=b.Vc().f().map(function(a){return a.id()});0<d[C]&&c[w](d).oh(this.Me,this);b=b.Xc().f().map(function(a){return a[1]})[Ra](b.Tc().f());c.put(b).oh(this.Me,this)},this)};H.uk=function(){this.Wa.yj()[F](function(a){var b=this.M(a[t](),hd),c;b.get([-1])[z](function(a){c=a;return b[w]([])})[z](function(){b.put(c);b.put(a.Ka())},J(this.Me,this))},this)};H.Me=function(a){this.ca[La](a)};function od(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[C],h=b[C],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<h+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=h;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var wa=[],p=g,y=h;0<p&&0<y;)c(a[p-1],b[y-1])?(wa.unshift(d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return wa}function pd(a){return jc(arguments,function(a,c){return a+c},0)}
function qd(a){return pd[wb](null,arguments)/arguments[C]}function rd(a){var b=arguments[C];if(2>b)return 0;var c=qd[wb](null,arguments);return pd[wb](null,ic(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function sd(a){return ba.sqrt(rd[wb](null,arguments))};var td="StopIteration"in Jb?Jb.StopIteration:{message:"StopIteration",stack:""};function ud(){}xa(ud[r],function(){throw td;});ud[r].Dc=function(){return this};function vd(a){if(a instanceof ud)return a;if("function"==typeof a.Dc)return a.Dc(!1);if(Qb(a)){var b=0,c=new ud;xa(c,function(){for(;;){if(b>=a[C])throw td;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function wd(a,b,c){if(Qb(a))try{hc(a,b,c)}catch(d){if(d!==td)throw d;}else{a=vd(a);try{for(;;)b[q](c,a[ob](),void 0,a)}catch(g){if(g!==td)throw g;}}}function xd(a){if(kc(arguments,function(a){return!a[C]})||!arguments[C])return new ud;var b=new ud,c=arguments,d=vc(0,c[C]);xa(b,function(){if(d){for(var a=ic(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){L(d);if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw td;});return b};function N(a,b){this.g={};this.b=[];this.Ta=this.aa=0;var c=arguments[C];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[gb](a)}H=N[r];H.ya=G("aa");H.f=function(){this.Ic();for(var a=[],b=0;b<this.b[C];b++)a[x](this.g[this.b[b]]);return a};H.U=function(){this.Ic();return this.b[Ra]()};H.B=function(a){return yd(this.g,a)};H.Ad=function(a){for(var b=0;b<this.b[C];b++){var c=this.b[b];if(yd(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Pc=function(a,b){if(this===a)return!0;if(this.aa!=a.ya())return!1;var c=b||zd;this.Ic();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function zd(a,b){return a===b}H.Na=function(){return 0==this.aa};sa(H,function(){this.g={};za(this.b,0);this.Ta=this.aa=0});ua(H,function(a){return yd(this.g,a)?(delete this.g[a],this.aa--,this.Ta++,this.b[C]>2*this.aa&&this.Ic(),!0):!1});
H.Ic=function(){if(this.aa!=this.b[C]){for(var a=0,b=0;a<this.b[C];){var c=this.b[a];yd(this.g,c)&&(this.b[b++]=c);a++}za(this.b,b)}if(this.aa!=this.b[C]){for(var d={},b=a=0;a<this.b[C];)c=this.b[a],yd(d,c)||(this.b[b++]=c,d[c]=1),a++;za(this.b,b)}};H.get=function(a,b){return yd(this.g,a)?this.g[a]:b};H.set=function(a,b){yd(this.g,a)||(this.aa++,this.b[x](a),this.Ta++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.U(),a=a.f()):(b=Ac(a),a=zc(a));for(var c=0;c<b[C];c++)this.set(b[c],a[c])};
Ca(H,function(a,b){for(var c=this.U(),d=0;d<c[C];d++){var g=c[d],h=this.get(g);a[q](b,h,g,this)}});ka(H,function(){return new N(this)});H.Dc=function(a){this.Ic();var b=0,c=this.Ta,d=this,g=new ud;xa(g,function(){if(c!=d.Ta)throw fa("The map has changed since the iterator was created");if(b>=d.b[C])throw td;var g=d.b[b++];return a?g:d.g[g]});return g};function yd(a,b){return aa[r][rb][q](a,b)};
function Ad(){this.g=new N;aa.defineProperty(this,"size",{get:function(){return this.g.ya()}})}sa(Ad[r],function(){this.g[v]()});sa(Ad[r],Ad[r][v]);qa(Ad[r],function(a){return this.g[w](a)});Ad[r]["delete"]=Ad[r][Xa];Ca(Ad[r],function(a,b){return this.g[F](a,b)});Ca(Ad[r],Ad[r][F]);Ad[r].get=function(a){return this.g.get(a)};Ad[r].get=Ad[r].get;Ad[r].has=function(a){return this.g.B(a)};Ad[r].has=Ad[r].has;Ad[r].set=function(a,b){return this.g.set(a,b)};Ad[r].set=Ad[r].set;
var Bd=ca.Map&&ca.Map[r][cb]&&ca.Map[r][F]?ca.Map:Ad;function Cd(a){if(a instanceof Ad)return a.g.U();var b=0,c=e(a[Fb]);a[F](function(a,g){c[b++]=g});return c}function Dd(a){if(a instanceof Ad)return a.g.f();var b=0,c=e(a[Fb]);a[F](function(a){c[b++]=a});return c};
function Ed(a){this.al=a}f(Ed[r],G("al"));var Fd=new Ed("backstore"),Gd=new Ed("cache"),Hd=new Ed("indexstore"),Id=new Ed("engine"),Jd=new Ed("runner"),Kd=new Ed("observerregistry"),Ld=new Ed("schema");
function Md(a){if("function"==typeof a.ya)a=a.ya();else if(Qb(a)||Rb(a))a=a[C];else{var b=0,c;for(c in a)b++;a=b}return a}function Nd(a){if("function"==typeof a.f)return a.f();if(Rb(a))return a[Ia]("");if(Qb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[x](a[d]);return b}return zc(a)}
function Od(a,b,c){if("function"==typeof a[Ta])return a[Ta](b,c);if(Qb(a)||Rb(a))return lc(a,b,c);var d;if("function"==typeof a.U)d=a.U();else if("function"!=typeof a.f)if(Qb(a)||Rb(a)){d=[];for(var g=a[C],h=0;h<g;h++)d[x](h)}else d=Ac(a);else d=void 0;for(var g=Nd(a),h=g[C],l=0;l<h;l++)if(!b[q](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new N;a&&this[gb](a)}function Pd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Tb(a):b.substr(0,1)+a}H=O[r];H.ya=function(){return this.g.ya()};H.add=function(a){this.g.set(Pd(a),a)};H.addAll=function(a){a=Nd(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};ua(H,function(a){return this.g[w](Pd(a))});sa(H,function(){this.g[v]()});H.Na=function(){return this.g.Na()};H.contains=function(a){return this.g.B(Pd(a))};H.ui=function(a){return Od(a,this[sb],this)};H.f=function(){return this.g.f()};
ka(H,function(){return new O(this)});H.Pc=function(a){return this.ya()==Md(a)&&this.mk(a)};H.mk=function(a){var b=Md(a);if(this.ya()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Od(this,function(b){var d=a;if("function"==typeof d[sb])b=d[sb](b);else if("function"==typeof d.Ad)b=d.Ad(b);else if(Qb(d)||Rb(d))b=0<=gc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Dc=function(){return this.g.Dc(!1)};
function Qd(a,b){this.Aa=a;this.cc=b||{}}function Rd(a){var b=new O;a[F](function(a){b.add(a>>9)});return b.f()}H=Qd[r];H.fa=G("Aa");H.xc=G("cc");H.ih=function(a){a[F](function(a){this.cc[a.id()]=a.Ka()},this)};H.Wk=function(a){a[F](function(a){var c=this.cc;a in c&&delete c[a]},this)};H.Ka=function(){return{id:this.Aa,value:JSON.stringify(this.cc)}};function Sd(a){return new Qd(a.id,JSON.parse(a[u]))};

function Td(a,b,c){this.W=a;this.Ub=b;this.bh=c}H=Td[r];H.get=function(a){return 0==a[C]?this.Uc():this.Fj(a)[z](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Ub(d.xc()[a])},this)},this))};H.Fj=function(a){var b=new Bd,c=$c();a=Rd(a).map(function(a){return new M(function(c,h){var l;try{l=this.W.get(a)}catch(p){h(p);return}ya(l,h);ra(l,J(function(a){a=Sd(a[Oa][Eb]);b.set(a.fa(),a);c()},this))},this)},this);Zc(a)[z](function(){c[Db](b)});return c.ja};
H.Uc=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Ea]()}catch(g){b(g);return}ya(d,b);ra(d,J(function(){var b=d[Eb];if(b){var g=Sd(b[u]).xc(),p;for(p in g)c[x](this.Ub(g[p]));b[fb]()}else a(c)},this))},this)};H.dc=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}ra(d,b);ya(d,c)},this)};
H.put=function(a){if(0==a[C])return Vc();var b=new Bd;a[F](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.bh(this.W[n],d));g.ih([a]);b.set(d,g)},this);a=Dd(b).map(function(a){return this.dc(J(function(){return this.W.put(a.Ka())},this))},this);return Zc(a)};
ua(H,function(a){if(0==a[C])return this.dc(J(function(){return this.W[v]()},this));var b=new Bd;a[F](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.bh(this.W[n],d));g.Wk([a]);b.set(d,g)},this);a=Dd(b).map(function(a){return this.dc(J(function(){var b;a:{b=a.xc();for(var g in b){b=!1;break a}b=!0}return b?this.W[Xa](a.fa()):this.W.put(a.Ka())},this))},this);return Zc(a)});function Ud(a,b,c){a=a.o(Gd);var d=[c<<9,(c+1<<9)-1];b=a.pb(b,d[0],d[1]);c=new Qd(c);c.ih(b);return c}
function Vd(a,b){return new Qd(b)};
function Wd(){};
function Xd(a){this.ta=a.o(Gd);this.J=a.o(Hd);this.s=a.o(Ld)}pa(Xd[r],function(a){a[F](function(a){this.ul(a);this.rl(a)},this)});Xd[r].rl=function(a){var b=a[t]();a.Vc().f()[F](function(a){this.ta[w](b,[a.id()])},this);a.Tc()[F](function(a){this.ta.set(b,[a])},this);a.Xc()[F](function(a){this.ta.set(b,[a[1]])},this)};Xd[r].ul=function(a){var b=this.s[k](a[t]());a.vj()[F](function(a){this.uh(b,a)},this)};
Xd[r].uh=function(a,b){a.za().map(function(a){return this.J.get(a.l())},this)[Ra]([this.J.get(a.Vb())])[F](function(a){var d=null===b[1]?void 0:b[1].Zb(a[t]()),g=null===b[0]?void 0:b[0].Zb(a[t]());if(!Kb(g)&&Kb(d))a.add(d,b[1].id());else if(Kb(g)&&Kb(d)){if(null===d||null===g){if(d==g)return}else if(0==a.Lc()[yb](g,d))return;a.add(d,b[1].id());a[w](g,b[0].id())}else Kb(g)&&!Kb(d)&&a[w](g,b[0].id())})};
var Yd={};I("lf.ConstraintAction",Yd,void 0);Yd.RESTRICT=0;Yd.CASCADE=1;var Zd={};I("lf.ConstraintTiming",Zd,void 0);Zd.IMMEDIATE=0;Zd.DEFERRABLE=1;var $d={};I("lf.Order",$d,void 0);$d.DESC=0;$d.ASC=1;var ae={};I("lf.Type",ae,void 0);ae.ARRAY_BUFFER=0;ae.BOOLEAN=1;ae.DATE_TIME=2;ae.INTEGER=3;ae.NUMBER=4;ae.STRING=5;ae.OBJECT=6;var be={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",be,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ba.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ga(arguments[c][D]()[m](0,64)))}K(P,fa);

function ce(a){this.J=a.o(Hd);this.s=a.o(Ld)}H=ce[r];H.dj=function(a,b){var c=a.Jb().Nd();return null===c?null:this.cj(c,b)};H.cj=function(a,b){var c=a.l(),d=b.Zb(c),c=this.J.get(c).get(d);return 0==c[C]?null:c[0]};H.ve=function(a,b){var c=a.Jb().Dj();b[F](function(a){c[F](function(b){if(null==a.w()[b[t]()])throw new P(202,b.l());},this)},this)};H.Nf=function(a,b,c){a.Jb().Fe()[F](function(a){a[Ma]==c&&this.ki(a,b)},this)};
H.ki=function(a,b){b[F](function(b){if(de(b[0],b[1],a[n])){b=b[1].w()[a.Rb];var d=this.gg(a);if(null!==b&&!d.B(b))throw new P(203,a[n]);}},this)};H.gg=function(a){var b=this.s[k](a.fb)[a.Ac].za()[Fa](function(b){return 1==b.h[C]&&b.h[0].ga[t]()==a.Ac})[0];return this.J.get(b.l())};function de(a,b,c){return(null===a?null!==b:null===b)||a.Zb(c)!=b.Zb(c)}
H.Of=function(a,b,c){a=this.s[xb]().Lj(a[t]());null!=a&&a[F](function(a){if(a[Ma]==c){var g=this.J.get(a[n]);b[F](function(b){var c=this.gg(a);if(de(b[0],b[1],c[t]())&&g.B(b[0].w()[a.Ac]))throw new P(203,a[n]);},this)}},this)};H.te=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[null,a]}),this.Nf(a,b,c))};H.ue=function(a,b,c){0!=b[C]&&(this.Nf(a,b,c),this.Of(a,b,c))};H.Lf=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[a,null]}),this.Of(a,b,c))};
function ee(a){this.kb=new N;this.Pa=new N;this.nb=new N;this.D=a}H=ee[r];ma(H,G("D"));H.Tc=G("kb");H.Xc=G("Pa");H.Vc=G("nb");H.add=function(a){if(this.nb.B(a.id())){var b=[this.nb.get(a.id()),a];this.Pa.set(a.id(),b);this.nb[w](a.id())}else this.kb.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.kb.B(b)?this.kb.set(b,c):(this.Pa.B(b)&&(a=[this.Pa.get(a[0].id())[0],c]),this.Pa.set(b,a))};
qa(H,function(a){if(this.kb.B(a.id()))this.kb[w](a.id());else if(this.Pa.B(a.id())){var b=this.Pa.get(a.id())[0];this.Pa[w](a.id());this.nb.set(a.id(),b)}else this.nb.set(a.id(),a)});H.vj=function(){var a=[];this.kb.f()[F](function(b){a[x]([null,b])},this);this.Pa.f()[F](function(b){a[x](b)},this);this.nb.f()[F](function(b){a[x]([b,null])},this);return a};f(H,function(){return"["+this.kb.U()[D]()+"], ["+this.Pa.U()[D]()+"], ["+this.nb.U()[D]()+"]"});
H.Mj=function(){var a=new ee(this.D);this.kb.f()[F](function(b){a[Xa](b)},this);this.nb.f()[F](function(b){a.add(b)},this);this.Pa.f()[F](function(b){a.modify([b[1],b[0]])},this);return a};H.Na=function(){return this.kb.Na()&&this.nb.Na()&&this.Pa.Na()};
function fe(a,b){this.sa=new N;b[F](function(a){this.sa.set(a[t](),a)},this);this.ta=a.o(Gd);this.J=a.o(Hd);this.Ua=new ce(a);this.Td=new Xd(a);this.bf=this.ie=!1;this.Gb=new N}H=fe[r];H.dg=G("Gb");H.yj=function(){var a=[];this.Gb.U().map(function(a){return this.sa.get(a)},this)[F](function(b){b.Lb()&&(b.za()[F](function(b){a[x](this.J.get(b.l()))},this),a[x](this.J.get(b[t]()+".#")))},this);return a};H.ha=G("sa");
H.zj=function(){var a=[];this.sa.f()[F](function(b){b.Lb()&&(b.za()[F](function(b){a[x](b.l())}),a[x](b[t]()+".#"))});return a};H.Cb=function(a,b){this.Hc();this.xd(a);this.Ua.ve(a,b);this.Ua.te(a,b,0);for(var c=0;c<b[C];c++)this.Ud(a,[null,b[c]])};
H.Ud=function(a,b){var c=a[t](),d=this.Gb.get(c,null)||new ee(c);this.Gb.set(c,d);try{this.Td.uh(a,b)}catch(g){throw this.bf=!0,g;}var h=b[0],l=b[1];null===h&&null!==l?(this.ta.set(c,[l]),d.add(l)):null!==h&&null!==l?(this.ta.set(c,[l]),d.modify(b)):null!==h&&null===l&&(this.ta[w](c,[h.id()]),d[Xa](h))};pa(H,function(a,b){this.Hc();this.xd(a);this.Ua.ve(a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.ta.get([d.id()])[0],d];this.Ua.ue(a,[d],0);this.Ud(a,d)}});
H.Oe=function(a,b){this.Hc();this.xd(a);this.Ua.ve(a,b);for(var c=0;c<b[C];c++){var d=b[c],g=null,h=this.Ua.dj(a,d);null!=h?(g=this.ta.get([h])[0],d.Nh(h),this.Ua.ue(a,[[g,d]],0)):this.Ua.te(a,[d],0);this.Ud(a,[g,d])}};ua(H,function(a,b){this.Hc();this.xd(a);this.Ua.Lf(a,b,0);for(var c=0;c<b[C];c++)this.Ud(a,[b[c],null])});H.$h=function(){this.Gb.f()[F](function(a){var b=this.sa.get(a[t]());this.Ua.te(b,a.Tc().f(),1);this.Ua.Lf(b,a.Vc().f(),1);this.Ua.ue(b,a.Xc().f(),1)},this)};
H.oa=function(){this.Hc();this.ie=!0};H.Hc=function(){L(!this.bf,"Attemptted to use journal that needs to be rolled back.");L(!this.ie,"Attemptted to commit a terminated journal.")};H.Nb=function(){L(!this.ie,"Attempted to rollback a terminated journal.");var a=this.Gb.f().map(function(a){return a.Mj()},this);this.Td[Ua](a);this.ie=!0;this.bf=!1};H.xd=function(a){if(!this.sa.B(a[t]()))throw new P(106,a[t]());};
function ge(a,b,c,d){this.c=a;this.u=b;this.$=null===this.c?!1:c;this.da=null===this.u?!1:d}H=ge[r];f(H,function(){return(this.$?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.u?"unbound":this.u)+(this.da?")":"]")});H.pi=function(){if(null===this.c&&null===this.u)return[];var a=null,b=null;null===this.c||(a=new ge(null,this.c,!1,!this.$));null===this.u||(b=new ge(this.u,null,!this.da,!1));return[a,b][Fa](function(a){return null!==a})};
H.reverse=function(){return new ge(this.u,this.c,this.da,this.$)};H.Pg=function(a){var b=he(this.c,a.c,!0,this.$,a.$);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.c||c.u==a.c&&!c.da&&!a.$};function ie(){return new ge(null,null,!1,!1)}H.rg=function(){return null===this.c&&null===this.u};H.wg=function(){return null!=this.c&&this.c==this.u&&!this.$&&!this.da};
H.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.da;return(null===this.c||a>this.c||a==this.c&&!this.$)&&b};H.Pc=function(a){return this.c==a.c&&this.$==a.$&&this.u==a.u&&this.da==a.da};function he(a,b,c,d,g){function h(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?h(1):h(-1):0:h(-1):null===b?h(1):a<b?-1:a==b?(d?!g:g)?d?h(1):h(-1):0:1}function je(a,b){var c=he(a.c,b.c,!0,a.$,b.$);0==c&&(c=he(a.u,b.u,!1,a.da,b.da));return c};
function ke(a,b){this.entries=a;this.I=new O(b);this.Qb=null}H=ke[r];H.jk=function(a){return this.I.Pc(a.I)};function le(a,b){L(a.jk(b),"Intersection/union operations only apply to compatible relations.")}H.Y=function(){return this.I.f()};H.Re=function(){return 1<this.I.ya()};H.He=function(){return this[B].map(function(a){return a.wa.w()})};H.Oj=function(){return this[B].map(function(a){return a.wa.id()})};H.bl=function(a,b){null===this.Qb&&(this.Qb=new N);this.Qb.set(a.l(),b)};
H.wc=function(a){L(null!==this.Qb,"getAggregationResult called before any results have been calculated.");var b=this.Qb.get(a.l(),void 0);L(Kb(b),"Could not find result for "+a.l());return b};H.$j=function(a){return null!==this.Qb&&this.Qb.B(a.l())};var me=null;function ne(){null===me&&(me=new ke([],[]));return me}
function oe(a){if(0==a[C])return ne();for(var b=a[Ja](function(b,c){le(a[0],c);return b+c[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,h=0;h<c[C];h++)b[Ta](function(a){return a.B(c[h].id)})&&g.set(c[h].id,c[h]);return new ke(g.f(),a[0].I.f())}function pe(a){if(0==a[C])return ne();var b=new N;a[F](function(c){le(a[0],c);c[B][F](function(a){b.set(a.id,a)})});return new ke(b.f(),a[0].I.f())}
function qe(a,b){var c=1<b[C],d=a.map(function(a){return new re(a,c)});return new ke(d,b)}function re(a,b){this.wa=a;this.id=se++;this.Se=b}var se=0;re[r].S=function(a){var b=a.bb();return null!==b&&this.wa.w()[rb](b)?this.wa.w()[b]:this.Se?this.wa.w()[a.M().pa()][a[t]()]:this.wa.w()[a[t]()]};re[r].mf=function(a,b){var c=a.bb();if(null!=c)this.wa.w()[c]=b;else if(this.Se){var c=a.M().pa(),d=this.wa.w()[c];null==d&&(d={},this.wa.w()[c]=d);d[a[t]()]=b}else this.wa.w()[a[t]()]=b};
function te(a,b,c,d){function g(a,b){if(a.Se){var c=a.wa.w(),d;for(d in c)h[d]=c[d]}else L(!h[rb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),h[b[0]]=a.wa.w()}var h={};g(a,b);g(c,d);a=new fd(-1,h);return new re(a,!0)};
I("lf.bind",function(a){return new ue(a)},void 0);function ue(a){this.qa=a}I("lf.Binder",ue,void 0);ue[r].zb=G("qa");
function ve(){var a=we();this.Oi=new N(1,xe(),2,ye(),4,a,3,a,5,ze())}Mb(ve);ve[r].Ee=function(a,b){var c=this.Oi.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function we(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[Za](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function ze(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[Za](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function ye(){return new N("between",function(a,b){return a[Cb]()>=b[0][Cb]()&&a[Cb]()<=b[1][Cb]()},"eq",function(a,b){return(null===a?-1:a[Cb]())==(null===b?-1:b[Cb]())},"gte",function(a,b){return a[Cb]()>=b[Cb]()},"gt",function(a,b){return a[Cb]()>b[Cb]()},"in",function(a,b){return b[$a](function(b){return b[Cb]()==a[Cb]()})},"lte",function(a,b){return a[Cb]()<=b[Cb]()},"lt",function(a,b){return a[Cb]()<b[Cb]()},"neq",function(a,b){return(null===a?-1:a[Cb]())!=(null===b?-1:b[Cb]())})}
function xe(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function Ae(a,b){this.Dg=a;this.vh=b}Ae[r].getKey=G("Dg");Ae[r].Tj=G("vh");ka(Ae[r],function(){return new Ae(this.Dg,this.vh)});function Be(a,b){Ae[q](this,a,b);this.i=this.G=null}K(Be,Ae);var Ce=[];H=Be[r];ka(H,function(){return new Be(this.getKey(),this.Tj())});H.getParent=G("G");H.ug=function(){return!this.xa()};H.ea=function(){return this.i||Ce};H.yb=function(a){return this.ea()[a]||null};H.xa=function(){return this.ea()[C]};H.xj=function(){for(var a=0,b=this;b[zb]();)a++,b=b[zb]();return a};H.qb=function(){for(var a=this;a[zb]();)a=a[zb]();return a};H.contains=function(a){do a=a[zb]();while(a&&a!=this);return Boolean(a)};
H.Cc=function(a,b){if(!1!==a[q](b,this))for(var c=this.ea(),d=0;d<c[C];d++)c[d].Cc(a,b)};H.gh=Hb("G");H.la=function(a){this.Ec(a,this.i?this.i[C]:0)};H.Ec=function(a,b){L(!a[zb]());a.gh(this);this.i=this.i||[];L(0<=b&&b<=this.i[C]);qc(this.i,b,0,a)};H.ee=function(a){var b=this.i&&this.i[a];return b?(b.gh(null),mc(this.i,a),0==this.i[C]&&(this.i=null),b):null};H.removeChild=function(a){return this.ee(gc(this.ea(),a))};

function De(){Be[q](this,"","");this.Aa=Ee++}K(De,Be);var Ee=0;De[r].fa=G("Aa");De[r].nf=Hb("Aa");
function Fe(a,b,c){De[q](this);this.K=a;oa(this,b);this.L=c;this.Dd=ve.Ge().Ee(this.K.Z(),this.L);this.cb=!1;this.oc=b}K(Fe,De);H=Fe[r];H.Sb=function(){var a=new Fe(this.K,this[u],this.L);a.cl(this.oc);a.he(this.cb);a.nf(this.fa());return a};H.ob=function(a){return null!=a?(a[x](this.K),a):[this.K]};H.he=Hb("cb");H.cl=Hb("oc");H.Jf=function(){var a=!1;this[u]instanceof ue||(a="array"==Nb(this[u])?!this[u][$a](function(a){return a instanceof ue}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Jf();if("in"==this.L)return this.Ji(a);var b=a[B][Fa](function(a){return this.Dd(a.S(this.K),this[u])!=this.cb},this);return new ke(b,a.Y())};Aa(H,function(a){if(this.oc instanceof ue){var b=this.oc.zb();if(a[C]<=b)throw new P(510);oa(this,a[b])}else"array"==Nb(this.oc)&&oa(this,this.oc.map(function(b){if(b instanceof ue){if(a[C]<=b.zb())throw new P(510);return a[b.zb()]}return b}))});
H.Ji=function(a){L("in"==this.L,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[u]),c=J(function(a){return b[sb](a)!=this.cb},this),d=a[B][Fa](function(a){return c(a.S(this.K))},this);return new ke(d,a.Y())};f(H,function(){return"value_pred("+this.K.l()+" "+this.L+(this.cb?"(complement)":"")+" "+this[u]+")"});H.tg=function(){this.Jf();return null!==this[u]&&("between"==this.L||"eq"==this.L||"gt"==this.L||"gte"==this.L||"lt"==this.L||"lte"==this.L)};
H.nl=function(){L(this.tg(),"Could not convert predicate to key range.");var a=null;"between"==this.L?a=new ge(this[u][0],this[u][1],!1,!1):"eq"==this.L?(a=this[u],a=new ge(a,a,!1,!1)):a="gte"==this.L?new ge(this[u],null,!1,!1):"gt"==this.L?new ge(this[u],null,!0,!1):"lte"==this.L?new ge(null,this[u],!1,!1):new ge(null,this[u],!1,!0);return this.cb?a.pi():[a]};
function Ge(a){this.ga=a;this.Jc=this.va=null}Ge[r].Md=function(a){null===this.va&&null!=this.F&&(this.va=He(this.F));a=this.va.get(a,null);L(null!==a);return a};function He(a){var b=new N;a.Cc(function(a){b.set(a.fa(),a)});return b}Ge[r].yd=function(a){a.F&&(this.F=a.F.Sb());this.Jc=a};Aa(Ge[r],function(){L(null==this.Jc);return this});Ge[r].qe=function(a){var b=this.F;null!=b&&b.Cc(function(b){b instanceof Fe&&b[E](a)})};
function Ie(a){Ge[q](this,a)}K(Ie,Ge);function Je(a){var b="";a[F](function(c,d){b+=c.K.l()+" ";b+=1==c.sb?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}Ie[r].ha=function(){return new O(this.c)};ka(Ie[r],function(){var a=new Ie(this.ga);a.yd(this);this.h&&(a.h=this.h[m]());this.c&&(a.c=this.c[m]());a.ba=this.ba;a.V=this.V;this.N&&(a.N=this.N[m]());this.na&&(a.na=this.na[m]());this.$b&&(a.$b=this.$b);this.jc&&(a.jc=this.jc);a.zc=this.zc;return a});
Aa(Ie[r],function(a){Ie.Pb[E][q](this,a);null!=this.$b&&(this.ba=a[this.$b.zb()]);null!=this.jc&&(this.V=a[this.jc.zb()]);this.qe(a);return this});
function Ke(a,b){this.Ea=a;this.sa=b}Ke[r].qb=G("Ea");Ke[r].Zf=Ib("plan description");Ke[r].ha=G("sa");function Le(a){var b=new O;a[F](function(a){b[gb](a.ha())});return b};

function Me(a,b){this.global=a;this.Hb=a.o(Fd);this.ce=b.map(function(a){return a[mb]});this.Sg=b.map(function(a){return a.cf});this.Qf=Le(this.Sg);this.rh=this.Fi();this.fc=$c()}H=Me[r];H.Fi=function(){return this.ce[$a](function(a){return!(a instanceof Ie)})?1:0};
la(H,function(){var a=new fe(this[Va],this.Qf.f()),b=[],c=this.Sg[m](),d=J(function(){var g=c[pb]();if(g){var h=this.ce[b[C]];return g.qb()[Pa](a,h)[z](function(a){b[x](a[0]);return d()})}return Vc()},this);return d()[z](J(function(){return this.Hb.Tb(this.rh,a).oa()},this))[z](J(function(){this.$e(b);return b},this),J(function(b){a.Nb();throw b;},this))});H.Z=G("rh");H.ha=G("Qf");H.Yc=G("fc");H.fa=function(){return Tb(this)};H.$e=Gb();
function Ne(a,b){Me[q](this,a,b);this.Kb=a.o(Kd)}K(Ne,Me);Da(Ne[r],Ib(0));Ne[r].$e=function(a){this.ce[F](function(b,c){this.Kb.th(b,a[c])},this)};
function Oe(a,b){this.m=a;this.Kb=a.o(Kd);this.Za=a.o(Jd);this.Td=new Xd(a);this.Gb=b;var c=a.o(Ld),d=this.Gb.map(function(a){return c[k](a[t]())});this.sa=new O(d);this.fc=$c()}H=Oe[r];la(H,function(){this.Td[Ua](this.Gb);this.kd();return Vc()});H.Z=Ib(1);H.ha=G("sa");H.Yc=G("fc");H.fa=function(){return Tb(this)};Da(H,Ib(1));H.kd=function(){var a=this.Kb.Le(this.sa.f());0!=a[C]&&(a=new Ne(this.m,a),this.Za.gc(a))};
function Pe(a){this.m=a;this.Hb=a.o(Fd);this.Za=a.o(Jd)}Pe[r].jl=function(){this.Hb.subscribe(this.Ye[E](this))};Pe[r].Ye=function(a){a=new Oe(this.m,a);this.Za.gc(a)};


function Qe(a,b){this.Ta=a;this.j=b;this.jb=new N}I("lf.backstore.FirebaseRawBackStore",Qe,void 0);H=Qe[r];H.Od=G("j");H.Pd=function(){throw new P(351);};function Re(a,b){var c=$c(),d=a;b[C]&&(d=a[ib](b));d[Ga]("value",function(a){c[Db](a.val())},function(a){c[La](a)});return c.ja}function Se(a,b,c){function d(a){a?g[La](a):g[Db]()}c=c||!1;var g=$c();c?a.set(b,d):a[Ua](b,d);return g.ja}
H.Ga=function(a){return Re(this.j,"@rev/R")[z](function(a){this.Ya=a;return Re(this.j,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.jb.set(d,b[d]),b[d]>c&&(c=b[d]);a.$a()[F](function(a){this.jb.B(a[t]())||(b[a[t]()]=++c)},this);d=this.j[ib]("@table");return Se(d,b)}[E](this))};
H.je=function(a,b){var c=this.jb.get(a);return null!=c?function(){var a={},g=$c();this.j[bb]("T").equalTo(c)[Ga]("value",function(c){c[F](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Db](a)});return g.ja}[q](this)[z](function(a){a["@rev"]={R:++this.Ya};return Se(this.j,a)}[E](this)):Vc()};H.Nc=function(a){return this.je(a,Ib(null))[z](function(){this.jb[w](a);return Se(this.j[ib]("@table/"+a),null,!0)}[E](this))};Qe[r].dropTable=Qe[r].Nc;
Qe[r].Fc=function(a,b,c){return this.je(a,function(a){var g=a.P;g[b]=c;return{R:this.Ya+1,T:a.T,P:g}}[E](this))};Qe[r].addTableColumn=Qe[r].Fc;Qe[r].Oc=function(a,b){return this.je(a,function(a){var d=a.P;delete d[b];return{R:this.Ya+1,T:a.T,P:d}}[E](this))};Qe[r].dropTableColumn=Qe[r].Oc;Qe[r].jd=function(a,b,c){return this.je(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Ya+1,T:a.T,P:g}}[E](this))};Qe[r].renameTableColumn=Qe[r].jd;Qe[r].Ib=function(){throw new P(351);};
Qe[r].createRow=Qe[r].Ib;Qe[r].ad=G("Ta");Qe[r].getVersion=Qe[r].ad;Qe[r].tc=function(a){var b=$c();a=this.jb.get(a);this.j[bb]("T").equalTo(a)[Ga]("value",function(a){var d=[];a[F](function(a){d[x](a.val().P)});b[Db](d)});return b.ja};ja(Qe[r],function(){var a={},b=this.jb.U().map(function(b){return this.tc(b)[z](function(d){a[b]=d})}[E](this));return Zc(b)[z](function(){return a})});ja(Qe[r],Qe[r].dump);
function Te(a,b,c){nd[q](this,c,b);this.j=a}K(Te,nd);Te[r].M=function(a){return this.j.Zc(a)};
Te[r].Kc=function(){var a=this.Bj().dg();if(0==a.ya())this.ca[Db]();else{var b=this.j.Nj()+1;this.j.hh(b);var c={"@rev":{R:b}};a[F](function(a){var g=this.j.jg(a[t]());a.Tc()[F](function(a,d){c[d]={R:b,T:g,P:a.w()}});a.Xc()[F](function(a,d){c[d]={R:b,T:g,P:a[1].w()}});a.Vc()[F](function(a,b){c[b]=null})},this);this.j.Kj()[Ua](c,function(c){if(null===c)this.ca[Db]();else this.j.hh(b-1),c=a.f().map(function(a){return this.j.Xg(a[t]())},this),Zc(c)[z](this.ca[La][E](this.ca),this.ca[La][E](this.ca))}[E](this))}return this.ca.ja};
function Ue(){this.xb=new Bd}H=Ue[r];H.Ke=function(a){if(0==a[C])return Dd(this.xb);var b=[];a[F](function(a){a=this.xb.get(a)||null;null===a||b[x](a)},this);return b};H.getData=G("xb");H.get=function(a){return Vc(this.Ke(a))};H.df=function(a){a[F](function(a){this.xb.set(a.id(),a)},this)};H.put=function(a){this.df(a);return Vc()};H.Yg=function(a){0==a[C]||a[C]==this.xb[Fb]?this.xb[v]():a[F](function(a){this.xb[Xa](a)},this)};ua(H,function(a){this.Yg(a);return Vc()});
H.Cj=function(){return 0==this.xb[Fb]?0:Cd(this.xb)[Ja](function(a,b){return a>b?a:b},0)};
function Ve(a,b){this.s=a;this.Dh=b;this.hd=new N;this.Ya=-1;this.I=new N;this.jb=new N;this.re=null}H=Ve[r];H.Nj=G("Ya");H.hh=Hb("Ya");
H.Ga=function(a){this.j=this.Dh[ib](this.s[n]());var b=a||function(){return Vc()};return Re(this.j,"@db/version")[z](function(a){return null===a?Se(this.j,this.vi(),!0)[z](function(){var a=new Qe(0,this.j);return b(a)}[E](this)):a==this.s[tb]()?Re(this.j,"@rev/R")[z](function(a){this.Ya=a;return Re(this.j,"@table")}[E](this))[z](function(a){for(var b in a)this.jb.set(b,a[b]);a=this.s.$a().map(function(a){return this.Xg(a[t]())},this);return Zc(a)}[E](this))[z](function(){this.ek();this.Hg();return Vc()}[E](this)):
this.af(a,b)[z](function(){return this.Ga()}[E](this))}[E](this))};H.af=function(a,b){var c=new Qe(a,this.j);return c.Ga(this.s)[z](function(){return this.tl()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.j[ib]("@db");return Se(a,{version:this.s[tb]()},!0)}[E](this))};H.tl=function(){return Vc()};H.Hg=function(){this.j.off();this.j.on("child_removed",this.Ck[E](this));this.se&&(this.se.off(),this.hd[v]());this.se=this.j[bb]("R").startAt(this.Ya+1);this.se.on("value",this.Ye[E](this))};
H.ek=function(){gd=this.I.f().map(function(a){return a.Cj()})[Ja](function(a,b){return a>b?a:b},0)+1};H.Ck=function(a){var b=a.val(),c=this.hd.get(b.T,null);null===c&&(c=new O,this.hd.set(b.T,c));c.add(da(a.key(),10))};H.Ye=function(a){var b=a[ib]("@rev/R").val();null!=b&&b!=this.Ya&&(this.Ya=b,a=this.jj(a),a[F](function(a){var b=this.I.get(a[t]()),g=a.Vc().U();g[C]&&b.Yg(g);var h=a.Tc().f();a.Xc()[F](function(a){h[x](a[1])});b.df(h)},this),a[C]&&this.fd(a),this.Hg())};
H.jj=function(a){var b=new O,c=new N;this.jb[F](function(a,g){var h=this.I.get(g),l=new ee(g);if(this.hd.B(a)){var p=this.hd.get(a).f();b[gb](p);h.Ke(p)[F](function(a){l[Xa](a)})}c.set(a,l)}[E](this));a[F](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b[sb](g)){a=a.val();var h=c.get(a.T),l=this.I.get(h[t]());l.getData().B(g)?h.modify([l.Ke([g])[0],new fd(g,a.P)]):h.add(new fd(g,a.P))}}}[E](this));return c.f()[Fa](function(a){return!a.Na()})};
H.Xg=function(a){var b=$c(),c=this.jg(a);this.j[bb]("T").equalTo(c)[Ga]("value",function(c){var g=new Ue,h=[];c[F](function(a){h[x](new fd(da(a.key(),10),a.val().P))});g.df(h);this.I.set(a,g);b[Db]()}[E](this));return b.ja};H.jg=function(a){return this.jb.get(a)};H.vi=function(){var a={};a["@db"]={version:this.s[tb]()};a["@rev"]={R:1};this.Ya=1;a["@table"]={};this.s.$a()[F](function(b,c){var d=b[t]();a["@table"][d]=c;this.I.set(d,new Ue);this.jb.set(d,c)},this);return a};
H.Tb=function(a,b){return new Te(this,a,b)};H.Zc=function(a){var b=this.I.get(a,null);if(null!==b)return b;throw new P(101,a);};H.Kj=G("j");na(H,Gb());Ba(H,Hb("re"));H.fd=function(a){null!=this.re&&this.re(a)};
function Q(a,b,c,d){this.j=b;this.Sa=c;this.Ta=a;this.ud=d}I("lf.backstore.IndexedDBRawBackStore",Q,void 0);Q[r].Od=G("j");Q[r].getRawDBInstance=Q[r].Od;Q[r].Pd=G("Sa");Q[r].getRawTransaction=Q[r].Pd;Q[r].Nc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};Q[r].dropTable=Q[r].Nc;
Q[r].Gk=function(a,b,c){return new M(function(d,g){var h;try{var l=this.Sa[ub](a);h=l[Ea]()}catch(p){g(p);return}ra(h,function(){var a=h[Eb];a?(b(a),a[fb]()):(c(l),d())});ya(h,g)},this)};function We(a){var b=null;return b=a instanceof ArrayBuffer?jd(a):a instanceof Date?a[Cb]():a}Q[r].sf=function(a,b){function c(a){var c=Sd(a[u]),d=c.xc(),p;for(p in d){var y=hd(d[p]);b(y);d[p]=y.Ka()}a[Ua](c.Ka())}function d(a){var c=hd(a[u]);b(c);a[Ua](c.Ka())}return this.Gk(a,this.ud?c:d,Gb())};
Q[r].Fc=function(a,b,c){var d=We(c);return this.sf(a,function(a){a.w()[b]=d})};Q[r].addTableColumn=Q[r].Fc;Q[r].Oc=function(a,b){return this.sf(a,function(a){delete a.w()[b]})};Q[r].dropTableColumn=Q[r].Oc;Q[r].jd=function(a,b,c){return this.sf(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};Q[r].renameTableColumn=Q[r].jd;
Q[r].Rj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Sa[ub](a)[Ea]()}catch(h){d(h);return}ra(g,J(function(){var a=g[Eb];if(a){if(this.ud){var d=Sd(a[u]).xc(),h;for(h in d)b[x](d[h])}else b[x](a[u]);a[fb]()}else c(b)},this));ya(g,d)},this)};Q[r].Ib=function(a){var b={};xc(a,J(function(a,d){b[d]=We(a)},this));return id(b)};Q[r].createRow=Q[r].Ib;Q[r].ad=G("Ta");Q[r].getVersion=Q[r].ad;
ja(Q[r],function(){for(var a=this.j[Ha],b=[],c=0;c<a[C];++c){var d=a[Na](c);b[x](this.tc(d))}return Zc(b)[z](function(b){var c={};b[F](function(b,d){c[a[Na](d)]=b});return c})});ja(Q[r],Q[r].dump);Q[r].tc=function(a){return this.Rj(a)[z](function(a){return a.map(function(a){return a[u]})})};
function Xe(a,b){this.W=a;this.Ub=b}H=Xe[r];H.get=function(a){if(0==a[C])return this.Uc();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.W.get(a)}catch(h){d(h);return}ya(g,d);ra(g,J(function(a){c(this.Ub(a[Oa][Eb]))},this))},this)},this);return Zc(a)};H.Uc=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Ea]()}catch(g){b(g);return}ya(d,b);ra(d,J(function(){var b=d[Eb];b?(c[x](this.Ub(b[u])),b[fb]()):a(c)},this))},this)};
H.dc=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}ra(d,b);ya(d,c)},this)};H.put=function(a){if(0==a[C])return Vc();a=a.map(function(a){return this.dc(J(function(){return this.W.put(a.Ka())},this))},this);return Zc(a)};
ua(H,function(a){return new M(function(b,c){var d=this.W[ab]();ra(d,J(function(d){if(0==a[C]||d[Oa][Eb]==a[C])return this.dc(J(function(){return this.W[v]()},this))[z](b,c);d=a.map(function(a){return this.dc(J(function(){return this.W[Xa](a)},this))},this);Zc(d)[z](b,c)},this));ya(d,c)},this)});
function Ye(a,b,c,d,g){nd[q](this,c,d);this.m=a;this.Sa=b;this.ud=g;this.Sa.oncomplete=J(this.ca[Db],this.ca);this.Sa.onabort=J(this.ca[La],this.ca)}K(Ye,nd);Ye[r].M=function(a,b,c){return this.ud?(c=null!=c?c:0,a=this.Sa[ub](a),new Td(a,b,0==c?Yb(Ud,this.m):Vd)):new Xe(this.Sa[ub](a),b)};Ye[r].Kc=function(){return this.ca.ja};
function Ze(a,b){this.m=a;this.s=b;this.vd=b.Tg().Hi||!1}H=Ze[r];H.Ga=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Vc()};return new M(function(a,g){var h;try{h=b.open(this.s[n](),this.s[tb]())}catch(l){g(l);return}ya(h,g);h.onupgradeneeded=J(function(a){this.Fk(c,a)[z](Gb(),g)},this);ra(h,J(function(b){this.j=b[Oa][Eb];this.lf()[z](J(function(b){gd=b+1;a(this.j)},this))},this))},this)};
H.Fk=function(a,b){var c=b[Oa][Eb],d=b[Oa][kb],g=new Q(b.oldVersion,c,d,this.vd);this.Vk(c,d);this.Ai(c,d);return a(g)};H.Vk=function(a){for(var b=[],c=0;c<a[Ha][C];++c){var d=a[Ha][Na](c);-1!=d[Za](".")&&b[x](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.Ai=function(a,b){this.s.$a()[F](Yb(this.xi,a,b),this)};H.xi=function(a,b,c){a[Ha][sb](c[t]())||a.createObjectStore(c[t](),{keyPath:"id"});c.Lb()&&(c.za()[F](function(c){this.Mc(a,b,c.l(),"btree")},this),this.Mc(a,b,c.Vb(),"rowid"))};
H.Mc=function(a,b,c,d){a[Ha][sb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[ub](c),(this.vd?new Td(a,hd,Vd):new Xe(a,hd)).put([new ld(new kd(d))]))};H.Tb=function(a,b){var c=b.ha().f().map(function(a){return a[t]()});b.zj()[F](function(a){c[x](a)});var d=this.j[kb](c,0==a?"readonly":"readwrite");return new Ye(this.m,d,b,a,this.vd)};
H.lf=function(a){function b(){if(0==c[C])return Vc();var a=c[pb]();return l(a)[z](b)}var c=this.s.$a().map(function(a){return a[t]()}),d=this.j,g=0,h=J(function(a){return this.vd?(a=Sd(a[u]),Ac(a.xc())[Ja](function(a,b){return ba.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var qb;try{qb=(a||d[kb]([b]))[ub](b)[Ea](null,"prev")}catch(Cc){l(Cc);return}ra(qb,function(a){(a=a[Oa][Eb])&&(g=ba.max(g,h(a)));c(g)});ya(qb,function(){c(g)})},this)},this);return new M(function(a){b()[z](function(){a(g)})})};
na(H,function(){this.j[Qa]()});H.Zc=function(){throw new P(511);};Ba(H,Gb());H.fd=Gb();



function $e(a,b,c){nd[q](this,c,b);this.W=a;0==b&&this.ca[Db]()}K($e,nd);$e[r].M=function(a){return this.W.Zc(a)};$e[r].Kc=function(){this.ca[Db]();return this.ca.ja};
function af(a){this.s=a;this.I=new Bd}H=af[r];H.Ga=function(){this.s.$a()[F](this.fk,this);return Vc()};H.Zc=function(a){var b=this.I.get(a)||null;if(null===b)throw new P(101,a);return b};H.Tb=function(a,b){return new $e(this,a,b)};H.Sf=function(a){if(!this.I.has(a)){var b=new Ue;this.I.set(a,b);return b}return null};H.fk=function(a){this.Sf(a[t]());a.Lb()&&(a.za()[F](function(a){this.Mc(a.l(),"btree")},this),this.Mc(a.Vb(),"rowid"))};H.Mc=function(a,b){var c=this.Sf(a);null===c||c.put([new ld(new kd(b))])};
na(H,Gb());Ba(H,Gb());H.fd=Gb();
function cf(a){af[q](this,a);this.Yd=null}K(cf,af);Ba(cf[r],function(a){null===this.Yd&&(this.Yd=a)});cf[r].fd=function(a){null===this.Yd||this.Yd(a)};
function df(a,b,c){this.Sa=a;this.D=b;this.Ub=c}df[r].get=function(a){var b=this.Ub;this.Sa.Qa("SELECT id, value FROM "+this.D+" "+(0==a[C]?"":"WHERE id IN ("+a[Ka](",")+")"),[],function(a){for(var d=a[Ab][C],g=e(d),h=0;h<d;++h)g[h]=b({id:a[Ab][Na](h).id,value:JSON.parse(a[Ab][Na](h)[u])});return g});return this.Sa.oa()};
df[r].put=function(a){if(0==a[C])return Vc();var b="INSERT OR REPLACE INTO "+this.D+"(id, value) VALUES (?, ?)";a[F](function(a){this.Sa.Qa(b,[a.id(),JSON.stringify(a.w())])},this);return Vc()};ua(df[r],function(a){this.Sa.Qa("DELETE FROM "+this.D+" "+(0==a[C]?"":"WHERE id IN ("+a[Ka](",")+")"),[]);return Vc()});
function ef(a,b,c){nd[q](this,b,c);this.j=a;this.I=new Bd;this.ye=[]}K(ef,nd);ef[r].M=function(a,b){var c=this.I.get(a)||null;null===c&&(c=new df(this,a,b),this.I.set(a,c));return c};ef[r].Qa=function(a,b,c){this.ye[x]({kl:a,Hk:b,transform:c})};
ef[r].Kc=function(){var a,b,c=this.ca[La][E](this.ca),d=function(a,b){this.ca[La](b)}[E](this),g=J(function(c,l){a=l;if(this.ye[C]){var p=this.ye[pb]();b=p.transform;c.executeSql(p.kl,p.Hk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ca[Db](p)},this);0==this.qh?this.j.readTransaction(g,c):this.j[kb](g,c);return this.ca.ja};
function R(a,b,c){this.j=c;this.m=a;this.Ta=b}I("lf.backstore.WebSqlRawBackStore",R,void 0);R[r].Od=G("j");R[r].getRawDBInstance=R[r].Od;R[r].Pd=function(){throw new P(356);};R[r].getRawTransaction=R[r].Pd;R[r].Cd=function(){return new ef(this.j,new fe(this.m,[]),1)};R[r].Nc=function(a){var b=this.Cd();b.Qa("DROP TABLE "+a,[]);return b.oa()};R[r].dropTable=R[r].Nc;
R[r].tc=function(a){var b=this.Cd();b.Qa("SELECT id, value FROM "+a,[]);return b.oa()[z](function(a){for(var b=a[Ab][C],g=e(b),h=0;h<b;++h)g[h]={id:a[Ab][Na](h).id,value:JSON.parse(a[Ab][Na](h)[u])};return Vc(g)})};R[r].rf=function(a,b){var c=this.Cd(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.tc(a)[z](function(a){a[F](function(a){a=b(a);c.Qa(d,[JSON.stringify(a[u]),a.id])});return c.oa()})};R[r].Fc=function(a,b,c){var d=We(c);return this.rf(a,function(a){a[u][b]=d;return a})};
R[r].addTableColumn=R[r].Fc;R[r].Oc=function(a,b){return this.rf(a,function(a){delete a[u][b];return a})};R[r].dropTableColumn=R[r].Oc;R[r].jd=function(a,b,c){return this.rf(a,function(a){a[u][c]=a[u][b];delete a[u][b];return a})};R[r].renameTableColumn=R[r].jd;R[r].Ib=function(a){var b={},c;for(c in a)b[c]=We(a[c]);return id(b)};R[r].createRow=R[r].Ib;R[r].ad=G("Ta");R[r].getVersion=R[r].ad;
function ff(a){a.Qa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Ab][C]),d=0;d<c[C];++d)c[d]=a[Ab][Na](d).tbl_name;return c})}ja(R[r],function(){var a=$c(),b=this.Cd();ff(b);var c={};b.oa()[z](J(function(b){b=b[Fa](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.tc(a)[z](function(b){c[a]=b})},this);Zc(b)[z](function(){a[Db](c)})},this));return a.ja});ja(R[r],R[r].dump);
function gf(a,b,c){this.m=a;this.s=b;this.gl=c||4194304}H=gf[r];H.Hd=function(){return new fe(this.m,[])};H.Ga=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Vc()};return new M(J(function(a,d){try{var g=ca.openDatabase(this.s[n](),"",this.s[n](),this.gl);if(null!=g)this.j=g,this.li(b)[z](a,d);else throw new P(354);}catch(h){d(h)}},this))};
H.li=function(a){var b=$c(),c=new ef(this.j,this.Hd(),1);c.Qa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Qa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.oa()[z](J(function(c){var g=0;c[Ab][C]&&(g=c[Ab][Na](0).v);g<this.s[tb]()?this.af(a,g)[z](b[Db][E](b)):g>this.s[tb]()?b[La](new P(108)):b[Db]()},this));return b.ja};H.Tb=function(a,b){if(null!=this.j)return new ef(this.j,b,a);throw new P(2);};na(H,Gb());H.Zc=function(){throw new P(512);};
H.Kg=function(){throw new P(355);};Ba(H,function(){this.Kg()});H.fd=function(){this.Kg()};H.af=function(a,b){var c=$c();this.Kk()[z](J(function(){a(new R(this.m,b,this.j))[z](J(function(){return this.lf()},this))[z](c[Db][E](c))},this),c[La][E](c));return c.ja};
H.Kk=function(){var a=this.s.$a(),b=new ef(this.j,this.Hd(),1),c=new ef(this.j,this.Hd(),1);b.Qa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[tb]()]);ff(b);return b.oa()[z](function(b){b[Fa](function(a){return-1!=a[Za](".")})[F](function(a){c.Qa("DROP TABLE "+a,[])});var g=b[Fa](function(a){return-1==a[Za](".")});a.map(function(a){return a[t]()})[Fa](function(a){return-1==g[Za](a)})[F](function(a){c.Qa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.oa()})};
H.lf=function(){var a=0,b=$c(),c=J(function(b){var c=new ef(this.j,this.Hd(),0);c.Qa("SELECT MAX(id) FROM "+b,[]);return c.oa()[z](function(b){b=b[Ab][Na](0)[0];a=ba.max(b,a)})},this),d=this.s.$a().map(function(a){return c(a[t]())});Zc(d)[z](function(){b[Db](a)},function(a){b[La](a)});return b.ja};

function hf(a){this.hc=new O(a);aa.defineProperty(this,"size",{get:function(){return this.hc.ya()}})}hf[r].add=function(a){this.hc.add(a)};hf[r].add=hf[r].add;sa(hf[r],function(){this.hc[v]()});sa(hf[r],hf[r][v]);qa(hf[r],function(a){return this.hc[w](a)});hf[r]["delete"]=hf[r][Xa];Ca(hf[r],function(a,b){this.hc.f()[F](a,b)});hf[r].has=function(a){return this.hc[sb](a)};hf[r].has=hf[r].has;var jf=ca.Set&&ca.Set[r][cb]&&ca.Set[r][F]?ca.Set:hf;
function kf(a){if(a instanceof hf)return a.hc.f();var b=0,c=e(a[Fb]);a[F](function(a){c[b++]=a});return c};
function mf(){this.g=new Bd;this.mh=new Bd}H=mf[r];H.Qd=function(a){var b=this.mh.get(a);Kb(b)||(b=new jf,this.mh.set(a,b));return b};H.set=function(a,b){var c=this.Qd(a);b[F](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.pb=function(a,b,c){var d=[],g=ba.min(b,c),h=ba.max(b,c);a=this.Qd(a);if(a[Fb]<h-g)a[F](function(a){a>=g&&a<=h&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[x](a))},this);else for(b=g;b<=h;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[x](c));return d};ua(H,function(a,b){var c=this.Qd(a);b[F](function(a){this.g[Xa](a);c[Xa](a)},this)});H.ya=function(a){return null!=a?this.Qd(a)[Fb]:this.g[Fb]};
function nf(a,b,c,d){a=b?a[eb]():a;if(null==c&&null==d)return a;c=ba.min(Kb(c)?c:a[C],a[C]);if(0==c)return[];d=ba.min(d||0,a[C]);return a[m](d,d+c)};
function of(){this.Fa=0}of[r].add=function(a,b){this.Fa+=b};ua(of[r],function(a,b){this.Fa-=b});sa(of[r],function(){this.Fa=0});of[r].sl=function(a){this[v]();a[F](function(a){this.Fa+=a.Fa},this)};
function pf(a,b,c,d){this.D=a;this.X=b;this.uf=c;this.ub=new of;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=qf(this,d);this.ra=d=rf(d)}else this[v]()}var sf=[];H=pf[r];ma(H,G("D"));f(H,function(){return this.ra[D]()});H.add=function(a,b){this.ra=this.ra.Cb(a,b)};H.set=function(a,b){this.ra=this.ra.Cb(a,b,!0)};ua(H,function(a,b){this.ra=this.ra[w](a,b)});H.get=function(a){return this.ra.get(a)};H.Bd=function(a){if(null==a)return this.ib().Fa;if(a instanceof ge){if(a.rg())return this.ib().Fa;if(a.wg())return this.get(a.c)[C]}return this.pb([a])[C]};
H.ib=G("ub");H.Uc=function(a,b,c,d){c=e(a);this.ra.fill({offset:b?this.ub.Fa-a-d:d,count:a,pf:0},c);return b?c[eb]():c};
H.pb=function(a,b,c,d){var g=this.ra.Kd().b[0];if(!Kb(g)||0==c)return sf;b=b||!1;c=null!=c?ba.min(c,this.ub.Fa):this.ub.Fa;d=d||0;var h=ba.min(ba.max(this.ub.Fa-d,0),c);if(0==h)return sf;if(!Kb(a)||1==a[C]&&a[0]instanceof ge&&a[0].rg())return this.Uc(h,b,c,d);a=this.X.kh(a);var l=e(b?this.ub.Fa:h),p={count:0,ba:l[C],reverse:b,V:d};a[F](function(a){for(var b=this.X.de(a),b=this.X.Qe(a)?g:b[0],b=this.ra.cg(b),c=p[ab],d=0;null!=b&&p[ab]<p.ba;)b.pb(a,p,l),p[ab]!=c?(d=0,c=p[ab]):d++,b=2==d?null:b[ob]()},
this);l[A](p[ab],h-p[ab]);return b?nf(l,b,c,d):l};sa(H,function(){this.ra=tf(this);this.ub[v]()});H.B=function(a){return this.ra.B(a)};H.min=function(){return this.ed(J(this.X.min,this.X))};H.max=function(){return this.ed(J(this.X.max,this.X))};H.ed=function(a){var b=this.ra.Kd(),c=this.ra.ig();if(0==b.b[C]&&0==c.b[C])return null;var d=b.b[0],b=b.A[0],g=c.b[c.b[C]-1],c=c.A[c.b[C]-1];return 1==a(d,g)?[d,this.uf?[b]:b]:[g,this.uf?[c]:c]};H.Ia=G("uf");H.Lc=G("X");
H.Ve=function(a,b){return null!=a?-1==this.X[yb](a,b):!1};H.Va=function(a,b){return null!=a?0==this.X[yb](a,b):!1};H.Ka=function(){for(var a=[],b=this.ra.Kd();b;)a[x](new fd(b.Aa,[b.b,b.A])),b=b.Ba;return a};function uf(a,b,c,d){a=new pf(b,a,c);d=vf(d,a);a.ra=d;return a}function wf(a,b){this.Aa=a;this.C=b;this.rb=0;this.Ba=this.Eb=this.G=null;this.b=[];this.A=[];this.i=[]}function tf(a){return new wf(gd++,a)}H=wf[r];H.ia=function(){return 0==this.rb};H.Ag=function(){return null==this.G};xa(H,G("Ba"));
function xf(a){function b(a){return null!=a?a.Aa[D]():"_"}var c=a.Aa+"["+a.b[Ka]("|")+"]",d=a.i.map(function(a){return a.Aa})[Ka]("|"),g=a.A[Ka]("/"),h=b(a.Eb)+"{",h=a.ia()?h+g:h+d,h=h+"}"+b(a.G);a.Ba&&(a=xf(a.Ba),c=c+"  "+a[0],h=h+"  "+a[1]);return[c,h]}f(H,function(){var a="",b=xf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[C]&&(a+=this.i[0][D]());return a});H.Kd=function(){return this.ia()?this:this.i[0].Kd()};H.ig=function(){return this.ia()?this:this.i[this.i[C]-1].ig()};
function yf(a,b){b&&(b.Eb=a);a&&(a.Ba=b)}function qf(a,b){for(var c=b[C],d=0,g=tf(a),h=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[m](d,d+l);g.b=p.map(function(a){return a.key});g.A=p.map(function(a){return a[u]});d+=l;c-=l;0<c&&(l=tf(g.C),yf(g,l),g=l)}return h}function zf(a){var b=a[0],c=tf(b.C);c.rb=b.rb+1;c.i=a;for(b=0;b<a[C];++b)a[b].G=c,0<b&&c.b[x](a[b].b[0]);return c}
function rf(a){var b=a,c=[];do c[x](b),b=b.Ba;while(b);if(512>=c[C])b=zf(c);else{var d=c[C],g=0,b=tf(a.C);for(b.rb=a.rb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var h=c[m](g,g+a),l=zf(h);l.G=b;b.i[C]&&(b.b[x](h[0].b[0]),yf(b.i[b.i[C]-1],l));b.i[x](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.ld(a);if(this.ia()){var c=sf;this.C.Va(this.b[b],a)&&(c=c[Ra](this.A[b]));return c}b=this.C.Va(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.B=function(a){var b=this.ld(a);return this.C.Va(this.b[b],a)?!0:this.ia()?!1:this.i[b].B(a)};ua(H,function(a,b){this.Vf(a,-1,b);if(this.Ag()){var c=this;1==this.i[C]&&(c=this.i[0],c.G=null);return c}return this});function Af(a){return a.ia()?a.b[0]:Af(a.i[0])}H.Ed=function(){this.b=[];for(var a=1;a<this.i[C];++a)this.b[x](Af(this.i[a]))};
H.Vf=function(a,b,c){var d=this.ld(a),g=this.ia();if(!g){var h=this.C.Va(this.b[d],a)?d+1:d;if(this.i[h].Vf(a,h,c))this.Ed();else return!1}else if(!this.C.Va(this.b[d],a))return!1;if(this.b[C]>d&&this.C.Va(this.b[d],a)){if(Kb(c)&&!this.C.Ia()&&g&&(h=this.A[d],c=sc(h,tc,!1,c),0<=c&&mc(h,c)&&this.C.ib()[w](a,1),this.A[d][C]))return!1;this.b[A](d,1);g&&(g=this.C.Ia()?1:this.A[d][C],this.A[A](d,1),this.C.ib()[w](a,g))}256>this.b[C]&&!this.Ag()&&(this.ll()||this.yk(b));return!0};
H.ll=function(){var a=null,b,c,d;if(this.Ba&&256<this.Ba.b[C])a=this.Ba,c=b=0,d=this.b[C]+1;else if(this.Eb&&256<this.Eb.b[C])a=this.Eb,b=this.Eb.b[C]-1,c=this.ia()?b:b+1,d=0;else return!1;this.b[A](d,0,a.b[b]);a.b[A](b,1);b=this.ia()?this.A:this.i;var g=null;this.ia()?g=a.A:(g=a.i,g[c].G=this);b[A](d,0,g[c]);g[A](c,1);a.ia()||(a.Ed(),this.Ed());return!0};
H.yk=function(a){var b,c,d;this.Ba&&511>this.Ba.b[C]?(b=this.Ba,d=c=0):this.Eb&&(b=this.Eb,c=b.b[C],d=b.ia()?b.A[C]:b.i[C]);c=[c,0][Ra](this.b);e[r][A][wb](b.b,c);c=null;this.ia()?c=this.A:(c=this.i,c[F](function(a){a.G=b}));c=[d,0][Ra](c);e[r][A][wb](b.ia()?b.A:b.i,c);yf(this.Eb,this.Ba);b.ia()||b.Ed();-1!=a&&(this.G.b[A](a,1),this.G.i[A](a,1))};
H.Cb=function(a,b,c){var d=this.ld(a);if(this.ia()){if(this.C.Va(this.b[d],a)){if(c)this.C.ib()[w](a,this.C.Ia()?1:this.A[d][C]),this.A[d]=this.C.Ia()?b:[b];else{if(this.C.Ia())throw new P(201);if(!uc(this.A[d],b))throw new P(109);}this.C.ib().add(a,1);return this}this.b[A](d,0,a);this.A[A](d,0,this.C.Ia()?b:[b]);this.C.ib().add(a,1);return 512==this.b[C]?this.il():this}d=this.C.Va(this.b[d],a)?d+1:d;a=this.i[d].Cb(a,b,c);a.ia()||1!=a.b[C]||(this.b[A](d,0,a.b[0]),a.i[1].G=this,a.i[0].G=this,this.i[A](d,
1,a.i[1]),this.i[A](d,0,a.i[0]));return 512==this.b[C]?this.hl():this};H.il=function(){var a=tf(this.C),b=tf(this.C);b.rb=1;b.b=[this.b[256]];b.i=[this,a];b.G=this.G;this.G=b;a.b=this.b[A](256);a.A=this.A[A](256);a.G=b;yf(a,this.Ba);yf(this,a);return b};H.hl=function(){var a=tf(this.C),b=tf(this.C);a.G=this.G;a.rb=this.rb+1;a.b=[this.b[256]];a.i=[this,b];this.b[A](256,1);b.G=a;b.rb=this.rb;b.b=this.b[A](256);b.i=this.i[A](257);b.i[F](function(a){a.G=b});this.G=a;yf(b,this.Ba);yf(this,b);return a};
H.ld=function(a){for(var b=0,c=this.b[C];b<c;){var d=b+c>>1;this.C.Ve(this.b[d],a)?b=d+1:c=d}return b};H.cg=function(a){if(!this.ia()){var b=this.ld(a);this.C.Va(this.b[b],a)&&b++;return this.i[b].cg(a)}return this};
H.pb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var g=this.C.Lc(),h=0,l=this.b[C]-1,p=this.b,y=d(g.wb(p[h],a)),wa=d(g.wb(p[l],a));if(1!=y&&(-1!=y||-1!=wa)){var qb=function(a,b){var c=a+b>>1;return c==a?c+1:c},Cc=function(b,c,h){if(b>=c)return 0==h?c:-1;var l=d(g.wb(p[b],a));if(0==l)return b;if(1==l)return-1;l=qb(b,c);if(l==c)return 0==h?c:-1;var y=d(g.wb(p[l],a));return 0==y?Cc(b,l,y):-1==y?Cc(l+1,c,h):Cc(b+1,l,y)},bf=function(b,c){if(b>=c)return b;var h=d(g.wb(p[c],a));if(0==h)return c;
if(-1==h)return b;h=qb(b,c);if(h==c)return b;var l=d(g.wb(p[h],a));return 0==l?bf(h,c):1==l?bf(b,h-1):-1};0!=y&&(h=Cc(h+1,l,wa));-1!=h&&(l=bf(h,l),-1!=l&&l>=h&&this.Fh(b,c,h,l+1))}};H.Fh=function(a,b,c,d){for(;c<d&&(a[eb]||!(a[ab]>=a.ba));++c)if(this.C.Ia())!a[eb]&&a.V?a.V--:b[a.count++]=this.A[c];else for(var g=0;g<this.A[c][C]&&a[ab]<b[C];++g)!a[eb]&&a.V?a.V--:b[a.count++]=this.A[c][g]};
H.fill=function(a,b){if(this.ia())for(var c=0;c<this.A[C]&&0<a[ab];++c)if(0<a[vb]){if(a.offset=a[vb]-(this.C.Ia()?1:this.A[c][C]),0>a[vb])for(var d=this.A[c][C]+a[vb];d<this.A[c][C]&&0<a[ab];++d)b[a.pf++]=this.A[c][d],a.count--}else if(this.C.Ia())b[a.pf++]=this.A[c],a.count--;else for(d=0;d<this.A[c][C]&&0<a[ab];++d)b[a.pf++]=this.A[c][d],a.count--;else for(c=0;c<this.i[C]&&0<a[ab];++c)this.i[c].fill(a,b)};
function vf(a,b){for(var c=b.ib(),d=a.map(function(a){var d=new wf(a.id(),b);d.b=a.w()[0];d.A=a.w()[1];d.b[F](function(a,g){c.add(a,b.Ia()?1:d.A[g][C])});return d}),g=0;g<d[C]-1;++g)yf(d[g],d[g+1]);return 1<d[C]?rf(d[0]):d[0]};
function Bf(a){if(1==a.h[C])return new Cf(a.h[0].sb);a=a.h.map(function(a){return a.sb});return new Df(a)}function Cf(a){this.zd=0==a?Ef:Ff;this.We=0==a?function(a){return null!=a?a[eb]():null}:function(a){return a||null};this.Og=0==a?Gf:Hf}K(Cf,Wd);function Ff(a,b){return a>b?1:a<b?-1:0}function Ef(a,b){return Ff(b,a)}function Hf(a,b){return je(a,b)}function Gf(a,b){return je(b,a)}H=Cf[r];
H.wb=function(a,b){var c=this.We(b),d=[null===c.c,null===c.u];if(!d[0]){var g=this.zd(a,c.c);d[0]=c.$?1==g:-1!=g}d[1]||(g=this.zd(a,c.u),d[1]=c.da?-1==g:1!=g);return d};H.compare=function(a,b){return this.zd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Pe=function(a,b){var c=this.wb(a,b);return c[0]&&c[1]};H.Ng=function(a,b){return this.Og(a,b)};H.kh=function(a){return a[Fa](function(a){return null!==a})[Ya](J(function(a,c){return this.Og(a,c)},this))};
H.Qe=function(a){return Ob(this.We(a).c)};H.de=function(a){a=this.We(a);return[a.c,a.u]};f(H,function(){return this.zd==Ef?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Df(a){this.Ma=a.map(function(a){return new Cf(a)})}K(Df,Wd);H=Df[r];H.De=function(a,b,c){for(var d=0,g=0;g<this.Ma[C]&&0==d;++g)d=c(this.Ma[g],a[g],b[g]);return d};H.compare=function(a,b){return this.De(a,b,function(a,b,g){return a[yb](b,g)})};H.min=function(a,b){return this.De(a,b,function(a,b,g){return a.min(b,g)})};
H.max=function(a,b){return this.De(a,b,function(a,b,g){return a.max(b,g)})};H.wb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ma[C]&&(c[0]||c[1]);++d){var g=this.Ma[d].wb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.Pe=function(a,b){for(var c=!0,d=0;d<this.Ma[C]&&c;++d)c=this.Ma[d].Pe(a[d],b[d]);return c};
H.kh=function(a){var b=a[Fa](function(a){return a[Ta](Pb)});a=e(this.Ma[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[Ya](J(function(a,c){return this.Ma[b].Ng(a,c)},this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[Ya](J(function(a,b){for(var c=0,l=0;l<this.Ma[C]&&0==c;++l)c=this.Ma[l].Ng(a[l],b[l]);return c},this))};H.Qe=function(a){return this.Ma[0].Qe(a[0])};
H.de=function(a){var b=a.map(function(a,b){return this.Ma[b].de(a)[0]},this);a=a.map(function(a,b){return this.Ma[b].de(a)[1]},this);return[b,a]};
function If(a){this.qa=a;this.eb=new O;this.md=new of;this.ub=new of}H=If[r];ma(H,function(){return this.qa[t]()});H.add=function(a,b){if(null===a){if(this.Ia()&&!this.eb.Na())throw new P(201);this.eb.add(b);this.md.add(a,1)}else this.qa.add(a,b)};H.set=function(a,b){null===a?(this.eb[v](),this.md[v](),this.add(a,b)):this.qa.set(a,b)};ua(H,function(a,b){if(null===a)b?(this.eb[w](b),this.md[w](a,1)):(this.eb[v](),this.md[v]());else this.qa[w](a,b)});H.get=function(a){return null===a?this.eb.f():this.qa.get(a)};
H.Bd=function(a){return this.qa.Bd(a)};H.ib=function(){this.ub.sl([this.qa.ib(),this.md]);return this.ub};H.pb=function(a,b,c,d){b=this.qa.pb(a,b,c,d);return null!=a?b:b[Ra](this.eb.f())};sa(H,function(){this.eb[v]();this.qa[v]()});H.B=function(a){return null===a?!this.eb.Na():this.qa.B(a)};H.min=function(){return this.qa.min()};H.max=function(){return this.qa.max()};H.Ka=function(){return[new fd(-2,this.eb.f())][Ra](this.qa.Ka())};H.Lc=function(){return this.qa.Lc()};H.Ia=function(){return this.qa.Ia()};
function Jf(a){this.D=a;this.Fb=new jf;this.X=new Cf(1)}H=Jf[r];ma(H,G("D"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.Fb.add(a)};H.set=function(a,b){this.add(a,b)};ua(H,function(a){this.Fb[Xa](a)});H.get=function(a){return this.B(a)?[a]:[]};H.min=function(){return this.ed(J(this.X.min,this.X))};H.max=function(){return this.ed(J(this.X.max,this.X))};
H.ed=function(a){if(0==this.Fb[Fb])return null;var b=kf(this.Fb)[Ja](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.Bd=function(){return this.Fb[Fb]};H.pb=function(a,b,c,d){var g=a||[ie()];a=kf(this.Fb)[Fa](function(a){return g[$a](function(b){return this.X.Pe(a,b)},this)},this);return nf(a,b,c,d)};sa(H,function(){this.Fb[v]()});H.B=function(a){return this.Fb.has(a)};H.Ka=function(){return[new fd(0,kf(this.Fb))]};H.Lc=G("X");
function Kf(a,b){var c=new Jf(a);b[0].w()[F](function(a){c.add(a,a)});return c}H.Ia=Ib(!0);H.ib=function(){throw new P(300);};
function Lf(a){this.m=a;this.Hb=a.o(Fd);this.J=a.o(Hd);this.ta=a.o(Gd)}H=Lf[r];H.Ga=function(a){var b=a.$a(),c=J(function(){if(0==b[C])return Vc();var a=b[pb]();return(a.Lb()?this.Yi(a):this.Zi(a))[z](c)},this);return c()};H.Zi=function(a){var b=new fe(this.m,[a]);return this.Hb.Tb(0,b).M(a[t](),J(a.sc,a)).get([])[z](J(function(b){this.ta.set(a[t](),b);this.Qk(a,b)},this))};H.Qk=function(a,b){var c=this.J.Qj(a[t]());b[F](function(a){c[F](function(b){var c=a.Zb(b[t]());b.add(c,a.id())})})};
H.Yi=function(a){var b=new fe(this.m,[a]),c=this.Hb.Tb(0,b),b=c.M(a[t](),a.sc).get([])[z](J(function(b){this.ta.set(a[t](),b)},this)),d=a.za().map(function(a){return this.Rk(a,c)},this)[Ra](this.Sk(a,c));return Zc(d[Ra](b))};
H.Rk=function(a,b){var c=b.M(a.l(),hd,1),d=Bf(a);return c.get([])[z](J(function(b){L("btree"==b[0].w().type);if(1<b[C]){if(a.ng()){var c=uf[E](void 0,d,a.l(),a.cd),l=b[m](1),p=-1;for(b=0;b<l[C];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new P(102);b=l[p].w();l=l[m](0);l[A](p,1);c=c(l);c=new If(c);c.eb[gb](b)}else c=uf(d,a.l(),a.cd,b[m](1));this.J.set(c)}},this))};
H.Sk=function(a,b){return b.M(a.Vb(),hd,1).get([])[z](J(function(b){L("rowid"==b[0].w().type);1<b[C]&&(b=Kf(a.Vb(),b[m](1)),this.J.set(b))},this))};


function Mf(){this.W=new N}Mf[r].Ga=function(a){a.$a()[F](function(a){var c=a.Vb();if(null===this.get(c)){var d=new Jf(c);this.W.set(c,d)}a.za()[F](function(a){this.W.set(a.l(),Nf(a))},this)},this);return Vc()};function Nf(a){var b=Bf(a),b=new pf(a.l(),b,a.cd);return a.ng()?new If(b):b}Mf[r].get=function(a){return this.W.get(a,null)};Mf[r].set=function(a){return this.W.set(a[t](),a)};Mf[r].Qj=function(a){var b=[],c=a+".";this.W.U()[F](function(a){0==a[Za](c)&&b[x](this.W.get(a))},this);return b};
function Of(a){this.gb=[];Kb(a)&&this.add(a)}H=Of[r];f(H,function(){return this.gb.map(function(a){return a[D]()})[Ka](",")});H.B=function(a){return this.gb[$a](function(b){return b[sb](a)})};H.f=G("gb");
H.add=function(a){if(0!=a[C])if(a=this.gb[Ra](a),1==a[C])this.gb=a;else{a[Ya](je);for(var b=[],c=a[0],d=1;d<a[C];++d)if(c.Pg(a[d])){var g=a[d],h=ie();if(null!==c.c&&null!==g.c){var l=he(c.c,g.c,!0);1!=l?(h.c=c.c,h.$=0!=l?c.$:c.$&&g.$):(h.c=g.c,h.$=g.$)}null!==c.u&&null!==g.u&&(l=he(c.u,g.u,!1),-1!=l?(h.u=c.u,h.da=0!=l?c.da:c.da&&g.da):(h.u=g.u,h.da=g.da));c=h}else b[x](c),c=a[d];b[x](c);this.gb=b}};
H.Pc=function(a){return this.gb[C]==a.gb[C]?0==this.gb[C]||this.gb[Ta](function(b,c){return b.Pc(a.gb[c])}):!1};function Pf(a,b){var c=[];a.f().map(function(a){return b.f().map(function(b){var c;if(a.Pg(b)){c=ie();var l=he(a.c,b.c,!0),l=0==l?a.$?a:b:-1!=l?a:b;c.c=l.c;c.$=l.$;null===a.u||null===b.u?b=null===a.u?b:a:(l=he(a.u,b.u,!1),b=0==l?a.da?a:b:-1==l?a:b);c.u=b.u;c.da=b.da}else c=null;return c})})[F](function(a){c=c[Ra](a)});return new Of(c[Fa](function(a){return null!==a}))};
function Qf(a,b){var c=[],d=null,g=null;a.Cc(function(a){var l=b(a);null==a[zb]()?g=l:d.la(l);var p=a[zb]();null!==p&&p.xa()==d.xa()&&(p=c[Za](d),-1!=p&&c[A](p,1));1<a.xa()&&c[x](l);d=a.ug()?c[c[C]-1]:l});return g}function Rf(a){return Sf(a,function(a){return a.ug()})}function Tf(a){var b=a[zb](),c=0;null!==b&&(c=b.ea()[Za](a),b[hb](a));var d=a.ea()[m]();d[F](function(d,h){a[hb](d);null===b||b.Ec(d,c+h)});return{parent:b,children:d}}
function Uf(a,b){a.ea()[m]()[F](function(c){a[hb](c);b.la(c)});a.la(b)}function Vf(a){L(1==a.xa());var b=a.yb(0);L(1==b.xa());Tf(a);Uf(b,a);return b}function Wf(a,b,c){L(1==a.xa());var d=a.yb(0);L(1<d.xa());var g=d.ea()[m]();if(!g[$a](function(a){return b(a)}))return a;Tf(a);g[F](function(g,l){if(b(g)){var p=c(a);d.ee(l);p.la(g);d.Ec(p,l)}});return d}function Xf(a,b,c,d){var g=a[zb]();null!==g&&(a=g.ea()[Za](a),g.ee(a),g.Ec(c,a));b.ea()[m]()[F](function(a){b[hb](a);d.la(a)});return c}
function Sf(a,b,c){function d(a){b(a)&&g[x](a);null!=c&&c(a)||a.ea()[F](d)}var g=[];d(a);return g}function Yf(a,b){var c=b||function(a){return a[D]()+"\n"},d="";a.Cc(function(a){for(var b=0;b<a.xj();b++)d+="-";d+=c(a)});return d};

function Zf(a){De[q](this);this.bc=a;this.cb=!1}K(Zf,De);H=Zf[r];H.Sb=function(){return Qf(this,function(a){if(a instanceof Zf){var b=new Zf(a.bc);b.cb=a.cb;b.nf(a.fa());return b}return a.Sb()}[E](this))};H.ob=function(a){var b=a||[];this.Cc(function(a){a!=this&&a.ob(b)}[E](this));return(new O(b)).f()};H.he=function(a){this.cb!=a&&(this.cb=a,this.bc="and"==this.bc?"or":"and",this.ea()[F](function(b){return b.he(a)}))};H.eval=function(a){var b=this.ea().map(function(b){return b.eval(a)});return this.oi(b)};
H.oi=function(a){return"and"==this.bc?oe(a):pe(a)};f(H,function(){return"combined_pred_"+this.bc[D]()});function $f(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function ag(){this[v]()}var bg=aa[r][Wa],cg=aa[r][rb];H=ag[r];H.set=function(a,b){this.sd(a);var c=!this.bd(a);this.g[a]=b;if("__proto__"==a||!dg&&!bg[q](this.g,a)){delete this.g[a];var d=gc(this.Ob,a);if(c=0>d)d=this.Ob[C];this.Ob[d]=a;this.fe[d]=b}c&&this.aa++};H.get=function(a,b){this.sd(a);if(this.bd(a))return this.g[a];var c=gc(this.Ob,a);return 0<=c?this.fe[c]:b};
ua(H,function(a){this.sd(a);if(this.bd(a))return this.aa--,delete this.g[a],!0;a=gc(this.Ob,a);return 0<=a?(this.aa--,mc(this.Ob,a),mc(this.fe,a),!0):!1});H.addAll=function(a){hc(a.U(),function(b){this.set(b,a.get(b))},this)};H.Na=function(){return!this.aa};H.ya=G("aa");H.B=function(a){this.sd(a);return this.bd(a)||0<=gc(this.Ob,a)};H.Ad=function(a){return yc(this.g,function(b,c){return this.bd(c)&&$f(b,a)},this)||0<=gc(this.fe,a)};
H.U=function(){var a;if(eg)a=oc(aa.keys(this.g));else{a=[];for(var b in this.g)cg[q](this.g,b)&&a[x](b)}pc(a,this.Ob);return a};H.f=function(){for(var a=[],b=this.U(),c=0;c<b[C];c++)a[x](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.U(),c=0;c<b[C];c++){var d=b[c];a[x]([d,this.get(d)])}return a};sa(H,function(){this.g=dg?aa[jb](null):{};this.Ob=[];this.fe=[];this.aa=0});ka(H,function(){var a=new ag;a[gb](this);return a});
H.bd=function(a){return"__proto__"==a?!1:dg?a in this.g:cg[q](this.g,a)};H.sd=function(a){L(Rb(a),"key must be a string.")};var dg=!!aa[jb],eg=!!aa.keys;function fg(){this[v]()}H=fg[r];H.aa=0;sa(H,function(){this.aa=0;this.g=new ag});ka(H,function(){var a=new fg;a.yh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[x](b);this.aa++};H.yh=function(a){hc(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?oc(a):[]};ua(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=nc(c,function(a){return $f(b,a)});d&&(this.aa--,0==c[C]&&this.g[w](a));return d});H.Na=function(){return!this.aa};
H.ya=G("aa");H.B=function(a){return this.g.B(a)};H.Ad=function(a){return kc(this.g.f(),function(b){return kc(b,function(b){return $f(b,a)})})};H.U=function(){return this.g.U()};H.f=function(){return wc(this.g.f())};H.getEntries=function(){for(var a=this.U(),b=[],c=0;c<a[C];c++)for(var d=a[c],g=this.get(d),h=0;h<g[C];h++)b[x]([d,g[h]]);return b};
function gg(a,b,c){De[q](this);this.Oa=a;this.Da=b;this.L=c;this.Xe=null;this.Dd=ve.Ge().Ee(this.Oa.Z(),this.L)}K(gg,De);H=gg[r];H.Sb=function(){var a=new gg(this.Oa,this.Da,this.L);a.nf(this.fa());return a};H.ob=function(a){return null!=a?(a[x](this.Oa),a[x](this.Da),a):[this.Oa,this.Da]};H.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new gg(this.Da,this.Oa,a)};
H.eval=function(a){var b=a[B][Fa](function(a){var b=a.S(this.Oa);a=a.S(this.Da);return this.Dd(b,a)},this);return new ke(b,a.Y())};f(H,function(){return"join_pred("+this.Oa.l()+", "+this.Da.l()+")"});H.Ef=function(a){return-1!=a.Y()[Za](this.Oa.M().pa())};H.Gh=function(a){return-1!=a.Y()[Za](this.Da.M().pa())};H.Ei=function(a,b){var c=null,d=null;this.Ef(a)?(this.Gf(a,b),c=a,d=b):(this.Gf(b,a),c=b,d=a);return[c,d]};
H.Gf=function(a,b){L(this.Ef(a),"Mismatch between join predicate left operand and right relation.");L(this.Gh(b),"Mismatch between join predicate right operand and right relation.")};H.Li=function(a,b,c){var d=[a,b];c||(d=this.Ei(a,b));a=d[0];d=d[1];return"eq"==this.L?this.Mi(a,d,c):this.Ni(a,d,c)};H.wi=function(a){var b={};a.ob()[F](function(a){b[a[t]()]=null});return b};H.Rf=function(a,b){null===this.Xe&&(this.Xe=this.wi(this.Da.M()));var c=new re(new fd(-1,this.Xe),!1);return te(a,b,c,[this.Da.M().pa()])};
H.Ni=function(a,b,c){for(var d=[],g=a.Y(),h=b.Y(),l=0;l<a[B][C];l++){for(var p=!1,y=0;y<b[B][C];y++)if(this.Dd(a[B][l].S(this.Oa),b[B][y].S(this.Da))){var p=!0,wa=te(a[B][l],g,b[B][y],h);d[x](wa)}c&&!p&&d[x](this.Rf(a[B][l],g))}a=a.Y()[Ra](b.Y());return new ke(d,a)};
H.Mi=function(a,b,c){var d=a,g=b,h=this.Oa,l=this.Da;if(c||a[B][C]>b[B][C])d=b,g=a,h=this.Da,l=this.Oa;var p=new fg,y=[];d[B][F](function(a){var b=ga(a.S(h));p.add(b,a)});var wa=d.Y(),qb=g.Y();g[B][F](function(a){var b=ga(a.S(l));p.B(b)?p.get(b)[F](function(b){b=te(a,qb,b,wa);y[x](b)}):c&&y[x](this.Rf(a,qb))}[E](this));a=a.Y()[Ra](b.Y());return new ke(y,a)};
function hg(a,b,c){return null===b?new Fe(a,b,c):Kb(b.l)?new gg(a,b,c):new Fe(a,b,c)};
var ig={};I("lf.schema.DataStoreType",ig,void 0);ig.INDEXED_DB=0;ig.MEMORY=1;ig.LOCAL_STORAGE=2;ig.FIREBASE=3;ig.WEB_SQL=4;ig.OBSERVABLE_STORE=5;function jg(a,b,c,d){this.qf=a;ia(this,b);this.cd=c;this.h=d}jg[r].l=function(){return this.qf+"."+this[n]};jg[r].ng=function(){return this.h[$a](function(a){return a.ga.Yb()})};function S(a,b,c,d){this.D=a;this.ua=c;this.H=b;this.$d=d;this.lb=null}I("lf.schema.Table",S,void 0);ma(S[r],G("D"));ma(S[r],S[r][t]);S[r].bb=G("lb");
S[r].pa=function(){return this.lb||this.D};S[r].Gc=function(a){var b=new this.constructor(this.D);b.lb=a;b.Tk=this.Tk;return b};S[r].as=S[r].Gc;S[r].createRow=S[r].Ib;S[r].deserializeRow=S[r].sc;S[r].za=G("ua");S[r].getIndices=S[r].za;S[r].ob=G("H");S[r].getColumns=S[r].ob;S[r].getConstraint=S[r].Jb;S[r].Lb=G("$d");S[r].persistentIndex=S[r].Lb;S[r].Vb=function(){return this.D+".#"};
function T(a,b){va(this,a);this.lc=b;this.lb=null}H=T[r];ma(H,function(){return this.lc+"("+this[ib][t]()+")"});H.l=function(){return this.lc+"("+this[ib].l()+")"};H.M=function(){return this[ib].M()};f(H,function(){return this.l()});H.Z=function(){return this[ib].Z()};H.bb=G("lb");H.za=function(){return[]};H.Yb=Ib(!1);H.Gc=function(a){this.lb=a;return this};T[r].as=T[r].Gc;T[r].bg=function(){for(var a=[this],b=this;b instanceof T;)a[x](b[ib]),b=b[ib];return a};
function kg(a){this.lb=a||null;this.O=new S("#UnknownTable",[],[],!1)}H=kg[r];ma(H,Ib("*"));H.l=function(){return this[t]()};f(H,function(){return this.l()});H.M=G("O");H.Z=Ib(4);H.bb=G("lb");H.za=function(){return[]};H.Yb=Ib(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new kg,"COUNT")},void 0);function lg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",lg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){Be[q](this,"","");this.Vi=b;this.Lg=a}K(U,Be);H=U[r];la(H,function(a,b){switch(this.Vi){case 1:return this.Qi(a,b);case 0:return this.Pi(a,b);default:return this.Si(a,b)}});f(H,Ib("dummy_node"));H.nd=function(){return this[D]()};H.Ff=function(a){L(-1==this.Lg||a[C]==this.Lg)};H.Si=function(a,b){return new M(J(function(c){c(this.ma(a,[],b))},this))};H.Qi=function(a,b){return this.yb(0)[Pa](a,b)[z](J(function(c){this.Ff(c);return this.ma(a,c,b)},this))};
H.Pi=function(a,b){var c=this.ea().map(function(c){return c[Pa](a,b)});return Zc(c)[z](J(function(c){var g=[];c[F](function(a){for(var b=0;b<a[C];++b)g[x](a[b])});this.Ff(g);return this.ma(a,g,b)},this))};
function mg(a){U[q](this,-1,1);this.Cf=a}K(mg,U);f(mg[r],function(){return"aggregation("+this.Cf.map(function(a){return a.l()})[D]()+")"});mg[r].ma=function(a,b){b[F](function(a){(new ng(a,this.Cf)).Th()},this);return b};function ng(a,b){this.Ja=a;this.H=b}
ng[r].Th=function(){this.H[F](function(a){a=a.bg()[eb]();for(var b=1;b<a[C];b++){var c=a[b],d=c.bg()[m](-1)[0],g=this.Aj(c),h=null;switch(c.lc){case "MIN":h=og(g,d);break;case "MAX":h=pg(g,d);break;case "DISTINCT":h=qg(g,d);break;case "COUNT":h=g[B][C];break;case "SUM":h=rg(g,d);break;case "AVG":0<g[B][C]&&(h=rg(g,d)/g[B][C]);break;case "GEOMEAN":h=sg(g,d);break;default:h=tg(g,d)}this.Ja.bl(c,h)}},this)};ng[r].Aj=function(a){return a[ib]instanceof T?this.Ja.wc(a[ib]):this.Ja};
function og(a,b){var c=null;a[B][F](function(a){a=a.S(b);if(null===c||a<c)c=a});return c}function pg(a,b){var c=null;a[B][F](function(a){a=a.S(b);if(null===c||a>c)c=a});return c}function rg(a,b){return a[B][Ja](function(a,d){return a+d.S(b)},0)}function tg(a,b){var c=a[B].map(function(a){return a.S(b)});return sd[wb](null,c)}function sg(a,b){var c=0,d=a[B][Ja](function(a,d){var l=d.S(b);return 0!=l?(c++,a+ba.log(l)):a},0);return 0==c?null:ba.pow(ba.E,d/c)}
function qg(a,b){var c=new N;a[B][F](function(a){var g=a.S(b);c.set(g,a)});return new ke(c.f(),a.Y())};
function ug(a,b){this.Ea=a;this.sa=b}ug[r].qb=G("Ea");ug[r].ha=G("sa");function V(){Be[q](this,"","")}K(V,Be);function vg(a,b){V[q](this);ha(this,a);ta(this,b)}K(vg,V);function wg(a,b){vg[q](this,a,b)}K(wg,vg);function xg(a){V[q](this);ha(this,a)}K(xg,V);f(xg[r],function(){return"delete("+this[k][t]()+")"});function yg(a,b){V[q](this);ha(this,a);this.vf=b}K(yg,V);f(yg[r],function(){var a=[];this.vf&&(a=this.vf.map(function(a){return a.K[t]()},this));return"update("+this[k][t]()+", ["+a[Ka](",")+"])"});
function zg(a){V[q](this);this.Ca=a}K(zg,V);f(zg[r],function(){return"select("+this.Ca[D]()+")"});function Ag(a){V[q](this);ha(this,a)}K(Ag,V);f(Ag[r],function(){var a="table_access("+this[k][t]();null===this[k].bb()||(a+=" as "+this[k].bb());return a+")"});function Bg(){V[q](this)}K(Bg,V);f(Bg[r],Ib("cross_product"));function Cg(a,b){V[q](this);this.h=a;this.Wb=b}K(Cg,V);
f(Cg[r],function(){var a="project("+this.h[D]();if(null!==this.Wb)var b=this.Wb.map(function(a){return a.l()})[Ka](", "),a=a+(", groupBy("+b+")");return a+")"});function Dg(a){V[q](this);this.N=a}K(Dg,V);f(Dg[r],function(){return"order_by("+Je(this.N)+")"});function Eg(a){V[q](this);this.h=a}K(Eg,V);f(Eg[r],function(){return"aggregation("+this.h[D]()+")"});function Fg(a){V[q](this);this.h=a}K(Fg,V);f(Fg[r],function(){return"group_by("+this.h[D]()+")"});function Gg(a){V[q](this);this.ba=a}K(Gg,V);
f(Gg[r],function(){return"limit("+this.ba+")"});function Hg(a){V[q](this);this.V=a}K(Hg,V);f(Hg[r],function(){return"skip("+this.V+")"});function Ig(a,b){V[q](this);this.Ca=a;this.xg=b}K(Ig,V);f(Ig[r],function(){return(this.xg?"left_outer_join":"join")+"("+this.Ca[D]()+")"});
function Jg(){};
function Kg(){}K(Kg,Jg);Kg[r].Mb=function(a){this.ka=a;this.ab(this.ka);return this.ka};Kg[r].ab=function(a){if(a instanceof zg){L(1==a.xa(),"SelectNode must have exactly one child.");var b=this.Hf(a.Ca),b=this.yi(b);Xf(a,a,b[0],b[1]);a==this.ka&&(this.ka=b[0]);a=b[0]}a.ea()[F](function(a){this.ab(a)},this)};Kg[r].Hf=function(a){if(0==a.xa()||"and"!=a.bc)return[a];var b=a.ea()[m]().map(function(b){a[hb](b);return this.Hf(b)},this);return wc(b)};
Kg[r].yi=function(a){var b=null,c=null;a.map(function(a,g){var h=new zg(a);0==g?b=h:c.la(h);c=h},this);return[b,c]};
function Lg(){}K(Lg,Jg);Lg[r].Mb=function(a){this.ka=a;this.ab(this.ka);return this.ka};Lg[r].ab=function(a){if(a instanceof Bg)for(;2<a.xa();){for(var b=new Bg,c=0;2>c;c++){var d=a.ee(0);b.la(d)}a.Ec(b,0)}a.ea()[F](function(a){this.ab(a)},this)};
function Mg(){U[q](this,2,0)}K(Mg,U);f(Mg[r],Ib("cross_product"));Mg[r].ma=function(a,b){for(var c=b[0],d=b[1],g=[],h=c.Y(),l=d.Y(),p=0;p<c[B][C];p++)for(var y=0;y<d[B][C];y++){var wa=te(c[B][p],h,d[B][y],l);g[x](wa)}c=c.Y()[Ra](d.Y());return[new ke(g,c)]};

function Ng(a,b){Me[q](this,a,b);this.Za=a.o(Jd);this.Kb=a.o(Kd)}K(Ng,Me);Da(Ng[r],Ib(2));Ng[r].$e=function(a){0==this.Z()?this.Ak(a):this.kd()};Ng[r].Ak=function(a){this.ce[F](function(b,c){b instanceof Ie&&this.Kb.th(b,a[c])},this)};Ng[r].kd=function(){var a=this.Kb.Le(this.ha().f());0!=a[C]&&(a=new Ne(this[Va],a),this.Za.gc(a))};
function Og(a){Ge[q](this,a)}K(Og,Ge);Og[r].ha=function(){var a=new O([this.c]);a[gb](this.ga[xb]().ag(this.c[t]()));return a};ka(Og[r],function(){var a=new Og(this.ga);a.yd(this);a.c=this.c;return a});Aa(Og[r],function(a){Og.Pb[E][q](this,a);this.qe(a);return this});
function Pg(a){Ge[q](this,a)}K(Pg,Ge);Pg[r].ha=function(){var a=new O([this.Ha]),b=this.ga[xb]();a[gb](b.Gj(this.Ha[t]()));this.mc&&a[gb](b.ag(this.Ha[t]()));return a};ka(Pg[r],function(){var a=new Pg(this.ga);a.yd(this);a.Ha=this.Ha;this[cb]&&ta(a,this[cb]instanceof ue?this[cb]:this[cb][m]());a.mc=this.mc;a.nc=this.nc;return a});Aa(Pg[r],function(a){Pg.Pb[E][q](this,a);this.nc&&ta(this,this.nc instanceof ue?a[this.nc.zb()]:this.nc.map(function(b){return b instanceof ue?a[b.zb()]:b}));return this});
function Qg(a){Ge[q](this,a)}K(Qg,Ge);Qg[r].ha=function(){var a=new O([this[k]]),b=this.set.map(function(a){return a.K.l()}),c=this.ga[xb]();a[gb](c.Hj(b));a[gb](c.wj(b));return a};ka(Qg[r],function(){var a=new Qg(this.ga);a.yd(this);ha(a,this[k]);a.set=this.set?this.set[m]():this.set;return a});Aa(Qg[r],function(a){Qg.Pb[E][q](this,a);this.set[F](function(b){-1!=b.td&&oa(b,a[b.td])});this.qe(a);return this});
function Rg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+jd(b)+"'";default:return"'"+b[D]()+"'"}}function Sg(a,b){var c=a.mc?"INSERT OR REPLACE":"INSERT",d=a.Ha.ob(),c=c+(" INTO "+a.Ha[t]()+"("),c=c+d.map(function(a){return a[t]()})[Ka](", "),c=c+") VALUES (";return a[cb].map(function(a){var h=d.map(function(c){var d=a.w()[c[t]()];return b?null!=d?"#":"NULL":Rg(c.Z(),d)});return c+h[Ka](", ")+");"})[Ka]("\n")}
function Tg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Ug(a,b,c,d){return a instanceof ue?"?"+a.zb()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Rg(c,a)})[Ka](", ")+")":"between"==b?Rg(c,a[0])+" AND "+Rg(c,a[1]):Rg(c,a)[D]()}
function Vg(a,b){return a.ea().map(function(a){return"("+Wg(a,b)+")"})[Ka]("and"==a.bc?" AND ":" OR ")}function Wg(a,b){if(a instanceof Fe)return[a.K.l(),Tg(a.L),Ug(a[u],a.L,a.K.Z(),b)][Ka](" ");if(a instanceof Zf)return Vg(a,b);if(a instanceof gg)return[a.Oa.l(),Tg(a.L),a.Da.l()][Ka](" ");throw new P(357,typeof a);}function Xg(a,b){var c=Wg(a,b);return c?" WHERE "+c:""}
function Yg(a,b){var c="UPDATE "+a[k][t]()+" SET ",c=c+a.set.map(function(a){var b=a.K.l()+" = ";return-1!=a.td?b+"?"+a.td[D]():b+Rg(a.K.Z(),a[u])[D]()})[Ka](", ");a.F&&(c+=Xg(a.F,b));return c+";"}
function Zg(a,b){var c="*";a.h[C]&&(c=a.h.map(function(a){return a.bb()?a.l()+" AS "+a.bb():a.l()})[Ka](", "));var d=a.c.map(function(a){return a.pa()!=a[t]()?a[t]()+" AS "+a.pa():a[t]()})[Ka](", "),c="SELECT "+c+" FROM "+d;a.F&&(c+=Xg(a.F,b));a.N&&(d=a.N.map(function(a){return a.K.l()+(0==a.sb?" DESC":" ASC")})[Ka](", "),c+=" ORDER BY "+d);a.na&&(d=a.na.map(function(a){return a.l()})[Ka](", "),c+=" GROUP BY "+d);a.ba&&(c+=" LIMIT "+a.ba[D]());a.V&&(c+=" SKIP "+a.V[D]());return c+";"}
function $g(a,b){var c=b||!1,d=a.hg();if(d instanceof Pg)return Sg(d,c);if(d instanceof Og){var g="DELETE FROM "+d.c[t]();d.F&&(g+=Xg(d.F,c));return g+";"}if(d instanceof Qg)return Yg(d,c);if(d instanceof Ie)return Zg(d,c);throw new P(358,typeof d);};
function ah(a,b){this.global=a;this.Ok=a.o(Id);this.Za=a.o(Jd);this.a=b}I("lf.query.BaseBuilder",ah,void 0);la(ah[r],function(){try{this.mb()}catch(a){return Wc(a)}return new M(function(a,c){var d=new Ng(this[Va],[this.$c()]);this.Za.gc(d)[z](function(c){a(c[0].He())},c)},this)});la(ah[r],ah[r][Pa]);ah[r].Zf=function(){var a=J(function(a){return a.nd(this.a)+"\n"},this);return Yf(this.Ie().qb(),a)};ah[r].explain=ah[r].Zf;Aa(ah[r],function(a){this.a[E](a);return this});Aa(ah[r],ah[r][E]);
ah[r].ol=function(a){return $g(this,a)};ah[r].toSql=ah[r].ol;H=ah[r];H.mb=Gb();H.hg=function(){return this.a.clone()};H.Ld=G("a");H.Ie=function(){null==this.Rg&&(this.Rg=this.Ok.Ij(this.a));return this.Rg};H.$c=function(){return{context:this.hg(),cf:this.Ie()}};H.Ej=function(){return{context:this.Ld(),cf:this.Ie()}};
function bh(a){ah[q](this,a,new Og(a.o(Ld)))}K(bh,ah);I("lf.query.DeleteBuilder",bh,void 0);bh[r].c=function(a){this.Kh();this.a.c=a;return this};bh[r].from=bh[r].c;bh[r].F=function(a){this.oe();this.a.F=a;return this};bh[r].where=bh[r].F;bh[r].Kh=function(){if(null!=this.a.c)throw new P(515);};bh[r].oe=function(){if(null!=this.a.F)throw new P(516);};bh[r].mb=function(){bh.Pb.mb[q](this);if(null==this.a.c)throw new P(517);};
function ch(a,b){ah[q](this,a,new Pg(a.o(Ld)));this.a.mc=b||!1}K(ch,ah);I("lf.query.InsertBuilder",ch,void 0);ch[r].mb=function(){ch.Pb.mb[q](this);var a=this.a;if(null==a.Ha||null==a[cb])throw new P(518);if(a.mc&&null===a.Ha.Jb().Nd())throw new P(519);};ch[r].Ha=function(a){this.Lh();this.a.Ha=a;return this};ch[r].into=ch[r].Ha;ta(ch[r],function(a){this.Mh();a instanceof ue||a[$a](function(a){return a instanceof ue})?this.a.nc=a:ta(this.a,a);return this});ta(ch[r],ch[r][cb]);
ch[r].Lh=function(){if(null!=this.a.Ha)throw new P(520);};ch[r].Mh=function(){if(null!=this.a[cb])throw new P(521);};
function dh(a){return eh("and",e[r][m][q](arguments))}I("lf.op.and",dh,void 0);I("lf.op.or",function(a){return eh("or",e[r][m][q](arguments))},void 0);function eh(a,b){var c=new Zf(a);b[F](function(a){c.la(a)});return c}I("lf.op.not",function(a){a.he(!0);return a},void 0);
function W(a,b){ah[q](this,a,new Ie(a.o(Ld)));this.$f=this.wh=!1;this.a.h=b;this.ai();this.Zh()}K(W,ah);I("lf.query.SelectBuilder",W,void 0);H=W[r];H.mb=function(){W.Pb.mb[q](this);var a=this.a;if(null==a.c)throw new P(522);if(Kb(a.$b)&&!Kb(a.ba)||Kb(a.jc)&&!Kb(a.V))throw new P(523);this.ji()};H.ai=function(){var a=this.a.h[Fa](function(a){return a instanceof T&&"DISTINCT"==a.lc},this);if(0!=a[C]&&(1!=a[C]||1!=this.a.h[C]))throw new P(524);};H.ji=function(){null!=this.a.na?this.ei():this.ii()};
H.ei=function(){var a=this.a.h[Fa](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.na[C]||0==this.a.h[C])b=!0;else{var c=this.a.na.map(function(a){return a.l()});(b=a[$a](function(a){return-1==c[Za](a)}))||(b=this.a.na[$a](function(a){a=a.Z();return 6==a||0==a}))}if(b)throw new P(525);};
H.ii=function(){var a=this.a.h[$a](function(a){return a instanceof T},this),b=this.a.h[$a](function(a){return!(a instanceof T)},this)||0==this.a.h[C];if(a&&b)throw new P(526);};H.Zh=function(){this.a.h[F](function(a){if(a instanceof T&&!fh(a.lc,a.Z()))throw new P(527,a.l());},this)};H.c=function(a){if(this.$f)throw new P(515);this.$f=!0;null==this.a.c&&(this.a.c=[]);this.a.c[x][wb](this.a.c,e[r][m][q](arguments));return this};W[r].from=W[r].c;
W[r].F=function(a){if(this.wh)throw new P(516);this.wh=!0;this.pe(a);return this};W[r].where=W[r].F;W[r].pe=function(a){null!=this.a.F&&(a=dh(a,this.a.F));this.a.F=a};W[r].hk=function(a,b){if(null==this.a.c)throw new P(542);this.a.c[x](a);this.pe(b);return this};W[r].innerJoin=W[r].hk;
W[r].pk=function(a,b){if(!(b instanceof gg))throw new P(541);if(null==this.a.c)throw new P(542);this.a.c[x](a);null==this.a.zc&&(this.a.zc=new O);var c=b;a.pa()!=b.Da.M().pa()&&(c=b[eb]());this.a.zc.add(c.fa());this.pe(c);return this};W[r].leftOuterJoin=W[r].pk;W[r].ba=function(a){if(null!=(this.a.ba||this.a.$b))throw new P(528);if(a instanceof ue)this.a.$b=a;else{if(0>a)throw new P(531);this.a.ba=a}return this};W[r].limit=W[r].ba;
W[r].V=function(a){if(null!=(this.a.V||this.a.jc))throw new P(529);if(a instanceof ue)this.a.jc=a;else{if(0>a)throw new P(531);this.a.V=a}return this};W[r].skip=W[r].V;W[r].N=function(a,b){null==this.a.N&&(this.a.N=[]);this.a.N[x]({K:a,sb:null!=b?b:1});return this};W[r].orderBy=W[r].N;W[r].na=function(a){if(null!=this.a.na)throw new P(530);null==this.a.na&&(this.a.na=[]);this.a.na[x][wb](this.a.na,e[r][m][q](arguments));return this};W[r].groupBy=W[r].na;
function fh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}ka(W[r],function(){var a=new W(this[Va],this.a.h);a.a=this.a.clone();a.a.Jc=null;return a});ka(W[r],W[r].clone);
function gh(a,b){ah[q](this,a,new Qg(a.o(Ld)));ha(this.a,b)}K(gh,ah);I("lf.query.UpdateBuilder",gh,void 0);gh[r].set=function(a,b){var c={td:b instanceof ue?b.zb():-1,K:a,value:b};null!=this.a.set?this.a.set[x](c):this.a.set=[c];return this};gh[r].set=gh[r].set;gh[r].F=function(a){this.oe();this.a.F=a;return this};gh[r].where=gh[r].F;gh[r].oe=function(){if(null!=this.a.F)throw new P(516);};
gh[r].mb=function(){gh.Pb.mb[q](this);if(null==this.a.set)throw new P(532);if(this.a.set[$a](function(a){return a[u]instanceof ue}))throw new P(501);};
function hh(a){this.a=a;this.Ea=null}hh[r].vc=function(){null===this.Ea&&(this.Ea=this.Gd());return this.Ea};function ih(a){hh[q](this,a)}K(ih,hh);ih[r].Gd=function(){return this.a.mc?new wg(this.a.Ha,this.a[cb]):new vg(this.a.Ha,this.a[cb])};function jh(a){hh[q](this,a)}K(jh,hh);jh[r].Gd=function(){var a=new yg(this.a[k],this.a.set),b=null!=this.a.F?new zg(this.a.F.Sb()):null,c=new Ag(this.a[k]);null===b?a.la(c):(b.la(c),a.la(b));return a};
function kh(a,b,c){this.Ea=a;this.ef=b;this.kf=c}kh[r].vc=function(){this.kf[F](function(a){this.Ea=a.Mb(this.Ea,this.ef)},this);return this.Ea};
function lh(a){hh[q](this,a)}K(lh,hh);lh[r].Gd=function(){var a=new xg(this.a.c),b=null!=this.a.F?new zg(this.a.F.Sb()):null,c=new Ag(this.a.c);null===b?a.la(c):(b.la(c),a.la(b));return(new kh(a,this.a,[new Kg])).vc()};
function mh(){}K(mh,Jg);mh[r].Mb=function(a,b){this.ka=a;this.ab(this.ka,b);return this.ka};mh[r].ab=function(a,b){if(a instanceof zg&&a.Ca instanceof gg){L(1==a.xa(),"SelectNode must have exactly one child.");var c=a.Ca.fa(),d=a.yb(0);d instanceof Bg&&(c=Kb(b)&&null!=b.zc&&b.zc[sb](c),c=new Ig(a.Ca,c),Xf(a,d,c,c),a==this.ka&&(this.ka=c),a=c)}a.ea()[F](function(a){this.ab(a,b)},this)};
function nh(){this.me=new O}K(nh,Jg);H=nh[r];H.Mb=function(a){this.ka=a;this.ab(this.ka);this.me[v]();return this.ka};H.ab=function(a){if(this.sg(a)){var b=a.Ca instanceof Fe?this.Nk(a):this.Mk(a);this.me.add(a);b==a&&(b=a.yb(0));null!==b&&(Ob(b[zb]())&&(this.ka=b),this.sg(b)&&!this.me[sb](b)&&this.ab(b))}else a.ea()[F](function(a){this.ab(a)},this)};
H.be=function(a,b){var c=a;if(this.fl(a))c=Vf(a),this.be(a,b);else if(this.el(a)){var d=[],c=Wf(a,b,function(a){a=new zg(a.Ca);d[x](a);return a});d[F](function(a){this.be(a,b)},this)}return c};H.Nk=function(a){var b=new O([a.Ca.K.M().pa()]),c=function(a){return this.Wf(a,b)}[E](this);return this.be(a,c)};H.Mk=function(a){var b=new O([a.Ca.Oa.M().pa(),a.Ca.Da.M().pa()]),c=function(a){return this.Wf(a,b)}[E](this);return this.be(a,c)};
H.Wf=function(a,b){var c=new O;Rf(a)[F](function(a){c.add(a[k].pa())},this);a instanceof Ag&&c.add(a[k].pa());return c.ui(b)};H.sg=function(a){return a instanceof zg&&!(a.Ca instanceof Zf)};H.el=function(a){a=a.yb(0);return a instanceof Bg||a instanceof Ig};H.fl=function(a){return a.yb(0)instanceof zg};
function oh(a){hh[q](this,a);this.Wg=this.Gg=this.jh=this.Mg=this.Df=this.mg=this.fh=this.Tf=this.lh=null}K(oh,hh);H=oh[r];H.Gd=function(){this.nj();var a=this.ri(),b=[new Kg,new Lg,new nh,new mh];return(new kh(a,this.a,b)).vc()};H.nj=function(){this.tj();this.ij();this.rj();this.oj();this.sj();this.mj();this.kj();this.hj();this.pj()};
H.ri=function(){for(var a=[this.Gg,this.jh,this.Wg,this.Mg,this.Df,this.mg,this.fh,this.Tf],b=null,c=null,d=0;d<a[C];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].la(g),b=d)}this.lh[F](function(c){a[b].la(c)});return c};H.tj=function(){this.lh=this.a.c.map(function(a){return new Ag(a)},this)};H.ij=function(){2<=this.a.c[C]&&(this.Tf=new Bg)};H.rj=function(){this.fh=null!=this.a.F?new zg(this.a.F.Sb()):null};H.oj=function(){this.a.N&&(this.Mg=new Dg(this.a.N))};
H.mj=function(){null!=this.a.ba&&(this.Gg=new Gg(this.a.ba))};H.sj=function(){null!=this.a.V&&0<this.a.V&&(this.jh=new Hg(this.a.V))};H.kj=function(){null!=this.a.na&&(this.mg=new Fg(this.a.na))};H.hj=function(){var a=this.a.h[Fa](function(a){return a instanceof T});null!=this.a.N&&this.a.N[F](function(b){b.K instanceof T&&a[x](b.K)});0<a[C]&&(this.Df=new Eg(a))};H.pj=function(){this.Wg=new Cg(this.a.h||[],this.a.na||null)};
function ph(){}ph[r].create=function(a){var b=null;if(a instanceof Pg)b=new ih(a);else if(a instanceof Og)b=new lh(a);else if(a instanceof Ie)b=new oh(a);else if(a instanceof Qg)b=new jh(a);else throw new P(513);b=b.vc();return new ug(b,a.ha())};
function qh(a){U[q](this,1,1);this.O=a}K(qh,U);f(qh[r],function(){return"delete("+this.O[t]()+")"});qh[r].ma=function(a,b){var c=b[0][B].map(function(a){return a.wa});a[w](this.O,c);return[ne()]};
function rh(a){U[q](this,1,1);this.lg=a}K(rh,U);f(rh[r],function(){return"groupBy("+this.lg.map(function(a){return a.l()})[D]()+")"});rh[r].ma=function(a,b){return this.Vh(b[0])};rh[r].Vh=function(a){var b=new fg,c=function(a){return this.lg.map(function(b){return a.S(b)},this)[Ka](",")}[E](this);a[B][F](function(a){b.add(c(a),a)},this);return b.U().map(function(c){return new ke(b.get(c),a.Y())},this)};
function sh(a){L(1<a[C],"Should only be called for cross-column indices.");a=a.map(function(a){return a.f()});a=xd[wb](null,a);var b=[];wd(a,function(a){b[x](a)});return b}function th(a){this.Xb=a}th[r].Jd=function(){return 1==this.Xb.h[C]?[ie()]:[this.Xb.h.map(function(){return ie()})]};function uh(a,b){this.Xb=a;this.va=b;this.xe=this.Eg=null}
uh[r].Wh=function(a){var b=new N;this.va.U()[F](function(c){var d=this.va.get(c).map(function(b){return a.Md(b)},this),g=new Of([ie()]);d[F](function(a){a=new Of(a.nl());g=Pf(g,a)});b.set(c,g)},this);return b};uh[r].$i=function(a){for(var b=this.Xb.h[C]-1;0<=b;b--){var c=this.Xb.h[b];if(null!==a.get(c.ga[t](),null))break;a.set(c.ga[t](),new Of([ie()]))}};uh[r].Jd=function(a){if(this.Eg==a)return this.xe;var b=this.Wh(a);this.$i(b);this.xe=1==this.Xb.h[C]?b.f()[0].f():sh(this.Pj(b));this.Eg=a;return this.xe};
uh[r].Pj=function(a){var b=new N,c=0;this.Xb.h[F](function(a){b.set(a.ga[t](),c);c++});return a.U()[Ya](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function vh(a,b){this.nh=b;this.J=a.o(Hd)}vh[r].mi=function(a,b){var c=b[Fa](this.ik,this);if(0==c[C])return null;c=this.lj(c);if(0==c[C])return null;if(1==c[C])return c[0];var d=Number.MAX_VALUE;return c[Ja](function(b,c){var l=c.Uh(a);return l<d?(d=l,c):b},null)};vh[r].lj=function(a){return this.nh.za().map(function(b){b=new wh(this.J,b);b.ti(a);return b},this)[Fa](function(a){return a.nk()})};vh[r].ik=function(a){return a instanceof Fe&&a.tg()?a.K.M()==this.nh:!1};
function wh(a,b){this.J=a;this.Bb=b;this.og=new O;this.og[gb](this.Bb.h.map(function(a){return a.ga[t]()}));this.Ue=this.va=null}H=wh[r];H.Jj=function(){return null===this.va?[]:this.va.f()};H.fg=function(){L(this.va);null===this.Ue&&(this.Ue=new uh(this.Bb,this.va));return this.Ue};H.ti=function(a){a[F](function(a){var c=a.ob()[0][t]();this.og[sb](c)&&(null===this.va&&(this.va=new fg),this.va.add(c,a.fa()))},this)};
H.nk=function(){if(null===this.va)return!1;for(var a=!1,b=!0,c=0;c<this.Bb.h[C];c++){var d=this.va.B(this.Bb.h[c].ga[t]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.Uh=function(a){a=this.fg().Jd(a);var b=this.J.get(this.Bb.l());return a[Ja](function(a,d){return a+b.Bd(d)},0)};
function xh(a,b,c,d){U[q](this,0,-1);this.J=a.o(Hd);this.index=b;this.Cg=c;this.jf=d;this.rd=this.qd=!1}K(xh,U);f(xh[r],function(){return"index_range_scan("+this[lb].l()+", ?, "+(this.jf?"reverse":"natural")+(this.qd?", limit:?":"")+(this.rd?", skip:?":"")+")"});xh[r].nd=function(a){var b=this[D](),c=this.Cg.Jd(a),b=b[db]("?",c[D]());this.qd&&(b=b[db]("?",a.ba[D]()));this.rd&&(b=b[db]("?",a.V[D]()));return b};
xh[r].ma=function(a,b,c){a=this.Cg.Jd(c);b=this.J.get(this[lb].l());c=(1==a[C]&&a[0]instanceof ge&&a[0].wg()?nf(b.get(a[0].c),!1,this.qd?c.ba:void 0,this.rd?c.V:void 0):b.pb(a,this.jf,this.qd?c.ba:void 0,this.rd?c.V:void 0)).map(function(a){return new fd(a,{})},this);return[qe(c,[this[lb].qf])]};
function yh(a){U[q](this,1,1);this.ae=a}K(yh,U);f(yh[r],Ib("select(?)"));yh[r].nd=function(a){a=a.Md(this.ae);return this[D]()[db]("?",a[D]())};yh[r].ma=function(a,b,c){return[c.Md(this.ae).eval(b[0])]};
function zh(a,b){U[q](this,1,1);this.ta=a.o(Gd);this.O=b}K(zh,U);f(zh[r],function(){return"table_access_by_row_id("+this.O[t]()+")"});zh[r].ma=function(a,b){return[qe(this.ta.get(b[0].Oj()),[this.O.pa()])]};
function Ah(a,b){U[q](this,0,-1);this.ta=a.o(Gd);this.J=a.o(Hd);ha(this,b)}K(Ah,U);f(Ah[r],function(){var a="table_access("+this[k][t]();null===this[k].bb()||(a+=" as "+this[k].bb());return a+")"});Ah[r].ma=function(){var a=this.J.get(this[k].Vb()).pb();return[qe(this.ta.get(a),[this[k].pa()])]};
function Bh(a){this.m=a}K(Bh,Jg);Bh[r].Mb=function(a,b){this.ka=a;Sf(a,function(a){return a instanceof Ah})[F](function(a){var d=this.fj(a);if(0!=d[C]){var g=(new vh(this.m,a[k])).mi(b,d.map(function(a){return b.Md(a.ae)}));if(null!==g){var h=new N;d[F](function(a){h.set(a.ae,a)},this);this.ka=this.Yk(g,h,a,b)}}},this);return this.ka};Bh[r].fj=function(a){var b=[];for(a=a[zb]();a;)a instanceof yh&&b[x](a),a=a[zb]();return b};
Bh[r].Yk=function(a,b,c){a.Jj().map(function(a){return b.get(a)})[F](Tf);a=new xh(this.m,a.Bb,a.fg(),!1);var d=new zh(this.m,c[k]);d.la(a);Xf(c,c,d,a);return a.qb()};
function Ch(a,b){U[q](this,0,-1);this.J=a.o(Hd);this.O=b}K(Ch,U);f(Ch[r],function(){return"insert("+this.O[t]()+")"});Ch[r].ma=function(a,b,c){Dh(this.O,c[cb],this.J);a.Cb(this.O,c[cb]);return[qe(c[cb],[this.O[t]()])]};function Dh(a,b,c){a=a.Jb().Nd();if(null===a?0:a.h[0][nb]){var d=a.h[0].ga[t]();c=c.get(a.l()).max();var g=null===c?0:c[0];b[F](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function Eh(a,b){U[q](this,0,-1);this.J=a.o(Hd);this.O=b}K(Eh,U);
f(Eh[r],function(){return"insert_replace("+this.O[t]()+")"});Eh[r].ma=function(a,b,c){Dh(this.O,c[cb],this.J);a.Oe(this.O,c[cb]);return[qe(c[cb],[this.O[t]()])]};
function Fh(a,b){U[q](this,2,0);this.Vg=a;this.yg=b}K(Fh,U);f(Fh[r],function(){return(this.yg?"left_outer_join":"join")+"("+this.Vg[D]()+")"});Fh[r].ma=function(a,b){return[this.Vg.Li(b[0],b[1],this.yg)]};
function Gh(){U[q](this,1,1)}K(Gh,U);f(Gh[r],Ib("limit(?)"));Gh[r].nd=function(a){return this[D]()[db]("?",a.ba[D]())};Gh[r].ma=function(a,b,c){b[0][B][A](c.ba);return b};
function Hh(a){U[q](this,-1,1);this.N=a}K(Hh,U);H=Hh[r];f(H,function(){return"order_by("+Je(this.N)+")"});H.ma=function(a,b){if(1==b[C]){var c=this.bj(b[0]);(null===c?b[0]:b[0].wc(c))[B][Ya](this.Ii[E](this))}else b[Ya](this.Uk[E](this));return b};H.bj=function(a){for(var b=null,c=0;c<this.N[C];c++){var d=lg(this.N[c].K);if(a.$j(d)){b=d;break}}return b};
H.X=function(a,b){var c=null,d=null,g=null,h=-1;do h++,g=this.N[h].K,c=this.N[h].sb,d=a(g),g=b(g);while(d==g&&h+1<this.N[C]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.Uk=function(a,b){return this.X(function(b){return b instanceof T?a.wc(b):a[B][a[B][C]-1].S(b)},function(a){return a instanceof T?b.wc(a):b[B][b[B][C]-1].S(a)})};H.Ii=function(a,b){return this.X(function(b){return a.S(b)},function(a){return b.S(a)})};
function Ih(a,b){this.Ja=a;this.H=b}Ih[r].kg=function(){return this.H[$a](function(a){return a instanceof T},this)?this.Yj():this.Zj()};
Ih[r].Yj=function(){if(1==this.H[C]&&"DISTINCT"==this.H[0].lc){var a=this.Ja.wc(this.H[0])[B].map(function(a){var b=new re(new fd(-1,{}),this.Ja.Re());b.mf(this.H[0],a.S(this.H[0][ib]));return b},this);return new ke(a,[])}var b=new re(new fd(-1,{}),this.Ja.Re());this.H[F](function(a){var d=a instanceof T?this.Ja.wc(a):this.Ja[B][0].S(a);b.mf(a,d)},this);return new ke([b],this.Ja.Y())};
Ih[r].Zj=function(){var a=e(this.Ja[B][C]),b=this.Ja.Re();this.Ja[B][F](function(c,d){a[d]=new re(new fd(c.wa.id(),{}),b);this.H[F](function(b){a[d].mf(b,c.S(b))},this)},this);return new ke(a,this.Ja.Y())};function Jh(a,b){var c=a.map(function(a){return(new Ih(a,b)).kg()[B][0]});return new ke(c,a[0].Y())};
function Kh(a,b){U[q](this,-1,1);this.h=a;this.Wb=b}K(Kh,U);H=Kh[r];f(H,function(){var a="project("+this.h[D]();if(null!==this.Wb)var b=this.Wb.map(function(a){return a.l()})[Ka](", "),a=a+(", groupBy("+b+")");return a+")"});H.ma=function(a,b){return 0==b[C]?[ne()]:1==b[C]?[this.Ti(b[0])]:[this.Ri(b)]};H.ak=function(){return this.h[$a](function(a){return a instanceof T})||null!==this.Wb};H.Ri=function(a){return Jh(a,this.h)};H.Ti=function(a){return 0==this.h[C]?a:(new Ih(a,this.h)).kg()};
function Lh(){U[q](this,1,1)}K(Lh,U);f(Lh[r],Ib("skip(?)"));Lh[r].nd=function(a){return this[D]()[db]("?",a.V[D]())};Lh[r].ma=function(a,b,c){return[new ke(b[0][B][m](c.V),b[0].Y())]};
function Mh(){}K(Mh,Jg);Mh[r].Mb=function(a){var b=Sf(a,function(a){return a instanceof Gh||a instanceof Lh});if(0==b[C])return a;var c=this.ej(a);if(null===c)return a;b[F](function(a){this.xk(a,c)},this);return c.qb()};Mh[r].xk=function(a,b){a instanceof Gh?b.qd=!0:b.rd=!0;return Tf(a).parent};Mh[r].ej=function(a){a=Sf(a,function(a){return a instanceof xh},function(a){return a instanceof Kh&&a.ak()||a instanceof Hh||1!=a.xa()||a instanceof yh});return 0<a[C]?a[0]:null};
function Nh(a){this.m=a}K(Nh,Jg);Nh[r].Mb=function(a){var b=Oh(a);if(null===b)return a;a=this.Jh(b);a==b&&(a=this.Ih(b));return a.qb()};Nh[r].Jh=function(a){var b=a,c=Ph(a.yb(0));if(null!==c){var d;d=a.N;for(var g=null,h=c[k].za(),l=0;l<h[C]&&null===g;l++)g=Qh(h[l],d);d=g;if(null===d)return b;b=new xh(this.m,d.Bb,new th(d.Bb),d.zg);d=new zh(this.m,c[k]);d.la(b);Tf(a);b=Xf(c,c,d,b)}return b};
Nh[r].Ih=function(a){var b=a,c=Rh(a.yb(0));if(null!==c){var d=Qh(c[lb],a.N);if(null===d)return b;c.jf=d.zg;b=Tf(a).parent}return b};function Rh(a){a=Sf(a,function(a){return a instanceof xh},function(a){return 1!=a.xa()});return 0<a[C]?a[0]:null}function Ph(a){a=Sf(a,function(a){return a instanceof Ah},function(a){return 1!=a.xa()});return 0<a[C]?a[0]:null}function Oh(a){a=Sf(a,function(a){return a instanceof Hh});return 0<a[C]?a[0]:null}
function Qh(a,b){if(a.h[C]!=b[C]||!b[Ta](function(b,c){return b.K[t]()==a.h[c].ga[t]()}))return null;var c=Sh(b,a);return c[0]||c[1]?{Bb:a,zg:c[1]}:null}function Sh(a,b){var c=a[Ja](function(a,b){return a<<1|(0==b.sb?0:1)},0),d=b.h[Ja](function(a,b){return a<<1|(0==b.sb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[C],b.h[C]))-1;return[c,d]};
function Th(a,b,c){this.Ea=a;this.ef=b;this.kf=c}Th[r].vc=function(){this.kf[F](function(a){this.Ea=a.Mb(this.Ea,this.ef)},this);return this.Ea};
function Uh(a,b){U[q](this,1,1);this.O=a;this.wl=b}K(Uh,U);f(Uh[r],function(){return"update("+this.O[t]()+")"});Uh[r].ma=function(a,b){var c=b[0][B].map(function(a){var b=this.O.sc(a.wa.Ka());this.wl[F](function(a){b.w()[a.K[t]()]=a[u]},this);return b},this);a[Ua](this.O,c);return[ne()]};
function Vh(a){this.m=a}Vh[r].create=function(a,b){var c=a.qb();if(c instanceof wg||c instanceof vg)return this.Ae(a,b);if(c instanceof Cg||c instanceof Gg||c instanceof Hg)return this.Ae(a,b,[new Bh(this.m),new Nh(this.m),new Mh]);if(c instanceof xg||c instanceof yg)return this.Ae(a,b,[new Bh(this.m)]);throw new P(8);};Vh[r].Ae=function(a,b,c){var d=Qf(a.qb(),J(this.tk,this));null!=c&&(d=(new Th(d,b,c)).vc());return new Ke(d,a.ha())};
Vh[r].tk=function(a){if(a instanceof Cg)return new Kh(a.h,a.Wb);if(a instanceof Fg)return new rh(a.h);if(a instanceof Eg)return new mg(a.h);if(a instanceof Dg)return new Hh(a.N);if(a instanceof Hg)return new Lh;if(a instanceof Gg)return new Gh;if(a instanceof zg)return new yh(a.Ca.fa());if(a instanceof Bg)return new Mg;if(a instanceof Ig)return new Fh(a.Ca,a.xg);if(a instanceof Ag)return new Ah(this.m,a[k]);if(a instanceof xg)return new qh(a[k]);if(a instanceof yg)return new Uh(a[k],a.vf);if(a instanceof
wg)return new Eh(this.m,a[k]);if(a instanceof vg)return new Ch(this.m,a[k]);throw new P(514);};

function Wh(a){this.rk=new ph;this.Ik=new Vh(a)}Wh[r].Ij=function(a){var b=this.rk[jb](a);return this.Ik[jb](b,a)};
function Xh(){this.Ig=new N}H=Xh[r];H.Id=function(a){var b=this.Ig.get(a[t](),null);null===b&&(b=new Yh,this.Ig.set(a[t](),b));return b};H.Vj=function(a,b,c){b[F](function(b){this.Id(b).Uj(a,c)},this)};H.Yh=function(a,b,c){return b[Ta](function(b){return this.Id(b).Xh(a,c)},this)};H.Zg=function(a,b,c){var d=this.Yh(a,b,c);d&&this.Vj(a,b,c);return d};H.releaseLock=function(a,b){b[F](function(b){this.Id(b).releaseLock(a)},this)};H.ni=function(a){a[F](function(a){this.Id(a).hb=null},this)};
function Yh(){this.ic=this.Xa=this.hb=this.Qc=null}Yh[r].releaseLock=function(a){this.Qc==a&&(this.Qc=null);this.hb==a&&(this.hb=null);null===this.Xa||this.Xa[w](a);null===this.ic||this.ic[w](a)};Yh[r].Xh=function(a,b){var c=null===this.Xa||this.Xa.Na();return 0==b?(null===this.ic||this.ic.Na())&&c&&null===this.Qc&&null!==this.hb&&this.hb==a:3==b?null===this.Qc&&null===this.hb&&null!==this.Xa&&this.Xa[sb](a):1==b?null===this.hb:c&&(null===this.hb||this.hb==a)};
Yh[r].Uj=function(a,b){0==b?(this.hb=null,this.Qc=a):3==b?(null===this.ic&&(this.ic=new O),this.ic.add(a),null===this.Xa&&(this.Xa=new O),this.Xa[w](a)):1==b?(null===this.Xa&&(this.Xa=new O),this.Xa.add(a)):2==b&&(this.hb=a)};
function Zh(){this.ec=new $h;this.dd=new Xh}H=Zh[r];H.gc=function(a){(2>a[Bb]()||2>a[Bb]())&&this.dd.ni(a.ha().f());this.ec.Cb(a);this.ze();return a.Yc().ja};H.ze=function(){for(var a=this.ec.f(),b=0;b<a[C];b++){var c=a[b],d=!1;if(d=0==c.Z()?this.$g(c,1,3):this.$g(c,2,0))this.ec[w](c),this.Ui(c)}};H.$g=function(a,b,c){var d=!1,g=a.ha().f();this.dd.Zg(a.fa(),g,b)&&(d=this.dd.Zg(a.fa(),g,c));return d};H.Ui=function(a){a[Pa]()[z](J(this.Ek,this,a),J(this.Dk,this,a))};
H.Ek=function(a,b){this.dd.releaseLock(a.fa(),a.ha().f());a.Yc()[Db](b);this.ze()};H.Dk=function(a,b){this.dd.releaseLock(a.fa(),a.ha().f());a.Yc()[La](b);this.ze()};function $h(){this.ec=[]}$h[r].Cb=function(a){uc(this.ec,a,function(a,c){var d=a[Bb]()-c[Bb]();return 0==d?a.fa()-c.fa():d})};$h[r].f=function(){return this.ec[m]()};ua($h[r],function(a){var b=this.ec;a=gc(b,a);var c;(c=0<=a)&&mc(b,a);return c});

function ai(a,b){this.Ki=ve.Ge();this.ff=a;this.Xd=b;this.H=this.Di()}ai[r].Di=function(){if(0<this.ff.h[C])return this.ff.h;var a=[];this.ff.c[F](function(b){b.ob()[F](function(b){a[x](b)})});return a};ai[r].X=function(a,b){return this.H[Ta](function(c){return this.Ki.Ee(c.Z(),"eq")(a.S(c),b.S(c))},this)};
ai[r].Hh=function(a,b){for(var c=null===a?[]:a[B],d=od(c,b[B],J(this.X,this),function(a){return c[a]}),g=[],h=0,l=0;l<c[C];l++){var p=c[l];d[h]==p?h++:(p=this.Xd[A](h,1),p=bi(l,p,0,this.Xd),g[x](p))}d=od(c,b[B],J(this.X,this),function(a,c){return b[B][c]});for(l=h=0;l<b[B][C];l++)p=b[B][l],d[h]==p?h++:(this.Xd[A](l,0,p.wa.w()),p=bi(l,[],1,this.Xd),g[x](p));return g};function bi(a,b,c,d){return{xl:c,index:a,object:d,zl:b,type:"splice"}};
function ci(){this.uc=new N}H=ci[r];H.Je=function(a){return Tb(a)[D]()};H.le=function(a,b){var c=this.Je(a.Ld()),d=this.uc.get(c,null);null===d&&(d=new di(a),this.uc.set(c,d));d.le(b)};H.hf=function(a,b){var c=this.Je(a.Ld()),d=this.uc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.hf(b);L(g,"removeObserver: Inconsistent state detected.");d.ck()||this.uc[w](c)};
H.Le=function(a){var b=new O;a[F](function(a){b.add(a[t]())});var c=[];this.uc.f()[F](function(a){a=a.$c();a[mb].c[$a](function(a){return b[sb](a[t]())})&&c[x](a)});return c};H.th=function(a,b){var c=this.Je(null!=a.Jc?a.Jc:a),c=this.uc.get(c,null);return null!==c?(c.vl(b),!0):!1};function di(a){this.Sh=a;this.gd=new O;this.Bk=[];this.Fg=null;this.Gi=new ai(a.Ld(),this.Bk)}H=di[r];H.le=function(a){this.gd[sb](a)?cc("Attempted to register observer twice."):this.gd.add(a)};H.hf=function(a){return this.gd[w](a)};
H.$c=function(){return this.Sh.Ej()};H.ck=function(){return 0<this.gd.ya()};H.vl=function(a){var b=this.Gi.Hh(this.Fg,a);this.Fg=a;0<b[C]&&this.gd.f()[F](function(a){a(b)})};
function ei(a,b){var c=a.o(Ld),d=b||{},g=new mf;a.tb(Gd,g);var g=null,h=!1;switch(d.storeType||0){case 1:g=new af(c);break;case 5:g=new cf(c);break;case 4:g=new gf(a,c,d.webSqlDbSize);break;case 3:g=new Ve(c,d.firebase);h=!0;break;default:g=new Ze(a,c)}a.tb(Fd,g);var l=new Mf;a.tb(Hd,l);return g.Ga(d.onUpgrade)[z](function(){a.tb(Id,new Wh(a));var b=new Zh;a.tb(Jd,b);b=new ci;a.tb(Kd,b);return l.Ga(c)})[z](function(){h&&(new Pe(a)).jl();return(new Lf(a)).Ga(c)})};

function fi(a,b){this.m=a;this.Hb=a.o(Fd);this.Za=a.o(Jd);this.Kb=a.o(Kd);this.sa=new O(b);this.Wa=new fe(this.m,this.sa.f());this.fc=$c();this.Rc=$c();this.xf=$c()}H=fi[r];la(H,function(){this.xf[Db]();return this.Rc.ja});H.Z=Ib(1);H.ha=G("sa");H.Yc=G("fc");H.fa=function(){return Tb(this)};Da(H,Ib(2));H.xh=function(){this.Za.gc(this);return this.xf.ja};
H.Ph=function(a){a=a.$c();return a.cf.qb()[Pa](this.Wa,a[mb])[z](function(a){return a[0].He()},J(function(a){this.Wa.Nb();var c=new Rc(a[n]);this.Rc[La](c);throw a;},this))};H.oa=function(){this.Hb.Tb(this.Z(),this.Wa).oa()[z](J(function(){this.kd();this.Rc[Db]()},this),J(function(a){this.Wa.Nb();this.Rc[La](a)},this));return this.fc.ja};H.Nb=function(){this.Wa.Nb();this.Rc[Db]();return this.fc.ja};H.kd=function(){var a=this.Kb.Le(this.sa.f());0!=a[C]&&(a=new Ne(this.m,a),this.Za.gc(a))};
function gi(a){this.m=a;this.Za=a.o(Jd);this.od=null;this.La=0}I("lf.proc.Transaction",gi,void 0);var hi=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));gi[r].Ra=function(a){var b=hi.get(this.La,null);if(null===b||!b[sb](a))throw new P(107,this.La,a);this.La=a};
la(gi[r],function(a){this.Ra(4);var b=[];try{a[F](function(a){a.mb();b[x](a.$c())},this)}catch(c){return this.Ra(7),Wc(c)}a=new Ng(this.m,b);return this.Za.gc(a)[z](J(function(a){this.Ra(7);return a.map(function(a){return a.He()})},this),J(function(a){this.Ra(7);throw a;},this))});la(gi[r],gi[r][Pa]);gi[r].Qh=function(a){this.Ra(1);this.od=new fi(this.m,a);return this.od.xh()[z](J(function(){this.Ra(2)},this))};gi[r].begin=gi[r].Qh;
gi[r].Oh=function(a){this.Ra(3);return this.od.Ph(a)[z](J(function(a){this.Ra(2);return a},this),J(function(a){this.Ra(7);throw a;},this))};gi[r].attach=gi[r].Oh;gi[r].oa=function(){this.Ra(5);return this.od.oa()[z](J(function(){this.Ra(7)},this))};gi[r].commit=gi[r].oa;gi[r].Nb=function(){this.Ra(6);return this.od.Nb()[z](J(function(){this.Ra(7)},this))};gi[r].rollback=gi[r].Nb;
function X(a){this.m=a;this.s=a.o(Ld);this.Ne=!1}I("lf.proc.Database",X,void 0);X[r].Ga=function(a){this.m.tb(Ld,this.s);return ei(this.m,a)[z](J(function(){this.Ne=!0;return this},this))};X[r].init=X[r].Ga;X[r].Ab=G("s");X[r].getSchema=X[r].Ab;X[r].qc=function(){if(!this.Ne)throw new P(2);};X[r].select=function(a){this.qc();return new W(this.m,1!=arguments[C]||null!=arguments[0]?e[r][m][q](arguments):[])};X[r].select=X[r].select;X[r].Cb=function(){this.qc();return new ch(this.m)};X[r].insert=X[r].Cb;
X[r].Oe=function(){this.qc();return new ch(this.m,!0)};X[r].insertOrReplace=X[r].Oe;pa(X[r],function(a){this.qc();return new gh(this.m,a)});pa(X[r],X[r][Ua]);qa(X[r],function(){this.qc();return new bh(this.m)});X[r]["delete"]=X[r][Xa];X[r].observe=function(a,b){this.m.o(Kd).le(a,b)};X[r].observe=X[r].observe;X[r].unobserve=function(a,b){this.m.o(Kd).hf(a,b)};X[r].unobserve=X[r].unobserve;X[r].Bi=function(){this.qc();return new gi(this.m)};X[r].createTransaction=X[r].Bi;
na(X[r],function(){try{this.m.o(Fd)[Qa]()}catch(a){}this.m[v]();this.Ne=!1});na(X[r],X[r][Qa]);
function Y(a,b,c,d,g,h){this.O=a;this.D=b;this.Bg=c;this.vg=d;this.sh=g;this.lb=h||null}I("lf.schema.BaseColumn",Y,void 0);H=Y[r];ma(H,G("D"));H.l=function(){return this.O.pa()+"."+this.D};f(H,function(){return this.l()});H.M=G("O");H.Z=G("sh");Y[r].getType=Y[r].Z;Y[r].bb=G("lb");Y[r].za=function(){null==this.ua&&(this.ua=[],this.M().za()[F](function(a){-1!=a.h.map(function(a){return a.ga[t]()})[Za](this.D)&&this.ua[x](a)},this));return this.ua};Y[r].Yb=G("vg");Y[r].isNullable=Y[r].Yb;Y[r].cd=G("Bg");
Y[r].Va=function(a){return hg(this,a,"eq")};Y[r].eq=Y[r].Va;Y[r].Jg=function(a){return hg(this,a,"neq")};Y[r].neq=Y[r].Jg;Y[r].Ve=function(a){return hg(this,a,"lt")};Y[r].lt=Y[r].Ve;Y[r].sk=function(a){return hg(this,a,"lte")};Y[r].lte=Y[r].sk;Y[r].Wj=function(a){return hg(this,a,"gt")};Y[r].gt=Y[r].Wj;Y[r].Xj=function(a){return hg(this,a,"gte")};Y[r].gte=Y[r].Xj;Y[r].match=function(a){return hg(this,a,"match")};Y[r].match=Y[r].match;Y[r].Rh=function(a,b){return hg(this,[a,b],"between")};
Y[r].between=Y[r].Rh;Y[r].dk=function(a){return hg(this,a,"in")};Y[r]["in"]=Y[r].dk;Y[r].lk=function(){return this.Va(null)};Y[r].isNull=Y[r].lk;Y[r].kk=function(){return this.Jg(null)};Y[r].isNotNull=Y[r].kk;Y[r].Gc=function(a){return new Y(this.O,this.D,this.Bg,this.vg,this.sh,a)};Y[r].as=Y[r].Gc;
function ii(){this.ge=new N}var ji;sa(ii[r],function(){this.ge[v]()});sa(ii[r],ii[r][v]);ii[r].tb=function(a,b){this.ge.set(a[D](),b);return b};ii[r].registerService=ii[r].tb;ii[r].o=function(a){var b=this.ge.get(a[D](),null);if(null==b)throw new P(7,a[D]());return b};ii[r].getService=ii[r].o;ii[r].Te=function(a){return this.ge.B(a[D]())};ii[r].isRegistered=ii[r].Te;
function ki(a){this.s=a;this.gf=new Bd;this.Qg=new Bd;this.Pf=new Bd;this.i=new Bd;this.we=new Bd;this.gk()}H=ki[r];H.gk=function(){this.s.$a()[F](function(a){var b=new jf;a.Jb().Fe()[F](function(c){var d=this.gf.get(c.fb)||[];d[x](c);this.gf.set(c.fb,d);b.add(this.s[k](c.fb));(d=this.i.get(c.fb))||(d=new jf);d.add(a);this.i.set(c.fb,d);this.Pf.set(a[t]()+"."+c.Rb,c.fb);c=c.fb+"."+c.Ac;d=this.we.get(c)||[];d[x](a[t]());this.we.set(c,d)},this);0!=b[Fb]&&this.Qg.set(a[t](),b)},this)};
H.Lj=function(a){return this.gf.get(a)||null};H.Yf=function(a,b){var c=b.get(a);return c?kf(c):[]};H.Gj=function(a){return this.Yf(a,this.Qg)};H.Hj=function(a){var b=new jf;a[F](function(a){(a=this.Pf.get(a))&&b.add(a)},this);return kf(b).map(function(a){return this.s[k](a)},this)};H.ag=function(a){return this.Yf(a,this.i)};H.wj=function(a){var b=new jf;a[F](function(a){(a=this.we.get(a))&&a[F](function(a){b.add(a)})},this);return kf(b).map(function(a){return this.s[k](a)},this)};
function li(a,b,c){this.Lk=a;this.zk=b;this.gj=c}I("lf.schema.Constraint",li,void 0);li[r].Nd=G("Lk");li[r].getPrimaryKey=li[r].Nd;li[r].Dj=G("zk");li[r].Fe=G("gj");li[r].getForeignKeys=li[r].Fe;
function mi(a,b){var c=a.ref[Ia](".");if(2!=c[C])throw new P(540,b);this.Rb=a.local;this.fb=c[0];this.Ac=c[1];ia(this,b);this.action=a.action;this.timing=a[Ma]};
function Z(a){this.D=a;this.H=new Bd;this.tf=new jf;this.pd=new jf;this.Wd=new jf;this.Db=null;this.ua=new Bd;this.$d=!1;this.rc(a);this.Fd=[]}I("lf.schema.TableBuilder",Z,void 0);function ni(a){ia(this,a[n]);this.sb=a.order;this.autoIncrement=a[nb]}var oi=new jf([0,6]);Z[r].rc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);if(this.H.has(a)||this.ua.has(a)||this.pd.has(a))throw new P(503,this.D+"."+a);};
Z[r].hi=function(a){var b=!1;a[F](function(a){var d=this.H.get(a[n]);b=b||a[nb];if(a[nb]&&3!=d)throw new P(504);},this);if(b&&1<a[C])throw new P(505);};Z[r].gi=function(){if(null!==this.Db){var a=this.ua.get(this.Db).map(function(a){return a[n]}),b=0;if(this.Fd[$a](function(c,d){b=d;return-1!=a[Za](c.Rb)},this))throw new P(543,this.Fd[b][n]);}};Z[r].zh=function(a,b){this.rc(a);this.H.set(a,b);oi.has(b)&&this.Bf([a]);return this};Z[r].addColumn=Z[r].zh;
Z[r].Bh=function(a,b){var c=this.D;this.Db="pk"+(c[0].toUpperCase()+c.substring(1));this.rc(this.Db);c=this.Vd(a,!0,void 0,b);this.hi(c);1==c[C]&&this.tf.add(c[0][n]);this.pd.add(this.Db);this.ua.set(this.Db,c);return this};Z[r].addPrimaryKey=Z[r].Bh;Z[r].Ah=function(a,b){this.rc(a);var c=new mi(b,this.D+"."+a);Kb(c.action)||(c.action=0);Kb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new P(506);if(!this.H.has(c.Rb))throw new P(540,a);this.Fd[x](c);this.Af(a,[c.Rb],!1);return this};
Z[r].addForeignKey=Z[r].Ah;Z[r].Ch=function(a,b){this.rc(a);var c=this.Vd(b,!0);this.Mf(a,c);1==c[C]&&this.tf.add(c[0][n]);this.ua.set(a,c);this.pd.add(a);return this};Z[r].addUnique=Z[r].Ch;Z[r].Bf=function(a){a=this.Vd(a,!1);this.fi(a);a[F](function(a){this.Wd.add(a[n])},this);return this};Z[r].addNullable=Z[r].Bf;
Z[r].fi=function(a){Cd(this.ua)[F](function(b){var c=new jf;this.ua.get(b)[F](function(a){c.add(a[n])});var d=a[Fa](function(a){return c.has(a[n])});if(1<c[Fb]&&0<d[C])throw new P(507,b,d[Ka](","));},this)};Z[r].Af=function(a,b,c,d){this.rc(a);b=this.Vd(b,!0,d);this.Mf(a,b);c&&this.pd.add(a);this.ua.set(a,b);return this};Z[r].addIndex=Z[r].Af;Z[r].Mf=function(a,b){if(1<b[C]){var c=b[Fa](function(a){return this.Wd.has(a[n])},this);if(0<c[C])throw new P(507,a,c[Ka](","));}};Z[r].Lb=Hb("$d");
Z[r].persistentIndex=Z[r].Lb;Z[r].Ab=function(){this.gi();return new (this.uj())};Z[r].getSchema=Z[r].Ab;Z[r].Wc=G("Fd");Z[r].Vd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new ni({name:a,order:null!=c?c:1,autoIncrement:d||!1})}):a.map(function(a){return new ni(a)});g[F](function(a){if(!this.H.has(a[n]))throw new P(508,this.D,a[n]);if(b){var c=this.H.get(a[n]);if(0==c||6==c)throw new P(509,this.D,a[n]);}},this);return g};
Z[r].uj=function(){function a(){function a(c){return b.ua.get(c).map(function(a){return{ga:this[a[n]],sb:a.sb,autoIncrement:a[nb]}},this)}var d=Cd(b.H).map(function(a){this[a]=new Y(this,a,b.tf.has(a),b.Wd.has(a),b.H.get(a));return this[a]},this),g=Cd(b.ua).map(function(d){return new jg(b.D,d,b.pd.has(d),a[q](this,d))},this);S[q](this,b.D,d,g,b.$d);var h=null===b.Db?null:new jg(b.D,b.Db,!0,a[q](this,b.Db)),l=d[Fa](function(a){return!b.Wd.has(a[t]())});this.si=new li(h,l,b.Wc());this.dh=b.qj(d,g)}
var b=this;K(a,S);a[r].Ib=function(a){return new this.dh(gd++,a)};a[r].createRow=a[r].Ib;a[r].sc=function(a){var b={};this.ob()[F](function(g){var h=g[t]();g=g.Z();var l=a[u][h];if(0==g)if(null===l)g=l;else if(g=l,""==g)g=null;else{0!=g[C]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[C]/2),p=new Uint8Array(l),y=0,wa=0;y<g[C];y+=2)p[wa++]=da(g.substr(y,2),16);g=l}else g=2==g?null===l?l:new Date(l):l;b[h]=g},this);return new this.dh(a.id,b)};a[r].deserializeRow=a[r].sc;a[r].Jb=G("si");a[r].getConstraint=
a[r].Jb;return a};
Z[r].qj=function(a,b){function c(c,d){this.H=a;this.ua=b;fd[q](this,c,d)}K(c,fd);c[r].Uf=function(){var a={};this.H[F](function(b){a[b[t]()]=b.Yb()?null:be[b.Z()]});return a};c[r].ph=function(){var a={};this.H[F](function(b){var c=b[t]();b=b.Z();var d=this.w()[c];a[c]=0==b?null!=d?jd(d):null:2==b?null!=d?d[Cb]():null:d},this);return a};var d=J(function(a){var b=this.H.get(a[t]());return 2==b?function(b){b=b[a[t]()];return a.Yb()&&null===b?null:b[Cb]()}:1==b?function(b){return a.Yb()?(b=b[a[t]()],
null===b?null:b?1:0):b[a[t]()]?1:0}:function(b){return b[a[t]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ga)});return function(a){return b.map(function(b){return b(a)})}},this),h={};b[F](function(a){var b=a.l();a=1==a.h[C]?d(a.h[0].ga):g(a.h);h[b]=a});c[r].Zb=function(a){return-1!=a[Za]("#")?this.id():h[rb](a)?h[a](this.w()):null};return c};
function pi(a,b){this.s=new qi(a,b);this.vb=new N;this.Sc=!1}I("lf.schema.Builder",pi,void 0);H=pi[r];H.di=function(a){a.Wc()[F](function(b){var c=b.fb;if(!this.vb.B(c))throw new P(536,b[n]);var c=this.vb.get(c).Ab(),d=b.Ac;if(!c[rb](d))throw new P(537,b[n]);if(a.Ab()[b.Rb].Z()!=c[d].Z())throw new P(538,b[n]);if(!c[d].cd())throw new P(539,b[n]);},this)};H.ci=function(a){a.Wc()[F](function(a){this.vb.get(a.fb).Wc()[F](function(c){if(c.Rb==a.Ac)throw new P(534,a[n]);},this)},this)};
H.aj=function(){this.Sc||(this.vb.f()[F](function(a){this.di(a);this.s.dl(a.Ab())},this),this.vb.f()[F](this.ci,this),this.bi(),this.vb[v](),this.Sc=!0)};H.Kf=function(a,b){a.wf||(a.wf=!0,a.Ze=!0,a.Xf[F](function(c){c=b.get(c);if(!c.wf)this.Kf(c,b);else if(c.Ze&&a!=c)throw new P(533);},this));a.Ze=!1};H.bi=function(){var a=new Bd;this.s.I.U()[F](function(b){a.set(b,new ri(b))},this);this.vb[F](function(b,c){b.Wc()[F](function(b){a.get(b.fb).Xf.add(c)})});Dd(a)[F](function(b){this.Kf(b,a)},this)};
function ri(a){this.Ze=this.wf=!1;this.Xf=new jf;this.qf=a}H.Ab=function(){this.Sc||this.aj();return this.s};pi[r].getSchema=pi[r].Ab;pi[r].eg=function(){var a=new Ed("ns_"+this.s[n]()),b;ji||(ji=new ii);b=ji;var c=null;b.Te(a)?c=b.o(a):(c=new ii,b.tb(a,c));return c};pi[r].getGlobal=pi[r].eg;pi[r].connect=function(a){var b=this.eg();b.Te(Ld)||b.tb(Ld,this.Ab());return(new X(b)).Ga(a)};pi[r].connect=pi[r].connect;
pi[r].zi=function(a){if(this.vb.B(a))throw new P(503,a);if(this.Sc)throw new P(535);this.vb.set(a,new Z(a));return this.vb.get(a)};pi[r].createTable=pi[r].zi;pi[r].of=function(a){if(this.Sc)throw new P(535);this.s.of(a);return this};pi[r].setPragma=pi[r].of;function qi(a,b){this.D=a;this.Ta=b;this.I=new N;this.Ug={Hi:!1}}I("lf.schema.DatabaseSchema",qi,void 0);ia(qi[r],G("D"));ia(qi[r],qi[r][n]);qi[r].version=G("Ta");qi[r].version=qi[r][tb];qi[r].$a=function(){return this.I.f()};qi[r].tables=qi[r].$a;
ha(qi[r],function(a){if(!this.I.B(a))throw new P(101,a);return this.I.get(a)});ha(qi[r],qi[r][k]);qi[r].info=function(){this.pg||(this.pg=new ki(this));return this.pg};qi[r].dl=function(a){this.I.set(a[t](),a)};qi[r].Tg=G("Ug");qi[r].pragma=qi[r].Tg;qi[r].of=Hb("Ug");I("lf.schema.create",function(a,b){return new pi(a,b)},void 0);}.bind(window))()
