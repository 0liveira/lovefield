/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ca=Math,da=window,ea=parseInt,fa=document,e=Array,ga=Error,ha=Function,ia=String;function ja(a,b){return a.table=b}function ka(a,b){return a.name=b}function la(a,b){return a.dump=b}function ma(a,b){return a.clone=b}function na(a,b){return a.exec=b}function oa(a,b){return a.getName=b}function pa(a,b){return a.close=b}function qa(a,b){return a.value=b}function ra(a,b){return a.update=b}function sa(a,b){return a.delete=b}function ta(a,b){return a.onsuccess=b}
function ua(a,b){return a.clear=b}function va(a,b){return a.values=b}function wa(a,b){return a.remove=b}function xa(a,b){return a.child=b}function ya(a,b){return a.next=b}function za(a,b){return a.onerror=b}function Aa(a,b){return a.length=b}function f(a,b){return a.toString=b}function Ba(a,b){return a.bind=b}function Ca(a,b){return a.subscribe=b}function Ea(a,b){return a.forEach=b}function Fa(a,b){return a.getPriority=b}
var Ga="openCursor",Ha="filter",Ia="once",Ja="objectStoreNames",Ka="split",h="table",La="reduce",m="join",Ma="reject",Na="timing",Oa="item",n="slice",Pa="unshift",Qa="target",q="name",r="call",t="prototype",Ra="exec",u="getName",Sa="close",Ta="concat",v="value",Ua="setImmediate",Va="every",Wa="update",Xa="global",Ya="propertyIsEnumerable",Za="delete",$a="sort",ab="indexOf",bb="some",cb="orderByChild",db="clear",eb="values",fb="replace",gb="reverse",hb="continue",ib="addAll",jb="removeChild",x="remove",
kb="child",lb="create",y="push",z="then",mb="transaction",nb="index",ob="context",A="splice",pb="autoIncrement",qb="next",rb="shift",sb="hasOwnProperty",tb="contains",ub="version",vb="objectStore",wb="apply",B="entries",C="length",xb="info",D="toString",yb="compare",E="bind",zb="getParent",Ab="rows",F="forEach",Bb="getPriority",Cb="getTime",Db="resolve",Eb="result",Fb="size";function Gb(){return function(){}}function Hb(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Ib(a){return function(){return a}}var H,Jb=this;function Kb(a){return void 0!==a}function I(a,b,c){a=a[Ka](".");c=c||Jb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[C]&&(d=a[rb]());)!a[C]&&Kb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Lb(){}function Mb(a){a.Ee=function(){return a.pg?a.pg:a.pg=new a}}
function Nb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][D][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Ya]&&!a[Ya]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Ya]&&!a[Ya]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Ob(a){return null===a}function Pb(a){return null!=a}function Qb(a){var b=Nb(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Rb(a){return"string"==typeof a}function Sb(a){return"function"==Nb(a)}function Tb(a){return a[Ub]||(a[Ub]=++Vb)}var Ub="closure_uid_"+(1E9*ca.random()>>>0),Vb=0;function Wb(a,b,c){return a[r][wb](a[E],arguments)}
function Xb(a,b,c){if(!a)throw ga();if(2<arguments[C]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t][Pa][wb](c,d);return a[wb](b,c)}}return function(){return a[wb](b,arguments)}}function J(a,b,c){J=ha[t][E]&&-1!=ha[t][E][D]()[ab]("native code")?Wb:Xb;return J[wb](null,arguments)}function Yb(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[y][wb](b,arguments);return a[wb](this,b)}}
function K(a,b){function c(){}c.prototype=b[t];a.Kb=b[t];a.prototype=new c;a[t].constructor=a;a.ul=function(a,c,k){for(var l=e(arguments[C]-2),p=2;p<arguments[C];p++)l[p-2]=arguments[p];return b[t][c][wb](a,l)}}Ba(ha[t],ha[t][E]||function(a,b){if(1<arguments[C]){var c=e[t][n][r](arguments,1);c[Pa](this,a);return J[wb](null,c)}return J(this,a)});function Zb(a){if(ga.captureStackTrace)ga.captureStackTrace(this,Zb);else{var b=ga().stack;b&&(this.stack=b)}a&&(this.message=ia(a))}K(Zb,ga);ka(Zb[t],"CustomError");function $b(a,b){for(var c=a[Ka]("%s"),d="",g=e[t][n][r](arguments,1);g[C]&&1<c[C];)d+=c[rb]()+g[rb]();return d+c[m]("%s")};function ac(a,b){b[Pa](a);Zb[r](this,$b[wb](null,b));b[rb]()}K(ac,Zb);ka(ac[t],"AssertionError");function bc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new ac(""+g,k||[]);}function L(a,b,c){a||bc("",null,b,e[t][n][r](arguments,2));return a}function cc(a,b){throw new ac("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function dc(a,b,c){Sb(a)||bc("Expected function but got %s: %s.",[Nb(a),a],b,e[t][n][r](arguments,2));return a};function ec(a,b,c){this.lk=c;this.yi=a;this.Vk=b;this.Vd=0;this.Od=null}ec[t].get=function(){var a;0<this.Vd?(this.Vd--,a=this.Od,this.Od=a[qb],ya(a,null)):a=this.yi();return a};ec[t].put=function(a){this.Vk(a);this.Vd<this.lk&&(this.Vd++,ya(a,this.Od),this.Od=a)};var fc=e[t],gc=fc[ab]?function(a,b,c){L(null!=a[C]);return fc[ab][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ca.max(0,a[C]+c):c;if(Rb(a))return Rb(b)&&1==b[C]?a[ab](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},hc=fc[F]?function(a,b,c){L(null!=a[C]);fc[F][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Rb(a)?a[Ka](""):a,k=0;k<d;k++)k in g&&b[r](c,g[k],k,a)},ic=fc.map?function(a,b,c){L(null!=a[C]);return fc.map[r](a,b,c)}:function(a,b,c){for(var d=a[C],g=e(d),k=Rb(a)?a[Ka](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[r](c,k[l],l,a));return g},jc=fc[La]?function(a,b,c,d){L(null!=a[C]);d&&(b=J(b,d));return fc[La][r](a,b,c)}:function(a,b,c,d){var g=c;hc(a,function(c,l){g=b[r](d,g,c,l,a)});return g},kc=fc[bb]?function(a,b,c){L(null!=a[C]);return fc[bb][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Rb(a)?a[Ka](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a))return!0;return!1},lc=fc[Va]?function(a,b,c){L(null!=a[C]);return fc[Va][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Rb(a)?a[Ka](""):a,k=0;k<
d;k++)if(k in g&&!b[r](c,g[k],k,a))return!1;return!0};function mc(a,b){L(null!=a[C]);return 1==fc[A][r](a,b,1)[C]}function nc(a,b,c){a:{for(var d=a[C],g=Rb(a)?a[Ka](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(mc(a,b),!0):!1}function oc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function pc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Qb(d)){var g=a[C]||0,k=d[C]||0;Aa(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[y](d)}}function qc(a,b,c,d){L(null!=a[C]);return fc[A][wb](a,rc(arguments,1))}function rc(a,b,c){L(null!=a[C]);return 2>=arguments[C]?fc[n][r](a,b):fc[n][r](a,b,c)}function sc(a,b,c,d,g){for(var k=0,l=a[C],p;k<l;){var w=k+l>>1,ba;ba=c?b[r](g,a[w],w,a):b(d,a[w]);0<ba?k=w+1:(l=w,p=!ba)}return p?k:~k}function tc(a,b){return a>b?1:a<b?-1:0}
function uc(a,b,c){c=sc(a,c||tc,!1,b);return 0>c?(qc(a,-(c+1),0,b),!0):!1}function vc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function wc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Nb(d))for(var g=0;g<d[C];g+=8192)for(var k=rc(d,g,g+8192),k=wc[wb](null,k),l=0;l<k[C];l++)b[y](k[l]);else b[y](d)}return b};function xc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function yc(a,b,c){for(var d in a)if(b[r](c,a[d],d,a))return!0;return!1}function zc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ac(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Bc;a:{var Cc=Jb.navigator;if(Cc){var Dc=Cc.userAgent;if(Dc){Bc=Dc;break a}}Bc=""};function Ec(a){Jb.setTimeout(function(){throw a;},0)}var Fc;
function Gc(){var a=Jb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof da&&da.postMessage&&da.addEventListener&&-1==Bc[ab]("Presto")&&(a=function(){var a=fa.createElement("IFRAME");a.style.display="none";a.src="";fa.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Sa]();var c="callImmediate"+ca.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Bc[ab]("Trident")&&-1==Bc[ab]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Kb(c[qb])){c=c[qb];var a=c.Ff;c.Ff=null;a()}};return function(a){ya(d,{Ff:a});d=d[qb];b.port2.postMessage(0)}}return"undefined"!==typeof fa&&"onreadystatechange"in fa.createElement("SCRIPT")?function(a){var b=fa.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[jb](b);b=null;a();a=null};fa.documentElement.appendChild(b)}:function(a){Jb.setTimeout(a,0)}};function Hc(){this.he=this.fc=null}var Jc=new ec(function(){return new Ic},function(a){a.reset()},100);Hc[t].add=function(a,b){var c=this.Nj();c.set(a,b);this.he?ya(this.he,c):(L(!this.fc),this.fc=c);this.he=c};wa(Hc[t],function(){var a=null;this.fc&&(a=this.fc,this.fc=this.fc[qb],this.fc||(this.he=null),ya(a,null));return a});Hc[t].Wk=function(a){Jc.put(a)};Hc[t].Nj=function(){return Jc.get()};function Ic(){this.scope=this.ze=null;ya(this,null)}
Ic[t].set=function(a,b){this.ze=a;this.scope=b;ya(this,null)};Ic[t].reset=function(){this.scope=this.ze=null;ya(this,null)};function Kc(a,b){Lc||Mc();Nc||(Lc(),Nc=!0);Oc.add(a,b)}var Lc;function Mc(){if(Jb.Promise&&Jb.Promise[Db]){var a=Jb.Promise[Db]();Lc=function(){a[z](Pc)}}else Lc=function(){var a=Pc;if(!Sb(Jb[Ua])||Jb.Window&&Jb.Window[t]&&Jb.Window[t][Ua]==Jb[Ua])Fc||(Fc=Gc()),Fc(a);else Jb[Ua](a)}}var Nc=!1,Oc=new Hc;[][y](function(){Nc=!1;Oc=new Hc});function Pc(){for(var a=null;a=Oc[x]();){try{a.ze[r](a.scope)}catch(b){Ec(b)}Oc.Wk(a)}Nc=!1};function M(a,b){this.La=0;this.Yg=void 0;this.ud=this.kc=this.D=null;this.Nd=this.ye=!1;if(a!=Lb)try{var c=this;a[r](b,function(a){c.zc(2,a)},function(a){if(!(a instanceof Qc))try{if(a instanceof ga)throw a;throw ga("Promise rejected.");}catch(b){}c.zc(3,a)})}catch(d){this.zc(3,d)}}function Rc(){xa(this,null);this.context=this.vc=this.Vb=null;ya(this,null);this.ke=!1}Rc[t].reset=function(){xa(this,null);this.context=this.vc=this.Vb=null;this.ke=!1};
var Sc=new ec(function(){return new Rc},function(a){a.reset()},100);function Tc(a,b,c){var d=Sc.get();d.Vb=a;d.vc=b;d.context=c;return d}function Uc(a){if(a instanceof M)return a;var b=new M(Lb);b.zc(2,a);return b}function Vc(a){return new M(function(b,c){c(a)})}function Wc(a,b,c){Xc(a,b,c,null)||Kc(Yb(b,a))}function Yc(a){return new M(function(b,c){var d=a[C],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,w;w=a[p];p++)Wc(w,Yb(k,p),l);else b(g)})}
function Zc(){var a,b,c=new M(function(c,g){a=c;b=g});return new $c(c,a,b)}M[t].then=function(a,b,c){null!=a&&dc(a,"opt_onFulfilled should be a function.");null!=b&&dc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.wf(Sb(a)?a:null,Sb(b)?b:null,c)};M[t].then=M[t][z];M[t].$goog_Thenable=!0;H=M[t];
H.il=function(a,b,c){null!=a&&dc(a,"opt_onFulfilled should be a function.");null!=b&&dc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.vf(Tc(a||Lb,b||null,c))};H.lh=function(a,b){return this.wf(null,a,b)};H.vf=function(a){this.Xj()||2!=this.La&&3!=this.La||this.ah();this.Lk(a)};
H.wf=function(a,b,c){var d=Tc(null,null,null);xa(d,new M(function(g,k){d.Vb=a?function(b){try{var d=a[r](c,b);g(d)}catch(w){k(w)}}:g;d.vc=b?function(a){try{var d=b[r](c,a);!Kb(d)&&a instanceof Qc?k(a):g(d)}catch(w){k(w)}}:k}));d[kb].D=this;this.vf(d);return d[kb]};H.ll=function(a){L(1==this.La);this.La=0;this.zc(2,a)};H.ml=function(a){L(1==this.La);this.La=0;this.zc(3,a)};
H.zc=function(a,b){0==this.La&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.La=1,Xc(b,this.ll,this.ml,this)||(this.Yg=b,this.La=a,this.D=null,this.ah(),3!=a||b instanceof Qc||ad(this,b)))};
function Xc(a,b,c,d){if(a instanceof M)return a.il(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[z](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[z];if(Sb(l))return bd(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function bd(a,b,c,d,g){function k(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,k)}catch(w){k(w)}}H.ah=function(){this.ye||(this.ye=!0,Kc(this.Si,this))};H.Xj=function(){return!!this.kc};
H.Lk=function(a){L(null!=a.Vb);this.ud?ya(this.ud,a):this.kc=a;this.ud=a};H.Fk=function(){var a=null;this.kc&&(a=this.kc,this.kc=a[qb],ya(a,null));this.kc||(this.ud=null);null!=a&&L(null!=a.Vb);return a};H.Si=function(){for(var a=null;a=this.Fk();)this.Ri(a,this.La,this.Yg);this.ye=!1};H.Ri=function(a,b,c){3==b&&a.vc&&!a.ke&&this.Tk();if(a[kb])a[kb].D=null,cd(a,b,c);else try{a.ke?a.Vb[r](a[ob]):cd(a,b,c)}catch(d){dd[r](null,d)}Sc.put(a)};
function cd(a,b,c){2==b?a.Vb[r](a[ob],c):a.vc&&a.vc[r](a[ob],c)}H.Bh=Gb();H.Tk=function(){var a;for(a=this;a&&a.Nd;a=a.D)a.Nd=!1};function ad(a,b){a.Nd=!0;Kc(function(){a.Nd&&(a.Bh(b),dd[r](null,b))})}var dd=Ec;function Qc(a){Zb[r](this,a)}K(Qc,Zb);ka(Qc[t],"cancel");function $c(a,b,c){this.ga=a;this.resolve=b;this.reject=c};
function ed(a,b){this.za=a;this.Xb=b||this.Qf()}var fd=0;H=ed[t];H.id=G("za");H.Kh=Hb("za");H.u=G("Xb");H.Qf=function(){return{}};H.mh=G("Xb");H.Ka=function(){return{id:this.za,value:this.mh()}};H.Tb=function(a){return"#"==a.substr(-1)?this.za:null};function gd(a){return new ed(a.id,a[v])}function hd(a){return new ed(fd++,a||{})}function id(a){if(null==a)return"";a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};
function jd(a){this.type=a}function kd(a){ed[r](this,-1,a)}K(kd,ed);
var ld={};I("lf.TransactionType",ld,void 0);ld.READ_ONLY=0;ld.READ_WRITE=1;

function md(a,b){this.Va=a;this.nh=b;this.aa=Zc()}H=md[t];H.wj=G("Va");H.oa=function(){try{this.Va.Xh()}catch(a){return Vc(a)}return(0==this.nh?this.Lc():this.rk())[z](J(function(a){this.Va.oa();return a},this))};H.rk=function(){this.sk();this.qk();return this.Lc()};
H.sk=function(){var a=this.Va.bg();a.L()[F](function(b){var c=this.Va.fa().get(b),c=this.V(c[u](),J(c.oc,c));b=a.get(b);var d=b.Vc().c().map(function(a){return a.id()});0<d[C]&&c[x](d).lh(this.Le,this);b=b.Xc().c().map(function(a){return a[1]})[Ta](b.Uc().c());c.put(b).lh(this.Le,this)},this)};H.qk=function(){this.Va.tj()[F](function(a){var b=this.V(a[u](),gd),c;b.get([-1])[z](function(a){c=a;return b[x]([])})[z](function(){b.put(c);b.put(a.Ka())},J(this.Le,this))},this)};H.Le=function(a){this.aa[Ma](a)};function nd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[C],k=b[C],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var w=0;w<k+1;w++)l[0][w]=0;for(p=1;p<=g;p++)for(w=1;w<=k;w++)c(a[p-1],b[w-1])?l[p][w]=l[p-1][w-1]+1:l[p][w]=ca.max(l[p-1][w],l[p][w-1]);for(var ba=[],p=g,w=k;0<p&&0<w;)c(a[p-1],b[w-1])?(ba[Pa](d(p-1,w-1)),p--,w--):l[p-1][w]>l[p][w-1]?p--:w--;return ba}function od(a){return jc(arguments,function(a,c){return a+c},0)}
function pd(a){return od[wb](null,arguments)/arguments[C]}function qd(a){var b=arguments[C];if(2>b)return 0;var c=pd[wb](null,arguments);return od[wb](null,ic(arguments,function(a){return ca.pow(a-c,2)}))/(b-1)}function rd(a){return ca.sqrt(qd[wb](null,arguments))};var sd="StopIteration"in Jb?Jb.StopIteration:{message:"StopIteration",stack:""};function td(){}ya(td[t],function(){throw sd;});td[t].Ec=function(){return this};function ud(a){if(a instanceof td)return a;if("function"==typeof a.Ec)return a.Ec(!1);if(Qb(a)){var b=0,c=new td;ya(c,function(){for(;;){if(b>=a[C])throw sd;if(b in a)return a[b++];b++}});return c}throw ga("Not implemented");}
function vd(a,b,c){if(Qb(a))try{hc(a,b,c)}catch(d){if(d!==sd)throw d;}else{a=ud(a);try{for(;;)b[r](c,a[qb](),void 0,a)}catch(g){if(g!==sd)throw g;}}}function wd(a){if(kc(arguments,function(a){return!a[C]})||!arguments[C])return new td;var b=new td,c=arguments,d=vc(0,c[C]);ya(b,function(){if(d){for(var a=ic(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){L(d);if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw sd;});return b};function N(a,b){this.g={};this.b=[];this.Sa=this.$=0;var c=arguments[C];if(1<c){if(c%2)throw ga("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[ib](a)}H=N[t];H.pa=G("$");H.c=function(){this.Jc();for(var a=[],b=0;b<this.b[C];b++)a[y](this.g[this.b[b]]);return a};H.L=function(){this.Jc();return this.b[Ta]()};H.A=function(a){return xd(this.g,a)};H.yd=function(a){for(var b=0;b<this.b[C];b++){var c=this.b[b];if(xd(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Qc=function(a,b){if(this===a)return!0;if(this.$!=a.pa())return!1;var c=b||yd;this.Jc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function yd(a,b){return a===b}H.Ha=function(){return 0==this.$};ua(H,function(){this.g={};Aa(this.b,0);this.Sa=this.$=0});wa(H,function(a){return xd(this.g,a)?(delete this.g[a],this.$--,this.Sa++,this.b[C]>2*this.$&&this.Jc(),!0):!1});
H.Jc=function(){if(this.$!=this.b[C]){for(var a=0,b=0;a<this.b[C];){var c=this.b[a];xd(this.g,c)&&(this.b[b++]=c);a++}Aa(this.b,b)}if(this.$!=this.b[C]){for(var d={},b=a=0;a<this.b[C];)c=this.b[a],xd(d,c)||(this.b[b++]=c,d[c]=1),a++;Aa(this.b,b)}};H.get=function(a,b){return xd(this.g,a)?this.g[a]:b};H.set=function(a,b){xd(this.g,a)||(this.$++,this.b[y](a),this.Sa++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.L(),a=a.c()):(b=Ac(a),a=zc(a));for(var c=0;c<b[C];c++)this.set(b[c],a[c])};
Ea(H,function(a,b){for(var c=this.L(),d=0;d<c[C];d++){var g=c[d],k=this.get(g);a[r](b,k,g,this)}});ma(H,function(){return new N(this)});H.Ec=function(a){this.Jc();var b=0,c=this.Sa,d=this,g=new td;ya(g,function(){if(c!=d.Sa)throw ga("The map has changed since the iterator was created");if(b>=d.b[C])throw sd;var g=d.b[b++];return a?g:d.g[g]});return g};function xd(a,b){return aa[t][sb][r](a,b)};
function zd(a){this.Xk=a}f(zd[t],G("Xk"));var Ad=new zd("backstore"),Bd=new zd("cache"),Cd=new zd("indexstore"),Dd=new zd("engine"),Ed=new zd("runner"),Fd=new zd("observerregistry"),Gd=new zd("schema");
function Hd(a){if("function"==typeof a.pa)a=a.pa();else if(Qb(a)||Rb(a))a=a[C];else{var b=0,c;for(c in a)b++;a=b}return a}function Id(a){if("function"==typeof a.c)return a.c();if(Rb(a))return a[Ka]("");if(Qb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[y](a[d]);return b}return zc(a)}
function Jd(a,b,c){if("function"==typeof a[Va])return a[Va](b,c);if(Qb(a)||Rb(a))return lc(a,b,c);var d;if("function"==typeof a.L)d=a.L();else if("function"!=typeof a.c)if(Qb(a)||Rb(a)){d=[];for(var g=a[C],k=0;k<g;k++)d[y](k)}else d=Ac(a);else d=void 0;for(var g=Id(a),k=g[C],l=0;l<k;l++)if(!b[r](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new N;a&&this[ib](a)}function Kd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Tb(a):b.substr(0,1)+a}H=O[t];H.pa=function(){return this.g.pa()};H.add=function(a){this.g.set(Kd(a),a)};H.addAll=function(a){a=Id(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};wa(H,function(a){return this.g[x](Kd(a))});ua(H,function(){this.g[db]()});H.Ha=function(){return this.g.Ha()};H.contains=function(a){return this.g.A(Kd(a))};H.pi=function(a){return Jd(a,this[tb],this)};H.c=function(){return this.g.c()};
ma(H,function(){return new O(this)});H.Qc=function(a){return this.pa()==Hd(a)&&this.ik(a)};H.ik=function(a){var b=Hd(a);if(this.pa()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Jd(this,function(b){var d=a;if("function"==typeof d[tb])b=d[tb](b);else if("function"==typeof d.yd)b=d.yd(b);else if(Qb(d)||Rb(d))b=0<=gc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Ec=function(){return this.g.Ec(!1)};
function Ld(a,b){this.za=a;this.Xb=b||{}}function Md(a){var b=new O;a[F](function(a){b.add(a>>9)});return b.c()}H=Ld[t];H.da=G("za");H.tc=G("Xb");H.fh=function(a){a[F](function(a){this.Xb[a.id()]=a.Ka()},this)};H.Sk=function(a){a[F](function(a){var c=this.Xb;a in c&&delete c[a]},this)};H.Ka=function(){return{id:this.za,value:JSON.stringify(this.Xb)}};function Nd(a){return new Ld(a.id,JSON.parse(a[v]))};

function Od(a,b,c){this.W=a;this.Pb=b;this.Zg=c}H=Od[t];H.get=function(a){return 0==a[C]?this.Ce():this.Aj(a)[z](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Pb(d.tc()[a])},this)},this))};H.Aj=function(a){var b=new N,c=Zc();a=Md(a).map(function(a){return new M(function(c,k){var l;try{l=this.W.get(a)}catch(p){k(p);return}za(l,k);ta(l,J(function(a){a=Nd(a[Qa][Eb]);b.set(a.da(),a);c()},this))},this)},this);Yc(a)[z](function(){c[Db](b)});return c.ga};
H.Ce=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Ga]()}catch(g){b(g);return}za(d,b);ta(d,J(function(){var b=d[Eb];if(b){var g=Nd(b[v]).tc(),p;for(p in g)c[y](this.Pb(g[p]));b[hb]()}else a(c)},this))},this)};H.Yb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}ta(d,b);za(d,c)},this)};
H.put=function(a){if(0==a[C])return Uc();var b=new N;a[F](function(a){var d;d=a.id()>>9;var g=b.get(d,null);null===g&&(g=this.Zg(this.W[q],d));g.fh([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Yb(J(function(){return this.W.put(a.Ka())},this))},this);return Yc(a)};
wa(H,function(a){if(0==a[C])return this.Yb(J(function(){return this.W[db]()},this));var b=new N;a[F](function(a){var d=a>>9,g=b.get(d,null);null===g&&(g=this.Zg(this.W[q],d));g.Sk([a]);b.set(d,g)},this);a=b.c().map(function(a){return this.Yb(J(function(){var b;a:{b=a.tc();for(var g in b){b=!1;break a}b=!0}return b?this.W[Za](a.da()):this.W.put(a.Ka())},this))},this);return Yc(a)});function Pd(a,b,c){a=a.o(Bd);var d=[c<<9,(c+1<<9)-1];b=a.bb(b,d[0],d[1]);c=new Ld(c);c.fh(b);return c}
function Qd(a,b){return new Ld(b)};
function Rd(){};
function Sd(a){this.sa=a.o(Bd);this.H=a.o(Cd);this.s=a.o(Gd)}ra(Sd[t],function(a){a[F](function(a){this.ql(a);this.nl(a)},this)});Sd[t].nl=function(a){var b=a[u]();a.Vc().c()[F](function(a){this.sa[x](b,[a.id()])},this);a.Uc()[F](function(a){this.sa.set(b,[a])},this);a.Xc()[F](function(a){this.sa.set(b,[a[1]])},this)};Sd[t].ql=function(a){var b=this.s[h](a[u]());a.qj()[F](function(a){this.rh(b,a)},this)};
Sd[t].rh=function(a,b){a.Ea().map(function(a){return this.H.get(a.l())},this)[Ta]([this.H.get(a.Qb())])[F](function(a){var d=null===b[1]?null:b[1].Tb(a[u]()),g=null===b[0]?null:b[0].Tb(a[u]());null===g&&null!==d?a.add(d,b[1].id()):null===g||null===d?null!==g&&null===d&&a[x](g,b[0].id()):0!=a.Mc()[yb](g,d)&&(a.add(d,b[1].id()),a[x](g,b[0].id()))})};
var Td={};I("lf.ConstraintAction",Td,void 0);Td.RESTRICT=0;Td.CASCADE=1;var Ud={};I("lf.ConstraintTiming",Ud,void 0);Ud.IMMEDIATE=0;Ud.DEFERRABLE=1;var Vd={};I("lf.Order",Vd,void 0);Vd.DESC=0;Vd.ASC=1;var Wd={};I("lf.Type",Wd,void 0);Wd.ARRAY_BUFFER=0;Wd.BOOLEAN=1;Wd.DATE_TIME=2;Wd.INTEGER=3;Wd.NUMBER=4;Wd.STRING=5;Wd.OBJECT=6;var Xd={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",Xd,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ca.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ia(arguments[c][D]()[n](0,64)))}K(P,ga);

function Yd(a){this.H=a.o(Cd);this.s=a.o(Gd)}H=Yd[t];H.Zi=function(a,b){var c=a.Fb().He();return null===c?null:this.Yi(c,b)};H.Yi=function(a,b){var c=a.l(),d=b.Tb(c),c=this.H.get(c).get(d);return 0==c[C]?null:c[0]};H.se=function(a,b){var c=a.Fb().yj();b[F](function(a){c[F](function(b){if(null==a.u()[b[u]()])throw new P(202,b.l());},this)},this)};H.Kf=function(a,b,c){a.Fb().cg()[F](function(a){a[Na]==c&&this.gi(a,b)},this)};
H.gi=function(a,b){b[F](function(b){if(Zd(b[0],b[1],a[q])){b=b[1].u()[a.nc];var d=this.fg(a);if(null!==b&&!d.A(b))throw new P(203,a[q]);}},this)};H.fg=function(a){var b=this.s[h](a.fb)[a.xc].Ea()[Ha](function(b){return 1==b.h[C]&&b.h[0].ea[u]()==a.xc})[0];return this.H.get(b.l())};function Zd(a,b,c){return(null===a?null!==b:null===b)||a.Tb(c)!=b.Tb(c)}
H.Lf=function(a,b,c){a=this.s[xb]().Gj(a[u]());null!=a&&a[F](function(a){if(a[Na]==c){var g=this.H.get(a[q]);b[F](function(b){var c=this.fg(a);if(Zd(b[0],b[1],c[u]())&&g.A(b[0].u()[a.xc]))throw new P(203,a[q]);},this)}},this)};H.qe=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[null,a]}),this.Kf(a,b,c))};H.re=function(a,b,c){0!=b[C]&&(this.Kf(a,b,c),this.Lf(a,b,c))};H.If=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[a,null]}),this.Lf(a,b,c))};
function ae(a){this.jb=new N;this.Na=new N;this.mb=new N;this.B=a}H=ae[t];oa(H,G("B"));H.Uc=G("jb");H.Xc=G("Na");H.Vc=G("mb");H.add=function(a){if(this.mb.A(a.id())){var b=[this.mb.get(a.id()),a];this.Na.set(a.id(),b);this.mb[x](a.id())}else this.jb.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.jb.A(b)?this.jb.set(b,c):(this.Na.A(b)&&(a=[this.Na.get(a[0].id())[0],c]),this.Na.set(b,a))};
sa(H,function(a){if(this.jb.A(a.id()))this.jb[x](a.id());else if(this.Na.A(a.id())){var b=this.Na.get(a.id())[0];this.Na[x](a.id());this.mb.set(a.id(),b)}else this.mb.set(a.id(),a)});H.qj=function(){var a=[];this.jb.c()[F](function(b){a[y]([null,b])},this);this.Na.c()[F](function(b){a[y](b)},this);this.mb.c()[F](function(b){a[y]([b,null])},this);return a};f(H,function(){return"["+this.jb.L()[D]()+"], ["+this.Na.L()[D]()+"], ["+this.mb.L()[D]()+"]"});
H.Hj=function(){var a=new ae(this.B);this.jb.c()[F](function(b){a[Za](b)},this);this.mb.c()[F](function(b){a.add(b)},this);this.Na.c()[F](function(b){a.modify([b[1],b[0]])},this);return a};H.Ha=function(){return this.jb.Ha()&&this.mb.Ha()&&this.Na.Ha()};
function be(a,b){this.ra=new N;b[F](function(a){this.ra.set(a[u](),a)},this);this.sa=a.o(Bd);this.H=a.o(Cd);this.Ta=new Yd(a);this.Pd=new Sd(a);this.$e=this.fe=!1;this.Cb=new N}H=be[t];H.bg=G("Cb");H.tj=function(){var a=[];this.Cb.L().map(function(a){return this.ra.get(a)},this)[F](function(b){b.Zb()&&(b.Ea()[F](function(b){a[y](this.H.get(b.l()))},this),a[y](this.H.get(b[u]()+".#")))},this);return a};H.fa=G("ra");
H.uj=function(){var a=[];this.ra.c()[F](function(b){b.Zb()&&(b.Ea()[F](function(b){a[y](b.l())}),a[y](b[u]()+".#"))});return a};H.zb=function(a,b){this.Ic();this.vd(a);this.Ta.se(a,b);this.Ta.qe(a,b,0);for(var c=0;c<b[C];c++)this.Qd(a,[null,b[c]])};
H.Qd=function(a,b){var c=a[u](),d=this.Cb.get(c,null)||new ae(c);this.Cb.set(c,d);try{this.Pd.rh(a,b)}catch(g){throw this.$e=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.sa.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.sa.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.sa[x](c,[k.id()]),d[Za](k))};ra(H,function(a,b){this.Ic();this.vd(a);this.Ta.se(a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.sa.get([d.id()])[0],d];this.Ta.re(a,[d],0);this.Qd(a,d)}});
H.Ne=function(a,b){this.Ic();this.vd(a);this.Ta.se(a,b);for(var c=0;c<b[C];c++){var d=b[c],g=null,k=this.Ta.Zi(a,d);null!=k?(g=this.sa.get([k])[0],d.Kh(k),this.Ta.re(a,[[g,d]],0)):this.Ta.qe(a,[d],0);this.Qd(a,[g,d])}};wa(H,function(a,b){this.Ic();this.vd(a);this.Ta.If(a,b,0);for(var c=0;c<b[C];c++)this.Qd(a,[b[c],null])});H.Xh=function(){this.Cb.c()[F](function(a){var b=this.ra.get(a[u]());this.Ta.qe(b,a.Uc().c(),1);this.Ta.If(b,a.Vc().c(),1);this.Ta.re(b,a.Xc().c(),1)},this)};
H.oa=function(){this.Ic();this.fe=!0};H.Ic=function(){L(!this.$e,"Attemptted to use journal that needs to be rolled back.");L(!this.fe,"Attemptted to commit a terminated journal.")};H.Ib=function(){L(!this.fe,"Attempted to rollback a terminated journal.");var a=this.Cb.c().map(function(a){return a.Hj()},this);this.Pd[Wa](a);this.fe=!0;this.$e=!1};H.vd=function(a){if(!this.ra.A(a[u]()))throw new P(106,a[u]());};
function ce(a,b,c,d){this.f=a;this.w=b;this.Y=null===this.f?!1:c;this.ba=null===this.w?!1:d}H=ce[t];f(H,function(){return(this.Y?"(":"[")+(null===this.f?"unbound":this.f)+", "+(null===this.w?"unbound":this.w)+(this.ba?")":"]")});H.li=function(){if(null===this.f&&null===this.w)return[];var a=null,b=null;null===this.f||(a=new ce(null,this.f,!1,!this.Y));null===this.w||(b=new ce(this.w,null,!this.ba,!1));return[a,b][Ha](function(a){return null!==a})};
H.reverse=function(){return new ce(this.w,this.f,this.ba,this.Y)};H.Mg=function(a){var b=de(this.f,a.f,!0,this.Y,a.Y);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.w||c.w>a.f||c.w==a.f&&!c.ba&&!a.Y};function ee(){return new ce(null,null,!1,!1)}H.hk=function(){return null!=this.f&&this.f==this.w&&!this.Y&&!this.ba};H.contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.ba;return(null===this.f||a>this.f||a==this.f&&!this.Y)&&b};
H.Qc=function(a){return this.f==a.f&&this.Y==a.Y&&this.w==a.w&&this.ba==a.ba};function de(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function fe(a,b){var c=de(a.f,b.f,!0,a.Y,b.Y);0==c&&(c=de(a.w,b.w,!1,a.ba,b.ba));return c};
function ge(a,b){this.entries=a;this.G=new O(b);this.Mb=null}H=ge[t];H.ek=function(a){return this.G.Qc(a.G)};function he(a,b){L(a.ek(b),"Intersection/union operations only apply to compatible relations.")}H.X=function(){return this.G.c()};H.Qe=function(){return 1<this.G.pa()};H.Fe=function(){return this[B].map(function(a){return a.xa.u()})};H.Jj=function(){return this[B].map(function(a){return a.xa.id()})};H.Yk=function(a,b){null===this.Mb&&(this.Mb=new N);this.Mb.set(a.l(),b)};
H.sc=function(a){L(null!==this.Mb,"getAggregationResult called before any results have been calculated.");var b=this.Mb.get(a.l(),void 0);L(Kb(b),"Could not find result for "+a.l());return b};H.Vj=function(a){return null!==this.Mb&&this.Mb.A(a.l())};var ie=null;function je(){null===ie&&(ie=new ge([],[]));return ie}
function ke(a){if(0==a[C])return je();for(var b=a[La](function(b,c){he(a[0],c);return b+c[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,k=0;k<c[C];k++)b[Va](function(a){return a.A(c[k].id)})&&g.set(c[k].id,c[k]);return new ge(g.c(),a[0].G.c())}function le(a){if(0==a[C])return je();var b=new N;a[F](function(c){he(a[0],c);c[B][F](function(a){b.set(a.id,a)})});return new ge(b.c(),a[0].G.c())}
function me(a,b){var c=1<b[C],d=a.map(function(a){return new ne(a,c)});return new ge(d,b)}function ne(a,b){this.xa=a;this.id=oe++;this.Re=b}var oe=0;ne[t].U=function(a){var b=a.ab();return null!==b&&this.xa.u()[sb](b)?this.xa.u()[b]:this.Re?this.xa.u()[a.V().ta()][a[u]()]:this.xa.u()[a[u]()]};ne[t].kf=function(a,b){var c=a.ab();if(null!=c)this.xa.u()[c]=b;else if(this.Re){var c=a.V().ta(),d=this.xa.u()[c];null==d&&(d={},this.xa.u()[c]=d);d[a[u]()]=b}else this.xa.u()[a[u]()]=b};
function pe(a,b,c,d){function g(a,b){if(a.Re){var c=a.xa.u(),d;for(d in c)k[d]=c[d]}else L(!k[sb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.xa.u()}var k={};g(a,b);g(c,d);a=new ed(-1,k);return new ne(a,!0)};
I("lf.bind",function(a){return new qe(a)},void 0);function qe(a){this.qa=a}I("lf.Binder",qe,void 0);qe[t].wb=G("qa");
function re(){var a=se();this.Ji=new N(1,te(),2,ue(),4,a,3,a,5,ve())}Mb(re);re[t].De=function(a,b){var c=this.Ji.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function se(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[ab](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function ve(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[ab](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function ue(){return new N("between",function(a,b){return a[Cb]()>=b[0][Cb]()&&a[Cb]()<=b[1][Cb]()},"eq",function(a,b){return(null===a?-1:a[Cb]())==(null===b?-1:b[Cb]())},"gte",function(a,b){return a[Cb]()>=b[Cb]()},"gt",function(a,b){return a[Cb]()>b[Cb]()},"in",function(a,b){return b[bb](function(b){return b[Cb]()==a[Cb]()})},"lte",function(a,b){return a[Cb]()<=b[Cb]()},"lt",function(a,b){return a[Cb]()<b[Cb]()},"neq",function(a,b){return(null===a?-1:a[Cb]())!=(null===b?-1:b[Cb]())})}
function te(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function we(a,b){this.Ag=a;this.sh=b}we[t].getKey=G("Ag");we[t].Oj=G("sh");ma(we[t],function(){return new we(this.Ag,this.sh)});function xe(a,b){we[r](this,a,b);this.i=this.D=null}K(xe,we);var ye=[];H=xe[t];ma(H,function(){return new xe(this.getKey(),this.Oj())});H.getParent=G("D");H.sg=function(){return!this.ya()};H.ca=function(){return this.i||ye};H.ub=function(a){return this.ca()[a]||null};H.ya=function(){return this.ca()[C]};H.sj=function(){for(var a=0,b=this;b[zb]();)a++,b=b[zb]();return a};H.nb=function(){for(var a=this;a[zb]();)a=a[zb]();return a};H.contains=function(a){do a=a[zb]();while(a&&a!=this);return Boolean(a)};
H.Cc=function(a,b){if(!1!==a[r](b,this))for(var c=this.ca(),d=0;d<c[C];d++)c[d].Cc(a,b)};H.dh=Hb("D");H.ja=function(a){this.Fc(a,this.i?this.i[C]:0)};H.Fc=function(a,b){L(!a[zb]());a.dh(this);this.i=this.i||[];L(0<=b&&b<=this.i[C]);qc(this.i,b,0,a)};H.ae=function(a){var b=this.i&&this.i[a];return b?(b.dh(null),mc(this.i,a),0==this.i[C]&&(this.i=null),b):null};H.removeChild=function(a){return this.ae(gc(this.ca(),a))};

function ze(){xe[r](this,"","");this.za=Ae++}K(ze,xe);var Ae=0;ze[t].da=G("za");ze[t].lf=Hb("za");
function Be(a,b,c){ze[r](this);this.J=a;qa(this,b);this.K=c;this.Bd=re.Ee().De(this.J.Z(),this.K);this.cb=!1;this.jc=b}K(Be,ze);H=Be[t];H.Nb=function(){var a=new Be(this.J,this[v],this.K);a.Zk(this.jc);a.de(this.cb);a.lf(this.da());return a};H.vb=function(a){return null!=a?(a[y](this.J),a):[this.J]};H.de=Hb("cb");H.Zk=Hb("jc");H.Gf=function(){var a=!1;this[v]instanceof qe||(a="array"==Nb(this[v])?!this[v][bb](function(a){return a instanceof qe}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Gf();if("in"==this.K)return this.Fi(a);var b=a[B][Ha](function(a){return this.Bd(a.U(this.J),this[v])!=this.cb},this);return new ge(b,a.X())};Ba(H,function(a){if(this.jc instanceof qe){var b=this.jc.wb();if(a[C]<=b)throw new P(510);qa(this,a[b])}else"array"==Nb(this.jc)&&qa(this,this.jc.map(function(b){if(b instanceof qe){if(a[C]<=b.wb())throw new P(510);return a[b.wb()]}return b}))});
H.Fi=function(a){L("in"==this.K,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[v]),c=J(function(a){return b[tb](a)!=this.cb},this),d=a[B][Ha](function(a){return c(a.U(this.J))},this);return new ge(d,a.X())};f(H,function(){return"value_pred("+this.J.l()+" "+this.K+(this.cb?"(complement)":"")+" "+this[v]+")"});H.rg=function(){this.Gf();return null!==this[v]&&("between"==this.K||"eq"==this.K||"gt"==this.K||"gte"==this.K||"lt"==this.K||"lte"==this.K)};
H.jl=function(){L(this.rg(),"Could not convert predicate to key range.");var a=null;"between"==this.K?a=new ce(this[v][0],this[v][1],!1,!1):"eq"==this.K?(a=this[v],a=new ce(a,a,!1,!1)):a="gte"==this.K?new ce(this[v],null,!1,!1):"gt"==this.K?new ce(this[v],null,!0,!1):"lte"==this.K?new ce(null,this[v],!1,!1):new ce(null,this[v],!1,!0);return this.cb?a.li():[a]};
function Ce(a){this.ea=a;this.Kc=this.va=null}Ce[t].Jd=function(a){null===this.va&&null!=this.C&&(this.va=De(this.C));a=this.va.get(a,null);L(null!==a);return a};function De(a){var b=new N;a.Cc(function(a){b.set(a.da(),a)});return b}Ce[t].wd=function(a){a.C&&(this.C=a.C.Nb());this.Kc=a};Ba(Ce[t],function(){L(null==this.Kc);return this});Ce[t].ne=function(a){var b=this.C;null!=b&&b.Cc(function(b){b instanceof Be&&b[E](a)})};
function Ee(a){Ce[r](this,a)}K(Ee,Ce);function Fe(a){var b="";a[F](function(c,d){b+=c.J.l()+" ";b+=1==c.pb?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}Ee[t].fa=function(){return new O(this.f)};ma(Ee[t],function(){var a=new Ee(this.ea);a.wd(this);this.h&&(a.h=this.h[n]());this.f&&(a.f=this.f[n]());a.na=this.na;a.ia=this.ia;this.M&&(a.M=this.M[n]());this.la&&(a.la=this.la[n]());this.Ub&&(a.Ub=this.Ub);this.ec&&(a.ec=this.ec);a.wc=this.wc;return a});
Ba(Ee[t],function(a){Ee.Kb[E][r](this,a);null!=this.Ub&&(this.na=a[this.Ub.wb()]);null!=this.ec&&(this.ia=a[this.ec.wb()]);this.ne(a);return this});
function Ge(a,b){this.Ca=a;this.ra=b}Ge[t].nb=G("Ca");Ge[t].Wf=Ib("plan description");Ge[t].fa=G("ra");function He(a){var b=new O;a[F](function(a){b[ib](a.fa())});return b};

function Ie(a,b){this.global=a;this.Db=a.o(Ad);this.Zd=b.map(function(a){return a[ob]});this.Pg=b.map(function(a){return a.af});this.Nf=He(this.Pg);this.oh=this.Bi();this.ac=Zc()}H=Ie[t];H.Bi=function(){return this.Zd[bb](function(a){return!(a instanceof Ee)})?1:0};
na(H,function(){var a=new be(this[Xa],this.Nf.c()),b=[],c=this.Pg[n](),d=J(function(){var g=c[rb]();if(g){var k=this.Zd[b[C]];return g.nb()[Ra](a,k)[z](function(a){b[y](a[0]);return d()})}return Uc()},this);return d()[z](J(function(){return this.Db.Ob(this.oh,a).oa()},this))[z](J(function(){this.Ye(b);return b},this),J(function(b){a.Ib();throw b;},this))});H.Z=G("oh");H.fa=G("Nf");H.Yc=G("ac");H.da=function(){return Tb(this)};H.Ye=Gb();
function Je(a,b){Ie[r](this,a,b);this.Gb=a.o(Fd)}K(Je,Ie);Fa(Je[t],Ib(0));Je[t].Ye=function(a){this.Zd[F](function(b,c){this.Gb.qh(b,a[c])},this)};
function Ke(a,b){this.m=a;this.Gb=a.o(Fd);this.Ya=a.o(Ed);this.Pd=new Sd(a);this.Cb=b;var c=a.o(Gd),d=this.Cb.map(function(a){return c[h](a[u]())});this.ra=new O(d);this.ac=Zc()}H=Ke[t];na(H,function(){this.Pd[Wa](this.Cb);this.kd();return Uc()});H.Z=Ib(1);H.fa=G("ra");H.Yc=G("ac");H.da=function(){return Tb(this)};Fa(H,Ib(1));H.kd=function(){var a=this.Gb.Ke(this.ra.c());0!=a[C]&&(a=new Je(this.m,a),this.Ya.bc(a))};
function Le(a){this.m=a;this.Db=a.o(Ad);this.Ya=a.o(Ed)}Le[t].fl=function(){this.Db.subscribe(this.We[E](this))};Le[t].We=function(a){a=new Ke(this.m,a);this.Ya.bc(a)};


function Q(a,b){this.Sa=a;this.j=b;this.ib=new N}I("lf.backstore.FirebaseRawBackStore",Q,void 0);H=Q[t];H.Kd=G("j");H.Ld=function(){throw new P(351);};function Me(a,b){var c=Zc(),d=a;b[C]&&(d=a[kb](b));d[Ia]("value",function(a){c[Db](a.val())},function(a){c[Ma](a)});return c.ga}function Ne(a,b,c){function d(a){a?g[Ma](a):g[Db]()}c=c||!1;var g=Zc();c?a.set(b,d):a[Wa](b,d);return g.ga}
H.Fa=function(a){return Me(this.j,"@rev/R")[z](function(a){this.Xa=a;return Me(this.j,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.ib.set(d,b[d]),b[d]>c&&(c=b[d]);a.Za()[F](function(a){this.ib.A(a[u]())||(b[a[u]()]=++c)},this);d=this.j[kb]("@table");return Ne(d,b)}[E](this))};
H.ge=function(a,b){var c=this.ib.get(a);return null!=c?function(){var a={},g=Zc();this.j[cb]("T").equalTo(c)[Ia]("value",function(c){c[F](function(c){var g=b(c.val());a[ea(c.key(),10)]=g});g[Db](a)});return g.ga}[r](this)[z](function(a){a["@rev"]={R:++this.Xa};return Ne(this.j,a)}[E](this)):Uc()};H.Oc=function(a){return this.ge(a,Ib(null))[z](function(){this.ib[x](a);return Ne(this.j[kb]("@table/"+a),null,!0)}[E](this))};Q[t].dropTable=Q[t].Oc;
Q[t].Gc=function(a,b,c){return this.ge(a,function(a){var g=a.P;g[b]=c;return{R:this.Xa+1,T:a.T,P:g}}[E](this))};Q[t].addTableColumn=Q[t].Gc;Q[t].Pc=function(a,b){return this.ge(a,function(a){var d=a.P;delete d[b];return{R:this.Xa+1,T:a.T,P:d}}[E](this))};Q[t].dropTableColumn=Q[t].Pc;Q[t].jd=function(a,b,c){return this.ge(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Xa+1,T:a.T,P:g}}[E](this))};Q[t].renameTableColumn=Q[t].jd;Q[t].Eb=function(){throw new P(351);};Q[t].createRow=Q[t].Eb;
Q[t].ad=G("Sa");Q[t].getVersion=Q[t].ad;Q[t].pc=function(a){var b=Zc();a=this.ib.get(a);this.j[cb]("T").equalTo(a)[Ia]("value",function(a){var d=[];a[F](function(a){d[y](a.val().P)});b[Db](d)});return b.ga};la(Q[t],function(){var a={},b=this.ib.L().map(function(b){return this.pc(b)[z](function(d){a[b]=d})}[E](this));return Yc(b)[z](function(){return a})});la(Q[t],Q[t].dump);
function Oe(a,b,c){md[r](this,c,b);this.j=a}K(Oe,md);Oe[t].V=function(a){return this.j.Zc(a)};
Oe[t].Lc=function(){var a=this.wj().bg();if(0==a.pa())this.aa[Db]();else{var b=this.j.Ij()+1;this.j.eh(b);var c={"@rev":{R:b}};a[F](function(a){var g=this.j.ig(a[u]());a.Uc()[F](function(a,d){c[d]={R:b,T:g,P:a.u()}});a.Xc()[F](function(a,d){c[d]={R:b,T:g,P:a[1].u()}});a.Vc()[F](function(a,b){c[b]=null})},this);this.j.Fj()[Wa](c,function(c){if(null===c)this.aa[Db]();else this.j.eh(b-1),c=a.c().map(function(a){return this.j.Ug(a[u]())},this),Yc(c)[z](this.aa[Ma][E](this.aa),this.aa[Ma][E](this.aa))}[E](this))}return this.aa.ga};
function Pe(){this.tb=new N}H=Pe[t];H.Je=function(a){if(0==a[C])return this.tb.c();var b=[];a[F](function(a){a=this.tb.get(a,null);null===a||b[y](a)},this);return b};H.getData=G("tb");H.get=function(a){return Uc(this.Je(a))};H.bf=function(a){a[F](function(a){this.tb.set(a.id(),a)},this)};H.put=function(a){this.bf(a);return Uc()};H.Vg=function(a){0==a[C]||a[C]==this.tb.pa()?this.tb[db]():a[F](function(a){this.tb[x](a)},this)};wa(H,function(a){this.Vg(a);return Uc()});
H.xj=function(){return this.tb.Ha()?0:this.tb.L()[La](function(a,b){return a>b?a:b},0)};
function Qe(a,b){this.s=a;this.Ah=b;this.hd=new N;this.Xa=-1;this.G=new N;this.ib=new N;this.oe=null}H=Qe[t];H.Ij=G("Xa");H.eh=Hb("Xa");
H.Fa=function(a){this.j=this.Ah[kb](this.s[q]());var b=a||function(){return Uc()};return Me(this.j,"@db/version")[z](function(a){return null===a?Ne(this.j,this.ri(),!0)[z](function(){var a=new Q(0,this.j);return b(a)}[E](this)):a==this.s[ub]()?Me(this.j,"@rev/R")[z](function(a){this.Xa=a;return Me(this.j,"@table")}[E](this))[z](function(a){for(var b in a)this.ib.set(b,a[b]);a=this.s.Za().map(function(a){return this.Ug(a[u]())},this);return Yc(a)}[E](this))[z](function(){this.$j();this.Eg();return Uc()}[E](this)):
this.Ze(a,b)[z](function(){return this.Fa()}[E](this))}[E](this))};H.Ze=function(a,b){var c=new Q(a,this.j);return c.Fa(this.s)[z](function(){return this.pl()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.j[kb]("@db");return Ne(a,{version:this.s[ub]()},!0)}[E](this))};H.pl=function(){return Uc()};H.Eg=function(){this.j.off();this.j.on("child_removed",this.yk[E](this));this.pe&&(this.pe.off(),this.hd[db]());this.pe=this.j[cb]("R").startAt(this.Xa+1);this.pe.on("value",this.We[E](this))};
H.$j=function(){fd=this.G.c().map(function(a){return a.xj()})[La](function(a,b){return a>b?a:b},0)+1};H.yk=function(a){var b=a.val(),c=this.hd.get(b.T,null);null===c&&(c=new O,this.hd.set(b.T,c));c.add(ea(a.key(),10))};H.We=function(a){var b=a[kb]("@rev/R").val();null!=b&&b!=this.Xa&&(this.Xa=b,a=this.ej(a),a[F](function(a){var b=this.G.get(a[u]()),g=a.Vc().L();g[C]&&b.Vg(g);var k=a.Uc().c();a.Xc()[F](function(a){k[y](a[1])});b.bf(k)},this),a[C]&&this.fd(a),this.Eg())};
H.ej=function(a){var b=new O,c=new N;this.ib[F](function(a,g){var k=this.G.get(g),l=new ae(g);if(this.hd.A(a)){var p=this.hd.get(a).c();b[ib](p);k.Je(p)[F](function(a){l[Za](a)})}c.set(a,l)}[E](this));a[F](function(a){if("@rev"!=a.key()){var g=ea(a.key(),10);if(!b[tb](g)){a=a.val();var k=c.get(a.T),l=this.G.get(k[u]());l.getData().A(g)?k.modify([l.Je([g])[0],new ed(g,a.P)]):k.add(new ed(g,a.P))}}}[E](this));return c.c()[Ha](function(a){return!a.Ha()})};
H.Ug=function(a){var b=Zc(),c=this.ig(a);this.j[cb]("T").equalTo(c)[Ia]("value",function(c){var g=new Pe,k=[];c[F](function(a){k[y](new ed(ea(a.key(),10),a.val().P))});g.bf(k);this.G.set(a,g);b[Db]()}[E](this));return b.ga};H.ig=function(a){return this.ib.get(a)};H.ri=function(){var a={};a["@db"]={version:this.s[ub]()};a["@rev"]={R:1};this.Xa=1;a["@table"]={};this.s.Za()[F](function(b,c){var d=b[u]();a["@table"][d]=c;this.G.set(d,new Pe);this.ib.set(d,c)},this);return a};
H.Ob=function(a,b){return new Oe(this,a,b)};H.Zc=function(a){var b=this.G.get(a,null);if(null!==b)return b;throw new P(101,a);};H.Fj=G("j");pa(H,Gb());Ca(H,Hb("oe"));H.fd=function(a){null!=this.oe&&this.oe(a)};
function R(a,b,c,d){this.j=b;this.Ra=c;this.Sa=a;this.sd=d}I("lf.backstore.IndexedDBRawBackStore",R,void 0);R[t].Kd=G("j");R[t].getRawDBInstance=R[t].Kd;R[t].Ld=G("Ra");R[t].getRawTransaction=R[t].Ld;R[t].Oc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};R[t].dropTable=R[t].Oc;
R[t].Ck=function(a,b,c){return new M(function(d,g){var k;try{var l=this.Ra[vb](a);k=l[Ga]()}catch(p){g(p);return}ta(k,function(){var a=k[Eb];a?(b(a),a[hb]()):(c(l),d())});za(k,g)},this)};function Re(a){var b=null;return b=a instanceof ArrayBuffer?id(a):a instanceof Date?a[Cb]():a}R[t].pf=function(a,b){function c(a){var c=Nd(a[v]),d=c.tc(),p;for(p in d){var w=gd(d[p]);b(w);d[p]=w.Ka()}a[Wa](c.Ka())}function d(a){var c=gd(a[v]);b(c);a[Wa](c.Ka())}return this.Ck(a,this.sd?c:d,Gb())};
R[t].Gc=function(a,b,c){var d=Re(c);return this.pf(a,function(a){a.u()[b]=d})};R[t].addTableColumn=R[t].Gc;R[t].Pc=function(a,b){return this.pf(a,function(a){delete a.u()[b]})};R[t].dropTableColumn=R[t].Pc;R[t].jd=function(a,b,c){return this.pf(a,function(a){a.u()[c]=a.u()[b];delete a.u()[b]})};R[t].renameTableColumn=R[t].jd;
R[t].Mj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Ra[vb](a)[Ga]()}catch(k){d(k);return}ta(g,J(function(){var a=g[Eb];if(a){if(this.sd){var d=Nd(a[v]).tc(),k;for(k in d)b[y](d[k])}else b[y](a[v]);a[hb]()}else c(b)},this));za(g,d)},this)};R[t].Eb=function(a){var b={};xc(a,J(function(a,d){b[d]=Re(a)},this));return hd(b)};R[t].createRow=R[t].Eb;R[t].ad=G("Sa");R[t].getVersion=R[t].ad;
la(R[t],function(){for(var a=this.j[Ja],b=[],c=0;c<a[C];++c){var d=a[Oa](c);b[y](this.pc(d))}return Yc(b)[z](function(b){var c={};b[F](function(b,d){c[a[Oa](d)]=b});return c})});la(R[t],R[t].dump);R[t].pc=function(a){return this.Mj(a)[z](function(a){return a.map(function(a){return a[v]})})};
function Se(a,b){this.W=a;this.Pb=b}H=Se[t];H.get=function(a){if(0==a[C])return this.Ce();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.W.get(a)}catch(k){d(k);return}za(g,d);ta(g,J(function(a){c(this.Pb(a[Qa][Eb]))},this))},this)},this);return Yc(a)};H.Ce=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Ga]()}catch(g){b(g);return}za(d,b);ta(d,J(function(){var b=d[Eb];b?(c[y](this.Pb(b[v])),b[hb]()):a(c)},this))},this)};
H.Yb=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}ta(d,b);za(d,c)},this)};H.put=function(a){if(0==a[C])return Uc();a=a.map(function(a){return this.Yb(J(function(){return this.W.put(a.Ka())},this))},this);return Yc(a)};
wa(H,function(a){return new M(function(b,c){var d=this.W.count();ta(d,J(function(d){if(0==a[C]||d[Qa][Eb]==a[C])return this.Yb(J(function(){return this.W[db]()},this))[z](b,c);d=a.map(function(a){return this.Yb(J(function(){return this.W[Za](a)},this))},this);Yc(d)[z](b,c)},this));za(d,c)},this)});
function Te(a,b,c,d,g){md[r](this,c,d);this.m=a;this.Ra=b;this.sd=g;this.Ra.oncomplete=J(this.aa[Db],this.aa);this.Ra.onabort=J(this.aa[Ma],this.aa)}K(Te,md);Te[t].V=function(a,b,c){return this.sd?(c=null!=c?c:0,a=this.Ra[vb](a),new Od(a,b,0==c?Yb(Pd,this.m):Qd)):new Se(this.Ra[vb](a),b)};Te[t].Lc=function(){return this.aa.ga};
function Ue(a,b){this.m=a;this.s=b;this.td=b.Qg().Di||!1}H=Ue[t];H.Fa=function(a){var b=da.indexedDB||da.mozIndexedDB||da.webkitIndexedDB||da.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Uc()};return new M(function(a,g){var k;try{k=b.open(this.s[q](),this.s[ub]())}catch(l){g(l);return}za(k,g);k.onupgradeneeded=J(function(a){this.Bk(c,a)[z](Gb(),g)},this);ta(k,J(function(b){this.j=b[Qa][Eb];this.jf()[z](J(function(b){fd=b+1;a(this.j)},this))},this))},this)};
H.Bk=function(a,b){var c=b[Qa][Eb],d=b[Qa][mb],g=new R(b.oldVersion,c,d,this.td);this.Rk(c,d);this.wi(c,d);return a(g)};H.Rk=function(a){for(var b=[],c=0;c<a[Ja][C];++c){var d=a[Ja][Oa](c);-1!=d[ab](".")&&b[y](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.wi=function(a,b){this.s.Za()[F](Yb(this.ti,a,b),this)};H.ti=function(a,b,c){a[Ja][tb](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Zb()&&(c.Ea()[F](function(c){this.Nc(a,b,c.l(),"btree")},this),this.Nc(a,b,c.Qb(),"rowid"))};
H.Nc=function(a,b,c,d){a[Ja][tb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[vb](c),(this.td?new Od(a,gd,Qd):new Se(a,gd)).put([new kd(new jd(d))]))};H.Ob=function(a,b){var c=b.fa().c().map(function(a){return a[u]()});b.uj()[F](function(a){c[y](a)});var d=this.j[mb](c,0==a?"readonly":"readwrite");return new Te(this.m,d,b,a,this.td)};
H.jf=function(a){function b(){if(0==c[C])return Uc();var a=c[rb]();return l(a)[z](b)}var c=this.s.Za().map(function(a){return a[u]()}),d=this.j,g=0,k=J(function(a){return this.td?(a=Nd(a[v]),Ac(a.tc())[La](function(a,b){return ca.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var Da;try{Da=(a||d[mb]([b]))[vb](b)[Ga](null,"prev")}catch($d){l($d);return}ta(Da,function(a){(a=a[Qa][Eb])&&(g=ca.max(g,k(a)));c(g)});za(Da,function(){c(g)})},this)},this);return new M(function(a){b()[z](function(){a(g)})})};
pa(H,function(){this.j[Sa]()});H.Zc=function(){throw new P(511);};Ca(H,Gb());H.fd=Gb();



function Ve(a,b,c){md[r](this,c,b);this.W=a;0==b&&this.aa[Db]()}K(Ve,md);Ve[t].V=function(a){return this.W.Zc(a)};Ve[t].Lc=function(){this.aa[Db]();return this.aa.ga};
function We(a){this.s=a;this.G=new N}H=We[t];H.Fa=function(){this.s.Za()[F](this.ak,this);return Uc()};H.Zc=function(a){var b=this.G.get(a,null);if(null===b)throw new P(101,a);return b};H.Ob=function(a,b){return new Ve(this,a,b)};H.Of=function(a){if(!this.G.A(a)){var b=new Pe;this.G.set(a,b);return b}return null};H.ak=function(a){this.Of(a[u]());a.Zb()&&(a.Ea()[F](function(a){this.Nc(a.l(),"btree")},this),this.Nc(a.Qb(),"rowid"))};H.Nc=function(a,b){var c=this.Of(a);null===c||c.put([new kd(new jd(b))])};
pa(H,Gb());Ca(H,Gb());H.fd=Gb();
function Xe(a){We[r](this,a);this.Ud=null}K(Xe,We);Ca(Xe[t],function(a){null===this.Ud&&(this.Ud=a)});Xe[t].fd=function(a){null===this.Ud||this.Ud(a)};
function Ye(a,b,c){this.Ra=a;this.B=b;this.Pb=c}Ye[t].get=function(a){var b=this.Pb;this.Ra.Pa("SELECT id, value FROM "+this.B+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Ab][C],g=e(d),k=0;k<d;++k)g[k]=b({id:a[Ab][Oa](k).id,value:JSON.parse(a[Ab][Oa](k)[v])});return g});return this.Ra.oa()};
Ye[t].put=function(a){if(0==a[C])return Uc();var b="INSERT OR REPLACE INTO "+this.B+"(id, value) VALUES (?, ?)";a[F](function(a){this.Ra.Pa(b,[a.id(),JSON.stringify(a.u())])},this);return Uc()};wa(Ye[t],function(a){this.Ra.Pa("DELETE FROM "+this.B+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Uc()});
function Ze(a,b,c){md[r](this,b,c);this.j=a;this.G=new N;this.ve=[]}K(Ze,md);Ze[t].V=function(a,b){var c=this.G.get(a,null);null===c&&(c=new Ye(this,a,b),this.G.set(a,c));return c};Ze[t].Pa=function(a,b,c){this.ve[y]({gl:a,Dk:b,transform:c})};
Ze[t].Lc=function(){var a,b,c=this.aa[Ma][E](this.aa),d=function(a,b){this.aa[Ma](b)}[E](this),g=J(function(c,l){a=l;if(this.ve[C]){var p=this.ve[rb]();b=p.transform;c.executeSql(p.gl,p.Dk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.aa[Db](p)},this);0==this.nh?this.j.readTransaction(g,c):this.j[mb](g,c);return this.aa.ga};
function S(a,b,c){this.j=c;this.m=a;this.Sa=b}I("lf.backstore.WebSqlRawBackStore",S,void 0);S[t].Kd=G("j");S[t].getRawDBInstance=S[t].Kd;S[t].Ld=function(){throw new P(356);};S[t].getRawTransaction=S[t].Ld;S[t].Ad=function(){return new Ze(this.j,new be(this.m,[]),1)};S[t].Oc=function(a){var b=this.Ad();b.Pa("DROP TABLE "+a,[]);return b.oa()};S[t].dropTable=S[t].Oc;
S[t].pc=function(a){var b=this.Ad();b.Pa("SELECT id, value FROM "+a,[]);return b.oa()[z](function(a){for(var b=a[Ab][C],g=e(b),k=0;k<b;++k)g[k]={id:a[Ab][Oa](k).id,value:JSON.parse(a[Ab][Oa](k)[v])};return Uc(g)})};S[t].of=function(a,b){var c=this.Ad(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.pc(a)[z](function(a){a[F](function(a){a=b(a);c.Pa(d,[JSON.stringify(a[v]),a.id])});return c.oa()})};S[t].Gc=function(a,b,c){var d=Re(c);return this.of(a,function(a){a[v][b]=d;return a})};
S[t].addTableColumn=S[t].Gc;S[t].Pc=function(a,b){return this.of(a,function(a){delete a[v][b];return a})};S[t].dropTableColumn=S[t].Pc;S[t].jd=function(a,b,c){return this.of(a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};S[t].renameTableColumn=S[t].jd;S[t].Eb=function(a){var b={},c;for(c in a)b[c]=Re(a[c]);return hd(b)};S[t].createRow=S[t].Eb;S[t].ad=G("Sa");S[t].getVersion=S[t].ad;
function $e(a){a.Pa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Ab][C]),d=0;d<c[C];++d)c[d]=a[Ab][Oa](d).tbl_name;return c})}la(S[t],function(){var a=Zc(),b=this.Ad();$e(b);var c={};b.oa()[z](J(function(b){b=b[Ha](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.pc(a)[z](function(b){c[a]=b})},this);Yc(b)[z](function(){a[Db](c)})},this));return a.ga});la(S[t],S[t].dump);
function af(a,b,c){this.m=a;this.s=b;this.cl=c||4194304}H=af[t];H.Ed=function(){return new be(this.m,[])};H.Fa=function(a){if(null==da.openDatabase)throw new P(353);var b=a||function(){return Uc()};return new M(J(function(a,d){try{var g=da.openDatabase(this.s[q](),"",this.s[q](),this.cl);if(null!=g)this.j=g,this.hi(b)[z](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.hi=function(a){var b=Zc(),c=new Ze(this.j,this.Ed(),1);c.Pa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Pa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.oa()[z](J(function(c){var g=0;c[Ab][C]&&(g=c[Ab][Oa](0).v);g<this.s[ub]()?this.Ze(a,g)[z](b[Db][E](b)):g>this.s[ub]()?b[Ma](new P(108)):b[Db]()},this));return b.ga};H.Ob=function(a,b){if(null!=this.j)return new Ze(this.j,b,a);throw new P(2);};pa(H,Gb());H.Zc=function(){throw new P(512);};
H.Hg=function(){throw new P(355);};Ca(H,function(){this.Hg()});H.fd=function(){this.Hg()};H.Ze=function(a,b){var c=Zc();this.Gk()[z](J(function(){a(new S(this.m,b,this.j))[z](J(function(){return this.jf()},this))[z](c[Db][E](c))},this),c[Ma][E](c));return c.ga};
H.Gk=function(){var a=this.s.Za(),b=new Ze(this.j,this.Ed(),1),c=new Ze(this.j,this.Ed(),1);b.Pa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[ub]()]);$e(b);return b.oa()[z](function(b){b[Ha](function(a){return-1!=a[ab](".")})[F](function(a){c.Pa("DROP TABLE "+a,[])});var g=b[Ha](function(a){return-1==a[ab](".")});a.map(function(a){return a[u]()})[Ha](function(a){return-1==g[ab](a)})[F](function(a){c.Pa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.oa()})};
H.jf=function(){var a=0,b=Zc(),c=J(function(b){var c=new Ze(this.j,this.Ed(),0);c.Pa("SELECT MAX(id) FROM "+b,[]);return c.oa()[z](function(b){b=b[Ab][Oa](0)[0];a=ca.max(b,a)})},this),d=this.s.Za().map(function(a){return c(a[u]())});Yc(d)[z](function(){b[Db](a)},function(a){b[Ma](a)});return b.ga};

function bf(){this.g=new N;aa.defineProperty(this,"size",{get:function(){return this.g.pa()}})}ua(bf[t],function(){this.g[db]()});ua(bf[t],bf[t][db]);sa(bf[t],function(a){return this.g[x](a)});bf[t]["delete"]=bf[t][Za];Ea(bf[t],function(a,b){return this.g[F](a,b)});Ea(bf[t],bf[t][F]);bf[t].get=function(a){return this.g.get(a)};bf[t].get=bf[t].get;bf[t].has=function(a){return this.g.A(a)};bf[t].has=bf[t].has;bf[t].set=function(a,b){return this.g.set(a,b)};bf[t].set=bf[t].set;
var cf=da.Map&&da.Map[t][eb]&&da.Map[t][F]?da.Map:bf;function df(a){if(a instanceof bf)return a.g.L();var b=0,c=e(a[Fb]);a[F](function(a,g){c[b++]=g});return c}function ef(a){if(a instanceof bf)return a.g.c();var b=0,c=e(a[Fb]);a[F](function(a){c[b++]=a});return c};
function ff(a){this.cc=new O(a);aa.defineProperty(this,"size",{get:function(){return this.cc.pa()}})}ff[t].add=function(a){this.cc.add(a)};ff[t].add=ff[t].add;ua(ff[t],function(){this.cc[db]()});ua(ff[t],ff[t][db]);sa(ff[t],function(a){return this.cc[x](a)});ff[t]["delete"]=ff[t][Za];Ea(ff[t],function(a,b){this.cc.c()[F](a,b)});ff[t].has=function(a){return this.cc[tb](a)};ff[t].has=ff[t].has;var gf=da.Set&&da.Set[t][eb]&&da.Set[t][F]?da.Set:ff;
function hf(a){if(a instanceof ff)return a.cc.c();var b=0,c=e(a[Fb]);a[F](function(a){c[b++]=a});return c};
function jf(){this.g=new cf;this.jh=new cf}H=jf[t];H.Md=function(a){var b=this.jh.get(a);Kb(b)||(b=new gf,this.jh.set(a,b));return b};H.set=function(a,b){var c=this.Md(a);b[F](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.bb=function(a,b,c){var d=[],g=ca.min(b,c),k=ca.max(b,c);a=this.Md(a);if(a[Fb]<k-g)a[F](function(a){a>=g&&a<=k&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[y](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[y](c));return d};wa(H,function(a,b){var c=this.Md(a);b[F](function(a){this.g[Za](a);c[Za](a)},this)});H.pa=function(a){return null!=a?this.Md(a)[Fb]:this.g[Fb]};
function kf(a,b,c,d){a=b?a[gb]():a;if(null==c&&null==d)return a;c=ca.min(Kb(c)?c:a[C],a[C]);if(0==c)return[];d=ca.min(d||0,a[C]);return a[n](d,d+c)};
function mf(){this.Lb=0}mf[t].add=function(a,b){this.Lb+=b||1};wa(mf[t],function(a,b){this.Lb-=b});ua(mf[t],function(){this.Lb=0});mf[t].ol=function(a){this[db]();a[F](function(a){this.Lb+=a.Lb},this)};
function nf(a,b,c,d){this.B=a;this.S=b;this.rf=c;this.Bc=new mf;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=of(this,d);this.wa=d=pf(d)}else this[db]()}var qf=[];H=nf[t];oa(H,G("B"));f(H,function(){return this.wa[D]()});H.add=function(a,b){this.wa=this.wa.zb(a,b);this.Bc.add(a)};H.set=function(a,b){this.wa=this.wa.zb(a,b,!0)};wa(H,function(a,b){this.wa=this.wa[x](a,b)});H.get=function(a){return this.wa.get(a)};H.zd=function(a){return null!=a?this.bb([a])[C]:this.bb()[C]};H.Ac=G("Bc");
H.bb=function(a,b,c,d){var g=this.wa.Hd().b[0];if(!Kb(g)||0==c)return qf;var k=(c||0)+(d||0),k=0<k&&!b?k:Number.POSITIVE_INFINITY,l=[];(Kb(a)?this.S.hh(a):[this.S.Be()])[F](function(a){for(var b=this.S.$d(a),b=this.S.Pe(a)?g:b[0],b=this.wa.ag(b),c=0;null!=b&&l[C]<k;)0!=b.bb(a,l)?c=0:c++,b=2==c?null:b[qb]()},this);return kf(l,b,c,d)};ua(H,function(){this.wa=rf(this);this.Bc[db]()});H.A=function(a){return this.wa.A(a)};H.min=function(){return this.ed(J(this.S.min,this.S))};
H.max=function(){return this.ed(J(this.S.max,this.S))};H.ed=function(a){var b=this.wa.Hd(),c=this.wa.hg();if(0==b.b[C]&&0==c.b[C])return[null,null];var d=b.b[0],b=b.O[0],g=c.b[c.b[C]-1],c=c.O[c.b[C]-1];return 1==a(d,g)?[d,this.rf?[b]:b]:[g,this.rf?[c]:c]};H.eb=G("rf");H.Mc=G("S");H.Ue=function(a,b){return null!=a?-1==this.S[yb](a,b):!1};H.Ua=function(a,b){return null!=a?0==this.S[yb](a,b):!1};H.Ka=function(){for(var a=[],b=this.wa.Hd();b;)a[y](new ed(b.za,[b.b,b.O])),b=b.Aa;return a};
function sf(a,b,c,d){a=new nf(b,a,c);d=tf(d,a);a.wa=d;return a}function uf(a,b){this.za=a;this.I=b;this.ob=0;this.Aa=this.Ab=this.D=null;this.b=[];this.O=[];this.i=[]}function rf(a){return new uf(fd++,a)}H=uf[t];H.ma=function(){return 0==this.ob};H.xg=function(){return null==this.D};ya(H,G("Aa"));
function vf(a){function b(a){return null!=a?a.za[D]():"_"}var c=a.za+"["+a.b[m]("|")+"]",d=a.i.map(function(a){return a.za})[m]("|"),g=a.O[m]("/"),k=b(a.Ab)+"{",k=a.ma()?k+g:k+d,k=k+"}"+b(a.D);a.Aa&&(a=vf(a.Aa),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=vf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[C]&&(a+=this.i[0][D]());return a});H.Hd=function(){return this.ma()?this:this.i[0].Hd()};H.hg=function(){return this.ma()?this:this.i[this.i[C]-1].hg()};
function wf(a,b){b&&(b.Ab=a);a&&(a.Aa=b)}function of(a,b){for(var c=b[C],d=0,g=rf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.b=p.map(function(a){return a.key});g.O=p.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=rf(g.I),wf(g,l),g=l)}return k}function xf(a){var b=a[0],c=rf(b.I);c.ob=b.ob+1;c.i=a;for(b=0;b<a[C];++b)a[b].D=c,0<b&&c.b[y](a[b].b[0]);return c}
function pf(a){var b=a,c=[];do c[y](b),b=b.Aa;while(b);if(512>=c[C])b=xf(c);else{var d=c[C],g=0,b=rf(a.I);for(b.ob=a.ob+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[n](g,g+a),l=xf(k);l.D=b;b.i[C]&&(b.b[y](k[0].b[0]),wf(b.i[b.i[C]-1],l));b.i[y](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.ld(a);if(this.ma()){var c=qf;this.I.Ua(this.b[b],a)&&(c=c[Ta](this.O[b]));return c}b=this.I.Ua(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.A=function(a){var b=this.ld(a);return this.I.Ua(this.b[b],a)?!0:this.ma()?!1:this.i[b].A(a)};wa(H,function(a,b){this.Rf(a,-1,b);if(this.xg()){var c=this;1==this.i[C]&&(c=this.i[0],c.D=null);return c}return this});function yf(a){return a.ma()?a.b[0]:yf(a.i[0])}H.Cd=function(){this.b=[];for(var a=1;a<this.i[C];++a)this.b[y](yf(this.i[a]))};
H.Rf=function(a,b,c){var d=this.ld(a),g=this.ma();if(!g){var k=this.I.Ua(this.b[d],a)?d+1:d;if(this.i[k].Rf(a,k,c))this.Cd();else return!1}else if(!this.I.Ua(this.b[d],a))return!1;if(this.b[C]>d&&this.I.Ua(this.b[d],a)){if(Kb(c)&&!this.I.eb()&&g&&(k=this.O[d],c=sc(k,tc,!1,c),0<=c&&mc(k,c)&&this.I.Ac()[x](a,1),this.O[d][C]))return!1;this.b[A](d,1);g&&(g=this.I.eb()?1:this.O[d][C],this.O[A](d,1),this.I.Ac()[x](a,g))}256>this.b[C]&&!this.xg()&&(this.hl()||this.uk(b));return!0};
H.hl=function(){var a=null,b,c,d;if(this.Aa&&256<this.Aa.b[C])a=this.Aa,c=b=0,d=this.b[C]+1;else if(this.Ab&&256<this.Ab.b[C])a=this.Ab,b=this.Ab.b[C]-1,c=this.ma()?b:b+1,d=0;else return!1;this.b[A](d,0,a.b[b]);a.b[A](b,1);b=this.ma()?this.O:this.i;var g=null;this.ma()?g=a.O:(g=a.i,g[c].D=this);b[A](d,0,g[c]);g[A](c,1);a.ma()||(a.Cd(),this.Cd());return!0};
H.uk=function(a){var b,c,d;this.Aa&&511>this.Aa.b[C]?(b=this.Aa,d=c=0):this.Ab&&(b=this.Ab,c=b.b[C],d=b.ma()?b.O[C]:b.i[C]);c=[c,0][Ta](this.b);e[t][A][wb](b.b,c);c=null;this.ma()?c=this.O:(c=this.i,c[F](function(a){a.D=b}));c=[d,0][Ta](c);e[t][A][wb](b.ma()?b.O:b.i,c);wf(this.Ab,this.Aa);b.ma()||b.Cd();-1!=a&&(this.D.b[A](a,1),this.D.i[A](a,1))};
H.zb=function(a,b,c){var d=this.ld(a);if(this.ma()){if(this.I.Ua(this.b[d],a)){if(c)return this.O[d]=this.I.eb()?b:[b],this;if(this.I.eb())throw new P(201);if(this.O[d])return uc(this.O[d],b),this;this.O[d]=[b]}this.b[A](d,0,a);this.O[A](d,0,this.I.eb()?b:[b]);return 512==this.b[C]?this.el():this}d=this.I.Ua(this.b[d],a)?d+1:d;a=this.i[d].zb(a,b,c);a.ma()||1!=a.b[C]||(this.b[A](d,0,a.b[0]),a.i[1].D=this,a.i[0].D=this,this.i[A](d,1,a.i[1]),this.i[A](d,0,a.i[0]));return 512==this.b[C]?this.dl():this};
H.el=function(){var a=rf(this.I),b=rf(this.I);b.ob=1;b.b=[this.b[256]];b.i=[this,a];b.D=this.D;this.D=b;a.b=this.b[A](256);a.O=this.O[A](256);a.D=b;wf(a,this.Aa);wf(this,a);return b};H.dl=function(){var a=rf(this.I),b=rf(this.I);a.D=this.D;a.ob=this.ob+1;a.b=[this.b[256]];a.i=[this,b];this.b[A](256,1);b.D=a;b.ob=this.ob;b.b=this.b[A](256);b.i=this.i[A](257);b.i[F](function(a){a.D=b});this.D=a;wf(b,this.Aa);wf(this,b);return a};
H.ld=function(a){for(var b=0,c=this.b[C];b<c;){var d=b+c>>1;this.I.Ue(this.b[d],a)?b=d+1:c=d}return b};H.ag=function(a){if(!this.ma()){var b=this.ld(a);this.I.Ua(this.b[b],a)&&b++;return this.i[b].ag(a)}return this};
H.bb=function(a,b){function c(b,d){if(b>=d)return b;var p=k(l.sb(ba[d],a));if(0==p)return d;if(-1==p)return b;p=g(b,d);if(p==d)return b;var w=k(l.sb(ba[p],a));return 0==w?c(p,d):1==w?c(b,p-1):-1}function d(b,c,p){if(b>=c)return 0==p?c:-1;var w=k(l.sb(ba[b],a));if(0==w)return b;if(1==w)return-1;w=g(b,c);if(w==c)return 0==p?c:-1;var Da=k(l.sb(ba[w],a));return 0==Da?d(b,w,Da):-1==Da?d(w+1,c,p):d(b+1,w,Da)}function g(a,b){var c=a+b>>1;return c==a?c+1:c}function k(a){return a[0]?a[1]?0:1:-1}var l=this.I.Mc(),
p=0,w=this.b[C]-1,ba=this.b,Da=k(l.sb(ba[p],a)),$d=k(l.sb(ba[w],a));if(1==Da||-1==Da&&-1==$d)return 0;0!=Da&&(p=d(p+1,w,$d));if(-1==p)return 0;w=c(p,w);return-1==w||w<p?0:this.Ch(b,this.O[n](p,w+1))};H.Ch=function(a,b){var c=this.I.eb()?b:wc(b);a[y][wb](a,c);return c[C]};function tf(a,b){for(var c=b.Ac(),d=a.map(function(a){var d=new uf(a.id(),b);d.b=a.u()[0];d.O=a.u()[1];d.b[F](function(a,g){c.add(a,b.eb()?1:d.O[g][C])});return d}),g=0;g<d[C]-1;++g)wf(d[g],d[g+1]);return 1<d[C]?pf(d[0]):d[0]};
function zf(a){if(1==a.h[C])return new Af(a.h[0].pb);a=a.h.map(function(a){return a.pb});return new Bf(a)}function Af(a){this.xd=0==a?Cf:Df;this.Ve=0==a?function(a){return null!=a?a[gb]():null}:function(a){return a||null};this.Lg=0==a?Ef:Ff}K(Af,Rd);function Df(a,b){return a>b?1:a<b?-1:0}function Cf(a,b){return Df(b,a)}function Ff(a,b){return fe(a,b)}function Ef(a,b){return fe(b,a)}H=Af[t];
H.sb=function(a,b){var c=this.Ve(b),d=[null===c.f,null===c.w];if(!d[0]){var g=this.xd(a,c.f);d[0]=c.Y?1==g:-1!=g}d[1]||(g=this.xd(a,c.w),d[1]=c.ba?-1==g:1!=g);return d};H.compare=function(a,b){return this.xd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Oe=function(a,b){var c=this.sb(a,b);return c[0]&&c[1]};H.Be=function(){return ee()};H.Kg=function(a,b){return this.Lg(a,b)};
H.hh=function(a){return a[Ha](function(a){return null!==a})[$a](J(function(a,c){return this.Lg(a,c)},this))};H.Pe=function(a){return Ob(this.Ve(a).f)};H.$d=function(a){a=this.Ve(a);return[a.f,a.w]};f(H,function(){return this.xd==Cf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Bf(a){this.Da=a.map(function(a){return new Af(a)})}K(Bf,Rd);H=Bf[t];H.Ae=function(a,b,c){for(var d=0,g=0;g<this.Da[C]&&0==d;++g)d=c(this.Da[g],a[g],b[g]);return d};
H.compare=function(a,b){return this.Ae(a,b,function(a,b,g){return a[yb](b,g)})};H.min=function(a,b){return this.Ae(a,b,function(a,b,g){return a.min(b,g)})};H.max=function(a,b){return this.Ae(a,b,function(a,b,g){return a.max(b,g)})};H.sb=function(a,b){for(var c=[!0,!0],d=0;d<this.Da[C]&&(c[0]||c[1]);++d){var g=this.Da[d].sb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.Oe=function(a,b){for(var c=!0,d=0;d<this.Da[C]&&c;++d)c=this.Da[d].Oe(a[d],b[d]);return c};H.Be=function(){return this.Da.map(function(a){return a.Be()})};
H.hh=function(a){var b=a[Ha](function(a){return a[Va](Pb)});a=e(this.Da[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[$a](J(function(a,c){return this.Da[b].Kg(a,c)},this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[$a](J(function(a,b){for(var c=0,l=0;l<this.Da[C]&&0==c;++l)c=this.Da[l].Kg(a[l],b[l]);return c},this))};H.Pe=function(a){return this.Da[0].Pe(a[0])};
H.$d=function(a){var b=a.map(function(a,b){return this.Da[b].$d(a)[0]},this);a=a.map(function(a,b){return this.Da[b].$d(a)[1]},this);return[b,a]};
function Gf(a){this.qa=a;this.Oa=new O;this.ee=new mf;this.Bc=new mf}H=Gf[t];oa(H,function(){return this.qa[u]()});H.add=function(a,b){if(null===a){if(this.eb()&&!this.Oa.Ha())throw new P(201);this.Oa.add(b);this.ee.add(a)}else this.qa.add(a,b)};H.set=function(a,b){null===a?(this.Oa[db](),this.Oa.add(b)):this.qa.set(a,b)};wa(H,function(a,b){if(null===a)b?(this.ee[x](a,1),this.Oa[x](b)):(this.ee[x](a,this.Oa.pa()),this.Oa[db]());else this.qa[x](a,b)});
H.get=function(a){return null===a?this.Oa.c():this.qa.get(a)};H.zd=function(a){return this.qa.zd(a)};H.Ac=function(){this.Bc.ol([this.qa.Ac(),this.ee]);return this.Bc};H.bb=function(a,b,c,d){b=this.qa.bb(a,b,c,d);return null!=a?b:b[Ta](this.Oa.c())};ua(H,function(){this.Oa[db]();this.qa[db]()});H.A=function(a){return null===a?!this.Oa.Ha():this.qa.A(a)};H.min=function(){return this.qa.min()};H.max=function(){return this.qa.max()};H.Ka=function(){return[new ed(-2,this.Oa.c())][Ta](this.qa.Ka())};
H.Mc=function(){return this.qa.Mc()};H.eb=function(){return this.qa.eb()};
function Hf(a){this.B=a;this.Bb=new gf;this.S=new Af(1)}H=Hf[t];oa(H,G("B"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.Bb.add(a)};H.set=function(a,b){this.add(a,b)};wa(H,function(a){this.Bb[Za](a)});H.get=function(a){return this.A(a)?[a]:[]};H.min=function(){return this.ed(J(this.S.min,this.S))};H.max=function(){return this.ed(J(this.S.max,this.S))};
H.ed=function(a){if(0==this.Bb[Fb])return[null,null];var b=hf(this.Bb)[La](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.zd=function(){return this.Bb[Fb]};H.bb=function(a,b,c,d){var g=a||[ee()];a=hf(this.Bb)[Ha](function(a){return g[bb](function(b){return this.S.Oe(a,b)},this)},this);return kf(a,b,c,d)};ua(H,function(){this.Bb[db]()});H.A=function(a){return this.Bb.has(a)};H.Ka=function(){return[new ed(0,hf(this.Bb))]};H.Mc=G("S");
function If(a,b){var c=new Hf(a);b[0].u()[F](function(a){c.add(a,a)});return c}H.eb=Ib(!0);H.Ac=function(){throw new P(300);};
function Jf(a){this.m=a;this.Db=a.o(Ad);this.H=a.o(Cd);this.sa=a.o(Bd)}H=Jf[t];H.Fa=function(a){var b=a.Za(),c=J(function(){if(0==b[C])return Uc();var a=b[rb]();return(a.Zb()?this.Ti(a):this.Ui(a))[z](c)},this);return c()};H.Ui=function(a){var b=new be(this.m,[a]);return this.Db.Ob(0,b).V(a[u](),J(a.oc,a)).get([])[z](J(function(b){this.sa.set(a[u](),b);this.Mk(a,b)},this))};H.Mk=function(a,b){var c=this.H.Lj(a[u]());b[F](function(a){c[F](function(b){var c=a.Tb(b[u]());b.add(c,a.id())})})};
H.Ti=function(a){var b=new be(this.m,[a]),c=this.Db.Ob(0,b),b=c.V(a[u](),a.oc).get([])[z](J(function(b){this.sa.set(a[u](),b)},this)),d=a.Ea().map(function(a){return this.Nk(a,c)},this)[Ta](this.Ok(a,c));return Yc(d[Ta](b))};
H.Nk=function(a,b){var c=b.V(a.l(),gd,1),d=zf(a);return c.get([])[z](J(function(b){L("btree"==b[0].u().type);if(1<b[C]){if(a.mg()){var c=sf[E](void 0,d,a.l(),a.cd),l=b[n](1),p=-1;for(b=0;b<l[C];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new P(102);b=l[p].u();l=l[n](0);l[A](p,1);c=c(l);c=new Gf(c);c.Oa[ib](b)}else c=sf(d,a.l(),a.cd,b[n](1));this.H.set(c)}},this))};
H.Ok=function(a,b){return b.V(a.Qb(),gd,1).get([])[z](J(function(b){L("rowid"==b[0].u().type);1<b[C]&&(b=If(a.Qb(),b[n](1)),this.H.set(b))},this))};


function Kf(){this.W=new N}Kf[t].Fa=function(a){a.Za()[F](function(a){var c=a.Qb();if(null===this.get(c)){var d=new Hf(c);this.W.set(c,d)}a.Ea()[F](function(a){this.W.set(a.l(),Lf(a))},this)},this);return Uc()};function Lf(a){var b=zf(a),b=new nf(a.l(),b,a.cd);return a.mg()?new Gf(b):b}Kf[t].get=function(a){return this.W.get(a,null)};Kf[t].set=function(a){return this.W.set(a[u](),a)};Kf[t].Lj=function(a){var b=[],c=a+".";this.W.L()[F](function(a){0==a[ab](c)&&b[y](this.W.get(a))},this);return b};
function Mf(a){this.gb=[];Kb(a)&&this.add(a)}H=Mf[t];f(H,function(){return this.gb.map(function(a){return a[D]()})[m](",")});H.A=function(a){return this.gb[bb](function(b){return b[tb](a)})};H.c=G("gb");
H.add=function(a){if(0!=a[C])if(a=this.gb[Ta](a),1==a[C])this.gb=a;else{a[$a](fe);for(var b=[],c=a[0],d=1;d<a[C];++d)if(c.Mg(a[d])){var g=a[d],k=ee();if(null!==c.f&&null!==g.f){var l=de(c.f,g.f,!0);1!=l?(k.f=c.f,k.Y=0!=l?c.Y:c.Y&&g.Y):(k.f=g.f,k.Y=g.Y)}null!==c.w&&null!==g.w&&(l=de(c.w,g.w,!1),-1!=l?(k.w=c.w,k.ba=0!=l?c.ba:c.ba&&g.ba):(k.w=g.w,k.ba=g.ba));c=k}else b[y](c),c=a[d];b[y](c);this.gb=b}};
H.Qc=function(a){return this.gb[C]==a.gb[C]?0==this.gb[C]||this.gb[Va](function(b,c){return b.Qc(a.gb[c])}):!1};function Nf(a,b){var c=[];a.c().map(function(a){return b.c().map(function(b){var c;if(a.Mg(b)){c=ee();var l=de(a.f,b.f,!0),l=0==l?a.Y?a:b:-1!=l?a:b;c.f=l.f;c.Y=l.Y;null===a.w||null===b.w?b=null===a.w?b:a:(l=de(a.w,b.w,!1),b=0==l?a.ba?a:b:-1==l?a:b);c.w=b.w;c.ba=b.ba}else c=null;return c})})[F](function(a){c=c[Ta](a)});return new Mf(c[Ha](function(a){return null!==a}))};
function Of(a,b){var c=[],d=null,g=null;a.Cc(function(a){var l=b(a);null==a[zb]()?g=l:d.ja(l);var p=a[zb]();null!==p&&p.ya()==d.ya()&&(p=c[ab](d),-1!=p&&c[A](p,1));1<a.ya()&&c[y](l);d=a.sg()?c[c[C]-1]:l});return g}function Pf(a){return Qf(a,function(a){return a.sg()})}function Rf(a){var b=a[zb](),c=0;null!==b&&(c=b.ca()[ab](a),b[jb](a));var d=a.ca()[n]();d[F](function(d,k){a[jb](d);null===b||b.Fc(d,c+k)});return{parent:b,children:d}}
function Sf(a,b){a.ca()[n]()[F](function(c){a[jb](c);b.ja(c)});a.ja(b)}function Tf(a){L(1==a.ya());var b=a.ub(0);L(1==b.ya());Rf(a);Sf(b,a);return b}function Uf(a,b,c){L(1==a.ya());var d=a.ub(0);L(1<d.ya());var g=d.ca()[n]();if(!g[bb](function(a){return b(a)}))return a;Rf(a);g[F](function(g,l){if(b(g)){var p=c(a);d.ae(l);p.ja(g);d.Fc(p,l)}});return d}function Vf(a,b,c,d){var g=a[zb]();null!==g&&(a=g.ca()[ab](a),g.ae(a),g.Fc(c,a));b.ca()[n]()[F](function(a){b[jb](a);d.ja(a)});return c}
function Qf(a,b,c){function d(a){b(a)&&g[y](a);null!=c&&c(a)||a.ca()[F](d)}var g=[];d(a);return g}function Wf(a,b){var c=b||function(a){return a[D]()+"\n"},d="";a.Cc(function(a){for(var b=0;b<a.sj();b++)d+="-";d+=c(a)});return d};

function Xf(a){ze[r](this);this.Wb=a;this.cb=!1}K(Xf,ze);H=Xf[t];H.Nb=function(){return Of(this,function(a){if(a instanceof Xf){var b=new Xf(a.Wb);b.cb=a.cb;b.lf(a.da());return b}return a.Nb()}[E](this))};H.vb=function(a){var b=a||[];this.Cc(function(a){a!=this&&a.vb(b)}[E](this));return(new O(b)).c()};H.de=function(a){this.cb!=a&&(this.cb=a,this.Wb="and"==this.Wb?"or":"and",this.ca()[F](function(b){return b.de(a)}))};H.eval=function(a){var b=this.ca().map(function(b){return b.eval(a)});return this.ki(b)};
H.ki=function(a){return"and"==this.Wb?ke(a):le(a)};f(H,function(){return"combined_pred_"+this.Wb[D]()});function Yf(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function Zf(){this[db]()}var $f=aa[t][Ya],ag=aa[t][sb];H=Zf[t];H.set=function(a,b){this.qd(a);var c=!this.bd(a);this.g[a]=b;if("__proto__"==a||!bg&&!$f[r](this.g,a)){delete this.g[a];var d=gc(this.Jb,a);if(c=0>d)d=this.Jb[C];this.Jb[d]=a;this.be[d]=b}c&&this.$++};H.get=function(a,b){this.qd(a);if(this.bd(a))return this.g[a];var c=gc(this.Jb,a);return 0<=c?this.be[c]:b};
wa(H,function(a){this.qd(a);if(this.bd(a))return this.$--,delete this.g[a],!0;a=gc(this.Jb,a);return 0<=a?(this.$--,mc(this.Jb,a),mc(this.be,a),!0):!1});H.addAll=function(a){hc(a.L(),function(b){this.set(b,a.get(b))},this)};H.Ha=function(){return!this.$};H.pa=G("$");H.A=function(a){this.qd(a);return this.bd(a)||0<=gc(this.Jb,a)};H.yd=function(a){return yc(this.g,function(b,c){return this.bd(c)&&Yf(b,a)},this)||0<=gc(this.be,a)};
H.L=function(){var a;if(cg)a=oc(aa.keys(this.g));else{a=[];for(var b in this.g)ag[r](this.g,b)&&a[y](b)}pc(a,this.Jb);return a};H.c=function(){for(var a=[],b=this.L(),c=0;c<b[C];c++)a[y](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.L(),c=0;c<b[C];c++){var d=b[c];a[y]([d,this.get(d)])}return a};ua(H,function(){this.g=bg?aa[lb](null):{};this.Jb=[];this.be=[];this.$=0});ma(H,function(){var a=new Zf;a[ib](this);return a});
H.bd=function(a){return"__proto__"==a?!1:bg?a in this.g:ag[r](this.g,a)};H.qd=function(a){L(Rb(a),"key must be a string.")};var bg=!!aa[lb],cg=!!aa.keys;function dg(){this[db]()}H=dg[t];H.$=0;ua(H,function(){this.$=0;this.g=new Zf});ma(H,function(){var a=new dg;a.vh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[y](b);this.$++};H.vh=function(a){hc(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?oc(a):[]};wa(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=nc(c,function(a){return Yf(b,a)});d&&(this.$--,0==c[C]&&this.g[x](a));return d});H.Ha=function(){return!this.$};
H.pa=G("$");H.A=function(a){return this.g.A(a)};H.yd=function(a){return kc(this.g.c(),function(b){return kc(b,function(b){return Yf(b,a)})})};H.L=function(){return this.g.L()};H.c=function(){return wc(this.g.c())};H.getEntries=function(){for(var a=this.L(),b=[],c=0;c<a[C];c++)for(var d=a[c],g=this.get(d),k=0;k<g[C];k++)b[y]([d,g[k]]);return b};
function eg(a,b,c){ze[r](this);this.Ma=a;this.Ja=b;this.K=c;this.Bd=re.Ee().De(this.Ma.Z(),this.K)}K(eg,ze);H=eg[t];H.Nb=function(){var a=new eg(this.Ma,this.Ja,this.K);a.lf(this.da());return a};H.vb=function(a){return null!=a?(a[y](this.Ma),a[y](this.Ja),a):[this.Ma,this.Ja]};H.reverse=function(){var a=this.K;switch(this.K){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new eg(this.Ja,this.Ma,a)};
H.eval=function(a){var b=a[B][Ha](function(a){var b=a.U(this.Ma);a=a.U(this.Ja);return this.Bd(b,a)},this);return new ge(b,a.X())};f(H,function(){return"join_pred("+this.Ma.l()+", "+this.Ja.l()+")"});H.Bf=function(a){return-1!=a.X()[ab](this.Ma.V().ta())};H.Dh=function(a){return-1!=a.X()[ab](this.Ja.V().ta())};H.Ai=function(a,b){var c=null,d=null;this.Bf(a)?(this.Df(a,b),c=a,d=b):(this.Df(b,a),c=b,d=a);return[c,d]};
H.Df=function(a,b){L(this.Bf(a),"Mismatch between join predicate left operand and right relation.");L(this.Dh(b),"Mismatch between join predicate right operand and right relation.")};H.Hi=function(a,b,c){var d=[a,b];c||(d=this.Ai(a,b));a=d[0];d=d[1];return c?this.Uf(a,d,c):"eq"==this.K?this.Ii(a,d):this.Uf(a,d,c)};H.si=function(a){var b={};a.vb()[F](function(a){b[a[u]()]=null});return b};
H.Uf=function(a,b,c){for(var d=[],g=null,k=a.X(),l=b.X(),p=0;p<a[B][C];p++){for(var w=!1,ba=0;ba<b[B][C];ba++)if(this.Bd(a[B][p].U(this.Ma),b[B][ba].U(this.Ja))){var w=!0,Da=pe(a[B][p],k,b[B][ba],l);d[y](Da)}c&&!w&&(null===g&&(g=this.si(this.Ja.V())),w=new ne(new ed(-1,g),!1),Da=pe(a[B][p],k,w,l),d[y](Da))}a=a.X()[Ta](b.X());return new ge(d,a)};
H.Ii=function(a,b){var c=a,d=b,g=this.Ma,k=this.Ja;a[B][C]>b[B][C]&&(c=b,d=a,g=this.Ja,k=this.Ma);var l=new dg,p=[];c[B][F](function(a){var b=ia(a.U(g));l.add(b,a)});var w=c.X(),ba=d.X();d[B][F](function(a){var b=ia(a.U(k));l.A(b)&&l.get(b)[F](function(b){b=pe(a,ba,b,w);p[y](b)})});c=a.X()[Ta](b.X());return new ge(p,c)};
function fg(a,b,c){return null===b?new Be(a,b,c):Kb(b.l)?new eg(a,b,c):new Be(a,b,c)};
var gg={};I("lf.schema.DataStoreType",gg,void 0);gg.INDEXED_DB=0;gg.MEMORY=1;gg.LOCAL_STORAGE=2;gg.FIREBASE=3;gg.WEB_SQL=4;gg.OBSERVABLE_STORE=5;function hg(a,b,c,d){this.nf=a;ka(this,b);this.cd=c;this.h=d}hg[t].l=function(){return this.nf+"."+this[q]};hg[t].mg=function(){return this.h[bb](function(a){return a.ea.uc()})};function ig(a,b,c,d){this.B=a;this.ua=c;this.F=b;this.Wd=d;this.kb=null}I("lf.schema.Table",ig,void 0);oa(ig[t],G("B"));ig[t].ab=G("kb");ig[t].ta=function(){return this.kb||this.B};
ig[t].Hc=function(a){var b=new this.constructor(this.B);b.kb=a;b.Pk=this.Pk;return b};ig[t].as=ig[t].Hc;ig[t].createRow=ig[t].Eb;ig[t].deserializeRow=ig[t].oc;ig[t].Ea=G("ua");ig[t].vb=G("F");ig[t].getConstraint=ig[t].Fb;ig[t].Zb=G("Wd");ig[t].Qb=function(){return this.B+".#"};
function T(a,b){xa(this,a);this.gc=b;this.kb=null}H=T[t];oa(H,function(){return this.gc+"("+this[kb][u]()+")"});H.l=function(){return this.gc+"("+this[kb].l()+")"};H.V=function(){return this[kb].V()};f(H,function(){return this.l()});H.Z=function(){return this[kb].Z()};H.ab=G("kb");H.Ea=function(){return[]};H.uc=Ib(!1);H.Hc=function(a){this.kb=a;return this};T[t].as=T[t].Hc;T[t].$f=function(){for(var a=[this],b=this;b instanceof T;)a[y](b[kb]),b=b[kb];return a};
function jg(a){this.kb=a||null;this.N=new ig("#UnknownTable",[],[],!1)}H=jg[t];oa(H,Ib("*"));H.l=function(){return this[u]()};f(H,function(){return this.l()});H.V=G("N");H.Z=Ib(4);H.ab=G("kb");H.Ea=function(){return[]};H.uc=Ib(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new jg,"COUNT")},void 0);function kg(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",kg,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){xe[r](this,"","");this.Qi=b;this.Ig=a}K(U,xe);H=U[t];na(H,function(a,b){switch(this.Qi){case 1:return this.Li(a,b);case 0:return this.Ki(a,b);default:return this.Ni(a,b)}});f(H,Ib("dummy_node"));H.md=function(){return this[D]()};H.Cf=function(a){L(-1==this.Ig||a[C]==this.Ig)};H.Ni=function(a,b){return new M(J(function(c){c(this.ka(a,[],b))},this))};H.Li=function(a,b){return this.ub(0)[Ra](a,b)[z](J(function(c){this.Cf(c);return this.ka(a,c,b)},this))};
H.Ki=function(a,b){var c=this.ca().map(function(c){return c[Ra](a,b)});return Yc(c)[z](J(function(c){var g=[];c[F](function(a){for(var b=0;b<a[C];++b)g[y](a[b])});this.Cf(g);return this.ka(a,g,b)},this))};
function lg(a){U[r](this,-1,1);this.zf=a}K(lg,U);f(lg[t],function(){return"aggregation("+this.zf.map(function(a){return a.l()})[D]()+")"});lg[t].ka=function(a,b){b[F](function(a){(new mg(a,this.zf)).Qh()},this);return b};function mg(a,b){this.Ia=a;this.F=b}
mg[t].Qh=function(){this.F[F](function(a){a=a.$f()[gb]();for(var b=1;b<a[C];b++){var c=a[b],d=c.$f()[n](-1)[0],g=this.vj(c),k=null;switch(c.gc){case "MIN":k=ng(g,d);break;case "MAX":k=og(g,d);break;case "DISTINCT":k=pg(g,d);break;case "COUNT":k=g[B][C];break;case "SUM":k=qg(g,d);break;case "AVG":0<g[B][C]&&(k=qg(g,d)/g[B][C]);break;case "GEOMEAN":k=rg(g,d);break;default:k=sg(g,d)}this.Ia.Yk(c,k)}},this)};mg[t].vj=function(a){return a[kb]instanceof T?this.Ia.sc(a[kb]):this.Ia};
function ng(a,b){var c=null;a[B][F](function(a){a=a.U(b);if(null===c||a<c)c=a});return c}function og(a,b){var c=null;a[B][F](function(a){a=a.U(b);if(null===c||a>c)c=a});return c}function qg(a,b){return a[B][La](function(a,d){return a+d.U(b)},0)}function sg(a,b){var c=a[B].map(function(a){return a.U(b)});return rd[wb](null,c)}function rg(a,b){var c=0,d=a[B][La](function(a,d){var l=d.U(b);return 0!=l?(c++,a+ca.log(l)):a},0);return 0==c?null:ca.pow(ca.E,d/c)}
function pg(a,b){var c=new N;a[B][F](function(a){var g=a.U(b);c.set(g,a)});return new ge(c.c(),a.X())};
function tg(a,b){this.Ca=a;this.ra=b}tg[t].nb=G("Ca");tg[t].fa=G("ra");function V(){xe[r](this,"","")}K(V,xe);function ug(a,b){V[r](this);ja(this,a);va(this,b)}K(ug,V);function vg(a,b){ug[r](this,a,b)}K(vg,ug);function wg(a){V[r](this);ja(this,a)}K(wg,V);f(wg[t],function(){return"delete("+this[h][u]()+")"});function xg(a,b){V[r](this);ja(this,a);this.sf=b}K(xg,V);f(xg[t],function(){var a=[];this.sf&&(a=this.sf.map(function(a){return a.J[u]()},this));return"update("+this[h][u]()+", ["+a[m](",")+"])"});
function yg(a){V[r](this);this.Ba=a}K(yg,V);f(yg[t],function(){return"select("+this.Ba[D]()+")"});function zg(a){V[r](this);ja(this,a)}K(zg,V);f(zg[t],function(){var a="table_access("+this[h][u]();null===this[h].ab()||(a+=" as "+this[h].ab());return a+")"});function Ag(){V[r](this)}K(Ag,V);f(Ag[t],Ib("cross_product"));function Bg(a,b){V[r](this);this.h=a;this.Rb=b}K(Bg,V);
f(Bg[t],function(){var a="project("+this.h[D]();if(null!==this.Rb)var b=this.Rb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Cg(a){V[r](this);this.M=a}K(Cg,V);f(Cg[t],function(){return"order_by("+Fe(this.M)+")"});function Dg(a){V[r](this);this.h=a}K(Dg,V);f(Dg[t],function(){return"aggregation("+this.h[D]()+")"});function Eg(a){V[r](this);this.h=a}K(Eg,V);f(Eg[t],function(){return"group_by("+this.h[D]()+")"});function Fg(a){V[r](this);this.na=a}K(Fg,V);
f(Fg[t],function(){return"limit("+this.na+")"});function Gg(a){V[r](this);this.ia=a}K(Gg,V);f(Gg[t],function(){return"skip("+this.ia+")"});function Hg(a,b){V[r](this);this.Ba=a;this.ug=b}K(Hg,V);f(Hg[t],function(){return(this.ug?"left_outer_join":"join")+"("+this.Ba[D]()+")"});
function Ig(){};
function Jg(){}K(Jg,Ig);Jg[t].Hb=function(a){this.ha=a;this.$a(this.ha);return this.ha};Jg[t].$a=function(a){if(a instanceof yg){L(1==a.ya(),"SelectNode must have exactly one child.");var b=this.Ef(a.Ba),b=this.ui(b);Vf(a,a,b[0],b[1]);a==this.ha&&(this.ha=b[0]);a=b[0]}a.ca()[F](function(a){this.$a(a)},this)};Jg[t].Ef=function(a){if(0==a.ya()||"and"!=a.Wb)return[a];var b=a.ca()[n]().map(function(b){a[jb](b);return this.Ef(b)},this);return wc(b)};
Jg[t].ui=function(a){var b=null,c=null;a.map(function(a,g){var k=new yg(a);0==g?b=k:c.ja(k);c=k},this);return[b,c]};
function Kg(){}K(Kg,Ig);Kg[t].Hb=function(a){this.ha=a;this.$a(this.ha);return this.ha};Kg[t].$a=function(a){if(a instanceof Ag)for(;2<a.ya();){for(var b=new Ag,c=0;2>c;c++){var d=a.ae(0);b.ja(d)}a.Fc(b,0)}a.ca()[F](function(a){this.$a(a)},this)};
function Lg(){U[r](this,2,0)}K(Lg,U);f(Lg[t],Ib("cross_product"));Lg[t].ka=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.X(),l=d.X(),p=0;p<c[B][C];p++)for(var w=0;w<d[B][C];w++){var ba=pe(c[B][p],k,d[B][w],l);g[y](ba)}c=c.X()[Ta](d.X());return[new ge(g,c)]};

function Mg(a,b){Ie[r](this,a,b);this.Ya=a.o(Ed);this.Gb=a.o(Fd)}K(Mg,Ie);Fa(Mg[t],Ib(2));Mg[t].Ye=function(a){0==this.Z()?this.wk(a):this.kd()};Mg[t].wk=function(a){this.Zd[F](function(b,c){b instanceof Ee&&this.Gb.qh(b,a[c])},this)};Mg[t].kd=function(){var a=this.Gb.Ke(this.fa().c());0!=a[C]&&(a=new Je(this[Xa],a),this.Ya.bc(a))};
function Ng(a){Ce[r](this,a)}K(Ng,Ce);Ng[t].fa=function(){var a=new O([this.f]);a[ib](this.ea[xb]().Zf(this.f[u]()));return a};ma(Ng[t],function(){var a=new Ng(this.ea);a.wd(this);a.f=this.f;return a});Ba(Ng[t],function(a){Ng.Kb[E][r](this,a);this.ne(a);return this});
function Og(a){Ce[r](this,a)}K(Og,Ce);Og[t].fa=function(){var a=new O([this.Ga]),b=this.ea[xb]();a[ib](b.Bj(this.Ga[u]()));this.hc&&a[ib](b.Zf(this.Ga[u]()));return a};ma(Og[t],function(){var a=new Og(this.ea);a.wd(this);a.Ga=this.Ga;this[eb]&&va(a,this[eb]instanceof qe?this[eb]:this[eb][n]());a.hc=this.hc;a.ic=this.ic;return a});Ba(Og[t],function(a){Og.Kb[E][r](this,a);this.ic&&va(this,this.ic instanceof qe?a[this.ic.wb()]:this.ic.map(function(b){return b instanceof qe?a[b.wb()]:b}));return this});
function Pg(a){Ce[r](this,a)}K(Pg,Ce);Pg[t].fa=function(){var a=new O([this[h]]),b=this.set.map(function(a){return a.J.l()}),c=this.ea[xb]();a[ib](c.Cj(b));a[ib](c.rj(b));return a};ma(Pg[t],function(){var a=new Pg(this.ea);a.wd(this);ja(a,this[h]);a.set=this.set?this.set[n]():this.set;return a});Ba(Pg[t],function(a){Pg.Kb[E][r](this,a);this.set[F](function(b){-1!=b.rd&&qa(b,a[b.rd])});this.ne(a);return this});
function Qg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+id(b)+"'";default:return"'"+b[D]()+"'"}}function Rg(a,b){var c=a.hc?"INSERT OR REPLACE":"INSERT",d=a.Ga.vb(),c=c+(" INTO "+a.Ga[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[eb].map(function(a){var k=d.map(function(c){var d=a.u()[c[u]()];return b?null!=d?"#":"NULL":Qg(c.Z(),d)});return c+k[m](", ")+");"})[m]("\n")}
function Sg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Tg(a,b,c,d){return a instanceof qe?"?"+a.wb()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Qg(c,a)})[m](", ")+")":"between"==b?Qg(c,a[0])+" AND "+Qg(c,a[1]):Qg(c,a)[D]()}
function Ug(a,b){return a.ca().map(function(a){return"("+Vg(a,b)+")"})[m]("and"==a.Wb?" AND ":" OR ")}function Vg(a,b){if(a instanceof Be)return[a.J.l(),Sg(a.K),Tg(a[v],a.K,a.J.Z(),b)][m](" ");if(a instanceof Xf)return Ug(a,b);if(a instanceof eg)return[a.Ma.l(),Sg(a.K),a.Ja.l()][m](" ");throw new P(357,typeof a);}function Wg(a,b){var c=Vg(a,b);return c?" WHERE "+c:""}
function Xg(a,b){var c="UPDATE "+a[h][u]()+" SET ",c=c+a.set.map(function(a){var b=a.J.l()+" = ";return-1!=a.rd?b+"?"+a.rd[D]():b+Qg(a.J.Z(),a[v])[D]()})[m](", ");a.C&&(c+=Wg(a.C,b));return c+";"}
function Yg(a,b){var c="*";a.h[C]&&(c=a.h.map(function(a){return a.ab()?a.l()+" AS "+a.ab():a.l()})[m](", "));var d=a.f.map(function(a){return a.ta()!=a[u]()?a[u]()+" AS "+a.ta():a[u]()})[m](", "),c="SELECT "+c+" FROM "+d;a.C&&(c+=Wg(a.C,b));a.M&&(d=a.M.map(function(a){return a.J.l()+(0==a.pb?" DESC":" ASC")})[m](", "),c+=" ORDER BY "+d);a.la&&(d=a.la.map(function(a){return a.l()})[m](", "),c+=" GROUP BY "+d);a.na&&(c+=" LIMIT "+a.na[D]());a.ia&&(c+=" SKIP "+a.ia[D]());return c+";"}
function Zg(a,b){var c=b||!1,d=a.gg();if(d instanceof Og)return Rg(d,c);if(d instanceof Ng){var g="DELETE FROM "+d.f[u]();d.C&&(g+=Wg(d.C,c));return g+";"}if(d instanceof Pg)return Xg(d,c);if(d instanceof Ee)return Yg(d,c);throw new P(358,typeof d);};
function $g(a,b){this.global=a;this.Kk=a.o(Dd);this.Ya=a.o(Ed);this.a=b}I("lf.query.BaseBuilder",$g,void 0);na($g[t],function(){try{this.lb()}catch(a){return Vc(a)}return new M(function(a,c){var d=new Mg(this[Xa],[this.$c()]);this.Ya.bc(d)[z](function(c){a(c[0].Fe())},c)},this)});na($g[t],$g[t][Ra]);$g[t].Wf=function(){var a=J(function(a){return a.md(this.a)+"\n"},this);return Wf(this.Ge().nb(),a)};$g[t].explain=$g[t].Wf;Ba($g[t],function(a){this.a[E](a);return this});Ba($g[t],$g[t][E]);
$g[t].kl=function(a){return Zg(this,a)};$g[t].toSql=$g[t].kl;H=$g[t];H.lb=Gb();H.gg=function(){return this.a.clone()};H.Id=G("a");H.Ge=function(){null==this.Og&&(this.Og=this.Kk.Dj(this.a));return this.Og};H.$c=function(){return{context:this.gg(),af:this.Ge()}};H.zj=function(){return{context:this.Id(),af:this.Ge()}};
function ah(a){$g[r](this,a,new Ng(a.o(Gd)))}K(ah,$g);I("lf.query.DeleteBuilder",ah,void 0);ah[t].f=function(a){this.Hh();this.a.f=a;return this};ah[t].from=ah[t].f;ah[t].C=function(a){this.le();this.a.C=a;return this};ah[t].where=ah[t].C;ah[t].Hh=function(){if(null!=this.a.f)throw new P(515);};ah[t].le=function(){if(null!=this.a.C)throw new P(516);};ah[t].lb=function(){ah.Kb.lb[r](this);if(null==this.a.f)throw new P(517);};
function bh(a,b){$g[r](this,a,new Og(a.o(Gd)));this.a.hc=b||!1}K(bh,$g);I("lf.query.InsertBuilder",bh,void 0);bh[t].lb=function(){bh.Kb.lb[r](this);var a=this.a;if(null==a.Ga||null==a[eb])throw new P(518);if(a.hc&&null===a.Ga.Fb().He())throw new P(519);};bh[t].Ga=function(a){this.Ih();this.a.Ga=a;return this};bh[t].into=bh[t].Ga;va(bh[t],function(a){this.Jh();a instanceof qe||a[bb](function(a){return a instanceof qe})?this.a.ic=a:va(this.a,a);return this});va(bh[t],bh[t][eb]);
bh[t].Ih=function(){if(null!=this.a.Ga)throw new P(520);};bh[t].Jh=function(){if(null!=this.a[eb])throw new P(521);};
function ch(a){return dh("and",e[t][n][r](arguments))}I("lf.op.and",ch,void 0);I("lf.op.or",function(a){return dh("or",e[t][n][r](arguments))},void 0);function dh(a,b){var c=new Xf(a);b[F](function(a){c.ja(a)});return c}I("lf.op.not",function(a){a.de(!0);return a},void 0);
function W(a,b){$g[r](this,a,new Ee(a.o(Gd)));this.Yf=this.th=!1;this.a.h=b;this.Yh();this.Wh()}K(W,$g);I("lf.query.SelectBuilder",W,void 0);H=W[t];H.lb=function(){W.Kb.lb[r](this);var a=this.a;if(null==a.f)throw new P(522);if(Kb(a.Ub)&&!Kb(a.na)||Kb(a.ec)&&!Kb(a.ia))throw new P(523);this.fi()};H.Yh=function(){var a=this.a.h[Ha](function(a){return a instanceof T&&"DISTINCT"==a.gc},this);if(0!=a[C]&&(1!=a[C]||1!=this.a.h[C]))throw new P(524);};H.fi=function(){null!=this.a.la?this.bi():this.ei()};
H.bi=function(){var a=this.a.h[Ha](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.la[C]||0==this.a.h[C])b=!0;else{var c=this.a.la.map(function(a){return a.l()});(b=a[bb](function(a){return-1==c[ab](a)}))||(b=this.a.la[bb](function(a){a=a.Z();return 6==a||0==a}))}if(b)throw new P(525);};
H.ei=function(){var a=this.a.h[bb](function(a){return a instanceof T},this),b=this.a.h[bb](function(a){return!(a instanceof T)},this)||0==this.a.h[C];if(a&&b)throw new P(526);};H.Wh=function(){this.a.h[F](function(a){if(a instanceof T&&!eh(a.gc,a.Z()))throw new P(527,a.l());},this)};H.f=function(a){if(this.Yf)throw new P(515);this.Yf=!0;null==this.a.f&&(this.a.f=[]);this.a.f[y][wb](this.a.f,e[t][n][r](arguments));return this};W[t].from=W[t].f;
W[t].C=function(a){if(this.th)throw new P(516);this.th=!0;this.me(a);return this};W[t].where=W[t].C;W[t].me=function(a){null!=this.a.C&&(a=ch(a,this.a.C));this.a.C=a};W[t].ck=function(a,b){if(null==this.a.f)throw new P(542);this.a.f[y](a);this.me(b);return this};W[t].innerJoin=W[t].ck;
W[t].kk=function(a,b){if(!(b instanceof eg))throw new P(541);if(null==this.a.f)throw new P(542);this.a.f[y](a);null==this.a.wc&&(this.a.wc=new O);var c=b;a.ta()!=b.Ja.V().ta()&&(c=b[gb]());this.a.wc.add(c.da());this.me(c);return this};W[t].leftOuterJoin=W[t].kk;W[t].na=function(a){if(null!=(this.a.na||this.a.Ub))throw new P(528);if(a instanceof qe)this.a.Ub=a;else{if(0>a)throw new P(531);this.a.na=a}return this};W[t].limit=W[t].na;
W[t].ia=function(a){if(null!=(this.a.ia||this.a.ec))throw new P(529);if(a instanceof qe)this.a.ec=a;else{if(0>a)throw new P(531);this.a.ia=a}return this};W[t].skip=W[t].ia;W[t].M=function(a,b){null==this.a.M&&(this.a.M=[]);this.a.M[y]({J:a,pb:null!=b?b:1});return this};W[t].orderBy=W[t].M;W[t].la=function(a){if(null!=this.a.la)throw new P(530);null==this.a.la&&(this.a.la=[]);this.a.la[y][wb](this.a.la,e[t][n][r](arguments));return this};W[t].groupBy=W[t].la;
function eh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}ma(W[t],function(){var a=new W(this[Xa],this.a.h);a.a=this.a.clone();a.a.Kc=null;return a});ma(W[t],W[t].clone);
function fh(a,b){$g[r](this,a,new Pg(a.o(Gd)));ja(this.a,b)}K(fh,$g);I("lf.query.UpdateBuilder",fh,void 0);fh[t].set=function(a,b){var c={rd:b instanceof qe?b.wb():-1,J:a,value:b};null!=this.a.set?this.a.set[y](c):this.a.set=[c];return this};fh[t].set=fh[t].set;fh[t].C=function(a){this.le();this.a.C=a;return this};fh[t].where=fh[t].C;fh[t].le=function(){if(null!=this.a.C)throw new P(516);};
fh[t].lb=function(){fh.Kb.lb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[bb](function(a){return a[v]instanceof qe}))throw new P(501);};
function gh(a){this.a=a;this.Ca=null}gh[t].rc=function(){null===this.Ca&&(this.Ca=this.Dd());return this.Ca};function hh(a){gh[r](this,a)}K(hh,gh);hh[t].Dd=function(){return this.a.hc?new vg(this.a.Ga,this.a[eb]):new ug(this.a.Ga,this.a[eb])};function ih(a){gh[r](this,a)}K(ih,gh);ih[t].Dd=function(){var a=new xg(this.a[h],this.a.set),b=null!=this.a.C?new yg(this.a.C.Nb()):null,c=new zg(this.a[h]);null===b?a.ja(c):(b.ja(c),a.ja(b));return a};
function jh(a,b,c){this.Ca=a;this.cf=b;this.hf=c}jh[t].rc=function(){this.hf[F](function(a){this.Ca=a.Hb(this.Ca,this.cf)},this);return this.Ca};
function kh(a){gh[r](this,a)}K(kh,gh);kh[t].Dd=function(){var a=new wg(this.a.f),b=null!=this.a.C?new yg(this.a.C.Nb()):null,c=new zg(this.a.f);null===b?a.ja(c):(b.ja(c),a.ja(b));return(new jh(a,this.a,[new Jg])).rc()};
function lh(){}K(lh,Ig);lh[t].Hb=function(a,b){this.ha=a;this.$a(this.ha,b);return this.ha};lh[t].$a=function(a,b){if(a instanceof yg&&a.Ba instanceof eg){L(1==a.ya(),"SelectNode must have exactly one child.");var c=a.Ba.da(),d=a.ub(0);d instanceof Ag&&(c=Kb(b)&&null!=b.wc&&b.wc[tb](c),c=new Hg(a.Ba,c),Vf(a,d,c,c),a==this.ha&&(this.ha=c),a=c)}a.ca()[F](function(a){this.$a(a,b)},this)};
function mh(){this.je=new O}K(mh,Ig);H=mh[t];H.Hb=function(a){this.ha=a;this.$a(this.ha);this.je[db]();return this.ha};H.$a=function(a){if(this.qg(a)){var b=a.Ba instanceof Be?this.Jk(a):this.Ik(a);this.je.add(a);b==a&&(b=a.ub(0));null!==b&&(Ob(b[zb]())&&(this.ha=b),this.qg(b)&&!this.je[tb](b)&&this.$a(b))}else a.ca()[F](function(a){this.$a(a)},this)};
H.Yd=function(a,b){var c=a;if(this.bl(a))c=Tf(a),this.Yd(a,b);else if(this.al(a)){var d=[],c=Uf(a,b,function(a){a=new yg(a.Ba);d[y](a);return a});d[F](function(a){this.Yd(a,b)},this)}return c};H.Jk=function(a){var b=new O([a.Ba.J.V().ta()]),c=function(a){return this.Sf(a,b)}[E](this);return this.Yd(a,c)};H.Ik=function(a){var b=new O([a.Ba.Ma.V().ta(),a.Ba.Ja.V().ta()]),c=function(a){return this.Sf(a,b)}[E](this);return this.Yd(a,c)};
H.Sf=function(a,b){var c=new O;Pf(a)[F](function(a){c.add(a[h].ta())},this);a instanceof zg&&c.add(a[h].ta());return c.pi(b)};H.qg=function(a){return a instanceof yg&&!(a.Ba instanceof Xf)};H.al=function(a){a=a.ub(0);return a instanceof Ag||a instanceof Hg};H.bl=function(a){return a.ub(0)instanceof yg};
function nh(a){gh[r](this,a);this.Tg=this.Dg=this.gh=this.Jg=this.Af=this.lg=this.bh=this.Pf=this.ih=null}K(nh,gh);H=nh[t];H.Dd=function(){this.ij();var a=this.mi(),b=[new Jg,new Kg,new mh,new lh];return(new jh(a,this.a,b)).rc()};H.ij=function(){this.oj();this.dj();this.mj();this.jj();this.nj();this.hj();this.fj();this.cj();this.kj()};
H.mi=function(){for(var a=[this.Dg,this.gh,this.Tg,this.Jg,this.Af,this.lg,this.bh,this.Pf],b=null,c=null,d=0;d<a[C];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ja(g),b=d)}this.ih[F](function(c){a[b].ja(c)});return c};H.oj=function(){this.ih=this.a.f.map(function(a){return new zg(a)},this)};H.dj=function(){2<=this.a.f[C]&&(this.Pf=new Ag)};H.mj=function(){this.bh=null!=this.a.C?new yg(this.a.C.Nb()):null};H.jj=function(){this.a.M&&(this.Jg=new Cg(this.a.M))};
H.hj=function(){null!=this.a.na&&(this.Dg=new Fg(this.a.na))};H.nj=function(){null!=this.a.ia&&0<this.a.ia&&(this.gh=new Gg(this.a.ia))};H.fj=function(){null!=this.a.la&&(this.lg=new Eg(this.a.la))};H.cj=function(){var a=this.a.h[Ha](function(a){return a instanceof T});null!=this.a.M&&this.a.M[F](function(b){b.J instanceof T&&a[y](b.J)});0<a[C]&&(this.Af=new Dg(a))};H.kj=function(){this.Tg=new Bg(this.a.h||[],this.a.la||null)};
function oh(){}oh[t].create=function(a){var b=null;if(a instanceof Og)b=new hh(a);else if(a instanceof Ng)b=new kh(a);else if(a instanceof Ee)b=new nh(a);else if(a instanceof Pg)b=new ih(a);else throw new P(513);b=b.rc();return new tg(b,a.fa())};
function ph(a){U[r](this,1,1);this.N=a}K(ph,U);f(ph[t],function(){return"delete("+this.N[u]()+")"});ph[t].ka=function(a,b){var c=b[0][B].map(function(a){return a.xa});a[x](this.N,c);return[je()]};
function qh(a){U[r](this,1,1);this.kg=a}K(qh,U);f(qh[t],function(){return"groupBy("+this.kg.map(function(a){return a.l()})[D]()+")"});qh[t].ka=function(a,b){return this.Sh(b[0])};qh[t].Sh=function(a){var b=new dg,c=function(a){return this.kg.map(function(b){return a.U(b)},this)[m](",")}[E](this);a[B][F](function(a){b.add(c(a),a)},this);return b.L().map(function(c){return new ge(b.get(c),a.X())},this)};
function rh(a){L(1<a[C],"Should only be called for cross-column indices.");a=a.map(function(a){return a.c()});a=wd[wb](null,a);var b=[];vd(a,function(a){b[y](a)});return b}function sh(a){this.Sb=a}sh[t].Gd=function(){return 1==this.Sb.h[C]?[ee()]:[this.Sb.h.map(function(){return ee()})]};function th(a,b){this.Sb=a;this.va=b;this.ue=this.Bg=null}
th[t].Th=function(a){var b=new N;this.va.L()[F](function(c){var d=this.va.get(c).map(function(b){return a.Jd(b)},this),g=new Mf([ee()]);d[F](function(a){a=new Mf(a.jl());g=Nf(g,a)});b.set(c,g)},this);return b};th[t].Vi=function(a){for(var b=this.Sb.h[C]-1;0<=b;b--){var c=this.Sb.h[b];if(null!==a.get(c.ea[u](),null))break;a.set(c.ea[u](),new Mf([ee()]))}};th[t].Gd=function(a){if(this.Bg==a)return this.ue;var b=this.Th(a);this.Vi(b);this.ue=1==this.Sb.h[C]?b.c()[0].c():rh(this.Kj(b));this.Bg=a;return this.ue};
th[t].Kj=function(a){var b=new N,c=0;this.Sb.h[F](function(a){b.set(a.ea[u](),c);c++});return a.L()[$a](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function uh(a,b){this.kh=b;this.H=a.o(Cd)}uh[t].ii=function(a,b){var c=b[Ha](this.dk,this);if(0==c[C])return null;c=this.gj(c);if(0==c[C])return null;if(1==c[C])return c[0];var d=Number.MAX_VALUE;return c[La](function(b,c){var l=c.Rh(a);return l<d?(d=l,c):b},null)};uh[t].gj=function(a){return this.kh.Ea().map(function(b){b=new vh(this.H,b);b.oi(a);return b},this)[Ha](function(a){return a.jk()})};uh[t].dk=function(a){return a instanceof Be&&a.rg()?a.J.V()==this.kh:!1};
function vh(a,b){this.H=a;this.yb=b;this.ng=new O;this.ng[ib](this.yb.h.map(function(a){return a.ea[u]()}));this.Te=this.va=null}H=vh[t];H.Ej=function(){return null===this.va?[]:this.va.c()};H.eg=function(){L(this.va);null===this.Te&&(this.Te=new th(this.yb,this.va));return this.Te};H.oi=function(a){a[F](function(a){var c=a.vb()[0][u]();this.ng[tb](c)&&(null===this.va&&(this.va=new dg),this.va.add(c,a.da()))},this)};
H.jk=function(){if(null===this.va)return!1;for(var a=!1,b=!0,c=0;c<this.yb.h[C];c++){var d=this.va.A(this.yb.h[c].ea[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.Rh=function(a){a=this.eg().Gd(a);var b=this.H.get(this.yb.l());return a[La](function(a,d){return a+b.zd(d)},0)};
function wh(a,b,c,d){U[r](this,0,-1);this.H=a.o(Cd);this.index=b;this.zg=c;this.gf=d;this.pd=this.od=!1}K(wh,U);f(wh[t],function(){return"index_range_scan("+this[nb].l()+", ?, "+(this.gf?"reverse":"natural")+(this.od?", limit:?":"")+(this.pd?", skip:?":"")+")"});wh[t].md=function(a){var b=this[D](),c=this.zg.Gd(a),b=b[fb]("?",c[D]());this.od&&(b=b[fb]("?",a.na[D]()));this.pd&&(b=b[fb]("?",a.ia[D]()));return b};
wh[t].ka=function(a,b,c){a=this.zg.Gd(c);b=this.H.get(this[nb].l());c=(1==a[C]&&a[0]instanceof ce&&a[0].hk()?kf(b.get(a[0].f),!1,this.od?c.na:void 0,this.pd?c.ia:void 0):b.bb(a,this.gf,this.od?c.na:void 0,this.pd?c.ia:void 0)).map(function(a){return new ed(a,{})},this);return[me(c,[this[nb].nf])]};
function xh(a){U[r](this,1,1);this.Xd=a}K(xh,U);f(xh[t],Ib("select(?)"));xh[t].md=function(a){a=a.Jd(this.Xd);return this[D]()[fb]("?",a[D]())};xh[t].ka=function(a,b,c){return[c.Jd(this.Xd).eval(b[0])]};
function yh(a,b){U[r](this,1,1);this.sa=a.o(Bd);this.N=b}K(yh,U);f(yh[t],function(){return"table_access_by_row_id("+this.N[u]()+")"});yh[t].ka=function(a,b){return[me(this.sa.get(b[0].Jj()),[this.N.ta()])]};
function zh(a,b){U[r](this,0,-1);this.sa=a.o(Bd);this.H=a.o(Cd);ja(this,b)}K(zh,U);f(zh[t],function(){var a="table_access("+this[h][u]();null===this[h].ab()||(a+=" as "+this[h].ab());return a+")"});zh[t].ka=function(){var a=this.H.get(this[h].Qb()).bb();return[me(this.sa.get(a),[this[h].ta()])]};
function Ah(a){this.m=a}K(Ah,Ig);Ah[t].Hb=function(a,b){this.ha=a;Qf(a,function(a){return a instanceof zh})[F](function(a){var d=this.aj(a);if(0!=d[C]){var g=(new uh(this.m,a[h])).ii(b,d.map(function(a){return b.Jd(a.Xd)}));if(null!==g){var k=new N;d[F](function(a){k.set(a.Xd,a)},this);this.ha=this.Uk(g,k,a,b)}}},this);return this.ha};Ah[t].aj=function(a){var b=[];for(a=a[zb]();a;)a instanceof xh&&b[y](a),a=a[zb]();return b};
Ah[t].Uk=function(a,b,c){a.Ej().map(function(a){return b.get(a)})[F](Rf);a=new wh(this.m,a.yb,a.eg(),!1);var d=new yh(this.m,c[h]);d.ja(a);Vf(c,c,d,a);return a.nb()};
function Bh(a,b){U[r](this,0,-1);this.H=a.o(Cd);this.N=b}K(Bh,U);f(Bh[t],function(){return"insert("+this.N[u]()+")"});Bh[t].ka=function(a,b,c){Ch(this.N,c[eb],this.H);a.zb(this.N,c[eb]);return[me(c[eb],[this.N[u]()])]};function Ch(a,b,c){a=a.Fb().He();if(null===a?0:a.h[0][pb]){var d=a.h[0].ea[u](),g=c.get(a.l()).max()[0]||0;b[F](function(a){if(0==a.u()[d]||null==a.u()[d])g++,a.u()[d]=g})}}function Dh(a,b){U[r](this,0,-1);this.H=a.o(Cd);this.N=b}K(Dh,U);
f(Dh[t],function(){return"insert_replace("+this.N[u]()+")"});Dh[t].ka=function(a,b,c){Ch(this.N,c[eb],this.H);a.Ne(this.N,c[eb]);return[me(c[eb],[this.N[u]()])]};
function Eh(a,b){U[r](this,2,0);this.Sg=a;this.vg=b}K(Eh,U);f(Eh[t],function(){return(this.vg?"left_outer_join":"join")+"("+this.Sg[D]()+")"});Eh[t].ka=function(a,b){return[this.Sg.Hi(b[0],b[1],this.vg)]};
function Fh(){U[r](this,1,1)}K(Fh,U);f(Fh[t],Ib("limit(?)"));Fh[t].md=function(a){return this[D]()[fb]("?",a.na[D]())};Fh[t].ka=function(a,b,c){b[0][B][A](c.na);return b};
function Gh(a){U[r](this,-1,1);this.M=a}K(Gh,U);H=Gh[t];f(H,function(){return"order_by("+Fe(this.M)+")"});H.ka=function(a,b){if(1==b[C]){var c=this.Xi(b[0]);(null===c?b[0]:b[0].sc(c))[B][$a](this.Ei[E](this))}else b[$a](this.Qk[E](this));return b};H.Xi=function(a){for(var b=null,c=0;c<this.M[C];c++){var d=kg(this.M[c].J);if(a.Vj(d)){b=d;break}}return b};
H.S=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.M[k].J,c=this.M[k].pb,d=a(g),g=b(g);while(d==g&&k+1<this.M[C]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.Qk=function(a,b){return this.S(function(b){return b instanceof T?a.sc(b):a[B][a[B][C]-1].U(b)},function(a){return a instanceof T?b.sc(a):b[B][b[B][C]-1].U(a)})};H.Ei=function(a,b){return this.S(function(b){return a.U(b)},function(a){return b.U(a)})};
function Hh(a,b){this.Ia=a;this.F=b}Hh[t].jg=function(){return this.F[bb](function(a){return a instanceof T},this)?this.Tj():this.Uj()};
Hh[t].Tj=function(){if(1==this.F[C]&&"DISTINCT"==this.F[0].gc){var a=this.Ia.sc(this.F[0])[B].map(function(a){var b=new ne(new ed(-1,{}),this.Ia.Qe());b.kf(this.F[0],a.U(this.F[0][kb]));return b},this);return new ge(a,[])}var b=new ne(new ed(-1,{}),this.Ia.Qe());this.F[F](function(a){var d=a instanceof T?this.Ia.sc(a):this.Ia[B][0].U(a);b.kf(a,d)},this);return new ge([b],this.Ia.X())};
Hh[t].Uj=function(){var a=e(this.Ia[B][C]),b=this.Ia.Qe();this.Ia[B][F](function(c,d){a[d]=new ne(new ed(c.xa.id(),{}),b);this.F[F](function(b){a[d].kf(b,c.U(b))},this)},this);return new ge(a,this.Ia.X())};function Ih(a,b){var c=a.map(function(a){return(new Hh(a,b)).jg()[B][0]});return new ge(c,a[0].X())};
function Jh(a,b){U[r](this,-1,1);this.h=a;this.Rb=b}K(Jh,U);H=Jh[t];f(H,function(){var a="project("+this.h[D]();if(null!==this.Rb)var b=this.Rb.map(function(a){return a.l()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});H.ka=function(a,b){return 0==b[C]?[je()]:1==b[C]?[this.Oi(b[0])]:[this.Mi(b)]};H.Wj=function(){return this.h[bb](function(a){return a instanceof T})||null!==this.Rb};H.Mi=function(a){return Ih(a,this.h)};H.Oi=function(a){return 0==this.h[C]?a:(new Hh(a,this.h)).jg()};
function Kh(){U[r](this,1,1)}K(Kh,U);f(Kh[t],Ib("skip(?)"));Kh[t].md=function(a){return this[D]()[fb]("?",a.ia[D]())};Kh[t].ka=function(a,b,c){return[new ge(b[0][B][n](c.ia),b[0].X())]};
function Lh(){}K(Lh,Ig);Lh[t].Hb=function(a){var b=Qf(a,function(a){return a instanceof Fh||a instanceof Kh});if(0==b[C])return a;var c=this.$i(a);if(null===c)return a;b[F](function(a){this.tk(a,c)},this);return c.nb()};Lh[t].tk=function(a,b){a instanceof Fh?b.od=!0:b.pd=!0;return Rf(a).parent};Lh[t].$i=function(a){a=Qf(a,function(a){return a instanceof wh},function(a){return a instanceof Jh&&a.Wj()||a instanceof Gh||1!=a.ya()||a instanceof xh});return 0<a[C]?a[0]:null};
function Mh(a){this.m=a}K(Mh,Ig);Mh[t].Hb=function(a){var b=Nh(a);if(null===b)return a;a=this.Gh(b);a==b&&(a=this.Fh(b));return a.nb()};Mh[t].Gh=function(a){var b=a,c=Oh(a.ub(0));if(null!==c){var d;d=a.M;for(var g=null,k=c[h].Ea(),l=0;l<k[C]&&null===g;l++)g=Ph(k[l],d);d=g;if(null===d)return b;b=new wh(this.m,d.yb,new sh(d.yb),d.wg);d=new yh(this.m,c[h]);d.ja(b);Rf(a);b=Vf(c,c,d,b)}return b};
Mh[t].Fh=function(a){var b=a,c=Qh(a.ub(0));if(null!==c){var d=Ph(c[nb],a.M);if(null===d)return b;c.gf=d.wg;b=Rf(a).parent}return b};function Qh(a){a=Qf(a,function(a){return a instanceof wh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Oh(a){a=Qf(a,function(a){return a instanceof zh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Nh(a){a=Qf(a,function(a){return a instanceof Gh});return 0<a[C]?a[0]:null}
function Ph(a,b){if(a.h[C]!=b[C]||!b[Va](function(b,c){return b.J[u]()==a.h[c].ea[u]()}))return null;var c=Rh(b,a);return c[0]||c[1]?{yb:a,wg:c[1]}:null}function Rh(a,b){var c=a[La](function(a,b){return a<<1|(0==b.pb?0:1)},0),d=b.h[La](function(a,b){return a<<1|(0==b.pb?0:1)},0),d=c^d,c=0==d,d=d==ca.pow(2,ca.max(a[C],b.h[C]))-1;return[c,d]};
function Sh(a,b,c){this.Ca=a;this.cf=b;this.hf=c}Sh[t].rc=function(){this.hf[F](function(a){this.Ca=a.Hb(this.Ca,this.cf)},this);return this.Ca};
function Th(a,b){U[r](this,1,1);this.N=a;this.sl=b}K(Th,U);f(Th[t],function(){return"update("+this.N[u]()+")"});Th[t].ka=function(a,b){var c=b[0][B].map(function(a){var b=this.N.oc(a.xa.Ka());this.sl[F](function(a){b.u()[a.J[u]()]=a[v]},this);return b},this);a[Wa](this.N,c);return[je()]};
function Uh(a){this.m=a}Uh[t].create=function(a,b){var c=a.nb();if(c instanceof vg||c instanceof ug)return this.xe(a,b);if(c instanceof Bg||c instanceof Fg||c instanceof Gg)return this.xe(a,b,[new Ah(this.m),new Mh(this.m),new Lh]);if(c instanceof wg||c instanceof xg)return this.xe(a,b,[new Ah(this.m)]);throw new P(8);};Uh[t].xe=function(a,b,c){var d=Of(a.nb(),J(this.pk,this));null!=c&&(d=(new Sh(d,b,c)).rc());return new Ge(d,a.fa())};
Uh[t].pk=function(a){if(a instanceof Bg)return new Jh(a.h,a.Rb);if(a instanceof Eg)return new qh(a.h);if(a instanceof Dg)return new lg(a.h);if(a instanceof Cg)return new Gh(a.M);if(a instanceof Gg)return new Kh;if(a instanceof Fg)return new Fh;if(a instanceof yg)return new xh(a.Ba.da());if(a instanceof Ag)return new Lg;if(a instanceof Hg)return new Eh(a.Ba,a.ug);if(a instanceof zg)return new zh(this.m,a[h]);if(a instanceof wg)return new ph(a[h]);if(a instanceof xg)return new Th(a[h],a.sf);if(a instanceof
vg)return new Dh(this.m,a[h]);if(a instanceof ug)return new Bh(this.m,a[h]);throw new P(514);};

function Vh(a){this.mk=new oh;this.Ek=new Uh(a)}Vh[t].Dj=function(a){var b=this.mk[lb](a);return this.Ek[lb](b,a)};
function Wh(){this.Fg=new N}H=Wh[t];H.Fd=function(a){var b=this.Fg.get(a[u](),null);null===b&&(b=new Xh,this.Fg.set(a[u](),b));return b};H.Qj=function(a,b,c){b[F](function(b){this.Fd(b).Pj(a,c)},this)};H.Vh=function(a,b,c){return b[Va](function(b){return this.Fd(b).Uh(a,c)},this)};H.Wg=function(a,b,c){var d=this.Vh(a,b,c);d&&this.Qj(a,b,c);return d};H.releaseLock=function(a,b){b[F](function(b){this.Fd(b).releaseLock(a)},this)};H.ji=function(a){a[F](function(a){this.Fd(a).hb=null},this)};
function Xh(){this.dc=this.Wa=this.hb=this.Rc=null}Xh[t].releaseLock=function(a){this.Rc==a&&(this.Rc=null);this.hb==a&&(this.hb=null);null===this.Wa||this.Wa[x](a);null===this.dc||this.dc[x](a)};Xh[t].Uh=function(a,b){var c=null===this.Wa||this.Wa.Ha();return 0==b?(null===this.dc||this.dc.Ha())&&c&&null===this.Rc&&null!==this.hb&&this.hb==a:3==b?null===this.Rc&&null===this.hb&&null!==this.Wa&&this.Wa[tb](a):1==b?null===this.hb:c&&(null===this.hb||this.hb==a)};
Xh[t].Pj=function(a,b){0==b?(this.hb=null,this.Rc=a):3==b?(null===this.dc&&(this.dc=new O),this.dc.add(a),null===this.Wa&&(this.Wa=new O),this.Wa[x](a)):1==b?(null===this.Wa&&(this.Wa=new O),this.Wa.add(a)):2==b&&(this.hb=a)};
function Yh(){this.$b=new Zh;this.dd=new Wh}H=Yh[t];H.bc=function(a){(2>a[Bb]()||2>a[Bb]())&&this.dd.ji(a.fa().c());this.$b.zb(a);this.we();return a.Yc().ga};H.we=function(){for(var a=this.$b.c(),b=0;b<a[C];b++){var c=a[b],d=!1;if(d=0==c.Z()?this.Xg(c,1,3):this.Xg(c,2,0))this.$b[x](c),this.Pi(c)}};H.Xg=function(a,b,c){var d=!1,g=a.fa().c();this.dd.Wg(a.da(),g,b)&&(d=this.dd.Wg(a.da(),g,c));return d};H.Pi=function(a){a[Ra]()[z](J(this.Ak,this,a),J(this.zk,this,a))};
H.Ak=function(a,b){this.dd.releaseLock(a.da(),a.fa().c());a.Yc()[Db](b);this.we()};H.zk=function(a,b){this.dd.releaseLock(a.da(),a.fa().c());a.Yc()[Ma](b);this.we()};function Zh(){this.$b=[]}Zh[t].zb=function(a){uc(this.$b,a,function(a,c){var d=a[Bb]()-c[Bb]();return 0==d?a.da()-c.da():d})};Zh[t].c=function(){return this.$b[n]()};wa(Zh[t],function(a){var b=this.$b;a=gc(b,a);var c;(c=0<=a)&&mc(b,a);return c});

function $h(a,b){this.Gi=re.Ee();this.df=a;this.Td=b;this.F=this.zi()}$h[t].zi=function(){if(0<this.df.h[C])return this.df.h;var a=[];this.df.f[F](function(b){b.vb()[F](function(b){a[y](b)})});return a};$h[t].S=function(a,b){return this.F[Va](function(c){return this.Gi.De(c.Z(),"eq")(a.U(c),b.U(c))},this)};
$h[t].Eh=function(a,b){for(var c=null===a?[]:a[B],d=nd(c,b[B],J(this.S,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[C];l++){var p=c[l];d[k]==p?k++:(p=this.Td[A](k,1),p=ai(l,p,0,this.Td),g[y](p))}d=nd(c,b[B],J(this.S,this),function(a,c){return b[B][c]});for(l=k=0;l<b[B][C];l++)p=b[B][l],d[k]==p?k++:(this.Td[A](l,0,p.xa.u()),p=ai(l,[],1,this.Td),g[y](p));return g};function ai(a,b,c,d){return{tl:c,index:a,object:d,vl:b,type:"splice"}};
function bi(){this.qc=new N}H=bi[t];H.Ie=function(a){return Tb(a)[D]()};H.ie=function(a,b){var c=this.Ie(a.Id()),d=this.qc.get(c,null);null===d&&(d=new ci(a),this.qc.set(c,d));d.ie(b)};H.ff=function(a,b){var c=this.Ie(a.Id()),d=this.qc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.ff(b);L(g,"removeObserver: Inconsistent state detected.");d.Yj()||this.qc[x](c)};
H.Ke=function(a){var b=new O;a[F](function(a){b.add(a[u]())});var c=[];this.qc.c()[F](function(a){a=a.$c();a[ob].f[bb](function(a){return b[tb](a[u]())})&&c[y](a)});return c};H.qh=function(a,b){var c=this.Ie(null!=a.Kc?a.Kc:a),c=this.qc.get(c,null);return null!==c?(c.rl(b),!0):!1};function ci(a){this.Ph=a;this.gd=new O;this.xk=[];this.Cg=null;this.Ci=new $h(a.Id(),this.xk)}H=ci[t];H.ie=function(a){this.gd[tb](a)?cc("Attempted to register observer twice."):this.gd.add(a)};H.ff=function(a){return this.gd[x](a)};
H.$c=function(){return this.Ph.zj()};H.Yj=function(){return 0<this.gd.pa()};H.rl=function(a){var b=this.Ci.Eh(this.Cg,a);this.Cg=a;0<b[C]&&this.gd.c()[F](function(a){a(b)})};
function di(a,b){var c=a.o(Gd),d=b||{},g=new jf;a.qb(Bd,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new We(c);break;case 5:g=new Xe(c);break;case 4:g=new af(a,c,d.webSqlDbSize);break;case 3:g=new Qe(c,d.firebase);k=!0;break;default:g=new Ue(a,c)}a.qb(Ad,g);var l=new Kf;a.qb(Cd,l);return g.Fa(d.onUpgrade)[z](function(){a.qb(Dd,new Vh(a));var b=new Yh;a.qb(Ed,b);b=new bi;a.qb(Fd,b);return l.Fa(c)})[z](function(){k&&(new Le(a)).fl();return(new Jf(a)).Fa(c)})};

function ei(a,b){this.m=a;this.Db=a.o(Ad);this.Ya=a.o(Ed);this.Gb=a.o(Fd);this.ra=new O(b);this.Va=new be(this.m,this.ra.c());this.ac=Zc();this.Sc=Zc();this.uf=Zc()}H=ei[t];na(H,function(){this.uf[Db]();return this.Sc.ga});H.Z=Ib(1);H.fa=G("ra");H.Yc=G("ac");H.da=function(){return Tb(this)};Fa(H,Ib(2));H.uh=function(){this.Ya.bc(this);return this.uf.ga};
H.Mh=function(a){a=a.$c();return a.af.nb()[Ra](this.Va,a[ob])[z](function(a){return a[0].Fe()},J(function(a){this.Va.Ib();var c=new Qc(a[q]);this.Sc[Ma](c);throw a;},this))};H.oa=function(){this.Db.Ob(this.Z(),this.Va).oa()[z](J(function(){this.kd();this.Sc[Db]()},this),J(function(a){this.Va.Ib();this.Sc[Ma](a)},this));return this.ac.ga};H.Ib=function(){this.Va.Ib();this.Sc[Db]();return this.ac.ga};H.kd=function(){var a=this.Gb.Ke(this.ra.c());0!=a[C]&&(a=new Je(this.m,a),this.Ya.bc(a))};
function fi(a){this.m=a;this.Ya=a.o(Ed);this.nd=null;this.La=0}I("lf.proc.Transaction",fi,void 0);var gi=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));fi[t].Qa=function(a){var b=gi.get(this.La,null);if(null===b||!b[tb](a))throw new P(107,this.La,a);this.La=a};
na(fi[t],function(a){this.Qa(4);var b=[];try{a[F](function(a){a.lb();b[y](a.$c())},this)}catch(c){return this.Qa(7),Vc(c)}a=new Mg(this.m,b);return this.Ya.bc(a)[z](J(function(a){this.Qa(7);return a.map(function(a){return a.Fe()})},this),J(function(a){this.Qa(7);throw a;},this))});na(fi[t],fi[t][Ra]);fi[t].Nh=function(a){this.Qa(1);this.nd=new ei(this.m,a);return this.nd.uh()[z](J(function(){this.Qa(2)},this))};fi[t].begin=fi[t].Nh;
fi[t].Lh=function(a){this.Qa(3);return this.nd.Mh(a)[z](J(function(a){this.Qa(2);return a},this),J(function(a){this.Qa(7);throw a;},this))};fi[t].attach=fi[t].Lh;fi[t].oa=function(){this.Qa(5);return this.nd.oa()[z](J(function(){this.Qa(7)},this))};fi[t].commit=fi[t].oa;fi[t].Ib=function(){this.Qa(6);return this.nd.Ib()[z](J(function(){this.Qa(7)},this))};fi[t].rollback=fi[t].Ib;
function X(a){this.m=a;this.s=a.o(Gd);this.Me=!1}I("lf.proc.Database",X,void 0);X[t].Fa=function(a){this.m.qb(Gd,this.s);return di(this.m,a)[z](J(function(){this.Me=!0;return this},this))};X[t].init=X[t].Fa;X[t].xb=G("s");X[t].getSchema=X[t].xb;X[t].lc=function(){if(!this.Me)throw new P(2);};X[t].select=function(a){this.lc();return new W(this.m,1!=arguments[C]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].zb=function(){this.lc();return new bh(this.m)};X[t].insert=X[t].zb;
X[t].Ne=function(){this.lc();return new bh(this.m,!0)};X[t].insertOrReplace=X[t].Ne;ra(X[t],function(a){this.lc();return new fh(this.m,a)});ra(X[t],X[t][Wa]);sa(X[t],function(){this.lc();return new ah(this.m)});X[t]["delete"]=X[t][Za];X[t].observe=function(a,b){this.m.o(Fd).ie(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.m.o(Fd).ff(a,b)};X[t].unobserve=X[t].unobserve;X[t].xi=function(){this.lc();return new fi(this.m)};X[t].createTransaction=X[t].xi;
pa(X[t],function(){try{this.m.o(Ad)[Sa]()}catch(a){}this.m[db]();this.Me=!1});pa(X[t],X[t][Sa]);
function Y(a,b,c,d,g,k){this.N=a;this.B=b;this.yg=c;this.tg=d;this.ph=g;this.kb=k||null}I("lf.schema.BaseColumn",Y,void 0);H=Y[t];oa(H,G("B"));H.l=function(){return this.N.ta()+"."+this.B};f(H,function(){return this.l()});H.V=G("N");H.Z=G("ph");H.ab=G("kb");H.Ea=function(){null==this.ua&&(this.ua=[],this.V().Ea()[F](function(a){-1!=a.h.map(function(a){return a.ea[u]()})[ab](this.B)&&this.ua[y](a)},this));return this.ua};H.uc=G("tg");H.cd=G("yg");H.Ua=function(a){return fg(this,a,"eq")};Y[t].eq=Y[t].Ua;
Y[t].Gg=function(a){return fg(this,a,"neq")};Y[t].neq=Y[t].Gg;Y[t].Ue=function(a){return fg(this,a,"lt")};Y[t].lt=Y[t].Ue;Y[t].nk=function(a){return fg(this,a,"lte")};Y[t].lte=Y[t].nk;Y[t].Rj=function(a){return fg(this,a,"gt")};Y[t].gt=Y[t].Rj;Y[t].Sj=function(a){return fg(this,a,"gte")};Y[t].gte=Y[t].Sj;Y[t].match=function(a){return fg(this,a,"match")};Y[t].match=Y[t].match;Y[t].Oh=function(a,b){return fg(this,[a,b],"between")};Y[t].between=Y[t].Oh;Y[t].Zj=function(a){return fg(this,a,"in")};
Y[t]["in"]=Y[t].Zj;Y[t].gk=function(){return this.Ua(null)};Y[t].isNull=Y[t].gk;Y[t].fk=function(){return this.Gg(null)};Y[t].isNotNull=Y[t].fk;Y[t].Hc=function(a){return new Y(this.N,this.B,this.yg,this.tg,this.ph,a)};Y[t].as=Y[t].Hc;
function hi(){this.ce=new N}var ii;ua(hi[t],function(){this.ce[db]()});ua(hi[t],hi[t][db]);hi[t].qb=function(a,b){this.ce.set(a[D](),b);return b};hi[t].registerService=hi[t].qb;hi[t].o=function(a){var b=this.ce.get(a[D](),null);if(null==b)throw new P(7,a[D]());return b};hi[t].getService=hi[t].o;hi[t].Se=function(a){return this.ce.A(a[D]())};hi[t].isRegistered=hi[t].Se;
function ji(a){this.s=a;this.ef=new cf;this.Ng=new cf;this.Mf=new cf;this.i=new cf;this.te=new cf;this.bk()}H=ji[t];H.bk=function(){this.s.Za()[F](function(a){var b=new gf;a.Fb().cg()[F](function(c){var d=this.ef.get(c.fb)||[];d[y](c);this.ef.set(c.fb,d);b.add(this.s[h](c.fb));(d=this.i.get(c.fb))||(d=new gf);d.add(a);this.i.set(c.fb,d);this.Mf.set(a[u]()+"."+c.nc,c.fb);c=c.fb+"."+c.xc;d=this.te.get(c)||[];d[y](a[u]());this.te.set(c,d)},this);0!=b[Fb]&&this.Ng.set(a[u](),b)},this)};
H.Gj=function(a){return this.ef.get(a)||null};H.Vf=function(a,b){var c=b.get(a);return c?hf(c):[]};H.Bj=function(a){return this.Vf(a,this.Ng)};H.Cj=function(a){var b=new gf;a[F](function(a){(a=this.Mf.get(a))&&b.add(a)},this);return hf(b).map(function(a){return this.s[h](a)},this)};H.Zf=function(a){return this.Vf(a,this.i)};H.rj=function(a){var b=new gf;a[F](function(a){(a=this.te.get(a))&&a[F](function(a){b.add(a)})},this);return hf(b).map(function(a){return this.s[h](a)},this)};
function ki(a,b,c){this.Hk=a;this.vk=b;this.bj=c}ki[t].He=G("Hk");ki[t].yj=G("vk");ki[t].cg=G("bj");
function li(a,b){var c=a.ref[Ka](".");if(2!=c[C])throw new P(540,b);this.nc=a.local;this.fb=c[0];this.xc=c[1];ka(this,b);this.action=a.action;this.timing=a[Na]};
function Z(a){this.B=a;this.F=new cf;this.qf=new gf;this.Dc=new gf;this.Sd=new gf;var b=this.B;this.yc="pk"+(b[0].toUpperCase()+b.substring(1));this.ua=new cf;this.Wd=!1;this.mc(a);this.Xf=[]}I("lf.schema.TableBuilder",Z,void 0);function mi(a){ka(this,a[q]);this.pb=a.order;this.autoIncrement=a[pb]}var ni=new gf([0,6]);Z[t].mc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);if(this.F.has(a)||this.ua.has(a)||this.Dc.has(a))throw new P(503,this.B+"."+a);};
Z[t].di=function(a){var b=!1;a[F](function(a){var d=this.F.get(a[q]);b=b||a[pb];if(a[pb]&&3!=d)throw new P(504);},this);if(b&&1<a[C])throw new P(505);};Z[t].wh=function(a,b){this.mc(a);this.F.set(a,b);ni.has(b)&&this.yf([a]);return this};Z[t].addColumn=Z[t].wh;Z[t].yh=function(a,b){this.mc(this.yc);var c=this.Rd(a,!0,void 0,b);this.di(c);1==c[C]&&this.qf.add(c[0][q]);this.Dc.add(this.yc);this.ua.set(this.yc,c);return this};Z[t].addPrimaryKey=Z[t].yh;
Z[t].xh=function(a,b){this.mc(a);var c=new li(b,this.B+"."+a);Kb(c.action)||(c.action=0);Kb(c[Na])||(c.timing=0);if(1==c.action&&1==c[Na])throw new P(506);if(!this.F.has(c.nc))throw new P(540,a);this.Xf[y](c);this.xf(a,[c.nc],!1);return this};Z[t].addForeignKey=Z[t].xh;Z[t].zh=function(a,b){this.mc(a);var c=this.Rd(b,!0);this.Jf(a,c);1==c[C]&&this.qf.add(c[0][q]);this.ua.set(a,c);this.Dc.add(a);return this};Z[t].addUnique=Z[t].zh;
Z[t].yf=function(a){a=this.Rd(a,!1);this.ci(a);a[F](function(a){this.Sd.add(a[q])},this);return this};Z[t].addNullable=Z[t].yf;Z[t].ci=function(a){df(this.ua)[F](function(b){var c=new gf;this.ua.get(b)[F](function(a){c.add(a[q])});var d=a[Ha](function(a){return c.has(a[q])});if(1<c[Fb]&&0<d[C])throw new P(507,b,d[m](","));},this)};Z[t].xf=function(a,b,c,d){this.mc(a);b=this.Rd(b,!0,d);this.Jf(a,b);c&&this.Dc.add(a);this.ua.set(a,b);return this};Z[t].addIndex=Z[t].xf;
Z[t].Jf=function(a,b){if(1<b[C]){var c=b[Ha](function(a){return this.Sd.has(a[q])},this);if(0<c[C])throw new P(507,a,c[m](","));}};Z[t].Zb=Hb("Wd");Z[t].persistentIndex=Z[t].Zb;Z[t].xb=function(){return new (this.pj())};Z[t].getSchema=Z[t].xb;Z[t].Wc=G("Xf");
Z[t].Rd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new mi({name:a,order:c||1,autoIncrement:d||!1})}):a.map(function(a){return new mi(a)});g[F](function(a){if(!this.F.has(a[q]))throw new P(508,this.B,a[q]);if(b){var c=this.F.get(a[q]);if(0==c||6==c)throw new P(509,this.B,a[q]);}},this);return g};
Z[t].pj=function(){function a(){function a(c){return b.ua.get(c).map(function(a){return{ea:this[a[q]],pb:a.pb,autoIncrement:a[pb]}},this)}var d=df(b.F).map(function(a){this[a]=new Y(this,a,b.qf.has(a),b.Sd.has(a),b.F.get(a));return this[a]},this),g=df(b.ua).map(function(d){return new hg(b.B,d,b.Dc.has(d),a[r](this,d))},this);ig[r](this,b.B,d,g,b.Wd);var k=b.ua.has(b.yc)?new hg(b.B,b.yc,!0,a[r](this,b.yc)):null,l=d[Ha](function(a){return!b.Sd.has(a[u]())}),p=hf(b.Dc).map(function(d){return new hg(b.B,
d,!0,a[r](this,d))},this);this.ni=new ki(k,l,b.Wc(),p);this.$g=b.lj(d,g)}var b=this;K(a,ig);a[t].Eb=function(a){return new this.$g(fd++,a)};a[t].createRow=a[t].Eb;a[t].oc=function(a){var b={};this.vb()[F](function(g){var k=g[u]();g=g.Z();var l=a[v][k];if(0==g)if(null===l)g=l;else if(g=l,""==g)g=null;else{0!=g[C]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[C]/2),p=new Uint8Array(l),w=0,ba=0;w<g[C];w+=2)p[ba++]=ea(g.substr(w,2),16);g=l}else g=2==g?null===l?l:new Date(l):l;b[k]=g},this);return new this.$g(a.id,
b)};a[t].deserializeRow=a[t].oc;a[t].Fb=G("ni");a[t].getConstraint=a[t].Fb;return a};
Z[t].lj=function(a,b){function c(c,d){this.F=a;this.ua=b;ed[r](this,c,d)}K(c,ed);c[t].Qf=function(){var a={};this.F[F](function(b){a[b[u]()]=b.uc()?null:Xd[b.Z()]});return a};c[t].mh=function(){var a={};this.F[F](function(b){var c=b[u]();b=b.Z();var d=this.u()[c];a[c]=0==b?null===d?d:id(d):2==b?null===d?d:d[Cb]():d},this);return a};var d=J(function(a){var b=this.F.get(a[u]());return 2==b?function(b){b=b[a[u]()];return a.uc()&&null===b?null:b[Cb]()}:1==b?function(b){return a.uc()?(b=b[a[u]()],null===
b?null:b?1:0):b[a[u]()]?1:0}:function(b){return b[a[u]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ea)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[F](function(a){var b=a.l();a=1==a.h[C]?d(a.h[0].ea):g(a.h);k[b]=a});c[t].Tb=function(a){return-1!=a[ab]("#")?this.id():k[sb](a)?k[a](this.u()):null};return c};
function oi(a,b){this.s=new pi(a,b);this.rb=new N;this.Tc=!1}I("lf.schema.Builder",oi,void 0);H=oi[t];H.ai=function(a){a.Wc()[F](function(b){var c=b.fb;if(!this.rb.A(c))throw new P(536,b[q]);var c=this.rb.get(c).xb(),d=b.xc;if(!c[sb](d))throw new P(537,b[q]);if(a.xb()[b.nc].Z()!=c[d].Z())throw new P(538,b[q]);if(!c[d].cd())throw new P(539,b[q]);},this)};H.$h=function(a){a.Wc()[F](function(a){this.rb.get(a.fb).Wc()[F](function(c){if(c.nc==a.xc)throw new P(534,a[q]);},this)},this)};
H.Wi=function(){this.Tc||(this.rb.c()[F](function(a){this.ai(a);this.s.$k(a.xb())},this),this.rb.c()[F](this.$h,this),this.Zh(),this.rb[db](),this.Tc=!0)};H.Hf=function(a,b){a.tf||(a.tf=!0,a.Xe=!0,a.Tf[F](function(c){c=b.get(c);if(!c.tf)this.Hf(c,b);else if(c.Xe&&a!=c)throw new P(533);},this));a.Xe=!1};H.Zh=function(){var a=new cf;this.s.G.L()[F](function(b){a.set(b,new qi(b))},this);this.rb[F](function(b,c){b.Wc()[F](function(b){a.get(b.fb).Tf.add(c)})});ef(a)[F](function(b){this.Hf(b,a)},this)};
function qi(a){this.Xe=this.tf=!1;this.Tf=new gf;this.nf=a}H.xb=function(){this.Tc||this.Wi();return this.s};oi[t].getSchema=oi[t].xb;oi[t].dg=function(){var a=new zd("ns_"+this.s[q]()),b;ii||(ii=new hi);b=ii;var c=null;b.Se(a)?c=b.o(a):(c=new hi,b.qb(a,c));return c};oi[t].getGlobal=oi[t].dg;oi[t].connect=function(a){var b=this.dg();b.Se(Gd)||b.qb(Gd,this.xb());return(new X(b)).Fa(a)};oi[t].connect=oi[t].connect;
oi[t].vi=function(a){if(this.rb.A(a))throw new P(503,a);if(this.Tc)throw new P(535);this.rb.set(a,new Z(a));return this.rb.get(a)};oi[t].createTable=oi[t].vi;oi[t].mf=function(a){if(this.Tc)throw new P(535);this.s.mf(a);return this};oi[t].setPragma=oi[t].mf;function pi(a,b){this.B=a;this.Sa=b;this.G=new N;this.Rg={Di:!1}}I("lf.schema.DatabaseSchema",pi,void 0);ka(pi[t],G("B"));ka(pi[t],pi[t][q]);pi[t].version=G("Sa");pi[t].version=pi[t][ub];pi[t].Za=function(){return this.G.c()};pi[t].tables=pi[t].Za;
ja(pi[t],function(a){if(!this.G.A(a))throw new P(101,a);return this.G.get(a)});ja(pi[t],pi[t][h]);pi[t].info=function(){this.og||(this.og=new ji(this));return this.og};pi[t].$k=function(a){this.G.set(a[u](),a)};pi[t].Qg=G("Rg");pi[t].pragma=pi[t].Qg;pi[t].mf=Hb("Rg");I("lf.schema.create",function(a,b){return new oi(a,b)},void 0);}.bind(window))()
