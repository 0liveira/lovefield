(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function wa(a,b){return a.child=b}function xa(a,b){return a.next=b}function ya(a,b){return a.onerror=b}function za(a,b){return a.length=b}function g(a,b){return a.toString=b}function Aa(a,b){return a.bind=b}function Ba(a,b){return a.subscribe=b}function Ca(a,b){return a.forEach=b}function Da(a,b){return a.getPriority=b}
var Ea="openCursor",Fa="filter",Ga="once",Ha="objectStoreNames",Ia="split",k="table",Ja="reduce",Ka="join",La="reject",Ma="timing",Na="item",m="slice",Oa="target",n="name",q="call",r="prototype",Pa="clone",Qa="exec",t="getName",Ra="close",Sa="concat",u="value",Ta="setImmediate",Ua="every",Wa="update",Xa="global",Ya="propertyIsEnumerable",Za="delete",$a="sort",ab="indexOf",cb="some",db="count",eb="orderByChild",v="clear",fb="values",gb="replace",hb="reverse",ib="continue",jb="removeChild",kb="remove",
lb="child",mb="create",w="push",x="then",nb="transaction",ob="index",pb="context",z="splice",qb="autoIncrement",rb="next",sb="shift",tb="hasOwnProperty",ub="contains",vb="version",wb="objectStore",xb="offset",yb="apply",zb="stringify",A="entries",B="length",Ab="info",C="toString",Bb="compare",D="bind",Cb="getParent",Db="rows",E="forEach",Eb="getPriority",Fb="getTime",Gb="resolve",Hb="result",F="size";function Ib(){return function(){}}function Jb(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Kb(a){return function(){return a}}var H,Lb=this;function Mb(a){return void 0!==a}function Nb(){}
function Ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[r][C][q](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[B]&&"undefined"!=typeof a[z]&&"undefined"!=typeof a[Ya]&&!a[Ya]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[q]&&"undefined"!=typeof a[Ya]&&!a[Ya]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[q])return"object";return b}
function Pb(a){return null===a}function Qb(a){return null!=a}function Rb(a){var b=Ob(a);return"array"==b||"object"==b&&"number"==typeof a[B]}function Sb(a){return"string"==typeof a}function Ub(a){return"function"==Ob(a)}function Vb(a){return a[Wb]||(a[Wb]=++Xb)}var Wb="closure_uid_"+(1E9*ba.random()>>>0),Xb=0;function Yb(a,b,c){return a[q][yb](a[D],arguments)}
function Zb(a,b,c){if(!a)throw fa();if(2<arguments[B]){var d=e[r][m][q](arguments,2);return function(){var c=e[r][m][q](arguments);e[r].unshift[yb](c,d);return a[yb](b,c)}}return function(){return a[yb](b,arguments)}}function I(a,b,c){I=Function[r][D]&&-1!=Function[r][D][C]()[ab]("native code")?Yb:Zb;return I[yb](null,arguments)}function $b(a,b){var c=e[r][m][q](arguments,1);return function(){var b=c[m]();b[w][yb](b,arguments);return a[yb](this,b)}}
function J(a,b){var c=a[Ia]("."),d=Lb;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var f;c[B]&&(f=c[sb]());)!c[B]&&Mb(b)?d[f]=b:d=d[f]?d[f]:d[f]={}}function K(a,b){function c(){}c.prototype=b[r];a.Fb=b[r];a.prototype=new c;a[r].constructor=a;a.sg=function(a,c,h){for(var l=e(arguments[B]-2),p=2;p<arguments[B];p++)l[p-2]=arguments[p];return b[r][c][yb](a,l)}};function ac(a){if(fa.captureStackTrace)fa.captureStackTrace(this,ac);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(ac,fa);ja(ac[r],"CustomError");function bc(a,b,c){this.Vf=c;this.Cf=a;this.jg=b;this.pd=0;this.ld=null}bc[r].get=function(){var a;0<this.pd?(this.pd--,a=this.ld,this.ld=a[rb],xa(a,null)):a=this.Cf();return a};bc[r].put=function(a){this.jg(a);this.pd<this.Vf&&(this.pd++,xa(a,this.ld),this.ld=a)};var cc=e[r],dc=cc[ab]?function(a,b,c){return cc[ab][q](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[B]+c):c;if(Sb(a))return Sb(b)&&1==b[B]?a[ab](b,c):-1;for(;c<a[B];c++)if(c in a&&a[c]===b)return c;return-1},ec=cc[E]?function(a,b,c){cc[E][q](a,b,c)}:function(a,b,c){for(var d=a[B],f=Sb(a)?a[Ia](""):a,h=0;h<d;h++)h in f&&b[q](c,f[h],h,a)},fc=cc.map?function(a,b,c){return cc.map[q](a,b,c)}:function(a,b,c){for(var d=a[B],f=e(d),h=Sb(a)?a[Ia](""):a,l=0;l<d;l++)l in h&&(f[l]=b[q](c,h[l],l,a));return f},
gc=cc[Ja]?function(a,b,c,d){d&&(b=I(b,d));return cc[Ja][q](a,b,c)}:function(a,b,c,d){var f=c;ec(a,function(c,l){f=b[q](d,f,c,l,a)});return f},hc=cc[cb]?function(a,b,c){return cc[cb][q](a,b,c)}:function(a,b,c){for(var d=a[B],f=Sb(a)?a[Ia](""):a,h=0;h<d;h++)if(h in f&&b[q](c,f[h],h,a))return!0;return!1};function ic(a,b){cc[z][q](a,b,1)}function jc(a,b){var c;a:{c=a[B];for(var d=Sb(a)?a[Ia](""):a,f=0;f<c;f++)if(f in d&&b[q](void 0,d[f],f,a)){c=f;break a}c=-1}return 0<=c?(ic(a,c),!0):!1}
function kc(a){var b=a[B];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function lc(a,b){for(var c=1;c<arguments[B];c++){var d=arguments[c];if(Rb(d)){var f=a[B]||0,h=d[B]||0;za(a,f+h);for(var l=0;l<h;l++)a[f+l]=d[l]}else a[w](d)}}function mc(a,b,c,d){cc[z][yb](a,nc(arguments,1))}function nc(a,b,c){return 2>=arguments[B]?cc[m][q](a,b):cc[m][q](a,b,c)}function oc(a,b){return a>b?1:a<b?-1:0}
function pc(a,b,c){var d;c=c||oc;for(var f=0,h=a[B];f<h;){var l=f+h>>1,p;p=c(b,a[l]);0<p?f=l+1:(h=l,d=!p)}d=d?f:~f;0>d&&mc(a,-(d+1),0,b)}function qc(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b}function rc(a){for(var b=[],c=0;c<arguments[B];c++){var d=arguments[c];if("array"==Ob(d))for(var f=0;f<d[B];f+=8192)for(var h=rc[yb](null,nc(d,f,f+8192)),l=0;l<h[B];l++)b[w](h[l]);else b[w](d)}return b};function sc(a,b){for(var c in a)b[q](void 0,a[c],c,a)}function tc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function uc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var vc;a:{var wc=Lb.navigator;if(wc){var xc=wc.userAgent;if(xc){vc=xc;break a}}vc=""};function yc(a){Lb.setTimeout(function(){throw a;},0)}var zc;
function Ac(){var a=Lb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==vc[ab]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Ra]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=I(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==vc[ab]("Trident")&&-1==vc[ab]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Mb(c[rb])){c=c[rb];var a=c.ve;c.ve=null;a()}};return function(a){xa(d,{ve:a});d=d[rb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[jb](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Lb.setTimeout(a,0)}};function Bc(){this.xd=this.kc=null}var Dc=new bc(function(){return new Cc},function(a){a.reset()},100);Bc[r].add=function(a,b){var c=Dc.get();c.set(a,b);this.xd?xa(this.xd,c):this.kc=c;this.xd=c};va(Bc[r],function(){var a=null;this.kc&&(a=this.kc,this.kc=this.kc[rb],this.kc||(this.xd=null),xa(a,null));return a});function Cc(){this.scope=this.Jd=null;xa(this,null)}Cc[r].set=function(a,b){this.Jd=a;this.scope=b;xa(this,null)};Cc[r].reset=function(){this.scope=this.Jd=null;xa(this,null)};function Ec(a,b){Fc||Gc();Hc||(Fc(),Hc=!0);Ic.add(a,b)}var Fc;function Gc(){if(Lb.Promise&&Lb.Promise[Gb]){var a=Lb.Promise[Gb](void 0);Fc=function(){a[x](Jc)}}else Fc=function(){var a=Jc;if(!Ub(Lb[Ta])||Lb.Window&&Lb.Window[r]&&Lb.Window[r][Ta]==Lb[Ta])zc||(zc=Ac()),zc(a);else Lb[Ta](a)}}var Hc=!1,Ic=new Bc;function Jc(){for(var a=null;a=Ic[kb]();){try{a.Jd[q](a.scope)}catch(b){yc(b)}Dc.put(a)}Hc=!1};function L(a,b){this.Sa=0;this.$e=void 0;this.Zc=this.ac=this.D=null;this.kd=this.Id=!1;if(a!=Nb)try{var c=this;a[q](b,function(a){Kc(c,2,a)},function(a){Kc(c,3,a)})}catch(d){Kc(this,3,d)}}function Lc(){wa(this,null);this.context=this.ic=this.Ic=null;xa(this,null);this.zd=!1}Lc[r].reset=function(){wa(this,null);this.context=this.ic=this.Ic=null;this.zd=!1};var Mc=new bc(function(){return new Lc},function(a){a.reset()},100);function Nc(a,b,c){var d=Mc.get();d.Ic=a;d.ic=b;d.context=c;return d}
function Oc(a){if(a instanceof L)return a;var b=new L(Nb);Kc(b,2,a);return b}function Pc(a){return new L(function(b,c){c(a)})}function Qc(a,b,c){Rc(a,b,c,null)||Ec($b(b,a))}function Sc(a){return new L(function(b,c){var d=a[B],f=[];if(d)for(var h=function(a,c){d--;f[a]=c;0==d&&b(f)},l=function(a){c(a)},p=0,y;p<a[B];p++)y=a[p],Qc(y,$b(h,p),l);else b(f)})}function Tc(){var a,b,c=new L(function(c,f){a=c;b=f});return new Uc(c,a,b)}L[r].then=function(a,b,c){return Vc(this,Ub(a)?a:null,Ub(b)?b:null,c)};
L[r].then=L[r][x];L[r].$goog_Thenable=!0;function Wc(a,b,c){Vc(a,null,b,c)}function Xc(a,b){a.ac||2!=a.Sa&&3!=a.Sa||Yc(a);a.Zc?xa(a.Zc,b):a.ac=b;a.Zc=b}function Vc(a,b,c,d){var f=Nc(null,null,null);wa(f,new L(function(a,l){f.Ic=b?function(c){try{var f=b[q](d,c);a(f)}catch(P){l(P)}}:a;f.ic=c?function(b){try{var f=c[q](d,b);!Mb(f)&&b instanceof Zc?l(b):a(f)}catch(P){l(P)}}:l}));f[lb].D=a;Xc(a,f);return f[lb]}L[r].og=function(a){this.Sa=0;Kc(this,2,a)};L[r].pg=function(a){this.Sa=0;Kc(this,3,a)};
function Kc(a,b,c){0==a.Sa&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.Sa=1,Rc(c,a.og,a.pg,a)||(a.$e=c,a.Sa=b,a.D=null,Yc(a),3!=b||c instanceof Zc||$c(a,c)))}function Rc(a,b,c,d){if(a instanceof L)return Xc(a,Nc(b||Nb,c||null,d)),!0;var f;if(a)try{f=!!a.$goog_Thenable}catch(h){f=!1}else f=!1;if(f)return a[x](b,c,d),!0;f=typeof a;if("object"==f&&null!=a||"function"==f)try{var l=a[x];if(Ub(l))return ad(a,l,b,c,d),!0}catch(p){return c[q](d,p),!0}return!1}
function ad(a,b,c,d,f){function h(a){p||(p=!0,d[q](f,a))}function l(a){p||(p=!0,c[q](f,a))}var p=!1;try{b[q](a,l,h)}catch(y){h(y)}}function Yc(a){a.Id||(a.Id=!0,Ec(a.Hf,a))}function bd(a){var b=null;a.ac&&(b=a.ac,a.ac=b[rb],xa(b,null));a.ac||(a.Zc=null);return b}
L[r].Hf=function(){for(var a=null;a=bd(this);){var b=this.Sa,c=this.$e;if(3==b&&a.ic&&!a.zd)for(var d=void 0,d=this;d&&d.kd;d=d.D)d.kd=!1;if(a[lb])a[lb].D=null,cd(a,b,c);else try{a.zd?a.Ic[q](a[pb]):cd(a,b,c)}catch(f){dd[q](null,f)}Mc.put(a)}this.Id=!1};function cd(a,b,c){2==b?a.Ic[q](a[pb],c):a.ic&&a.ic[q](a[pb],c)}function $c(a,b){a.kd=!0;Ec(function(){a.kd&&dd[q](null,b)})}var dd=yc;function Zc(a){ac[q](this,a)}K(Zc,ac);ja(Zc[r],"cancel");
function Uc(a,b,c){this.ia=a;this.resolve=b;this.reject=c};/*

 Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function ed(a,b){this.na=a;this.o=b||this.ze()}var fd=0;H=ed[r];H.id=G("na");H.ze=function(){return{}};H.jf=G("o");H.Fa=function(){return{id:this.na,value:this.jf()}};H.Ob=function(a){return"#"==a.substr(-1)?this.na:null};function gd(a){return new ed(a.id,a[u])}function hd(a){return new ed(fd++,a||{})}function id(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[B];++c)var d=a[c][C](16),b=b+(2>d[B]?"0"+d:d);return b};function jd(a){this.type=a}function kd(a){ed[q](this,-1,a)}K(kd,ed);function ld(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var f=a[B],h=b[B],l=[],p=0;p<f+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<h+1;y++)l[0][y]=0;for(p=1;p<=f;p++)for(y=1;y<=h;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var P=[],p=f,y=h;0<p&&0<y;)c(a[p-1],b[y-1])?(P.unshift(d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return P}function md(a){return gc(arguments,function(a,c){return a+c},0)}
function nd(a){return md[yb](null,arguments)/arguments[B]}function od(a){var b=arguments[B];if(2>b)return 0;var c=nd[yb](null,arguments);return md[yb](null,fc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function pd(a){return ba.sqrt(od[yb](null,arguments))};var qd="StopIteration"in Lb?Lb.StopIteration:{message:"StopIteration",stack:""};function rd(){}xa(rd[r],function(){throw qd;});rd[r].lc=function(){return this};function sd(a){if(a instanceof rd)return a;if("function"==typeof a.lc)return a.lc(!1);if(Rb(a)){var b=0,c=new rd;xa(c,function(){for(;;){if(b>=a[B])throw qd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function td(a,b){if(Rb(a))try{ec(a,b,void 0)}catch(c){if(c!==qd)throw c;}else{a=sd(a);try{for(;;)b[q](void 0,a[rb](),void 0,a)}catch(d){if(d!==qd)throw d;}}}function ud(a){if(hc(arguments,function(a){return!a[B]})||!arguments[B])return new rd;var b=new rd,c=arguments,d=qc(c[B]);xa(b,function(){if(d){for(var a=fc(d,function(a,b){return c[b][a]}),b=d[B]-1;0<=b;b--){if(d[b]<c[b][B]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw qd;});return b};function vd(a,b){this.h={};this.b=[];this.La=this.$=0;var c=arguments[B];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}H=vd[r];H.Lb=G("$");H.fa=function(){wd(this);for(var a=[],b=0;b<this.b[B];b++)a[w](this.h[this.b[b]]);return a};H.Oa=function(){wd(this);return this.b[Sa]()};H.ka=function(a){return xd(this.h,a)};H.gc=function(){return 0==this.$};ta(H,function(){this.h={};za(this.b,0);this.La=this.$=0});
va(H,function(a){return xd(this.h,a)?(delete this.h[a],this.$--,this.La++,this.b[B]>2*this.$&&wd(this),!0):!1});function wd(a){if(a.$!=a.b[B]){for(var b=0,c=0;b<a.b[B];){var d=a.b[b];xd(a.h,d)&&(a.b[c++]=d);b++}za(a.b,c)}if(a.$!=a.b[B]){for(var f={},c=b=0;b<a.b[B];)d=a.b[b],xd(f,d)||(a.b[c++]=d,f[d]=1),b++;za(a.b,c)}}H.get=function(a,b){return xd(this.h,a)?this.h[a]:b};H.set=function(a,b){xd(this.h,a)||(this.$++,this.b[w](a),this.La++);this.h[a]=b};
H.addAll=function(a){var b;a instanceof vd?(b=a.Oa(),a=a.fa()):(b=uc(a),a=tc(a));for(var c=0;c<b[B];c++)this.set(b[c],a[c])};Ca(H,function(a,b){for(var c=this.Oa(),d=0;d<c[B];d++){var f=c[d],h=this.get(f);a[q](b,h,f,this)}});la(H,function(){return new vd(this)});H.lc=function(a){wd(this);var b=0,c=this.La,d=this,f=new rd;xa(f,function(){if(c!=d.La)throw fa("The map has changed since the iterator was created");if(b>=d.b[B])throw qd;var f=d.b[b++];return a?f:d.h[f]});return f};
function xd(a,b){return aa[r][tb][q](a,b)};/*

 Copyright 2015 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function yd(){this.h=new vd;aa.defineProperty(this,"size",{get:function(){return this.h.Lb()}})}ta(yd[r],function(){this.h[v]()});ta(yd[r],yd[r][v]);ra(yd[r],function(a){return this.h[kb](a)});yd[r]["delete"]=yd[r][Za];Ca(yd[r],function(a,b){return this.h[E](a,b)});Ca(yd[r],yd[r][E]);yd[r].get=function(a){return this.h.get(a)};yd[r].get=yd[r].get;yd[r].has=function(a){return this.h.ka(a)};yd[r].has=yd[r].has;yd[r].set=function(a,b){return this.h.set(a,b)};yd[r].set=yd[r].set;
function M(){return ca.Map&&ca.Map[r][fb]&&ca.Map[r][E]?new ca.Map:new yd}function zd(a){if(a instanceof yd)return a.h.Oa();var b=0,c=e(a[F]);a[E](function(a,f){c[b++]=f});return c}function Ad(a){if(a instanceof yd)return a.h.fa();var b=0,c=e(a[F]);a[E](function(a){c[b++]=a});return c};var Bd={};J("lf.TransactionType",Bd);Bd.READ_ONLY=0;Bd.READ_WRITE=1;function Cd(a,b){this.Pa=a;this.kf=b;this.Y=Tc()}Cd[r].ma=function(){try{Dd(this.Pa)}catch(a){return Pc(a)}return(0==this.kf?this.oc():Ed(this))[x](I(function(a){this.Pa.ma();return a},this))};function Ed(a){Fd(a);Gd(a);return a.oc()}function Fd(a){a.Pa.ob[E](function(a,c){var d=this.Pa.ba().get(c),d=this.J(d[t](),I(d.bc,d)),f=Ad(a.ya).map(function(a){return a.id()});0<f[B]&&Wc(d[kb](f),this.Ld,this);f=Ad(a.oa).map(function(a){return a[1]})[Sa](Ad(a.xa));Wc(d.put(f),this.Ld,this)},a)}
function Gd(a){Hd(a.Pa)[E](function(a){var c=this.J(a[t](),gd),d;c.get([-1])[x](function(a){d=a;return c[kb]([])})[x](function(){c.put(d);c.put(a.Fa())},I(this.Ld,this))},a)}Cd[r].Ld=function(a){this.Y[La](a)};function Id(a){this.kg=a}g(Id[r],G("kg"));var Jd=new Id("backstore"),Kd=new Id("cache"),Ld=new Id("indexstore"),Md=new Id("engine"),Nd=new Id("runner"),Od=new Id("observerregistry"),Pd=new Id("schema");function Qd(a){if("function"==typeof a.fa)return a.fa();if(Sb(a))return a[Ia]("");if(Rb(a)){for(var b=[],c=a[B],d=0;d<c;d++)b[w](a[d]);return b}return tc(a)};function Rd(a){this.h=new vd;a&&this.addAll(a)}function Sd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Vb(a):b.substr(0,1)+a}H=Rd[r];H.Lb=function(){return this.h.Lb()};H.add=function(a){this.h.set(Sd(a),a)};H.addAll=function(a){a=Qd(a);for(var b=a[B],c=0;c<b;c++)this.add(a[c])};va(H,function(a){return this.h[kb](Sd(a))});ta(H,function(){this.h[v]()});H.gc=function(){return this.h.gc()};H.contains=function(a){return this.h.ka(Sd(a))};H.fa=function(){return this.h.fa()};la(H,function(){return new Rd(this)});
H.lc=function(){return this.h.lc(!1)};function Td(a){this.Vb=new Rd(a);aa.defineProperty(this,"size",{get:function(){return this.Vb.Lb()}})}Td[r].add=function(a){this.Vb.add(a)};Td[r].add=Td[r].add;ta(Td[r],function(){this.Vb[v]()});ta(Td[r],Td[r][v]);ra(Td[r],function(a){return this.Vb[kb](a)});Td[r]["delete"]=Td[r][Za];Ca(Td[r],function(a,b){this.Vb.fa()[E](a,b)});Td[r].has=function(a){return this.Vb[ub](a)};Td[r].has=Td[r].has;function N(a){return ca.Set&&ca.Set[r][fb]&&ca.Set[r][E]?Mb(a)?new ca.Set(a):new ca.Set:new Td(a)}
function Ud(a){if(a instanceof Td)return a.Vb.fa();var b=0,c=e(a[F]);a[E](function(a){c[b++]=a});return c}function Vd(a,b){if(b[F]>a[F])return!1;var c=!0;b[E](function(b){c=c&&a.has(b)});return c};function Wd(a,b){this.na=a;this.o=b||{}}function Xd(a){var b=N();a[E](function(a){b.add(a>>9)});return Ud(b)}Wd[r].W=G("na");function Yd(a,b){b[E](function(a){this.o[a.id()]=a.Fa()},a)}function Zd(a,b){b[E](function(a){var b=this.o;a in b&&delete b[a]},a)}Wd[r].Fa=function(){return{id:this.na,value:ga[zb](this.o)}};function $d(a){return new Wd(a.id,ga.parse(a[u]))};function ae(a,b,c){this.V=a;this.Kb=b;this.af=c}H=ae[r];H.get=function(a){return 0==a[B]?this.wc():be(this,a)[x](I(function(b){return a.map(function(a){var d=b.get(a>>9);return this.Kb(d.o[a])},this)},this))};function be(a,b){var c=M(),d=Tc(),f=Xd(b).map(function(a){return new L(function(b,d){var f;try{f=this.V.get(a)}catch(P){d(P);return}ya(f,d);sa(f,I(function(a){a=$d(a[Oa][Hb]);c.set(a.W(),a);b()},this))},this)},a);Sc(f)[x](function(){d[Gb](c)});return d.ia}
H.wc=function(){return new L(function(a,b){var c=[],d;try{d=this.V[Ea]()}catch(f){b(f);return}ya(d,b);sa(d,I(function(){var b=d[Hb];if(b){var f;f=$d(b[u]).o;for(var p in f)c[w](this.Kb(f[p]));b[ib]()}else a(c)},this))},this)};H.Rb=function(a){return new L(function(b,c){var d;try{d=a()}catch(f){c(f);return}sa(d,b);ya(d,c)},this)};
H.put=function(a){if(0==a[B])return Oc();var b=M();a[E](function(a){var d;d=a.id()>>9;var f=b.get(d)||null;null===f&&(f=this.af(this.V[n],d));Yd(f,[a]);b.set(d,f)},this);a=Ad(b).map(function(a){return this.Rb(I(function(){return this.V.put(a.Fa())},this))},this);return Sc(a)};
va(H,function(a){if(0==a[B])return this.Rb(I(function(){return this.V[v]()},this));var b=M();a[E](function(a){var d=a>>9,f=b.get(d)||null;null===f&&(f=this.af(this.V[n],d));Zd(f,[a]);b.set(d,f)},this);a=Ad(b).map(function(a){return this.Rb(I(function(){var b;a:{b=a.o;for(var f in b){b=!1;break a}b=!0}return b?this.V[Za](a.W()):this.V.put(a.Fa())},this))},this);return Sc(a)});function ce(a,b,c){a=a.m(Kd);var d=[c<<9,(c+1<<9)-1];b=a.fb(b,d[0],d[1]);c=new Wd(c);Yd(c,b);return c}
function de(a,b){return new Wd(b)};function ee(){};function fe(a){this.ja=a.m(Kd);this.F=a.m(Ld);this.s=a.m(Pd)}qa(fe[r],function(a){a[E](function(a){ge(this,a);he(this,a)},this)});function he(a,b){var c=b[t]();b.ya[E](function(a,b){this.ja[kb](c,[b])},a);b.xa[E](function(a){this.ja.set(c,[a])},a);b.oa[E](function(a){this.ja.set(c,[a[1]])},a)}function ge(a,b){var c=a.s[k](b[t]());ie(b)[E](function(a){je(this,c,a)},a)}
function je(a,b,c){var d=[];(a.F.Oc.get(b[t]())||[])[E](function(a){try{ke(a,c),d[w](a)}catch(b){throw d[E](function(a){ke(a,[c[1],c[0]])},this),b;}},a)}function ke(a,b){var c=null===b[1]?void 0:b[1].Ob(a[t]()),d=null===b[0]?void 0:b[0].Ob(a[t]());if(!Mb(d)&&Mb(c))a.add(c,b[1].id());else if(Mb(d)&&Mb(c)){if(null===c||null===d){if(c==d)return}else if(0==a.pc()[Bb](d,c))return;a.add(c,b[1].id());a[kb](d,b[0].id())}else Mb(d)&&!Mb(c)&&a[kb](d,b[0].id())};var le={};J("lf.ConstraintAction",le);le.RESTRICT=0;le.CASCADE=1;var me={};J("lf.ConstraintTiming",me);me.IMMEDIATE=0;me.DEFERRABLE=1;var ne={};J("lf.Order",ne);ne.DESC=0;ne.ASC=1;var oe={};J("lf.Type",oe);oe.ARRAY_BUFFER=0;oe.BOOLEAN=1;oe.DATE_TIME=2;oe.INTEGER=3;oe.NUMBER=4;oe.STRING=5;oe.OBJECT=6;var pe={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};J("lf.type.DEFAULT_VALUES",pe);function O(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[B])for(var c=1;c<=ba.min(4,arguments[B]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][C]()[m](0,64)))}K(O,fa);function qe(a){this.F=a.m(Ld);this.s=a.m(Pd)}function re(a,b,c){var d=b.Ab().Zf;c[E](function(a){d[E](function(b){if(null==a.o[b[t]()])throw new O(202,b.l());},this)},a)}function se(a,b,c,d){b.Ab().Kd()[E](function(a){a[Ma]==d&&te(this,a,c)},a)}function te(a,b,c){var d=ue(a,b);c[E](function(a){if(ve(a[0],a[1],b[n])&&(a=a[1].o[b.Hb],null!==a&&!d.ka(a)))throw new O(203,b[n]);},a)}function ue(a,b){var c=a.s[k](b.$a)[b.Jc].Ha();return a.F.get(c.l())}
function ve(a,b,c){return(null===a?null!==b:null===b)||a.Ob(c)!=b.Ob(c)}function we(a,b,c,d){b=xe(a.s[Ab](),b[t]());null!=b&&b[E](function(a){if(a[Ma]==d){var b=this.F.get(a[n]),l=ue(this,a);c[E](function(c){if(ve(c[0],c[1],l[t]())&&b.ka(c[0].o[a.Jc]))throw new O(203,a[n]);},this)}},a)}function ye(a,b,c,d){0!=c[B]&&(c=c.map(function(a){return[null,a]}),se(a,b,c,d))}function ze(a,b,c,d){0!=c[B]&&(se(a,b,c,d),we(a,b,c,d))}
function Ae(a,b,c,d){0!=c[B]&&(c=c.map(function(a){return[a,null]}),we(a,b,c,d))};function Be(a){this.xa=M();this.oa=M();this.ya=M();this.u=a}H=Be[r];na(H,G("u"));H.add=function(a){if(this.ya.has(a.id())){var b=[this.ya.get(a.id()),a];this.oa.set(a.id(),b);this.ya[Za](a.id())}else this.xa.set(a.id(),a)};H.modify=function(a){var b=a[1],c=a[0].id();this.xa.has(c)?this.xa.set(c,b):(this.oa.has(c)&&(a=[this.oa.get(a[0].id())[0],b]),this.oa.set(c,a))};
ra(H,function(a){if(this.xa.has(a.id()))this.xa[Za](a.id());else if(this.oa.has(a.id())){var b=this.oa.get(a.id())[0];this.oa[Za](a.id());this.ya.set(a.id(),b)}else this.ya.set(a.id(),a)});function ie(a){var b=[];a.xa[E](function(a){b[w]([null,a])});a.oa[E](function(a){b[w](a)});a.ya[E](function(a){b[w]([a,null])});return b}g(H,function(){return"["+zd(this.xa)[C]()+"], ["+zd(this.oa)[C]()+"], ["+zd(this.ya)[C]()+"]"});
function Ce(a){var b=new Be(a.u);a.xa[E](function(a){b[Za](a)});a.ya[E](function(a){b.add(a)});a.oa[E](function(a){b.modify([a[1],a[0]])});return b}H.gc=function(){return 0==this.xa[F]&&0==this.ya[F]&&0==this.oa[F]};function De(a,b){this.qa=M();b[E](function(a){this.qa.set(a[t](),a)},this);this.ja=a.m(Kd);this.F=a.m(Ld);this.Ma=new qe(a);this.md=new fe(a);this.ob=M()}function Hd(a){var b=[];zd(a.ob).map(function(a){return this.qa.get(a)},a)[E](function(a){a.Cb()&&(a.za()[E](function(a){b[w](this.F.get(a.l()))},this),b[w](this.F.get(a[t]()+".#")))},a);return b}H=De[r];H.ba=G("qa");function Ee(a){var b=[];a.qa[E](function(a){a.Cb()&&(a.za()[E](function(a){b[w](a.l())}),b[w](a[t]()+".#"))});return b}
H.tb=function(a,b){Fe(this,a);re(this.Ma,a,b);ye(this.Ma,a,b,0);for(var c=0;c<b[B];c++)Ge(this,a,[null,b[c]])};function Ge(a,b,c){var d=b[t](),f=a.ob.get(d)||new Be(d);a.ob.set(d,f);try{je(a.md,b,c)}catch(h){throw h;}b=c[0];var l=c[1];null===b&&null!==l?(a.ja.set(d,[l]),f.add(l)):null!==b&&null!==l?(a.ja.set(d,[l]),f.modify(c)):null!==b&&null===l&&(a.ja[kb](d,[b.id()]),f[Za](b))}
qa(H,function(a,b){Fe(this,a);re(this.Ma,a,b);for(var c=0;c<b[B];c++){var d=b[c],d=[this.ja.get([d.id()])[0],d];ze(this.Ma,a,[d],0);Ge(this,a,d)}});H.Nd=function(a,b){Fe(this,a);re(this.Ma,a,b);for(var c=0;c<b[B];c++){var d=b[c],f=null,h,l=a.Ab().gd();if(null===l)h=null;else{h=this.Ma;var l=l.l(),p=d.Ob(l);h=h.F.get(l).get(p);h=0==h[B]?null:h[0]}null!=h?(f=this.ja.get([h])[0],d.na=h,ze(this.Ma,a,[[f,d]],0)):ye(this.Ma,a,[d],0);Ge(this,a,[f,d])}};
va(H,function(a,b){Fe(this,a);Ae(this.Ma,a,b,0);for(var c=0;c<b[B];c++)Ge(this,a,[b[c],null])});function Dd(a){a.ob[E](function(a){var c=this.qa.get(a[t]());ye(this.Ma,c,Ad(a.xa),1);Ae(this.Ma,c,Ad(a.ya),1);ze(this.Ma,c,Ad(a.oa),1)},a)}H.ma=Ib();H.Db=function(){var a=Ad(this.ob).map(function(a){return Ce(a)});this.md[Wa](a)};function Fe(a,b){if(!a.qa.has(b[t]()))throw new O(106,b[t]());};function He(a,b,c,d){this.c=a;this.w=b;this.aa=null===this.c?!1:c;this.la=null===this.w?!1:d}g(He[r],function(){return(this.aa?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.w?"unbound":this.w)+(this.la?")":"]")});function Ie(a){if(null===a.c&&null===a.w)return[];var b=null,c=null;null===a.c||(b=new He(null,a.c,!1,!a.aa));null===a.w||(c=new He(a.w,null,!a.la,!1));return[b,c][Fa](function(a){return null!==a})}He[r].reverse=function(){return new He(this.w,this.c,this.la,this.aa)};
function Je(a,b){var c=Ke(a.c,b.c,!0,a.aa,b.aa);if(0==c)return!0;var d=-1==c?a:b,c=1==c?a:b;return null===d.w||d.w>c.c||d.w==c.c&&!d.la&&!c.aa}function Le(){return new He(null,null,!1,!1)}function Me(a){return null===a.c&&null===a.w}function Ne(a){return null!=a.c&&a.c==a.w&&!a.aa&&!a.la}He[r].contains=function(a){var b=null===this.w||a<this.w||a==this.w&&!this.la;return(null===this.c||a>this.c||a==this.c&&!this.aa)&&b};
function Ke(a,b,c,d,f){function h(a){return c?a:1==a?-1:1}d=d||!1;f=f||!1;return null===a?null===b?(d?!f:f)?d?h(1):h(-1):0:h(-1):null===b?h(1):a<b?-1:a==b?(d?!f:f)?d?h(1):h(-1):0:1}function Oe(a,b){var c=Ke(a.c,b.c,!0,a.aa,b.aa);0==c&&(c=Ke(a.w,b.w,!1,a.la,b.la));return c};function Pe(a,b){this.entries=a;this.H=N(b);this.Xa=null}function Q(a){return Ud(a.H)}function Qe(a){return a[A].map(function(a){return a.sa.o})}function Re(a){return a[A].map(function(a){return a.sa.id()})}function Se(a,b){return a.Xa.get(b.l())}var Te=null;function Ue(){null===Te&&(Te=new Pe([],[]));return Te}
function Ve(a){if(0==a[B])return Ue();for(var b=a[Ja](function(a,b){return a+b[A][B]},0),c=e(b),d=0,b=a.map(function(a){var b=M();a[A][E](function(a){c[d++]=a;b.set(a.id,a)});return b}),f=M(),h=0;h<c[B];h++)b[Ua](function(a){return a.has(c[h].id)})&&f.set(c[h].id,c[h]);return new Pe(Ad(f),Ud(a[0].H))}function We(a){if(0==a[B])return Ue();var b=M();a[E](function(a){a[A][E](function(a){b.set(a.id,a)})});return new Pe(Ad(b),Ud(a[0].H))}
function Xe(a,b){var c=1<b[B],d=a.map(function(a){return new Ye(a,c)});return new Pe(d,b)}function Ye(a,b){this.sa=a;this.id=Ze++;this.Qd=b}var Ze=0;function $e(a,b){var c=b.Ya();return null!==c&&a.sa.o[tb](c)?a.sa.o[c]:a.Qd?a.sa.o[af(b.J())][b[t]()]:a.sa.o[b[t]()]}function bf(a,b,c){var d=b.Ya();if(null!=d)a.sa.o[d]=c;else if(a.Qd){var d=af(b.J()),f=a.sa.o[d];null==f&&(f={},a.sa.o[d]=f);f[b[t]()]=c}else a.sa.o[b[t]()]=c}
function cf(a,b,c,d){function f(a,b){if(a.Qd){var c=a.sa.o,d;for(d in c)h[d]=c[d]}else h[b[0]]=a.sa.o}var h={};f(a,b);f(c,d);a=new ed(-1,h);return new Ye(a,!0)};J("lf.bind",function(a){return new df(a)});function df(a){this.ca=a}J("lf.Binder",df);df[r].Ha=G("ca");function ef(){this.Le=ff();var a=gf();this.ec=M();this.ec.set(1,hf());this.ec.set(2,jf());this.ec.set(4,a);this.ec.set(3,a);this.ec.set(5,kf())}ef.ed=function(){return ef.He?ef.He:ef.He=new ef};function mf(a,b,c){return(a.ec.get(b)||null).get(c)||null}function ff(){function a(a){return a}var b=M();b.set(1,function(a){return null===a?null:a?1:0});b.set(2,function(a){return null===a?null:a[Fb]()});b.set(3,a);b.set(4,a);b.set(5,a);return b}
function hf(){var a=M();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function gf(){var a=hf();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return null===a||null===c?!1:a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c[ab](a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}
function kf(){var a=gf();a.set("match",function(a,c){return null===a||null===c?!1:(new RegExp(c)).test(a)});return a}
function jf(){var a=M();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a[Fb]()>=c[0][Fb]()&&a[Fb]()<=c[1][Fb]()});a.set("eq",function(a,c){return(null===a?-1:a[Fb]())==(null===c?-1:c[Fb]())});a.set("gte",function(a,c){return null===a||null===c?!1:a[Fb]()>=c[Fb]()});a.set("gt",function(a,c){return null===a||null===c?!1:a[Fb]()>c[Fb]()});a.set("in",function(a,c){return c[cb](function(c){return c[Fb]()==a[Fb]()})});a.set("lte",function(a,c){return null===a||null===c?!1:a[Fb]()<=
c[Fb]()});a.set("lt",function(a,c){return null===a||null===c?!1:a[Fb]()<c[Fb]()});a.set("neq",function(a,c){return(null===a?-1:a[Fb]())!=(null===c?-1:c[Fb]())});return a};function nf(a,b){this.Ne=a;this.nf=b}nf[r].getKey=G("Ne");la(nf[r],function(){return new nf(this.Ne,this.nf)});function of(a,b){nf[q](this,a,b);this.g=this.D=null}K(of,nf);var pf=[];H=of[r];la(H,function(){return new of(this.getKey(),this.nf)});H.getParent=G("D");function R(a){return a.g||pf}function qf(a){return R(a)[0]||null}function rf(a){for(var b=0;a[Cb]();)b++,a=a[Cb]();return b}H.gb=function(){for(var a=this;a[Cb]();)a=a[Cb]();return a};H.contains=function(a){do a=a[Cb]();while(a&&a!=this);return Boolean(a)};function sf(a,b,c){if(!1!==b[q](c,a)){a=R(a);for(var d=0;d<a[B];d++)sf(a[d],b,c)}}
function tf(a,b){uf(a,b,a.g?a.g[B]:0)}function uf(a,b,c){b.D=a;a.g=a.g||[];mc(a.g,c,0,b)}function vf(a,b){var c=a.g&&a.g[b];return c?(c.D=null,ic(a.g,b),0==a.g[B]&&(a.g=null),c):null}H.removeChild=function(a){return vf(this,dc(R(this),a))};function wf(){of[q](this,"","");this.na=xf++}K(wf,of);var xf=0;wf[r].W=G("na");function yf(a,b,c){wf[q](this);this.I=a;pa(this,b);this.N=c;this.cd=mf(ef.ed(),this.I.O(),this.N);this.Za=!1;this.$b=b}K(yf,wf);H=yf[r];H.Ib=function(){var a=new yf(this.I,this[u],this.N);a.$b=this.$b;a.vd(this.Za);var b=this.W();a.na=b;return a};H.eb=function(a){return null!=a?(a[w](this.I),a):[this.I]};H.vd=Jb("Za");function zf(a){var b=!1;a[u]instanceof df||(b="array"==Ob(a[u])?!a[u][cb](function(a){return a instanceof df}):!0);if(!b)throw new O(501);}
H.eval=function(a){zf(this);if("in"==this.N)return Af(this,a);var b=a[A][Fa](function(a){return this.cd($e(a,this.I),this[u])!=this.Za},this);return new Pe(b,Q(a))};Aa(H,function(a){if(this.$b instanceof df){var b=this.$b.Ha();if(a[B]<=b)throw new O(510);pa(this,a[b])}else"array"==Ob(this.$b)&&pa(this,this.$b.map(function(b){if(b instanceof df){var d=b.Ha();if(a[B]<=d)throw new O(510);return a[b.Ha()]}return b}))});
function Af(a,b){var c=N(a[u]),d=I(function(a){return null===a?!1:c.has(a)!=this.Za},a),f=b[A][Fa](function(a){return d($e(a,this.I))},a);return new Pe(f,Q(b))}g(H,function(){return"value_pred("+this.I.l()+" "+this.N+(this.Za?"(complement)":"")+" "+this[u]+")"});function Bf(a){this.da=a;this.$c=this.va=null}function Cf(a,b){null===a.va&&null!=a.B&&(a.va=Df(a.B));return a.va.get(b)||null}function Df(a){var b=M();sf(a,function(a){b.set(a.W(),a)});return b}function Ef(a,b){b.B&&(a.B=b.B.Ib());a.$c=b}Aa(Bf[r],function(){return this});function Ff(a,b){var c=a.B;null!=c&&sf(c,function(a){a instanceof yf&&a[D](b)})};function Gf(a){Bf[q](this,a)}K(Gf,Bf);function Hf(a){var b="";a[E](function(c,d){b+=c.I.l()+" ";b+=1==c.jb?"ASC":"DESC";d<a[B]-1&&(b+=", ")});return b}Gf[r].ba=function(){return N(this.c)};la(Gf[r],function(){var a=new Gf(this.da);Ef(a,this);this.f&&(a.f=this.f[m]());this.c&&(a.c=this.c[m]());a.U=this.U;a.L=this.L;this.K&&(a.K=this.K[m]());this.ga&&(a.ga=this.ga[m]());this.Pb&&(a.Pb=this.Pb);this.Xb&&(a.Xb=this.Xb);a.ub=this.ub;return a});
Aa(Gf[r],function(a){Gf.Fb[D][q](this,a);null!=this.Pb&&(this.U=a[this.Pb.Ha()]);null!=this.Xb&&(this.L=a[this.Xb.Ha()]);Ff(this,a);return this});function If(a,b){this.wa=a;this.qa=b}If[r].gb=G("wa");If[r].Be=Kb("plan description");If[r].ba=G("qa");function Jf(a){var b=N();a[E](function(a){a.ba()[E](b.add[D](b))});return b};function Kf(a,b){this.global=a;this.xb=a.m(Jd);this.sd=b.map(function(a){return a[pb]});this.We=b.map(function(a){return a.ae});this.xe=Jf(this.We);this.lf=Lf(this);this.Tb=Tc()}function Lf(a){return a.sd[cb](function(a){return!(a instanceof Gf)})?1:0}H=Kf[r];
ma(H,function(){var a=new De(this[Xa],this.xe),b=[],c=this.We[m](),d=I(function(){var f=c[sb]();if(f){var h=this.sd[b[B]];return f.gb()[Qa](a,h)[x](function(a){b[w](a[0]);return d()})}return Oc()},this);return d()[x](I(function(){return this.xb.Jb(this.lf,a).ma()},this))[x](I(function(){this.Yd(b);return b},this),I(function(b){a.Db();throw b;},this))});H.O=G("lf");H.ba=G("xe");H.xc=G("Tb");H.W=function(){return Vb(this)};H.Yd=Ib();function Mf(a,b){Kf[q](this,a,b);this.Bb=a.m(Od)}K(Mf,Kf);Da(Mf[r],Kb(0));Mf[r].Yd=function(a){this.sd[E](function(b,c){Nf(this.Bb,b,a[c])},this)};function Of(a,b){this.j=a;this.Bb=a.m(Od);this.Ra=a.m(Nd);this.md=new fe(a);this.ob=b;var c=a.m(Pd),d=this.ob.map(function(a){return c[k](a[t]())});this.qa=N(d);this.Tb=Tc()}H=Of[r];ma(H,function(){this.md[Wa](this.ob);this.Mc();return Oc()});H.O=Kb(1);H.ba=G("qa");H.xc=G("Tb");H.W=function(){return Vb(this)};Da(H,Kb(1));H.Mc=function(){var a=Pf(this.Bb,this.qa);0!=a[B]&&(a=new Mf(this.j,a),Qf(this.Ra,a))};function Rf(a){this.j=a;this.xb=a.m(Jd);this.Ra=a.m(Nd)}Rf[r].Wd=function(a){a=new Of(this.j,a);Qf(this.Ra,a)};function S(a,b){this.La=a;this.i=b;this.Ua=M()}J("lf.backstore.FirebaseRawBackStore",S);S[r].hd=G("i");S[r].jd=function(){throw new O(351);};function Sf(a,b){var c=Tc(),d=a;b[B]&&(d=a[lb](b));d[Ga]("value",function(a){c[Gb](a.val())},function(a){c[La](a)});return c.ia}function Tf(a,b,c){function d(a){a?f[La](a):f[Gb]()}c=c||!1;var f=Tc();c?a.set(b,d):a[Wa](b,d);return f.ia}
S[r].Aa=function(a){return Sf(this.i,"@rev/R")[x](function(a){this.Ja=a;return Sf(this.i,"@table")}[D](this))[x](function(b){var c=0,d;for(d in b)this.Ua.set(d,b[d]),b[d]>c&&(c=b[d]);a.Va()[E](function(a){this.Ua.has(a[t]())||(b[a[t]()]=++c)},this);d=this.i[lb]("@table");return Tf(d,b)}[D](this))};
function Uf(a,b,c){var d=a.Ua.get(b);return null!=d?function(){var a={},b=Tc();this.i[eb]("T").equalTo(d)[Ga]("value",function(d){d[E](function(b){var d=c(b.val());a[da(b.key(),10)]=d});b[Gb](a)});return b.ia}[q](a)[x](function(a){a["@rev"]={R:++this.Ja};return Tf(this.i,a)}[D](a)):Oc()}S[r].rc=function(a){return Uf(this,a,Kb(null))[x](function(){this.Ua[Za](a);return Tf(this.i[lb]("@table/"+a),null,!0)}[D](this))};S[r].dropTable=S[r].rc;
S[r].mc=function(a,b,c){return Uf(this,a,function(a){var f=a.P;f[b]=c;return{R:this.Ja+1,T:a.T,P:f}}[D](this))};S[r].addTableColumn=S[r].mc;S[r].sc=function(a,b){return Uf(this,a,function(a){var d=a.P;delete d[b];return{R:this.Ja+1,T:a.T,P:d}}[D](this))};S[r].dropTableColumn=S[r].sc;S[r].Lc=function(a,b,c){return Uf(this,a,function(a){var f=a.P;f[c]=f[b];delete f[b];return{R:this.Ja+1,T:a.T,P:f}}[D](this))};S[r].renameTableColumn=S[r].Lc;S[r].yb=function(){throw new O(351);};S[r].createRow=S[r].yb;
S[r].Ac=G("La");S[r].getVersion=S[r].Ac;S[r].cc=function(a){var b=Tc();a=this.Ua.get(a);this.i[eb]("T").equalTo(a)[Ga]("value",function(a){var d=[];a[E](function(a){d[w](a.val().P)});b[Gb](d)});return b.ia};ka(S[r],function(){var a={},b=zd(this.Ua).map(function(b){return this.cc(b)[x](function(d){a[b]=d})}[D](this));return Sc(b)[x](function(){return a})});ka(S[r],S[r].dump);function Vf(a,b,c){Cd[q](this,c,b);this.i=a}K(Vf,Cd);Vf[r].J=function(a){return this.i.yc(a)};
Vf[r].oc=function(){var a=this.Pa.ob;if(0==a[F])this.Y[Gb]();else{var b=this.i.Ja+1;this.i.Ja=b;var c={"@rev":{R:b}};a[E](function(a,f){var h=this.i.Ua.get(f);a.xa[E](function(a,d){c[d]={R:b,T:h,P:a.o}});a.oa[E](function(a,d){c[d]={R:b,T:h,P:a[1].o}});a.ya[E](function(a,b){c[b]=null})},this);this.i.i[Wa](c,function(c){if(null===c)this.Y[Gb]();else this.i.Ja=b-1,c=Ad(a).map(function(a){return Wf(this.i,a[t]())},this),Sc(c)[x](this.Y[La][D](this.Y),this.Y[La][D](this.Y))}[D](this))}return this.Y.ia};function Xf(){this.qb=M()}function Yf(a,b){if(0==b[B])return Ad(a.qb);var c=[];b[E](function(a){a=this.qb.get(a)||null;null===a||c[w](a)},a);return c}Xf[r].getData=G("qb");Xf[r].get=function(a){return Oc(Yf(this,a))};function Zf(a,b){b[E](function(a){this.qb.set(a.id(),a)},a)}Xf[r].put=function(a){Zf(this,a);return Oc()};function $f(a,b){0==b[B]||b[B]==a.qb[F]?a.qb[v]():b[E](function(a){this.qb[Za](a)},a)}va(Xf[r],function(a){$f(this,a);return Oc()});
function ag(a){return 0==a.qb[F]?0:zd(a.qb)[Ja](function(a,c){return a>c?a:c},0)};function bg(a,b){this.s=a;this.sf=b;this.Kc=M();this.Ja=-1;this.H=M();this.Ua=M();this.Bd=null}H=bg[r];
H.Aa=function(a){this.i=this.sf[lb](this.s[n]());var b=a||function(){return Oc()};return Sf(this.i,"@db/version")[x](function(a){return null===a?Tf(this.i,cg(this),!0)[x](function(){var a=new S(0,this.i);return b(a)}[D](this)):a==this.s[vb]()?Sf(this.i,"@rev/R")[x](function(a){this.Ja=a;return Sf(this.i,"@table")}[D](this))[x](function(a){for(var b in a)this.Ua.set(b,a[b]);a=this.s.Va().map(function(a){return Wf(this,a[t]())},this);return Sc(a)}[D](this))[x](function(){dg(this);eg(this);return Oc()}[D](this)):
this.Zd(a,b)[x](function(){return this.Aa()}[D](this))}[D](this))};H.Zd=function(a,b){var c=new S(a,this.i);return c.Aa(this.s)[x](function(){return Oc()}[D](this))[x](function(){return b(c)})[x](function(){var a=this.i[lb]("@db");return Tf(a,{version:this.s[vb]()},!0)}[D](this))};function eg(a){a.i.off();a.i.on("child_removed",a.ag[D](a));a.Cd&&(a.Cd.off(),a.Kc[v]());a.Cd=a.i[eb]("R").startAt(a.Ja+1);a.Cd.on("value",a.Wd[D](a))}
function dg(a){fd=Ad(a.H).map(function(a){return ag(a)})[Ja](function(a,c){return a>c?a:c},0)+1}H.ag=function(a){var b=a.val(),c=this.Kc.get(b.T)||null;null===c&&(c=N(),this.Kc.set(b.T,c));c.add(da(a.key(),10))};H.Wd=function(a){var b=a[lb]("@rev/R").val();null!=b&&b!=this.Ja&&(this.Ja=b,a=fg(this,a),a[E](function(a){var b=this.H.get(a[t]()),f=zd(a.ya);0<f[B]&&$f(b,f);var h=Ad(a.xa);a.oa[E](function(a){h[w](a[1])});Zf(b,h)},this),0<a[B]&&this.Fc(a),eg(this))};
function fg(a,b){var c=N(),d=M();a.Ua[E](function(a,b){var l=this.H.get(b),p=new Be(b);if(this.Kc.has(a)){var y=Ud(this.Kc.get(a));y[E](function(a){c.add(a)});Yf(l,y)[E](function(a){p[Za](a)})}d.set(a,p)}[D](a));b[E](function(a){if("@rev"!=a.key()){var b=da(a.key(),10);if(!c.has(b)){a=a.val();var l=d.get(a.T),p=this.H.get(l[t]());p.getData().has(b)?l.modify([Yf(p,[b])[0],new ed(b,a.P)]):l.add(new ed(b,a.P))}}}[D](a));return Ad(d)[Fa](function(a){return!a.gc()})}
function Wf(a,b){var c=Tc(),d=a.Ua.get(b);a.i[eb]("T").equalTo(d)[Ga]("value",function(a){var d=new Xf,l=[];a[E](function(a){l[w](new ed(da(a.key(),10),a.val().P))});Zf(d,l);this.H.set(b,d);c[Gb]()}[D](a));return c.ia}function cg(a){var b={};b["@db"]={version:a.s[vb]()};b["@rev"]={R:1};a.Ja=1;b["@table"]={};a.s.Va()[E](function(a,d){var f=a[t]();b["@table"][f]=d;this.H.set(f,new Xf);this.Ua.set(f,d)},a);return b}H.Jb=function(a,b){return new Vf(this,a,b)};
H.yc=function(a){var b=this.H.get(a)||null;if(null!==b)return b;throw new O(101,a);};oa(H,Ib());Ba(H,Jb("Bd"));H.Fc=function(a){null!=this.Bd&&this.Bd(a)};function T(a,b,c,d){this.i=b;this.Ka=c;this.La=a;this.Xc=d}J("lf.backstore.IndexedDBRawBackStore",T);T[r].hd=G("i");T[r].getRawDBInstance=T[r].hd;T[r].jd=G("Ka");T[r].getRawTransaction=T[r].jd;T[r].rc=function(a){return new L(function(b,c){try{this.i.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};T[r].dropTable=T[r].rc;
function gg(a,b,c,d){return new L(function(a,h){var l;try{var p=this.Ka[wb](b);l=p[Ea]()}catch(y){h(y);return}sa(l,function(){var b=l[Hb];b?(c(b),b[ib]()):(d(p),a())});ya(l,h)},a)}function hg(a){var b=null;return b=a instanceof ArrayBuffer?id(a):a instanceof Date?a[Fb]():a}function ig(a,b,c){function d(a){var b=$d(a[u]),d=b.o,f;for(f in d){var P=gd(d[f]);c(P);d[f]=P.Fa()}a[Wa](b.Fa())}function f(a){var b=gd(a[u]);c(b);a[Wa](b.Fa())}return gg(a,b,a.Xc?d:f,Ib())}
T[r].mc=function(a,b,c){var d=hg(c);return ig(this,a,function(a){a.o[b]=d})};T[r].addTableColumn=T[r].mc;T[r].sc=function(a,b){return ig(this,a,function(a){delete a.o[b]})};T[r].dropTableColumn=T[r].sc;T[r].Lc=function(a,b,c){return ig(this,a,function(a){a.o[c]=a.o[b];delete a.o[b]})};T[r].renameTableColumn=T[r].Lc;
function jg(a,b){var c=[];return new L(function(a,f){var h;try{h=this.Ka[wb](b)[Ea]()}catch(l){f(l);return}sa(h,I(function(){var b=h[Hb];if(b){if(this.Xc){var f;f=$d(b[u]).o;for(var l in f)c[w](f[l])}else c[w](b[u]);b[ib]()}else a(c)},this));ya(h,f)},a)}T[r].yb=function(a){var b={};sc(a,I(function(a,d){b[d]=hg(a)},this));return hd(b)};T[r].createRow=T[r].yb;T[r].Ac=G("La");T[r].getVersion=T[r].Ac;
ka(T[r],function(){for(var a=this.i[Ha],b=[],c=0;c<a[B];++c){var d=a[Na](c);b[w](this.cc(d))}return Sc(b)[x](function(b){var c={};b[E](function(b,d){c[a[Na](d)]=b});return c})});ka(T[r],T[r].dump);T[r].cc=function(a){return jg(this,a)[x](function(a){return a.map(function(a){return a[u]})})};function kg(a,b){this.V=a;this.Kb=b}H=kg[r];H.get=function(a){if(0==a[B])return this.wc();a=a.map(function(a){return new L(function(c,d){var f;try{f=this.V.get(a)}catch(h){d(h);return}ya(f,d);sa(f,I(function(a){c(this.Kb(a[Oa][Hb]))},this))},this)},this);return Sc(a)};H.wc=function(){return new L(function(a,b){var c=[],d;try{d=this.V[Ea]()}catch(f){b(f);return}ya(d,b);sa(d,I(function(){var b=d[Hb];b?(c[w](this.Kb(b[u])),b[ib]()):a(c)},this))},this)};
H.Rb=function(a){return new L(function(b,c){var d;try{d=a()}catch(f){c(f);return}sa(d,b);ya(d,c)},this)};H.put=function(a){if(0==a[B])return Oc();a=a.map(function(a){return this.Rb(I(function(){return this.V.put(a.Fa())},this))},this);return Sc(a)};
va(H,function(a){return new L(function(b,c){var d=this.V[db]();sa(d,I(function(d){if(0==a[B]||d[Oa][Hb]==a[B])return this.Rb(I(function(){return this.V[v]()},this))[x](b,c);d=a.map(function(a){return this.Rb(I(function(){return this.V[Za](a)},this))},this);Sc(d)[x](b,c)},this));ya(d,c)},this)});function lg(a,b,c,d,f){Cd[q](this,c,d);this.j=a;this.Ka=b;this.Xc=f;this.Ka.oncomplete=I(this.Y[Gb],this.Y);this.Ka.onabort=I(this.Y[La],this.Y)}K(lg,Cd);lg[r].J=function(a,b,c){return this.Xc?(c=null!=c?c:0,a=this.Ka[wb](a),new ae(a,b,0==c?$b(ce,this.j):de)):new kg(this.Ka[wb](a),b)};lg[r].oc=function(){return this.Y.ia};function mg(a,b){this.j=a;this.s=b;this.Yc=b.Xe().Ef||!1}H=mg[r];H.Aa=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new O(352);var c=a||function(){return Oc()};return new L(function(a,f){var h;try{h=b.open(this.s[n](),this.s[vb]())}catch(l){f(l);return}ya(h,f);h.onupgradeneeded=I(function(a){ng(this,c,a)[x](Ib(),f)},this);sa(h,I(function(b){this.i=b[Oa][Hb];this.ge()[x](I(function(b){fd=b+1;a(this.i)},this))},this))},this)};
function ng(a,b,c){var d=c[Oa][Hb],f=c[Oa][nb];c=new T(c.oldVersion,d,f,a.Yc);og(d);a.s.Va()[E]($b(a.zf,d,f),a);return b(c)}function og(a){for(var b=[],c=0;c<a[Ha][B];++c){var d=a[Ha][Na](c);-1!=d[ab](".")&&b[w](d)}b[E](function(b){try{a.deleteObjectStore(b)}catch(c){}})}H.zf=function(a,b,c){a[Ha][ub](c[t]())||a.createObjectStore(c[t](),{keyPath:"id"});c.Cb()&&(c.za()[E](function(c){this.qc(a,b,c.l(),"btree")},this),this.qc(a,b,c.u+".#","rowid"))};
H.qc=function(a,b,c,d){a[Ha][ub](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[wb](c),(this.Yc?new ae(a,gd,de):new kg(a,gd)).put([new kd(new jd(d))]))};H.Jb=function(a,b){var c=zd(b.ba());Ee(b)[E](function(a){c[w](a)});var d=this.i[nb](c,0==a?"readonly":"readwrite");return new lg(this.j,d,b,a,this.Yc)};
H.ge=function(a){function b(){if(0==c[B])return Oc();var a=c[sb]();return l(a)[x](b)}var c=this.s.Va().map(function(a){return a[t]()}),d=this.i,f=0,h=I(function(a){return this.Yc?(a=$d(a[u]),uc(a.o)[Ja](function(a,b){return ba.max(a,b)},0)):a.key},this),l=I(function(b){return new L(function(c,l){var Va;try{Va=(a||d[nb]([b]))[wb](b)[Ea](null,"prev")}catch(bb){l(bb);return}sa(Va,function(a){(a=a[Oa][Hb])&&(f=ba.max(f,h(a)));c(f)});ya(Va,function(){c(f)})},this)},this);return new L(function(a){b()[x](function(){a(f)})})};
oa(H,function(){this.i[Ra]()});H.yc=function(){throw new O(511);};Ba(H,Ib());H.Fc=Ib();function pg(a,b,c){Cd[q](this,c,b);this.V=a;0==b&&this.Y[Gb]()}K(pg,Cd);pg[r].J=function(a){return this.V.yc(a)};pg[r].oc=function(){this.Y[Gb]();return this.Y.ia};function qg(a){this.s=a;this.H=M()}H=qg[r];H.Aa=function(){this.s.Va()[E](this.Of,this);return Oc()};H.yc=function(a){var b=this.H.get(a)||null;if(null===b)throw new O(101,a);return b};H.Jb=function(a,b){return new pg(this,a,b)};function rg(a,b){if(!a.H.has(b)){var c=new Xf;a.H.set(b,c);return c}return null}H.Of=function(a){rg(this,a[t]());a.Cb()&&(a.za()[E](function(a){this.qc(a.l(),"btree")},this),this.qc(a.u+".#","rowid"))};H.qc=function(a,b){var c=rg(this,a);null===c||c.put([new kd(new jd(b))])};
oa(H,Ib());Ba(H,Ib());H.Fc=Ib();function sg(a){qg[q](this,a);this.od=null}K(sg,qg);Ba(sg[r],function(a){null===this.od&&(this.od=a)});sg[r].Fc=function(a){null===this.od||this.od(a)};function tg(a,b,c){this.Ka=a;this.u=b;this.Kb=c}tg[r].get=function(a){var b=this.Kb;ug(this.Ka,"SELECT id, value FROM "+this.u+" "+(0==a[B]?"":"WHERE id IN ("+a[Ka](",")+")"),[],function(a){for(var d=a[Db][B],f=e(d),h=0;h<d;++h)f[h]=b({id:a[Db][Na](h).id,value:ga.parse(a[Db][Na](h)[u])});return f});return this.Ka.ma()};tg[r].put=function(a){if(0==a[B])return Oc();var b="INSERT OR REPLACE INTO "+this.u+"(id, value) VALUES (?, ?)";a[E](function(a){ug(this.Ka,b,[a.id(),ga[zb](a.o)])},this);return Oc()};
va(tg[r],function(a){ug(this.Ka,"DELETE FROM "+this.u+" "+(0==a[B]?"":"WHERE id IN ("+a[Ka](",")+")"),[]);return Oc()});function vg(a,b,c){Cd[q](this,b,c);this.i=a;this.H=M();this.Fd=[]}K(vg,Cd);vg[r].J=function(a,b){var c=this.H.get(a)||null;null===c&&(c=new tg(this,a,b),this.H.set(a,c));return c};function ug(a,b,c,d){a.Fd[w]({mg:b,dg:c,transform:d})}
vg[r].oc=function(){var a,b,c=this.Y[La][D](this.Y),d=function(a,b){this.Y[La](b)}[D](this),f=I(function(c,l){a=l;if(this.Fd[B]){var p=this.Fd[sb]();b=p.transform;c.executeSql(p.mg,p.dg,f,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.Y[Gb](p)},this);0==this.kf?this.i.readTransaction(f,c):this.i[nb](f,c);return this.Y.ia};function U(a,b,c){this.i=c;this.j=a;this.La=b}J("lf.backstore.WebSqlRawBackStore",U);U[r].hd=G("i");U[r].getRawDBInstance=U[r].hd;U[r].jd=function(){throw new O(356);};U[r].getRawTransaction=U[r].jd;function wg(a){return new vg(a.i,new De(a.j,N()),1)}U[r].rc=function(a){var b=wg(this);ug(b,"DROP TABLE "+a,[]);return b.ma()};U[r].dropTable=U[r].rc;
U[r].cc=function(a){var b=wg(this);ug(b,"SELECT id, value FROM "+a,[]);return b.ma()[x](function(a){for(var b=a[Db][B],f=e(b),h=0;h<b;++h)f[h]={id:a[Db][Na](h).id,value:ga.parse(a[Db][Na](h)[u])};return Oc(f)})};function xg(a,b,c){var d=wg(a),f="UPDATE "+b+" SET value=? WHERE id=?";return a.cc(b)[x](function(a){a[E](function(a){a=c(a);ug(d,f,[ga[zb](a[u]),a.id])});return d.ma()})}U[r].mc=function(a,b,c){var d=hg(c);return xg(this,a,function(a){a[u][b]=d;return a})};U[r].addTableColumn=U[r].mc;
U[r].sc=function(a,b){return xg(this,a,function(a){delete a[u][b];return a})};U[r].dropTableColumn=U[r].sc;U[r].Lc=function(a,b,c){return xg(this,a,function(a){a[u][c]=a[u][b];delete a[u][b];return a})};U[r].renameTableColumn=U[r].Lc;U[r].yb=function(a){var b={},c;for(c in a)b[c]=hg(a[c]);return hd(b)};U[r].createRow=U[r].yb;U[r].Ac=G("La");U[r].getVersion=U[r].Ac;
function yg(a){ug(a,'SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Db][B]),d=0;d<c[B];++d)c[d]=a[Db][Na](d).tbl_name;return c})}ka(U[r],function(){var a=Tc(),b=wg(this);yg(b);var c={};b.ma()[x](I(function(b){b=b[Fa](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.cc(a)[x](function(b){c[a]=b})},this);Sc(b)[x](function(){a[Gb](c)})},this));return a.ia});ka(U[r],U[r].dump);function zg(a,b,c){this.j=a;this.s=b;this.lg=c||4194304}function Ag(a){return new De(a.j,N())}H=zg[r];H.Aa=function(a){if(null==ca.openDatabase)throw new O(353);var b=a||function(){return Oc()};return new L(I(function(a,d){try{var f=ca.openDatabase(this.s[n](),"",this.s[n](),this.lg);if(null!=f)this.i=f,Bg(this,b)[x](a,d);else throw new O(354);}catch(h){d(h)}},this))};
function Bg(a,b){var c=Tc(),d=new vg(a.i,Ag(a),1);ug(d,"CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);ug(d,"SELECT v FROM __lf_ver WHERE id = 0",[]);d.ma()[x](I(function(a){var d=0;a[Db][B]&&(d=a[Db][Na](0).v);d<this.s[vb]()?this.Zd(b,d)[x](c[Gb][D](c)):d>this.s[vb]()?c[La](new O(108)):c[Gb]()},a));return c.ia}H.Jb=function(a,b){if(null!=this.i)return new vg(this.i,b,a);throw new O(2);};oa(H,Ib());H.yc=function(){throw new O(512);};Ba(H,function(){throw new O(355);});
H.Fc=function(){throw new O(355);};H.Zd=function(a,b){var c=Tc();Cg(this)[x](I(function(){a(new U(this.j,b,this.i))[x](I(function(){return this.ge()},this))[x](c[Gb][D](c))},this),c[La][D](c));return c.ia};
function Cg(a){var b=a.s.Va(),c=new vg(a.i,Ag(a),1),d=new vg(a.i,Ag(a),1);ug(c,"INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[a.s[vb]()]);yg(c);return c.ma()[x](function(a){a[Fa](function(a){return-1!=a[ab](".")})[E](function(a){ug(d,"DROP TABLE "+a,[])});var c=a[Fa](function(a){return-1==a[ab](".")});b.map(function(a){return a[t]()})[Fa](function(a){return-1==c[ab](a)})[E](function(a){ug(d,"CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return d.ma()})}
H.ge=function(){var a=0,b=Tc(),c=I(function(b){var c=new vg(this.i,Ag(this),0);ug(c,"SELECT MAX(id) FROM "+b,[]);return c.ma()[x](function(b){b=b[Db][Na](0)[0];a=ba.max(b,a)})},this),d=this.s.Va().map(function(a){return c(a[t]())});Sc(d)[x](function(){b[Gb](a)},function(a){b[La](a)});return b.ia};function Dg(){this.h=M();this.gf=M()}function Eg(a,b){var c=a.gf.get(b);Mb(c)||(c=N(),a.gf.set(b,c));return c}H=Dg[r];H.set=function(a,b){var c=Eg(this,a);b[E](I(function(a){this.h.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(I(function(a){return this.h.get(a)||null},this))};
H.fb=function(a,b,c){var d=[],f=ba.min(b,c),h=ba.max(b,c);a=Eg(this,a);if(a[F]<h-f)a[E](function(a){a>=f&&a<=h&&(a=this.h.get(a),d[w](a))},this);else for(b=f;b<=h;++b)a.has(b)&&(c=this.h.get(b),d[w](c));return d};va(H,function(a,b){var c=Eg(this,a);b[E](function(a){this.h[Za](a);c[Za](a)},this)});H.Lb=function(a){return null!=a?Eg(this,a)[F]:this.h[F]};function Fg(a,b){for(var c=0,d=a[B];c<d;){var f=c+d>>1;a[f]<b?c=f+1:d=f}return c==d&&a[c]==b?c:~c};function Gg(a,b,c,d){a=b?a[hb]():a;if(null==c&&null==d)return a;c=ba.min(Mb(c)?c:a[B],a[B]);if(0==c)return[];d=ba.min(d||0,a[B]);return a[m](d,d+c)};function Hg(){this.ra=0}Hg[r].add=function(a,b){this.ra+=b};va(Hg[r],function(a,b){this.ra-=b});ta(Hg[r],function(){this.ra=0});function Ig(a,b){a[v]();b[E](function(a){this.ra+=a.ra},a)};function Jg(a,b,c,d){this.u=a;this.S=b;this.me=c;this.mb=new Hg;if(d){a=511;a*=a*a;if(d[B]>=a)throw new O(6,a);d=Kg(this,d);this.pa=d=Lg(d)}else this[v]()}var Mg=[];H=Jg[r];na(H,G("u"));g(H,function(){return this.pa[C]()});H.add=function(a,b){this.pa=this.pa.tb(a,b)};H.set=function(a,b){this.pa=this.pa.tb(a,b,!0)};va(H,function(a,b){this.pa=this.pa[kb](a,b)});H.get=function(a){return this.pa.get(a)};H.bd=function(a){if(null==a)return this.Ta().ra;if(a instanceof He){if(Me(a))return this.Ta().ra;if(Ne(a))return this.get(a.c)[B]}return this.fb([a])[B]};
H.Ta=G("mb");H.wc=function(a,b,c,d){c=e(a);this.pa.fill({offset:b?this.mb.ra-a-d:d,count:a,ke:0},c);return b?c[hb]():c};
H.fb=function(a,b,c,d){var f=Ng(this.pa).b[0];if(!Mb(f)||0==c)return Mg;b=b||!1;c=null!=c?ba.min(c,this.mb.ra):this.mb.ra;d=d||0;var h=ba.min(ba.max(this.mb.ra-d,0),c);if(0==h)return Mg;if(!Mb(a)||1==a[B]&&a[0]instanceof He&&Me(a[0]))return this.wc(h,b,c,d);a=this.S.ef(a);var l=e(b?this.mb.ra:h),p={count:0,U:l[B],reverse:b,L:d};a[E](function(a){for(var b=this.S.td(a),b=this.S.Pd(a)?f:b[0],b=Og(this.pa,b),c=p[db],d=0;null!=b&&p[db]<p.U;)b.fb(a,p,l),p[db]!=c?(d=0,c=p[db]):d++,b=2==d?null:b[rb]()},this);
l[z](p[db],h-p[db]);return b?Gg(l,b,c,d):l};ta(H,function(){this.pa=Pg(this);this.mb[v]()});H.ka=function(a){return this.pa.ka(a)};H.min=function(){return this.Ec(I(this.S.min,this.S))};H.max=function(){return this.Ec(I(this.S.max,this.S))};H.Ec=function(a){var b=Ng(this.pa),c=Qg(this.pa);if(0==b.b[B]&&0==c.b[B])return null;var d=b.b[0],b=b.A[0],f=c.b[c.b[B]-1],c=c.A[c.b[B]-1];return 1==a(d,f)?[d,this.me?[b]:b]:[f,this.me?[c]:c]};H.Ia=G("me");H.pc=G("S");
H.Td=function(a,b){return null!=a?-1==this.S[Bb](a,b):!1};H.Na=function(a,b){return null!=a?0==this.S[Bb](a,b):!1};H.Fa=function(){for(var a=[],b=Ng(this.pa);b;)a[w](new ed(b.na,[b.b,b.A])),b=b.ta;return a};function Rg(a,b,c,d){a=new Jg(b,a,c);d=Sg(d,a);a.pa=d;return a}function Tg(a,b){this.na=a;this.C=b;this.hb=0;this.ta=this.vb=this.D=null;this.b=[];this.A=[];this.g=[]}function Pg(a){return new Tg(fd++,a)}function Ug(a){return 0==a.hb}H=Tg[r];xa(H,G("ta"));
function Vg(a){function b(a){return null!=a?a.na[C]():"_"}var c=a.na+"["+a.b[Ka]("|")+"]",d=a.g.map(function(a){return a.na})[Ka]("|"),f=a.A[Ka]("/"),h=b(a.vb)+"{",h=Ug(a)?h+f:h+d,h=h+"}"+b(a.D);a.ta&&(a=Vg(a.ta),c=c+"  "+a[0],h=h+"  "+a[1]);return[c,h]}g(H,function(){var a="",b=Vg(this),a=a+(b[0]+"\n"+b[1]+"\n");this.g[B]&&(a+=this.g[0][C]());return a});function Ng(a){return Ug(a)?a:Ng(a.g[0])}function Qg(a){return Ug(a)?a:Qg(a.g[a.g[B]-1])}function Wg(a,b){b&&(b.vb=a);a&&(a.ta=b)}
function Kg(a,b){for(var c=b[B],d=0,f=Pg(a),h=f;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[m](d,d+l);f.b=p.map(function(a){return a.key});f.A=p.map(function(a){return a[u]});d+=l;c-=l;0<c&&(l=Pg(f.C),Wg(f,l),f=l)}return h}function Xg(a){var b=a[0],c=Pg(b.C);c.hb=b.hb+1;c.g=a;for(b=0;b<a[B];++b)a[b].D=c,0<b&&c.b[w](a[b].b[0]);return c}
function Lg(a){var b=a,c=[];do c[w](b),b=b.ta;while(b);if(512>=c[B])b=Xg(c);else{var d=c[B],f=0,b=Pg(a.C);for(b.hb=a.hb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var h=c[m](f,f+a),l=Xg(h);l.D=b;b.g[B]&&(b.b[w](h[0].b[0]),Wg(b.g[b.g[B]-1],l));b.g[w](l);f+=a;d-=a}}return b}H.get=function(a){var b=Yg(this,a);if(Ug(this)){var c=Mg;this.C.Na(this.b[b],a)&&(c=c[Sa](this.A[b]));return c}b=this.C.Na(this.b[b],a)?b+1:b;return this.g[b].get(a)};
H.ka=function(a){var b=Yg(this,a);return this.C.Na(this.b[b],a)?!0:Ug(this)?!1:this.g[b].ka(a)};va(H,function(a,b){Zg(this,a,-1,b);if(null==this.D){var c=this;1==this.g[B]&&(c=this.g[0],c.D=null);return c}return this});function $g(a){return Ug(a)?a.b[0]:$g(a.g[0])}function ah(a){a.b=[];for(var b=1;b<a.g[B];++b)a.b[w]($g(a.g[b]))}
function Zg(a,b,c,d){var f=Yg(a,b),h=Ug(a);if(!h){var l=a.C.Na(a.b[f],b)?f+1:f;if(Zg(a.g[l],b,l,d))ah(a);else return!1}else if(!a.C.Na(a.b[f],b))return!1;if(a.b[B]>f&&a.C.Na(a.b[f],b)){if(Mb(d)&&!a.C.Ia()&&h&&(l=a.A[f],d=Fg(l,d),0>d?d=!1:(l[z](d,1),d=!0),d&&a.C.Ta()[kb](b,1),a.A[f][B]))return!1;a.b[z](f,1);h&&(h=a.C.Ia()?1:a.A[f][B],a.A[z](f,1),a.C.Ta()[kb](b,h))}if(256>a.b[B]&&null!=a.D){a:{b=null;if(a.ta&&256<a.ta.b[B])b=a.ta,f=d=0,h=a.b[B]+1;else if(a.vb&&256<a.vb.b[B])b=a.vb,d=a.vb.b[B]-1,f=Ug(a)?
d:d+1,h=0;else{b=!1;break a}a.b[z](h,0,b.b[d]);b.b[z](d,1);d=Ug(a)?a.A:a.g;l=null;Ug(a)?l=b.A:(l=b.g,l[f].D=a);d[z](h,0,l[f]);l[z](f,1);Ug(b)||(ah(b),ah(a));b=!0}b||bh(a,c)}return!0}function bh(a,b){var c,d,f;a.ta&&511>a.ta.b[B]?(c=a.ta,f=d=0):a.vb&&(c=a.vb,d=c.b[B],f=Ug(c)?c.A[B]:c.g[B]);d=[d,0][Sa](a.b);e[r][z][yb](c.b,d);d=null;Ug(a)?d=a.A:(d=a.g,d[E](function(a){a.D=c}));d=[f,0][Sa](d);e[r][z][yb](Ug(c)?c.A:c.g,d);Wg(a.vb,a.ta);Ug(c)||ah(c);-1!=b&&(a.D.b[z](b,1),a.D.g[z](b,1))}
H.tb=function(a,b,c){var d=Yg(this,a);if(Ug(this)){if(this.C.Na(this.b[d],a)){if(c)this.C.Ta()[kb](a,this.C.Ia()?1:this.A[d][B]),this.A[d]=this.C.Ia()?b:[b];else{if(this.C.Ia())throw new O(201);d=this.A[d];c=Fg(d,b);0>c?(d[z](-(c+1),0,b),b=!0):b=!1;if(!b)throw new O(109);}this.C.Ta().add(a,1);return this}this.b[z](d,0,a);this.A[z](d,0,this.C.Ia()?b:[b]);this.C.Ta().add(a,1);512==this.b[B]?(a=Pg(this.C),b=Pg(this.C),b.hb=1,b.b=[this.b[256]],b.g=[this,a],b.D=this.D,this.D=b,a.b=this.b[z](256),a.A=this.A[z](256),
a.D=b,Wg(a,this.ta),Wg(this,a),a=b):a=this;return a}d=this.C.Na(this.b[d],a)?d+1:d;a=this.g[d].tb(a,b,c);Ug(a)||1!=a.b[B]||(this.b[z](d,0,a.b[0]),a.g[1].D=this,a.g[0].D=this,this.g[z](d,1,a.g[1]),this.g[z](d,0,a.g[0]));return 512==this.b[B]?ch(this):this};function ch(a){var b=Pg(a.C),c=Pg(a.C);b.D=a.D;b.hb=a.hb+1;b.b=[a.b[256]];b.g=[a,c];a.b[z](256,1);c.D=b;c.hb=a.hb;c.b=a.b[z](256);c.g=a.g[z](257);c.g[E](function(a){a.D=c});a.D=b;Wg(c,a.ta);Wg(a,c);return b}
function Yg(a,b){for(var c=0,d=a.b[B];c<d;){var f=c+d>>1;a.C.Td(a.b[f],b)?c=f+1:d=f}return c}function Og(a,b){if(!Ug(a)){var c=Yg(a,b);a.C.Na(a.b[c],b)&&c++;return Og(a.g[c],b)}return a}
H.fb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var f=this.C.pc(),h=0,l=this.b[B]-1,p=this.b,y=d(f.pb(p[h],a)),P=d(f.pb(p[l],a));if(1!=y&&(-1!=y||-1!=P)){var Va=function(a,b){var c=a+b>>1;return c==a?c+1:c},bb=function(b,c,h){if(b>=c)return 0==h?c:-1;var l=d(f.pb(p[b],a));if(0==l)return b;if(1==l)return-1;l=Va(b,c);if(l==c)return 0==h?c:-1;var y=d(f.pb(p[l],a));return 0==y?bb(b,l,y):-1==y?bb(l+1,c,h):bb(b+1,l,y)},Tb=function(b,c){if(b>=c)return b;var h=d(f.pb(p[c],a));if(0==h)return c;
if(-1==h)return b;h=Va(b,c);if(h==c)return b;var l=d(f.pb(p[h],a));return 0==l?Tb(h,c):1==l?Tb(b,h-1):-1};0!=y&&(h=bb(h+1,l,P));-1!=h&&(l=Tb(h,l),-1!=l&&l>=h&&dh(this,b,c,h,l+1))}};function dh(a,b,c,d,f){for(;d<f&&(b[hb]||!(b[db]>=b.U));++d)if(a.C.Ia())!b[hb]&&b.L?b.L--:c[b.count++]=a.A[d];else for(var h=0;h<a.A[d][B]&&b[db]<c[B];++h)!b[hb]&&b.L?b.L--:c[b.count++]=a.A[d][h]}
H.fill=function(a,b){if(Ug(this))for(var c=0;c<this.A[B]&&0<a[db];++c)if(0<a[xb]){if(a.offset=a[xb]-(this.C.Ia()?1:this.A[c][B]),0>a[xb])for(var d=this.A[c][B]+a[xb];d<this.A[c][B]&&0<a[db];++d)b[a.ke++]=this.A[c][d],a.count--}else if(this.C.Ia())b[a.ke++]=this.A[c],a.count--;else for(d=0;d<this.A[c][B]&&0<a[db];++d)b[a.ke++]=this.A[c][d],a.count--;else for(c=0;c<this.g[B]&&0<a[db];++c)this.g[c].fill(a,b)};
function Sg(a,b){for(var c=b.Ta(),d=a.map(function(a){var d=new Tg(a.id(),b);d.b=a.o[0];d.A=a.o[1];d.b[E](function(a,f){c.add(a,b.Ia()?1:d.A[f][B])});return d}),f=0;f<d[B]-1;++f)Wg(d[f],d[f+1]);return 1<d[B]?Lg(d[0]):d[0]};function eh(a){if(1==a.f[B])return new fh(a.f[0].jb);a=a.f.map(function(a){return a.jb});return new gh(a)}function fh(a){this.ad=0==a?hh:ih;this.Ud=0==a?function(a){return null!=a?a[hb]():null}:function(a){return a||null};this.$d=0==a?jh:kh}K(fh,ee);function ih(a,b){return a>b?1:a<b?-1:0}function hh(a,b){return ih(b,a)}function kh(a,b){return Oe(a,b)}function jh(a,b){return Oe(b,a)}H=fh[r];
H.pb=function(a,b){var c=this.Ud(b),d=[null===c.c,null===c.w];if(!d[0]){var f=this.ad(a,c.c);d[0]=c.aa?1==f:-1!=f}d[1]||(f=this.ad(a,c.w),d[1]=c.la?-1==f:1!=f);return d};H.compare=function(a,b){return this.ad(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Od=function(a,b){var c=this.pb(a,b);return c[0]&&c[1]};H.ef=function(a){return a[Fa](function(a){return null!==a})[$a](I(function(a,c){return this.$d(a,c)},this))};H.Pd=function(a){return Pb(this.Ud(a).c)};
H.td=function(a){a=this.Ud(a);return[a.c,a.w]};g(H,function(){return this.ad==hh?"SimpleComparator_DESC":"SimpleComparator_ASC"});function gh(a){this.Ga=a.map(function(a){return new fh(a)})}K(gh,ee);function lh(a,b,c,d){for(var f=0,h=0;h<a.Ga[B]&&0==f;++h)f=d(a.Ga[h],b[h],c[h]);return f}H=gh[r];H.compare=function(a,b){return lh(this,a,b,function(a,b,f){return a[Bb](b,f)})};H.min=function(a,b){return lh(this,a,b,function(a,b,f){return a.min(b,f)})};
H.max=function(a,b){return lh(this,a,b,function(a,b,f){return a.max(b,f)})};H.pb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ga[B]&&(c[0]||c[1]);++d){var f=this.Ga[d].pb(a[d],b[d]);c[0]=c[0]&&f[0];c[1]=c[1]&&f[1]}return c};H.Od=function(a,b){for(var c=!0,d=0;d<this.Ga[B]&&c;++d)c=this.Ga[d].Od(a[d],b[d]);return c};
H.ef=function(a){var b=a[Fa](function(a){return a[Ua](Qb)});a=e(this.Ga[B]);for(var c=0;c<a[B];c++)a[c]=b.map(function(a){return a[c]});a[E](function(a,b){a[$a](I(function(a,c){return this.Ga[b].$d(a,c)},this))},this);b=e(b[B]);for(c=0;c<b[B];c++)b[c]=a.map(function(a){return a[c]});return b[$a](I(function(a,b){for(var c=0,l=0;l<this.Ga[B]&&0==c;++l)c=this.Ga[l].$d(a[l],b[l]);return c},this))};H.Pd=function(a){return this.Ga[0].Pd(a[0])};
H.td=function(a){var b=a.map(function(a,b){return this.Ga[b].td(a)[0]},this);a=a.map(function(a,b){return this.Ga[b].td(a)[1]},this);return[b,a]};function mh(a){this.ca=a;this.ib=N();this.Nc=new Hg;this.mb=new Hg}H=mh[r];na(H,function(){return this.ca[t]()});H.add=function(a,b){null===a?(this.ib.add(b),this.Nc.add(a,1)):this.ca.add(a,b)};H.set=function(a,b){null===a?(this.ib[v](),this.Nc[v](),this.add(a,b)):this.ca.set(a,b)};va(H,function(a,b){if(null===a)b?(this.ib[Za](b),this.Nc[kb](a,1)):(this.ib[v](),this.Nc[v]());else this.ca[kb](a,b)});H.get=function(a){return null===a?Ud(this.ib):this.ca.get(a)};H.bd=function(a){return this.ca.bd(a)};
H.Ta=function(){Ig(this.mb,[this.ca.Ta(),this.Nc]);return this.mb};H.fb=function(a,b,c,d){b=this.ca.fb(a,b,c,d);return null!=a?b:b[Sa](Ud(this.ib))};ta(H,function(){this.ib[v]();this.ca[v]()});H.ka=function(a){return null===a?0!=this.ib[F]:this.ca.ka(a)};H.min=function(){return this.ca.min()};H.max=function(){return this.ca.max()};H.Fa=function(){return[new ed(-2,Ud(this.ib))][Sa](this.ca.Fa())};H.pc=function(){return this.ca.pc()};
function nh(a,b){for(var c=-1,d=0;d<b[B];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new O(102);var d=b[c].o,f=b[m](0);f[z](c,1);var c=a(f),h=new mh(c);d[E](function(a){h.ib.add(a)});return h}H.Ia=function(){return this.ca.Ia()};function oh(a){this.u=a;this.lb=N();this.S=new fh(1)}H=oh[r];na(H,G("u"));H.add=function(a){if("number"!=typeof a)throw new O(103);this.lb.add(a)};H.set=function(a,b){this.add(a,b)};va(H,function(a){this.lb[Za](a)});H.get=function(a){return this.ka(a)?[a]:[]};H.min=function(){return this.Ec(I(this.S.min,this.S))};H.max=function(){return this.Ec(I(this.S.max,this.S))};
H.Ec=function(a){if(0==this.lb[F])return null;var b=Ud(this.lb)[Ja](I(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.bd=function(){return this.lb[F]};H.fb=function(a,b,c,d){var f=a||[Le()];a=Ud(this.lb)[Fa](function(a){return f[cb](function(b){return this.S.Od(a,b)},this)},this);return Gg(a,b,c,d)};ta(H,function(){this.lb[v]()});H.ka=function(a){return this.lb.has(a)};H.Fa=function(){return[new ed(0,Ud(this.lb))]};H.pc=G("S");
function ph(a,b){var c=new oh(a);b[0].o[E](function(a){c.add(a,a)});return c}H.Ia=Kb(!0);H.Ta=function(){var a=new Hg;a.ra=this.lb[F];return a};function qh(a){this.j=a;this.xb=a.m(Jd);this.F=a.m(Ld);this.ja=a.m(Kd)}qh[r].Aa=function(a){var b=a.Va(),c=I(function(){if(0==b[B])return Oc();var a=b[sb]();return(a.Cb()?rh(this,a):sh(this,a))[x](c)},this);return c()};function sh(a,b){var c=new De(a.j,N([b]));return a.xb.Jb(0,c).J(b[t](),I(b.bc,b)).get([])[x](I(function(a){this.ja.set(b[t](),a);th(this,b,a)},a))}function th(a,b,c){var d=a.F.Oc.get(b[t]())||[];c[E](function(a){d[E](function(b){var c=a.Ob(b[t]());b.add(c,a.id())})})}
function rh(a,b){var c=new De(a.j,N([b])),d=a.xb.Jb(0,c),c=d.J(b[t](),b.bc).get([])[x](I(function(a){this.ja.set(b[t](),a)},a)),f=b.za().map(function(a){return uh(this,a,d)},a)[Sa](vh(a,b,d));return Sc(f[Sa](c))}function uh(a,b,c){c=c.J(b.l(),gd,1);var d=eh(b);return c.get([])[x](I(function(a){if(1<a[B]){if(wh(b)){var c=Rg[D](void 0,d,b.l(),b.Cc);a=nh(c,a[m](1))}else a=Rg(d,b.l(),b.Cc,a[m](1));this.F.set(b.Pc,a)}},a))}
function vh(a,b,c){return c.J(b.u+".#",gd,1).get([])[x](I(function(a){1<a[B]&&(a=ph(b.u+".#",a[m](1)),this.F.set(b[t](),a))},a))};function xh(){this.V=M();this.Oc=M()}xh[r].Aa=function(a){a.Va()[E](function(a){var c=[];this.Oc.set(a[t](),c);var d=a.u+".#";if(null===this.get(d)){var f=new oh(d);c[w](f);this.V.set(d,f)}a.za()[E](function(a){var b;b=eh(a);b=new Jg(a.l(),b,a.Cc);b=wh(a)?new mh(b):b;c[w](b);this.V.set(a.l(),b)},this)},this);return Oc()};xh[r].get=function(a){return this.V.get(a)||null};
xh[r].set=function(a,b){var c=this.Oc.get(a)||null;null===c&&(c=[],this.Oc.set(a,c));for(var d=null,f=0;f<c[B];f++)if(c[f][t]()==b[t]()){d=f;break}null!==d&&0<c[B]?c[z](d,1,b):c[w](b);this.V.set(b[t](),b)};function yh(a){this.jc=[];Mb(a)&&this.add(a)}g(yh[r],function(){return this.jc.map(function(a){return a[C]()})[Ka](",")});yh[r].ka=function(a){return this.jc[cb](function(b){return b[ub](a)})};yh[r].fa=G("jc");
yh[r].add=function(a){if(0!=a[B])if(a=this.jc[Sa](a),1==a[B])this.jc=a;else{a[$a](Oe);for(var b=[],c=a[0],d=1;d<a[B];++d)if(Je(c,a[d])){var f=a[d],h=Le();if(null!==c.c&&null!==f.c){var l=Ke(c.c,f.c,!0);1!=l?(h.c=c.c,h.aa=0!=l?c.aa:c.aa&&f.aa):(h.c=f.c,h.aa=f.aa)}null!==c.w&&null!==f.w&&(l=Ke(c.w,f.w,!1),-1!=l?(h.w=c.w,h.la=0!=l?c.la:c.la&&f.la):(h.w=f.w,h.la=f.la));c=h}else b[w](c),c=a[d];b[w](c);this.jc=b}};
function zh(a,b){var c=[];a.fa().map(function(a){return b.fa().map(function(b){var c;if(Je(a,b)){c=Le();var l=Ke(a.c,b.c,!0),l=0==l?a.aa?a:b:-1!=l?a:b;c.c=l.c;c.aa=l.aa;null===a.w||null===b.w?b=null===a.w?b:a:(l=Ke(a.w,b.w,!1),b=0==l?a.la?a:b:-1==l?a:b);c.w=b.w;c.la=b.la}else c=null;return c})})[E](function(a){c=c[Sa](a)});return new yh(c[Fa](function(a){return null!==a}))};function Ah(a,b){var c=[],d=null,f=null;sf(a,function(a){var l=b(a);null==a[Cb]()?f=l:tf(d,l);var p=a[Cb]();null!==p&&R(p)[B]==R(d)[B]&&(p=c[ab](d),-1!=p&&c[z](p,1));1<R(a)[B]&&c[w](l);d=R(a)[B]?l:c[c[B]-1]});return f}function Bh(a){return Ch(a,function(a){return!R(a)[B]})}function Dh(a){var b=a[Cb](),c=0;null!==b&&(c=R(b)[ab](a),b[jb](a));var d=R(a)[m]();d[E](function(d,h){a[jb](d);null===b||uf(b,d,c+h)});return{parent:b,children:d}}
function Eh(a,b){R(a)[m]()[E](function(c){a[jb](c);tf(b,c)});tf(a,b)}function Fh(a){var b=qf(a);Dh(a);Eh(b,a);return b}function Gh(a,b,c){var d=qf(a),f=R(d)[m]();if(!f[cb](function(a){return b(a)}))return a;Dh(a);f[E](function(f,l){if(b(f)){var p=c(a);vf(d,l);tf(p,f);uf(d,p,l)}});return d}function Hh(a,b,c,d){var f=a[Cb]();null!==f&&(a=R(f)[ab](a),vf(f,a),uf(f,c,a));R(b)[m]()[E](function(a){b[jb](a);tf(d,a)});return c}
function Ch(a,b,c){function d(a){b(a)&&f[w](a);null!=c&&c(a)||R(a)[E](d)}var f=[];d(a);return f}function Ih(a,b){var c=b||function(a){return a[C]()+"\n"},d="";sf(a,function(a){for(var b=0;b<rf(a);b++)d+="-";d+=c(a)});return d};function Jh(a){wf[q](this);this.Qb=a;this.Za=!1}K(Jh,wf);H=Jh[r];H.Ib=function(){return Ah(this,function(a){if(a instanceof Jh){var b=new Jh(a.Qb);b.Za=a.Za;a=a.W();b.na=a;return b}return a.Ib()}[D](this))};H.eb=function(a){var b=a||[];sf(this,function(a){a!=this&&a.eb(b)}[D](this));a=N(b);return Ud(a)};H.vd=function(a){this.Za!=a&&(this.Za=a,this.Qb="and"==this.Qb?"or":"and",R(this)[E](function(b){return b.vd(a)}))};
H.eval=function(a){var b=R(this).map(function(b){return b.eval(a)});return Kh(this,b)};function Kh(a,b){return"and"==a.Qb?Ve(b):We(b)}g(H,function(){return"combined_pred_"+this.Qb[C]()});function Lh(){this[v]()}var Mh=aa[r][Ya],Nh=aa[r][tb];H=Lh[r];H.set=function(a,b){var c=!Oh(this,a);this.h[a]=b;if("__proto__"==a||!Ph&&!Mh[q](this.h,a)){delete this.h[a];var d=dc(this.Eb,a);if(c=0>d)d=this.Eb[B];this.Eb[d]=a;this.he[d]=b}c&&this.$++};H.get=function(a,b){if(Oh(this,a))return this.h[a];var c=dc(this.Eb,a);return 0<=c?this.he[c]:b};va(H,function(a){if(Oh(this,a))return this.$--,delete this.h[a],!0;a=dc(this.Eb,a);return 0<=a?(this.$--,ic(this.Eb,a),ic(this.he,a),!0):!1});
H.addAll=function(a){ec(a.Oa(),function(b){this.set(b,a.get(b))},this)};H.gc=function(){return!this.$};H.Lb=G("$");H.ka=function(a){return Oh(this,a)||0<=dc(this.Eb,a)};H.Oa=function(){var a;if(Qh)a=kc(aa.keys(this.h));else{a=[];for(var b in this.h)Nh[q](this.h,b)&&a[w](b)}lc(a,this.Eb);return a};H.fa=function(){for(var a=[],b=this.Oa(),c=0;c<b[B];c++)a[w](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.Oa(),c=0;c<b[B];c++){var d=b[c];a[w]([d,this.get(d)])}return a};
ta(H,function(){this.h=Ph?aa[mb](null):{};this.Eb=[];this.he=[];this.$=0});la(H,function(){var a=new Lh;a.addAll(this);return a});function Oh(a,b){return"__proto__"==b?!1:Ph?b in a.h:Nh[q](a.h,b)}var Ph=!!aa[mb],Qh=!!aa.keys;function Rh(){this[v]()}H=Rh[r];H.$=0;ta(H,function(){this.$=0;this.h=new Lh});la(H,function(){var a=new Rh;Sh(a,this);return a});H.add=function(a,b){var c=this.h.get(a);c||this.h.set(a,c=[]);c[w](b);this.$++};function Sh(a,b){ec(b.getEntries(),function(a){this.add(a[0],a[1])},a)}H.get=function(a){return(a=this.h.get(a))?kc(a):[]};va(H,function(a,b){var c=this.h.get(a);if(!c)return!1;var d=jc(c,function(a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a});d&&(this.$--,0==c[B]&&this.h[kb](a));return d});
H.gc=function(){return!this.$};H.Lb=G("$");H.ka=function(a){return this.h.ka(a)};H.Oa=function(){return this.h.Oa()};H.fa=function(){return rc(this.h.fa())};H.getEntries=function(){for(var a=this.Oa(),b=[],c=0;c<a[B];c++)for(var d=a[c],f=this.get(d),h=0;h<f[B];h++)b[w]([d,f[h]]);return b};function Th(a,b,c){wf[q](this);this.Ca=a;this.Ea=b;this.N=c;this.Vd=null;a=ef.ed();this.cd=mf(a,this.Ca.O(),this.N);this.Tf=a.Le.get(this.Ca.O())||null}K(Th,wf);H=Th[r];H.Ib=function(){var a=new Th(this.Ca,this.Ea,this.N),b=this.W();a.na=b;return a};H.eb=function(a){return null!=a?(a[w](this.Ca),a[w](this.Ea),a):[this.Ca,this.Ea]};
H.reverse=function(){var a=this.N;switch(this.N){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new Th(this.Ea,this.Ca,a)};H.eval=function(a){var b=a[A][Fa](function(a){var b=$e(a,this.Ca);a=$e(a,this.Ea);return this.cd(b,a)},this);return new Pe(b,Q(a))};g(H,function(){return"join_pred("+this.Ca.l()+", "+this.Ea.l()+")"});function Uh(a,b,c){var d=null,f=null;-1!=Q(b)[ab](af(a.Ca.J()))?(d=b,f=c):(d=c,f=b);return[d,f]}
function Vh(a){var b={};a.eb()[E](function(a){b[a[t]()]=null});return b}function Wh(a,b,c){null===a.Vd&&(a.Vd=Vh(a.Ea.J()));var d=new Ye(new ed(-1,a.Vd),!1);return cf(b,c,d,[af(a.Ea.J())])}
function Xh(a,b,c,d){var f=[b,c];d||(f=Uh(a,b,c));b=f[0];c=f[1];var f=b,h=c,l=a.Ca,p=a.Ea;if(d||b[A][B]>c[A][B])f=c,h=b,l=a.Ea,p=a.Ca;var y=new Rh,P=[];f[A][E](function(a){var b=ha($e(a,l));y.add(b,a)});var Va=Q(f),bb=Q(h);h[A][E](function(a){var b=$e(a,p),c=ha(b);null!==b&&y.ka(c)?y.get(c)[E](function(b){b=cf(a,bb,b,Va);P[w](b)}):d&&P[w](Wh(this,a,bb))}[D](a));a=Q(b)[Sa](Q(c));return new Pe(P,a)}
function Yh(a,b,c,d,f){var h=d.tg.J(),l=b,p=c;-1!=Q(b)[ab](af(h))&&(l=c,p=b);var y=[],P=Q(p),Va=Q(l);l[A][E](function(a){var b=this.Tf($e(a,d.ug)),b=d[ob].get(b);f.get(b)[E](function(b){b=new Ye(b,1<P[B]);b=cf(a,Va,b,P);y[w](b)},this)},a);a=Q(l)[Sa](Q(p));return new Pe(y,a)};function Zh(a,b,c){return null===b?new yf(a,b,c):Mb(b.l)?new Th(a,b,c):new yf(a,b,c)};var $h={};J("lf.schema.DataStoreType",$h);$h.INDEXED_DB=0;$h.MEMORY=1;$h.LOCAL_STORAGE=2;$h.FIREBASE=3;$h.WEB_SQL=4;$h.OBSERVABLE_STORE=5;function ai(a,b,c,d){this.Pc=a;ja(this,b);this.Cc=c;this.f=d}ai[r].l=function(){return this.Pc+"."+this[n]};function wh(a){return a.f[cb](function(a){return a.da.Bc()})}function bi(a,b,c,d){this.u=a;this.ha=c;this.G=b;this.qd=d;this.bb=null}J("lf.schema.Table",bi);na(bi[r],G("u"));na(bi[r],bi[r][t]);bi[r].Ya=G("bb");function af(a){return a.bb||a.u}
bi[r].nc=function(a){var b=new this.constructor(this.u);b.bb=a;b.hg=this.hg;return b};bi[r].as=bi[r].nc;bi[r].createRow=bi[r].yb;bi[r].deserializeRow=bi[r].bc;bi[r].za=G("ha");bi[r].getIndices=bi[r].za;bi[r].eb=G("G");bi[r].getColumns=bi[r].eb;bi[r].getConstraint=bi[r].Ab;bi[r].Cb=G("qd");bi[r].persistentIndex=bi[r].Cb;function ci(a,b){wa(this,a);this.Gb=b;this.bb=null}H=ci[r];na(H,function(){return this.Gb+"("+this[lb][t]()+")"});H.l=function(){return this.Gb+"("+this[lb].l()+")"};H.J=function(){return this[lb].J()};g(H,function(){return this.l()});H.O=function(){return this[lb].O()};H.Ya=G("bb");H.za=function(){return[]};H.Ha=Kb(null);H.Bc=Kb(!1);H.nc=function(a){this.bb=a;return this};ci[r].as=ci[r].nc;function di(a){for(var b=[a];a instanceof ci;)b[w](a[lb]),a=a[lb];return b}
function ei(a){this.bb=a||null;this.M=new bi("#UnknownTable",[],[],!1)}H=ei[r];na(H,Kb("*"));H.l=function(){return this[t]()};g(H,function(){return this.l()});H.J=G("M");H.O=Kb(4);H.Ya=G("bb");H.za=function(){return[]};H.Ha=Kb(null);H.Bc=Kb(!1);J("lf.fn.avg",function(a){return new ci(a,"AVG")});function fi(a){return new ci(a||new ei,"COUNT")}J("lf.fn.count",fi);function gi(a){return new ci(a,"DISTINCT")}J("lf.fn.distinct",gi);J("lf.fn.max",function(a){return new ci(a,"MAX")});J("lf.fn.min",function(a){return new ci(a,"MIN")});J("lf.fn.stddev",function(a){return new ci(a,"STDDEV")});J("lf.fn.sum",function(a){return new ci(a,"SUM")});J("lf.fn.geomean",function(a){return new ci(a,"GEOMEAN")});function V(a,b){of[q](this,"","");this.Gf=b}K(V,of);ma(V[r],function(a,b){switch(this.Gf){case 1:return hi(this,a,b);case 0:return ii(this,a,b);default:return ji(this,a,b)}});g(V[r],Kb("dummy_node"));V[r].Qc=function(){return this[C]()};function ji(a,b,c){return new L(I(function(a){a(this.ea(b,[],c))},a))}function hi(a,b,c){return qf(a)[Qa](b,c)[x](I(function(a){return this.ea(b,a,c)},a))}
function ii(a,b,c){var d=R(a).map(function(a){return a[Qa](b,c)});return Sc(d)[x](I(function(a){var d=[];a[E](function(a){for(var b=0;b<a[B];++b)d[w](a[b])});return this.ea(b,d,c)},a))};function ki(a){V[q](this,0,1);this.se=a}K(ki,V);g(ki[r],function(){return"aggregation("+this.se.map(function(a){return a.l()})[C]()+")"});ki[r].ea=function(a,b){b[E](function(a){li(new mi(a,this.se))},this);return b};function mi(a,b){this.Da=a;this.G=b}
function li(a){a.G[E](function(a){a=di(a)[hb]();for(var c=1;c<a[B];c++){var d=a[c],f=di(d)[m](-1)[0],h=d[lb]instanceof ci?Se(this.Da,d[lb]):this.Da;if(null!==h.Xa&&h.Xa.has(d.l()))break;h=ni(d.Gb,h,f);f=this.Da;null===f.Xa&&(f.Xa=M());f.Xa.set(d.l(),h)}},a)}
function ni(a,b,c){var d=null;switch(a){case "MIN":d=oi(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=oi(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=pi(b,c);break;case "COUNT":d=qi(b,c);break;case "SUM":d=ri(b,c);break;case "AVG":a=qi(b,c);0<a&&(d=ri(b,c)/a);break;case "GEOMEAN":d=si(b,c);break;default:d=ti(b,c)}return d}function oi(a,b,c){return a[A][Ja](function(a,f){var h=$e(f,b);return null===h?a:null===a?h:c(a,h)},null)}
function qi(a,b){return b instanceof ei?a[A][B]:a[A][Ja](function(a,d){return a+(Pb($e(d,b))?0:1)},0)}function ri(a,b){return oi(a,b,function(a,b){return b+a})}function ti(a,b){var c=[];a[A][E](function(a){a=$e(a,b);null===a||c[w](a)});return 0==c[B]?null:pd[yb](null,c)}function si(a,b){var c=0,d=a[A][Ja](function(a,d){var l=$e(d,b);if(0==l||null===l)return a;c++;return a+ba.log(l)},0);return 0==c?null:ba.pow(ba.E,d/c)}
function pi(a,b){var c=M();a[A][E](function(a){var f=$e(a,b);c.set(f,a)});return new Pe(Ad(c),Q(a))};function ui(a,b){this.wa=a;this.qa=b}ui[r].gb=G("wa");ui[r].ba=G("qa");function W(){of[q](this,"","")}K(W,of);function vi(a,b){W[q](this);ia(this,a);ua(this,b)}K(vi,W);function wi(a,b){vi[q](this,a,b)}K(wi,vi);function xi(a){W[q](this);ia(this,a)}K(xi,W);g(xi[r],function(){return"delete("+this[k][t]()+")"});function yi(a,b){W[q](this);ia(this,a);this.ne=b}K(yi,W);g(yi[r],function(){var a=[];this.ne&&(a=this.ne.map(function(a){return a.I[t]()},this));return"update("+this[k][t]()+", ["+a[Ka](",")+"])"});
function zi(a){W[q](this);this.X=a}K(zi,W);g(zi[r],function(){return"select("+this.X[C]()+")"});function Ai(a){W[q](this);ia(this,a)}K(Ai,W);g(Ai[r],function(){var a="table_access("+this[k][t]();null===this[k].Ya()||(a+=" as "+this[k].Ya());return a+")"});function Bi(){W[q](this)}K(Bi,W);g(Bi[r],Kb("cross_product"));function Ci(a,b){W[q](this);this.f=a;this.Mb=b}K(Ci,W);
g(Ci[r],function(){var a="project("+this.f[C]();if(null!==this.Mb)var b=this.Mb.map(function(a){return a.l()})[Ka](", "),a=a+(", groupBy("+b+")");return a+")"});function Di(a){W[q](this);this.K=a}K(Di,W);g(Di[r],function(){return"order_by("+Hf(this.K)+")"});function Ei(a){W[q](this);this.f=a}K(Ei,W);g(Ei[r],function(){return"aggregation("+this.f[C]()+")"});function Fi(a){W[q](this);this.f=a}K(Fi,W);g(Fi[r],function(){return"group_by("+this.f[C]()+")"});function Gi(a){W[q](this);this.U=a}K(Gi,W);
g(Gi[r],function(){return"limit("+this.U+")"});function Hi(a){W[q](this);this.L=a}K(Hi,W);g(Hi[r],function(){return"skip("+this.L+")"});function Ii(a,b){W[q](this);this.X=a;this.hc=b}K(Ii,W);g(Ii[r],function(){return"join(type: "+(this.hc?"outer":"inner")+", "+this.X[C]()+")"});function Ji(){};function Ki(){}K(Ki,Ji);Ki[r].wb=function(a){this.Z=a;this.Wa(this.Z);return this.Z};Ki[r].Wa=function(a){if(a instanceof zi){var b=Li(this,a.X),b=Mi(this,b);Hh(a,a,b[0],b[1]);a==this.Z&&(this.Z=b[0]);a=b[0]}R(a)[E](function(a){this.Wa(a)},this)};function Li(a,b){if(0==R(b)[B]||"and"!=b.Qb)return[b];var c=R(b)[m]().map(function(a){b[jb](a);return Li(this,a)},a);return rc(c)}function Mi(a,b){var c=null,d=null;b.map(function(a,b){var l=new zi(a);0==b?c=l:tf(d,l);d=l},a);return[c,d]};function Ni(){}K(Ni,Ji);Ni[r].wb=function(a){this.Z=a;this.Wa(this.Z);return this.Z};Ni[r].Wa=function(a){if(a instanceof Bi)for(;2<R(a)[B];){for(var b=new Bi,c=0;2>c;c++){var d=vf(a,0);tf(b,d)}uf(a,b,0)}R(a)[E](function(a){this.Wa(a)},this)};function Oi(){V[q](this,0,0)}K(Oi,V);g(Oi[r],Kb("cross_product"));Oi[r].ea=function(a,b){for(var c=b[0],d=b[1],f=[],h=Q(c),l=Q(d),p=0;p<c[A][B];p++)for(var y=0;y<d[A][B];y++){var P=cf(c[A][p],h,d[A][y],l);f[w](P)}c=Q(c)[Sa](Q(d));return[new Pe(f,c)]};function Pi(a,b){Kf[q](this,a,b);this.Ra=a.m(Nd);this.Bb=a.m(Od)}K(Pi,Kf);Da(Pi[r],Kb(2));Pi[r].Yd=function(a){0==this.O()?Qi(this,a):this.Mc()};function Qi(a,b){a.sd[E](function(a,d){a instanceof Gf&&Nf(this.Bb,a,b[d])},a)}Pi[r].Mc=function(){var a=Pf(this.Bb,this.ba());0!=a[B]&&(a=new Mf(this[Xa],a),Qf(this.Ra,a))};function Ri(a){Bf[q](this,a)}K(Ri,Bf);Ri[r].ba=function(){var a=N();a.add(this.c);var b=this.da[Ab]();Si(this.c[t](),b.g)[E](a.add[D](a));return a};la(Ri[r],function(){var a=new Ri(this.da);Ef(a,this);a.c=this.c;return a});Aa(Ri[r],function(a){Ri.Fb[D][q](this,a);Ff(this,a);return this});function Ti(a){Bf[q](this,a)}K(Ti,Bf);Ti[r].ba=function(){var a=N();a.add(this.Ba);var b=this.da[Ab]();Si(this.Ba[t](),b.Ue)[E](a.add[D](a));this.Yb&&Si(this.Ba[t](),b.g)[E](a.add[D](a));return a};la(Ti[r],function(){var a=new Ti(this.da);Ef(a,this);a.Ba=this.Ba;this[fb]&&ua(a,this[fb]instanceof df?this[fb]:this[fb][m]());a.Yb=this.Yb;a.Zb=this.Zb;return a});
Aa(Ti[r],function(a){Ti.Fb[D][q](this,a);this.Zb&&ua(this,this.Zb instanceof df?a[this.Zb.Ha()]:this.Zb.map(function(b){return b instanceof df?a[b.Ha()]:b}));return this});function Ui(a){Bf[q](this,a)}K(Ui,Bf);Ui[r].ba=function(){var a=N();a.add(this[k]);var b=this.set.map(function(a){return a.I.l()}),c=this.da[Ab]();Vi(c,b)[E](a.add[D](a));Wi(c,b)[E](a.add[D](a));return a};la(Ui[r],function(){var a=new Ui(this.da);Ef(a,this);ia(a,this[k]);a.set=this.set?this.set[m]():this.set;return a});Aa(Ui[r],function(a){Ui.Fb[D][q](this,a);this.set[E](function(b){-1!=b.Wc&&pa(b,a[b.Wc])});Ff(this,a);return this});function Xi(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+id(b)+"'";default:return"'"+b[C]()+"'"}}function Yi(a,b){var c=a.Yb?"INSERT OR REPLACE":"INSERT",d=a.Ba.eb(),c=c+(" INTO "+a.Ba[t]()+"("),c=c+d.map(function(a){return a[t]()})[Ka](", "),c=c+") VALUES (";return a[fb].map(function(a){var h=d.map(function(c){var d=a.o[c[t]()];return b?null!=d?"#":"NULL":Xi(c.O(),d)});return c+h[Ka](", ")+");"})[Ka]("\n")}
function Zi(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function $i(a,b,c,d){return a instanceof df?"?"+a.Ha()[C]():d?null!=a?"#":"NULL":"match"==b?"'"+a[C]()+"'":"in"==b?"("+a.map(function(a){return Xi(c,a)})[Ka](", ")+")":"between"==b?Xi(c,a[0])+" AND "+Xi(c,a[1]):Xi(c,a)[C]()}
function aj(a,b){return R(a).map(function(a){return"("+bj(a,b)+")"})[Ka]("and"==a.Qb?" AND ":" OR ")}function cj(a){return[a.Ca.l(),Zi(a.N),a.Ea.l()][Ka](" ")}function bj(a,b){if(a instanceof yf){var c=a.I.l(),d=Zi(a.N),f=$i(a[u],a.N,a.I.O(),b);return"="==d&&"NULL"==f?[c,"IS NULL"][Ka](" "):"<>"==d&&"NULL"==f?[c,"IS NOT NULL"][Ka](" "):[c,d,f][Ka](" ")}if(a instanceof Jh)return aj(a,b);if(a instanceof Th)return cj(a);throw new O(357,typeof a);}
function dj(a,b){var c=bj(a,b);return c?" WHERE "+c:""}function ej(a,b){var c="UPDATE "+a[k][t]()+" SET ",c=c+a.set.map(function(a){var b=a.I.l()+" = ";return-1!=a.Wc?b+"?"+a.Wc[C]():b+Xi(a.I.O(),a[u])[C]()})[Ka](", ");a.B&&(c+=dj(a.B,b));return c+";"}
function fj(a,b){var c="*";a.f[B]&&(c=a.f.map(function(a){return a.Ya()?a.l()+" AS "+a.Ya():a.l()})[Ka](", "));c="SELECT "+c+" FROM ";null!=a.ub&&0!=a.ub[F]?c+=gj(a,b):(c+=a.c.map(hj)[Ka](", "),a.B&&(c+=dj(a.B,b)));if(a.K)var d=a.K.map(function(a){return a.I.l()+(0==a.jb?" DESC":" ASC")})[Ka](", "),c=c+(" ORDER BY "+d);a.ga&&(d=a.ga.map(function(a){return a.l()})[Ka](", "),c+=" GROUP BY "+d);a.U&&(c+=" LIMIT "+a.U[C]());a.L&&(c+=" SKIP "+a.L[C]());return c+";"}
function hj(a){return af(a)!=a[t]()?a[t]()+" AS "+af(a):a[t]()}function gj(a,b){for(var c=Ch(a.B,function(a){return a instanceof Th}),d=c.map(cj),f=hj(a.c[0]),h=1;h<a.c[B];h++)var l=hj(a.c[h]),f=a.ub.has(c[d[B]-h].W())?f+(" LEFT OUTER JOIN "+l):f+(" INNER JOIN "+l),f=f+(" ON ("+d[d[B]-h]+")");c=qf(a.B);c instanceof Th||(f+=" WHERE "+bj(c,b));return f}
function ij(a,b){var c=b||!1,d=a.a[Pa]();if(d instanceof Ti)return Yi(d,c);if(d instanceof Ri){var f="DELETE FROM "+d.c[t]();d.B&&(f+=dj(d.B,c));return f+";"}if(d instanceof Ui)return ej(d,c);if(d instanceof Gf)return fj(d,c);throw new O(358,typeof d);};function jj(a,b){this.global=a;this.gg=a.m(Md);this.Ra=a.m(Nd);this.a=b}J("lf.query.BaseBuilder",jj);ma(jj[r],function(){try{this.cb()}catch(a){return Pc(a)}return new L(function(a,c){var d=new Pi(this[Xa],[this.zc()]);Qf(this.Ra,d)[x](function(c){a(Qe(c[0]))},c)},this)});ma(jj[r],jj[r][Qa]);jj[r].Be=function(){var a=I(function(a){return a.Qc(this.a)+"\n"},this);return Ih(kj(this).gb(),a)};jj[r].explain=jj[r].Be;Aa(jj[r],function(a){this.a[D](a);return this});Aa(jj[r],jj[r][D]);
jj[r].ng=function(a){return ij(this,a)};jj[r].toSql=jj[r].ng;jj[r].cb=Ib();function kj(a){if(null==a.Ve){var b;b=a.gg;var c=a.a,d=b.Wf[mb](c);b=b.eg[mb](d,c);a.Ve=b}return a.Ve}jj[r].zc=function(){return{context:this.a[Pa](),ae:kj(this)}};function lj(a){jj[q](this,a,new Ri(a.m(Pd)))}K(lj,jj);J("lf.query.DeleteBuilder",lj);lj[r].c=function(a){if(null!=this.a.c)throw new O(515);this.a.c=a;return this};lj[r].from=lj[r].c;lj[r].B=function(a){this.Ad();this.a.B=a;return this};lj[r].where=lj[r].B;lj[r].Ad=function(){if(null!=this.a.B)throw new O(516);};lj[r].cb=function(){lj.Fb.cb[q](this);if(null==this.a.c)throw new O(517);};function mj(a,b){jj[q](this,a,new Ti(a.m(Pd)));this.a.Yb=b||!1}K(mj,jj);J("lf.query.InsertBuilder",mj);mj[r].cb=function(){mj.Fb.cb[q](this);var a=this.a;if(null==a.Ba||null==a[fb])throw new O(518);if(a.Yb&&null===a.Ba.Ab().gd())throw new O(519);};mj[r].Ba=function(a){if(null!=this.a.Ba)throw new O(520);this.a.Ba=a;return this};mj[r].into=mj[r].Ba;ua(mj[r],function(a){if(null!=this.a[fb])throw new O(521);a instanceof df||a[cb](function(a){return a instanceof df})?this.a.Zb=a:ua(this.a,a);return this});
ua(mj[r],mj[r][fb]);function nj(a){return oj("and",e[r][m][q](arguments))}J("lf.op.and",nj);J("lf.op.or",function(a){return oj("or",e[r][m][q](arguments))});function oj(a,b){var c=new Jh(a);b[E](function(a){tf(c,a)});return c}J("lf.op.not",function(a){a.vd(!0);return a});function X(a,b){jj[q](this,a,new Gf(a.m(Pd)));this.Ce=this.wd=!1;this.a.f=b;pj(this);qj(this)}K(X,jj);J("lf.query.SelectBuilder",X);X[r].cb=function(){X.Fb.cb[q](this);var a=this.a;if(null==a.c)throw new O(522);if(Mb(a.Pb)&&!Mb(a.U)||Mb(a.Xb)&&!Mb(a.L))throw new O(523);null!=this.a.ga?rj(this):sj(this)};function pj(a){var b=a.a.f[Fa](function(a){return a instanceof ci&&"DISTINCT"==a.Gb},a);if(0!=b[B]&&(1!=b[B]||1!=a.a.f[B]))throw new O(524);}
function rj(a){var b=a.a.f[Fa](function(a){return!(a instanceof ci)}).map(function(a){return a.l()}),c=!1;if(0==a.a.ga[B]||0==a.a.f[B])c=!0;else{var d=a.a.ga.map(function(a){return a.l()});(c=b[cb](function(a){return-1==d[ab](a)}))||(c=a.a.ga[cb](function(a){a=a.O();return 6==a||0==a}))}if(c)throw new O(525);}function sj(a){var b=a.a.f[cb](function(a){return a instanceof ci},a);a=a.a.f[cb](function(a){return!(a instanceof ci)},a)||0==a.a.f[B];if(b&&a)throw new O(526);}
function qj(a){a.a.f[E](function(a){if(a instanceof ci&&!tj(a.Gb,a.O()))throw new O(527,a.l());},a)}X[r].c=function(a){if(this.Ce)throw new O(515);this.Ce=!0;null==this.a.c&&(this.a.c=[]);this.a.c[w][yb](this.a.c,e[r][m][q](arguments));return this};X[r].from=X[r].c;X[r].B=function(a){if(this.wd)throw new O(516);this.wd=!0;uj(this,a);return this};X[r].where=X[r].B;function uj(a,b){if(null!=a.a.B){var c=nj(b,a.a.B);a.a.B=c}else a.a.B=b}
X[r].Pf=function(a,b){if(null==this.a.c)throw new O(542);if(this.wd)throw new O(547);this.a.c[w](a);uj(this,b);return this};X[r].innerJoin=X[r].Pf;X[r].Uf=function(a,b){if(!(b instanceof Th))throw new O(541);if(null==this.a.c)throw new O(542);if(this.wd)throw new O(547);this.a.c[w](a);null==this.a.ub&&(this.a.ub=N());var c=b;af(a)!=af(b.Ea.J())&&(c=b[hb]());this.a.ub.add(c.W());uj(this,c);return this};X[r].leftOuterJoin=X[r].Uf;
X[r].U=function(a){if(null!=(this.a.U||this.a.Pb))throw new O(528);if(a instanceof df)this.a.Pb=a;else{if(0>a)throw new O(531);this.a.U=a}return this};X[r].limit=X[r].U;X[r].L=function(a){if(null!=(this.a.L||this.a.Xb))throw new O(529);if(a instanceof df)this.a.Xb=a;else{if(0>a)throw new O(531);this.a.L=a}return this};X[r].skip=X[r].L;X[r].K=function(a,b){null==this.a.K&&(this.a.K=[]);this.a.K[w]({I:a,jb:null!=b?b:1});return this};X[r].orderBy=X[r].K;
X[r].ga=function(a){if(null!=this.a.ga)throw new O(530);null==this.a.ga&&(this.a.ga=[]);this.a.ga[w][yb](this.a.ga,e[r][m][q](arguments));return this};X[r].groupBy=X[r].ga;function tj(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(X[r],function(){var a=new X(this[Xa],this.a.f);a.a=this.a[Pa]();a.a.$c=null;return a});la(X[r],X[r][Pa]);function vj(a,b){jj[q](this,a,new Ui(a.m(Pd)));ia(this.a,b)}K(vj,jj);J("lf.query.UpdateBuilder",vj);vj[r].set=function(a,b){var c={Wc:b instanceof df?b.Ha():-1,I:a,value:b};null!=this.a.set?this.a.set[w](c):this.a.set=[c];return this};vj[r].set=vj[r].set;vj[r].B=function(a){this.Ad();this.a.B=a;return this};vj[r].where=vj[r].B;vj[r].Ad=function(){if(null!=this.a.B)throw new O(516);};
vj[r].cb=function(){vj.Fb.cb[q](this);if(null==this.a.set)throw new O(532);if(this.a.set[cb](function(a){return a[u]instanceof df}))throw new O(501);};function wj(a){this.a=a;this.wa=null}wj[r].fc=function(){null===this.wa&&(this.wa=this.dd());return this.wa};function xj(a){wj[q](this,a)}K(xj,wj);xj[r].dd=function(){return this.a.Yb?new wi(this.a.Ba,this.a[fb]):new vi(this.a.Ba,this.a[fb])};function yj(a){wj[q](this,a)}K(yj,wj);yj[r].dd=function(){var a=new yi(this.a[k],this.a.set),b=null!=this.a.B?new zi(this.a.B.Ib()):null,c=new Ai(this.a[k]);null===b?tf(a,c):(tf(b,c),tf(a,b));return a};function zj(a,b,c){this.wa=a;this.be=b;this.Ub=c}zj[r].fc=function(){this.Ub[E](function(a){this.wa=a.wb(this.wa,this.be)},this);return this.wa};function Aj(a,b){wj[q](this,a);this.Ub=b}K(Aj,wj);Aj[r].dd=function(){var a=new xi(this.a.c),b=null!=this.a.B?new zi(this.a.B.Ib()):null,c=new Ai(this.a.c);null===b?tf(a,c):(tf(b,c),tf(a,b));return(new zj(a,this.a,this.Ub)).fc()};function Bj(){}K(Bj,Ji);Bj[r].wb=function(a,b){this.Z=a;this.Wa(this.Z,b);return this.Z};Bj[r].Wa=function(a,b){if(a instanceof zi&&a.X instanceof Th){var c=a.X.W(),d=qf(a);d instanceof Bi&&(c=Mb(b)&&null!=b.ub&&b.ub.has(c),c=new Ii(a.X,c),Hh(a,d,c,c),a==this.Z&&(this.Z=c),a=c)}R(a)[E](function(a){this.Wa(a,b)},this)};function Cj(){this.Vc=N()}K(Cj,Ji);Cj[r].wb=function(a){this.Vc[v]();this.Z=a;this.Wa(this.Z);this.Vc[v]();return this.Z};Cj[r].Wa=function(a){if(Dj(a)){var b=a.X instanceof yf?Ej(this,a):Fj(this,a);this.Vc.add(a);b==a&&(b=qf(a));null!==b&&(Pb(b[Cb]())&&(this.Z=b),Dj(b)&&!this.Vc.has(b)&&this.Wa(b))}else R(a)[E](function(a){this.Wa(a)},this)};
function Gj(a,b,c){var d=b;if(qf(b)instanceof zi)d=Fh(b),Gj(a,b,c);else if(Hj(b)){var f=[],d=Gh(b,c,function(a){a=new zi(a.X);f[w](a);return a});f[E](function(a){Gj(this,a,c)},a)}return d}function Ej(a,b){var c=N([af(b.X.I.J())]),d=function(a){return Ij(this,a,c)}[D](a);return Gj(a,b,d)}function Fj(a,b){var c=N([af(b.X.Ca.J()),af(b.X.Ea.J())]),d=function(a){return Ij(this,a,c)}[D](a);return Gj(a,b,d)}
function Ij(a,b,c){var d=N();Bh(b)[E](function(a){d.add(af(a[k]))},a);b instanceof Ai&&d.add(af(b[k]));return Vd(d,c)}function Dj(a){return a instanceof zi&&!(a.X instanceof Jh)}function Hj(a){a=qf(a);return a instanceof Bi||a instanceof Ii};function Jj(a,b){wj[q](this,a);this.Ub=b;this.Ze=this.Qe=this.df=this.Te=this.te=this.Fe=this.cf=this.ye=this.ff=null}K(Jj,wj);
Jj[r].dd=function(){Kj(this);2<=this.a.c[B]&&(this.ye=new Bi);this.cf=null!=this.a.B?new zi(this.a.B.Ib()):null;this.a.K&&(this.Te=new Di(this.a.K));null!=this.a.L&&0<this.a.L&&(this.df=new Hi(this.a.L));null!=this.a.U&&(this.Qe=new Gi(this.a.U));null!=this.a.ga&&(this.Fe=new Fi(this.a.ga));Lj(this);this.Ze=new Ci(this.a.f||[],this.a.ga||null);var a=Mj(this);return(new zj(a,this.a,this.Ub)).fc()};
function Mj(a){for(var b=[a.Qe,a.df,a.Ze,a.Te,a.te,a.Fe,a.cf,a.ye],c=null,d=null,f=0;f<b[B];f++){var h=b[f];null!==h&&(null===d?d=h:tf(b[c],h),c=f)}a.ff[E](function(a){tf(b[c],a)});return d}function Kj(a){a.ff=a.a.c.map(function(a){return new Ai(a)},a)}function Lj(a){var b=a.a.f[Fa](function(a){return a instanceof ci});null!=a.a.K&&a.a.K[E](function(a){a.I instanceof ci&&b[w](a.I)});0<b[B]&&(a.te=new Ei(b))};function Nj(){this.ie=[new Ki,new Ni,new Cj,new Bj];this.Gd=[new Ki]}Nj[r].create=function(a){var b=null;if(a instanceof Ti)b=new xj(a);else if(a instanceof Ri)b=new Aj(a,this.Gd);else if(a instanceof Gf)b=new Jj(a,this.ie);else if(a instanceof Ui)b=new yj(a);else throw new O(513);b=b.fc();return new ui(b,a.ba())};function Oj(a){V[q](this,0,1);this.M=a}K(Oj,V);g(Oj[r],function(){return"delete("+this.M[t]()+")"});Oj[r].ea=function(a,b){var c=b[0][A].map(function(a){return a.sa});a[kb](this.M,c);return[Ue()]};function Pj(a,b){V[q](this,0,-1);ia(this,b);this.F=a.m(Ld)}K(Pj,V);g(Pj[r],function(){return"get_row_count("+this[k][t]()+")"});Pj[r].ea=function(){var a=this.F.get(this[k].u+".#"),b=new Pe([],[this[k][t]()]),c=fi(),a=a.Ta().ra;null===b.Xa&&(b.Xa=M());b.Xa.set(c.l(),a);return[b]};function Qj(a,b){V[q](this,0,-1);this.ja=a.m(Kd);this.F=a.m(Ld);ia(this,b)}K(Qj,V);g(Qj[r],function(){var a="table_access("+this[k][t]();null===this[k].Ya()||(a+=" as "+this[k].Ya());return a+")"});Qj[r].ea=function(){var a=this.F.get(this[k].u+".#").fb();return[Xe(this.ja.get(a),[af(this[k])])]};function Rj(a){this.j=a}K(Rj,Ji);Rj[r].wb=function(a,b){this.Z=a;if(!Sj(b))return a;var c=Ch(a,function(a){return a instanceof Qj})[0],d=new Pj(this.j,c[k]);Hh(c,c,d,d);return this.Z};function Sj(a){return 1==a.f[B]&&1==a.c[B]&&null==a.B&&null==a.U&&null==a.L&&null==a.ga?(a=a.f[0],a instanceof ci&&"COUNT"==a.Gb&&a[lb]instanceof ei):!1};function Uj(a){V[q](this,0,1);this.Ee=a}K(Uj,V);g(Uj[r],function(){return"groupBy("+this.Ee.map(function(a){return a.l()})[C]()+")"});Uj[r].ea=function(a,b){return Vj(this,b[0])};function Vj(a,b){var c=new Rh,d=function(a){return this.Ee.map(function(b){return $e(a,b)},this)[Ka](",")}[D](a);b[A][E](function(a){c.add(d(a),a)},a);return c.Oa().map(function(a){return new Pe(c.get(a),Q(b))},a)};function Wj(a){a=a.map(function(a){return a.fa()});a=ud[yb](null,a);var b=[];td(a,function(a){b[w](a)});return b}function Xj(a){this.Nb=a}Xj[r].fd=function(){return 1==this.Nb.f[B]?[Le()]:[this.Nb.f.map(function(){return Le()})]};function Yj(a,b){this.Nb=a;this.va=b;this.Ed=this.Oe=null}
function Zj(a,b){var c=M();a.va.Oa()[E](function(a){var f=this.va.get(a).map(function(a){return Cf(b,a)},this),h=new yh([Le()]);f[E](function(a){var b=null;"between"==a.N?b=new He(a[u][0],a[u][1],!1,!1):"eq"==a.N?(b=a[u],b=new He(b,b,!1,!1)):b="gte"==a.N?new He(a[u],null,!1,!1):"gt"==a.N?new He(a[u],null,!0,!1):"lte"==a.N?new He(null,a[u],!1,!1):new He(null,a[u],!1,!0);a=a.Za?Ie(b):[b];a=new yh(a);h=zh(h,a)});c.set(a,h)},a);return c}
Yj[r].fd=function(a){if(this.Oe==a)return this.Ed;for(var b=Zj(this,a),c=this.Nb.f[B]-1;0<=c;c--){var d=this.Nb.f[c];if(null!==(b.get(d.da[t]())||null))break;b.set(d.da[t](),new yh([Le()]))}this.Ed=1==this.Nb.f[B]?Ad(b)[0].fa():Wj(ak(this,b));this.Oe=a;return this.Ed};function ak(a,b){var c=M(),d=0;a.Nb.f[E](function(a){c.set(a.da[t](),d);d++});return zd(b)[$a](function(a,b){return c.get(a)-c.get(b)}).map(function(a){return b.get(a)})};function bk(a,b){this.hf=b;this.F=a.m(Ld)}function ck(a,b,c){c=c[Fa](a.Qf,a);if(0==c[B])return null;a=dk(a,c);if(0==a[B])return null;if(1==a[B])return a[0];var d=Number.MAX_VALUE;return a[Ja](function(a,c){var l=ek(c,b);return l<d?(d=l,c):a},null)}function dk(a,b){return a.hf.za().map(function(a){a=new fk(this.F,a);gk(a,b);return a},a)[Fa](function(a){if(null===a.va)a=!1;else{for(var b=!1,f=!0,h=0;h<a.sb.f[B];h++){var l=a.va.ka(a.sb.f[h].da[t]());if(b&&l){f=!1;break}l||(b=!0)}a=f}return a})}
bk[r].Qf=function(a){var b;if(b=a instanceof yf)zf(a),b=null!==a[u]&&("between"==a.N||"eq"==a.N||"gt"==a.N||"gte"==a.N||"lt"==a.N||"lte"==a.N);return b?a.I.J()==this.hf:!1};function fk(a,b){this.F=a;this.sb=b;this.Nf=N(this.sb.f.map(function(a){return a.da[t]()}));this.Sd=this.va=null}function hk(a){null===a.Sd&&(a.Sd=new Yj(a.sb,a.va));return a.Sd}function gk(a,b){b[E](function(a){var b=a.eb()[0][t]();this.Nf.has(b)&&(null===this.va&&(this.va=new Rh),this.va.add(b,a.W()))},a)}
function ek(a,b){var c=hk(a).fd(b),d=a.F.get(a.sb.l());return c[Ja](function(a,b){return a+d.bd(b)},0)};function ik(a,b,c,d){V[q](this,0,-1);this.F=a.m(Ld);this.index=b;this.Me=c;this.fe=d;this.Uc=this.Tc=!1}K(ik,V);g(ik[r],function(){return"index_range_scan("+this[ob].l()+", ?, "+(this.fe?"reverse":"natural")+(this.Tc?", limit:?":"")+(this.Uc?", skip:?":"")+")"});ik[r].Qc=function(a){var b=this[C](),c=this.Me.fd(a),b=b[gb]("?",c[C]());this.Tc&&(b=b[gb]("?",a.U[C]()));this.Uc&&(b=b[gb]("?",a.L[C]()));return b};
ik[r].ea=function(a,b,c){a=this.Me.fd(c);b=this.F.get(this[ob].l());c=(1==a[B]&&a[0]instanceof He&&Ne(a[0])?Gg(b.get(a[0].c),!1,this.Tc?c.U:void 0,this.Uc?c.L:void 0):b.fb(a,this.fe,this.Tc?c.U:void 0,this.Uc?c.L:void 0)).map(function(a){return new ed(a,{})},this);return[Xe(c,[this[ob].Pc])]};function jk(a){V[q](this,0,1);this.rd=a}K(jk,V);g(jk[r],Kb("select(?)"));jk[r].Qc=function(a){a=Cf(a,this.rd);return this[C]()[gb]("?",a[C]())};jk[r].ea=function(a,b,c){return[Cf(c,this.rd).eval(b[0])]};function kk(a,b){V[q](this,0,1);this.ja=a.m(Kd);this.M=b}K(kk,V);g(kk[r],function(){return"table_access_by_row_id("+this.M[t]()+")"});kk[r].ea=function(a,b){return[Xe(this.ja.get(Re(b[0])),[af(this.M)])]};function lk(a){this.j=a}K(lk,Ji);lk[r].wb=function(a,b){this.Z=a;Ch(a,function(a){return a instanceof Qj})[E](function(a){var d=mk(a);if(0!=d[B]){var f=ck(new bk(this.j,a[k]),b,d.map(function(a){return Cf(b,a.rd)}));if(null!==f){var h=M();d[E](function(a){h.set(a.rd,a)},this);this.Z=nk(this,f,h,a)}}},this);return this.Z};function mk(a){var b=[];for(a=a[Cb]();a;)a instanceof jk&&b[w](a),a=a[Cb]();return b}
function nk(a,b,c,d){(null===b.va?[]:b.va.fa()).map(function(a){return c.get(a)})[E](Dh);b=new ik(a.j,b.sb,hk(b),!1);a=new kk(a.j,d[k]);tf(a,b);Hh(d,d,a,b);return b.gb()};function ok(a,b){V[q](this,0,-1);this.F=a.m(Ld);this.M=b}K(ok,V);g(ok[r],function(){return"insert("+this.M[t]()+")"});ok[r].ea=function(a,b,c){pk(this.M,c[fb],this.F);a.tb(this.M,c[fb]);return[Xe(c[fb],[this.M[t]()])]};function pk(a,b,c){a=a.Ab().gd();if(null===a?0:a.f[0][qb]){var d=a.f[0].da[t]();c=c.get(a.l()).max();var f=null===c?0:c[0];b[E](function(a){if(0==a.o[d]||null==a.o[d])f++,a.o[d]=f})}}function qk(a,b){V[q](this,0,-1);this.F=a.m(Ld);this.M=b}K(qk,V);
g(qk[r],function(){return"insert_replace("+this.M[t]()+")"});qk[r].ea=function(a,b,c){pk(this.M,c[fb],this.F);a.Nd(this.M,c[fb]);return[Xe(c[fb],[this.M[t]()])]};function rk(a,b,c){V[q](this,0,0);this.F=a.m(Ld);this.ja=a.m(Kd);this.X=b;this.hc=c;this.ue="eq"==this.X.N?0:2;this.Mf=null}K(rk,V);var sk=["hash","index_nested_loop","nested_loop"];g(rk[r],function(){return"join(type: "+(this.hc?"outer":"inner")+", impl: "+sk[this.ue]+", "+this.X[C]()+")"});
rk[r].ea=function(a,b){switch(this.ue){case 0:return[Xh(this.X,b[0],b[1],this.hc)];case 1:return[Yh(this.X,b[0],b[1],this.Mf,this.ja)];default:var c=this.X,d=b[0],f=b[1],h=this.hc,l=[d,f];h||(l=Uh(c,d,f));for(var d=l[0],f=l[1],l=[],p=Q(d),y=Q(f),P=0;P<d[A][B];P++){var Va=!1,bb=$e(d[A][P],c.Ca);if(null!==bb)for(var Tb=0;Tb<f[A][B];Tb++)if(c.cd(bb,$e(f[A][Tb],c.Ea))){var Va=!0,Tj=cf(d[A][P],p,f[A][Tb],y);l[w](Tj)}h&&!Va&&l[w](Wh(c,d[A][P],p))}c=Q(d)[Sa](Q(f));return[new Pe(l,c)]}};function tk(){V[q](this,0,1)}K(tk,V);g(tk[r],Kb("limit(?)"));tk[r].Qc=function(a){return this[C]()[gb]("?",a.U[C]())};tk[r].ea=function(a,b,c){b[0][A][z](c.U);return b};function uk(a){V[q](this,0,1);this.K=a}K(uk,V);H=uk[r];g(H,function(){return"order_by("+Hf(this.K)+")"});H.ea=function(a,b){if(1==b[B]){var c;c=b[0];for(var d=null,f=0;f<this.K[B];f++){var h=gi(this.K[f].I);if(null!==c.Xa&&c.Xa.has(h.l())){d=h;break}}c=d;(null===c?b[0]:Se(b[0],c))[A][$a](this.Ff[D](this))}else b[$a](this.ig[D](this));return b};
H.S=function(a,b){var c=null,d=null,f=null,h=-1;do h++,f=this.K[h].I,c=this.K[h].jb,d=a(f),f=b(f);while(d==f&&h+1<this.K[B]);d=d<f?-1:d>f?1:0;return 1==c?d:-d};H.ig=function(a,b){return this.S(function(b){return b instanceof ci?Se(a,b):$e(a[A][a[A][B]-1],b)},function(a){return a instanceof ci?Se(b,a):$e(b[A][b[A][B]-1],a)})};H.Ff=function(a,b){return this.S(function(b){return $e(a,b)},function(a){return $e(b,a)})};function vk(a,b){this.Da=a;this.G=b}function wk(a){return a.G[cb](function(a){return a instanceof ci},a)?xk(a):yk(a)}function xk(a){if(1==a.G[B]&&"DISTINCT"==a.G[0].Gb)return a=Se(a.Da,a.G[0])[A].map(function(a){var b=new Ye(new ed(-1,{}),1<this.Da.H[F]);bf(b,this.G[0],$e(a,this.G[0][lb]));return b},a),new Pe(a,[]);var b=new Ye(new ed(-1,{}),1<a.Da.H[F]);a.G[E](function(a){var d=a instanceof ci?Se(this.Da,a):$e(this.Da[A][0],a);bf(b,a,d)},a);return new Pe([b],Q(a.Da))}
function yk(a){var b=e(a.Da[A][B]),c=1<a.Da.H[F];a.Da[A][E](function(a,f){b[f]=new Ye(new ed(a.sa.id(),{}),c);this.G[E](function(c){bf(b[f],c,$e(a,c))},this)},a);return new Pe(b,Q(a.Da))}function zk(a,b){var c=a.map(function(a){return wk(new vk(a,b))[A][0]});return new Pe(c,Q(a[0]))};function Ak(a,b){V[q](this,0,1);this.f=a;this.Mb=b}K(Ak,V);g(Ak[r],function(){var a="project("+this.f[C]();if(null!==this.Mb)var b=this.Mb.map(function(a){return a.l()})[Ka](", "),a=a+(", groupBy("+b+")");return a+")"});Ak[r].ea=function(a,b){var c;0==b[B]?c=[Ue()]:1==b[B]?(c=b[0],c=[0==this.f[B]?c:wk(new vk(c,this.f))]):c=[zk(b,this.f)];return c};function Bk(a){return a.f[cb](function(a){return a instanceof ci})||null!==a.Mb};function Ck(){V[q](this,0,1)}K(Ck,V);g(Ck[r],Kb("skip(?)"));Ck[r].Qc=function(a){return this[C]()[gb]("?",a.L[C]())};Ck[r].ea=function(a,b,c){return[new Pe(b[0][A][m](c.L),Q(b[0]))]};function Dk(){}K(Dk,Ji);Dk[r].wb=function(a){var b=Ch(a,function(a){return a instanceof tk||a instanceof Ck});if(0==b[B])return a;var c=Ek(a);if(null===c)return a;b[E](function(a){a instanceof tk?c.Tc=!0:c.Uc=!0;Dh(a)},this);return c.gb()};function Ek(a){a=Ch(a,function(a){return a instanceof ik},function(a){return a instanceof Ak&&Bk(a)||a instanceof uk||1!=R(a)[B]||a instanceof jk});return 0<a[B]?a[0]:null};function Fk(a){this.j=a}K(Fk,Ji);Fk[r].wb=function(a){var b=Gk(a);if(null===b)return a;a:{var c=b;a=Hk(qf(b));if(null!==a){var d;d=b.K;for(var f=null,h=a[k].za(),l=0;l<h[B]&&null===f;l++)f=Ik(h[l],d);d=f;if(null===d){a=c;break a}c=new ik(this.j,d.sb,new Xj(d.sb),d.Je);d=new kk(this.j,a[k]);tf(d,c);Dh(b);c=Hh(a,a,d,c)}a=c}if(a==b)a:if(a=b,c=Jk(qf(b)),null!==c){d=Ik(c[ob],b.K);if(null===d)break a;c.fe=d.Je;a=Dh(b).parent}return a.gb()};
function Jk(a){a=Ch(a,function(a){return a instanceof ik},function(a){return 1!=R(a)[B]});return 0<a[B]?a[0]:null}function Hk(a){a=Ch(a,function(a){return a instanceof Qj},function(a){return 1!=R(a)[B]});return 0<a[B]?a[0]:null}function Gk(a){a=Ch(a,function(a){return a instanceof uk});return 0<a[B]?a[0]:null}function Ik(a,b){if(a.f[B]!=b[B]||!b[Ua](function(b,c){return b.I[t]()==a.f[c].da[t]()}))return null;var c=Kk(b,a);return c[0]||c[1]?{sb:a,Je:c[1]}:null}
function Kk(a,b){var c=a[Ja](function(a,b){return a<<1|(0==b.jb?0:1)},0),d=b.f[Ja](function(a,b){return a<<1|(0==b.jb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[B],b.f[B]))-1;return[c,d]};function Lk(a,b,c){this.wa=a;this.be=b;this.Ub=c}Lk[r].fc=function(){this.Ub[E](function(a){this.wa=a.wb(this.wa,this.be)},this);return this.wa};function Mk(a,b){V[q](this,0,1);this.M=a;this.qg=b}K(Mk,V);g(Mk[r],function(){return"update("+this.M[t]()+")"});Mk[r].ea=function(a,b){var c=b[0][A].map(function(a){var b=this.M.bc(a.sa.Fa());this.qg[E](function(a){b.o[a.I[t]()]=a[u]},this);return b},this);a[Wa](this.M,c);return[Ue()]};function Nk(a){this.j=a;this.ie=[new lk(this.j),new Fk(this.j),new Dk,new Rj(this.j)];this.Gd=[new lk(this.j)]}Nk[r].create=function(a,b){var c=a.gb();if(c instanceof wi||c instanceof vi)return Ok(this,a,b);if(c instanceof Ci||c instanceof Gi||c instanceof Hi)return Ok(this,a,b,this.ie);if(c instanceof xi||c instanceof yi)return Ok(this,a,b,this.Gd);throw new O(8);};function Ok(a,b,c,d){a=Ah(b.gb(),I(a.Yf,a));null!=d&&(a=(new Lk(a,c,d)).fc());return new If(a,b.ba())}
Nk[r].Yf=function(a){if(a instanceof Ci)return new Ak(a.f,a.Mb);if(a instanceof Fi)return new Uj(a.f);if(a instanceof Ei)return new ki(a.f);if(a instanceof Di)return new uk(a.K);if(a instanceof Hi)return new Ck;if(a instanceof Gi)return new tk;if(a instanceof zi)return new jk(a.X.W());if(a instanceof Bi)return new Oi;if(a instanceof Ii)return new rk(this.j,a.X,a.hc);if(a instanceof Ai)return new Qj(this.j,a[k]);if(a instanceof xi)return new Oj(a[k]);if(a instanceof yi)return new Mk(a[k],a.ne);if(a instanceof
wi)return new qk(this.j,a[k]);if(a instanceof vi)return new ok(this.j,a[k]);throw new O(514);};function Pk(a){this.Wf=new Nj;this.eg=new Nk(a)};function Qk(){this.Re=M()}function Rk(a,b){var c=a.Re.get(b[t]())||null;null===c&&(c=new Sk,a.Re.set(b[t](),c));return c}function Tk(a,b,c,d){c[E](function(a){a=Rk(this,a);0==d?(a.ab=null,a.tc=b):3==d?(null===a.Wb&&(a.Wb=N()),a.Wb.add(b),null===a.Qa&&(a.Qa=N()),a.Qa[Za](b)):1==d?(null===a.Qa&&(a.Qa=N()),a.Qa.add(b)):2==d&&(a.ab=b)},a)}
function Uk(a,b,c,d){var f=!0;c[E](function(a){if(f){a=Rk(this,a);var c=null===a.Qa||0==a.Qa[F];f=0==d?(null===a.Wb||0==a.Wb[F])&&c&&null===a.tc&&null!==a.ab&&a.ab==b:3==d?null===a.tc&&null===a.ab&&null!==a.Qa&&a.Qa.has(b):1==d?null===a.ab:c&&(null===a.ab||a.ab==b)}},a);return f}function Vk(a,b,c,d){var f=Uk(a,b,c,d);f&&Tk(a,b,c,d);return f}Qk[r].releaseLock=function(a,b){b[E](function(b){Rk(this,b).releaseLock(a)},this)};function Wk(a,b){b[E](function(a){Rk(this,a).ab=null},a)}
function Sk(){this.Wb=this.Qa=this.ab=this.tc=null}Sk[r].releaseLock=function(a){this.tc==a&&(this.tc=null);this.ab==a&&(this.ab=null);null===this.Qa||this.Qa[Za](a);null===this.Wb||this.Wb[Za](a)};function Xk(){this.Sb=new Yk;this.Dc=new Qk}function Qf(a,b){(2>b[Eb]()||2>b[Eb]())&&Wk(a.Dc,b.ba());a.Sb.tb(b);Zk(a);return b.xc().ia}function Zk(a){for(var b=a.Sb.fa(),c=0;c<b[B];c++){var d=b[c],f=!1;if(f=0==d.O()?$k(a,d,1,3):$k(a,d,2,0))a.Sb[kb](d),f=a,d[Qa]()[x](I(f.cg,f,d),I(f.bg,f,d))}}function $k(a,b,c,d){var f=!1;Vk(a.Dc,b.W(),b.ba(),c)&&(f=Vk(a.Dc,b.W(),b.ba(),d));return f}Xk[r].cg=function(a,b){this.Dc.releaseLock(a.W(),a.ba());a.xc()[Gb](b);Zk(this)};
Xk[r].bg=function(a,b){this.Dc.releaseLock(a.W(),a.ba());a.xc()[La](b);Zk(this)};function Yk(){this.Sb=[]}Yk[r].tb=function(a){pc(this.Sb,a,function(a,c){var d=a[Eb]()-c[Eb]();return 0==d?a.W()-c.W():d})};Yk[r].fa=function(){return this.Sb[m]()};va(Yk[r],function(a){var b=this.Sb;a=dc(b,a);var c;(c=0<=a)&&ic(b,a);return c});function al(a,b){this.Hd=ef.ed();this.ce=a;this.nd=b;this.G=bl(this)}function bl(a){if(0<a.ce.f[B])return a.ce.f;var b=[];a.ce.c[E](function(a){a.eb()[E](function(a){b[w](a)})});return b}al[r].S=function(a,b){return this.G[Ua](function(c){return mf(this.Hd,c.O(),"eq")($e(a,c),$e(b,c))},this)};
function cl(a,b,c){var d=null===b?[]:b[A],f=ld(d,c[A],I(a.S,a),function(a){return d[a]});b=[];for(var h=0,l=0;l<d[B];l++){var p=d[l];f[h]==p?h++:(p=a.nd[z](h,1),p=dl(l,p,0,a.nd),b[w](p))}f=ld(d,c[A],I(a.S,a),function(a,b){return c[A][b]});for(l=h=0;l<c[A][B];l++)p=c[A][l],f[h]==p?h++:(a.nd[z](l,0,p.sa.o),p=dl(l,[],1,a.nd),b[w](p));return b}function dl(a,b,c,d){return{rg:c,index:a,object:d,vg:b,type:"splice"}};function el(){this.dc=M()}el[r].yd=function(a,b){var c=Vb(a.a)[C](),d=this.dc.get(c)||null;null===d&&(d=new fl(a),this.dc.set(c,d));d.yd(b)};el[r].ee=function(a,b){var c=Vb(a.a)[C](),d=this.dc.get(c)||null;d.ee(b);0<d.Hc[F]||this.dc[Za](c)};function Pf(a,b){var c=N();b[E](function(a){c.add(a[t]())});var d=[];a.dc[E](function(a){a=a.zc();a[pb].c[cb](function(a){return c.has(a[t]())})&&d[w](a)});return d}function Nf(a,b,c){b=Vb(null!=b.$c?b.$c:b)[C]();a=a.dc.get(b)||null;null!==a&&gl(a,c)}
function fl(a){this.wf=a;this.Hc=N();this.$f=[];this.Pe=null;this.Df=new al(a.a,this.$f)}fl[r].yd=function(a){this.Hc.has(a)||this.Hc.add(a)};fl[r].ee=function(a){return this.Hc[Za](a)};fl[r].zc=function(){var a=this.wf;return{context:a.a,ae:kj(a)}};function gl(a,b){var c=cl(a.Df,a.Pe,b);a.Pe=b;0<c[B]&&a.Hc[E](function(a){a(c)})};function hl(a,b){var c=a.m(Pd),d=b||{},f=new Dg;a.kb(Kd,f);var f=null,h=!1;switch(d.storeType||0){case 1:f=new qg(c);break;case 5:f=new sg(c);break;case 4:f=new zg(a,c,d.webSqlDbSize);break;case 3:f=new bg(c,d.firebase);h=!0;break;default:f=new mg(a,c)}a.kb(Jd,f);var l=new xh;a.kb(Ld,l);return f.Aa(d.onUpgrade)[x](function(){var b=new Pk(a);a.kb(Md,b);b=new Xk;a.kb(Nd,b);b=new el;a.kb(Od,b);return l.Aa(c)})[x](function(){if(h){var b=new Rf(a);b.xb.subscribe(b.Wd[D](b))}return(new qh(a)).Aa(c)})};function il(a,b){this.j=a;this.xb=a.m(Jd);this.Ra=a.m(Nd);this.Bb=a.m(Od);this.qa=N(b);this.Pa=new De(this.j,this.qa);this.Tb=Tc();this.uc=Tc();this.pe=Tc()}H=il[r];ma(H,function(){this.pe[Gb]();return this.uc.ia});H.O=Kb(1);H.ba=G("qa");H.xc=G("Tb");H.W=function(){return Vb(this)};Da(H,Kb(2));function jl(a){Qf(a.Ra,a);return a.pe.ia}
function kl(a,b){var c=b.zc();return c.ae.gb()[Qa](a.Pa,c[pb])[x](function(a){return Qe(a[0])},I(function(a){this.Pa.Db();var b=new Zc(a[n]);this.uc[La](b);throw a;},a))}H.ma=function(){this.xb.Jb(this.O(),this.Pa).ma()[x](I(function(){this.Mc();this.uc[Gb]()},this),I(function(a){this.Pa.Db();this.uc[La](a)},this));return this.Tb.ia};H.Db=function(){this.Pa.Db();this.uc[Gb]();return this.Tb.ia};H.Mc=function(){var a=Pf(this.Bb,this.qa);0!=a[B]&&(a=new Mf(this.j,a),Qf(this.Ra,a))};function ll(a){this.j=a;this.Ra=a.m(Nd);this.Rc=null;this.Sa=0;0==ml[F]&&(ml.set(0,N([1,4])),ml.set(1,N([2])),ml.set(2,N([3,5,6])),ml.set(3,N([2,7])),ml.set(4,N([7])),ml.set(5,N([7])),ml.set(6,N([7])))}J("lf.proc.Transaction",ll);var ml=M();function nl(a,b){var c=ml.get(a.Sa)||null;if(null===c||!c.has(b))throw new O(107,a.Sa,b);a.Sa=b}
ma(ll[r],function(a){nl(this,4);var b=[];try{a[E](function(a){a.cb();b[w](a.zc())},this)}catch(c){return nl(this,7),Pc(c)}a=new Pi(this.j,b);return Qf(this.Ra,a)[x](I(function(a){nl(this,7);return a.map(function(a){return Qe(a)})},this),I(function(a){nl(this,7);throw a;},this))});ma(ll[r],ll[r][Qa]);ll[r].uf=function(a){nl(this,1);this.Rc=new il(this.j,a);return jl(this.Rc)[x](I(function(){nl(this,2)},this))};ll[r].begin=ll[r].uf;
ll[r].tf=function(a){nl(this,3);return kl(this.Rc,a)[x](I(function(a){nl(this,2);return a},this),I(function(a){nl(this,7);throw a;},this))};ll[r].attach=ll[r].tf;ll[r].ma=function(){nl(this,5);return this.Rc.ma()[x](I(function(){nl(this,7)},this))};ll[r].commit=ll[r].ma;ll[r].Db=function(){nl(this,6);return this.Rc.Db()[x](I(function(){nl(this,7)},this))};ll[r].rollback=ll[r].Db;function Y(a){this.j=a;this.s=a.m(Pd);this.Md=!1}J("lf.proc.Database",Y);Y[r].Aa=function(a){this.j.kb(Pd,this.s);return hl(this.j,a)[x](I(function(){this.Md=!0;return this},this))};Y[r].init=Y[r].Aa;Y[r].rb=G("s");Y[r].getSchema=Y[r].rb;function ol(a){if(!a.Md)throw new O(2);}Y[r].select=function(a){ol(this);return new X(this.j,1!=arguments[B]||null!=arguments[0]?e[r][m][q](arguments):[])};Y[r].select=Y[r].select;Y[r].tb=function(){ol(this);return new mj(this.j)};Y[r].insert=Y[r].tb;
Y[r].Nd=function(){ol(this);return new mj(this.j,!0)};Y[r].insertOrReplace=Y[r].Nd;qa(Y[r],function(a){ol(this);return new vj(this.j,a)});qa(Y[r],Y[r][Wa]);ra(Y[r],function(){ol(this);return new lj(this.j)});Y[r]["delete"]=Y[r][Za];Y[r].observe=function(a,b){this.j.m(Od).yd(a,b)};Y[r].observe=Y[r].observe;Y[r].unobserve=function(a,b){this.j.m(Od).ee(a,b)};Y[r].unobserve=Y[r].unobserve;Y[r].Bf=function(){ol(this);return new ll(this.j)};Y[r].createTransaction=Y[r].Bf;
oa(Y[r],function(){try{this.j.m(Jd)[Ra]()}catch(a){}this.j[v]();this.Md=!1});oa(Y[r],Y[r][Ra]);function Z(a,b,c,d,f,h){this.M=a;this.u=b;this.Ke=c;this.Ie=d;this.mf=f;this.bb=h||null}J("lf.schema.BaseColumn",Z);H=Z[r];na(H,G("u"));H.l=function(){return af(this.M)+"."+this.u};g(H,function(){return this.l()});H.J=G("M");H.O=G("mf");Z[r].getType=Z[r].O;Z[r].Ya=G("bb");Z[r].za=function(){null==this.ha&&(this.ha=[],this.J().za()[E](function(a){-1!=a.f.map(function(a){return a.da[t]()})[ab](this.u)&&this.ha[w](a)},this));return this.ha};
Z[r].Ha=function(){if(!Mb(this.ca)){var a=this.za()[Fa](function(a){return 1!=a.f[B]?!1:a.f[0].da[t]()==this[t]()},this);this.ca=0<a[B]?a[0]:null}return this.ca};Z[r].Bc=G("Ie");Z[r].isNullable=Z[r].Bc;Z[r].Cc=G("Ke");Z[r].Na=function(a){return Zh(this,a,"eq")};Z[r].eq=Z[r].Na;Z[r].Se=function(a){return Zh(this,a,"neq")};Z[r].neq=Z[r].Se;Z[r].Td=function(a){return Zh(this,a,"lt")};Z[r].lt=Z[r].Td;Z[r].Xf=function(a){return Zh(this,a,"lte")};Z[r].lte=Z[r].Xf;Z[r].Jf=function(a){return Zh(this,a,"gt")};
Z[r].gt=Z[r].Jf;Z[r].Kf=function(a){return Zh(this,a,"gte")};Z[r].gte=Z[r].Kf;Z[r].match=function(a){return Zh(this,a,"match")};Z[r].match=Z[r].match;Z[r].vf=function(a,b){return Zh(this,[a,b],"between")};Z[r].between=Z[r].vf;Z[r].Lf=function(a){return Zh(this,a,"in")};Z[r]["in"]=Z[r].Lf;Z[r].Sf=function(){return this.Na(null)};Z[r].isNull=Z[r].Sf;Z[r].Rf=function(){return this.Se(null)};Z[r].isNotNull=Z[r].Rf;Z[r].nc=function(a){return new Z(this.M,this.u,this.Ke,this.Ie,this.mf,a)};Z[r].as=Z[r].nc;function pl(){this.ud=M()}var ql;ta(pl[r],function(){this.ud[v]()});ta(pl[r],pl[r][v]);pl[r].kb=function(a,b){this.ud.set(a[C](),b);return b};pl[r].registerService=pl[r].kb;pl[r].m=function(a){var b=this.ud.get(a[C]())||null;if(null===b)throw new O(7,a[C]());return b};pl[r].getService=pl[r].m;pl[r].Rd=function(a){return this.ud.has(a[C]())};pl[r].isRegistered=pl[r].Rd;function rl(a){this.s=a;this.de=M();this.Ue=M();this.we=M();this.g=M();this.Dd=M();sl(this)}function sl(a){a.s.Va()[E](function(a){var c=N();a.Ab().Kd()[E](function(d){var f=this.de.get(d.$a)||[];f[w](d);this.de.set(d.$a,f);c.add(this.s[k](d.$a));(f=this.g.get(d.$a))||(f=N());f.add(a);this.g.set(d.$a,f);this.we.set(a[t]()+"."+d.Hb,d.$a);d=d.$a+"."+d.Jc;f=this.Dd.get(d)||[];f[w](a[t]());this.Dd.set(d,f)},this);0!=c[F]&&this.Ue.set(a[t](),c)},a)}function xe(a,b){return a.de.get(b)||null}
function Si(a,b){var c=b.get(a);return c?Ud(c):[]}function Vi(a,b){var c=N();b[E](function(a){(a=this.we.get(a))&&c.add(a)},a);return Ud(c).map(function(a){return this.s[k](a)},a)}function Wi(a,b){var c=N();b[E](function(a){(a=this.Dd.get(a))&&a[E](function(a){c.add(a)})},a);return Ud(c).map(function(a){return this.s[k](a)},a)};function tl(a,b,c){this.fg=a;this.Zf=b;this.If=c}J("lf.schema.Constraint",tl);tl[r].gd=G("fg");tl[r].getPrimaryKey=tl[r].gd;tl[r].Kd=G("If");tl[r].getForeignKeys=tl[r].Kd;function ul(a,b){var c=a.ref[Ia](".");if(2!=c[B])throw new O(540,b);this.Hb=a.local;this.$a=c[0];this.Jc=c[1];ja(this,b);this.action=a.action;this.timing=a[Ma]};function vl(a){wl(a);this.Hd=ef.ed();this.u=a;this.G=M();this.le=N();this.Sc=N();this.Gc=N();this.ua=null;this.ha=M();this.qd=!1;this.zb=[]}J("lf.schema.TableBuilder",vl);function xl(a){ja(this,a[n]);this.jb=a.order;this.autoIncrement=a[qb]}var yl=N([0,6]);function wl(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new O(502,a);}function zl(a,b){if(b==a.u)throw new O(546,b);if(a.G.has(b)||a.ha.has(b)||a.Sc.has(b))throw new O(503,a.u+"."+b);}
function Al(a,b){var c=!1;b[E](function(a){var b=this.G.get(a[n]);c=c||a[qb];if(a[qb]&&3!=b)throw new O(504);},a);if(c&&1<b[B])throw new O(505);}function Bl(a){if(null!==a.ua){var b=a.ha.get(a.ua).map(function(a){return a[n]}),c=0;if(a.zb[cb](function(a,f){c=f;return-1!=b[ab](a.Hb)},a))throw new O(543,a.zb[c][n]);}}
function Cl(a){if(null!==a.ua){var b=function(a){return a[n]},c=ga[zb](a.ha.get(a.ua).map(b));a.ha[E](function(a,f){if(f!=this.ua){var h=a.map(b);if(ga[zb](h)==c)throw new O(544,this.u+"."+f);}},a)}}function Dl(a){null===a.ua||a.ha.get(a.ua)[E](function(a){if(this.Gc.has(a[n]))throw new O(545,this.u+"."+a[n]);},a)}vl[r].of=function(a,b){wl(a);zl(this,a);this.G.set(a,b);yl.has(b)&&this.re([a]);return this};vl[r].addColumn=vl[r].of;
vl[r].qf=function(a,b){var c=this.u;this.ua="pk"+(c[0].toUpperCase()+c.substring(1));wl(this.ua);zl(this,this.ua);c=El(this,a,!0,void 0,b);Al(this,c);1==c[B]&&this.le.add(c[0][n]);this.Sc.add(this.ua);this.ha.set(this.ua,c);return this};vl[r].addPrimaryKey=vl[r].qf;
vl[r].pf=function(a,b){wl(a);zl(this,a);var c=new ul(b,this.u+"."+a);Mb(c.action)||(c.action=0);Mb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new O(506);if(!this.G.has(c.Hb))throw new O(540,a);this.zb[w](c);this.qe(a,[c.Hb],!1);return this};vl[r].addForeignKey=vl[r].pf;vl[r].rf=function(a,b){wl(a);zl(this,a);var c=El(this,b,!0);Fl(this,a,c);1==c[B]&&this.le.add(c[0][n]);this.ha.set(a,c);this.Sc.add(a);return this};vl[r].addUnique=vl[r].rf;
vl[r].re=function(a){a=El(this,a,!1);Gl(this,a);a[E](function(a){this.Gc.add(a[n])},this);return this};vl[r].addNullable=vl[r].re;function Gl(a,b){zd(a.ha)[E](function(a){var d=N();this.ha.get(a)[E](function(a){d.add(a[n])});var f=b[Fa](function(a){return d.has(a[n])});if(1<d[F]&&0<f[B])throw new O(507,a,f[Ka](","));},a)}vl[r].qe=function(a,b,c,d){wl(a);zl(this,a);b=El(this,b,!0,d);Fl(this,a,b);c&&this.Sc.add(a);this.ha.set(a,b);return this};vl[r].addIndex=vl[r].qe;
function Fl(a,b,c){if(1<c[B]&&(a=c[Fa](function(a){return this.Gc.has(a[n])},a),0<a[B]))throw new O(507,b,a[Ka](","));}vl[r].Cb=Jb("qd");vl[r].persistentIndex=vl[r].Cb;vl[r].rb=function(){Bl(this);Cl(this);Dl(this);return new (Hl(this))};vl[r].getSchema=vl[r].rb;function Il(a){return a.zb}
function El(a,b,c,d,f){var h=b,h="string"==typeof b[0]?b.map(function(a){return new xl({name:a,order:null!=d?d:1,autoIncrement:f||!1})}):b.map(function(a){return new xl(a)});h[E](function(a){if(!this.G.has(a[n]))throw new O(508,this.u,a[n]);if(c){var b=this.G.get(a[n]);if(0==b||6==b)throw new O(509,this.u,a[n]);}},a);return h}
function Hl(a){function b(){function b(c){return a.ha.get(c).map(function(a){return{da:this[a[n]],jb:a.jb,autoIncrement:a[qb]}},this)}var d=zd(a.G).map(function(b){this[b]=new Z(this,b,a.le.has(b),a.Gc.has(b),a.G.get(b));return this[b]},this),f=zd(a.ha).map(function(d){return new ai(a.u,d,a.Sc.has(d),b[q](this,d))},this);bi[q](this,a.u,d,f,a.qd);var h=null===a.ua?null:new ai(a.u,a.ua,!0,b[q](this,a.ua)),l=d[Fa](function(b){return!a.Gc.has(b[t]())});this.yf=new tl(h,l,a.zb);this.bf=Jl(a,d,f)}K(b,bi);
b[r].yb=function(a){return new this.bf(fd++,a)};b[r].createRow=b[r].yb;b[r].bc=function(a){var b={};this.eb()[E](function(f){var h=f[t]();f=f.O();var l=a[u][h];if(0==f)if(f=l,null!=f&&""!=f){0!=f[B]%2&&(f="0"+f);for(var l=new ArrayBuffer(f[B]/2),p=new Uint8Array(l),y=0,P=0;y<f[B];y+=2)p[P++]=da(f.substr(y,2),16);f=l}else f=null;else f=2==f?null!=l?new Date(l):null:l;b[h]=f},this);return new this.bf(a.id,b)};b[r].deserializeRow=b[r].bc;b[r].Ab=G("yf");b[r].getConstraint=b[r].Ab;return b}
function Jl(a,b,c){function d(a,d){this.G=b;this.ha=c;ed[q](this,a,d)}K(d,ed);d[r].ze=function(){var a={};this.G[E](function(b){a[b[t]()]=b.Bc()?null:pe[b.O()]});return a};d[r].jf=function(){var a={};this.G[E](function(b){var c=b[t]();b=b.O();var d=this.o[c];a[c]=0==b?null!=d?id(d):null:2==b?null!=d?d[Fb]():null:6==b?null!=d?d:null:d},this);return a};var f=I(function(a){var b=this.G.get(a[t]()),c=this.Hd.Le.get(b)||null;return function(b){return c(b[a[t]()])}},a),h=I(function(a){var b=a.map(function(a){return f(a.da)});
return function(a){return b.map(function(b){return b(a)})}},a),l={};c[E](function(a){var b=a.l();a=1==a.f[B]?f(a.f[0].da):h(a.f);l[b]=a});d[r].Ob=function(a){return-1!=a[ab]("#")?this.id():l[tb](a)?l[a](this.o):null};return d};function Kl(a,b){this.s=new Ll(a,b);this.nb=M();this.vc=!1}J("lf.schema.Builder",Kl);function Ml(a,b){b.zb[E](function(a){var d=a.$a;if(!this.nb.has(d))throw new O(536,a[n]);var d=this.nb.get(d).rb(),f=a.Jc;if(!d[tb](f))throw new O(537,a[n]);if(b.rb()[a.Hb].O()!=d[f].O())throw new O(538,a[n]);if(!d[f].Cc())throw new O(539,a[n]);},a)}Kl[r].xf=function(a){a.zb[E](function(a){Il(this.nb.get(a.$a))[E](function(c){if(c.Hb==a.Jc)throw new O(534,a[n]);},this)},this)};
function Nl(a){a.vc||(a.nb[E](function(a){Ml(this,a);a=a.rb();this.s.H.set(a[t](),a)},a),Ad(a.nb)[E](a.xf,a),Ol(a),a.nb[v](),a.vc=!0)}function Pl(a,b,c){b.oe||(b.oe=!0,b.Xd=!0,b.Ae[E](function(a){a=c.get(a);if(!a.oe)Pl(this,a,c);else if(a.Xd&&b!=a)throw new O(533);},a));b.Xd=!1}function Ol(a){var b=M();a.s.H[E](function(a,d){b.set(d,new Ql(d))},a);a.nb[E](function(a,d){a.zb[E](function(a){b.get(a.$a).Ae.add(d)})});Ad(b)[E](function(a){Pl(this,a,b)},a)}
function Ql(a){this.Xd=this.oe=!1;this.Ae=N();this.Pc=a}Kl[r].rb=function(){this.vc||Nl(this);return this.s};Kl[r].getSchema=Kl[r].rb;Kl[r].De=function(){var a=new Id("ns_"+this.s[n]()),b;ql||(ql=new pl);b=ql;var c=null;b.Rd(a)?c=b.m(a):(c=new pl,b.kb(a,c));return c};Kl[r].getGlobal=Kl[r].De;Kl[r].connect=function(a){var b=this.De();b.Rd(Pd)||b.kb(Pd,this.rb());return(new Y(b)).Aa(a)};Kl[r].connect=Kl[r].connect;
Kl[r].Af=function(a){if(this.nb.has(a))throw new O(503,a);if(this.vc)throw new O(535);this.nb.set(a,new vl(a));return this.nb.get(a)};Kl[r].createTable=Kl[r].Af;Kl[r].je=function(a){if(this.vc)throw new O(535);this.s.je(a);return this};Kl[r].setPragma=Kl[r].je;function Ll(a,b){this.u=a;this.La=b;this.H=M();this.Ye={Ef:!1}}J("lf.schema.DatabaseSchema",Ll);ja(Ll[r],G("u"));ja(Ll[r],Ll[r][n]);Ll[r].version=G("La");Ll[r].version=Ll[r][vb];Ll[r].Va=function(){return Ad(this.H)};Ll[r].tables=Ll[r].Va;
ia(Ll[r],function(a){if(!this.H.has(a))throw new O(101,a);return this.H.get(a)});ia(Ll[r],Ll[r][k]);Ll[r].info=function(){this.Ge||(this.Ge=new rl(this));return this.Ge};Ll[r].Xe=G("Ye");Ll[r].pragma=Ll[r].Xe;Ll[r].je=Jb("Ye");J("lf.schema.create",function(a,b){return new Kl(a,b)});}.bind(window))()
//# sourceMappingURL=lovefield.min.js.map
