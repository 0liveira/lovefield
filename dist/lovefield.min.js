/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function wa(a,b){return a.child=b}function ya(a,b){return a.next=b}function za(a,b){return a.onerror=b}function Aa(a,b){return a.length=b}function f(a,b){return a.toString=b}function Ba(a,b){return a.bind=b}function Ca(a,b){return a.subscribe=b}function Da(a,b){return a.forEach=b}function Ea(a,b){return a.getPriority=b}
var Fa="openCursor",Ga="filter",Ha="once",Ia="objectStoreNames",Ja="split",h="table",Ka="reduce",m="join",La="reject",Ma="timing",Na="item",n="slice",Oa="target",q="name",r="call",t="prototype",Pa="exec",u="getName",Qa="close",Ra="concat",v="value",Sa="setImmediate",Ta="every",Ua="update",Va="global",Wa="propertyIsEnumerable",Xa="delete",Ya="sort",Za="indexOf",$a="some",ab="count",bb="orderByChild",w="clear",cb="values",db="replace",eb="reverse",fb="continue",gb="addAll",hb="removeChild",x="remove",
ib="child",jb="create",z="push",A="then",kb="transaction",lb="index",mb="context",B="splice",nb="autoIncrement",ob="next",pb="shift",qb="hasOwnProperty",rb="contains",tb="version",ub="objectStore",vb="offset",wb="apply",xb="stringify",C="entries",D="length",yb="info",E="toString",zb="compare",F="bind",Ab="getParent",Bb="rows",G="forEach",Cb="getPriority",Db="getTime",Eb="resolve",Fb="result",Gb="size";function Hb(){return function(){}}function Ib(a){return function(b){this[a]=b}}
function H(a){return function(){return this[a]}}function Jb(a){return function(){return a}}var I,Kb=this;function Lb(a){return void 0!==a}function J(a,b,c){a=a[Ja](".");c=c||Kb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[D]&&(d=a[pb]());)!a[D]&&Lb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Mb(){}function Nb(a){a.Je=function(){return a.vg?a.vg:a.vg=new a}}
function Ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][E][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[D]&&"undefined"!=typeof a[B]&&"undefined"!=typeof a[Wa]&&!a[Wa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Wa]&&!a[Wa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Pb(a){return null===a}function Qb(a){return null!=a}function Rb(a){var b=Ob(a);return"array"==b||"object"==b&&"number"==typeof a[D]}function Sb(a){return"string"==typeof a}function Tb(a){return"function"==Ob(a)}function Ub(a){return a[Vb]||(a[Vb]=++Wb)}var Vb="closure_uid_"+(1E9*ba.random()>>>0),Wb=0;function Xb(a,b,c){return a[r][wb](a[F],arguments)}
function Yb(a,b,c){if(!a)throw fa();if(2<arguments[D]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t].unshift[wb](c,d);return a[wb](b,c)}}return function(){return a[wb](b,arguments)}}function K(a,b,c){K=Function[t][F]&&-1!=Function[t][F][E]()[Za]("native code")?Xb:Yb;return K[wb](null,arguments)}function Zb(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[z][wb](b,arguments);return a[wb](this,b)}}
function L(a,b){function c(){}c.prototype=b[t];a.Qb=b[t];a.prototype=new c;a[t].constructor=a;a.Fl=function(a,c,k){for(var l=e(arguments[D]-2),p=2;p<arguments[D];p++)l[p-2]=arguments[p];return b[t][c][wb](a,l)}};function $b(a){if(fa.captureStackTrace)fa.captureStackTrace(this,$b);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}L($b,fa);ja($b[t],"CustomError");function ac(a,b){for(var c=a[Ja]("%s"),d="",g=e[t][n][r](arguments,1);g[D]&&1<c[D];)d+=c[pb]()+g[pb]();return d+c[m]("%s")};function bc(a,b){b.unshift(a);$b[r](this,ac[wb](null,b));b[pb]()}L(bc,$b);ja(bc[t],"AssertionError");function cc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new bc(""+g,k||[]);}function M(a,b,c){a||cc("",null,b,e[t][n][r](arguments,2));return a}function dc(a,b){throw new bc("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function ec(a,b,c){Tb(a)||cc("Expected function but got %s: %s.",[Ob(a),a],b,e[t][n][r](arguments,2));return a};function fc(a,b,c){this.yk=c;this.Li=a;this.gl=b;this.ae=0;this.Vd=null}fc[t].get=function(){var a;0<this.ae?(this.ae--,a=this.Vd,this.Vd=a[ob],ya(a,null)):a=this.Li();return a};fc[t].put=function(a){this.gl(a);this.ae<this.yk&&(this.ae++,ya(a,this.Vd),this.Vd=a)};var gc=e[t],hc=gc[Za]?function(a,b,c){M(null!=a[D]);return gc[Za][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[D]+c):c;if(Sb(a))return Sb(b)&&1==b[D]?a[Za](b,c):-1;for(;c<a[D];c++)if(c in a&&a[c]===b)return c;return-1},ic=gc[G]?function(a,b,c){M(null!=a[D]);gc[G][r](a,b,c)}:function(a,b,c){for(var d=a[D],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)k in g&&b[r](c,g[k],k,a)},jc=gc.map?function(a,b,c){M(null!=a[D]);return gc.map[r](a,b,c)}:function(a,b,c){for(var d=a[D],g=e(d),k=Sb(a)?a[Ja](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[r](c,k[l],l,a));return g},kc=gc[Ka]?function(a,b,c,d){M(null!=a[D]);d&&(b=K(b,d));return gc[Ka][r](a,b,c)}:function(a,b,c,d){var g=c;ic(a,function(c,l){g=b[r](d,g,c,l,a)});return g},lc=gc[$a]?function(a,b,c){M(null!=a[D]);return gc[$a][r](a,b,c)}:function(a,b,c){for(var d=a[D],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a))return!0;return!1},mc=gc[Ta]?function(a,b,c){M(null!=a[D]);return gc[Ta][r](a,b,c)}:function(a,b,c){for(var d=a[D],g=Sb(a)?a[Ja](""):a,k=0;k<
d;k++)if(k in g&&!b[r](c,g[k],k,a))return!1;return!0};function nc(a,b){M(null!=a[D]);return 1==gc[B][r](a,b,1)[D]}function oc(a,b,c){a:{for(var d=a[D],g=Sb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(nc(a,b),!0):!1}function pc(a){var b=a[D];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function qc(a,b){for(var c=1;c<arguments[D];c++){var d=arguments[c];if(Rb(d)){var g=a[D]||0,k=d[D]||0;Aa(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[z](d)}}function rc(a,b,c,d){M(null!=a[D]);return gc[B][wb](a,sc(arguments,1))}function sc(a,b,c){M(null!=a[D]);return 2>=arguments[D]?gc[n][r](a,b):gc[n][r](a,b,c)}function tc(a,b,c,d,g){for(var k=0,l=a[D],p;k<l;){var y=k+l>>1,xa;xa=c?b[r](g,a[y],y,a):b(d,a[y]);0<xa?k=y+1:(l=y,p=!xa)}return p?k:~k}function uc(a,b){return a>b?1:a<b?-1:0}
function vc(a,b,c){c=tc(a,c||uc,!1,b);return 0>c?(rc(a,-(c+1),0,b),!0):!1}function wc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function xc(a){for(var b=[],c=0;c<arguments[D];c++){var d=arguments[c];if("array"==Ob(d))for(var g=0;g<d[D];g+=8192)for(var k=sc(d,g,g+8192),k=xc[wb](null,k),l=0;l<k[D];l++)b[z](k[l]);else b[z](d)}return b};function yc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function zc(a,b,c){for(var d in a)if(b[r](c,a[d],d,a))return!0;return!1}function Ac(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Bc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Cc;a:{var Dc=Kb.navigator;if(Dc){var Ec=Dc.userAgent;if(Ec){Cc=Ec;break a}}Cc=""};function Fc(a){Kb.setTimeout(function(){throw a;},0)}var Gc;
function Ic(){var a=Kb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==Cc[Za]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Qa]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=K(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Cc[Za]("Trident")&&-1==Cc[Za]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Lb(c[ob])){c=c[ob];var a=c.Lf;c.Lf=null;a()}};return function(a){ya(d,{Lf:a});d=d[ob];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[hb](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Kb.setTimeout(a,0)}};function Jc(){this.me=this.mc=null}var Lc=new fc(function(){return new Kc},function(a){a.reset()},100);Jc[t].add=function(a,b){var c=this.ak();c.set(a,b);this.me?ya(this.me,c):(M(!this.mc),this.mc=c);this.me=c};va(Jc[t],function(){var a=null;this.mc&&(a=this.mc,this.mc=this.mc[ob],this.mc||(this.me=null),ya(a,null));return a});Jc[t].hl=function(a){Lc.put(a)};Jc[t].ak=function(){return Lc.get()};function Kc(){this.scope=this.Fe=null;ya(this,null)}
Kc[t].set=function(a,b){this.Fe=a;this.scope=b;ya(this,null)};Kc[t].reset=function(){this.scope=this.Fe=null;ya(this,null)};function Mc(a,b){Nc||Oc();Pc||(Nc(),Pc=!0);Qc.add(a,b)}var Nc;function Oc(){if(Kb.Promise&&Kb.Promise[Eb]){var a=Kb.Promise[Eb](void 0);Nc=function(){a[A](Rc)}}else Nc=function(){var a=Rc;if(!Tb(Kb[Sa])||Kb.Window&&Kb.Window[t]&&Kb.Window[t][Sa]==Kb[Sa])Gc||(Gc=Ic()),Gc(a);else Kb[Sa](a)}}var Pc=!1,Qc=new Jc;[][z](function(){Pc=!1;Qc=new Jc});function Rc(){for(var a=null;a=Qc[x]();){try{a.Fe[r](a.scope)}catch(b){Fc(b)}Qc.hl(a)}Pc=!1};function N(a,b){this.La=0;this.gh=void 0;this.zd=this.qc=this.G=null;this.Ud=this.Ee=!1;if(a!=Mb)try{var c=this;a[r](b,function(a){c.Cc(2,a)},function(a){if(!(a instanceof Sc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.Cc(3,a)})}catch(d){this.Cc(3,d)}}function Tc(){wa(this,null);this.context=this.zc=this.bc=null;ya(this,null);this.pe=!1}Tc[t].reset=function(){wa(this,null);this.context=this.zc=this.bc=null;this.pe=!1};
var Uc=new fc(function(){return new Tc},function(a){a.reset()},100);function Vc(a,b,c){var d=Uc.get();d.bc=a;d.zc=b;d.context=c;return d}function Wc(a){if(a instanceof N)return a;var b=new N(Mb);b.Cc(2,a);return b}function Xc(a){return new N(function(b,c){c(a)})}function Yc(a,b,c){Zc(a,b,c,null)||Mc(Zb(b,a))}function $c(a){return new N(function(b,c){var d=a[D],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;p<a[D];p++)y=a[p],Yc(y,Zb(k,p),l);else b(g)})}
function ad(){var a,b,c=new N(function(c,g){a=c;b=g});return new bd(c,a,b)}N[t].then=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.Cf(Tb(a)?a:null,Tb(b)?b:null,c)};N[t].then=N[t][A];N[t].$goog_Thenable=!0;I=N[t];
I.tl=function(a,b,c){null!=a&&ec(a,"opt_onFulfilled should be a function.");null!=b&&ec(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.Bf(Vc(a||Mb,b||null,c))};I.uh=function(a,b){return this.Cf(null,a,b)};I.Bf=function(a){this.jk()||2!=this.La&&3!=this.La||this.jh();this.Xk(a)};
I.Cf=function(a,b,c){var d=Vc(null,null,null);wa(d,new N(function(g,k){d.bc=a?function(b){try{var d=a[r](c,b);g(d)}catch(y){k(y)}}:g;d.zc=b?function(a){try{var d=b[r](c,a);!Lb(d)&&a instanceof Sc?k(a):g(d)}catch(y){k(y)}}:k}));d[ib].G=this;this.Bf(d);return d[ib]};I.wl=function(a){M(1==this.La);this.La=0;this.Cc(2,a)};I.xl=function(a){M(1==this.La);this.La=0;this.Cc(3,a)};
I.Cc=function(a,b){0==this.La&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.La=1,Zc(b,this.wl,this.xl,this)||(this.gh=b,this.La=a,this.G=null,this.jh(),3!=a||b instanceof Sc||cd(this,b)))};
function Zc(a,b,c,d){if(a instanceof N)return a.tl(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[A](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[A];if(Tb(l))return dd(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function dd(a,b,c,d,g){function k(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,k)}catch(y){k(y)}}I.jh=function(){this.Ee||(this.Ee=!0,Mc(this.fj,this))};I.jk=function(){return!!this.qc};
I.Xk=function(a){M(null!=a.bc);this.zd?ya(this.zd,a):this.qc=a;this.zd=a};I.Rk=function(){var a=null;this.qc&&(a=this.qc,this.qc=a[ob],ya(a,null));this.qc||(this.zd=null);null!=a&&M(null!=a.bc);return a};I.fj=function(){for(var a=null;a=this.Rk();)this.ej(a,this.La,this.gh);this.Ee=!1};I.ej=function(a,b,c){3==b&&a.zc&&!a.pe&&this.el();if(a[ib])a[ib].G=null,ed(a,b,c);else try{a.pe?a.bc[r](a[mb]):ed(a,b,c)}catch(d){fd[r](null,d)}Uc.put(a)};
function ed(a,b,c){2==b?a.bc[r](a[mb],c):a.zc&&a.zc[r](a[mb],c)}I.Kh=Hb();I.el=function(){var a;for(a=this;a&&a.Ud;a=a.G)a.Ud=!1};function cd(a,b){a.Ud=!0;Mc(function(){a.Ud&&(a.Kh(b),fd[r](null,b))})}var fd=Fc;function Sc(a){$b[r](this,a)}L(Sc,$b);ja(Sc[t],"cancel");function bd(a,b,c){this.na=a;this.resolve=b;this.reject=c};
function gd(a,b){this.Aa=a;this.dc=b||this.Yf()}var hd=0;I=gd[t];I.id=H("Aa");I.Th=Ib("Aa");I.w=H("dc");I.Yf=function(){return{}};I.vh=H("dc");I.Ka=function(){return{id:this.Aa,value:this.vh()}};I.$b=function(a){return"#"==a.substr(-1)?this.Aa:null};function id(a){return new gd(a.id,a[v])}function jd(a){return new gd(hd++,a||{})}function kd(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[D];++c)var d=a[c][E](16),b=b+(2>d[D]?"0"+d:d);return b};
function ld(a){this.type=a}function md(a){gd[r](this,-1,a)}L(md,gd);
var nd={};J("lf.TransactionType",nd,void 0);nd.READ_ONLY=0;nd.READ_WRITE=1;

function od(a,b){this.Wa=a;this.wh=b;this.ba=ad()}I=od[t];I.Kj=H("Wa");I.pa=function(){try{this.Wa.gi()}catch(a){return Xc(a)}return(0==this.wh?this.Mc():this.Dk())[A](K(function(a){this.Wa.pa();return a},this))};I.Dk=function(){this.Ek();this.Ck();return this.Mc()};
I.Ek=function(){this.Wa.hg()[G](function(a,b){var c=this.Wa.ja().get(b),c=this.M(c[u](),K(c.tc,c)),d=a.Xc().i().map(function(a){return a.id()});0<d[D]&&c[x](d).uh(this.Pe,this);d=a.Zc().i().map(function(a){return a[1]})[Ra](a.Vc().i());c.put(d).uh(this.Pe,this)},this)};I.Ck=function(){this.Wa.Hj()[G](function(a){var b=this.M(a[u](),id),c;b.get([-1])[A](function(a){c=a;return b[x]([])})[A](function(){b.put(c);b.put(a.Ka())},K(this.Pe,this))},this)};I.Pe=function(a){this.ba[La](a)};function pd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[D],k=b[D],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<k+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=k;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var xa=[],p=g,y=k;0<p&&0<y;)c(a[p-1],b[y-1])?(xa.unshift(d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return xa}function qd(a){return kc(arguments,function(a,c){return a+c},0)}
function rd(a){return qd[wb](null,arguments)/arguments[D]}function sd(a){var b=arguments[D];if(2>b)return 0;var c=rd[wb](null,arguments);return qd[wb](null,jc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function td(a){return ba.sqrt(sd[wb](null,arguments))};var ud="StopIteration"in Kb?Kb.StopIteration:{message:"StopIteration",stack:""};function vd(){}ya(vd[t],function(){throw ud;});vd[t].Ec=function(){return this};function wd(a){if(a instanceof vd)return a;if("function"==typeof a.Ec)return a.Ec(!1);if(Rb(a)){var b=0,c=new vd;ya(c,function(){for(;;){if(b>=a[D])throw ud;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function xd(a,b,c){if(Rb(a))try{ic(a,b,c)}catch(d){if(d!==ud)throw d;}else{a=wd(a);try{for(;;)b[r](c,a[ob](),void 0,a)}catch(g){if(g!==ud)throw g;}}}function yd(a){if(lc(arguments,function(a){return!a[D]})||!arguments[D])return new vd;var b=new vd,c=arguments,d=wc(0,c[D]);ya(b,function(){if(d){for(var a=jc(d,function(a,b){return c[b][a]}),b=d[D]-1;0<=b;b--){M(d);if(d[b]<c[b][D]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw ud;});return b};function zd(a,b){this.g={};this.b=[];this.Ta=this.aa=0;var c=arguments[D];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[gb](a)}I=zd[t];I.Ga=H("aa");I.i=function(){this.Kc();for(var a=[],b=0;b<this.b[D];b++)a[z](this.g[this.b[b]]);return a};I.ia=function(){this.Kc();return this.b[Ra]()};I.J=function(a){return Ad(this.g,a)};I.Dd=function(a){for(var b=0;b<this.b[D];b++){var c=this.b[b];if(Ad(this.g,c)&&this.g[c]==a)return!0}return!1};
I.Rc=function(a,b){if(this===a)return!0;if(this.aa!=a.Ga())return!1;var c=b||Bd;this.Kc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Bd(a,b){return a===b}I.fb=function(){return 0==this.aa};ta(I,function(){this.g={};Aa(this.b,0);this.Ta=this.aa=0});va(I,function(a){return Ad(this.g,a)?(delete this.g[a],this.aa--,this.Ta++,this.b[D]>2*this.aa&&this.Kc(),!0):!1});
I.Kc=function(){if(this.aa!=this.b[D]){for(var a=0,b=0;a<this.b[D];){var c=this.b[a];Ad(this.g,c)&&(this.b[b++]=c);a++}Aa(this.b,b)}if(this.aa!=this.b[D]){for(var d={},b=a=0;a<this.b[D];)c=this.b[a],Ad(d,c)||(this.b[b++]=c,d[c]=1),a++;Aa(this.b,b)}};I.get=function(a,b){return Ad(this.g,a)?this.g[a]:b};I.set=function(a,b){Ad(this.g,a)||(this.aa++,this.b[z](a),this.Ta++);this.g[a]=b};
I.addAll=function(a){var b;a instanceof zd?(b=a.ia(),a=a.i()):(b=Bc(a),a=Ac(a));for(var c=0;c<b[D];c++)this.set(b[c],a[c])};Da(I,function(a,b){for(var c=this.ia(),d=0;d<c[D];d++){var g=c[d],k=this.get(g);a[r](b,k,g,this)}});la(I,function(){return new zd(this)});I.Ec=function(a){this.Kc();var b=0,c=this.Ta,d=this,g=new vd;ya(g,function(){if(c!=d.Ta)throw fa("The map has changed since the iterator was created");if(b>=d.b[D])throw ud;var g=d.b[b++];return a?g:d.g[g]});return g};
function Ad(a,b){return aa[t][qb][r](a,b)};
function Cd(){this.g=new zd;aa.defineProperty(this,"size",{get:function(){return this.g.Ga()}})}ta(Cd[t],function(){this.g[w]()});ta(Cd[t],Cd[t][w]);ra(Cd[t],function(a){return this.g[x](a)});Cd[t]["delete"]=Cd[t][Xa];Da(Cd[t],function(a,b){return this.g[G](a,b)});Da(Cd[t],Cd[t][G]);Cd[t].get=function(a){return this.g.get(a)};Cd[t].get=Cd[t].get;Cd[t].has=function(a){return this.g.J(a)};Cd[t].has=Cd[t].has;Cd[t].set=function(a,b){return this.g.set(a,b)};Cd[t].set=Cd[t].set;
var Dd=ca.Map&&ca.Map[t][cb]&&ca.Map[t][G]?ca.Map:Cd;function Ed(a){if(a instanceof Cd)return a.g.ia();var b=0,c=e(a[Gb]);a[G](function(a,g){c[b++]=g});return c}function Fd(a){if(a instanceof Cd)return a.g.i();var b=0,c=e(a[Gb]);a[G](function(a){c[b++]=a});return c};
function Gd(a){this.il=a}f(Gd[t],H("il"));var Hd=new Gd("backstore"),Id=new Gd("cache"),Jd=new Gd("indexstore"),Kd=new Gd("engine"),Ld=new Gd("runner"),Md=new Gd("observerregistry"),Nd=new Gd("schema");
function Od(a){if("function"==typeof a.Ga)a=a.Ga();else if(Rb(a)||Sb(a))a=a[D];else{var b=0,c;for(c in a)b++;a=b}return a}function Pd(a){if("function"==typeof a.i)return a.i();if(Sb(a))return a[Ja]("");if(Rb(a)){for(var b=[],c=a[D],d=0;d<c;d++)b[z](a[d]);return b}return Ac(a)}
function Qd(a,b,c){if("function"==typeof a[Ta])return a[Ta](b,c);if(Rb(a)||Sb(a))return mc(a,b,c);var d;if("function"==typeof a.ia)d=a.ia();else if("function"!=typeof a.i)if(Rb(a)||Sb(a)){d=[];for(var g=a[D],k=0;k<g;k++)d[z](k)}else d=Bc(a);else d=void 0;for(var g=Pd(a),k=g[D],l=0;l<k;l++)if(!b[r](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new zd;a&&this[gb](a)}function Rd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Ub(a):b.substr(0,1)+a}I=O[t];I.Ga=function(){return this.g.Ga()};I.add=function(a){this.g.set(Rd(a),a)};I.addAll=function(a){a=Pd(a);for(var b=a[D],c=0;c<b;c++)this.add(a[c])};va(I,function(a){return this.g[x](Rd(a))});ta(I,function(){this.g[w]()});I.fb=function(){return this.g.fb()};I.contains=function(a){return this.g.J(Rd(a))};I.Di=function(a){return Qd(a,this[rb],this)};I.i=function(){return this.g.i()};
la(I,function(){return new O(this)});I.Rc=function(a){return this.Ga()==Od(a)&&this.vk(a)};I.vk=function(a){var b=Od(a);if(this.Ga()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Qd(this,function(b){var d=a;if("function"==typeof d[rb])b=d[rb](b);else if("function"==typeof d.Dd)b=d.Dd(b);else if(Rb(d)||Sb(d))b=0<=hc(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};I.Ec=function(){return this.g.Ec(!1)};
function Sd(a){this.jc=new O(a);aa.defineProperty(this,"size",{get:function(){return this.jc.Ga()}})}Sd[t].add=function(a){this.jc.add(a)};Sd[t].add=Sd[t].add;ta(Sd[t],function(){this.jc[w]()});ta(Sd[t],Sd[t][w]);ra(Sd[t],function(a){return this.jc[x](a)});Sd[t]["delete"]=Sd[t][Xa];Da(Sd[t],function(a,b){this.jc.i()[G](a,b)});Sd[t].has=function(a){return this.jc[rb](a)};Sd[t].has=Sd[t].has;var Td=ca.Set&&ca.Set[t][cb]&&ca.Set[t][G]?ca.Set:Sd;
function Ud(a){if(a instanceof Sd)return a.jc.i();var b=0,c=e(a[Gb]);a[G](function(a){c[b++]=a});return c};
function Vd(a,b){this.Aa=a;this.dc=b||{}}function Wd(a){var b=new Td;a[G](function(a){b.add(a>>9)});return Ud(b)}I=Vd[t];I.fa=H("Aa");I.yc=H("dc");I.oh=function(a){a[G](function(a){this.dc[a.id()]=a.Ka()},this)};I.dl=function(a){a[G](function(a){var c=this.dc;a in c&&delete c[a]},this)};I.Ka=function(){return{id:this.Aa,value:ga[xb](this.dc)}};function Xd(a){return new Vd(a.id,ga.parse(a[v]))};

function Yd(a,b,c){this.V=a;this.Wb=b;this.hh=c}I=Yd[t];I.get=function(a){return 0==a[D]?this.Wc():this.Oj(a)[A](K(function(b){return a.map(function(a){var d=b.get(a>>9);M(d,"Containing page is empty");return this.Wb(d.yc()[a])},this)},this))};I.Oj=function(a){var b=new Dd,c=ad();a=Wd(a).map(function(a){return new N(function(c,k){var l;try{l=this.V.get(a)}catch(p){k(p);return}za(l,k);sa(l,K(function(a){a=Xd(a[Oa][Fb]);b.set(a.fa(),a);c()},this))},this)},this);$c(a)[A](function(){c[Eb](b)});return c.na};
I.Wc=function(){return new N(function(a,b){var c=[],d;try{d=this.V[Fa]()}catch(g){b(g);return}za(d,b);sa(d,K(function(){var b=d[Fb];if(b){var g=Xd(b[v]).yc(),p;for(p in g)c[z](this.Wb(g[p]));b[fb]()}else a(c)},this))},this)};I.ec=function(a){return new N(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};
I.put=function(a){if(0==a[D])return Wc();var b=new Dd;a[G](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.hh(this.V[q],d));g.oh([a]);b.set(d,g)},this);a=Fd(b).map(function(a){return this.ec(K(function(){return this.V.put(a.Ka())},this))},this);return $c(a)};
va(I,function(a){if(0==a[D])return this.ec(K(function(){return this.V[w]()},this));var b=new Dd;a[G](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.hh(this.V[q],d));g.dl([a]);b.set(d,g)},this);a=Fd(b).map(function(a){return this.ec(K(function(){var b;a:{b=a.yc();for(var g in b){b=!1;break a}b=!0}return b?this.V[Xa](a.fa()):this.V.put(a.Ka())},this))},this);return $c(a)});function Zd(a,b,c){a=a.o(Id);var d=[c<<9,(c+1<<9)-1];b=a.pb(b,d[0],d[1]);c=new Vd(c);c.oh(b);return c}
function $d(a,b){return new Vd(b)};
function ae(){};
function be(a){this.va=a.o(Id);this.F=a.o(Jd);this.s=a.o(Nd)}qa(be[t],function(a){a[G](function(a){this.Bl(a);this.yl(a)},this)});be[t].yl=function(a){var b=a[u]();a.Xc().i()[G](function(a){this.va[x](b,[a.id()])},this);a.Vc()[G](function(a){this.va.set(b,[a])},this);a.Zc()[G](function(a){this.va.set(b,[a[1]])},this)};be[t].Bl=function(a){var b=this.s[h](a[u]());a.Ej()[G](function(a){this.Ah(b,a)},this)};
be[t].Ah=function(a,b){a.za().map(function(a){return this.F.get(a.m())},this)[Ra]([this.F.get(a.Lb())])[G](function(a){var d=null===b[1]?void 0:b[1].$b(a[u]()),g=null===b[0]?void 0:b[0].$b(a[u]());if(!Lb(g)&&Lb(d))a.add(d,b[1].id());else if(Lb(g)&&Lb(d)){if(null===d||null===g){if(d==g)return}else if(0==a.Nc()[zb](g,d))return;a.add(d,b[1].id());a[x](g,b[0].id())}else Lb(g)&&!Lb(d)&&a[x](g,b[0].id())})};
var ce={};J("lf.ConstraintAction",ce,void 0);ce.RESTRICT=0;ce.CASCADE=1;var de={};J("lf.ConstraintTiming",de,void 0);de.IMMEDIATE=0;de.DEFERRABLE=1;var ee={};J("lf.Order",ee,void 0);ee.DESC=0;ee.ASC=1;var fe={};J("lf.Type",fe,void 0);fe.ARRAY_BUFFER=0;fe.BOOLEAN=1;fe.DATE_TIME=2;fe.INTEGER=3;fe.NUMBER=4;fe.STRING=5;fe.OBJECT=6;var ge={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};J("lf.type.DEFAULT_VALUES",ge,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[D])for(var c=1;c<=ba.min(4,arguments[D]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][E]()[n](0,64)))}L(P,fa);

function he(a){this.F=a.o(Jd);this.s=a.o(Nd)}I=he[t];I.mj=function(a,b){var c=a.Kb().Qd();return null===c?null:this.lj(c,b)};I.lj=function(a,b){var c=a.m(),d=b.$b(c),c=this.F.get(c).get(d);return 0==c[D]?null:c[0]};I.xe=function(a,b){var c=a.Kb().Mj();b[G](function(a){c[G](function(b){if(null==a.w()[b[u]()])throw new P(202,b.m());},this)},this)};I.Qf=function(a,b,c){a.Kb().Ie()[G](function(a){a[Ma]==c&&this.ui(a,b)},this)};
I.ui=function(a,b){b[G](function(b){if(ie(b[0],b[1],a[q])){b=b[1].w()[a.Tb];var d=this.kg(a);if(null!==b&&!d.J(b))throw new P(203,a[q]);}},this)};I.kg=function(a){var b=this.s[h](a.gb)[a.Bc].za()[Ga](function(b){return 1==b.f[D]&&b.f[0].ga[u]()==a.Bc})[0];return this.F.get(b.m())};function ie(a,b,c){return(null===a?null!==b:null===b)||a.$b(c)!=b.$b(c)}
I.Rf=function(a,b,c){a=this.s[yb]().Uj(a[u]());null!=a&&a[G](function(a){if(a[Ma]==c){var g=this.F.get(a[q]);b[G](function(b){var c=this.kg(a);if(ie(b[0],b[1],c[u]())&&g.J(b[0].w()[a.Bc]))throw new P(203,a[q]);},this)}},this)};I.ve=function(a,b,c){0!=b[D]&&(b=b.map(function(a){return[null,a]}),this.Qf(a,b,c))};I.we=function(a,b,c){0!=b[D]&&(this.Qf(a,b,c),this.Rf(a,b,c))};I.Of=function(a,b,c){0!=b[D]&&(b=b.map(function(a){return[a,null]}),this.Rf(a,b,c))};
function je(a){this.kb=new zd;this.Pa=new zd;this.nb=new zd;this.A=a}I=je[t];na(I,H("A"));I.Vc=H("kb");I.Zc=H("Pa");I.Xc=H("nb");I.add=function(a){if(this.nb.J(a.id())){var b=[this.nb.get(a.id()),a];this.Pa.set(a.id(),b);this.nb[x](a.id())}else this.kb.set(a.id(),a)};I.modify=function(a){var b=a[0],c=a[1];M(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.kb.J(b)?this.kb.set(b,c):(this.Pa.J(b)&&(a=[this.Pa.get(a[0].id())[0],c]),this.Pa.set(b,a))};
ra(I,function(a){if(this.kb.J(a.id()))this.kb[x](a.id());else if(this.Pa.J(a.id())){var b=this.Pa.get(a.id())[0];this.Pa[x](a.id());this.nb.set(a.id(),b)}else this.nb.set(a.id(),a)});I.Ej=function(){var a=[];this.kb.i()[G](function(b){a[z]([null,b])},this);this.Pa.i()[G](function(b){a[z](b)},this);this.nb.i()[G](function(b){a[z]([b,null])},this);return a};f(I,function(){return"["+this.kb.ia()[E]()+"], ["+this.Pa.ia()[E]()+"], ["+this.nb.ia()[E]()+"]"});
I.Vj=function(){var a=new je(this.A);this.kb.i()[G](function(b){a[Xa](b)},this);this.nb.i()[G](function(b){a.add(b)},this);this.Pa.i()[G](function(b){a.modify([b[1],b[0]])},this);return a};I.fb=function(){return this.kb.fb()&&this.nb.fb()&&this.Pa.fb()};
function ke(a,b){this.ta=new Dd;b[G](function(a){this.ta.set(a[u](),a)},this);this.va=a.o(Id);this.F=a.o(Jd);this.Ua=new he(a);this.Wd=new be(a);this.ef=this.ke=!1;this.Hb=new Dd}I=ke[t];I.hg=H("Hb");I.Hj=function(){var a=[];Ed(this.Hb).map(function(a){return this.ta.get(a)},this)[G](function(b){b.Nb()&&(b.za()[G](function(b){a[z](this.F.get(b.m()))},this),a[z](this.F.get(b[u]()+".#")))},this);return a};I.ja=H("ta");
I.Ij=function(){var a=[];this.ta[G](function(b){b.Nb()&&(b.za()[G](function(b){a[z](b.m())}),a[z](b[u]()+".#"))});return a};I.Eb=function(a,b){this.Ic();this.Ad(a);this.Ua.xe(a,b);this.Ua.ve(a,b,0);for(var c=0;c<b[D];c++)this.Xd(a,[null,b[c]])};
I.Xd=function(a,b){var c=a[u](),d=this.Hb.get(c)||new je(c);this.Hb.set(c,d);try{this.Wd.Ah(a,b)}catch(g){throw this.ef=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.va.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.va.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.va[x](c,[k.id()]),d[Xa](k))};qa(I,function(a,b){this.Ic();this.Ad(a);this.Ua.xe(a,b);for(var c=0;c<b[D];c++){var d=b[c],d=[this.va.get([d.id()])[0],d];this.Ua.we(a,[d],0);this.Xd(a,d)}});
I.Re=function(a,b){this.Ic();this.Ad(a);this.Ua.xe(a,b);for(var c=0;c<b[D];c++){var d=b[c],g=null,k=this.Ua.mj(a,d);null!=k?(g=this.va.get([k])[0],d.Th(k),this.Ua.we(a,[[g,d]],0)):this.Ua.ve(a,[d],0);this.Xd(a,[g,d])}};va(I,function(a,b){this.Ic();this.Ad(a);this.Ua.Of(a,b,0);for(var c=0;c<b[D];c++)this.Xd(a,[b[c],null])});I.gi=function(){this.Hb[G](function(a){var b=this.ta.get(a[u]());this.Ua.ve(b,a.Vc().i(),1);this.Ua.Of(b,a.Xc().i(),1);this.Ua.we(b,a.Zc().i(),1)},this)};
I.pa=function(){this.Ic();this.ke=!0};I.Ic=function(){M(!this.ef,"Attemptted to use journal that needs to be rolled back.");M(!this.ke,"Attemptted to commit a terminated journal.")};I.Ob=function(){M(!this.ke,"Attempted to rollback a terminated journal.");var a=Fd(this.Hb).map(function(a){return a.Vj()});this.Wd[Ua](a);this.ke=!0;this.ef=!1};I.Ad=function(a){if(!this.ta.has(a[u]()))throw new P(106,a[u]());};
function le(a,b,c,d){this.c=a;this.u=b;this.Z=null===this.c?!1:c;this.da=null===this.u?!1:d}I=le[t];f(I,function(){return(this.Z?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.u?"unbound":this.u)+(this.da?")":"]")});I.zi=function(){if(null===this.c&&null===this.u)return[];var a=null,b=null;null===this.c||(a=new le(null,this.c,!1,!this.Z));null===this.u||(b=new le(this.u,null,!this.da,!1));return[a,b][Ga](function(a){return null!==a})};
I.reverse=function(){return new le(this.u,this.c,this.da,this.Z)};I.Ug=function(a){var b=me(this.c,a.c,!0,this.Z,a.Z);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.c||c.u==a.c&&!c.da&&!a.Z};function ne(){return new le(null,null,!1,!1)}I.wg=function(){return null===this.c&&null===this.u};I.Bg=function(){return null!=this.c&&this.c==this.u&&!this.Z&&!this.da};
I.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.da;return(null===this.c||a>this.c||a==this.c&&!this.Z)&&b};I.Rc=function(a){return this.c==a.c&&this.Z==a.Z&&this.u==a.u&&this.da==a.da};function me(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function oe(a,b){var c=me(a.c,b.c,!0,a.Z,b.Z);0==c&&(c=me(a.u,b.u,!1,a.da,b.da));return c};
function pe(a,b){this.entries=a;this.I=new O(b);this.Rb=null}I=pe[t];I.sk=function(a){return this.I.Rc(a.I)};function qe(a,b){M(a.sk(b),"Intersection/union operations only apply to compatible relations.")}I.X=function(){return this.I.i()};I.Ue=function(){return 1<this.I.Ga()};I.Ke=function(){return this[C].map(function(a){return a.xa.w()})};I.Xj=function(){return this[C].map(function(a){return a.xa.id()})};I.lh=function(a,b){null===this.Rb&&(this.Rb=new zd);this.Rb.set(a.m(),b)};
I.xc=function(a){M(null!==this.Rb,"getAggregationResult called before any results have been calculated.");var b=this.Rb.get(a.m(),void 0);M(Lb(b),"Could not find result for "+a.m());return b};I.rg=function(a){return null!==this.Rb&&this.Rb.J(a.m())};var re=null;function se(){null===re&&(re=new pe([],[]));return re}
function te(a){if(0==a[D])return se();for(var b=a[Ka](function(b,c){qe(a[0],c);return b+c[C][D]},0),c=e(b),d=0,b=a.map(function(a){var b=new zd;a[C][G](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new zd,k=0;k<c[D];k++)b[Ta](function(a){return a.J(c[k].id)})&&g.set(c[k].id,c[k]);return new pe(g.i(),a[0].I.i())}function ue(a){if(0==a[D])return se();var b=new zd;a[G](function(c){qe(a[0],c);c[C][G](function(a){b.set(a.id,a)})});return new pe(b.i(),a[0].I.i())}
function ve(a,b){var c=1<b[D],d=a.map(function(a){return new we(a,c)});return new pe(d,b)}function we(a,b){this.xa=a;this.id=xe++;this.Ve=b}var xe=0;we[t].U=function(a){var b=a.cb();return null!==b&&this.xa.w()[qb](b)?this.xa.w()[b]:this.Ve?this.xa.w()[a.M().qa()][a[u]()]:this.xa.w()[a[u]()]};we[t].pf=function(a,b){var c=a.cb();if(null!=c)this.xa.w()[c]=b;else if(this.Ve){var c=a.M().qa(),d=this.xa.w()[c];null==d&&(d={},this.xa.w()[c]=d);d[a[u]()]=b}else this.xa.w()[a[u]()]=b};
function ye(a,b,c,d){function g(a,b){if(a.Ve){var c=a.xa.w(),d;for(d in c)k[d]=c[d]}else M(!k[qb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.xa.w()}var k={};g(a,b);g(c,d);a=new gd(-1,k);return new we(a,!0)};
J("lf.bind",function(a){return new ze(a)},void 0);function ze(a){this.ra=a}J("lf.Binder",ze,void 0);ze[t].Bb=H("ra");
function Ae(){var a=Be();this.Xi=new zd(1,Ce(),2,De(),4,a,3,a,5,Ee())}Nb(Ae);Ae[t].He=function(a,b){var c=this.Xi.get(a,null);M(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);M(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function Be(){return new zd("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[Za](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function Ee(){return new zd("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[Za](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function De(){return new zd("between",function(a,b){return a[Db]()>=b[0][Db]()&&a[Db]()<=b[1][Db]()},"eq",function(a,b){return(null===a?-1:a[Db]())==(null===b?-1:b[Db]())},"gte",function(a,b){return a[Db]()>=b[Db]()},"gt",function(a,b){return a[Db]()>b[Db]()},"in",function(a,b){return b[$a](function(b){return b[Db]()==a[Db]()})},"lte",function(a,b){return a[Db]()<=b[Db]()},"lt",function(a,b){return a[Db]()<b[Db]()},"neq",function(a,b){return(null===a?-1:a[Db]())!=(null===b?-1:b[Db]())})}
function Ce(){return new zd("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function Fe(a,b){this.Ig=a;this.Bh=b}Fe[t].getKey=H("Ig");Fe[t].bk=H("Bh");la(Fe[t],function(){return new Fe(this.Ig,this.Bh)});function Ge(a,b){Fe[r](this,a,b);this.h=this.G=null}L(Ge,Fe);var He=[];I=Ge[t];la(I,function(){return new Ge(this.getKey(),this.bk())});I.getParent=H("G");I.zg=function(){return!this.ya()};I.ea=function(){return this.h||He};I.Ab=function(a){return this.ea()[a]||null};I.ya=function(){return this.ea()[D]};I.Gj=function(){for(var a=0,b=this;b[Ab]();)a++,b=b[Ab]();return a};I.qb=function(){for(var a=this;a[Ab]();)a=a[Ab]();return a};I.contains=function(a){do a=a[Ab]();while(a&&a!=this);return Boolean(a)};
I.Dc=function(a,b){if(!1!==a[r](b,this))for(var c=this.ea(),d=0;d<c[D];d++)c[d].Dc(a,b)};I.mh=Ib("G");I.oa=function(a){this.Fc(a,this.h?this.h[D]:0)};I.Fc=function(a,b){M(!a[Ab]());a.mh(this);this.h=this.h||[];M(0<=b&&b<=this.h[D]);rc(this.h,b,0,a)};I.ge=function(a){var b=this.h&&this.h[a];return b?(b.mh(null),nc(this.h,a),0==this.h[D]&&(this.h=null),b):null};I.removeChild=function(a){return this.ge(hc(this.ea(),a))};

function Ie(){Ge[r](this,"","");this.Aa=Je++}L(Ie,Ge);var Je=0;Ie[t].fa=H("Aa");Ie[t].qf=Ib("Aa");
function Ke(a,b,c){Ie[r](this);this.K=a;pa(this,b);this.L=c;this.Gd=Ae.Je().He(this.K.Y(),this.L);this.eb=!1;this.pc=b}L(Ke,Ie);I=Ke[t];I.Ub=function(){var a=new Ke(this.K,this[v],this.L);a.jl(this.pc);a.je(this.eb);a.qf(this.fa());return a};I.ob=function(a){return null!=a?(a[z](this.K),a):[this.K]};I.je=Ib("eb");I.jl=Ib("pc");I.Mf=function(){var a=!1;this[v]instanceof ze||(a="array"==Ob(this[v])?!this[v][$a](function(a){return a instanceof ze}):!0);if(!a)throw new P(501);};
I.eval=function(a){this.Mf();if("in"==this.L)return this.Si(a);var b=a[C][Ga](function(a){return this.Gd(a.U(this.K),this[v])!=this.eb},this);return new pe(b,a.X())};Ba(I,function(a){if(this.pc instanceof ze){var b=this.pc.Bb();if(a[D]<=b)throw new P(510);pa(this,a[b])}else"array"==Ob(this.pc)&&pa(this,this.pc.map(function(b){if(b instanceof ze){if(a[D]<=b.Bb())throw new P(510);return a[b.Bb()]}return b}))});
I.Si=function(a){M("in"==this.L,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[v]),c=K(function(a){return b[rb](a)!=this.eb},this),d=a[C][Ga](function(a){return c(a.U(this.K))},this);return new pe(d,a.X())};f(I,function(){return"value_pred("+this.K.m()+" "+this.L+(this.eb?"(complement)":"")+" "+this[v]+")"});I.yg=function(){this.Mf();return null!==this[v]&&("between"==this.L||"eq"==this.L||"gt"==this.L||"gte"==this.L||"lt"==this.L||"lte"==this.L)};
I.ul=function(){M(this.yg(),"Could not convert predicate to key range.");var a=null;"between"==this.L?a=new le(this[v][0],this[v][1],!1,!1):"eq"==this.L?(a=this[v],a=new le(a,a,!1,!1)):a="gte"==this.L?new le(this[v],null,!1,!1):"gt"==this.L?new le(this[v],null,!0,!1):"lte"==this.L?new le(null,this[v],!1,!1):new le(null,this[v],!1,!0);return this.eb?a.zi():[a]};
function Le(a){this.ga=a;this.Lc=this.wa=null}Le[t].Pd=function(a){null===this.wa&&null!=this.D&&(this.wa=Me(this.D));a=this.wa.get(a,null);M(null!==a);return a};function Me(a){var b=new zd;a.Dc(function(a){b.set(a.fa(),a)});return b}Le[t].Bd=function(a){a.D&&(this.D=a.D.Ub());this.Lc=a};Ba(Le[t],function(){M(null==this.Lc);return this});Le[t].se=function(a){var b=this.D;null!=b&&b.Dc(function(b){b instanceof Ke&&b[F](a)})};
function Ne(a){Le[r](this,a)}L(Ne,Le);function Oe(a){var b="";a[G](function(c,d){b+=c.K.m()+" ";b+=1==c.tb?"ASC":"DESC";d<a[D]-1&&(b+=", ")});return b}Ne[t].ja=function(){return new O(this.c)};la(Ne[t],function(){var a=new Ne(this.ga);a.Bd(this);this.f&&(a.f=this.f[n]());this.c&&(a.c=this.c[n]());a.$=this.$;a.O=this.O;this.N&&(a.N=this.N[n]());this.ka&&(a.ka=this.ka[n]());this.ac&&(a.ac=this.ac);this.lc&&(a.lc=this.lc);a.Ac=this.Ac;return a});
Ba(Ne[t],function(a){Ne.Qb[F][r](this,a);null!=this.ac&&(this.$=a[this.ac.Bb()]);null!=this.lc&&(this.O=a[this.lc.Bb()]);this.se(a);return this});
function Pe(a,b){this.Fa=a;this.ta=b}Pe[t].qb=H("Fa");Pe[t].cg=Jb("plan description");Pe[t].ja=H("ta");function Qe(a){var b=new O;a[G](function(a){b[gb](a.ja())});return b};

function Re(a,b){this.global=a;this.Ib=a.o(Hd);this.ee=b.map(function(a){return a[mb]});this.Xg=b.map(function(a){return a.ff});this.Uf=Qe(this.Xg);this.xh=this.Oi();this.gc=ad()}I=Re[t];I.Oi=function(){return this.ee[$a](function(a){return!(a instanceof Ne)})?1:0};
ma(I,function(){var a=new ke(this[Va],this.Uf.i()),b=[],c=this.Xg[n](),d=K(function(){var g=c[pb]();if(g){var k=this.ee[b[D]];return g.qb()[Pa](a,k)[A](function(a){b[z](a[0]);return d()})}return Wc()},this);return d()[A](K(function(){return this.Ib.Vb(this.xh,a).pa()},this))[A](K(function(){this.cf(b);return b},this),K(function(b){a.Ob();throw b;},this))});I.Y=H("xh");I.ja=H("Uf");I.$c=H("gc");I.fa=function(){return Ub(this)};I.cf=Hb();
function Se(a,b){Re[r](this,a,b);this.Mb=a.o(Md)}L(Se,Re);Ea(Se[t],Jb(0));Se[t].cf=function(a){this.ee[G](function(b,c){this.Mb.zh(b,a[c])},this)};
function Te(a,b){this.l=a;this.Mb=a.o(Md);this.Za=a.o(Ld);this.Wd=new be(a);this.Hb=b;var c=a.o(Nd),d=this.Hb.map(function(a){return c[h](a[u]())});this.ta=new O(d);this.gc=ad()}I=Te[t];ma(I,function(){this.Wd[Ua](this.Hb);this.nd();return Wc()});I.Y=Jb(1);I.ja=H("ta");I.$c=H("gc");I.fa=function(){return Ub(this)};Ea(I,Jb(1));I.nd=function(){var a=this.Mb.Oe(this.ta.i());0!=a[D]&&(a=new Se(this.l,a),this.Za.ic(a))};
function Ue(a){this.l=a;this.Ib=a.o(Hd);this.Za=a.o(Ld)}Ue[t].ql=function(){this.Ib.subscribe(this.af[F](this))};Ue[t].af=function(a){a=new Te(this.l,a);this.Za.ic(a)};


function Ve(a,b){this.Ta=a;this.j=b;this.jb=new Dd}J("lf.backstore.FirebaseRawBackStore",Ve,void 0);I=Ve[t];I.Rd=H("j");I.Sd=function(){throw new P(351);};function We(a,b){var c=ad(),d=a;b[D]&&(d=a[ib](b));d[Ha]("value",function(a){c[Eb](a.val())},function(a){c[La](a)});return c.na}function Xe(a,b,c){function d(a){a?g[La](a):g[Eb]()}c=c||!1;var g=ad();c?a.set(b,d):a[Ua](b,d);return g.na}
I.Ha=function(a){return We(this.j,"@rev/R")[A](function(a){this.Ya=a;return We(this.j,"@table")}[F](this))[A](function(b){var c=0,d;for(d in b)this.jb.set(d,b[d]),b[d]>c&&(c=b[d]);a.ab()[G](function(a){this.jb.has(a[u]())||(b[a[u]()]=++c)},this);d=this.j[ib]("@table");return Xe(d,b)}[F](this))};
I.le=function(a,b){var c=this.jb.get(a);return null!=c?function(){var a={},g=ad();this.j[bb]("T").equalTo(c)[Ha]("value",function(c){c[G](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Eb](a)});return g.na}[r](this)[A](function(a){a["@rev"]={R:++this.Ya};return Xe(this.j,a)}[F](this)):Wc()};I.Pc=function(a){return this.le(a,Jb(null))[A](function(){this.jb[Xa](a);return Xe(this.j[ib]("@table/"+a),null,!0)}[F](this))};Ve[t].dropTable=Ve[t].Pc;
Ve[t].Gc=function(a,b,c){return this.le(a,function(a){var g=a.P;g[b]=c;return{R:this.Ya+1,T:a.T,P:g}}[F](this))};Ve[t].addTableColumn=Ve[t].Gc;Ve[t].Qc=function(a,b){return this.le(a,function(a){var d=a.P;delete d[b];return{R:this.Ya+1,T:a.T,P:d}}[F](this))};Ve[t].dropTableColumn=Ve[t].Qc;Ve[t].md=function(a,b,c){return this.le(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Ya+1,T:a.T,P:g}}[F](this))};Ve[t].renameTableColumn=Ve[t].md;Ve[t].Jb=function(){throw new P(351);};
Ve[t].createRow=Ve[t].Jb;Ve[t].cd=H("Ta");Ve[t].getVersion=Ve[t].cd;Ve[t].uc=function(a){var b=ad();a=this.jb.get(a);this.j[bb]("T").equalTo(a)[Ha]("value",function(a){var d=[];a[G](function(a){d[z](a.val().P)});b[Eb](d)});return b.na};ka(Ve[t],function(){var a={},b=Ed(this.jb).map(function(b){return this.uc(b)[A](function(d){a[b]=d})}[F](this));return $c(b)[A](function(){return a})});ka(Ve[t],Ve[t].dump);
function Ye(a,b,c){od[r](this,c,b);this.j=a}L(Ye,od);Ye[t].M=function(a){return this.j.ad(a)};
Ye[t].Mc=function(){var a=this.Kj().hg();if(0==a[Gb])this.ba[Eb]();else{var b=this.j.Wj()+1;this.j.nh(b);var c={"@rev":{R:b}};a[G](function(a,g){var k=this.j.ng(g);a.Vc()[G](function(a,d){c[d]={R:b,T:k,P:a.w()}});a.Zc()[G](function(a,d){c[d]={R:b,T:k,P:a[1].w()}});a.Xc()[G](function(a,b){c[b]=null})},this);this.j.Tj()[Ua](c,function(c){if(null===c)this.ba[Eb]();else this.j.nh(b-1),c=Fd(a).map(function(a){return this.j.bh(a[u]())},this),$c(c)[A](this.ba[La][F](this.ba),this.ba[La][F](this.ba))}[F](this))}return this.ba.na};
function Ze(){this.zb=new Dd}I=Ze[t];I.Ne=function(a){if(0==a[D])return Fd(this.zb);var b=[];a[G](function(a){a=this.zb.get(a)||null;null===a||b[z](a)},this);return b};I.getData=H("zb");I.get=function(a){return Wc(this.Ne(a))};I.gf=function(a){a[G](function(a){this.zb.set(a.id(),a)},this)};I.put=function(a){this.gf(a);return Wc()};I.dh=function(a){0==a[D]||a[D]==this.zb[Gb]?this.zb[w]():a[G](function(a){this.zb[Xa](a)},this)};va(I,function(a){this.dh(a);return Wc()});
I.Lj=function(){return 0==this.zb[Gb]?0:Ed(this.zb)[Ka](function(a,b){return a>b?a:b},0)};
function $e(a,b){this.s=a;this.Jh=b;this.ld=new Dd;this.Ya=-1;this.I=new Dd;this.jb=new Dd;this.te=null}I=$e[t];I.Wj=H("Ya");I.nh=Ib("Ya");
I.Ha=function(a){this.j=this.Jh[ib](this.s[q]());var b=a||function(){return Wc()};return We(this.j,"@db/version")[A](function(a){return null===a?Xe(this.j,this.Ei(),!0)[A](function(){var a=new Ve(0,this.j);return b(a)}[F](this)):a==this.s[tb]()?We(this.j,"@rev/R")[A](function(a){this.Ya=a;return We(this.j,"@table")}[F](this))[A](function(a){for(var b in a)this.jb.set(b,a[b]);a=this.s.ab().map(function(a){return this.bh(a[u]())},this);return $c(a)}[F](this))[A](function(){this.mk();this.Mg();return Wc()}[F](this)):
this.df(a,b)[A](function(){return this.Ha()}[F](this))}[F](this))};I.df=function(a,b){var c=new Ve(a,this.j);return c.Ha(this.s)[A](function(){return this.Al()}[F](this))[A](function(){return b(c)})[A](function(){var a=this.j[ib]("@db");return Xe(a,{version:this.s[tb]()},!0)}[F](this))};I.Al=function(){return Wc()};I.Mg=function(){this.j.off();this.j.on("child_removed",this.Kk[F](this));this.ue&&(this.ue.off(),this.ld[w]());this.ue=this.j[bb]("R").startAt(this.Ya+1);this.ue.on("value",this.af[F](this))};
I.mk=function(){hd=Fd(this.I).map(function(a){return a.Lj()})[Ka](function(a,b){return a>b?a:b},0)+1};I.Kk=function(a){var b=a.val(),c=this.ld.get(b.T)||null;null===c&&(c=new Td,this.ld.set(b.T,c));c.add(da(a.key(),10))};I.af=function(a){var b=a[ib]("@rev/R").val();null!=b&&b!=this.Ya&&(this.Ya=b,a=this.sj(a),a[G](function(a){var b=this.I.get(a[u]()),g=a.Xc().ia();g[D]&&b.dh(g);var k=a.Vc().i();a.Zc()[G](function(a){k[z](a[1])});b.gf(k)},this),a[D]&&this.hd(a),this.Mg())};
I.sj=function(a){var b=new Td,c=new Dd;this.jb[G](function(a,g){var k=this.I.get(g),l=new je(g);if(this.ld.has(a)){var p=Ud(this.ld.get(a));p[G](function(a){b.add(a)});k.Ne(p)[G](function(a){l[Xa](a)})}c.set(a,l)}[F](this));a[G](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b.has(g)){a=a.val();var k=c.get(a.T),l=this.I.get(k[u]());l.getData().has(g)?k.modify([l.Ne([g])[0],new gd(g,a.P)]):k.add(new gd(g,a.P))}}}[F](this));return Fd(c)[Ga](function(a){return!a.fb()})};
I.bh=function(a){var b=ad(),c=this.ng(a);this.j[bb]("T").equalTo(c)[Ha]("value",function(c){var g=new Ze,k=[];c[G](function(a){k[z](new gd(da(a.key(),10),a.val().P))});g.gf(k);this.I.set(a,g);b[Eb]()}[F](this));return b.na};I.ng=function(a){return this.jb.get(a)};I.Ei=function(){var a={};a["@db"]={version:this.s[tb]()};a["@rev"]={R:1};this.Ya=1;a["@table"]={};this.s.ab()[G](function(b,c){var d=b[u]();a["@table"][d]=c;this.I.set(d,new Ze);this.jb.set(d,c)},this);return a};
I.Vb=function(a,b){return new Ye(this,a,b)};I.ad=function(a){var b=this.I.get(a)||null;if(null!==b)return b;throw new P(101,a);};I.Tj=H("j");oa(I,Hb());Ca(I,Ib("te"));I.hd=function(a){null!=this.te&&this.te(a)};
function Q(a,b,c,d){this.j=b;this.Sa=c;this.Ta=a;this.xd=d}J("lf.backstore.IndexedDBRawBackStore",Q,void 0);Q[t].Rd=H("j");Q[t].getRawDBInstance=Q[t].Rd;Q[t].Sd=H("Sa");Q[t].getRawTransaction=Q[t].Sd;Q[t].Pc=function(a){return new N(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};Q[t].dropTable=Q[t].Pc;
Q[t].Ok=function(a,b,c){return new N(function(d,g){var k;try{var l=this.Sa[ub](a);k=l[Fa]()}catch(p){g(p);return}sa(k,function(){var a=k[Fb];a?(b(a),a[fb]()):(c(l),d())});za(k,g)},this)};function af(a){var b=null;return b=a instanceof ArrayBuffer?kd(a):a instanceof Date?a[Db]():a}Q[t].vf=function(a,b){function c(a){var c=Xd(a[v]),d=c.yc(),p;for(p in d){var y=id(d[p]);b(y);d[p]=y.Ka()}a[Ua](c.Ka())}function d(a){var c=id(a[v]);b(c);a[Ua](c.Ka())}return this.Ok(a,this.xd?c:d,Hb())};
Q[t].Gc=function(a,b,c){var d=af(c);return this.vf(a,function(a){a.w()[b]=d})};Q[t].addTableColumn=Q[t].Gc;Q[t].Qc=function(a,b){return this.vf(a,function(a){delete a.w()[b]})};Q[t].dropTableColumn=Q[t].Qc;Q[t].md=function(a,b,c){return this.vf(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};Q[t].renameTableColumn=Q[t].md;
Q[t].$j=function(a){var b=[];return new N(function(c,d){var g;try{g=this.Sa[ub](a)[Fa]()}catch(k){d(k);return}sa(g,K(function(){var a=g[Fb];if(a){if(this.xd){var d=Xd(a[v]).yc(),k;for(k in d)b[z](d[k])}else b[z](a[v]);a[fb]()}else c(b)},this));za(g,d)},this)};Q[t].Jb=function(a){var b={};yc(a,K(function(a,d){b[d]=af(a)},this));return jd(b)};Q[t].createRow=Q[t].Jb;Q[t].cd=H("Ta");Q[t].getVersion=Q[t].cd;
ka(Q[t],function(){for(var a=this.j[Ia],b=[],c=0;c<a[D];++c){var d=a[Na](c);b[z](this.uc(d))}return $c(b)[A](function(b){var c={};b[G](function(b,d){c[a[Na](d)]=b});return c})});ka(Q[t],Q[t].dump);Q[t].uc=function(a){return this.$j(a)[A](function(a){return a.map(function(a){return a[v]})})};
function bf(a,b){this.V=a;this.Wb=b}I=bf[t];I.get=function(a){if(0==a[D])return this.Wc();a=a.map(function(a){return new N(function(c,d){var g;try{g=this.V.get(a)}catch(k){d(k);return}za(g,d);sa(g,K(function(a){c(this.Wb(a[Oa][Fb]))},this))},this)},this);return $c(a)};I.Wc=function(){return new N(function(a,b){var c=[],d;try{d=this.V[Fa]()}catch(g){b(g);return}za(d,b);sa(d,K(function(){var b=d[Fb];b?(c[z](this.Wb(b[v])),b[fb]()):a(c)},this))},this)};
I.ec=function(a){return new N(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};I.put=function(a){if(0==a[D])return Wc();a=a.map(function(a){return this.ec(K(function(){return this.V.put(a.Ka())},this))},this);return $c(a)};
va(I,function(a){return new N(function(b,c){var d=this.V[ab]();sa(d,K(function(d){if(0==a[D]||d[Oa][Fb]==a[D])return this.ec(K(function(){return this.V[w]()},this))[A](b,c);d=a.map(function(a){return this.ec(K(function(){return this.V[Xa](a)},this))},this);$c(d)[A](b,c)},this));za(d,c)},this)});
function cf(a,b,c,d,g){od[r](this,c,d);this.l=a;this.Sa=b;this.xd=g;this.Sa.oncomplete=K(this.ba[Eb],this.ba);this.Sa.onabort=K(this.ba[La],this.ba)}L(cf,od);cf[t].M=function(a,b,c){return this.xd?(c=null!=c?c:0,a=this.Sa[ub](a),new Yd(a,b,0==c?Zb(Zd,this.l):$d)):new bf(this.Sa[ub](a),b)};cf[t].Mc=function(){return this.ba.na};
function df(a,b){this.l=a;this.s=b;this.yd=b.Yg().Qi||!1}I=df[t];I.Ha=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Wc()};return new N(function(a,g){var k;try{k=b.open(this.s[q](),this.s[tb]())}catch(l){g(l);return}za(k,g);k.onupgradeneeded=K(function(a){this.Nk(c,a)[A](Hb(),g)},this);sa(k,K(function(b){this.j=b[Oa][Fb];this.nf()[A](K(function(b){hd=b+1;a(this.j)},this))},this))},this)};
I.Nk=function(a,b){var c=b[Oa][Fb],d=b[Oa][kb],g=new Q(b.oldVersion,c,d,this.yd);this.cl(c,d);this.Ji(c,d);return a(g)};I.cl=function(a){for(var b=[],c=0;c<a[Ia][D];++c){var d=a[Ia][Na](c);-1!=d[Za](".")&&b[z](d)}b[G](function(b){try{a.deleteObjectStore(b)}catch(c){}})};I.Ji=function(a,b){this.s.ab()[G](Zb(this.Gi,a,b),this)};I.Gi=function(a,b,c){a[Ia][rb](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Nb()&&(c.za()[G](function(c){this.Oc(a,b,c.m(),"btree")},this),this.Oc(a,b,c.Lb(),"rowid"))};
I.Oc=function(a,b,c,d){a[Ia][rb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[ub](c),(this.yd?new Yd(a,id,$d):new bf(a,id)).put([new md(new ld(d))]))};I.Vb=function(a,b){var c=Ed(b.ja());b.Ij()[G](function(a){c[z](a)});var d=this.j[kb](c,0==a?"readonly":"readwrite");return new cf(this.l,d,b,a,this.yd)};
I.nf=function(a){function b(){if(0==c[D])return Wc();var a=c[pb]();return l(a)[A](b)}var c=this.s.ab().map(function(a){return a[u]()}),d=this.j,g=0,k=K(function(a){return this.yd?(a=Xd(a[v]),Bc(a.yc())[Ka](function(a,b){return ba.max(a,b)},0)):a.key},this),l=K(function(b){return new N(function(c,l){var sb;try{sb=(a||d[kb]([b]))[ub](b)[Fa](null,"prev")}catch(Hc){l(Hc);return}sa(sb,function(a){(a=a[Oa][Fb])&&(g=ba.max(g,k(a)));c(g)});za(sb,function(){c(g)})},this)},this);return new N(function(a){b()[A](function(){a(g)})})};
oa(I,function(){this.j[Qa]()});I.ad=function(){throw new P(511);};Ca(I,Hb());I.hd=Hb();



function ef(a,b,c){od[r](this,c,b);this.V=a;0==b&&this.ba[Eb]()}L(ef,od);ef[t].M=function(a){return this.V.ad(a)};ef[t].Mc=function(){this.ba[Eb]();return this.ba.na};
function ff(a){this.s=a;this.I=new Dd}I=ff[t];I.Ha=function(){this.s.ab()[G](this.nk,this);return Wc()};I.ad=function(a){var b=this.I.get(a)||null;if(null===b)throw new P(101,a);return b};I.Vb=function(a,b){return new ef(this,a,b)};I.Wf=function(a){if(!this.I.has(a)){var b=new Ze;this.I.set(a,b);return b}return null};I.nk=function(a){this.Wf(a[u]());a.Nb()&&(a.za()[G](function(a){this.Oc(a.m(),"btree")},this),this.Oc(a.Lb(),"rowid"))};I.Oc=function(a,b){var c=this.Wf(a);null===c||c.put([new md(new ld(b))])};
oa(I,Hb());Ca(I,Hb());I.hd=Hb();
function gf(a){ff[r](this,a);this.$d=null}L(gf,ff);Ca(gf[t],function(a){null===this.$d&&(this.$d=a)});gf[t].hd=function(a){null===this.$d||this.$d(a)};
function jf(a,b,c){this.Sa=a;this.A=b;this.Wb=c}jf[t].get=function(a){var b=this.Wb;this.Sa.Qa("SELECT id, value FROM "+this.A+" "+(0==a[D]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Bb][D],g=e(d),k=0;k<d;++k)g[k]=b({id:a[Bb][Na](k).id,value:ga.parse(a[Bb][Na](k)[v])});return g});return this.Sa.pa()};jf[t].put=function(a){if(0==a[D])return Wc();var b="INSERT OR REPLACE INTO "+this.A+"(id, value) VALUES (?, ?)";a[G](function(a){this.Sa.Qa(b,[a.id(),ga[xb](a.w())])},this);return Wc()};
va(jf[t],function(a){this.Sa.Qa("DELETE FROM "+this.A+" "+(0==a[D]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Wc()});
function kf(a,b,c){od[r](this,b,c);this.j=a;this.I=new Dd;this.Ae=[]}L(kf,od);kf[t].M=function(a,b){var c=this.I.get(a)||null;null===c&&(c=new jf(this,a,b),this.I.set(a,c));return c};kf[t].Qa=function(a,b,c){this.Ae[z]({rl:a,Pk:b,transform:c})};
kf[t].Mc=function(){var a,b,c=this.ba[La][F](this.ba),d=function(a,b){this.ba[La](b)}[F](this),g=K(function(c,l){a=l;if(this.Ae[D]){var p=this.Ae[pb]();b=p.transform;c.executeSql(p.rl,p.Pk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ba[Eb](p)},this);0==this.wh?this.j.readTransaction(g,c):this.j[kb](g,c);return this.ba.na};
function R(a,b,c){this.j=c;this.l=a;this.Ta=b}J("lf.backstore.WebSqlRawBackStore",R,void 0);R[t].Rd=H("j");R[t].getRawDBInstance=R[t].Rd;R[t].Sd=function(){throw new P(356);};R[t].getRawTransaction=R[t].Sd;R[t].Fd=function(){return new kf(this.j,new ke(this.l,[]),1)};R[t].Pc=function(a){var b=this.Fd();b.Qa("DROP TABLE "+a,[]);return b.pa()};R[t].dropTable=R[t].Pc;
R[t].uc=function(a){var b=this.Fd();b.Qa("SELECT id, value FROM "+a,[]);return b.pa()[A](function(a){for(var b=a[Bb][D],g=e(b),k=0;k<b;++k)g[k]={id:a[Bb][Na](k).id,value:ga.parse(a[Bb][Na](k)[v])};return Wc(g)})};R[t].uf=function(a,b){var c=this.Fd(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.uc(a)[A](function(a){a[G](function(a){a=b(a);c.Qa(d,[ga[xb](a[v]),a.id])});return c.pa()})};R[t].Gc=function(a,b,c){var d=af(c);return this.uf(a,function(a){a[v][b]=d;return a})};
R[t].addTableColumn=R[t].Gc;R[t].Qc=function(a,b){return this.uf(a,function(a){delete a[v][b];return a})};R[t].dropTableColumn=R[t].Qc;R[t].md=function(a,b,c){return this.uf(a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};R[t].renameTableColumn=R[t].md;R[t].Jb=function(a){var b={},c;for(c in a)b[c]=af(a[c]);return jd(b)};R[t].createRow=R[t].Jb;R[t].cd=H("Ta");R[t].getVersion=R[t].cd;
function mf(a){a.Qa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Bb][D]),d=0;d<c[D];++d)c[d]=a[Bb][Na](d).tbl_name;return c})}ka(R[t],function(){var a=ad(),b=this.Fd();mf(b);var c={};b.pa()[A](K(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.uc(a)[A](function(b){c[a]=b})},this);$c(b)[A](function(){a[Eb](c)})},this));return a.na});ka(R[t],R[t].dump);
function nf(a,b,c){this.l=a;this.s=b;this.nl=c||4194304}I=nf[t];I.Kd=function(){return new ke(this.l,[])};I.Ha=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Wc()};return new N(K(function(a,d){try{var g=ca.openDatabase(this.s[q](),"",this.s[q](),this.nl);if(null!=g)this.j=g,this.vi(b)[A](a,d);else throw new P(354);}catch(k){d(k)}},this))};
I.vi=function(a){var b=ad(),c=new kf(this.j,this.Kd(),1);c.Qa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Qa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.pa()[A](K(function(c){var g=0;c[Bb][D]&&(g=c[Bb][Na](0).v);g<this.s[tb]()?this.df(a,g)[A](b[Eb][F](b)):g>this.s[tb]()?b[La](new P(108)):b[Eb]()},this));return b.na};I.Vb=function(a,b){if(null!=this.j)return new kf(this.j,b,a);throw new P(2);};oa(I,Hb());I.ad=function(){throw new P(512);};
I.Pg=function(){throw new P(355);};Ca(I,function(){this.Pg()});I.hd=function(){this.Pg()};I.df=function(a,b){var c=ad();this.Sk()[A](K(function(){a(new R(this.l,b,this.j))[A](K(function(){return this.nf()},this))[A](c[Eb][F](c))},this),c[La][F](c));return c.na};
I.Sk=function(){var a=this.s.ab(),b=new kf(this.j,this.Kd(),1),c=new kf(this.j,this.Kd(),1);b.Qa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[tb]()]);mf(b);return b.pa()[A](function(b){b[Ga](function(a){return-1!=a[Za](".")})[G](function(a){c.Qa("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[Za](".")});a.map(function(a){return a[u]()})[Ga](function(a){return-1==g[Za](a)})[G](function(a){c.Qa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.pa()})};
I.nf=function(){var a=0,b=ad(),c=K(function(b){var c=new kf(this.j,this.Kd(),0);c.Qa("SELECT MAX(id) FROM "+b,[]);return c.pa()[A](function(b){b=b[Bb][Na](0)[0];a=ba.max(b,a)})},this),d=this.s.ab().map(function(a){return c(a[u]())});$c(d)[A](function(){b[Eb](a)},function(a){b[La](a)});return b.na};

function of(){this.g=new Dd;this.sh=new Dd}I=of[t];I.Td=function(a){var b=this.sh.get(a);Lb(b)||(b=new Td,this.sh.set(a,b));return b};I.set=function(a,b){var c=this.Td(a);b[G](K(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};I.get=function(a){return a.map(K(function(a){return this.g.get(a)||null},this))};
I.pb=function(a,b,c){var d=[],g=ba.min(b,c),k=ba.max(b,c);a=this.Td(a);if(a[Gb]<k-g)a[G](function(a){a>=g&&a<=k&&(a=this.g.get(a),M(null!=a,"Inconsistent cache"),d[z](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),M(null!=c,"Inconsistent cache"),d[z](c));return d};va(I,function(a,b){var c=this.Td(a);b[G](function(a){this.g[Xa](a);c[Xa](a)},this)});I.Ga=function(a){return null!=a?this.Td(a)[Gb]:this.g[Gb]};
function pf(a,b,c,d){a=b?a[eb]():a;if(null==c&&null==d)return a;c=ba.min(Lb(c)?c:a[D],a[D]);if(0==c)return[];d=ba.min(d||0,a[D]);return a[n](d,d+c)};
function qf(){this.ua=0}qf[t].add=function(a,b){this.ua+=b};va(qf[t],function(a,b){this.ua-=b});ta(qf[t],function(){this.ua=0});qf[t].zl=function(a){this[w]();a[G](function(a){this.ua+=a.ua},this)};
function rf(a,b,c,d){this.A=a;this.W=b;this.xf=c;this.wb=new qf;if(d){a=511;a*=a*a;if(d[D]>=a)throw new P(6,a);d=sf(this,d);this.sa=d=tf(d)}else this[w]()}var uf=[];I=rf[t];na(I,H("A"));f(I,function(){return this.sa[E]()});I.add=function(a,b){this.sa=this.sa.Eb(a,b)};I.set=function(a,b){this.sa=this.sa.Eb(a,b,!0)};va(I,function(a,b){this.sa=this.sa[x](a,b)});I.get=function(a){return this.sa.get(a)};I.Ed=function(a){if(null==a)return this.$a().ua;if(a instanceof le){if(a.wg())return this.$a().ua;if(a.Bg())return this.get(a.c)[D]}return this.pb([a])[D]};
I.$a=H("wb");I.Wc=function(a,b,c,d){c=e(a);this.sa.fill({offset:b?this.wb.ua-a-d:d,count:a,sf:0},c);return b?c[eb]():c};
I.pb=function(a,b,c,d){var g=this.sa.Nd().b[0];if(!Lb(g)||0==c)return uf;b=b||!1;c=null!=c?ba.min(c,this.wb.ua):this.wb.ua;d=d||0;var k=ba.min(ba.max(this.wb.ua-d,0),c);if(0==k)return uf;if(!Lb(a)||1==a[D]&&a[0]instanceof le&&a[0].wg())return this.Wc(k,b,c,d);a=this.W.qh(a);var l=e(b?this.wb.ua:k),p={count:0,$:l[D],reverse:b,O:d};a[G](function(a){for(var b=this.W.fe(a),b=this.W.Te(a)?g:b[0],b=this.sa.gg(b),c=p[ab],d=0;null!=b&&p[ab]<p.$;)b.pb(a,p,l),p[ab]!=c?(d=0,c=p[ab]):d++,b=2==d?null:b[ob]()},
this);l[B](p[ab],k-p[ab]);return b?pf(l,b,c,d):l};ta(I,function(){this.sa=vf(this);this.wb[w]()});I.J=function(a){return this.sa.J(a)};I.min=function(){return this.gd(K(this.W.min,this.W))};I.max=function(){return this.gd(K(this.W.max,this.W))};I.gd=function(a){var b=this.sa.Nd(),c=this.sa.mg();if(0==b.b[D]&&0==c.b[D])return null;var d=b.b[0],b=b.B[0],g=c.b[c.b[D]-1],c=c.B[c.b[D]-1];return 1==a(d,g)?[d,this.xf?[b]:b]:[g,this.xf?[c]:c]};I.Na=H("xf");I.Nc=H("W");
I.Ye=function(a,b){return null!=a?-1==this.W[zb](a,b):!1};I.Va=function(a,b){return null!=a?0==this.W[zb](a,b):!1};I.Ka=function(){for(var a=[],b=this.sa.Nd();b;)a[z](new gd(b.Aa,[b.b,b.B])),b=b.Ba;return a};function wf(a,b,c,d){a=new rf(b,a,c);d=xf(d,a);a.sa=d;return a}function yf(a,b){this.Aa=a;this.C=b;this.rb=0;this.Ba=this.Fb=this.G=null;this.b=[];this.B=[];this.h=[]}function vf(a){return new yf(hd++,a)}I=yf[t];I.ma=function(){return 0==this.rb};I.Fg=function(){return null==this.G};ya(I,H("Ba"));
function zf(a){function b(a){return null!=a?a.Aa[E]():"_"}var c=a.Aa+"["+a.b[m]("|")+"]",d=a.h.map(function(a){return a.Aa})[m]("|"),g=a.B[m]("/"),k=b(a.Fb)+"{",k=a.ma()?k+g:k+d,k=k+"}"+b(a.G);a.Ba&&(a=zf(a.Ba),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(I,function(){var a="",b=zf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.h[D]&&(a+=this.h[0][E]());return a});I.Nd=function(){return this.ma()?this:this.h[0].Nd()};I.mg=function(){return this.ma()?this:this.h[this.h[D]-1].mg()};
function Af(a,b){b&&(b.Fb=a);a&&(a.Ba=b)}function sf(a,b){for(var c=b[D],d=0,g=vf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.b=p.map(function(a){return a.key});g.B=p.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=vf(g.C),Af(g,l),g=l)}return k}function Bf(a){var b=a[0],c=vf(b.C);c.rb=b.rb+1;c.h=a;for(b=0;b<a[D];++b)a[b].G=c,0<b&&c.b[z](a[b].b[0]);return c}
function tf(a){var b=a,c=[];do c[z](b),b=b.Ba;while(b);if(512>=c[D])b=Bf(c);else{var d=c[D],g=0,b=vf(a.C);for(b.rb=a.rb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[n](g,g+a),l=Bf(k);l.G=b;b.h[D]&&(b.b[z](k[0].b[0]),Af(b.h[b.h[D]-1],l));b.h[z](l);g+=a;d-=a}}return b}I.get=function(a){var b=this.od(a);if(this.ma()){var c=uf;this.C.Va(this.b[b],a)&&(c=c[Ra](this.B[b]));return c}b=this.C.Va(this.b[b],a)?b+1:b;return this.h[b].get(a)};
I.J=function(a){var b=this.od(a);return this.C.Va(this.b[b],a)?!0:this.ma()?!1:this.h[b].J(a)};va(I,function(a,b){this.Zf(a,-1,b);if(this.Fg()){var c=this;1==this.h[D]&&(c=this.h[0],c.G=null);return c}return this});function Cf(a){return a.ma()?a.b[0]:Cf(a.h[0])}I.Hd=function(){this.b=[];for(var a=1;a<this.h[D];++a)this.b[z](Cf(this.h[a]))};
I.Zf=function(a,b,c){var d=this.od(a),g=this.ma();if(!g){var k=this.C.Va(this.b[d],a)?d+1:d;if(this.h[k].Zf(a,k,c))this.Hd();else return!1}else if(!this.C.Va(this.b[d],a))return!1;if(this.b[D]>d&&this.C.Va(this.b[d],a)){if(Lb(c)&&!this.C.Na()&&g&&(k=this.B[d],c=tc(k,uc,!1,c),0<=c&&nc(k,c)&&this.C.$a()[x](a,1),this.B[d][D]))return!1;this.b[B](d,1);g&&(g=this.C.Na()?1:this.B[d][D],this.B[B](d,1),this.C.$a()[x](a,g))}256>this.b[D]&&!this.Fg()&&(this.sl()||this.Gk(b));return!0};
I.sl=function(){var a=null,b,c,d;if(this.Ba&&256<this.Ba.b[D])a=this.Ba,c=b=0,d=this.b[D]+1;else if(this.Fb&&256<this.Fb.b[D])a=this.Fb,b=this.Fb.b[D]-1,c=this.ma()?b:b+1,d=0;else return!1;this.b[B](d,0,a.b[b]);a.b[B](b,1);b=this.ma()?this.B:this.h;var g=null;this.ma()?g=a.B:(g=a.h,g[c].G=this);b[B](d,0,g[c]);g[B](c,1);a.ma()||(a.Hd(),this.Hd());return!0};
I.Gk=function(a){var b,c,d;this.Ba&&511>this.Ba.b[D]?(b=this.Ba,d=c=0):this.Fb&&(b=this.Fb,c=b.b[D],d=b.ma()?b.B[D]:b.h[D]);c=[c,0][Ra](this.b);e[t][B][wb](b.b,c);c=null;this.ma()?c=this.B:(c=this.h,c[G](function(a){a.G=b}));c=[d,0][Ra](c);e[t][B][wb](b.ma()?b.B:b.h,c);Af(this.Fb,this.Ba);b.ma()||b.Hd();-1!=a&&(this.G.b[B](a,1),this.G.h[B](a,1))};
I.Eb=function(a,b,c){var d=this.od(a);if(this.ma()){if(this.C.Va(this.b[d],a)){if(c)this.C.$a()[x](a,this.C.Na()?1:this.B[d][D]),this.B[d]=this.C.Na()?b:[b];else{if(this.C.Na())throw new P(201);if(!vc(this.B[d],b))throw new P(109);}this.C.$a().add(a,1);return this}this.b[B](d,0,a);this.B[B](d,0,this.C.Na()?b:[b]);this.C.$a().add(a,1);return 512==this.b[D]?this.pl():this}d=this.C.Va(this.b[d],a)?d+1:d;a=this.h[d].Eb(a,b,c);a.ma()||1!=a.b[D]||(this.b[B](d,0,a.b[0]),a.h[1].G=this,a.h[0].G=this,this.h[B](d,
1,a.h[1]),this.h[B](d,0,a.h[0]));return 512==this.b[D]?this.ol():this};I.pl=function(){var a=vf(this.C),b=vf(this.C);b.rb=1;b.b=[this.b[256]];b.h=[this,a];b.G=this.G;this.G=b;a.b=this.b[B](256);a.B=this.B[B](256);a.G=b;Af(a,this.Ba);Af(this,a);return b};I.ol=function(){var a=vf(this.C),b=vf(this.C);a.G=this.G;a.rb=this.rb+1;a.b=[this.b[256]];a.h=[this,b];this.b[B](256,1);b.G=a;b.rb=this.rb;b.b=this.b[B](256);b.h=this.h[B](257);b.h[G](function(a){a.G=b});this.G=a;Af(b,this.Ba);Af(this,b);return a};
I.od=function(a){for(var b=0,c=this.b[D];b<c;){var d=b+c>>1;this.C.Ye(this.b[d],a)?b=d+1:c=d}return b};I.gg=function(a){if(!this.ma()){var b=this.od(a);this.C.Va(this.b[b],a)&&b++;return this.h[b].gg(a)}return this};
I.pb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var g=this.C.Nc(),k=0,l=this.b[D]-1,p=this.b,y=d(g.yb(p[k],a)),xa=d(g.yb(p[l],a));if(1!=y&&(-1!=y||-1!=xa)){var sb=function(a,b){var c=a+b>>1;return c==a?c+1:c},Hc=function(b,c,k){if(b>=c)return 0==k?c:-1;var l=d(g.yb(p[b],a));if(0==l)return b;if(1==l)return-1;l=sb(b,c);if(l==c)return 0==k?c:-1;var y=d(g.yb(p[l],a));return 0==y?Hc(b,l,y):-1==y?Hc(l+1,c,k):Hc(b+1,l,y)},hf=function(b,c){if(b>=c)return b;var k=d(g.yb(p[c],a));if(0==k)return c;
if(-1==k)return b;k=sb(b,c);if(k==c)return b;var l=d(g.yb(p[k],a));return 0==l?hf(k,c):1==l?hf(b,k-1):-1};0!=y&&(k=Hc(k+1,l,xa));-1!=k&&(l=hf(k,l),-1!=l&&l>=k&&this.Lh(b,c,k,l+1))}};I.Lh=function(a,b,c,d){for(;c<d&&(a[eb]||!(a[ab]>=a.$));++c)if(this.C.Na())!a[eb]&&a.O?a.O--:b[a.count++]=this.B[c];else for(var g=0;g<this.B[c][D]&&a[ab]<b[D];++g)!a[eb]&&a.O?a.O--:b[a.count++]=this.B[c][g]};
I.fill=function(a,b){if(this.ma())for(var c=0;c<this.B[D]&&0<a[ab];++c)if(0<a[vb]){if(a.offset=a[vb]-(this.C.Na()?1:this.B[c][D]),0>a[vb])for(var d=this.B[c][D]+a[vb];d<this.B[c][D]&&0<a[ab];++d)b[a.sf++]=this.B[c][d],a.count--}else if(this.C.Na())b[a.sf++]=this.B[c],a.count--;else for(d=0;d<this.B[c][D]&&0<a[ab];++d)b[a.sf++]=this.B[c][d],a.count--;else for(c=0;c<this.h[D]&&0<a[ab];++c)this.h[c].fill(a,b)};
function xf(a,b){for(var c=b.$a(),d=a.map(function(a){var d=new yf(a.id(),b);d.b=a.w()[0];d.B=a.w()[1];d.b[G](function(a,g){c.add(a,b.Na()?1:d.B[g][D])});return d}),g=0;g<d[D]-1;++g)Af(d[g],d[g+1]);return 1<d[D]?tf(d[0]):d[0]};
function Df(a){if(1==a.f[D])return new Ef(a.f[0].tb);a=a.f.map(function(a){return a.tb});return new Ff(a)}function Ef(a){this.Cd=0==a?Gf:Hf;this.Ze=0==a?function(a){return null!=a?a[eb]():null}:function(a){return a||null};this.Tg=0==a?If:Jf}L(Ef,ae);function Hf(a,b){return a>b?1:a<b?-1:0}function Gf(a,b){return Hf(b,a)}function Jf(a,b){return oe(a,b)}function If(a,b){return oe(b,a)}I=Ef[t];
I.yb=function(a,b){var c=this.Ze(b),d=[null===c.c,null===c.u];if(!d[0]){var g=this.Cd(a,c.c);d[0]=c.Z?1==g:-1!=g}d[1]||(g=this.Cd(a,c.u),d[1]=c.da?-1==g:1!=g);return d};I.compare=function(a,b){return this.Cd(a,b)};I.min=function(a,b){return a<b?1:a==b?0:-1};I.max=function(a,b){return a>b?1:a==b?0:-1};I.Se=function(a,b){var c=this.yb(a,b);return c[0]&&c[1]};I.Sg=function(a,b){return this.Tg(a,b)};I.qh=function(a){return a[Ga](function(a){return null!==a})[Ya](K(function(a,c){return this.Tg(a,c)},this))};
I.Te=function(a){return Pb(this.Ze(a).c)};I.fe=function(a){a=this.Ze(a);return[a.c,a.u]};f(I,function(){return this.Cd==Gf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Ff(a){this.Ma=a.map(function(a){return new Ef(a)})}L(Ff,ae);I=Ff[t];I.Ge=function(a,b,c){for(var d=0,g=0;g<this.Ma[D]&&0==d;++g)d=c(this.Ma[g],a[g],b[g]);return d};I.compare=function(a,b){return this.Ge(a,b,function(a,b,g){return a[zb](b,g)})};I.min=function(a,b){return this.Ge(a,b,function(a,b,g){return a.min(b,g)})};
I.max=function(a,b){return this.Ge(a,b,function(a,b,g){return a.max(b,g)})};I.yb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ma[D]&&(c[0]||c[1]);++d){var g=this.Ma[d].yb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};I.Se=function(a,b){for(var c=!0,d=0;d<this.Ma[D]&&c;++d)c=this.Ma[d].Se(a[d],b[d]);return c};
I.qh=function(a){var b=a[Ga](function(a){return a[Ta](Qb)});a=e(this.Ma[D]);for(var c=0;c<a[D];c++)a[c]=b.map(function(a){return a[c]});a[G](function(a,b){a[Ya](K(function(a,c){return this.Ma[b].Sg(a,c)},this))},this);b=e(b[D]);for(c=0;c<b[D];c++)b[c]=a.map(function(a){return a[c]});return b[Ya](K(function(a,b){for(var c=0,l=0;l<this.Ma[D]&&0==c;++l)c=this.Ma[l].Sg(a[l],b[l]);return c},this))};I.Te=function(a){return this.Ma[0].Te(a[0])};
I.fe=function(a){var b=a.map(function(a,b){return this.Ma[b].fe(a)[0]},this);a=a.map(function(a,b){return this.Ma[b].fe(a)[1]},this);return[b,a]};
function Kf(a){this.ra=a;this.sb=new Td;this.pd=new qf;this.wb=new qf}I=Kf[t];na(I,function(){return this.ra[u]()});I.add=function(a,b){null===a?(this.sb.add(b),this.pd.add(a,1)):this.ra.add(a,b)};I.set=function(a,b){null===a?(this.sb[w](),this.pd[w](),this.add(a,b)):this.ra.set(a,b)};va(I,function(a,b){if(null===a)b?(this.sb[Xa](b),this.pd[x](a,1)):(this.sb[w](),this.pd[w]());else this.ra[x](a,b)});I.get=function(a){return null===a?Ud(this.sb):this.ra.get(a)};I.Ed=function(a){return this.ra.Ed(a)};
I.$a=function(){this.wb.zl([this.ra.$a(),this.pd]);return this.wb};I.pb=function(a,b,c,d){b=this.ra.pb(a,b,c,d);return null!=a?b:b[Ra](Ud(this.sb))};ta(I,function(){this.sb[w]();this.ra[w]()});I.J=function(a){return null===a?0!=this.sb[Gb]:this.ra.J(a)};I.min=function(){return this.ra.min()};I.max=function(){return this.ra.max()};I.Ka=function(){return[new gd(-2,Ud(this.sb))][Ra](this.ra.Ka())};I.Nc=function(){return this.ra.Nc()};
function Lf(a,b){for(var c=-1,d=0;d<b[D];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new P(102);var d=b[c].w(),g=b[n](0);g[B](c,1);var c=a(g),k=new Kf(c);d[G](function(a){k.sb.add(a)});return k}I.Na=function(){return this.ra.Na()};
function Mf(a){this.A=a;this.vb=new Td;this.W=new Ef(1)}I=Mf[t];na(I,H("A"));I.add=function(a){if("number"!=typeof a)throw new P(103);this.vb.add(a)};I.set=function(a,b){this.add(a,b)};va(I,function(a){this.vb[Xa](a)});I.get=function(a){return this.J(a)?[a]:[]};I.min=function(){return this.gd(K(this.W.min,this.W))};I.max=function(){return this.gd(K(this.W.max,this.W))};
I.gd=function(a){if(0==this.vb[Gb])return null;var b=Ud(this.vb)[Ka](K(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};I.Ed=function(){return this.vb[Gb]};I.pb=function(a,b,c,d){var g=a||[ne()];a=Ud(this.vb)[Ga](function(a){return g[$a](function(b){return this.W.Se(a,b)},this)},this);return pf(a,b,c,d)};ta(I,function(){this.vb[w]()});I.J=function(a){return this.vb.has(a)};I.Ka=function(){return[new gd(0,Ud(this.vb))]};I.Nc=H("W");
function Nf(a,b){var c=new Mf(a);b[0].w()[G](function(a){c.add(a,a)});return c}I.Na=Jb(!0);I.$a=function(){var a=new qf;a.ua=this.vb[Gb];return a};
function Of(a){this.l=a;this.Ib=a.o(Hd);this.F=a.o(Jd);this.va=a.o(Id)}I=Of[t];I.Ha=function(a){var b=a.ab(),c=K(function(){if(0==b[D])return Wc();var a=b[pb]();return(a.Nb()?this.gj(a):this.hj(a))[A](c)},this);return c()};I.hj=function(a){var b=new ke(this.l,[a]);return this.Ib.Vb(0,b).M(a[u](),K(a.tc,a)).get([])[A](K(function(b){this.va.set(a[u](),b);this.Yk(a,b)},this))};I.Yk=function(a,b){var c=this.F.Zj(a[u]());b[G](function(a){c[G](function(b){var c=a.$b(b[u]());b.add(c,a.id())})})};
I.gj=function(a){var b=new ke(this.l,[a]),c=this.Ib.Vb(0,b),b=c.M(a[u](),a.tc).get([])[A](K(function(b){this.va.set(a[u](),b)},this)),d=a.za().map(function(a){return this.Zk(a,c)},this)[Ra](this.$k(a,c));return $c(d[Ra](b))};I.Zk=function(a,b){var c=b.M(a.m(),id,1),d=Df(a);return c.get([])[A](K(function(b){M("btree"==b[0].w().type);if(1<b[D]){if(a.sg()){var c=wf[F](void 0,d,a.m(),a.ed);b=Lf(c,b[n](1))}else b=wf(d,a.m(),a.ed,b[n](1));this.F.set(b)}},this))};
I.$k=function(a,b){return b.M(a.Lb(),id,1).get([])[A](K(function(b){M("rowid"==b[0].w().type);1<b[D]&&(b=Nf(a.Lb(),b[n](1)),this.F.set(b))},this))};

function Pf(){this.V=new Dd}Pf[t].Ha=function(a){a.ab()[G](function(a){var c=a.Lb();if(null===this.get(c)){var d=new Mf(c);this.V.set(c,d)}a.za()[G](function(a){this.V.set(a.m(),Qf(a))},this)},this);return Wc()};function Qf(a){var b=Df(a),b=new rf(a.m(),b,a.ed);return a.sg()?new Kf(b):b}Pf[t].get=function(a){return this.V.get(a)||null};Pf[t].set=function(a){return this.V.set(a[u](),a)};Pf[t].Zj=function(a){var b=[],c=a+".";this.V[G](function(a,g){0==g[Za](c)&&b[z](this.V.get(g))},this);return b};
function Rf(a){this.hb=[];Lb(a)&&this.add(a)}I=Rf[t];f(I,function(){return this.hb.map(function(a){return a[E]()})[m](",")});I.J=function(a){return this.hb[$a](function(b){return b[rb](a)})};I.i=H("hb");
I.add=function(a){if(0!=a[D])if(a=this.hb[Ra](a),1==a[D])this.hb=a;else{a[Ya](oe);for(var b=[],c=a[0],d=1;d<a[D];++d)if(c.Ug(a[d])){var g=a[d],k=ne();if(null!==c.c&&null!==g.c){var l=me(c.c,g.c,!0);1!=l?(k.c=c.c,k.Z=0!=l?c.Z:c.Z&&g.Z):(k.c=g.c,k.Z=g.Z)}null!==c.u&&null!==g.u&&(l=me(c.u,g.u,!1),-1!=l?(k.u=c.u,k.da=0!=l?c.da:c.da&&g.da):(k.u=g.u,k.da=g.da));c=k}else b[z](c),c=a[d];b[z](c);this.hb=b}};
I.Rc=function(a){return this.hb[D]==a.hb[D]?0==this.hb[D]||this.hb[Ta](function(b,c){return b.Rc(a.hb[c])}):!1};function Sf(a,b){var c=[];a.i().map(function(a){return b.i().map(function(b){var c;if(a.Ug(b)){c=ne();var l=me(a.c,b.c,!0),l=0==l?a.Z?a:b:-1!=l?a:b;c.c=l.c;c.Z=l.Z;null===a.u||null===b.u?b=null===a.u?b:a:(l=me(a.u,b.u,!1),b=0==l?a.da?a:b:-1==l?a:b);c.u=b.u;c.da=b.da}else c=null;return c})})[G](function(a){c=c[Ra](a)});return new Rf(c[Ga](function(a){return null!==a}))};
function Tf(a,b){var c=[],d=null,g=null;a.Dc(function(a){var l=b(a);null==a[Ab]()?g=l:d.oa(l);var p=a[Ab]();null!==p&&p.ya()==d.ya()&&(p=c[Za](d),-1!=p&&c[B](p,1));1<a.ya()&&c[z](l);d=a.zg()?c[c[D]-1]:l});return g}function Uf(a){return Vf(a,function(a){return a.zg()})}function Wf(a){var b=a[Ab](),c=0;null!==b&&(c=b.ea()[Za](a),b[hb](a));var d=a.ea()[n]();d[G](function(d,k){a[hb](d);null===b||b.Fc(d,c+k)});return{parent:b,children:d}}
function Xf(a,b){a.ea()[n]()[G](function(c){a[hb](c);b.oa(c)});a.oa(b)}function Yf(a){M(1==a.ya());var b=a.Ab(0);M(1==b.ya());Wf(a);Xf(b,a);return b}function Zf(a,b,c){M(1==a.ya());var d=a.Ab(0);M(1<d.ya());var g=d.ea()[n]();if(!g[$a](function(a){return b(a)}))return a;Wf(a);g[G](function(g,l){if(b(g)){var p=c(a);d.ge(l);p.oa(g);d.Fc(p,l)}});return d}function $f(a,b,c,d){var g=a[Ab]();null!==g&&(a=g.ea()[Za](a),g.ge(a),g.Fc(c,a));b.ea()[n]()[G](function(a){b[hb](a);d.oa(a)});return c}
function Vf(a,b,c){function d(a){b(a)&&g[z](a);null!=c&&c(a)||a.ea()[G](d)}var g=[];d(a);return g}function ag(a,b){var c=b||function(a){return a[E]()+"\n"},d="";a.Dc(function(a){for(var b=0;b<a.Gj();b++)d+="-";d+=c(a)});return d};

function bg(a){Ie[r](this);this.cc=a;this.eb=!1}L(bg,Ie);I=bg[t];I.Ub=function(){return Tf(this,function(a){if(a instanceof bg){var b=new bg(a.cc);b.eb=a.eb;b.qf(a.fa());return b}return a.Ub()}[F](this))};I.ob=function(a){var b=a||[];this.Dc(function(a){a!=this&&a.ob(b)}[F](this));return(new O(b)).i()};I.je=function(a){this.eb!=a&&(this.eb=a,this.cc="and"==this.cc?"or":"and",this.ea()[G](function(b){return b.je(a)}))};I.eval=function(a){var b=this.ea().map(function(b){return b.eval(a)});return this.yi(b)};
I.yi=function(a){return"and"==this.cc?te(a):ue(a)};f(I,function(){return"combined_pred_"+this.cc[E]()});function cg(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function dg(){this[w]()}var eg=aa[t][Wa],fg=aa[t][qb];I=dg[t];I.set=function(a,b){this.vd(a);var c=!this.dd(a);this.g[a]=b;if("__proto__"==a||!gg&&!eg[r](this.g,a)){delete this.g[a];var d=hc(this.Pb,a);if(c=0>d)d=this.Pb[D];this.Pb[d]=a;this.he[d]=b}c&&this.aa++};I.get=function(a,b){this.vd(a);if(this.dd(a))return this.g[a];var c=hc(this.Pb,a);return 0<=c?this.he[c]:b};
va(I,function(a){this.vd(a);if(this.dd(a))return this.aa--,delete this.g[a],!0;a=hc(this.Pb,a);return 0<=a?(this.aa--,nc(this.Pb,a),nc(this.he,a),!0):!1});I.addAll=function(a){ic(a.ia(),function(b){this.set(b,a.get(b))},this)};I.fb=function(){return!this.aa};I.Ga=H("aa");I.J=function(a){this.vd(a);return this.dd(a)||0<=hc(this.Pb,a)};I.Dd=function(a){return zc(this.g,function(b,c){return this.dd(c)&&cg(b,a)},this)||0<=hc(this.he,a)};
I.ia=function(){var a;if(hg)a=pc(aa.keys(this.g));else{a=[];for(var b in this.g)fg[r](this.g,b)&&a[z](b)}qc(a,this.Pb);return a};I.i=function(){for(var a=[],b=this.ia(),c=0;c<b[D];c++)a[z](this.get(b[c]));return a};I.getEntries=function(){for(var a=[],b=this.ia(),c=0;c<b[D];c++){var d=b[c];a[z]([d,this.get(d)])}return a};ta(I,function(){this.g=gg?aa[jb](null):{};this.Pb=[];this.he=[];this.aa=0});la(I,function(){var a=new dg;a[gb](this);return a});
I.dd=function(a){return"__proto__"==a?!1:gg?a in this.g:fg[r](this.g,a)};I.vd=function(a){M(Sb(a),"key must be a string.")};var gg=!!aa[jb],hg=!!aa.keys;function ig(){this[w]()}I=ig[t];I.aa=0;ta(I,function(){this.aa=0;this.g=new dg});la(I,function(){var a=new ig;a.Eh(this);return a});I.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[z](b);this.aa++};I.Eh=function(a){ic(a.getEntries(),function(a){this.add(a[0],a[1])},this)};I.get=function(a){return(a=this.g.get(a))?pc(a):[]};va(I,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=oc(c,function(a){return cg(b,a)});d&&(this.aa--,0==c[D]&&this.g[x](a));return d});I.fb=function(){return!this.aa};
I.Ga=H("aa");I.J=function(a){return this.g.J(a)};I.Dd=function(a){return lc(this.g.i(),function(b){return lc(b,function(b){return cg(b,a)})})};I.ia=function(){return this.g.ia()};I.i=function(){return xc(this.g.i())};I.getEntries=function(){for(var a=this.ia(),b=[],c=0;c<a[D];c++)for(var d=a[c],g=this.get(d),k=0;k<g[D];k++)b[z]([d,g[k]]);return b};
function jg(a,b,c){Ie[r](this);this.Oa=a;this.Ea=b;this.L=c;this.$e=null;this.Gd=Ae.Je().He(this.Oa.Y(),this.L)}L(jg,Ie);I=jg[t];I.Ub=function(){var a=new jg(this.Oa,this.Ea,this.L);a.qf(this.fa());return a};I.ob=function(a){return null!=a?(a[z](this.Oa),a[z](this.Ea),a):[this.Oa,this.Ea]};I.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new jg(this.Ea,this.Oa,a)};
I.eval=function(a){var b=a[C][Ga](function(a){var b=a.U(this.Oa);a=a.U(this.Ea);return this.Gd(b,a)},this);return new pe(b,a.X())};f(I,function(){return"join_pred("+this.Oa.m()+", "+this.Ea.m()+")"});I.Hf=function(a){return-1!=a.X()[Za](this.Oa.M().qa())};I.Mh=function(a){return-1!=a.X()[Za](this.Ea.M().qa())};I.Ni=function(a,b){var c=null,d=null;this.Hf(a)?(this.Jf(a,b),c=a,d=b):(this.Jf(b,a),c=b,d=a);return[c,d]};
I.Jf=function(a,b){M(this.Hf(a),"Mismatch between join predicate left operand and right relation.");M(this.Mh(b),"Mismatch between join predicate right operand and right relation.")};I.Ui=function(a,b,c){var d=[a,b];c||(d=this.Ni(a,b));a=d[0];d=d[1];return"eq"==this.L?this.Vi(a,d,c):this.Wi(a,d,c)};I.Fi=function(a){var b={};a.ob()[G](function(a){b[a[u]()]=null});return b};I.Vf=function(a,b){null===this.$e&&(this.$e=this.Fi(this.Ea.M()));var c=new we(new gd(-1,this.$e),!1);return ye(a,b,c,[this.Ea.M().qa()])};
I.Wi=function(a,b,c){for(var d=[],g=a.X(),k=b.X(),l=0;l<a[C][D];l++){for(var p=!1,y=0;y<b[C][D];y++)if(this.Gd(a[C][l].U(this.Oa),b[C][y].U(this.Ea))){var p=!0,xa=ye(a[C][l],g,b[C][y],k);d[z](xa)}c&&!p&&d[z](this.Vf(a[C][l],g))}a=a.X()[Ra](b.X());return new pe(d,a)};
I.Vi=function(a,b,c){var d=a,g=b,k=this.Oa,l=this.Ea;if(c||a[C][D]>b[C][D])d=b,g=a,k=this.Ea,l=this.Oa;var p=new ig,y=[];d[C][G](function(a){var b=ha(a.U(k));p.add(b,a)});var xa=d.X(),sb=g.X();g[C][G](function(a){var b=ha(a.U(l));p.J(b)?p.get(b)[G](function(b){b=ye(a,sb,b,xa);y[z](b)}):c&&y[z](this.Vf(a,sb))}[F](this));a=a.X()[Ra](b.X());return new pe(y,a)};
function kg(a,b,c){return null===b?new Ke(a,b,c):Lb(b.m)?new jg(a,b,c):new Ke(a,b,c)};
var lg={};J("lf.schema.DataStoreType",lg,void 0);lg.INDEXED_DB=0;lg.MEMORY=1;lg.LOCAL_STORAGE=2;lg.FIREBASE=3;lg.WEB_SQL=4;lg.OBSERVABLE_STORE=5;function mg(a,b,c,d){this.tf=a;ja(this,b);this.ed=c;this.f=d}mg[t].m=function(){return this.tf+"."+this[q]};mg[t].sg=function(){return this.f[$a](function(a){return a.ga.Zb()})};function S(a,b,c,d){this.A=a;this.la=c;this.H=b;this.be=d;this.lb=null}J("lf.schema.Table",S,void 0);na(S[t],H("A"));na(S[t],S[t][u]);S[t].cb=H("lb");
S[t].qa=function(){return this.lb||this.A};S[t].Hc=function(a){var b=new this.constructor(this.A);b.lb=a;b.al=this.al;return b};S[t].as=S[t].Hc;S[t].createRow=S[t].Jb;S[t].deserializeRow=S[t].tc;S[t].za=H("la");S[t].getIndices=S[t].za;S[t].ob=H("H");S[t].getColumns=S[t].ob;S[t].getConstraint=S[t].Kb;S[t].Nb=H("be");S[t].persistentIndex=S[t].Nb;S[t].Lb=function(){return this.A+".#"};
function T(a,b){wa(this,a);this.Sb=b;this.lb=null}I=T[t];na(I,function(){return this.Sb+"("+this[ib][u]()+")"});I.m=function(){return this.Sb+"("+this[ib].m()+")"};I.M=function(){return this[ib].M()};f(I,function(){return this.m()});I.Y=function(){return this[ib].Y()};I.cb=H("lb");I.za=function(){return[]};I.Zb=Jb(!1);I.Hc=function(a){this.lb=a;return this};T[t].as=T[t].Hc;T[t].fg=function(){for(var a=[this],b=this;b instanceof T;)a[z](b[ib]),b=b[ib];return a};
function ng(a){this.lb=a||null;this.S=new S("#UnknownTable",[],[],!1)}I=ng[t];na(I,Jb("*"));I.m=function(){return this[u]()};f(I,function(){return this.m()});I.M=H("S");I.Y=Jb(4);I.cb=H("lb");I.za=function(){return[]};I.Zb=Jb(!1);
J("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);function og(a){return new T(a||new ng,"COUNT")}J("lf.fn.count",og,void 0);function pg(a){return new T(a,"DISTINCT")}J("lf.fn.distinct",pg,void 0);J("lf.fn.max",function(a){return new T(a,"MAX")},void 0);J("lf.fn.min",function(a){return new T(a,"MIN")},void 0);J("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);J("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);J("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){Ge[r](this,"","");this.dj=b;this.Qg=a}L(U,Ge);I=U[t];ma(I,function(a,b){switch(this.dj){case 1:return this.Zi(a,b);case 0:return this.Yi(a,b);default:return this.aj(a,b)}});f(I,Jb("dummy_node"));I.qd=function(){return this[E]()};I.If=function(a){M(-1==this.Qg||a[D]==this.Qg)};I.aj=function(a,b){return new N(K(function(c){c(this.ha(a,[],b))},this))};I.Zi=function(a,b){return this.Ab(0)[Pa](a,b)[A](K(function(c){this.If(c);return this.ha(a,c,b)},this))};
I.Yi=function(a,b){var c=this.ea().map(function(c){return c[Pa](a,b)});return $c(c)[A](K(function(c){var g=[];c[G](function(a){for(var b=0;b<a[D];++b)g[z](a[b])});this.If(g);return this.ha(a,g,b)},this))};
function qg(a){U[r](this,-1,1);this.Ff=a}L(qg,U);f(qg[t],function(){return"aggregation("+this.Ff.map(function(a){return a.m()})[E]()+")"});qg[t].ha=function(a,b){b[G](function(a){(new rg(a,this.Ff)).Zh()},this);return b};function rg(a,b){this.Ja=a;this.H=b}rg[t].Zh=function(){this.H[G](function(a){a=a.fg()[eb]();for(var b=1;b<a[D];b++){var c=a[b],d=c.fg()[n](-1)[0],g=this.Jj(c);if(g.rg(c))break;d=sg(c.Sb,g,d);this.Ja.lh(c,d)}},this)};
rg[t].Jj=function(a){return a[ib]instanceof T?this.Ja.xc(a[ib]):this.Ja};function sg(a,b,c){var d=null;switch(a){case "MIN":d=tg(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=tg(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=ug(b,c);break;case "COUNT":d=vg(b,c);break;case "SUM":d=wg(b,c);break;case "AVG":a=vg(b,c);0<a&&(d=wg(b,c)/a);break;case "GEOMEAN":d=xg(b,c);break;default:d=yg(b,c)}return d}
function tg(a,b,c){return a[C][Ka](function(a,g){var k=g.U(b);return null===k?a:null===a?k:c(a,k)},null)}function vg(a,b){return b instanceof ng?a[C][D]:a[C][Ka](function(a,d){return a+(Pb(d.U(b))?0:1)},0)}function wg(a,b){return a[C][Ka](function(a,d){return a+d.U(b)},0)}function yg(a,b){var c=a[C].map(function(a){return a.U(b)});return td[wb](null,c)}function xg(a,b){var c=0,d=a[C][Ka](function(a,d){var l=d.U(b);return 0!=l?(c++,a+ba.log(l)):a},0);return 0==c?null:ba.pow(ba.E,d/c)}
function ug(a,b){var c=new zd;a[C][G](function(a){var g=a.U(b);c.set(g,a)});return new pe(c.i(),a.X())};
function zg(a,b){this.Fa=a;this.ta=b}zg[t].qb=H("Fa");zg[t].ja=H("ta");function V(){Ge[r](this,"","")}L(V,Ge);function Ag(a,b){V[r](this);ia(this,a);ua(this,b)}L(Ag,V);function Bg(a,b){Ag[r](this,a,b)}L(Bg,Ag);function Cg(a){V[r](this);ia(this,a)}L(Cg,V);f(Cg[t],function(){return"delete("+this[h][u]()+")"});function Dg(a,b){V[r](this);ia(this,a);this.yf=b}L(Dg,V);f(Dg[t],function(){var a=[];this.yf&&(a=this.yf.map(function(a){return a.K[u]()},this));return"update("+this[h][u]()+", ["+a[m](",")+"])"});
function Eg(a){V[r](this);this.Da=a}L(Eg,V);f(Eg[t],function(){return"select("+this.Da[E]()+")"});function Fg(a){V[r](this);ia(this,a)}L(Fg,V);f(Fg[t],function(){var a="table_access("+this[h][u]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});function Gg(){V[r](this)}L(Gg,V);f(Gg[t],Jb("cross_product"));function Hg(a,b){V[r](this);this.f=a;this.Xb=b}L(Hg,V);
f(Hg[t],function(){var a="project("+this.f[E]();if(null!==this.Xb)var b=this.Xb.map(function(a){return a.m()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Ig(a){V[r](this);this.N=a}L(Ig,V);f(Ig[t],function(){return"order_by("+Oe(this.N)+")"});function Jg(a){V[r](this);this.f=a}L(Jg,V);f(Jg[t],function(){return"aggregation("+this.f[E]()+")"});function Kg(a){V[r](this);this.f=a}L(Kg,V);f(Kg[t],function(){return"group_by("+this.f[E]()+")"});function Lg(a){V[r](this);this.$=a}L(Lg,V);
f(Lg[t],function(){return"limit("+this.$+")"});function Mg(a){V[r](this);this.O=a}L(Mg,V);f(Mg[t],function(){return"skip("+this.O+")"});function Ng(a,b){V[r](this);this.Da=a;this.Cg=b}L(Ng,V);f(Ng[t],function(){return(this.Cg?"left_outer_join":"join")+"("+this.Da[E]()+")"});
function Og(){};
function Pg(){}L(Pg,Og);Pg[t].Gb=function(a){this.ca=a;this.bb(this.ca);return this.ca};Pg[t].bb=function(a){if(a instanceof Eg){M(1==a.ya(),"SelectNode must have exactly one child.");var b=this.Kf(a.Da),b=this.Hi(b);$f(a,a,b[0],b[1]);a==this.ca&&(this.ca=b[0]);a=b[0]}a.ea()[G](function(a){this.bb(a)},this)};Pg[t].Kf=function(a){if(0==a.ya()||"and"!=a.cc)return[a];var b=a.ea()[n]().map(function(b){a[hb](b);return this.Kf(b)},this);return xc(b)};
Pg[t].Hi=function(a){var b=null,c=null;a.map(function(a,g){var k=new Eg(a);0==g?b=k:c.oa(k);c=k},this);return[b,c]};
function Qg(){}L(Qg,Og);Qg[t].Gb=function(a){this.ca=a;this.bb(this.ca);return this.ca};Qg[t].bb=function(a){if(a instanceof Gg)for(;2<a.ya();){for(var b=new Gg,c=0;2>c;c++){var d=a.ge(0);b.oa(d)}a.Fc(b,0)}a.ea()[G](function(a){this.bb(a)},this)};
function Rg(){U[r](this,2,0)}L(Rg,U);f(Rg[t],Jb("cross_product"));Rg[t].ha=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.X(),l=d.X(),p=0;p<c[C][D];p++)for(var y=0;y<d[C][D];y++){var xa=ye(c[C][p],k,d[C][y],l);g[z](xa)}c=c.X()[Ra](d.X());return[new pe(g,c)]};

function Sg(a,b){Re[r](this,a,b);this.Za=a.o(Ld);this.Mb=a.o(Md)}L(Sg,Re);Ea(Sg[t],Jb(2));Sg[t].cf=function(a){0==this.Y()?this.Ik(a):this.nd()};Sg[t].Ik=function(a){this.ee[G](function(b,c){b instanceof Ne&&this.Mb.zh(b,a[c])},this)};Sg[t].nd=function(){var a=this.Mb.Oe(this.ja().i());0!=a[D]&&(a=new Se(this[Va],a),this.Za.ic(a))};
function Tg(a){Le[r](this,a)}L(Tg,Le);Tg[t].ja=function(){var a=new O([this.c]);a[gb](this.ga[yb]().eg(this.c[u]()));return a};la(Tg[t],function(){var a=new Tg(this.ga);a.Bd(this);a.c=this.c;return a});Ba(Tg[t],function(a){Tg.Qb[F][r](this,a);this.se(a);return this});
function Ug(a){Le[r](this,a)}L(Ug,Le);Ug[t].ja=function(){var a=new O([this.Ia]),b=this.ga[yb]();a[gb](b.Pj(this.Ia[u]()));this.nc&&a[gb](b.eg(this.Ia[u]()));return a};la(Ug[t],function(){var a=new Ug(this.ga);a.Bd(this);a.Ia=this.Ia;this[cb]&&ua(a,this[cb]instanceof ze?this[cb]:this[cb][n]());a.nc=this.nc;a.oc=this.oc;return a});Ba(Ug[t],function(a){Ug.Qb[F][r](this,a);this.oc&&ua(this,this.oc instanceof ze?a[this.oc.Bb()]:this.oc.map(function(b){return b instanceof ze?a[b.Bb()]:b}));return this});
function Vg(a){Le[r](this,a)}L(Vg,Le);Vg[t].ja=function(){var a=new O([this[h]]),b=this.set.map(function(a){return a.K.m()}),c=this.ga[yb]();a[gb](c.Qj(b));a[gb](c.Fj(b));return a};la(Vg[t],function(){var a=new Vg(this.ga);a.Bd(this);ia(a,this[h]);a.set=this.set?this.set[n]():this.set;return a});Ba(Vg[t],function(a){Vg.Qb[F][r](this,a);this.set[G](function(b){-1!=b.wd&&pa(b,a[b.wd])});this.se(a);return this});
function Wg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+kd(b)+"'";default:return"'"+b[E]()+"'"}}function Xg(a,b){var c=a.nc?"INSERT OR REPLACE":"INSERT",d=a.Ia.ob(),c=c+(" INTO "+a.Ia[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[cb].map(function(a){var k=d.map(function(c){var d=a.w()[c[u]()];return b?null!=d?"#":"NULL":Wg(c.Y(),d)});return c+k[m](", ")+");"})[m]("\n")}
function Yg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Zg(a,b,c,d){return a instanceof ze?"?"+a.Bb()[E]():d?null!=a?"#":"NULL":"match"==b?"'"+a[E]()+"'":"in"==b?"("+a.map(function(a){return Wg(c,a)})[m](", ")+")":"between"==b?Wg(c,a[0])+" AND "+Wg(c,a[1]):Wg(c,a)[E]()}
function $g(a,b){return a.ea().map(function(a){return"("+ah(a,b)+")"})[m]("and"==a.cc?" AND ":" OR ")}function ah(a,b){if(a instanceof Ke){var c=a.K.m(),d=Yg(a.L),g=Zg(a[v],a.L,a.K.Y(),b);return"="==d&&"NULL"==g?[c,"IS NULL"][m](" "):"<>"==d&&"NULL"==g?[c,"IS NOT NULL"][m](" "):[c,d,g][m](" ")}if(a instanceof bg)return $g(a,b);if(a instanceof jg)return[a.Oa.m(),Yg(a.L),a.Ea.m()][m](" ");throw new P(357,typeof a);}function bh(a,b){var c=ah(a,b);return c?" WHERE "+c:""}
function ch(a,b){var c="UPDATE "+a[h][u]()+" SET ",c=c+a.set.map(function(a){var b=a.K.m()+" = ";return-1!=a.wd?b+"?"+a.wd[E]():b+Wg(a.K.Y(),a[v])[E]()})[m](", ");a.D&&(c+=bh(a.D,b));return c+";"}
function dh(a,b){var c="*";a.f[D]&&(c=a.f.map(function(a){return a.cb()?a.m()+" AS "+a.cb():a.m()})[m](", "));var d=a.c.map(function(a){return a.qa()!=a[u]()?a[u]()+" AS "+a.qa():a[u]()})[m](", "),c="SELECT "+c+" FROM "+d;a.D&&(c+=bh(a.D,b));a.N&&(d=a.N.map(function(a){return a.K.m()+(0==a.tb?" DESC":" ASC")})[m](", "),c+=" ORDER BY "+d);a.ka&&(d=a.ka.map(function(a){return a.m()})[m](", "),c+=" GROUP BY "+d);a.$&&(c+=" LIMIT "+a.$[E]());a.O&&(c+=" SKIP "+a.O[E]());return c+";"}
function eh(a,b){var c=b||!1,d=a.lg();if(d instanceof Ug)return Xg(d,c);if(d instanceof Tg){var g="DELETE FROM "+d.c[u]();d.D&&(g+=bh(d.D,c));return g+";"}if(d instanceof Vg)return ch(d,c);if(d instanceof Ne)return dh(d,c);throw new P(358,typeof d);};
function fh(a,b){this.global=a;this.Wk=a.o(Kd);this.Za=a.o(Ld);this.a=b}J("lf.query.BaseBuilder",fh,void 0);ma(fh[t],function(){try{this.mb()}catch(a){return Xc(a)}return new N(function(a,c){var d=new Sg(this[Va],[this.bd()]);this.Za.ic(d)[A](function(c){a(c[0].Ke())},c)},this)});ma(fh[t],fh[t][Pa]);fh[t].cg=function(){var a=K(function(a){return a.qd(this.a)+"\n"},this);return ag(this.Le().qb(),a)};fh[t].explain=fh[t].cg;Ba(fh[t],function(a){this.a[F](a);return this});Ba(fh[t],fh[t][F]);
fh[t].vl=function(a){return eh(this,a)};fh[t].toSql=fh[t].vl;I=fh[t];I.mb=Hb();I.lg=function(){return this.a.clone()};I.Od=H("a");I.Le=function(){null==this.Wg&&(this.Wg=this.Wk.Rj(this.a));return this.Wg};I.bd=function(){return{context:this.lg(),ff:this.Le()}};I.Nj=function(){return{context:this.Od(),ff:this.Le()}};
function gh(a){fh[r](this,a,new Tg(a.o(Nd)))}L(gh,fh);J("lf.query.DeleteBuilder",gh,void 0);gh[t].c=function(a){this.Qh();this.a.c=a;return this};gh[t].from=gh[t].c;gh[t].D=function(a){this.qe();this.a.D=a;return this};gh[t].where=gh[t].D;gh[t].Qh=function(){if(null!=this.a.c)throw new P(515);};gh[t].qe=function(){if(null!=this.a.D)throw new P(516);};gh[t].mb=function(){gh.Qb.mb[r](this);if(null==this.a.c)throw new P(517);};
function hh(a,b){fh[r](this,a,new Ug(a.o(Nd)));this.a.nc=b||!1}L(hh,fh);J("lf.query.InsertBuilder",hh,void 0);hh[t].mb=function(){hh.Qb.mb[r](this);var a=this.a;if(null==a.Ia||null==a[cb])throw new P(518);if(a.nc&&null===a.Ia.Kb().Qd())throw new P(519);};hh[t].Ia=function(a){this.Rh();this.a.Ia=a;return this};hh[t].into=hh[t].Ia;ua(hh[t],function(a){this.Sh();a instanceof ze||a[$a](function(a){return a instanceof ze})?this.a.oc=a:ua(this.a,a);return this});ua(hh[t],hh[t][cb]);
hh[t].Rh=function(){if(null!=this.a.Ia)throw new P(520);};hh[t].Sh=function(){if(null!=this.a[cb])throw new P(521);};
function ih(a){return jh("and",e[t][n][r](arguments))}J("lf.op.and",ih,void 0);J("lf.op.or",function(a){return jh("or",e[t][n][r](arguments))},void 0);function jh(a,b){var c=new bg(a);b[G](function(a){c.oa(a)});return c}J("lf.op.not",function(a){a.je(!0);return a},void 0);
function W(a,b){fh[r](this,a,new Ne(a.o(Nd)));this.dg=this.Ch=!1;this.a.f=b;this.hi();this.fi()}L(W,fh);J("lf.query.SelectBuilder",W,void 0);I=W[t];I.mb=function(){W.Qb.mb[r](this);var a=this.a;if(null==a.c)throw new P(522);if(Lb(a.ac)&&!Lb(a.$)||Lb(a.lc)&&!Lb(a.O))throw new P(523);this.ti()};I.hi=function(){var a=this.a.f[Ga](function(a){return a instanceof T&&"DISTINCT"==a.Sb},this);if(0!=a[D]&&(1!=a[D]||1!=this.a.f[D]))throw new P(524);};I.ti=function(){null!=this.a.ka?this.li():this.si()};
I.li=function(){var a=this.a.f[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.m()}),b=!1;if(0==this.a.ka[D]||0==this.a.f[D])b=!0;else{var c=this.a.ka.map(function(a){return a.m()});(b=a[$a](function(a){return-1==c[Za](a)}))||(b=this.a.ka[$a](function(a){a=a.Y();return 6==a||0==a}))}if(b)throw new P(525);};
I.si=function(){var a=this.a.f[$a](function(a){return a instanceof T},this),b=this.a.f[$a](function(a){return!(a instanceof T)},this)||0==this.a.f[D];if(a&&b)throw new P(526);};I.fi=function(){this.a.f[G](function(a){if(a instanceof T&&!kh(a.Sb,a.Y()))throw new P(527,a.m());},this)};I.c=function(a){if(this.dg)throw new P(515);this.dg=!0;null==this.a.c&&(this.a.c=[]);this.a.c[z][wb](this.a.c,e[t][n][r](arguments));return this};W[t].from=W[t].c;
W[t].D=function(a){if(this.Ch)throw new P(516);this.Ch=!0;this.re(a);return this};W[t].where=W[t].D;W[t].re=function(a){null!=this.a.D&&(a=ih(a,this.a.D));this.a.D=a};W[t].qk=function(a,b){if(null==this.a.c)throw new P(542);this.a.c[z](a);this.re(b);return this};W[t].innerJoin=W[t].qk;
W[t].xk=function(a,b){if(!(b instanceof jg))throw new P(541);if(null==this.a.c)throw new P(542);this.a.c[z](a);null==this.a.Ac&&(this.a.Ac=new O);var c=b;a.qa()!=b.Ea.M().qa()&&(c=b[eb]());this.a.Ac.add(c.fa());this.re(c);return this};W[t].leftOuterJoin=W[t].xk;W[t].$=function(a){if(null!=(this.a.$||this.a.ac))throw new P(528);if(a instanceof ze)this.a.ac=a;else{if(0>a)throw new P(531);this.a.$=a}return this};W[t].limit=W[t].$;
W[t].O=function(a){if(null!=(this.a.O||this.a.lc))throw new P(529);if(a instanceof ze)this.a.lc=a;else{if(0>a)throw new P(531);this.a.O=a}return this};W[t].skip=W[t].O;W[t].N=function(a,b){null==this.a.N&&(this.a.N=[]);this.a.N[z]({K:a,tb:null!=b?b:1});return this};W[t].orderBy=W[t].N;W[t].ka=function(a){if(null!=this.a.ka)throw new P(530);null==this.a.ka&&(this.a.ka=[]);this.a.ka[z][wb](this.a.ka,e[t][n][r](arguments));return this};W[t].groupBy=W[t].ka;
function kh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(W[t],function(){var a=new W(this[Va],this.a.f);a.a=this.a.clone();a.a.Lc=null;return a});la(W[t],W[t].clone);
function lh(a,b){fh[r](this,a,new Vg(a.o(Nd)));ia(this.a,b)}L(lh,fh);J("lf.query.UpdateBuilder",lh,void 0);lh[t].set=function(a,b){var c={wd:b instanceof ze?b.Bb():-1,K:a,value:b};null!=this.a.set?this.a.set[z](c):this.a.set=[c];return this};lh[t].set=lh[t].set;lh[t].D=function(a){this.qe();this.a.D=a;return this};lh[t].where=lh[t].D;lh[t].qe=function(){if(null!=this.a.D)throw new P(516);};
lh[t].mb=function(){lh.Qb.mb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[$a](function(a){return a[v]instanceof ze}))throw new P(501);};
function mh(a){this.a=a;this.Fa=null}mh[t].wc=function(){null===this.Fa&&(this.Fa=this.Jd());return this.Fa};function nh(a){mh[r](this,a)}L(nh,mh);nh[t].Jd=function(){return this.a.nc?new Bg(this.a.Ia,this.a[cb]):new Ag(this.a.Ia,this.a[cb])};function oh(a){mh[r](this,a)}L(oh,mh);oh[t].Jd=function(){var a=new Dg(this.a[h],this.a.set),b=null!=this.a.D?new Eg(this.a.D.Ub()):null,c=new Fg(this.a[h]);null===b?a.oa(c):(b.oa(c),a.oa(b));return a};
function ph(a,b,c){this.Fa=a;this.hf=b;this.hc=c}ph[t].wc=function(){this.hc[G](function(a){this.Fa=a.Gb(this.Fa,this.hf)},this);return this.Fa};
function qh(a,b){mh[r](this,a);this.hc=b}L(qh,mh);qh[t].Jd=function(){var a=new Cg(this.a.c),b=null!=this.a.D?new Eg(this.a.D.Ub()):null,c=new Fg(this.a.c);null===b?a.oa(c):(b.oa(c),a.oa(b));return(new ph(a,this.a,this.hc)).wc()};
function rh(){}L(rh,Og);rh[t].Gb=function(a,b){this.ca=a;this.bb(this.ca,b);return this.ca};rh[t].bb=function(a,b){if(a instanceof Eg&&a.Da instanceof jg){M(1==a.ya(),"SelectNode must have exactly one child.");var c=a.Da.fa(),d=a.Ab(0);d instanceof Gg&&(c=Lb(b)&&null!=b.Ac&&b.Ac[rb](c),c=new Ng(a.Da,c),$f(a,d,c,c),a==this.ca&&(this.ca=c),a=c)}a.ea()[G](function(a){this.bb(a,b)},this)};
function sh(){this.oe=new O}L(sh,Og);I=sh[t];I.Sf=function(){this.oe[w]()};I.Gb=function(a){this.Sf();this.ca=a;this.bb(this.ca);this.Sf();return this.ca};I.bb=function(a){if(this.xg(a)){var b=a.Da instanceof Ke?this.Vk(a):this.Uk(a);this.oe.add(a);b==a&&(b=a.Ab(0));null!==b&&(Pb(b[Ab]())&&(this.ca=b),this.xg(b)&&!this.oe[rb](b)&&this.bb(b))}else a.ea()[G](function(a){this.bb(a)},this)};
I.de=function(a,b){var c=a;if(this.ml(a))c=Yf(a),this.de(a,b);else if(this.ll(a)){var d=[],c=Zf(a,b,function(a){a=new Eg(a.Da);d[z](a);return a});d[G](function(a){this.de(a,b)},this)}return c};I.Vk=function(a){var b=new O([a.Da.K.M().qa()]),c=function(a){return this.$f(a,b)}[F](this);return this.de(a,c)};I.Uk=function(a){var b=new O([a.Da.Oa.M().qa(),a.Da.Ea.M().qa()]),c=function(a){return this.$f(a,b)}[F](this);return this.de(a,c)};
I.$f=function(a,b){var c=new O;Uf(a)[G](function(a){c.add(a[h].qa())},this);a instanceof Fg&&c.add(a[h].qa());return c.Di(b)};I.xg=function(a){return a instanceof Eg&&!(a.Da instanceof bg)};I.ll=function(a){a=a.Ab(0);return a instanceof Gg||a instanceof Ng};I.ml=function(a){return a.Ab(0)instanceof Eg};
function th(a,b){mh[r](this,a);this.hc=b;this.ah=this.Lg=this.ph=this.Rg=this.Gf=this.qg=this.kh=this.Xf=this.rh=null}L(th,mh);I=th[t];I.Jd=function(){this.wj();var a=this.Ai();return(new ph(a,this.a,this.hc)).wc()};I.wj=function(){this.Cj();this.rj();this.Aj();this.xj();this.Bj();this.vj();this.tj();this.qj();this.yj()};
I.Ai=function(){for(var a=[this.Lg,this.ph,this.ah,this.Rg,this.Gf,this.qg,this.kh,this.Xf],b=null,c=null,d=0;d<a[D];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].oa(g),b=d)}this.rh[G](function(c){a[b].oa(c)});return c};I.Cj=function(){this.rh=this.a.c.map(function(a){return new Fg(a)},this)};I.rj=function(){2<=this.a.c[D]&&(this.Xf=new Gg)};I.Aj=function(){this.kh=null!=this.a.D?new Eg(this.a.D.Ub()):null};I.xj=function(){this.a.N&&(this.Rg=new Ig(this.a.N))};
I.vj=function(){null!=this.a.$&&(this.Lg=new Lg(this.a.$))};I.Bj=function(){null!=this.a.O&&0<this.a.O&&(this.ph=new Mg(this.a.O))};I.tj=function(){null!=this.a.ka&&(this.qg=new Kg(this.a.ka))};I.qj=function(){var a=this.a.f[Ga](function(a){return a instanceof T});null!=this.a.N&&this.a.N[G](function(b){b.K instanceof T&&a[z](b.K)});0<a[D]&&(this.Gf=new Jg(a))};I.yj=function(){this.ah=new Hg(this.a.f||[],this.a.ka||null)};
function uh(){this.of=[new Pg,new Qg,new sh,new rh];this.De=[new Pg]}uh[t].create=function(a){var b=null;if(a instanceof Ug)b=new nh(a);else if(a instanceof Tg)b=new qh(a,this.De);else if(a instanceof Ne)b=new th(a,this.of);else if(a instanceof Vg)b=new oh(a);else throw new P(513);b=b.wc();return new zg(b,a.ja())};
function vh(a){U[r](this,1,1);this.S=a}L(vh,U);f(vh[t],function(){return"delete("+this.S[u]()+")"});vh[t].ha=function(a,b){var c=b[0][C].map(function(a){return a.xa});a[x](this.S,c);return[se()]};
function wh(a,b){U[r](this,0,-1);ia(this,b);this.F=a.o(Jd)}L(wh,U);f(wh[t],function(){return"get_row_count("+this[h][u]()+")"});wh[t].ha=function(){var a=this.F.get(this[h].Lb()),b=new pe([],[this[h][u]()]);b.lh(og(),a.$a().ua);return[b]};
function xh(a,b){U[r](this,0,-1);this.va=a.o(Id);this.F=a.o(Jd);ia(this,b)}L(xh,U);f(xh[t],function(){var a="table_access("+this[h][u]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});xh[t].ha=function(){var a=this.F.get(this[h].Lb()).pb();return[ve(this.va.get(a),[this[h].qa()])]};
function yh(a){this.l=a}L(yh,Og);yh[t].Gb=function(a,b){this.ca=a;if(!this.ei(b))return a;var c=Vf(a,function(a){return a instanceof xh})[0],d=new wh(this.l,c[h]);$f(c,c,d,d);return this.ca};yh[t].ei=function(a){return 1==a.f[D]&&1==a.c[D]&&null==a.D&&null==a.$&&null==a.O&&null==a.ka?(a=a.f[0],a instanceof T&&"COUNT"==a.Sb&&a[ib]instanceof ng):!1};
function zh(a){U[r](this,1,1);this.pg=a}L(zh,U);f(zh[t],function(){return"groupBy("+this.pg.map(function(a){return a.m()})[E]()+")"});zh[t].ha=function(a,b){return this.ai(b[0])};zh[t].ai=function(a){var b=new ig,c=function(a){return this.pg.map(function(b){return a.U(b)},this)[m](",")}[F](this);a[C][G](function(a){b.add(c(a),a)},this);return b.ia().map(function(c){return new pe(b.get(c),a.X())},this)};
function Ah(a){M(1<a[D],"Should only be called for cross-column indices.");a=a.map(function(a){return a.i()});a=yd[wb](null,a);var b=[];xd(a,function(a){b[z](a)});return b}function Bh(a){this.Yb=a}Bh[t].Md=function(){return 1==this.Yb.f[D]?[ne()]:[this.Yb.f.map(function(){return ne()})]};function Ch(a,b){this.Yb=a;this.wa=b;this.ze=this.Jg=null}
Ch[t].bi=function(a){var b=new zd;this.wa.ia()[G](function(c){var d=this.wa.get(c).map(function(b){return a.Pd(b)},this),g=new Rf([ne()]);d[G](function(a){a=new Rf(a.ul());g=Sf(g,a)});b.set(c,g)},this);return b};Ch[t].ij=function(a){for(var b=this.Yb.f[D]-1;0<=b;b--){var c=this.Yb.f[b];if(null!==a.get(c.ga[u](),null))break;a.set(c.ga[u](),new Rf([ne()]))}};Ch[t].Md=function(a){if(this.Jg==a)return this.ze;var b=this.bi(a);this.ij(b);this.ze=1==this.Yb.f[D]?b.i()[0].i():Ah(this.Yj(b));this.Jg=a;return this.ze};
Ch[t].Yj=function(a){var b=new zd,c=0;this.Yb.f[G](function(a){b.set(a.ga[u](),c);c++});return a.ia()[Ya](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function Dh(a,b){this.th=b;this.F=a.o(Jd)}Dh[t].wi=function(a,b){var c=b[Ga](this.rk,this);if(0==c[D])return null;c=this.uj(c);if(0==c[D])return null;if(1==c[D])return c[0];var d=Number.MAX_VALUE;return c[Ka](function(b,c){var l=c.$h(a);return l<d?(d=l,c):b},null)};Dh[t].uj=function(a){return this.th.za().map(function(b){b=new Eh(this.F,b);b.Ci(a);return b},this)[Ga](function(a){return a.wk()})};Dh[t].rk=function(a){return a instanceof Ke&&a.yg()?a.K.M()==this.th:!1};
function Eh(a,b){this.F=a;this.Db=b;this.tg=new O;this.tg[gb](this.Db.f.map(function(a){return a.ga[u]()}));this.Xe=this.wa=null}I=Eh[t];I.Sj=function(){return null===this.wa?[]:this.wa.i()};I.jg=function(){M(this.wa);null===this.Xe&&(this.Xe=new Ch(this.Db,this.wa));return this.Xe};I.Ci=function(a){a[G](function(a){var c=a.ob()[0][u]();this.tg[rb](c)&&(null===this.wa&&(this.wa=new ig),this.wa.add(c,a.fa()))},this)};
I.wk=function(){if(null===this.wa)return!1;for(var a=!1,b=!0,c=0;c<this.Db.f[D];c++){var d=this.wa.J(this.Db.f[c].ga[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};I.$h=function(a){a=this.jg().Md(a);var b=this.F.get(this.Db.m());return a[Ka](function(a,d){return a+b.Ed(d)},0)};
function Fh(a,b,c,d){U[r](this,0,-1);this.F=a.o(Jd);this.index=b;this.Hg=c;this.mf=d;this.ud=this.td=!1}L(Fh,U);f(Fh[t],function(){return"index_range_scan("+this[lb].m()+", ?, "+(this.mf?"reverse":"natural")+(this.td?", limit:?":"")+(this.ud?", skip:?":"")+")"});Fh[t].qd=function(a){var b=this[E](),c=this.Hg.Md(a),b=b[db]("?",c[E]());this.td&&(b=b[db]("?",a.$[E]()));this.ud&&(b=b[db]("?",a.O[E]()));return b};
Fh[t].ha=function(a,b,c){a=this.Hg.Md(c);b=this.F.get(this[lb].m());c=(1==a[D]&&a[0]instanceof le&&a[0].Bg()?pf(b.get(a[0].c),!1,this.td?c.$:void 0,this.ud?c.O:void 0):b.pb(a,this.mf,this.td?c.$:void 0,this.ud?c.O:void 0)).map(function(a){return new gd(a,{})},this);return[ve(c,[this[lb].tf])]};
function Gh(a){U[r](this,1,1);this.ce=a}L(Gh,U);f(Gh[t],Jb("select(?)"));Gh[t].qd=function(a){a=a.Pd(this.ce);return this[E]()[db]("?",a[E]())};Gh[t].ha=function(a,b,c){return[c.Pd(this.ce).eval(b[0])]};
function Hh(a,b){U[r](this,1,1);this.va=a.o(Id);this.S=b}L(Hh,U);f(Hh[t],function(){return"table_access_by_row_id("+this.S[u]()+")"});Hh[t].ha=function(a,b){return[ve(this.va.get(b[0].Xj()),[this.S.qa()])]};
function Ih(a){this.l=a}L(Ih,Og);Ih[t].Gb=function(a,b){this.ca=a;Vf(a,function(a){return a instanceof xh})[G](function(a){var d=this.oj(a);if(0!=d[D]){var g=(new Dh(this.l,a[h])).wi(b,d.map(function(a){return b.Pd(a.ce)}));if(null!==g){var k=new zd;d[G](function(a){k.set(a.ce,a)},this);this.ca=this.fl(g,k,a,b)}}},this);return this.ca};Ih[t].oj=function(a){var b=[];for(a=a[Ab]();a;)a instanceof Gh&&b[z](a),a=a[Ab]();return b};
Ih[t].fl=function(a,b,c){a.Sj().map(function(a){return b.get(a)})[G](Wf);a=new Fh(this.l,a.Db,a.jg(),!1);var d=new Hh(this.l,c[h]);d.oa(a);$f(c,c,d,a);return a.qb()};
function Jh(a,b){U[r](this,0,-1);this.F=a.o(Jd);this.S=b}L(Jh,U);f(Jh[t],function(){return"insert("+this.S[u]()+")"});Jh[t].ha=function(a,b,c){Kh(this.S,c[cb],this.F);a.Eb(this.S,c[cb]);return[ve(c[cb],[this.S[u]()])]};function Kh(a,b,c){a=a.Kb().Qd();if(null===a?0:a.f[0][nb]){var d=a.f[0].ga[u]();c=c.get(a.m()).max();var g=null===c?0:c[0];b[G](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function Lh(a,b){U[r](this,0,-1);this.F=a.o(Jd);this.S=b}L(Lh,U);
f(Lh[t],function(){return"insert_replace("+this.S[u]()+")"});Lh[t].ha=function(a,b,c){Kh(this.S,c[cb],this.F);a.Re(this.S,c[cb]);return[ve(c[cb],[this.S[u]()])]};
function Mh(a,b){U[r](this,2,0);this.$g=a;this.Dg=b}L(Mh,U);f(Mh[t],function(){return(this.Dg?"left_outer_join":"join")+"("+this.$g[E]()+")"});Mh[t].ha=function(a,b){return[this.$g.Ui(b[0],b[1],this.Dg)]};
function Nh(){U[r](this,1,1)}L(Nh,U);f(Nh[t],Jb("limit(?)"));Nh[t].qd=function(a){return this[E]()[db]("?",a.$[E]())};Nh[t].ha=function(a,b,c){b[0][C][B](c.$);return b};
function Oh(a){U[r](this,-1,1);this.N=a}L(Oh,U);I=Oh[t];f(I,function(){return"order_by("+Oe(this.N)+")"});I.ha=function(a,b){if(1==b[D]){var c=this.kj(b[0]);(null===c?b[0]:b[0].xc(c))[C][Ya](this.Ri[F](this))}else b[Ya](this.bl[F](this));return b};I.kj=function(a){for(var b=null,c=0;c<this.N[D];c++){var d=pg(this.N[c].K);if(a.rg(d)){b=d;break}}return b};
I.W=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.N[k].K,c=this.N[k].tb,d=a(g),g=b(g);while(d==g&&k+1<this.N[D]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};I.bl=function(a,b){return this.W(function(b){return b instanceof T?a.xc(b):a[C][a[C][D]-1].U(b)},function(a){return a instanceof T?b.xc(a):b[C][b[C][D]-1].U(a)})};I.Ri=function(a,b){return this.W(function(b){return a.U(b)},function(a){return b.U(a)})};
function Ph(a,b){this.Ja=a;this.H=b}Ph[t].og=function(){return this.H[$a](function(a){return a instanceof T},this)?this.gk():this.hk()};
Ph[t].gk=function(){if(1==this.H[D]&&"DISTINCT"==this.H[0].Sb){var a=this.Ja.xc(this.H[0])[C].map(function(a){var b=new we(new gd(-1,{}),this.Ja.Ue());b.pf(this.H[0],a.U(this.H[0][ib]));return b},this);return new pe(a,[])}var b=new we(new gd(-1,{}),this.Ja.Ue());this.H[G](function(a){var d=a instanceof T?this.Ja.xc(a):this.Ja[C][0].U(a);b.pf(a,d)},this);return new pe([b],this.Ja.X())};
Ph[t].hk=function(){var a=e(this.Ja[C][D]),b=this.Ja.Ue();this.Ja[C][G](function(c,d){a[d]=new we(new gd(c.xa.id(),{}),b);this.H[G](function(b){a[d].pf(b,c.U(b))},this)},this);return new pe(a,this.Ja.X())};function Qh(a,b){var c=a.map(function(a){return(new Ph(a,b)).og()[C][0]});return new pe(c,a[0].X())};
function Rh(a,b){U[r](this,-1,1);this.f=a;this.Xb=b}L(Rh,U);I=Rh[t];f(I,function(){var a="project("+this.f[E]();if(null!==this.Xb)var b=this.Xb.map(function(a){return a.m()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});I.ha=function(a,b){return 0==b[D]?[se()]:1==b[D]?[this.bj(b[0])]:[this.$i(b)]};I.ik=function(){return this.f[$a](function(a){return a instanceof T})||null!==this.Xb};I.$i=function(a){return Qh(a,this.f)};I.bj=function(a){return 0==this.f[D]?a:(new Ph(a,this.f)).og()};
function Sh(){U[r](this,1,1)}L(Sh,U);f(Sh[t],Jb("skip(?)"));Sh[t].qd=function(a){return this[E]()[db]("?",a.O[E]())};Sh[t].ha=function(a,b,c){return[new pe(b[0][C][n](c.O),b[0].X())]};
function Th(){}L(Th,Og);Th[t].Gb=function(a){var b=Vf(a,function(a){return a instanceof Nh||a instanceof Sh});if(0==b[D])return a;var c=this.nj(a);if(null===c)return a;b[G](function(a){this.Fk(a,c)},this);return c.qb()};Th[t].Fk=function(a,b){a instanceof Nh?b.td=!0:b.ud=!0;return Wf(a).parent};Th[t].nj=function(a){a=Vf(a,function(a){return a instanceof Fh},function(a){return a instanceof Rh&&a.ik()||a instanceof Oh||1!=a.ya()||a instanceof Gh});return 0<a[D]?a[0]:null};
function Uh(a){this.l=a}L(Uh,Og);Uh[t].Gb=function(a){var b=Vh(a);if(null===b)return a;a=this.Ph(b);a==b&&(a=this.Oh(b));return a.qb()};Uh[t].Ph=function(a){var b=a,c=Wh(a.Ab(0));if(null!==c){var d;d=a.N;for(var g=null,k=c[h].za(),l=0;l<k[D]&&null===g;l++)g=Xh(k[l],d);d=g;if(null===d)return b;b=new Fh(this.l,d.Db,new Bh(d.Db),d.Eg);d=new Hh(this.l,c[h]);d.oa(b);Wf(a);b=$f(c,c,d,b)}return b};
Uh[t].Oh=function(a){var b=a,c=Yh(a.Ab(0));if(null!==c){var d=Xh(c[lb],a.N);if(null===d)return b;c.mf=d.Eg;b=Wf(a).parent}return b};function Yh(a){a=Vf(a,function(a){return a instanceof Fh},function(a){return 1!=a.ya()});return 0<a[D]?a[0]:null}function Wh(a){a=Vf(a,function(a){return a instanceof xh},function(a){return 1!=a.ya()});return 0<a[D]?a[0]:null}function Vh(a){a=Vf(a,function(a){return a instanceof Oh});return 0<a[D]?a[0]:null}
function Xh(a,b){if(a.f[D]!=b[D]||!b[Ta](function(b,c){return b.K[u]()==a.f[c].ga[u]()}))return null;var c=Zh(b,a);return c[0]||c[1]?{Db:a,Eg:c[1]}:null}function Zh(a,b){var c=a[Ka](function(a,b){return a<<1|(0==b.tb?0:1)},0),d=b.f[Ka](function(a,b){return a<<1|(0==b.tb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[D],b.f[D]))-1;return[c,d]};
function $h(a,b,c){this.Fa=a;this.hf=b;this.hc=c}$h[t].wc=function(){this.hc[G](function(a){this.Fa=a.Gb(this.Fa,this.hf)},this);return this.Fa};
function ai(a,b){U[r](this,1,1);this.S=a;this.Dl=b}L(ai,U);f(ai[t],function(){return"update("+this.S[u]()+")"});ai[t].ha=function(a,b){var c=b[0][C].map(function(a){var b=this.S.tc(a.xa.Ka());this.Dl[G](function(a){b.w()[a.K[u]()]=a[v]},this);return b},this);a[Ua](this.S,c);return[se()]};
function bi(a){this.l=a;this.of=[new Ih(this.l),new Uh(this.l),new Th,new yh(this.l)];this.De=[new Ih(this.l)]}bi[t].create=function(a,b){var c=a.qb();if(c instanceof Bg||c instanceof Ag)return this.Ce(a,b);if(c instanceof Hg||c instanceof Lg||c instanceof Mg)return this.Ce(a,b,this.of);if(c instanceof Cg||c instanceof Dg)return this.Ce(a,b,this.De);throw new P(8);};bi[t].Ce=function(a,b,c){var d=Tf(a.qb(),K(this.Bk,this));null!=c&&(d=(new $h(d,b,c)).wc());return new Pe(d,a.ja())};
bi[t].Bk=function(a){if(a instanceof Hg)return new Rh(a.f,a.Xb);if(a instanceof Kg)return new zh(a.f);if(a instanceof Jg)return new qg(a.f);if(a instanceof Ig)return new Oh(a.N);if(a instanceof Mg)return new Sh;if(a instanceof Lg)return new Nh;if(a instanceof Eg)return new Gh(a.Da.fa());if(a instanceof Gg)return new Rg;if(a instanceof Ng)return new Mh(a.Da,a.Cg);if(a instanceof Fg)return new xh(this.l,a[h]);if(a instanceof Cg)return new vh(a[h]);if(a instanceof Dg)return new ai(a[h],a.yf);if(a instanceof
Bg)return new Lh(this.l,a[h]);if(a instanceof Ag)return new Jh(this.l,a[h]);throw new P(514);};

function ci(a){this.zk=new uh;this.Qk=new bi(a)}ci[t].Rj=function(a){var b=this.zk[jb](a);return this.Qk[jb](b,a)};
function di(){this.Ng=new zd}I=di[t];I.Ld=function(a){var b=this.Ng.get(a[u](),null);null===b&&(b=new ei,this.Ng.set(a[u](),b));return b};I.dk=function(a,b,c){b[G](function(b){this.Ld(b).ck(a,c)},this)};I.di=function(a,b,c){return b[Ta](function(b){return this.Ld(b).ci(a,c)},this)};I.eh=function(a,b,c){var d=this.di(a,b,c);d&&this.dk(a,b,c);return d};I.releaseLock=function(a,b){b[G](function(b){this.Ld(b).releaseLock(a)},this)};I.xi=function(a){a[G](function(a){this.Ld(a).ib=null},this)};
function ei(){this.kc=this.Xa=this.ib=this.Sc=null}ei[t].releaseLock=function(a){this.Sc==a&&(this.Sc=null);this.ib==a&&(this.ib=null);null===this.Xa||this.Xa[x](a);null===this.kc||this.kc[x](a)};ei[t].ci=function(a,b){var c=null===this.Xa||this.Xa.fb();return 0==b?(null===this.kc||this.kc.fb())&&c&&null===this.Sc&&null!==this.ib&&this.ib==a:3==b?null===this.Sc&&null===this.ib&&null!==this.Xa&&this.Xa[rb](a):1==b?null===this.ib:c&&(null===this.ib||this.ib==a)};
ei[t].ck=function(a,b){0==b?(this.ib=null,this.Sc=a):3==b?(null===this.kc&&(this.kc=new O),this.kc.add(a),null===this.Xa&&(this.Xa=new O),this.Xa[x](a)):1==b?(null===this.Xa&&(this.Xa=new O),this.Xa.add(a)):2==b&&(this.ib=a)};
function fi(){this.fc=new gi;this.fd=new di}I=fi[t];I.ic=function(a){(2>a[Cb]()||2>a[Cb]())&&this.fd.xi(a.ja().i());this.fc.Eb(a);this.Be();return a.$c().na};I.Be=function(){for(var a=this.fc.i(),b=0;b<a[D];b++){var c=a[b],d=!1;if(d=0==c.Y()?this.fh(c,1,3):this.fh(c,2,0))this.fc[x](c),this.cj(c)}};I.fh=function(a,b,c){var d=!1,g=a.ja().i();this.fd.eh(a.fa(),g,b)&&(d=this.fd.eh(a.fa(),g,c));return d};I.cj=function(a){a[Pa]()[A](K(this.Mk,this,a),K(this.Lk,this,a))};
I.Mk=function(a,b){this.fd.releaseLock(a.fa(),a.ja().i());a.$c()[Eb](b);this.Be()};I.Lk=function(a,b){this.fd.releaseLock(a.fa(),a.ja().i());a.$c()[La](b);this.Be()};function gi(){this.fc=[]}gi[t].Eb=function(a){vc(this.fc,a,function(a,c){var d=a[Cb]()-c[Cb]();return 0==d?a.fa()-c.fa():d})};gi[t].i=function(){return this.fc[n]()};va(gi[t],function(a){var b=this.fc;a=hc(b,a);var c;(c=0<=a)&&nc(b,a);return c});

function hi(a,b){this.Ti=Ae.Je();this.jf=a;this.Zd=b;this.H=this.Mi()}hi[t].Mi=function(){if(0<this.jf.f[D])return this.jf.f;var a=[];this.jf.c[G](function(b){b.ob()[G](function(b){a[z](b)})});return a};hi[t].W=function(a,b){return this.H[Ta](function(c){return this.Ti.He(c.Y(),"eq")(a.U(c),b.U(c))},this)};
hi[t].Nh=function(a,b){for(var c=null===a?[]:a[C],d=pd(c,b[C],K(this.W,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[D];l++){var p=c[l];d[k]==p?k++:(p=this.Zd[B](k,1),p=ii(l,p,0,this.Zd),g[z](p))}d=pd(c,b[C],K(this.W,this),function(a,c){return b[C][c]});for(l=k=0;l<b[C][D];l++)p=b[C][l],d[k]==p?k++:(this.Zd[B](l,0,p.xa.w()),p=ii(l,[],1,this.Zd),g[z](p));return g};function ii(a,b,c,d){return{El:c,index:a,object:d,Gl:b,type:"splice"}};
function ji(){this.vc=new zd}I=ji[t];I.Me=function(a){return Ub(a)[E]()};I.ne=function(a,b){var c=this.Me(a.Od()),d=this.vc.get(c,null);null===d&&(d=new ki(a),this.vc.set(c,d));d.ne(b)};I.lf=function(a,b){var c=this.Me(a.Od()),d=this.vc.get(c,null);M(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.lf(b);M(g,"removeObserver: Inconsistent state detected.");d.kk()||this.vc[x](c)};
I.Oe=function(a){var b=new O;a[G](function(a){b.add(a[u]())});var c=[];this.vc.i()[G](function(a){a=a.bd();a[mb].c[$a](function(a){return b[rb](a[u]())})&&c[z](a)});return c};I.zh=function(a,b){var c=this.Me(null!=a.Lc?a.Lc:a),c=this.vc.get(c,null);return null!==c?(c.Cl(b),!0):!1};function ki(a){this.Yh=a;this.kd=new O;this.Jk=[];this.Kg=null;this.Pi=new hi(a.Od(),this.Jk)}I=ki[t];I.ne=function(a){this.kd[rb](a)?dc("Attempted to register observer twice."):this.kd.add(a)};I.lf=function(a){return this.kd[x](a)};
I.bd=function(){return this.Yh.Nj()};I.kk=function(){return 0<this.kd.Ga()};I.Cl=function(a){var b=this.Pi.Nh(this.Kg,a);this.Kg=a;0<b[D]&&this.kd.i()[G](function(a){a(b)})};
function li(a,b){var c=a.o(Nd),d=b||{},g=new of;a.ub(Id,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new ff(c);break;case 5:g=new gf(c);break;case 4:g=new nf(a,c,d.webSqlDbSize);break;case 3:g=new $e(c,d.firebase);k=!0;break;default:g=new df(a,c)}a.ub(Hd,g);var l=new Pf;a.ub(Jd,l);return g.Ha(d.onUpgrade)[A](function(){var b=new ci(a);a.ub(Kd,b);b=new fi;a.ub(Ld,b);b=new ji;a.ub(Md,b);return l.Ha(c)})[A](function(){k&&(new Ue(a)).ql();return(new Of(a)).Ha(c)})};

function mi(a,b){this.l=a;this.Ib=a.o(Hd);this.Za=a.o(Ld);this.Mb=a.o(Md);this.ta=new O(b);this.Wa=new ke(this.l,this.ta.i());this.gc=ad();this.Tc=ad();this.Af=ad()}I=mi[t];ma(I,function(){this.Af[Eb]();return this.Tc.na});I.Y=Jb(1);I.ja=H("ta");I.$c=H("gc");I.fa=function(){return Ub(this)};Ea(I,Jb(2));I.Dh=function(){this.Za.ic(this);return this.Af.na};
I.Vh=function(a){a=a.bd();return a.ff.qb()[Pa](this.Wa,a[mb])[A](function(a){return a[0].Ke()},K(function(a){this.Wa.Ob();var c=new Sc(a[q]);this.Tc[La](c);throw a;},this))};I.pa=function(){this.Ib.Vb(this.Y(),this.Wa).pa()[A](K(function(){this.nd();this.Tc[Eb]()},this),K(function(a){this.Wa.Ob();this.Tc[La](a)},this));return this.gc.na};I.Ob=function(){this.Wa.Ob();this.Tc[Eb]();return this.gc.na};I.nd=function(){var a=this.Mb.Oe(this.ta.i());0!=a[D]&&(a=new Se(this.l,a),this.Za.ic(a))};
function ni(a){this.l=a;this.Za=a.o(Ld);this.rd=null;this.La=0}J("lf.proc.Transaction",ni,void 0);var oi=new zd(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));ni[t].Ra=function(a){var b=oi.get(this.La,null);if(null===b||!b[rb](a))throw new P(107,this.La,a);this.La=a};
ma(ni[t],function(a){this.Ra(4);var b=[];try{a[G](function(a){a.mb();b[z](a.bd())},this)}catch(c){return this.Ra(7),Xc(c)}a=new Sg(this.l,b);return this.Za.ic(a)[A](K(function(a){this.Ra(7);return a.map(function(a){return a.Ke()})},this),K(function(a){this.Ra(7);throw a;},this))});ma(ni[t],ni[t][Pa]);ni[t].Wh=function(a){this.Ra(1);this.rd=new mi(this.l,a);return this.rd.Dh()[A](K(function(){this.Ra(2)},this))};ni[t].begin=ni[t].Wh;
ni[t].Uh=function(a){this.Ra(3);return this.rd.Vh(a)[A](K(function(a){this.Ra(2);return a},this),K(function(a){this.Ra(7);throw a;},this))};ni[t].attach=ni[t].Uh;ni[t].pa=function(){this.Ra(5);return this.rd.pa()[A](K(function(){this.Ra(7)},this))};ni[t].commit=ni[t].pa;ni[t].Ob=function(){this.Ra(6);return this.rd.Ob()[A](K(function(){this.Ra(7)},this))};ni[t].rollback=ni[t].Ob;
function X(a){this.l=a;this.s=a.o(Nd);this.Qe=!1}J("lf.proc.Database",X,void 0);X[t].Ha=function(a){this.l.ub(Nd,this.s);return li(this.l,a)[A](K(function(){this.Qe=!0;return this},this))};X[t].init=X[t].Ha;X[t].Cb=H("s");X[t].getSchema=X[t].Cb;X[t].rc=function(){if(!this.Qe)throw new P(2);};X[t].select=function(a){this.rc();return new W(this.l,1!=arguments[D]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].Eb=function(){this.rc();return new hh(this.l)};X[t].insert=X[t].Eb;
X[t].Re=function(){this.rc();return new hh(this.l,!0)};X[t].insertOrReplace=X[t].Re;qa(X[t],function(a){this.rc();return new lh(this.l,a)});qa(X[t],X[t][Ua]);ra(X[t],function(){this.rc();return new gh(this.l)});X[t]["delete"]=X[t][Xa];X[t].observe=function(a,b){this.l.o(Md).ne(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.l.o(Md).lf(a,b)};X[t].unobserve=X[t].unobserve;X[t].Ki=function(){this.rc();return new ni(this.l)};X[t].createTransaction=X[t].Ki;
oa(X[t],function(){try{this.l.o(Hd)[Qa]()}catch(a){}this.l[w]();this.Qe=!1});oa(X[t],X[t][Qa]);
function Y(a,b,c,d,g,k){this.S=a;this.A=b;this.Gg=c;this.Ag=d;this.yh=g;this.lb=k||null}J("lf.schema.BaseColumn",Y,void 0);I=Y[t];na(I,H("A"));I.m=function(){return this.S.qa()+"."+this.A};f(I,function(){return this.m()});I.M=H("S");I.Y=H("yh");Y[t].getType=Y[t].Y;Y[t].cb=H("lb");Y[t].za=function(){null==this.la&&(this.la=[],this.M().za()[G](function(a){-1!=a.f.map(function(a){return a.ga[u]()})[Za](this.A)&&this.la[z](a)},this));return this.la};Y[t].Zb=H("Ag");Y[t].isNullable=Y[t].Zb;Y[t].ed=H("Gg");
Y[t].Va=function(a){return kg(this,a,"eq")};Y[t].eq=Y[t].Va;Y[t].Og=function(a){return kg(this,a,"neq")};Y[t].neq=Y[t].Og;Y[t].Ye=function(a){return kg(this,a,"lt")};Y[t].lt=Y[t].Ye;Y[t].Ak=function(a){return kg(this,a,"lte")};Y[t].lte=Y[t].Ak;Y[t].ek=function(a){return kg(this,a,"gt")};Y[t].gt=Y[t].ek;Y[t].fk=function(a){return kg(this,a,"gte")};Y[t].gte=Y[t].fk;Y[t].match=function(a){return kg(this,a,"match")};Y[t].match=Y[t].match;Y[t].Xh=function(a,b){return kg(this,[a,b],"between")};
Y[t].between=Y[t].Xh;Y[t].lk=function(a){return kg(this,a,"in")};Y[t]["in"]=Y[t].lk;Y[t].uk=function(){return this.Va(null)};Y[t].isNull=Y[t].uk;Y[t].tk=function(){return this.Og(null)};Y[t].isNotNull=Y[t].tk;Y[t].Hc=function(a){return new Y(this.S,this.A,this.Gg,this.Ag,this.yh,a)};Y[t].as=Y[t].Hc;
function pi(){this.ie=new zd}var qi;ta(pi[t],function(){this.ie[w]()});ta(pi[t],pi[t][w]);pi[t].ub=function(a,b){this.ie.set(a[E](),b);return b};pi[t].registerService=pi[t].ub;pi[t].o=function(a){var b=this.ie.get(a[E](),null);if(null==b)throw new P(7,a[E]());return b};pi[t].getService=pi[t].o;pi[t].We=function(a){return this.ie.J(a[E]())};pi[t].isRegistered=pi[t].We;
function ri(a){this.s=a;this.kf=new Dd;this.Vg=new Dd;this.Tf=new Dd;this.h=new Dd;this.ye=new Dd;this.pk()}I=ri[t];I.pk=function(){this.s.ab()[G](function(a){var b=new Td;a.Kb().Ie()[G](function(c){var d=this.kf.get(c.gb)||[];d[z](c);this.kf.set(c.gb,d);b.add(this.s[h](c.gb));(d=this.h.get(c.gb))||(d=new Td);d.add(a);this.h.set(c.gb,d);this.Tf.set(a[u]()+"."+c.Tb,c.gb);c=c.gb+"."+c.Bc;d=this.ye.get(c)||[];d[z](a[u]());this.ye.set(c,d)},this);0!=b[Gb]&&this.Vg.set(a[u](),b)},this)};
I.Uj=function(a){return this.kf.get(a)||null};I.bg=function(a,b){var c=b.get(a);return c?Ud(c):[]};I.Pj=function(a){return this.bg(a,this.Vg)};I.Qj=function(a){var b=new Td;a[G](function(a){(a=this.Tf.get(a))&&b.add(a)},this);return Ud(b).map(function(a){return this.s[h](a)},this)};I.eg=function(a){return this.bg(a,this.h)};I.Fj=function(a){var b=new Td;a[G](function(a){(a=this.ye.get(a))&&a[G](function(a){b.add(a)})},this);return Ud(b).map(function(a){return this.s[h](a)},this)};
function si(a,b,c){this.Tk=a;this.Hk=b;this.pj=c}J("lf.schema.Constraint",si,void 0);si[t].Qd=H("Tk");si[t].getPrimaryKey=si[t].Qd;si[t].Mj=H("Hk");si[t].Ie=H("pj");si[t].getForeignKeys=si[t].Ie;
function ti(a,b){var c=a.ref[Ja](".");if(2!=c[D])throw new P(540,b);this.Tb=a.local;this.gb=c[0];this.Bc=c[1];ja(this,b);this.action=a.action;this.timing=a[Ma]};
function Z(a){this.sc(a);this.A=a;this.H=new Dd;this.wf=new Td;this.sd=new Td;this.jd=new Td;this.Ca=null;this.la=new Dd;this.be=!1;this.Id=[]}J("lf.schema.TableBuilder",Z,void 0);function ui(a){ja(this,a[q]);this.tb=a.order;this.autoIncrement=a[nb]}var vi=new Td([0,6]);I=Z[t];I.sc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);};I.Jc=function(a){if(a==this.A)throw new P(546,a);if(this.H.has(a)||this.la.has(a)||this.sd.has(a))throw new P(503,this.A+"."+a);};
I.ri=function(a){var b=!1;a[G](function(a){var d=this.H.get(a[q]);b=b||a[nb];if(a[nb]&&3!=d)throw new P(504);},this);if(b&&1<a[D])throw new P(505);};I.oi=function(){if(null!==this.Ca){var a=this.la.get(this.Ca).map(function(a){return a[q]}),b=0;if(this.Id[$a](function(c,d){b=d;return-1!=a[Za](c.Tb)},this))throw new P(543,this.Id[b][q]);}};
I.ni=function(){if(null!==this.Ca){var a=function(a){return a[q]},b=ga[xb](this.la.get(this.Ca).map(a));this.la[G](function(c,d){if(d!=this.Ca){var g=c.map(a);if(ga[xb](g)==b)throw new P(544,this.A+"."+d);}},this)}};I.pi=function(){null===this.Ca||this.la.get(this.Ca)[G](function(a){if(this.jd.has(a[q]))throw new P(545,this.A+"."+a[q]);},this)};I.Fh=function(a,b){this.sc(a);this.Jc(a);this.H.set(a,b);vi.has(b)&&this.Ef([a]);return this};Z[t].addColumn=Z[t].Fh;
Z[t].Hh=function(a,b){var c=this.A;this.Ca="pk"+(c[0].toUpperCase()+c.substring(1));this.sc(this.Ca);this.Jc(this.Ca);c=this.Yd(a,!0,void 0,b);this.ri(c);1==c[D]&&this.wf.add(c[0][q]);this.sd.add(this.Ca);this.la.set(this.Ca,c);return this};Z[t].addPrimaryKey=Z[t].Hh;
Z[t].Gh=function(a,b){this.sc(a);this.Jc(a);var c=new ti(b,this.A+"."+a);Lb(c.action)||(c.action=0);Lb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new P(506);if(!this.H.has(c.Tb))throw new P(540,a);this.Id[z](c);this.Df(a,[c.Tb],!1);return this};Z[t].addForeignKey=Z[t].Gh;Z[t].Ih=function(a,b){this.sc(a);this.Jc(a);var c=this.Yd(b,!0);this.Pf(a,c);1==c[D]&&this.wf.add(c[0][q]);this.la.set(a,c);this.sd.add(a);return this};Z[t].addUnique=Z[t].Ih;
Z[t].Ef=function(a){a=this.Yd(a,!1);this.mi(a);a[G](function(a){this.jd.add(a[q])},this);return this};Z[t].addNullable=Z[t].Ef;Z[t].mi=function(a){Ed(this.la)[G](function(b){var c=new Td;this.la.get(b)[G](function(a){c.add(a[q])});var d=a[Ga](function(a){return c.has(a[q])});if(1<c[Gb]&&0<d[D])throw new P(507,b,d[m](","));},this)};Z[t].Df=function(a,b,c,d){this.sc(a);this.Jc(a);b=this.Yd(b,!0,d);this.Pf(a,b);c&&this.sd.add(a);this.la.set(a,b);return this};Z[t].addIndex=Z[t].Df;
Z[t].Pf=function(a,b){if(1<b[D]){var c=b[Ga](function(a){return this.jd.has(a[q])},this);if(0<c[D])throw new P(507,a,c[m](","));}};Z[t].Nb=Ib("be");Z[t].persistentIndex=Z[t].Nb;Z[t].Cb=function(){this.oi();this.ni();this.pi();return new (this.Dj())};Z[t].getSchema=Z[t].Cb;Z[t].Yc=H("Id");
Z[t].Yd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new ui({name:a,order:null!=c?c:1,autoIncrement:d||!1})}):a.map(function(a){return new ui(a)});g[G](function(a){if(!this.H.has(a[q]))throw new P(508,this.A,a[q]);if(b){var c=this.H.get(a[q]);if(0==c||6==c)throw new P(509,this.A,a[q]);}},this);return g};
Z[t].Dj=function(){function a(){function a(c){return b.la.get(c).map(function(a){return{ga:this[a[q]],tb:a.tb,autoIncrement:a[nb]}},this)}var d=Ed(b.H).map(function(a){this[a]=new Y(this,a,b.wf.has(a),b.jd.has(a),b.H.get(a));return this[a]},this),g=Ed(b.la).map(function(d){return new mg(b.A,d,b.sd.has(d),a[r](this,d))},this);S[r](this,b.A,d,g,b.be);var k=null===b.Ca?null:new mg(b.A,b.Ca,!0,a[r](this,b.Ca)),l=d[Ga](function(a){return!b.jd.has(a[u]())});this.Bi=new si(k,l,b.Yc());this.ih=b.zj(d,g)}
var b=this;L(a,S);a[t].Jb=function(a){return new this.ih(hd++,a)};a[t].createRow=a[t].Jb;a[t].tc=function(a){var b={};this.ob()[G](function(g){var k=g[u]();g=g.Y();var l=a[v][k];if(0==g)if(g=l,null!=g&&""!=g){0!=g[D]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[D]/2),p=new Uint8Array(l),y=0,xa=0;y<g[D];y+=2)p[xa++]=da(g.substr(y,2),16);g=l}else g=null;else g=2==g?null!=l?new Date(l):null:l;b[k]=g},this);return new this.ih(a.id,b)};a[t].deserializeRow=a[t].tc;a[t].Kb=H("Bi");a[t].getConstraint=a[t].Kb;
return a};
Z[t].zj=function(a,b){function c(c,d){this.H=a;this.la=b;gd[r](this,c,d)}L(c,gd);c[t].Yf=function(){var a={};this.H[G](function(b){a[b[u]()]=b.Zb()?null:ge[b.Y()]});return a};c[t].vh=function(){var a={};this.H[G](function(b){var c=b[u]();b=b.Y();var d=this.w()[c];a[c]=0==b?null!=d?kd(d):null:2==b?null!=d?d[Db]():null:6==b?null!=d?d:null:d},this);return a};var d=K(function(a){var b=this.H.get(a[u]());return 2==b?function(b){b=b[a[u]()];return a.Zb()&&null===b?null:b[Db]()}:1==b?function(b){return a.Zb()?(b=
b[a[u]()],null===b?null:b?1:0):b[a[u]()]?1:0}:function(b){return b[a[u]()]}},this),g=K(function(a){var b=a.map(function(a){return d(a.ga)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[G](function(a){var b=a.m();a=1==a.f[D]?d(a.f[0].ga):g(a.f);k[b]=a});c[t].$b=function(a){return-1!=a[Za]("#")?this.id():k[qb](a)?k[a](this.w()):null};return c};
function wi(a,b){this.s=new xi(a,b);this.xb=new Dd;this.Uc=!1}J("lf.schema.Builder",wi,void 0);I=wi[t];I.ki=function(a){a.Yc()[G](function(b){var c=b.gb;if(!this.xb.has(c))throw new P(536,b[q]);var c=this.xb.get(c).Cb(),d=b.Bc;if(!c[qb](d))throw new P(537,b[q]);if(a.Cb()[b.Tb].Y()!=c[d].Y())throw new P(538,b[q]);if(!c[d].ed())throw new P(539,b[q]);},this)};I.ji=function(a){a.Yc()[G](function(a){this.xb.get(a.gb).Yc()[G](function(c){if(c.Tb==a.Bc)throw new P(534,a[q]);},this)},this)};
I.jj=function(){this.Uc||(this.xb[G](function(a){this.ki(a);this.s.kl(a.Cb())},this),Fd(this.xb)[G](this.ji,this),this.ii(),this.xb[w](),this.Uc=!0)};I.Nf=function(a,b){a.zf||(a.zf=!0,a.bf=!0,a.ag[G](function(c){c=b.get(c);if(!c.zf)this.Nf(c,b);else if(c.bf&&a!=c)throw new P(533);},this));a.bf=!1};I.ii=function(){var a=new Dd;this.s.I[G](function(b,c){a.set(c,new yi(c))},this);this.xb[G](function(b,c){b.Yc()[G](function(b){a.get(b.gb).ag.add(c)})});Fd(a)[G](function(b){this.Nf(b,a)},this)};
function yi(a){this.bf=this.zf=!1;this.ag=new Td;this.tf=a}I.Cb=function(){this.Uc||this.jj();return this.s};wi[t].getSchema=wi[t].Cb;wi[t].ig=function(){var a=new Gd("ns_"+this.s[q]()),b;qi||(qi=new pi);b=qi;var c=null;b.We(a)?c=b.o(a):(c=new pi,b.ub(a,c));return c};wi[t].getGlobal=wi[t].ig;wi[t].connect=function(a){var b=this.ig();b.We(Nd)||b.ub(Nd,this.Cb());return(new X(b)).Ha(a)};wi[t].connect=wi[t].connect;
wi[t].Ii=function(a){if(this.xb.has(a))throw new P(503,a);if(this.Uc)throw new P(535);this.xb.set(a,new Z(a));return this.xb.get(a)};wi[t].createTable=wi[t].Ii;wi[t].rf=function(a){if(this.Uc)throw new P(535);this.s.rf(a);return this};wi[t].setPragma=wi[t].rf;function xi(a,b){this.A=a;this.Ta=b;this.I=new Dd;this.Zg={Qi:!1}}J("lf.schema.DatabaseSchema",xi,void 0);ja(xi[t],H("A"));ja(xi[t],xi[t][q]);xi[t].version=H("Ta");xi[t].version=xi[t][tb];xi[t].ab=function(){return Fd(this.I)};xi[t].tables=xi[t].ab;
ia(xi[t],function(a){if(!this.I.has(a))throw new P(101,a);return this.I.get(a)});ia(xi[t],xi[t][h]);xi[t].info=function(){this.ug||(this.ug=new ri(this));return this.ug};xi[t].kl=function(a){this.I.set(a[u](),a)};xi[t].Yg=H("Zg");xi[t].pragma=xi[t].Yg;xi[t].rf=Ib("Zg");J("lf.schema.create",function(a,b){return new wi(a,b)},void 0);}.bind(window))()
